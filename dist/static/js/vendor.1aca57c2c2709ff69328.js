webpackJsonp([0],{"++9R":function(e,t,i){"use strict";function n(e){this.id=e,this.vertexFormat=void 0,this.center=void 0,this.semiMajorAxis=void 0,this.semiMinorAxis=void 0,this.rotation=void 0,this.height=void 0,this.extrudedHeight=void 0,this.granularity=void 0,this.stRotation=void 0,this.numberOfVerticalLines=void 0,this.offsetAttribute=void 0}function a(e,t){C.a.call(this,{entity:e,scene:t,geometryOptions:new n(e),geometryPropertyName:"ellipse",observedPropertyNames:["availability","position","ellipse"]}),this._onEntityPropertyChanged(e,"ellipse",e.ellipse,void 0)}function r(e,t,i){T.a.call(this,e,t,i)}var o=i("DPkk"),s=i("Jj+J"),c=i("5F4X"),l=i("6F0S"),u=i("devy"),h=i("xC6Q"),d=i("PzDm"),f=i("2kyc"),p=i("pH/u"),m=i("I+Ny"),g=i("izcu"),_=i("DsDe"),v=i("wpHJ"),b=i("Wq1U"),y=i("zSqc"),O=i("JIo7"),w=i("xEUC"),x=i("BOJj"),E=i("I5FW"),T=i("5s/y"),A=i("rVBE"),C=i("ekBq"),S=i("uhjI"),j=new l.a,P=s.a.ZERO,D=new s.a,I=new b.a;Object(h.a)(Object.create)&&(a.prototype=Object.create(C.a.prototype),a.prototype.constructor=a),a.prototype.createFillGeometryInstance=function(e){if(c.a.defined("time",e),!this._fillEnabled)throw new d.a("This instance does not represent a filled geometry.");var t=this._entity,i=t.isAvailable(e),n={show:new y.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._fillProperty.getValue(e)),distanceDisplayCondition:f.a.fromDistanceDisplayCondition(this._distanceDisplayConditionProperty.getValue(e)),offset:void 0,color:void 0};if(this._materialProperty instanceof E.a){var a;Object(h.a)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(a=this._materialProperty.color.getValue(e,j)),Object(h.a)(a)||(a=l.a.WHITE),n.color=u.a.fromColor(a)}return Object(h.a)(this._options.offsetAttribute)&&(n.offset=v.a.fromCartesian3(S.a.getValueOrDefault(this._terrainOffsetProperty,e,P,D))),new g.a({id:t,geometry:new p.a(this._options),attributes:n})},a.prototype.createOutlineGeometryInstance=function(e){if(c.a.defined("time",e),!this._outlineEnabled)throw new d.a("This instance does not represent an outlined geometry.");var t=this._entity,i=t.isAvailable(e),n=S.a.getValueOrDefault(this._outlineColorProperty,e,l.a.BLACK,j),a=this._distanceDisplayConditionProperty.getValue(e),r={show:new y.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._showOutlineProperty.getValue(e)),color:u.a.fromColor(n),distanceDisplayCondition:f.a.fromDistanceDisplayCondition(a),offset:void 0};return Object(h.a)(this._options.offsetAttribute)&&(r.offset=v.a.fromCartesian3(S.a.getValueOrDefault(this._terrainOffsetProperty,e,P,D))),new g.a({id:t,geometry:new m.a(this._options),attributes:r})},a.prototype._computeCenter=function(e,t){return S.a.getValueOrUndefined(this._entity.position,e,t)},a.prototype._isHidden=function(e,t){var i=e.position;return!Object(h.a)(i)||!Object(h.a)(t.semiMajorAxis)||!Object(h.a)(t.semiMinorAxis)||A.a.prototype._isHidden.call(this,e,t)},a.prototype._isDynamic=function(e,t){return!e.position.isConstant||!t.semiMajorAxis.isConstant||!t.semiMinorAxis.isConstant||!S.a.isConstant(t.rotation)||!S.a.isConstant(t.height)||!S.a.isConstant(t.extrudedHeight)||!S.a.isConstant(t.granularity)||!S.a.isConstant(t.stRotation)||!S.a.isConstant(t.outlineWidth)||!S.a.isConstant(t.numberOfVerticalLines)||!S.a.isConstant(t.zIndex)||this._onTerrain&&!S.a.isConstant(this._materialProperty)&&!(this._materialProperty instanceof E.a)},a.prototype._setStaticOptions=function(e,t){var i=S.a.getValueOrUndefined(t.height,_.a.MINIMUM_VALUE),n=S.a.getValueOrDefault(t.heightReference,_.a.MINIMUM_VALUE,O.a.NONE),a=S.a.getValueOrUndefined(t.extrudedHeight,_.a.MINIMUM_VALUE),r=S.a.getValueOrDefault(t.extrudedHeightReference,_.a.MINIMUM_VALUE,O.a.NONE);Object(h.a)(a)&&!Object(h.a)(i)&&(i=0);var s=this._options;s.vertexFormat=this._materialProperty instanceof E.a?x.a.VERTEX_FORMAT:w.a.MaterialSupport.TEXTURED.vertexFormat,s.center=e.position.getValue(_.a.MINIMUM_VALUE,s.center),s.semiMajorAxis=t.semiMajorAxis.getValue(_.a.MINIMUM_VALUE,s.semiMajorAxis),s.semiMinorAxis=t.semiMinorAxis.getValue(_.a.MINIMUM_VALUE,s.semiMinorAxis),s.rotation=S.a.getValueOrUndefined(t.rotation,_.a.MINIMUM_VALUE),s.granularity=S.a.getValueOrUndefined(t.granularity,_.a.MINIMUM_VALUE),s.stRotation=S.a.getValueOrUndefined(t.stRotation,_.a.MINIMUM_VALUE),s.numberOfVerticalLines=S.a.getValueOrUndefined(t.numberOfVerticalLines,_.a.MINIMUM_VALUE),s.offsetAttribute=C.a.computeGeometryOffsetAttribute(i,n,a,r),s.height=C.a.getGeometryHeight(i,n),a=C.a.getGeometryExtrudedHeight(a,r),a===C.a.CLAMP_TO_GROUND&&(a=o.a.getMinimumMaximumHeights(p.a.computeRectangle(s,I)).minimumTerrainHeight),s.extrudedHeight=a},a.DynamicGeometryUpdater=r,Object(h.a)(Object.create)&&(r.prototype=Object.create(T.a.prototype),r.prototype.constructor=r),r.prototype._isHidden=function(e,t,i){var n=this._options;return!Object(h.a)(n.center)||!Object(h.a)(n.semiMajorAxis)||!Object(h.a)(n.semiMinorAxis)||T.a.prototype._isHidden.call(this,e,t,i)},r.prototype._setOptions=function(e,t,i){var n=this._options,a=S.a.getValueOrUndefined(t.height,i),r=S.a.getValueOrDefault(t.heightReference,i,O.a.NONE),s=S.a.getValueOrUndefined(t.extrudedHeight,i),c=S.a.getValueOrDefault(t.extrudedHeightReference,i,O.a.NONE);Object(h.a)(s)&&!Object(h.a)(a)&&(a=0),n.center=S.a.getValueOrUndefined(e.position,i,n.center),n.semiMajorAxis=S.a.getValueOrUndefined(t.semiMajorAxis,i),n.semiMinorAxis=S.a.getValueOrUndefined(t.semiMinorAxis,i),n.rotation=S.a.getValueOrUndefined(t.rotation,i),n.granularity=S.a.getValueOrUndefined(t.granularity,i),n.stRotation=S.a.getValueOrUndefined(t.stRotation,i),n.numberOfVerticalLines=S.a.getValueOrUndefined(t.numberOfVerticalLines,i),n.offsetAttribute=C.a.computeGeometryOffsetAttribute(a,r,s,c),n.height=C.a.getGeometryHeight(a,r),s=C.a.getGeometryExtrudedHeight(s,c),s===C.a.CLAMP_TO_GROUND&&(s=o.a.getMinimumMaximumHeights(p.a.computeRectangle(n,I)).minimumTerrainHeight),n.extrudedHeight=s},t.a=a},"+0EW":function(e,t,i){"use strict";function n(e,t,i,n){var a=Object(p.a)(t.vertexBuffer),r=Object(p.a)(t.value),o=t.value?t.value.length:t.componentsPerAttribute;if(!a&&!r)throw new g.a("attribute must have a vertexBuffer or a value.");if(a&&r)throw new g.a("attribute cannot have both a vertexBuffer and a value.  It must have either a vertexBuffer property defining per-vertex data or a value property defining data for all vertices.");if(1!==o&&2!==o&&3!==o&&4!==o){if(r)throw new g.a("attribute.value.length must be in the range [1, 4].");throw new g.a("attribute.componentsPerAttribute must be in the range [1, 4].")}if(Object(p.a)(t.componentDatatype)&&!d.a.validate(t.componentDatatype))throw new g.a("attribute must have a valid componentDatatype or not specify it.");if(Object(p.a)(t.strideInBytes)&&t.strideInBytes>255)throw new g.a("attribute must have a strideInBytes less than or equal to 255 or not specify it.");if(Object(p.a)(t.instanceDivisor)&&t.instanceDivisor>0&&!n.instancedArrays)throw new g.a("instanced arrays is not supported");if(Object(p.a)(t.instanceDivisor)&&t.instanceDivisor<0)throw new g.a("attribute must have an instanceDivisor greater than or equal to zero");if(Object(p.a)(t.instanceDivisor)&&r)throw new g.a("attribute cannot have have an instanceDivisor if it is not backed by a buffer");if(Object(p.a)(t.instanceDivisor)&&t.instanceDivisor>0&&0===t.index)throw new g.a("attribute zero cannot have an instanceDivisor greater than 0");var s={index:Object(f.a)(t.index,i),enabled:Object(f.a)(t.enabled,!0),vertexBuffer:t.vertexBuffer,value:r?t.value.slice(0):void 0,componentsPerAttribute:o,componentDatatype:Object(f.a)(t.componentDatatype,d.a.FLOAT),normalize:Object(f.a)(t.normalize,!1),offsetInBytes:Object(f.a)(t.offsetInBytes,0),strideInBytes:Object(f.a)(t.strideInBytes,0),instanceDivisor:Object(f.a)(t.instanceDivisor,0)};if(a)s.vertexAttrib=function(e){var t=this.index;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer._getBuffer()),e.vertexAttribPointer(t,this.componentsPerAttribute,this.componentDatatype,this.normalize,this.strideInBytes,this.offsetInBytes),e.enableVertexAttribArray(t),this.instanceDivisor>0&&(n.glVertexAttribDivisor(t,this.instanceDivisor),n._vertexAttribDivisors[t]=this.instanceDivisor,n._previousDrawInstanced=!0)},s.disableVertexAttribArray=function(e){e.disableVertexAttribArray(this.index),this.instanceDivisor>0&&n.glVertexAttribDivisor(i,0)};else{switch(s.componentsPerAttribute){case 1:s.vertexAttrib=function(e){e.vertexAttrib1fv(this.index,this.value)};break;case 2:s.vertexAttrib=function(e){e.vertexAttrib2fv(this.index,this.value)};break;case 3:s.vertexAttrib=function(e){e.vertexAttrib3fv(this.index,this.value)};break;case 4:s.vertexAttrib=function(e){e.vertexAttrib4fv(this.index,this.value)}}s.disableVertexAttribArray=function(e){}}e.push(s)}function a(e,t,i){for(var n=0;n<t.length;++n){var a=t[n];a.enabled&&a.vertexAttrib(e)}Object(p.a)(i)&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i._getBuffer())}function r(e){e=Object(f.a)(e,f.a.EMPTY_OBJECT),h.a.defined("options.context",e.context),h.a.defined("options.attributes",e.attributes);var t,i=e.context,r=i._gl,o=e.attributes,s=e.indexBuffer,c=[],l=1,u=!1,m=!1,_=o.length;for(t=0;t<_;++t)n(c,o[t],t,i);for(_=c.length,t=0;t<_;++t){var v=c[t];if(Object(p.a)(v.vertexBuffer)&&0===v.instanceDivisor){var b=v.strideInBytes||v.componentsPerAttribute*d.a.getSizeInBytes(v.componentDatatype);l=v.vertexBuffer.sizeInBytes/b;break}}for(t=0;t<_;++t)c[t].instanceDivisor>0&&(u=!0),Object(p.a)(c[t].value)&&(m=!0);var y={};for(t=0;t<_;++t){var O=c[t].index;if(y[O])throw new g.a("Index "+O+" is used by more than one attribute.");y[O]=!0}var w;i.vertexArrayObject&&(w=i.glCreateVertexArray(),i.glBindVertexArray(w),a(r,c,s),i.glBindVertexArray(null)),this._numberOfVertices=l,this._hasInstancedAttributes=u,this._hasConstantAttributes=m,this._context=i,this._gl=r,this._vao=w,this._attributes=c,this._indexBuffer=s}function o(e){return e.values.length/e.componentsPerAttribute}function s(e){return d.a.getSizeInBytes(e.componentDatatype)*e.componentsPerAttribute}function c(e){var t,i,n,a=[];for(i in e)e.hasOwnProperty(i)&&Object(p.a)(e[i])&&Object(p.a)(e[i].values)&&(a.push(i),e[i].componentDatatype===d.a.DOUBLE&&(e[i].componentDatatype=d.a.FLOAT,e[i].values=d.a.createTypedArray(d.a.FLOAT,e[i].values)));var r,c=a.length;if(c>0)for(r=o(e[a[0]]),t=1;t<c;++t){var l=o(e[a[t]]);if(l!==r)throw new y.a("Each attribute list must have the same number of vertices.  Attribute "+a[t]+" has a different number of vertices ("+l.toString()+") than attribute "+a[0]+" ("+r.toString()+").")}a.sort(function(t,i){return d.a.getSizeInBytes(e[i].componentDatatype)-d.a.getSizeInBytes(e[t].componentDatatype)});var u=0,h={};for(t=0;t<c;++t)i=a[t],n=e[i],h[i]=u,u+=s(n);if(u>0){var f=d.a.getSizeInBytes(e[a[0]].componentDatatype),m=u%f;0!==m&&(u+=f-m);var g=r*u,_=new ArrayBuffer(g),v={};for(t=0;t<c;++t){i=a[t];var b=d.a.getSizeInBytes(e[i].componentDatatype);v[i]={pointer:d.a.createTypedArray(e[i].componentDatatype,_),index:h[i]/b,strideInComponentType:u/b}}for(t=0;t<r;++t)for(var O=0;O<c;++O){i=a[O],n=e[i];for(var w=n.values,x=v[i],E=x.pointer,T=n.componentsPerAttribute,A=0;A<T;++A)E[x.index+A]=w[t*T+A];x.index+=x.strideInComponentType}return{buffer:_,offsetsInBytes:h,vertexSizeInBytes:u}}}function l(e){var t=e._context,i=e._hasInstancedAttributes;if(i||t._previousDrawInstanced){t._previousDrawInstanced=i;var n,a=t._vertexAttribDivisors,r=e._attributes,o=x.a.maximumVertexAttributes;if(i){var s=r.length;for(n=0;n<s;++n){var c=r[n];if(c.enabled){var l=c.instanceDivisor,u=c.index;l!==a[u]&&(t.glVertexAttribDivisor(u,l),a[u]=l)}}}else for(n=0;n<o;++n)a[n]>0&&(t.glVertexAttribDivisor(n,0),a[n]=0)}}function u(e,t){for(var i=e._attributes,n=i.length,a=0;a<n;++a){var r=i[a];r.enabled&&Object(p.a)(r.value)&&r.vertexAttrib(t)}}var h=i("5F4X"),d=i("YCZg"),f=i("5A4e"),p=i("xC6Q"),m=i("6sr8"),g=i("PzDm"),_=i("RGAo"),v=i("oMsT"),b=i("fq+p"),y=i("V22k"),O=i("tW+E"),w=i("rFKc"),x=i("J1no");r.fromGeometry=function(e){e=Object(f.a)(e,f.a.EMPTY_OBJECT),h.a.defined("options.context",e.context);var t,i,n,a=e.context,o=Object(f.a)(e.geometry,f.a.EMPTY_OBJECT),s=Object(f.a)(e.bufferUsage,w.a.DYNAMIC_DRAW),l=Object(f.a)(e.attributeLocations,f.a.EMPTY_OBJECT),u=Object(f.a)(e.interleave,!1),m=e.vertexArrayAttributes,g=Object(p.a)(m)?m:[],y=o.attributes;if(u){var x=c(y);if(Object(p.a)(x)){n=O.a.createVertexBuffer({context:a,typedArray:x.buffer,usage:s});var E=x.offsetsInBytes,T=x.vertexSizeInBytes;for(t in y)y.hasOwnProperty(t)&&Object(p.a)(y[t])&&(i=y[t],Object(p.a)(i.values)?g.push({index:l[t],vertexBuffer:n,componentDatatype:i.componentDatatype,componentsPerAttribute:i.componentsPerAttribute,normalize:i.normalize,offsetInBytes:E[t],strideInBytes:T}):g.push({index:l[t],value:i.value,componentDatatype:i.componentDatatype,normalize:i.normalize}))}}else for(t in y)if(y.hasOwnProperty(t)&&Object(p.a)(y[t])){i=y[t];var A=i.componentDatatype;A===d.a.DOUBLE&&(A=d.a.FLOAT),n=void 0,Object(p.a)(i.values)&&(n=O.a.createVertexBuffer({context:a,typedArray:d.a.createTypedArray(A,i.values),usage:s})),g.push({index:l[t],vertexBuffer:n,value:i.value,componentDatatype:A,componentsPerAttribute:i.componentsPerAttribute,normalize:i.normalize})}var C,S=o.indices;return Object(p.a)(S)&&(C=_.a.computeNumberOfVertices(o)>=b.a.SIXTY_FOUR_KILOBYTES&&a.elementIndexUint?O.a.createIndexBuffer({context:a,typedArray:new Uint32Array(S),usage:s,indexDatatype:v.a.UNSIGNED_INT}):O.a.createIndexBuffer({context:a,typedArray:new Uint16Array(S),usage:s,indexDatatype:v.a.UNSIGNED_SHORT})),new r({context:a,attributes:g,indexBuffer:C})},Object.defineProperties(r.prototype,{numberOfAttributes:{get:function(){return this._attributes.length}},numberOfVertices:{get:function(){return this._numberOfVertices}},indexBuffer:{get:function(){return this._indexBuffer}}}),r.prototype.getAttribute=function(e){return h.a.defined("index",e),this._attributes[e]},r.prototype._bind=function(){Object(p.a)(this._vao)?(this._context.glBindVertexArray(this._vao),this._context.instancedArrays&&l(this),this._hasConstantAttributes&&u(this,this._gl)):a(this._gl,this._attributes,this._indexBuffer)},r.prototype._unBind=function(){if(Object(p.a)(this._vao))this._context.glBindVertexArray(null);else{for(var e=this._attributes,t=this._gl,i=0;i<e.length;++i){var n=e[i];n.enabled&&n.disableVertexAttribArray(t)}this._indexBuffer&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}},r.prototype.isDestroyed=function(){return!1},r.prototype.destroy=function(){for(var e=this._attributes,t=0;t<e.length;++t){var i=e[t].vertexBuffer;Object(p.a)(i)&&!i.isDestroyed()&&i.vertexArrayDestroyable&&i.destroy()}var n=this._indexBuffer;return Object(p.a)(n)&&!n.isDestroyed()&&n.vertexArrayDestroyable&&n.destroy(),Object(p.a)(this._vao)&&this._context.glDeleteVertexArray(this._vao),Object(m.a)(this)},t.a=r},"+1gT":function(e,t,i){"use strict";var n=i("x5U2"),a=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),i={},n=0;n<t.length;++n)i[t[n]]=t[n];var a=Object.assign({},i),r="";for(var o in a)r+=o;return e!==r},r=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1};e.exports=function(){return Object.assign?a()?n:r()?n:Object.assign:n}},"+4Es":function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT),this._definitionChanged=new c.a,this._image=void 0,this._imageSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._transparent=void 0,this._transparentSubscription=void 0,this.image=e.image,this.repeat=e.repeat,this.color=e.color,this.transparent=e.transparent}var a=i("Ss9j"),r=i("6F0S"),o=i("5A4e"),s=i("xC6Q"),c=i("W6xh"),l=i("7687"),u=i("uhjI"),h=new a.a(1,1),d=r.a.WHITE;Object.defineProperties(n.prototype,{isConstant:{get:function(){return u.a.isConstant(this._image)&&u.a.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},image:Object(l.a)("image"),repeat:Object(l.a)("repeat"),color:Object(l.a)("color"),transparent:Object(l.a)("transparent")}),n.prototype.getType=function(e){return"Image"},n.prototype.getValue=function(e,t){return Object(s.a)(t)||(t={}),t.image=u.a.getValueOrUndefined(this._image,e),t.repeat=u.a.getValueOrClonedDefault(this._repeat,e,h,t.repeat),t.color=u.a.getValueOrClonedDefault(this._color,e,d,t.color),u.a.getValueOrDefault(this._transparent,e,!1)&&(t.color.alpha=Math.min(.99,t.color.alpha)),t},n.prototype.equals=function(e){return this===e||e instanceof n&&u.a.equals(this._image,e._image)&&u.a.equals(this._repeat,e._repeat)&&u.a.equals(this._color,e._color)&&u.a.equals(this._transparent,e._transparent)},t.a=n},"+Bp5":function(e,t,i){"use strict";var n={FAILED:0,UNLOADED:1,RECEIVING:2,RECEIVED:3,TRANSFORMING:4,TRANSFORMED:5,READY:6};t.a=Object.freeze(n)},"+DnM":function(e,t,i){"use strict";function n(e){if(!Object(r.a)(e)||!Object(r.a)(e.scene))throw new s.a("options.scene is required.");this._scene=e.scene,this.lowFrameRateMessage=Object(a.a)(e.lowFrameRateMessage,"This application appears to be performing poorly on your system.  Please try using a different web browser or updating your video drivers."),this.lowFrameRateMessageDismissed=!1,this.showingLowFrameRateMessage=!1,l.a.track(this,["lowFrameRateMessage","lowFrameRateMessageDismissed","showingLowFrameRateMessage"]);var t=this;this._dismissMessage=Object(u.a)(function(){t.showingLowFrameRateMessage=!1,t.lowFrameRateMessageDismissed=!0});var i=c.a.fromScene(e.scene);this._unsubscribeLowFrameRate=i.lowFrameRate.addEventListener(function(){t.lowFrameRateMessageDismissed||(t.showingLowFrameRateMessage=!0)}),this._unsubscribeNominalFrameRate=i.nominalFrameRate.addEventListener(function(){t.showingLowFrameRateMessage=!1})}var a=i("5A4e"),r=i("xC6Q"),o=i("6sr8"),s=i("PzDm"),c=i("qGas"),l=i("PKIF"),u=i("E9RU");Object.defineProperties(n.prototype,{scene:{get:function(){return this._scene}},dismissMessage:{get:function(){return this._dismissMessage}}}),n.prototype.destroy=function(){return this._unsubscribeLowFrameRate(),this._unsubscribeNominalFrameRate(),Object(o.a)(this)},t.a=n},"+E39":function(e,t,i){e.exports=!i("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+EMA":function(e,t,i){"use strict";function n(e){}var a=i("xC6Q");n.prototype.isReady=function(){return!0},n.prototype.shouldDiscardImage=function(e){return n.EMPTY_IMAGE===e};var r;Object.defineProperties(n,{EMPTY_IMAGE:{get:function(){return Object(a.a)(r)||(r=new Image,r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),r}}}),t.a=n},"+HRN":function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,i){e.copy(t,i)}var r=i("kkc6").Buffer,o=i(2);e.exports=function(){function e(){n(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);for(var t=r.allocUnsafe(e>>>0),i=this.head,n=0;i;)a(i.data,t,n),n+=i.data.length,i=i.next;return t},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},"+MAN":function(e,t,i){"use strict";function n(e){e=Object(j.a)(e,j.a.EMPTY_OBJECT),C.a.typeOf.object("options.clock",e.clock),C.a.typeOf.object("options.intervals",e.intervals),this.show=Object(j.a)(e.show,!0),this.modelMatrix=N.a.clone(Object(j.a)(e.modelMatrix,N.a.IDENTITY)),this.shadows=Object(j.a)(e.shadows,q.a.ENABLED),this.maximumMemoryUsage=Object(j.a)(e.maximumMemoryUsage,256),this.shading=new V.a(e.shading),this.style=e.style,this.frameFailed=new I.a,this.frameChanged=new I.a,this._clock=e.clock,this._intervals=e.intervals,this._clippingPlanes=void 0,this.clippingPlanes=e.clippingPlanes,this._pointCloudEyeDomeLighting=new U.a,this._loadTimestamp=void 0,this._clippingPlanesState=0,this._styleDirty=!1,this._pickId=void 0,this._totalMemoryUsageInBytes=0,this._frames=[],this._previousInterval=void 0,this._nextInterval=void 0,this._lastRenderedFrame=void 0,this._clockMultiplier=0,this._readyPromise=z.a.defer(),this._runningSum=0,this._runningLength=0,this._runningIndex=0,this._runningSamples=Object(A.a)(new Array(5),0),this._runningAverage=0}function a(e){return"uniform vec4 czm_pickColor;\n"+e}function r(e){return function(t){return Object(S.a)(t,{czm_pickColor:function(){return e._pickId.color}})}}function o(){return"czm_pickColor"}function s(e){var t=e._clock,i=t.canAnimate&&t.shouldAnimate,n=t.multiplier;return i?n:0}function c(e,t){return e._intervals.indexOf(t.start)}function l(e,t){var i=e._intervals,n=e._clock,a=s(e);if(0!==a){var r=e._getAverageLoadTime(),o=M.a.addSeconds(n.currentTime,r*a,W),l=i.indexOf(o);return l===c(e,t)&&(a>=0?++l:--l),i.get(l)}}function u(e){var t=e._intervals,i=e._clock,n=i.currentTime,a=t.indexOf(n);return t.get(a)}function h(e,t,i){var n=s(e),a=c(e,t),r=c(e,i);return n>=0?a>=r:a<=r}function d(e,t){return function(i){var n=Object(P.a)(i.message)?i.message:i.toString();e.frameFailed.numberOfListeners>0?e.frameFailed.raiseEvent({uri:t,message:n}):(console.log("A frame failed to load: "+t),console.log("Error: "+n))}}function f(e,t,i){var n=c(e,t),s=e._frames,l=s[n];if(!Object(P.a)(l)){var u=t.data.transform,h=Object(P.a)(u)?N.a.fromArray(u):void 0,f=t.data.uri;l={pointCloud:void 0,transform:h,timestamp:Object(R.a)(),sequential:!0,ready:!1,touchedFrameNumber:i.frameNumber},s[n]=l,F.a.fetchArrayBuffer({url:f}).then(function(t){return l.pointCloud=new k.a({arrayBuffer:t,cull:!0,fragmentShaderLoaded:a,uniformMapLoaded:r(e),pickIdLoaded:o}),l.pointCloud.readyPromise}).otherwise(d(e,f))}return l}function p(e,t){e._runningSum+=t,e._runningSum-=e._runningSamples[e._runningIndex],e._runningSamples[e._runningIndex]=t,e._runningLength=Math.min(e._runningLength+1,e._runningSamples.length),e._runningIndex=(e._runningIndex+1)%e._runningSamples.length,e._runningAverage=e._runningSum/e._runningLength}function m(e,t,i,n){t.touchedFrameNumber<n.frameNumber-1&&(t.sequential=!1);var a=t.pointCloud;if(Object(P.a)(a)&&!t.ready){var r=n.commandList,o=r.length;if(v(e,t,i,n),a.ready&&(t.ready=!0,e._totalMemoryUsageInBytes+=a.geometryByteLength,r.length=o,t.sequential)){p(e,(Object(R.a)()-t.timestamp)/1e3)}}t.touchedFrameNumber=n.frameNumber}function g(e,t){var i=e.shading;return Object(P.a)(i)&&Object(P.a)(i.baseResolution)?i.baseResolution:Object(P.a)(t.boundingSphere)?L.a.cbrt(t.boundingSphere.volume()/t.pointsLength):0}function _(e){var t=e.shading;return Object(P.a)(t)&&Object(P.a)(t.maximumAttenuation)?t.maximumAttenuation:10}function v(e,t,i,n){var a=Object(j.a)(e.shading,Y),r=t.pointCloud,o=Object(j.a)(t.transform,N.a.IDENTITY);r.modelMatrix=N.a.multiplyTransformation(e.modelMatrix,o,G),r.style=e.style,r.time=i.timeSinceLoad,r.shadows=e.shadows,r.clippingPlanes=e._clippingPlanes,r.isClipped=i.isClipped,r.attenuation=a.attenuation,r.backFaceCulling=a.backFaceCulling,r.normalShading=a.normalShading,r.geometricError=g(e,r),r.geometricErrorScale=a.geometricErrorScale,r.maximumAttenuation=_(e),r.update(n),t.touchedFrameNumber=n.frameNumber}function b(e,t,i,n){m(e,f(e,t,n),i,n)}function y(e){return function(t){return t.touchedFrameNumber<e.frameNumber}}function O(e,t){for(var i=e._frames,n=i.length,a=0;a<n;++a){var r=i[a];if(Object(P.a)(r)&&(!Object(P.a)(t)||t(r))){var o=r.pointCloud;r.ready&&(e._totalMemoryUsageInBytes-=o.geometryByteLength),Object(P.a)(o)&&o.destroy(),r===e._lastRenderedFrame&&(e._lastRenderedFrame=void 0),i[a]=void 0}}}function w(e,t){var i=c(e,t),n=e._frames[i];if(Object(P.a)(n)&&n.ready)return n}function x(e,t,i,n,a){return!!Object(P.a)(i)&&(!!i.ready||(b(e,t,n,a),i.ready))}function E(e,t,i,n,a){var r,o,s,l=e._intervals,u=e._frames,h=c(e,i),d=c(e,t);if(h>=d){for(r=h;r>=d;--r)if(o=l.get(r),s=u[r],x(e,o,s,n,a))return o}else for(r=h;r<=d;++r)if(o=l.get(r),s=u[r],x(e,o,s,n,a))return o;return t}function T(e,t,i){for(var n=e._frames,a=n.length,r=0;r<a;++r){var o=n[r];Object(P.a)(o)&&Object(P.a)(o.pointCloud)&&(o.pointCloud.clippingPlanesDirty=t,o.pointCloud.styleDirty=i)}}var A=i("Sfsp"),C=i("5F4X"),S=i("ZboF"),j=i("5A4e"),P=i("xC6Q"),D=i("6sr8"),I=i("W6xh"),R=i("n08a"),M=i("9Uqs"),L=i("fq+p"),N=i("Xjii"),F=i("rMjQ"),z=i("S7OP"),B=i("Jl4s"),k=i("MryW"),U=i("uE/L"),V=i("0OY+"),H=i("sotJ"),q=i("ARzC");Object.defineProperties(n.prototype,{clippingPlanes:{get:function(){return this._clippingPlanes},set:function(e){B.a.setOwner(e,this,"_clippingPlanes")}},totalMemoryUsageInBytes:{get:function(){return this._totalMemoryUsageInBytes}},boundingSphere:{get:function(){if(Object(P.a)(this._lastRenderedFrame))return this._lastRenderedFrame.pointCloud.boundingSphere}},readyPromise:{get:function(){return this._readyPromise.promise}}}),n.prototype.makeStyleDirty=function(){this._styleDirty=!0},n.prototype._getAverageLoadTime=function(){return 0===this._runningLength?.05:this._runningAverage};var W=new M.a,G=new N.a,Y=new V.a,X={timeSinceLoad:0,isClipped:!1,clippingPlanesDirty:!1};n.prototype.update=function(e){if(e.mode!==H.a.MORPHING&&this.show){Object(P.a)(this._pickId)||(this._pickId=e.context.createPickId({primitive:this})),Object(P.a)(this._loadTimestamp)||(this._loadTimestamp=M.a.clone(e.time));var t=Math.max(1e3*M.a.secondsDifference(e.time,this._loadTimestamp),0),i=this._clippingPlanes,n=0,a=!1,r=Object(P.a)(i)&&i.enabled;r&&(i.update(e),n=i.clippingPlanesState),this._clippingPlanesState!==n&&(this._clippingPlanesState=n,a=!0);var o=this._styleDirty;this._styleDirty=!1,(a||o)&&T(this,a,o),X.timeSinceLoad=t,X.isClipped=r;var c=this.shading,d=this._pointCloudEyeDomeLighting,f=e.commandList,p=f.length,m=this._previousInterval,g=this._nextInterval,_=u(this);if(Object(P.a)(_)){var x=!1,A=s(this),C=0===A;A!==this._clockMultiplier&&(x=!0,this._clockMultiplier=A),Object(P.a)(m)&&!C||(m=_),(!Object(P.a)(g)||x||h(this,_,g))&&(g=l(this,_)),m=E(this,m,_,X,e);var S=w(this,m);Object(P.a)(S)||(b(this,m,X,e),S=this._lastRenderedFrame),Object(P.a)(S)&&v(this,S,X,e),Object(P.a)(g)&&b(this,g,X,e);var j=this;Object(P.a)(S)&&!Object(P.a)(this._lastRenderedFrame)&&e.afterRender.push(function(){j._readyPromise.resolve(j)}),Object(P.a)(S)&&S!==this._lastRenderedFrame&&j.frameChanged.numberOfListeners>0&&e.afterRender.push(function(){j.frameChanged.raiseEvent(j)}),this._previousInterval=m,this._nextInterval=g,this._lastRenderedFrame=S;this._totalMemoryUsageInBytes>1024*this.maximumMemoryUsage*1024&&O(this,y(e));var D=f.length,I=D-p;Object(P.a)(c)&&c.attenuation&&c.eyeDomeLighting&&I>0&&d.update(e,p,c)}}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return O(this),this._clippingPlanes=this._clippingPlanes&&this._clippingPlanes.destroy(),this._pickId=this._pickId&&this._pickId.destroy(),Object(D.a)(this)},t.a=n},"+VQ/":function(e,t,i){"use strict"},"+VVU":function(e,t,i){"use strict";function n(e){var t=Object(o.a)(e.radius,1),i=new a.a(t,t,t),n={radii:i,stackPartitions:e.stackPartitions,slicePartitions:e.slicePartitions,subdivisions:e.subdivisions};this._ellipsoidGeometry=new c.a(n),this._workerName="createSphereOutlineGeometry"}var a=i("Jj+J"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("ckFl");n.packedLength=c.a.packedLength,n.pack=function(e,t,i){return r.a.typeOf.object("value",e),c.a.pack(e._ellipsoidGeometry,t,i)};var l=new c.a,u={radius:void 0,radii:new a.a,stackPartitions:void 0,slicePartitions:void 0,subdivisions:void 0};n.unpack=function(e,t,i){var r=c.a.unpack(e,t,l);return u.stackPartitions=r._stackPartitions,u.slicePartitions=r._slicePartitions,u.subdivisions=r._subdivisions,Object(s.a)(i)?(a.a.clone(r._radii,u.radii),i._ellipsoidGeometry=new c.a(u),i):(u.radius=r._radii.x,new n(u))},n.createGeometry=function(e){return c.a.createGeometry(e._ellipsoidGeometry)},t.a=n},"+ZMJ":function(e,t,i){var n=i("lOnJ");e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,a){return e.call(t,i,n,a)}}return function(){return e.apply(t,arguments)}}},"+aNW":function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},"+chV":function(e,t,i){"use strict";i("5A4e"),i("xC6Q"),i("fr+a"),i("S7OP")},"+ie1":function(e,t,i){"use strict";function n(e,t){o.a.typeOf.object("normal",e),o.a.typeOf.number("distance",t),this._distance=t,this._normal=new a(e,this),this.onChangeCallback=void 0,this.index=-1}function a(e,t){this._clippingPlane=t,this._cartesian3=r.a.clone(e)}var r=i("Jj+J"),o=i("5F4X"),s=i("xC6Q");Object.defineProperties(n.prototype,{distance:{get:function(){return this._distance},set:function(e){o.a.typeOf.number("value",e),Object(s.a)(this.onChangeCallback)&&e!==this._distance&&this.onChangeCallback(this.index),this._distance=e}},normal:{get:function(){return this._normal},set:function(e){o.a.typeOf.object("value",e),Object(s.a)(this.onChangeCallback)&&!r.a.equals(this._normal._cartesian3,e)&&this.onChangeCallback(this.index),r.a.clone(e,this._normal._cartesian3)}}}),n.fromPlane=function(e,t){return o.a.typeOf.object("plane",e),Object(s.a)(t)?(t.normal=e.normal,t.distance=e.distance):t=new n(e.normal,e.distance),t},n.clone=function(e,t){return Object(s.a)(t)?(t.normal=e.normal,t.distance=e.distance,t):new n(e.normal,e.distance)},Object.defineProperties(a.prototype,{x:{get:function(){return this._cartesian3.x},set:function(e){o.a.typeOf.number("value",e),Object(s.a)(this._clippingPlane.onChangeCallback)&&e!==this._cartesian3.x&&this._clippingPlane.onChangeCallback(this._clippingPlane.index),this._cartesian3.x=e}},y:{get:function(){return this._cartesian3.y},set:function(e){o.a.typeOf.number("value",e),Object(s.a)(this._clippingPlane.onChangeCallback)&&e!==this._cartesian3.y&&this._clippingPlane.onChangeCallback(this._clippingPlane.index),this._cartesian3.y=e}},z:{get:function(){return this._cartesian3.z},set:function(e){o.a.typeOf.number("value",e),Object(s.a)(this._clippingPlane.onChangeCallback)&&e!==this._cartesian3.z&&this._clippingPlane.onChangeCallback(this._clippingPlane.index),this._cartesian3.z=e}}}),t.a=n},"+qfG":function(e,t,i){"use strict";t.a="/**\n * Gets the color with fog at a distance from the camera.\n *\n * @name czm_fog\n * @glslFunction\n *\n * @param {float} distanceToCamera The distance to the camera in meters.\n * @param {vec3} color The original color.\n * @param {vec3} fogColor The color of the fog.\n *\n * @returns {vec3} The color adjusted for fog at the distance from the camera.\n */\nvec3 czm_fog(float distanceToCamera, vec3 color, vec3 fogColor)\n{\n    float scalar = distanceToCamera * czm_fogDensity;\n    float fog = 1.0 - exp(-(scalar * scalar));\n    return mix(color, fogColor, fog);\n}\n\n/**\n * Gets the color with fog at a distance from the camera.\n *\n * @name czm_fog\n * @glslFunction\n *\n * @param {float} distanceToCamera The distance to the camera in meters.\n * @param {vec3} color The original color.\n * @param {vec3} fogColor The color of the fog.\n * @param {float} fogModifierConstant A constant to modify the appearance of fog.\n *\n * @returns {vec3} The color adjusted for fog at the distance from the camera.\n */\nvec3 czm_fog(float distanceToCamera, vec3 color, vec3 fogColor, float fogModifierConstant)\n{\n    float scalar = distanceToCamera * czm_fogDensity;\n    float fog = 1.0 - exp(-((fogModifierConstant * scalar + fogModifierConstant) * (scalar * (1.0 + fogModifierConstant))));\n    return mix(color, fogColor, fog);\n}\n"},"+snP":function(e,t,i){"use strict";var n=i("1L1F"),a={CLOCKWISE:n.a.CW,COUNTER_CLOCKWISE:n.a.CCW,validate:function(e){return e===a.CLOCKWISE||e===a.COUNTER_CLOCKWISE}};t.a=Object.freeze(a)},"+yKu":function(e,t,i){"use strict";function n(e,t){return c.a.equalsEpsilon(e.latitude,t.latitude,c.a.EPSILON14)&&c.a.equalsEpsilon(e.longitude,t.longitude,c.a.EPSILON14)}function a(e,t,i,a){var s=t.length;if(!(s<2)){var c=Object(o.a)(a),l=Object(o.a)(i),u=!0,h=new Array(s),d=new Array(s),m=new Array(s),g=t[0];h[0]=g;var _=e.cartesianToCartographic(g,f);l&&(_.height=i[0]),u=u&&_.height<=0,d[0]=_.height,m[0]=c?a[0]:0;for(var v=1,b=1;b<s;++b){var y=t[b],O=e.cartesianToCartographic(y,p);l&&(O.height=i[b]),u=u&&O.height<=0,n(_,O)?_.height<O.height&&(d[v-1]=O.height):(h[v]=y,d[v]=O.height,m[v]=c?a[b]:0,r.a.clone(O,_),++v)}if(!(u||v<2))return h.length=v,d.length=v,m.length=v,{positions:h,topHeights:d,bottomHeights:m}}}var r=i("I3GD"),o=i("xC6Q"),s=i("GmON"),c=i("fq+p"),l=i("EDAM"),u=i("QhJM"),h=i("+snP"),d={},f=new r.a,p=new r.a,m=new Array(2),g=new Array(2),_={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};d.computePositions=function(e,t,i,n,r,d){var f=a(e,t,i,n);if(Object(o.a)(f)){if(t=f.positions,i=f.topHeights,n=f.bottomHeights,t.length>=3){var p=s.a.fromPoints(t,e),v=p.projectPointsOntoPlane(t);l.a.computeWindingOrder2D(v)===h.a.CLOCKWISE&&(t.reverse(),i.reverse(),n.reverse())}var b,y,O=t.length,w=O-2,x=c.a.chordLength(r,e.maximumRadius),E=_;if(E.minDistance=x,E.ellipsoid=e,d){var T,A=0;for(T=0;T<O-1;T++)A+=u.a.numberOfPoints(t[T],t[T+1],x)+1;b=new Float64Array(3*A),y=new Float64Array(3*A);var C=m,S=g;E.positions=C,E.height=S;var j=0;for(T=0;T<O-1;T++){C[0]=t[T],C[1]=t[T+1],S[0]=i[T],S[1]=i[T+1];var P=u.a.generateArc(E);b.set(P,j),S[0]=n[T],S[1]=n[T+1],y.set(u.a.generateArc(E),j),j+=P.length}}else E.positions=t,E.height=i,b=new Float64Array(u.a.generateArc(E)),E.height=n,y=new Float64Array(u.a.generateArc(E));return{bottomPositions:y,topPositions:b,numCorners:w}}},t.a=d},"/++d":function(e,t,i){"use strict";function n(e,t){t=a.a.clone(Object(o.a)(t,a.a.ZERO)),a.a.equals(t,a.a.ZERO)||a.a.normalize(t,t),this.origin=a.a.clone(Object(o.a)(e,a.a.ZERO)),this.direction=t}var a=i("Jj+J"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q");n.clone=function(e,t){if(Object(s.a)(e))return Object(s.a)(t)?(t.origin=a.a.clone(e.origin),t.direction=a.a.clone(e.direction),t):new n(e.origin,e.direction)},n.getPoint=function(e,t,i){return r.a.typeOf.object("ray",e),r.a.typeOf.number("t",t),Object(s.a)(i)||(i=new a.a),i=a.a.multiplyByScalar(e.direction,t,i),a.a.add(e.origin,i,i)},t.a=n},"/1n7":function(e,t,i){"use strict";function n(e,t){this._conditionsExpression=Object(o.a)(e,!0),this._conditions=e.conditions,this._runtimeConditions=void 0,r(this,t)}function a(e,t){this.condition=e,this.expression=t}function r(e,t){var i=[],n=e._conditions;if(Object(s.a)(n)){for(var r=n.length,o=0;o<r;++o){var l=n[o],u=String(l[0]),h=String(l[1]);i.push(new a(new c.a(u,t),new c.a(h,t)))}e._runtimeConditions=i}}var o=i("wv0P"),s=i("xC6Q"),c=i("ok/U");Object.defineProperties(n.prototype,{conditionsExpression:{get:function(){return this._conditionsExpression}}}),n.prototype.evaluate=function(e,t){var i=this._runtimeConditions;if(Object(s.a)(i))for(var n=i.length,a=0;a<n;++a){var r=i[a];if(r.condition.evaluate(e))return r.expression.evaluate(e,t)}},n.prototype.evaluateColor=function(e,t){var i=this._runtimeConditions;if(Object(s.a)(i))for(var n=i.length,a=0;a<n;++a){var r=i[a];if(r.condition.evaluate(e))return r.expression.evaluateColor(e,t)}},n.prototype.getShaderFunction=function(e,t,i,n){var a=this._runtimeConditions;if(Object(s.a)(a)&&0!==a.length){for(var r="",o=a.length,c=0;c<o;++c){var l=a[c],u=l.condition.getShaderExpression(t,i),h=l.expression.getShaderExpression(t,i);r+="    "+(0===c?"if":"else if")+" ("+u+") \n    { \n        return "+h+"; \n    } \n"}return r=n+" "+e+"() \n{ \n"+r+"    return "+n+"(1.0); \n} \n"}},t.a=n},"/2yO":function(e,t,i){"use strict";(function(e){function n(e,t,i){function n(){for(var t;null!==(t=e.read());)o.push(t),s+=t.length;e.once("readable",n)}function a(t){e.removeListener("end",r),e.removeListener("readable",n),i(t)}function r(){var t,n=null;s>=O?n=new RangeError(w):t=g.concat(o,s),o=[],e.close(),i(n,t)}var o=[],s=0;e.on("error",a),e.on("end",r),e.end(t),n()}function a(e,t){if("string"==typeof t&&(t=g.from(t)),!g.isBuffer(t))throw new TypeError("Not a string or buffer");var i=e._finishFlushFlag;return e._processChunk(t,i)}function r(e){if(!(this instanceof r))return new r(e);f.call(this,e,v.DEFLATE)}function o(e){if(!(this instanceof o))return new o(e);f.call(this,e,v.INFLATE)}function s(e){if(!(this instanceof s))return new s(e);f.call(this,e,v.GZIP)}function c(e){if(!(this instanceof c))return new c(e);f.call(this,e,v.GUNZIP)}function l(e){if(!(this instanceof l))return new l(e);f.call(this,e,v.DEFLATERAW)}function u(e){if(!(this instanceof u))return new u(e);f.call(this,e,v.INFLATERAW)}function h(e){if(!(this instanceof h))return new h(e);f.call(this,e,v.UNZIP)}function d(e){return e===v.Z_NO_FLUSH||e===v.Z_PARTIAL_FLUSH||e===v.Z_SYNC_FLUSH||e===v.Z_FULL_FLUSH||e===v.Z_FINISH||e===v.Z_BLOCK}function f(e,i){var n=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,_.call(this,e),e.flush&&!d(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!d(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||v.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:v.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!g.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new v.Zlib(i);var a=this;this._hadError=!1,this._handle.onerror=function(e,i){p(a),a._hadError=!0;var n=new Error(e);n.errno=i,n.code=t.codes[i],a.emit("error",n)};var r=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(r=e.level);var o=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(o=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,r,e.memLevel||t.Z_DEFAULT_MEMLEVEL,o,e.dictionary),this._buffer=g.allocUnsafe(this._chunkSize),this._offset=0,this._level=r,this._strategy=o,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!n._handle},configurable:!0,enumerable:!0})}function p(t,i){i&&e.nextTick(i),t._handle&&(t._handle.close(),t._handle=null)}function m(e){e.emit("close")}var g=i("EuP9").Buffer,_=i("9DG0").Transform,v=i("EQyj"),b=i("OMJi"),y=i("N+Om").ok,O=i("EuP9").kMaxLength,w="Cannot create final Buffer. It would be larger than 0x"+O.toString(16)+" bytes";v.Z_MIN_WINDOWBITS=8,v.Z_MAX_WINDOWBITS=15,v.Z_DEFAULT_WINDOWBITS=15,v.Z_MIN_CHUNK=64,v.Z_MAX_CHUNK=1/0,v.Z_DEFAULT_CHUNK=16384,v.Z_MIN_MEMLEVEL=1,v.Z_MAX_MEMLEVEL=9,v.Z_DEFAULT_MEMLEVEL=8,v.Z_MIN_LEVEL=-1,v.Z_MAX_LEVEL=9,v.Z_DEFAULT_LEVEL=v.Z_DEFAULT_COMPRESSION;for(var x=Object.keys(v),E=0;E<x.length;E++){var T=x[E];T.match(/^Z/)&&Object.defineProperty(t,T,{enumerable:!0,value:v[T],writable:!1})}for(var A={Z_OK:v.Z_OK,Z_STREAM_END:v.Z_STREAM_END,Z_NEED_DICT:v.Z_NEED_DICT,Z_ERRNO:v.Z_ERRNO,Z_STREAM_ERROR:v.Z_STREAM_ERROR,Z_DATA_ERROR:v.Z_DATA_ERROR,Z_MEM_ERROR:v.Z_MEM_ERROR,Z_BUF_ERROR:v.Z_BUF_ERROR,Z_VERSION_ERROR:v.Z_VERSION_ERROR},C=Object.keys(A),S=0;S<C.length;S++){var j=C[S];A[A[j]]=j}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(A),writable:!1}),t.Deflate=r,t.Inflate=o,t.Gzip=s,t.Gunzip=c,t.DeflateRaw=l,t.InflateRaw=u,t.Unzip=h,t.createDeflate=function(e){return new r(e)},t.createInflate=function(e){return new o(e)},t.createDeflateRaw=function(e){return new l(e)},t.createInflateRaw=function(e){return new u(e)},t.createGzip=function(e){return new s(e)},t.createGunzip=function(e){return new c(e)},t.createUnzip=function(e){return new h(e)},t.deflate=function(e,t,i){return"function"==typeof t&&(i=t,t={}),n(new r(t),e,i)},t.deflateSync=function(e,t){return a(new r(t),e)},t.gzip=function(e,t,i){return"function"==typeof t&&(i=t,t={}),n(new s(t),e,i)},t.gzipSync=function(e,t){return a(new s(t),e)},t.deflateRaw=function(e,t,i){return"function"==typeof t&&(i=t,t={}),n(new l(t),e,i)},t.deflateRawSync=function(e,t){return a(new l(t),e)},t.unzip=function(e,t,i){return"function"==typeof t&&(i=t,t={}),n(new h(t),e,i)},t.unzipSync=function(e,t){return a(new h(t),e)},t.inflate=function(e,t,i){return"function"==typeof t&&(i=t,t={}),n(new o(t),e,i)},t.inflateSync=function(e,t){return a(new o(t),e)},t.gunzip=function(e,t,i){return"function"==typeof t&&(i=t,t={}),n(new c(t),e,i)},t.gunzipSync=function(e,t){return a(new c(t),e)},t.inflateRaw=function(e,t,i){return"function"==typeof t&&(i=t,t={}),n(new u(t),e,i)},t.inflateRawSync=function(e,t){return a(new u(t),e)},b.inherits(f,_),f.prototype.params=function(i,n,a){if(i<t.Z_MIN_LEVEL||i>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+i);if(n!=t.Z_FILTERED&&n!=t.Z_HUFFMAN_ONLY&&n!=t.Z_RLE&&n!=t.Z_FIXED&&n!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==i||this._strategy!==n){var r=this;this.flush(v.Z_SYNC_FLUSH,function(){y(r._handle,"zlib binding closed"),r._handle.params(i,n),r._hadError||(r._level=i,r._strategy=n,a&&a())})}else e.nextTick(a)},f.prototype.reset=function(){return y(this._handle,"zlib binding closed"),this._handle.reset()},f.prototype._flush=function(e){this._transform(g.alloc(0),"",e)},f.prototype.flush=function(t,i){var n=this,a=this._writableState;("function"==typeof t||void 0===t&&!i)&&(i=t,t=v.Z_FULL_FLUSH),a.ended?i&&e.nextTick(i):a.ending?i&&this.once("end",i):a.needDrain?i&&this.once("drain",function(){return n.flush(t,i)}):(this._flushFlag=t,this.write(g.alloc(0),"",i))},f.prototype.close=function(t){p(this,t),e.nextTick(m,this)},f.prototype._transform=function(e,t,i){var n,a=this._writableState,r=a.ending||a.ended,o=r&&(!e||a.length===e.length);return null===e||g.isBuffer(e)?this._handle?(o?n=this._finishFlushFlag:(n=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||v.Z_NO_FLUSH)),void this._processChunk(e,n,i)):i(new Error("zlib binding closed")):i(new Error("invalid input"))},f.prototype._processChunk=function(e,t,i){function n(l,d){if(this&&(this.buffer=null,this.callback=null),!s._hadError){var f=r-d;if(y(f>=0,"have should not go down"),f>0){var p=s._buffer.slice(s._offset,s._offset+f);s._offset+=f,c?s.push(p):(u.push(p),h+=p.length)}if((0===d||s._offset>=s._chunkSize)&&(r=s._chunkSize,s._offset=0,s._buffer=g.allocUnsafe(s._chunkSize)),0===d){if(o+=a-l,a=l,!c)return!0;var m=s._handle.write(t,e,o,a,s._buffer,s._offset,s._chunkSize);return m.callback=n,void(m.buffer=e)}if(!c)return!1;i()}}var a=e&&e.length,r=this._chunkSize-this._offset,o=0,s=this,c="function"==typeof i;if(!c){var l,u=[],h=0;this.on("error",function(e){l=e}),y(this._handle,"zlib binding closed");do{var d=this._handle.writeSync(t,e,o,a,this._buffer,this._offset,r)}while(!this._hadError&&n(d[0],d[1]));if(this._hadError)throw l;if(h>=O)throw p(this),new RangeError(w);var f=g.concat(u,h);return p(this),f}y(this._handle,"zlib binding closed");var m=this._handle.write(t,e,o,a,this._buffer,this._offset,r);m.buffer=e,m.callback=n},b.inherits(r,f),b.inherits(o,f),b.inherits(s,f),b.inherits(c,f),b.inherits(l,f),b.inherits(u,f),b.inherits(h,f)}).call(t,i("W2nU"))},"/5sW":function(e,t,i){"use strict";(function(e,n){function a(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function o(e){return!0===e}function s(e){return!1===e}function c(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function l(e){return"function"==typeof e}function u(e){return null!==e&&"object"==typeof e}function h(e){return"[object Object]"===$n.call(e)}function d(e){return"[object RegExp]"===$n.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function p(e){return r(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function m(e){return null==e?"":Array.isArray(e)||h(e)&&e.toString===$n?JSON.stringify(e,g,2):String(e)}function g(e,t){return t&&t.__v_isRef?t.value:t}function _(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var i=Object.create(null),n=e.split(","),a=0;a<n.length;a++)i[n[a]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}function b(e,t){var i=e.length;if(i){if(t===e[i-1])return void(e.length=i-1);var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function y(e,t){return ta.call(e,t)}function O(e){var t=Object.create(null);return function(i){return t[i]||(t[i]=e(i))}}function w(e,t){function i(i){var n=arguments.length;return n?n>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i}function x(e,t){return e.bind(t)}function E(e,t){t=t||0;for(var i=e.length-t,n=new Array(i);i--;)n[i]=e[i+t];return n}function T(e,t){for(var i in t)e[i]=t[i];return e}function A(e){for(var t={},i=0;i<e.length;i++)e[i]&&T(t,e[i]);return t}function C(e,t,i){}function S(e,t){if(e===t)return!0;var i=u(e),n=u(t);if(!i||!n)return!i&&!n&&String(e)===String(t);try{var a=Array.isArray(e),r=Array.isArray(t);if(a&&r)return e.length===t.length&&e.every(function(e,i){return S(e,t[i])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(a||r)return!1;var o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every(function(i){return S(e[i],t[i])})}catch(e){return!1}}function j(e,t){for(var i=0;i<e.length;i++)if(S(e[i],t))return i;return-1}function P(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function D(e,t){return e===t?0===e&&1/e!=1/t:e===e||t===t}function I(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function R(e,t,i,n){Object.defineProperty(e,t,{value:i,enumerable:!!n,writable:!0,configurable:!0})}function M(e){if(!ma.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}function L(e){return"function"==typeof e&&/native code/.test(e.toString())}function N(e){void 0===e&&(e=null),e||Ia&&Ia._scope.off(),Ia=e,e&&e._scope.on()}function F(e){return new Ra(void 0,void 0,void 0,String(e))}function z(e){var t=new Ra(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}function B(e){Ba.push(e),za.target=e}function k(){Ba.pop(),za.target=Ba[Ba.length-1]}function U(e){Ga=e}function V(e,t,i){return e&&y(e,"__ob__")&&e.__ob__ instanceof Xa?e.__ob__:!Ga||!i&&ja()||!Kn(e)&&!h(e)||!Object.isExtensible(e)||e.__v_skip||K(e)||e instanceof Ra?void 0:new Xa(e,t,i)}function H(e,t,i,n,a,r,o){void 0===o&&(o=!1);var s=new za,c=Object.getOwnPropertyDescriptor(e,t);if(!c||!1!==c.configurable){var l=c&&c.get,u=c&&c.set;l&&!u||i!==Wa&&2!==arguments.length||(i=e[t]);var h=a?i&&i.__ob__:V(i,!1,r);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=l?l.call(e):i;return za.target&&(s.depend(),h&&(h.dep.depend(),Kn(t)&&G(t))),K(t)&&!a?t.value:t},set:function(t){var n=l?l.call(e):i;if(D(n,t)){if(u)u.call(e,t);else{if(l)return;if(!a&&K(n)&&!K(t))return void(n.value=t);i=t}h=a?t&&t.__ob__:V(t,!1,r),s.notify()}}}),s}}function q(e,t,i){if(!Z(e)){var n=e.__ob__;return Kn(e)&&f(t)?(e.length=Math.max(e.length,t),e.splice(t,1,i),n&&!n.shallow&&n.mock&&V(i,!1,!0),i):t in e&&!(t in Object.prototype)?(e[t]=i,i):e._isVue||n&&n.vmCount?i:n?(H(n.value,t,i,void 0,n.shallow,n.mock),n.dep.notify(),i):(e[t]=i,i)}}function W(e,t){if(Kn(e)&&f(t))return void e.splice(t,1);var i=e.__ob__;e._isVue||i&&i.vmCount||Z(e)||y(e,t)&&(delete e[t],i&&i.dep.notify())}function G(e){for(var t=void 0,i=0,n=e.length;i<n;i++)t=e[i],t&&t.__ob__&&t.__ob__.dep.depend(),Kn(t)&&G(t)}function Y(e){return X(e,!0),R(e,"__v_isShallow",!0),e}function X(e,t){if(!Z(e)){V(e,t,ja())}}function Q(e){return Z(e)?Q(e.__v_raw):!(!e||!e.__ob__)}function J(e){return!(!e||!e.__v_isShallow)}function Z(e){return!(!e||!e.__v_isReadonly)}function K(e){return!(!e||!0!==e.__v_isRef)}function $(e,t,i){Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:function(){var e=t[i];if(K(e))return e.value;var n=e&&e.__ob__;return n&&n.dep.depend(),e},set:function(e){var n=t[i];K(n)&&!K(e)?n.value=e:t[i]=e}})}function ee(e,t,i){var n,a=void 0===i?Zn:i,r=a.immediate,o=a.deep,s=a.flush,c=void 0===s?"pre":s,u=(a.onTrack,a.onTrigger,Ia),h=function(e,t,i){void 0===i&&(i=null);var n=Je(e,null,i,u,t);return o&&n&&n.__ob__&&n.__ob__.dep.depend(),n},d=!1,f=!1;if(K(e)?(n=function(){return e.value},d=J(e)):Q(e)?(n=function(){return e.__ob__.dep.depend(),e},o=!0):Kn(e)?(f=!0,d=e.some(function(e){return Q(e)||J(e)}),n=function(){return e.map(function(e){return K(e)?e.value:Q(e)?(e.__ob__.dep.depend(),nt(e)):l(e)?h(e,Ka):void 0})}):n=l(e)?t?function(){return h(e,Ka)}:function(){if(!u||!u._isDestroyed)return m&&m(),h(e,Ja,[g])}:C,t&&o){var p=n;n=function(){return nt(p())}}var m,g=function(e){m=_.onStop=function(){h(e,$a)}};if(ja())return g=C,t?r&&h(t,Za,[n(),f?[]:void 0,g]):n(),C;var _=new gr(Ia,n,C,{lazy:!0});_.noRecurse=!t;var v=f?[]:er;return _.run=function(){if(_.active)if(t){var e=_.get();(o||d||(f?e.some(function(e,t){return D(e,v[t])}):D(e,v)))&&(m&&m(),h(t,Za,[e,v===er?void 0:v,g]),v=e)}else _.get()},"sync"===c?_.update=_.run:"post"===c?(_.post=!0,_.update=function(){return xt(_)}):_.update=function(){if(u&&u===Ia&&!u._isMounted){var e=u._preWatchers||(u._preWatchers=[]);e.indexOf(_)<0&&e.push(_)}else xt(_)},t?r?_.run():v=_.get():"post"===c&&u?u.$once("hook:mounted",function(){return _.get()}):_.get(),function(){_.teardown()}}function te(e,t){void 0===t&&(t=Va),t&&t.active&&t.effects.push(e)}function ie(){return Va}function ne(e){var t=e._provided,i=e.$parent&&e.$parent._provided;return i===t?e._provided=Object.create(i):t}function ae(e,t){function i(){var e=i.fns;if(!Kn(e))return Je(e,null,arguments,t,"v-on handler");for(var n=e.slice(),a=0;a<n.length;a++)Je(n[a],null,arguments,t,"v-on handler")}return i.fns=e,i}function re(e,t,i,n,r,s){var c,l,u,h;for(c in e)l=e[c],u=t[c],h=ir(c),a(l)||(a(u)?(a(l.fns)&&(l=e[c]=ae(l,s)),o(h.once)&&(l=e[c]=r(h.name,l,h.capture)),i(h.name,l,h.capture,h.passive,h.params)):l!==u&&(u.fns=l,e[c]=u));for(c in t)a(e[c])&&(h=ir(c),n(h.name,t[c],h.capture))}function oe(e,t,i){function n(){i.apply(this,arguments),b(s.fns,n)}e instanceof Ra&&(e=e.data.hook||(e.data.hook={}));var s,c=e[t];a(c)?s=ae([n]):r(c.fns)&&o(c.merged)?(s=c,s.fns.push(n)):s=ae([c,n]),s.merged=!0,e[t]=s}function se(e,t,i){var n=t.options.props;if(!a(n)){var o={},s=e.attrs,c=e.props;if(r(s)||r(c))for(var l in n){var u=oa(l);ce(o,c,l,u,!0)||ce(o,s,l,u,!1)}return o}}function ce(e,t,i,n,a){if(r(t)){if(y(t,i))return e[i]=t[i],a||delete t[i],!0;if(y(t,n))return e[i]=t[n],a||delete t[n],!0}return!1}function le(e){for(var t=0;t<e.length;t++)if(Kn(e[t]))return Array.prototype.concat.apply([],e);return e}function ue(e){return c(e)?[F(e)]:Kn(e)?de(e):void 0}function he(e){return r(e)&&r(e.text)&&s(e.isComment)}function de(e,t){var i,n,s,l,u=[];for(i=0;i<e.length;i++)n=e[i],a(n)||"boolean"==typeof n||(s=u.length-1,l=u[s],Kn(n)?n.length>0&&(n=de(n,"".concat(t||"","_").concat(i)),he(n[0])&&he(l)&&(u[s]=F(l.text+n[0].text),n.shift()),u.push.apply(u,n)):c(n)?he(l)?u[s]=F(l.text+n):""!==n&&u.push(F(n)):he(n)&&he(l)?u[s]=F(l.text+n.text):(o(e._isVList)&&r(n.tag)&&a(n.key)&&r(t)&&(n.key="__vlist".concat(t,"_").concat(i,"__")),u.push(n)));return u}function fe(e,t){var i,n,a,o,s=null;if(Kn(e)||"string"==typeof e)for(s=new Array(e.length),i=0,n=e.length;i<n;i++)s[i]=t(e[i],i);else if("number"==typeof e)for(s=new Array(e),i=0;i<e;i++)s[i]=t(i+1,i);else if(u(e))if(Da&&e[Symbol.iterator]){s=[];for(var c=e[Symbol.iterator](),l=c.next();!l.done;)s.push(t(l.value,s.length)),l=c.next()}else for(a=Object.keys(e),s=new Array(a.length),i=0,n=a.length;i<n;i++)o=a[i],s[i]=t(e[o],o,i);return r(s)||(s=[]),s._isVList=!0,s}function pe(e,t,i,n){var a,r=this.$scopedSlots[e];r?(i=i||{},n&&(i=T(T({},n),i)),a=r(i)||(l(t)?t():t)):a=this.$slots[e]||(l(t)?t():t);var o=i&&i.slot;return o?this.$createElement("template",{slot:o},a):a}function me(e){return Gt(this.$options,"filters",e,!0)||la}function ge(e,t){return Kn(e)?-1===e.indexOf(t):e!==t}function _e(e,t,i,n,a){var r=fa.keyCodes[t]||i;return a&&n&&!fa.keyCodes[t]?ge(a,n):r?ge(r,e):n?oa(n)!==t:void 0===e}function ve(e,t,i,n,a){if(i)if(u(i)){Kn(i)&&(i=A(i));var r=void 0;for(var o in i)!function(o){if("class"===o||"style"===o||ea(o))r=e;else{var s=e.attrs&&e.attrs.type;r=n||fa.mustUseProp(t,s,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=na(o),l=oa(o);if(!(c in r||l in r)&&(r[o]=i[o],a)){(e.on||(e.on={}))["update:".concat(o)]=function(e){i[o]=e}}}(o)}else;return e}function be(e,t){var i=this._staticTrees||(this._staticTrees=[]),n=i[e];return n&&!t?n:(n=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),Oe(n,"__static__".concat(e),!1),n)}function ye(e,t,i){return Oe(e,"__once__".concat(t).concat(i?"_".concat(i):""),!0),e}function Oe(e,t,i){if(Kn(e))for(var n=0;n<e.length;n++)e[n]&&"string"!=typeof e[n]&&we(e[n],"".concat(t,"_").concat(n),i);else we(e,t,i)}function we(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function xe(e,t){if(t)if(h(t)){var i=e.on=e.on?T({},e.on):{};for(var n in t){var a=i[n],r=t[n];i[n]=a?[].concat(a,r):r}}else;return e}function Ee(e,t,i,n){t=t||{$stable:!i};for(var a=0;a<e.length;a++){var r=e[a];Kn(r)?Ee(r,t,i):r&&(r.proxy&&(r.fn.proxy=!0),t[r.key]=r.fn)}return n&&(t.$key=n),t}function Te(e,t){for(var i=0;i<t.length;i+=2){var n=t[i];"string"==typeof n&&n&&(e[t[i]]=t[i+1])}return e}function Ae(e,t){return"string"==typeof e?t+e:e}function Ce(e){e._o=ye,e._n=_,e._s=m,e._l=fe,e._t=pe,e._q=S,e._i=j,e._m=be,e._f=me,e._k=_e,e._b=ve,e._v=F,e._e=Ma,e._u=Ee,e._g=xe,e._d=Te,e._p=Ae}function Se(e,t){if(!e||!e.length)return{};for(var i={},n=0,a=e.length;n<a;n++){var r=e[n],o=r.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,r.context!==t&&r.fnContext!==t||!o||null==o.slot)(i.default||(i.default=[])).push(r);else{var s=o.slot,c=i[s]||(i[s]=[]);"template"===r.tag?c.push.apply(c,r.children||[]):c.push(r)}}for(var l in i)i[l].every(je)&&delete i[l];return i}function je(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Pe(e){return e.isComment&&e.asyncFactory}function De(e,t,i,n){var a,r=Object.keys(i).length>0,o=t?!!t.$stable:!r,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&n&&n!==Zn&&s===n.$key&&!r&&!n.$hasNormal)return n;a={};for(var c in t)t[c]&&"$"!==c[0]&&(a[c]=Ie(e,i,c,t[c]))}else a={};for(var l in i)l in a||(a[l]=Re(i,l));return t&&Object.isExtensible(t)&&(t._normalized=a),R(a,"$stable",o),R(a,"$key",s),R(a,"$hasNormal",r),a}function Ie(e,t,i,n){var a=function(){var t=Ia;N(e);var i=arguments.length?n.apply(null,arguments):n({});i=i&&"object"==typeof i&&!Kn(i)?[i]:ue(i);var a=i&&i[0];return N(t),i&&(!a||1===i.length&&a.isComment&&!Pe(a))?void 0:i};return n.proxy&&Object.defineProperty(t,i,{get:a,enumerable:!0,configurable:!0}),a}function Re(e,t){return function(){return e[t]}}function Me(e){var t=e.$options,i=t.setup;if(i){var n=e._setupContext=Le(e);N(e),B();var a=Je(i,null,[e._props||Y({}),n],e,"setup");if(k(),N(),l(a))t.render=a;else if(u(a))if(e._setupState=a,a.__sfc){var r=e._setupProxy={};for(var o in a)"__sfc"!==o&&$(r,a,o)}else for(var o in a)I(o)||$(e,a,o)}}function Le(e){return{get attrs(){if(!e._attrsProxy){var t=e._attrsProxy={};R(t,"_v_attr_proxy",!0),Ne(t,e.$attrs,Zn,e,"$attrs")}return e._attrsProxy},get listeners(){if(!e._listenersProxy){Ne(e._listenersProxy={},e.$listeners,Zn,e,"$listeners")}return e._listenersProxy},get slots(){return ze(e)},emit:sa(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach(function(i){return $(e,t,i)})}}}function Ne(e,t,i,n,a){var r=!1;for(var o in t)o in e?t[o]!==i[o]&&(r=!0):(r=!0,Fe(e,o,n,a));for(var o in e)o in t||(r=!0,delete e[o]);return r}function Fe(e,t,i,n){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return i[n][t]}})}function ze(e){return e._slotsProxy||Be(e._slotsProxy={},e.$scopedSlots),e._slotsProxy}function Be(e,t){for(var i in t)e[i]=t[i];for(var i in e)i in t||delete e[i]}function ke(e){e._vnode=null,e._staticTrees=null;var t=e.$options,i=e.$vnode=t._parentVnode,n=i&&i.context;e.$slots=Se(t._renderChildren,n),e.$scopedSlots=i?De(e.$parent,i.data.scopedSlots,e.$slots):Zn,e._c=function(t,i,n,a){return We(e,t,i,n,a,!1)},e.$createElement=function(t,i,n,a){return We(e,t,i,n,a,!0)};var a=i&&i.data;H(e,"$attrs",a&&a.attrs||Zn,null,!0),H(e,"$listeners",t._parentListeners||Zn,null,!0)}function Ue(e,t){return(e.__esModule||Da&&"Module"===e[Symbol.toStringTag])&&(e=e.default),u(e)?t.extend(e):e}function Ve(e,t,i,n,a){var r=Ma();return r.asyncFactory=e,r.asyncMeta={data:t,context:i,children:n,tag:a},r}function He(e,t){if(o(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var i=nr;if(i&&r(e.owners)&&-1===e.owners.indexOf(i)&&e.owners.push(i),o(e.loading)&&r(e.loadingComp))return e.loadingComp;if(i&&!r(e.owners)){var n=e.owners=[i],s=!0,c=null,l=null;i.$on("hook:destroyed",function(){return b(n,i)});var h=function(e){for(var t=0,i=n.length;t<i;t++)n[t].$forceUpdate();e&&(n.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},d=P(function(i){e.resolved=Ue(i,t),s?n.length=0:h(!0)}),f=P(function(t){r(e.errorComp)&&(e.error=!0,h(!0))}),m=e(d,f);return u(m)&&(p(m)?a(e.resolved)&&m.then(d,f):p(m.component)&&(m.component.then(d,f),r(m.error)&&(e.errorComp=Ue(m.error,t)),r(m.loading)&&(e.loadingComp=Ue(m.loading,t),0===m.delay?e.loading=!0:c=setTimeout(function(){c=null,a(e.resolved)&&a(e.error)&&(e.loading=!0,h(!1))},m.delay||200)),r(m.timeout)&&(l=setTimeout(function(){l=null,a(e.resolved)&&f(null)},m.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}function qe(e){if(Kn(e))for(var t=0;t<e.length;t++){var i=e[t];if(r(i)&&(r(i.componentOptions)||Pe(i)))return i}}function We(e,t,i,n,a,r){return(Kn(i)||c(i))&&(a=n,n=i,i=void 0),o(r)&&(a=rr),Ge(e,t,i,n,a)}function Ge(e,t,i,n,a){if(r(i)&&r(i.__ob__))return Ma();if(r(i)&&r(i.is)&&(t=i.is),!t)return Ma();Kn(n)&&l(n[0])&&(i=i||{},i.scopedSlots={default:n[0]},n.length=0),a===rr?n=ue(n):a===ar&&(n=le(n));var o,s;if("string"==typeof t){var c=void 0;s=e.$vnode&&e.$vnode.ns||fa.getTagNamespace(t),o=fa.isReservedTag(t)?new Ra(fa.parsePlatformTagName(t),i,n,void 0,void 0,e):i&&i.pre||!r(c=Gt(e.$options,"components",t))?new Ra(t,i,n,void 0,void 0,e):It(c,i,e,n,t)}else o=It(t,i,e,n);return Kn(o)?o:r(o)?(r(s)&&Ye(o,s),r(i)&&Xe(i),o):Ma()}function Ye(e,t,i){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,i=!0),r(e.children))for(var n=0,s=e.children.length;n<s;n++){var c=e.children[n];r(c.tag)&&(a(c.ns)||o(i)&&"svg"!==c.tag)&&Ye(c,t,i)}}function Xe(e){u(e.style)&&nt(e.style),u(e.class)&&nt(e.class)}function Qe(e,t,i){B();try{if(t)for(var n=t;n=n.$parent;){var a=n.$options.errorCaptured;if(a)for(var r=0;r<a.length;r++)try{var o=!1===a[r].call(n,e,t,i);if(o)return}catch(e){Ze(e,n,"errorCaptured hook")}}Ze(e,t,i)}finally{k()}}function Je(e,t,i,n,a){var r;try{r=i?e.apply(t,i):e.call(t),r&&!r._isVue&&p(r)&&!r._handled&&(r.catch(function(e){return Qe(e,n,a+" (Promise/async)")}),r._handled=!0)}catch(e){Qe(e,n,a)}return r}function Ze(e,t,i){if(fa.errorHandler)try{return fa.errorHandler.call(null,e,t,i)}catch(t){t!==e&&Ke(t,null,"config.errorHandler")}Ke(e,t,i)}function Ke(e,t,i){if(!_a||"undefined"==typeof console)throw e;console.error(e)}function $e(){cr=!1;var e=sr.slice(0);sr.length=0;for(var t=0;t<e.length;t++)e[t]()}function et(e,t){var i;if(sr.push(function(){if(e)try{e.call(t)}catch(e){Qe(e,t,"nextTick")}else i&&i(t)}),cr||(cr=!0,Ha()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){i=e})}function tt(e){return function(t,i){if(void 0===i&&(i=Ia),i)return it(i,e,t)}}function it(e,t,i){var n=e.$options;n[t]=Bt(n[t],i)}function nt(e){return at(e,pr),pr.clear(),e}function at(e,t){var i,n,a=Kn(e);if(!(!a&&!u(e)||e.__v_skip||Object.isFrozen(e)||e instanceof Ra)){if(e.__ob__){var r=e.__ob__.dep.id;if(t.has(r))return;t.add(r)}if(a)for(i=e.length;i--;)at(e[i],t);else if(K(e))at(e.value,t);else for(n=Object.keys(e),i=n.length;i--;)at(e[n[i]],t)}}function rt(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&lt(e,t)}function ot(e,t){fr.$on(e,t)}function st(e,t){fr.$off(e,t)}function ct(e,t){var i=fr;return function n(){null!==t.apply(null,arguments)&&i.$off(e,n)}}function lt(e,t,i){fr=e,re(t,i||{},ot,st,ct,e),fr=void 0}function ut(e){var t=_r;return _r=e,function(){_r=t}}function ht(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._provided=i?i._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function dt(e,t,i){e.$el=t,e.$options.render||(e.$options.render=Ma),_t(e,"beforeMount");var n;n=function(){e._update(e._render(),i)};var a={before:function(){e._isMounted&&!e._isDestroyed&&_t(e,"beforeUpdate")}};new gr(e,n,C,a,!0),i=!1;var r=e._preWatchers;if(r)for(var o=0;o<r.length;o++)r[o].run();return null==e.$vnode&&(e._isMounted=!0,_t(e,"mounted")),e}function ft(e,t,i,n,a){var r=n.data.scopedSlots,o=e.$scopedSlots,s=!!(r&&!r.$stable||o!==Zn&&!o.$stable||r&&e.$scopedSlots.$key!==r.$key||!r&&e.$scopedSlots.$key),c=!!(a||e.$options._renderChildren||s),l=e.$vnode;e.$options._parentVnode=n,e.$vnode=n,e._vnode&&(e._vnode.parent=n),e.$options._renderChildren=a;var u=n.data.attrs||Zn;e._attrsProxy&&Ne(e._attrsProxy,u,l.data&&l.data.attrs||Zn,e,"$attrs")&&(c=!0),e.$attrs=u,i=i||Zn;var h=e.$options._parentListeners;if(e._listenersProxy&&Ne(e._listenersProxy,i,h||Zn,e,"$listeners"),e.$listeners=e.$options._parentListeners=i,lt(e,i,h),t&&e.$options.props){U(!1);for(var d=e._props,f=e.$options._propKeys||[],p=0;p<f.length;p++){var m=f[p],g=e.$options.props;d[m]=Yt(m,g,t,e)}U(!0),e.$options.propsData=t}c&&(e.$slots=Se(a,n.context),e.$forceUpdate())}function pt(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function mt(e,t){if(t){if(e._directInactive=!1,pt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)mt(e.$children[i]);_t(e,"activated")}}function gt(e,t){if(!(t&&(e._directInactive=!0,pt(e))||e._inactive)){e._inactive=!0;for(var i=0;i<e.$children.length;i++)gt(e.$children[i]);_t(e,"deactivated")}}function _t(e,t,i,n){void 0===n&&(n=!0),B();var a=Ia,r=ie();n&&N(e);var o=e.$options[t],s="".concat(t," hook");if(o)for(var c=0,l=o.length;c<l;c++)Je(o[c],e,i||null,e,s);e._hasHookEvent&&e.$emit("hook:"+t),n&&(N(a),r&&r.on()),k()}function vt(){xr=vr.length=br.length=0,yr={},Or=wr=!1}function bt(){Er=Tr(),wr=!0;var e,t;for(vr.sort(Cr),xr=0;xr<vr.length;xr++)e=vr[xr],e.before&&e.before(),t=e.id,yr[t]=null,e.run();var i=br.slice(),n=vr.slice();vt(),wt(i),yt(n),Fa(),Pa&&fa.devtools&&Pa.emit("flush")}function yt(e){for(var t=e.length;t--;){var i=e[t],n=i.vm;n&&n._watcher===i&&n._isMounted&&!n._isDestroyed&&_t(n,"updated")}}function Ot(e){e._inactive=!1,br.push(e)}function wt(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,mt(e[t],!0)}function xt(e){var t=e.id;if(null==yr[t]&&(e!==za.target||!e.noRecurse)){if(yr[t]=!0,wr){for(var i=vr.length-1;i>xr&&vr[i].id>e.id;)i--;vr.splice(i+1,0,e)}else vr.push(e);Or||(Or=!0,et(bt))}}function Et(e){var t=e.$options.provide;if(t){var i=l(t)?t.call(e):t;if(!u(i))return;for(var n=ne(e),a=Da?Reflect.ownKeys(i):Object.keys(i),r=0;r<a.length;r++){var o=a[r];Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))}}}function Tt(e){var t=At(e.$options.inject,e);t&&(U(!1),Object.keys(t).forEach(function(i){H(e,i,t[i])}),U(!0))}function At(e,t){if(e){for(var i=Object.create(null),n=Da?Reflect.ownKeys(e):Object.keys(e),a=0;a<n.length;a++){var r=n[a];if("__ob__"!==r){var o=e[r].from;if(o in t._provided)i[r]=t._provided[o];else if("default"in e[r]){var s=e[r].default;i[r]=l(s)?s.call(t):s}}}return i}}function Ct(e,t,i,n,a){var r,s=this,c=a.options;y(n,"_uid")?(r=Object.create(n),r._original=n):(r=n,n=n._original);var l=o(c._compiled),u=!l;this.data=e,this.props=t,this.children=i,this.parent=n,this.listeners=e.on||Zn,this.injections=At(c.inject,n),this.slots=function(){return s.$slots||De(n,e.scopedSlots,s.$slots=Se(i,n)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return De(n,e.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=De(n,e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,i,a){var o=We(r,e,t,i,a,u);return o&&!Kn(o)&&(o.fnScopeId=c._scopeId,o.fnContext=n),o}:this._c=function(e,t,i,n){return We(r,e,t,i,n,u)}}function St(e,t,i,n,a){var o=e.options,s={},c=o.props;if(r(c))for(var l in c)s[l]=Yt(l,c,t||Zn);else r(i.attrs)&&Pt(s,i.attrs),r(i.props)&&Pt(s,i.props);var u=new Ct(i,s,a,n,e),h=o.render.call(null,u._c,u);if(h instanceof Ra)return jt(h,i,u.parent,o,u);if(Kn(h)){for(var d=ue(h)||[],f=new Array(d.length),p=0;p<d.length;p++)f[p]=jt(d[p],i,u.parent,o,u);return f}}function jt(e,t,i,n,a){var r=z(e);return r.fnContext=i,r.fnOptions=n,t.slot&&((r.data||(r.data={})).slot=t.slot),r}function Pt(e,t){for(var i in t)e[na(i)]=t[i]}function Dt(e){return e.name||e.__name||e._componentTag}function It(e,t,i,n,s){if(!a(e)){var c=i.$options._base;if(u(e)&&(e=c.extend(e)),"function"==typeof e){var l;if(a(e.cid)&&(l=e,void 0===(e=He(l,c))))return Ve(l,t,i,n,s);t=t||{},hi(e),r(t.model)&&Nt(e.options,t);var h=se(t,e,s);if(o(e.options.functional))return St(e,h,t,i,n);var d=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var f=t.slot;t={},f&&(t.slot=f)}Mt(t);var p=Dt(e.options)||s;return new Ra("vue-component-".concat(e.cid).concat(p?"-".concat(p):""),t,void 0,void 0,void 0,i,{Ctor:e,propsData:h,listeners:d,tag:s,children:n},l)}}}function Rt(e,t){var i={_isComponent:!0,_parentVnode:e,parent:t},n=e.data.inlineTemplate;return r(n)&&(i.render=n.render,i.staticRenderFns=n.staticRenderFns),new e.componentOptions.Ctor(i)}function Mt(e){for(var t=e.hook||(e.hook={}),i=0;i<jr.length;i++){var n=jr[i],a=t[n],r=Sr[n];a===r||a&&a._merged||(t[n]=a?Lt(r,a):r)}}function Lt(e,t){var i=function(i,n){e(i,n),t(i,n)};return i._merged=!0,i}function Nt(e,t){var i=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[i]=t.model.value;var a=t.on||(t.on={}),o=a[n],s=t.model.callback;r(o)?(Kn(o)?-1===o.indexOf(s):o!==s)&&(a[n]=[s].concat(o)):a[n]=s}function Ft(e,t,i){if(void 0===i&&(i=!0),!t)return e;for(var n,a,r,o=Da?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)"__ob__"!==(n=o[s])&&(a=e[n],r=t[n],i&&y(e,n)?a!==r&&h(a)&&h(r)&&Ft(a,r):q(e,n,r));return e}function zt(e,t,i){return i?function(){var n=l(t)?t.call(i,i):t,a=l(e)?e.call(i,i):e;return n?Ft(n,a):a}:t?e?function(){return Ft(l(t)?t.call(this,this):t,l(e)?e.call(this,this):e)}:t:e}function Bt(e,t){var i=t?e?e.concat(t):Kn(t)?t:[t]:e;return i?kt(i):i}function kt(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}function Ut(e,t,i,n){var a=Object.create(e||null);return t?T(a,t):a}function Vt(e,t){var i=e.props;if(i){var n,a,r,o={};if(Kn(i))for(n=i.length;n--;)"string"==typeof(a=i[n])&&(r=na(a),o[r]={type:null});else if(h(i))for(var s in i)a=i[s],r=na(s),o[r]=h(a)?a:{type:a};e.props=o}}function Ht(e,t){var i=e.inject;if(i){var n=e.inject={};if(Kn(i))for(var a=0;a<i.length;a++)n[i[a]]={from:i[a]};else if(h(i))for(var r in i){var o=i[r];n[r]=h(o)?T({from:r},o):{from:o}}}}function qt(e){var t=e.directives;if(t)for(var i in t){var n=t[i];l(n)&&(t[i]={bind:n,update:n})}}function Wt(e,t,i){function n(n){var a=Dr[n]||Ir;s[n]=a(e[n],t[n],i,n)}if(l(t)&&(t=t.options),Vt(t,i),Ht(t,i),qt(t),!t._base&&(t.extends&&(e=Wt(e,t.extends,i)),t.mixins))for(var a=0,r=t.mixins.length;a<r;a++)e=Wt(e,t.mixins[a],i);var o,s={};for(o in e)n(o);for(o in t)y(e,o)||n(o);return s}function Gt(e,t,i,n){if("string"==typeof i){var a=e[t];if(y(a,i))return a[i];var r=na(i);if(y(a,r))return a[r];var o=aa(r);if(y(a,o))return a[o];return a[i]||a[r]||a[o]}}function Yt(e,t,i,n){var a=t[e],r=!y(i,e),o=i[e],s=Zt(Boolean,a.type);if(s>-1)if(r&&!y(a,"default"))o=!1;else if(""===o||o===oa(e)){var c=Zt(String,a.type);(c<0||s<c)&&(o=!0)}if(void 0===o){o=Xt(n,a,e);var l=Ga;U(!0),V(o),U(l)}return o}function Xt(e,t,i){if(y(t,"default")){var n=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i]?e._props[i]:l(n)&&"Function"!==Qt(t.type)?n.call(e):n}}function Qt(e){var t=e&&e.toString().match(Rr);return t?t[1]:""}function Jt(e,t){return Qt(e)===Qt(t)}function Zt(e,t){if(!Kn(t))return Jt(t,e)?0:-1;for(var i=0,n=t.length;i<n;i++)if(Jt(t[i],e))return i;return-1}function Kt(e,t,i){Mr.get=function(){return this[t][i]},Mr.set=function(e){this[t][i]=e},Object.defineProperty(e,i,Mr)}function $t(e){var t=e.$options;if(t.props&&ei(e,t.props),Me(e),t.methods&&si(e,t.methods),t.data)ti(e);else{var i=V(e._data={});i&&i.vmCount++}t.computed&&ni(e,t.computed),t.watch&&t.watch!==Ea&&ci(e,t.watch)}function ei(e,t){var i=e.$options.propsData||{},n=e._props=Y({}),a=e.$options._propKeys=[],r=!e.$parent;r||U(!1);for(var o in t)!function(r){a.push(r);var o=Yt(r,t,i,e);H(n,r,o,void 0,!0),r in e||Kt(e,"_props",r)}(o);U(!0)}function ti(e){var t=e.$options.data;t=e._data=l(t)?ii(t,e):t||{},h(t)||(t={});for(var i=Object.keys(t),n=e.$options.props,a=(e.$options.methods,i.length);a--;){var r=i[a];n&&y(n,r)||I(r)||Kt(e,"_data",r)}var o=V(t);o&&o.vmCount++}function ii(e,t){B();try{return e.call(t,t)}catch(e){return Qe(e,t,"data()"),{}}finally{k()}}function ni(e,t){var i=e._computedWatchers=Object.create(null),n=ja();for(var a in t){var r=t[a],o=l(r)?r:r.get;n||(i[a]=new gr(e,o||C,C,Lr)),a in e||ai(e,a,r)}}function ai(e,t,i){var n=!ja();l(i)?(Mr.get=n?ri(t):oi(i),Mr.set=C):(Mr.get=i.get?n&&!1!==i.cache?ri(t):oi(i.get):C,Mr.set=i.set||C),Object.defineProperty(e,t,Mr)}function ri(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),za.target&&t.depend(),t.value}}function oi(e){return function(){return e.call(this,this)}}function si(e,t){e.$options.props;for(var i in t)e[i]="function"!=typeof t[i]?C:sa(t[i],e)}function ci(e,t){for(var i in t){var n=t[i];if(Kn(n))for(var a=0;a<n.length;a++)li(e,i,n[a]);else li(e,i,n)}}function li(e,t,i,n){return h(i)&&(n=i,i=i.handler),"string"==typeof i&&(i=e[i]),e.$watch(t,i,n)}function ui(e,t){var i=e.$options=Object.create(e.constructor.options),n=t._parentVnode;i.parent=t.parent,i._parentVnode=n;var a=n.componentOptions;i.propsData=a.propsData,i._parentListeners=a.listeners,i._renderChildren=a.children,i._componentTag=a.tag,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}function hi(e){var t=e.options;if(e.super){var i=hi(e.super);if(i!==e.superOptions){e.superOptions=i;var n=di(e);n&&T(e.extendOptions,n),t=e.options=Wt(i,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function di(e){var t,i=e.options,n=e.sealedOptions;for(var a in i)i[a]!==n[a]&&(t||(t={}),t[a]=i[a]);return t}function fi(e){this._init(e)}function pi(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=E(arguments,1);return i.unshift(this),l(e.install)?e.install.apply(e,i):l(e)&&e.apply(null,i),t.push(e),this}}function mi(e){e.mixin=function(e){return this.options=Wt(this.options,e),this}}function gi(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,n=i.cid,a=e._Ctor||(e._Ctor={});if(a[n])return a[n];var r=Dt(e)||Dt(i.options),o=function(e){this._init(e)};return o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.cid=t++,o.options=Wt(i.options,e),o.super=i,o.options.props&&_i(o),o.options.computed&&vi(o),o.extend=i.extend,o.mixin=i.mixin,o.use=i.use,ha.forEach(function(e){o[e]=i[e]}),r&&(o.options.components[r]=o),o.superOptions=i.options,o.extendOptions=e,o.sealedOptions=T({},o.options),a[n]=o,o}}function _i(e){var t=e.options.props;for(var i in t)Kt(e.prototype,"_props",i)}function vi(e){var t=e.options.computed;for(var i in t)ai(e.prototype,i,t[i])}function bi(e){ha.forEach(function(t){e[t]=function(e,i){return i?("component"===t&&h(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&l(i)&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}})}function yi(e){return e&&(Dt(e.Ctor.options)||e.tag)}function Oi(e,t){return Kn(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!d(e)&&e.test(t)}function wi(e,t){var i=e.cache,n=e.keys,a=e._vnode,r=e.$vnode;for(var o in i){var s=i[o];if(s){var c=s.name;c&&!t(c)&&xi(i,o,n,a)}}r.componentOptions.children=void 0}function xi(e,t,i,n){var a=e[t];!a||n&&a.tag===n.tag||a.componentInstance.$destroy(),e[t]=null,b(i,t)}function Ei(e){for(var t=e.data,i=e,n=e;r(n.componentInstance);)(n=n.componentInstance._vnode)&&n.data&&(t=Ti(n.data,t));for(;r(i=i.parent);)i&&i.data&&(t=Ti(t,i.data));return Ai(t.staticClass,t.class)}function Ti(e,t){return{staticClass:Ci(e.staticClass,t.staticClass),class:r(e.class)?[e.class,t.class]:t.class}}function Ai(e,t){return r(e)||r(t)?Ci(e,Si(t)):""}function Ci(e,t){return e?t?e+" "+t:e:t||""}function Si(e){return Array.isArray(e)?ji(e):u(e)?Pi(e):"string"==typeof e?e:""}function ji(e){for(var t,i="",n=0,a=e.length;n<a;n++)r(t=Si(e[n]))&&""!==t&&(i&&(i+=" "),i+=t);return i}function Pi(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}function Di(e){return io(e)?"svg":"math"===e?"math":void 0}function Ii(e){if(!_a)return!0;if(no(e))return!1;if(e=e.toLowerCase(),null!=ao[e])return ao[e];var t=document.createElement(e);return e.indexOf("-")>-1?ao[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ao[e]=/HTMLUnknownElement/.test(t.toString())}function Ri(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function Mi(e,t){var i=document.createElement(e);return"select"!==e?i:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)}function Li(e,t){return document.createElementNS(eo[e],t)}function Ni(e){return document.createTextNode(e)}function Fi(e){return document.createComment(e)}function zi(e,t,i){e.insertBefore(t,i)}function Bi(e,t){e.removeChild(t)}function ki(e,t){e.appendChild(t)}function Ui(e){return e.parentNode}function Vi(e){return e.nextSibling}function Hi(e){return e.tagName}function qi(e,t){e.textContent=t}function Wi(e,t){e.setAttribute(t,"")}function Gi(e,t){var i=e.data.ref;if(r(i)){var n=e.context,a=e.componentInstance||e.elm,o=t?null:a,s=t?void 0:a;if(l(i))return void Je(i,n,[o],n,"template ref function");var c=e.data.refInFor,u="string"==typeof i||"number"==typeof i,h=K(i),d=n.$refs;if(u||h)if(c){var f=u?d[i]:i.value;t?Kn(f)&&b(f,a):Kn(f)?f.includes(a)||f.push(a):u?(d[i]=[a],Yi(n,i,d[i])):i.value=[a]}else if(u){if(t&&d[i]!==a)return;d[i]=s,Yi(n,i,o)}else if(h){if(t&&i.value!==a)return;i.value=o}}}function Yi(e,t,i){var n=e._setupState;n&&y(n,t)&&(K(n[t])?n[t].value=i:n[t]=i)}function Xi(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&Qi(e,t)||o(e.isAsyncPlaceholder)&&a(t.asyncFactory.error))}function Qi(e,t){if("input"!==e.tag)return!0;var i,n=r(i=e.data)&&r(i=i.attrs)&&i.type,a=r(i=t.data)&&r(i=i.attrs)&&i.type;return n===a||ro(n)&&ro(a)}function Ji(e,t,i){var n,a,o={};for(n=t;n<=i;++n)a=e[n].key,r(a)&&(o[a]=n);return o}function Zi(e,t){(e.data.directives||t.data.directives)&&Ki(e,t)}function Ki(e,t){var i,n,a,r=e===co,o=t===co,s=$i(e.data.directives,e.context),c=$i(t.data.directives,t.context),l=[],u=[];for(i in c)n=s[i],a=c[i],n?(a.oldValue=n.value,a.oldArg=n.arg,tn(a,"update",t,e),a.def&&a.def.componentUpdated&&u.push(a)):(tn(a,"bind",t,e),a.def&&a.def.inserted&&l.push(a));if(l.length){var h=function(){for(var i=0;i<l.length;i++)tn(l[i],"inserted",t,e)};r?oe(t,"insert",h):h()}if(u.length&&oe(t,"postpatch",function(){for(var i=0;i<u.length;i++)tn(u[i],"componentUpdated",t,e)}),!r)for(i in s)c[i]||tn(s[i],"unbind",e,e,o)}function $i(e,t){var i=Object.create(null);if(!e)return i;var n,a;for(n=0;n<e.length;n++){if(a=e[n],a.modifiers||(a.modifiers=ho),i[en(a)]=a,t._setupState&&t._setupState.__sfc){var r=a.def||Gt(t,"_setupState","v-"+a.name);a.def="function"==typeof r?{bind:r,update:r}:r}a.def=a.def||Gt(t.$options,"directives",a.name,!0)}return i}function en(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function tn(e,t,i,n,a){var r=e.def&&e.def[t];if(r)try{r(i.elm,e,i,n,a)}catch(n){Qe(n,i.context,"directive ".concat(e.name," ").concat(t," hook"))}}function nn(e,t){var i=t.componentOptions;if(!(r(i)&&!1===i.Ctor.options.inheritAttrs||a(e.data.attrs)&&a(t.data.attrs))){var n,s,c=t.elm,l=e.data.attrs||{},u=t.data.attrs||{};(r(u.__ob__)||o(u._v_attr_proxy))&&(u=t.data.attrs=T({},u));for(n in u)s=u[n],l[n]!==s&&an(c,n,s,t.data.pre);(ba||Oa)&&u.value!==l.value&&an(c,"value",u.value);for(n in l)a(u[n])&&(Zr(n)?c.removeAttributeNS(Jr,Kr(n)):Gr(n)||c.removeAttribute(n))}}function an(e,t,i,n){n||e.tagName.indexOf("-")>-1?rn(e,t,i):Qr(t)?$r(i)?e.removeAttribute(t):(i="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,i)):Gr(t)?e.setAttribute(t,Xr(t,i)):Zr(t)?$r(i)?e.removeAttributeNS(Jr,Kr(t)):e.setAttributeNS(Jr,t,i):rn(e,t,i)}function rn(e,t,i){if($r(i))e.removeAttribute(t);else{if(ba&&!ya&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==i&&!e.__ieph){var n=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",n)};e.addEventListener("input",n),e.__ieph=!0}e.setAttribute(t,i)}}function on(e,t){var i=t.elm,n=t.data,o=e.data;if(!(a(n.staticClass)&&a(n.class)&&(a(o)||a(o.staticClass)&&a(o.class)))){var s=Ei(t),c=i._transitionClasses;r(c)&&(s=Ci(s,Si(c))),s!==i._prevClass&&(i.setAttribute("class",s),i._prevClass=s)}}function sn(e){if(r(e[go])){var t=ba?"change":"input";e[t]=[].concat(e[go],e[t]||[]),delete e[go]}r(e[_o])&&(e.change=[].concat(e[_o],e.change||[]),delete e[_o])}function cn(e,t,i){var n=kr;return function a(){null!==t.apply(null,arguments)&&un(e,a,i,n)}}function ln(e,t,i,n){if(vo){var a=Er,r=t;t=r._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=a||e.timeStamp<=0||e.target.ownerDocument!==document)return r.apply(this,arguments)}}kr.addEventListener(e,t,Ta?{capture:i,passive:n}:i)}function un(e,t,i,n){(n||kr).removeEventListener(e,t._wrapper||t,i)}function hn(e,t){if(!a(e.data.on)||!a(t.data.on)){var i=t.data.on||{},n=e.data.on||{};kr=t.elm||e.elm,sn(i),re(i,n,ln,un,cn,t.context),kr=void 0}}function dn(e,t){if(!a(e.data.domProps)||!a(t.data.domProps)){var i,n,s=t.elm,c=e.data.domProps||{},l=t.data.domProps||{};(r(l.__ob__)||o(l._v_attr_proxy))&&(l=t.data.domProps=T({},l));for(i in c)i in l||(s[i]="");for(i in l){if(n=l[i],"textContent"===i||"innerHTML"===i){if(t.children&&(t.children.length=0),n===c[i])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===i&&"PROGRESS"!==s.tagName){s._value=n;var u=a(n)?"":String(n);fn(s,u)&&(s.value=u)}else if("innerHTML"===i&&io(s.tagName)&&a(s.innerHTML)){Ur=Ur||document.createElement("div"),Ur.innerHTML="<svg>".concat(n,"</svg>");for(var h=Ur.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;h.firstChild;)s.appendChild(h.firstChild)}else if(n!==c[i])try{s[i]=n}catch(e){}}}}function fn(e,t){return!e.composing&&("OPTION"===e.tagName||pn(e,t)||mn(e,t))}function pn(e,t){var i=!0;try{i=document.activeElement!==e}catch(e){}return i&&e.value!==t}function mn(e,t){var i=e.value,n=e._vModifiers;if(r(n)){if(n.number)return _(i)!==_(t);if(n.trim)return i.trim()!==t.trim()}return i!==t}function gn(e){var t=_n(e.style);return e.staticStyle?T(e.staticStyle,t):t}function _n(e){return Array.isArray(e)?A(e):"string"==typeof e?Oo(e):e}function vn(e,t){var i,n={};if(t)for(var a=e;a.componentInstance;)(a=a.componentInstance._vnode)&&a.data&&(i=gn(a.data))&&T(n,i);(i=gn(e.data))&&T(n,i);for(var r=e;r=r.parent;)r.data&&(i=gn(r.data))&&T(n,i);return n}function bn(e,t){var i=t.data,n=e.data;if(!(a(i.staticStyle)&&a(i.style)&&a(n.staticStyle)&&a(n.style))){var o,s,c=t.elm,l=n.staticStyle,u=n.normalizedStyle||n.style||{},h=l||u,d=_n(t.data.style)||{};t.data.normalizedStyle=r(d.__ob__)?T({},d):d;var f=vn(t,!0);for(s in h)a(f[s])&&Eo(c,s,"");for(s in f)o=f[s],Eo(c,s,null==o?"":o)}}function yn(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(So).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var i=" ".concat(e.getAttribute("class")||""," ");i.indexOf(" "+t+" ")<0&&e.setAttribute("class",(i+t).trim())}}function On(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(So).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var i=" ".concat(e.getAttribute("class")||""," "),n=" "+t+" ";i.indexOf(n)>=0;)i=i.replace(n," ");i=i.trim(),i?e.setAttribute("class",i):e.removeAttribute("class")}}function wn(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&T(t,jo(e.name||"v")),T(t,e),t}return"string"==typeof e?jo(e):void 0}}function xn(e){Fo(function(){Fo(e)})}function En(e,t){var i=e._transitionClasses||(e._transitionClasses=[]);i.indexOf(t)<0&&(i.push(t),yn(e,t))}function Tn(e,t){e._transitionClasses&&b(e._transitionClasses,t),On(e,t)}function An(e,t,i){var n=Cn(e,t),a=n.type,r=n.timeout,o=n.propCount;if(!a)return i();var s=a===Do?Mo:No,c=0,l=function(){e.removeEventListener(s,u),i()},u=function(t){t.target===e&&++c>=o&&l()};setTimeout(function(){c<o&&l()},r+1),e.addEventListener(s,u)}function Cn(e,t){var i,n=window.getComputedStyle(e),a=(n[Ro+"Delay"]||"").split(", "),r=(n[Ro+"Duration"]||"").split(", "),o=Sn(a,r),s=(n[Lo+"Delay"]||"").split(", "),c=(n[Lo+"Duration"]||"").split(", "),l=Sn(s,c),u=0,h=0;return t===Do?o>0&&(i=Do,u=o,h=r.length):t===Io?l>0&&(i=Io,u=l,h=c.length):(u=Math.max(o,l),i=u>0?o>l?Do:Io:null,h=i?i===Do?r.length:c.length:0),{type:i,timeout:u,propCount:h,hasTransform:i===Do&&zo.test(n[Ro+"Property"])}}function Sn(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,i){return jn(t)+jn(e[i])}))}function jn(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Pn(e,t){var i=e.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var n=wn(e.data.transition);if(!a(n)&&!r(i._enterCb)&&1===i.nodeType){for(var o=n.css,s=n.type,c=n.enterClass,h=n.enterToClass,d=n.enterActiveClass,f=n.appearClass,p=n.appearToClass,m=n.appearActiveClass,g=n.beforeEnter,v=n.enter,b=n.afterEnter,y=n.enterCancelled,O=n.beforeAppear,w=n.appear,x=n.afterAppear,E=n.appearCancelled,T=n.duration,A=_r,C=_r.$vnode;C&&C.parent;)A=C.context,C=C.parent;var S=!A._isMounted||!e.isRootInsert;if(!S||w||""===w){var j=S&&f?f:c,D=S&&m?m:d,I=S&&p?p:h,R=S?O||g:g,M=S&&l(w)?w:v,L=S?x||b:b,N=S?E||y:y,F=_(u(T)?T.enter:T),z=!1!==o&&!ya,B=Rn(M),k=i._enterCb=P(function(){z&&(Tn(i,I),Tn(i,D)),k.cancelled?(z&&Tn(i,j),N&&N(i)):L&&L(i),i._enterCb=null});e.data.show||oe(e,"insert",function(){var t=i.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),M&&M(i,k)}),R&&R(i),z&&(En(i,j),En(i,D),xn(function(){Tn(i,j),k.cancelled||(En(i,I),B||(In(F)?setTimeout(k,F):An(i,s,k)))})),e.data.show&&(t&&t(),M&&M(i,k)),z||B||k()}}}function Dn(e,t){function i(){x.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),f&&f(n),y&&(En(n,l),En(n,d),xn(function(){Tn(n,l),x.cancelled||(En(n,h),O||(In(w)?setTimeout(x,w):An(n,c,x)))})),p&&p(n,x),y||O||x())}var n=e.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=wn(e.data.transition);if(a(o)||1!==n.nodeType)return t();if(!r(n._leaveCb)){var s=o.css,c=o.type,l=o.leaveClass,h=o.leaveToClass,d=o.leaveActiveClass,f=o.beforeLeave,p=o.leave,m=o.afterLeave,g=o.leaveCancelled,v=o.delayLeave,b=o.duration,y=!1!==s&&!ya,O=Rn(p),w=_(u(b)?b.leave:b),x=n._leaveCb=P(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),y&&(Tn(n,h),Tn(n,d)),x.cancelled?(y&&Tn(n,l),g&&g(n)):(t(),m&&m(n)),n._leaveCb=null});v?v(i):i()}}function In(e){return"number"==typeof e&&!isNaN(e)}function Rn(e){if(a(e))return!1;var t=e.fns;return r(t)?Rn(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Mn(e,t){!0!==t.data.show&&Pn(t)}function Ln(e,t,i){Nn(e,t,i),(ba||Oa)&&setTimeout(function(){Nn(e,t,i)},0)}function Nn(e,t,i){var n=t.value,a=e.multiple;if(!a||Array.isArray(n)){for(var r,o,s=0,c=e.options.length;s<c;s++)if(o=e.options[s],a)r=j(n,zn(o))>-1,o.selected!==r&&(o.selected=r);else if(S(zn(o),n))return void(e.selectedIndex!==s&&(e.selectedIndex=s));a||(e.selectedIndex=-1)}}function Fn(e,t){return t.every(function(t){return!S(t,e)})}function zn(e){return"_value"in e?e._value:e.value}function Bn(e){e.target.composing=!0}function kn(e){e.target.composing&&(e.target.composing=!1,Un(e.target,"input"))}function Un(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function Vn(e){return!e.componentInstance||e.data&&e.data.transition?e:Vn(e.componentInstance._vnode)}function Hn(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Hn(qe(t.children)):e}function qn(e){var t={},i=e.$options;for(var n in i.propsData)t[n]=e[n];var a=i._parentListeners;for(var n in a)t[na(n)]=a[n];return t}function Wn(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Gn(e){for(;e=e.parent;)if(e.data.transition)return!0}function Yn(e,t){return t.key===e.key&&t.tag===e.tag}function Xn(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Qn(e){e.data.newPos=e.elm.getBoundingClientRect()}function Jn(e){var t=e.data.pos,i=e.data.newPos,n=t.left-i.left,a=t.top-i.top;if(n||a){e.data.moved=!0;var r=e.elm.style;r.transform=r.WebkitTransform="translate(".concat(n,"px,").concat(a,"px)"),r.transitionDuration="0s"}}i.d(t,"a",function(){return fi});/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var Zn=Object.freeze({}),Kn=Array.isArray,$n=Object.prototype.toString,ea=(v("slot,component",!0),v("key,ref,slot,slot-scope,is")),ta=Object.prototype.hasOwnProperty,ia=/-(\w)/g,na=O(function(e){return e.replace(ia,function(e,t){return t?t.toUpperCase():""})}),aa=O(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),ra=/\B([A-Z])/g,oa=O(function(e){return e.replace(ra,"-$1").toLowerCase()}),sa=Function.prototype.bind?x:w,ca=function(e,t,i){return!1},la=function(e){return e},ua="data-server-rendered",ha=["component","directive","filter"],da=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],fa={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:ca,isReservedAttr:ca,isUnknownElement:ca,getTagNamespace:C,parsePlatformTagName:la,mustUseProp:ca,async:!0,_lifecycleHooks:da},pa=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/,ma=new RegExp("[^".concat(pa.source,".$_\\d]")),ga="__proto__"in{},_a="undefined"!=typeof window,va=_a&&window.navigator.userAgent.toLowerCase(),ba=va&&/msie|trident/.test(va),ya=va&&va.indexOf("msie 9.0")>0,Oa=va&&va.indexOf("edge/")>0;va&&va.indexOf("android");var wa=va&&/iphone|ipad|ipod|ios/.test(va);va&&/chrome\/\d+/.test(va),va&&/phantomjs/.test(va);var xa=va&&va.match(/firefox\/(\d+)/),Ea={}.watch,Ta=!1;if(_a)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){Ta=!0}}),window.addEventListener("test-passive",null,Aa)}catch(e){}var Ca,Sa,ja=function(){return void 0===Ca&&(Ca=!_a&&void 0!==e&&(e.process&&"server"===e.process.env.VUE_ENV)),Ca},Pa=_a&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Da="undefined"!=typeof Symbol&&L(Symbol)&&"undefined"!=typeof Reflect&&L(Reflect.ownKeys);Sa="undefined"!=typeof Set&&L(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Ia=null,Ra=function(){function e(e,t,i,n,a,r,o,s){this.tag=e,this.data=t,this.children=i,this.text=n,this.elm=a,this.ns=void 0,this.context=r,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),Ma=function(e){void 0===e&&(e="");var t=new Ra;return t.text=e,t.isComment=!0,t};"function"==typeof SuppressedError&&SuppressedError;var La=0,Na=[],Fa=function(){for(var e=0;e<Na.length;e++){var t=Na[e];t.subs=t.subs.filter(function(e){return e}),t._pending=!1}Na.length=0},za=function(){function e(){this._pending=!1,this.id=La++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,Na.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){for(var t=this.subs.filter(function(e){return e}),i=0,n=t.length;i<n;i++){var a=t[i];a.update()}},e}();za.target=null;var Ba=[],ka=Array.prototype,Ua=Object.create(ka);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=ka[e];R(Ua,e,function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var a,r=t.apply(this,i),o=this.__ob__;switch(e){case"push":case"unshift":a=i;break;case"splice":a=i.slice(2)}return a&&o.observeArray(a),o.dep.notify(),r})});var Va,Ha,qa=Object.getOwnPropertyNames(Ua),Wa={},Ga=!0,Ya={notify:C,depend:C,addSub:C,removeSub:C},Xa=function(){function e(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=!1),this.value=e,this.shallow=t,this.mock=i,this.dep=i?Ya:new za,this.vmCount=0,R(e,"__ob__",this),Kn(e)){if(!i)if(ga)e.__proto__=Ua;else for(var n=0,a=qa.length;n<a;n++){var r=qa[n];R(e,r,Ua[r])}t||this.observeArray(e)}else for(var o=Object.keys(e),n=0;n<o.length;n++){var r=o[n];H(e,r,Wa,void 0,t,i)}}return e.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)V(e[t],!1,this.mock)},e}(),Qa="__v_isRef",Ja="watcher",Za="".concat(Ja," callback"),Ka="".concat(Ja," getter"),$a="".concat(Ja," cleanup"),er={},tr=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Va,!e&&Va&&(this.index=(Va.scopes||(Va.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=Va;try{return Va=this,e()}finally{Va=t}}},e.prototype.on=function(){Va=this},e.prototype.off=function(){Va=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,i=void 0;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].teardown();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this.active=!1}},e}(),ir=O(function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var i="~"===e.charAt(0);e=i?e.slice(1):e;var n="!"===e.charAt(0);return e=n?e.slice(1):e,{name:e,once:i,capture:n,passive:t}}),nr=null,ar=1,rr=2,or=!1,sr=[],cr=!1;if("undefined"!=typeof Promise&&L(Promise)){var lr=Promise.resolve();Ha=function(){lr.then($e),wa&&setTimeout(C)},or=!0}else if(ba||"undefined"==typeof MutationObserver||!L(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ha=void 0!==n&&L(n)?function(){n($e)}:function(){setTimeout($e,0)};else{var ur=1,hr=new MutationObserver($e),dr=document.createTextNode(String(ur));hr.observe(dr,{characterData:!0}),Ha=function(){ur=(ur+1)%2,dr.data=String(ur)},or=!0}var fr,pr=(tt("beforeMount"),tt("mounted"),tt("beforeUpdate"),tt("updated"),tt("beforeDestroy"),tt("destroyed"),tt("activated"),tt("deactivated"),tt("serverPrefetch"),tt("renderTracked"),tt("renderTriggered"),tt("errorCaptured"),new Sa),mr=0,gr=function(){function e(e,t,i,n,a){te(this,Va&&!Va._vm?Va:e?e._scope:void 0),(this.vm=e)&&a&&(e._watcher=this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++mr,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Sa,this.newDepIds=new Sa,this.expression="",l(t)?this.getter=t:(this.getter=M(t),this.getter||(this.getter=C)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){B(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;Qe(e,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&nt(e),k(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():xt(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||u(e)||this.deep){var t=this.value;if(this.value=e,this.user){var i='callback for watcher "'.concat(this.expression,'"');Je(this.cb,this.vm,[e,t],this.vm,i)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&b(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}(),_r=null,vr=[],br=[],yr={},Or=!1,wr=!1,xr=0,Er=0,Tr=Date.now;if(_a&&!ba){var Ar=window.performance;Ar&&"function"==typeof Ar.now&&Tr()>document.createEvent("Event").timeStamp&&(Tr=function(){return Ar.now()})}var Cr=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};Ce(Ct.prototype);var Sr={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var i=e;Sr.prepatch(i,i)}else{(e.componentInstance=Rt(e,_r)).$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var i=t.componentOptions;ft(t.componentInstance=e.componentInstance,i.propsData,i.listeners,t,i.children)},insert:function(e){var t=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,_t(i,"mounted")),e.data.keepAlive&&(t._isMounted?Ot(i):mt(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?gt(t,!0):t.$destroy())}},jr=Object.keys(Sr),Pr=C,Dr=fa.optionMergeStrategies;Dr.data=function(e,t,i){return i?zt(e,t,i):t&&"function"!=typeof t?e:zt(e,t)},da.forEach(function(e){Dr[e]=Bt}),ha.forEach(function(e){Dr[e+"s"]=Ut}),Dr.watch=function(e,t,i,n){if(e===Ea&&(e=void 0),t===Ea&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var a={};T(a,e);for(var r in t){var o=a[r],s=t[r];o&&!Kn(o)&&(o=[o]),a[r]=o?o.concat(s):Kn(s)?s:[s]}return a},Dr.props=Dr.methods=Dr.inject=Dr.computed=function(e,t,i,n){if(!e)return t;var a=Object.create(null);return T(a,e),t&&T(a,t),a},Dr.provide=function(e,t){return e?function(){var i=Object.create(null);return Ft(i,l(e)?e.call(this):e),t&&Ft(i,l(t)?t.call(this):t,!1),i}:t};var Ir=function(e,t){return void 0===t?e:t},Rr=/^\s*function (\w+)/,Mr={enumerable:!0,configurable:!0,get:C,set:C},Lr={lazy:!0},Nr=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=Nr++,t._isVue=!0,t.__v_skip=!0,t._scope=new tr(!0),t._scope.parent=void 0,t._scope._vm=!0,e&&e._isComponent?ui(t,e):t.$options=Wt(hi(t.constructor),e||{},t),t._renderProxy=t,t._self=t,ht(t),rt(t),ke(t),_t(t,"beforeCreate",void 0,!1),Tt(t),$t(t),Et(t),_t(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(fi),function(e){var t={};t.get=function(){return this._data};var i={};i.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=q,e.prototype.$delete=W,e.prototype.$watch=function(e,t,i){var n=this;if(h(t))return li(n,e,t,i);i=i||{},i.user=!0;var a=new gr(n,e,t,i);if(i.immediate){var r='callback for immediate watcher "'.concat(a.expression,'"');B(),Je(t,n,[a.value],n,r),k()}return function(){a.teardown()}}}(fi),function(e){var t=/^hook:/;e.prototype.$on=function(e,i){var n=this;if(Kn(e))for(var a=0,r=e.length;a<r;a++)n.$on(e[a],i);else(n._events[e]||(n._events[e]=[])).push(i),t.test(e)&&(n._hasHookEvent=!0);return n},e.prototype.$once=function(e,t){function i(){n.$off(e,i),t.apply(n,arguments)}var n=this;return i.fn=t,n.$on(e,i),n},e.prototype.$off=function(e,t){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Kn(e)){for(var n=0,a=e.length;n<a;n++)i.$off(e[n],t);return i}var r=i._events[e];if(!r)return i;if(!t)return i._events[e]=null,i;for(var o,s=r.length;s--;)if((o=r[s])===t||o.fn===t){r.splice(s,1);break}return i},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?E(i):i;for(var n=E(arguments,1),a='event handler for "'.concat(e,'"'),r=0,o=i.length;r<o;r++)Je(i[r],t,n,t,a)}return t}}(fi),function(e){e.prototype._update=function(e,t){var i=this,n=i.$el,a=i._vnode,r=ut(i);i._vnode=e,i.$el=a?i.__patch__(a,e):i.__patch__(i.$el,e,t,!1),r(),n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i);for(var o=i;o&&o.$vnode&&o.$parent&&o.$vnode===o.$parent._vnode;)o.$parent.$el=o.$el,o=o.$parent},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){_t(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||b(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),_t(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(fi),function(e){Ce(e.prototype),e.prototype.$nextTick=function(e){return et(e,this)},e.prototype._render=function(){var e=this,t=e.$options,i=t.render,n=t._parentVnode;n&&e._isMounted&&(e.$scopedSlots=De(e.$parent,n.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&Be(e._slotsProxy,e.$scopedSlots)),e.$vnode=n;var a,r=Ia,o=nr;try{N(e),nr=e,a=i.call(e._renderProxy,e.$createElement)}catch(t){Qe(t,e,"render"),a=e._vnode}finally{nr=o,N(r)}return Kn(a)&&1===a.length&&(a=a[0]),a instanceof Ra||(a=Ma()),a.parent=n,a}}(fi);var Fr=[String,RegExp,Array],zr={name:"keep-alive",abstract:!0,props:{include:Fr,exclude:Fr,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,i=e.keys,n=e.vnodeToCache,a=e.keyToCache;if(n){var r=n.tag,o=n.componentInstance,s=n.componentOptions;t[a]={name:yi(s),tag:r,componentInstance:o},i.push(a),this.max&&i.length>parseInt(this.max)&&xi(t,i[0],i,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)xi(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",function(t){wi(e,function(e){return Oi(t,e)})}),this.$watch("exclude",function(t){wi(e,function(e){return!Oi(t,e)})})},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=qe(e),i=t&&t.componentOptions;if(i){var n=yi(i),a=this,r=a.include,o=a.exclude;if(r&&(!n||!Oi(r,n))||o&&n&&Oi(o,n))return t;var s=this,c=s.cache,l=s.keys,u=null==t.key?i.Ctor.cid+(i.tag?"::".concat(i.tag):""):t.key;c[u]?(t.componentInstance=c[u].componentInstance,b(l,u),l.push(u)):(this.vnodeToCache=t,this.keyToCache=u),t.data.keepAlive=!0}return t||e&&e[0]}},Br={KeepAlive:zr};!function(e){var t={};t.get=function(){return fa},Object.defineProperty(e,"config",t),e.util={warn:Pr,extend:T,mergeOptions:Wt,defineReactive:H},e.set=q,e.delete=W,e.nextTick=et,e.observable=function(e){return V(e),e},e.options=Object.create(null),ha.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,T(e.options.components,Br),pi(e),mi(e),gi(e),bi(e)}(fi),Object.defineProperty(fi.prototype,"$isServer",{get:ja}),Object.defineProperty(fi.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(fi,"FunctionalRenderContext",{value:Ct}),fi.version="2.7.16";var kr,Ur,Vr,Hr=v("style,class"),qr=v("input,textarea,option,select,progress"),Wr=function(e,t,i){return"value"===i&&qr(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e},Gr=v("contenteditable,draggable,spellcheck"),Yr=v("events,caret,typing,plaintext-only"),Xr=function(e,t){return $r(t)||"false"===t?"false":"contenteditable"===e&&Yr(t)?t:"true"},Qr=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Jr="http://www.w3.org/1999/xlink",Zr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Kr=function(e){return Zr(e)?e.slice(6,e.length):""},$r=function(e){return null==e||!1===e},eo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},to=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),io=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),no=function(e){return to(e)||io(e)},ao=Object.create(null),ro=v("text,number,password,search,email,tel,url"),oo=Object.freeze({__proto__:null,createElement:Mi,createElementNS:Li,createTextNode:Ni,createComment:Fi,insertBefore:zi,removeChild:Bi,appendChild:ki,parentNode:Ui,nextSibling:Vi,tagName:Hi,setTextContent:qi,setStyleScope:Wi}),so={create:function(e,t){Gi(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Gi(e,!0),Gi(t))},destroy:function(e){Gi(e,!0)}},co=new Ra("",{},[]),lo=["create","activate","update","remove","destroy"],uo={create:Zi,update:Zi,destroy:function(e){Zi(e,co)}},ho=Object.create(null),fo=[so,uo],po={create:nn,update:nn},mo={create:on,update:on},go="__r",_o="__c",vo=or&&!(xa&&Number(xa[1])<=53),bo={create:hn,update:hn,destroy:function(e){return hn(e,co)}},yo={create:dn,update:dn},Oo=O(function(e){var t={},i=/;(?![^(]*\))/g,n=/:(.+)/;return e.split(i).forEach(function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}),wo=/^--/,xo=/\s*!important$/,Eo=function(e,t,i){if(wo.test(t))e.style.setProperty(t,i);else if(xo.test(i))e.style.setProperty(oa(t),i.replace(xo,""),"important");else{var n=Ao(t);if(Array.isArray(i))for(var a=0,r=i.length;a<r;a++)e.style[n]=i[a];else e.style[n]=i}},To=["Webkit","Moz","ms"],Ao=O(function(e){if(Vr=Vr||document.createElement("div").style,"filter"!==(e=na(e))&&e in Vr)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<To.length;i++){var n=To[i]+t;if(n in Vr)return n}}),Co={create:bn,update:bn},So=/\s+/,jo=O(function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}}),Po=_a&&!ya,Do="transition",Io="animation",Ro="transition",Mo="transitionend",Lo="animation",No="animationend";Po&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ro="WebkitTransition",Mo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Lo="WebkitAnimation",No="webkitAnimationEnd"));var Fo=_a?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()},zo=/\b(transform|all)(,|$)/,Bo=_a?{create:Mn,activate:Mn,remove:function(e,t){!0!==e.data.show?Dn(e,t):t()}}:{},ko=[po,mo,bo,yo,Co,Bo],Uo=ko.concat(fo),Vo=function(e){function t(e){return new Ra(D.tagName(e).toLowerCase(),{},[],void 0,e)}function i(e,t){function i(){0==--i.listeners&&n(e)}return i.listeners=t,i}function n(e){var t=D.parentNode(e);r(t)&&D.removeChild(t,e)}function s(e,t,i,n,a,s,c){if(r(e.elm)&&r(s)&&(e=s[c]=z(e)),e.isRootInsert=!a,!l(e,t,i,n)){var u=e.data,h=e.children,p=e.tag;r(p)?(e.elm=e.ns?D.createElementNS(e.ns,p):D.createElement(p,e),g(e),f(e,h,t),r(u)&&m(e,t),d(i,e.elm,n)):o(e.isComment)?(e.elm=D.createComment(e.text),d(i,e.elm,n)):(e.elm=D.createTextNode(e.text),d(i,e.elm,n))}}function l(e,t,i,n){var a=e.data;if(r(a)){var s=r(e.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(e,!1),r(e.componentInstance))return u(e,t),d(i,e.elm,n),o(s)&&h(e,t,i,n),!0}}function u(e,t){r(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,p(e)?(m(e,t),g(e)):(Gi(e),t.push(e))}function h(e,t,i,n){for(var a,o=e;o.componentInstance;)if(o=o.componentInstance._vnode,r(a=o.data)&&r(a=a.transition)){for(a=0;a<j.activate.length;++a)j.activate[a](co,o);t.push(o);break}d(i,e.elm,n)}function d(e,t,i){r(e)&&(r(i)?D.parentNode(i)===e&&D.insertBefore(e,t,i):D.appendChild(e,t))}function f(e,t,i){if(Kn(t))for(var n=0;n<t.length;++n)s(t[n],i,e.elm,null,!0,t,n);else c(e.text)&&D.appendChild(e.elm,D.createTextNode(String(e.text)))}function p(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return r(e.tag)}function m(e,t){for(var i=0;i<j.create.length;++i)j.create[i](co,e);C=e.data.hook,r(C)&&(r(C.create)&&C.create(co,e),r(C.insert)&&t.push(e))}function g(e){var t;if(r(t=e.fnScopeId))D.setStyleScope(e.elm,t);else for(var i=e;i;)r(t=i.context)&&r(t=t.$options._scopeId)&&D.setStyleScope(e.elm,t),i=i.parent;r(t=_r)&&t!==e.context&&t!==e.fnContext&&r(t=t.$options._scopeId)&&D.setStyleScope(e.elm,t)}function _(e,t,i,n,a,r){for(;n<=a;++n)s(i[n],r,e,t,!1,i,n)}function b(e){var t,i,n=e.data;if(r(n))for(r(t=n.hook)&&r(t=t.destroy)&&t(e),t=0;t<j.destroy.length;++t)j.destroy[t](e);if(r(t=e.children))for(i=0;i<e.children.length;++i)b(e.children[i])}function y(e,t,i){for(;t<=i;++t){var a=e[t];r(a)&&(r(a.tag)?(O(a),b(a)):n(a.elm))}}function O(e,t){if(r(t)||r(e.data)){var a,o=j.remove.length+1;for(r(t)?t.listeners+=o:t=i(e.elm,o),r(a=e.componentInstance)&&r(a=a._vnode)&&r(a.data)&&O(a,t),a=0;a<j.remove.length;++a)j.remove[a](e,t);r(a=e.data.hook)&&r(a=a.remove)?a(e,t):t()}else n(e.elm)}function w(e,t,i,n,o){for(var c,l,u,h,d=0,f=0,p=t.length-1,m=t[0],g=t[p],v=i.length-1,b=i[0],O=i[v],w=!o;d<=p&&f<=v;)a(m)?m=t[++d]:a(g)?g=t[--p]:Xi(m,b)?(E(m,b,n,i,f),m=t[++d],b=i[++f]):Xi(g,O)?(E(g,O,n,i,v),g=t[--p],O=i[--v]):Xi(m,O)?(E(m,O,n,i,v),w&&D.insertBefore(e,m.elm,D.nextSibling(g.elm)),m=t[++d],O=i[--v]):Xi(g,b)?(E(g,b,n,i,f),w&&D.insertBefore(e,g.elm,m.elm),g=t[--p],b=i[++f]):(a(c)&&(c=Ji(t,d,p)),l=r(b.key)?c[b.key]:x(b,t,d,p),a(l)?s(b,n,e,m.elm,!1,i,f):(u=t[l],Xi(u,b)?(E(u,b,n,i,f),t[l]=void 0,w&&D.insertBefore(e,u.elm,m.elm)):s(b,n,e,m.elm,!1,i,f)),b=i[++f]);d>p?(h=a(i[v+1])?null:i[v+1].elm,_(e,h,i,f,v,n)):f>v&&y(t,d,p)}function x(e,t,i,n){for(var a=i;a<n;a++){var o=t[a];if(r(o)&&Xi(e,o))return a}}function E(e,t,i,n,s,c){if(e!==t){r(t.elm)&&r(n)&&(t=n[s]=z(t));var l=t.elm=e.elm;if(o(e.isAsyncPlaceholder))return void(r(t.asyncFactory.resolved)?A(e.elm,t,i):t.isAsyncPlaceholder=!0);if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))return void(t.componentInstance=e.componentInstance);var u,h=t.data;r(h)&&r(u=h.hook)&&r(u=u.prepatch)&&u(e,t);var d=e.children,f=t.children;if(r(h)&&p(t)){for(u=0;u<j.update.length;++u)j.update[u](e,t);r(u=h.hook)&&r(u=u.update)&&u(e,t)}a(t.text)?r(d)&&r(f)?d!==f&&w(l,d,f,i,c):r(f)?(r(e.text)&&D.setTextContent(l,""),_(l,null,f,0,f.length-1,i)):r(d)?y(d,0,d.length-1):r(e.text)&&D.setTextContent(l,""):e.text!==t.text&&D.setTextContent(l,t.text),r(h)&&r(u=h.hook)&&r(u=u.postpatch)&&u(e,t)}}function T(e,t,i){if(o(i)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var n=0;n<t.length;++n)t[n].data.hook.insert(t[n])}function A(e,t,i,n){var a,s=t.tag,c=t.data,l=t.children;if(n=n||c&&c.pre,t.elm=e,o(t.isComment)&&r(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(r(c)&&(r(a=c.hook)&&r(a=a.init)&&a(t,!0),r(a=t.componentInstance)))return u(t,i),!0;if(r(s)){if(r(l))if(e.hasChildNodes())if(r(a=c)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var h=!0,d=e.firstChild,p=0;p<l.length;p++){if(!d||!A(d,l[p],i,n)){h=!1;break}d=d.nextSibling}if(!h||d)return!1}else f(t,l,i);if(r(c)){var g=!1;for(var _ in c)if(!I(_)){g=!0,m(t,i);break}!g&&c.class&&nt(c.class)}}else e.data!==t.text&&(e.data=t.text);return!0}var C,S,j={},P=e.modules,D=e.nodeOps;for(C=0;C<lo.length;++C)for(j[lo[C]]=[],S=0;S<P.length;++S)r(P[S][lo[C]])&&j[lo[C]].push(P[S][lo[C]]);var I=v("attrs,class,staticClass,staticStyle,key");return function(e,i,n,c){if(a(i))return void(r(e)&&b(e));var l=!1,u=[];if(a(e))l=!0,s(i,u);else{var h=r(e.nodeType);if(!h&&Xi(e,i))E(e,i,u,null,null,c);else{if(h){if(1===e.nodeType&&e.hasAttribute(ua)&&(e.removeAttribute(ua),n=!0),o(n)&&A(e,i,u))return T(i,u,!0),e;e=t(e)}var d=e.elm,f=D.parentNode(d);if(s(i,u,d._leaveCb?null:f,D.nextSibling(d)),r(i.parent))for(var m=i.parent,g=p(i);m;){for(var _=0;_<j.destroy.length;++_)j.destroy[_](m);if(m.elm=i.elm,g){for(var v=0;v<j.create.length;++v)j.create[v](co,m);var O=m.data.hook.insert;if(O.merged)for(var w=O.fns.slice(1),x=0;x<w.length;x++)w[x]()}else Gi(m);m=m.parent}r(f)?y([e],0,0):r(e.tag)&&b(e)}}return T(i,u,l),i.elm}}({nodeOps:oo,modules:Uo});ya&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Un(e,"input")});var Ho={inserted:function(e,t,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?oe(i,"postpatch",function(){Ho.componentUpdated(e,t,i)}):Ln(e,t,i.context),e._vOptions=[].map.call(e.options,zn)):("textarea"===i.tag||ro(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Bn),e.addEventListener("compositionend",kn),e.addEventListener("change",kn),ya&&(e.vmodel=!0)))},componentUpdated:function(e,t,i){if("select"===i.tag){Ln(e,t,i.context);var n=e._vOptions,a=e._vOptions=[].map.call(e.options,zn);if(a.some(function(e,t){return!S(e,n[t])})){(e.multiple?t.value.some(function(e){return Fn(e,a)}):t.value!==t.oldValue&&Fn(t.value,a))&&Un(e,"change")}}}},qo={bind:function(e,t,i){var n=t.value;i=Vn(i);var a=i.data&&i.data.transition,r=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;n&&a?(i.data.show=!0,Pn(i,function(){e.style.display=r})):e.style.display=n?r:"none"},update:function(e,t,i){var n=t.value;!n!=!t.oldValue&&(i=Vn(i),i.data&&i.data.transition?(i.data.show=!0,n?Pn(i,function(){e.style.display=e.__vOriginalDisplay}):Dn(i,function(){e.style.display="none"})):e.style.display=n?e.__vOriginalDisplay:"none")},unbind:function(e,t,i,n,a){a||(e.style.display=e.__vOriginalDisplay)}},Wo={model:Ho,show:qo},Go={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Yo=function(e){return e.tag||Pe(e)},Xo=function(e){return"show"===e.name},Qo={name:"transition",props:Go,abstract:!0,render:function(e){var t=this,i=this.$slots.default;if(i&&(i=i.filter(Yo),i.length)){var n=this.mode,a=i[0];if(Gn(this.$vnode))return a;var r=Hn(a);if(!r)return a;if(this._leaving)return Wn(e,a);var o="__transition-".concat(this._uid,"-");r.key=null==r.key?r.isComment?o+"comment":o+r.tag:c(r.key)?0===String(r.key).indexOf(o)?r.key:o+r.key:r.key;var s=(r.data||(r.data={})).transition=qn(this),l=this._vnode,u=Hn(l);if(r.data.directives&&r.data.directives.some(Xo)&&(r.data.show=!0),u&&u.data&&!Yn(r,u)&&!Pe(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=T({},s);if("out-in"===n)return this._leaving=!0,oe(h,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Wn(e,a);if("in-out"===n){if(Pe(r))return l;var d,f=function(){d()};oe(s,"afterEnter",f),oe(s,"enterCancelled",f),oe(h,"delayLeave",function(e){d=e})}}return a}}},Jo=T({tag:String,moveClass:String},Go);delete Jo.mode;var Zo={props:Jo,beforeMount:function(){var e=this,t=this._update;this._update=function(i,n){var a=ut(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,a(),t.call(e,i,n)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,a=this.$slots.default||[],r=this.children=[],o=qn(this),s=0;s<a.length;s++){var c=a[s];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))r.push(c),i[c.key]=c,(c.data||(c.data={})).transition=o;else;}if(n){for(var l=[],u=[],s=0;s<n.length;s++){var c=n[s];c.data.transition=o,c.data.pos=c.elm.getBoundingClientRect(),i[c.key]?l.push(c):u.push(c)}this.kept=e(t,null,l),this.removed=u}return e(t,null,r)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Xn),e.forEach(Qn),e.forEach(Jn),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var i=e.elm,n=i.style;En(i,t),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(Mo,i._moveCb=function e(n){n&&n.target!==i||n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(Mo,e),i._moveCb=null,Tn(i,t))})}}))},methods:{hasMove:function(e,t){if(!Po)return!1;if(this._hasMove)return this._hasMove;var i=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){On(i,e)}),yn(i,t),i.style.display="none",this.$el.appendChild(i);var n=Cn(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}},Ko={Transition:Qo,TransitionGroup:Zo};fi.config.mustUseProp=Wr,fi.config.isReservedTag=no,fi.config.isReservedAttr=Hr,fi.config.getTagNamespace=Di,fi.config.isUnknownElement=Ii,T(fi.options.directives,Wo),T(fi.options.components,Ko),fi.prototype.__patch__=_a?Vo:C,fi.prototype.$mount=function(e,t){return e=e&&_a?Ri(e):void 0,dt(this,e,t)},_a&&setTimeout(function(){fa.devtools&&Pa&&Pa.emit("init",fi)},0)}).call(t,i("DuR2"),i("162o").setImmediate)},"/8qB":function(e,t,i){"use strict";function n(e,t){if(!Object(a.a)(e))throw new o.a("container is required.");if(!Object(a.a)(t))throw new o.a("scene is required.");e=Object(c.a)(e);var i=document.createElement("div"),n=new u.a(t,i);this._viewModel=n,this._container=e;var r=document.createElement("div");this._element=r;var h=document.createElement("div");h.textContent="Cesium Inspector",h.className="cesium-cesiumInspector-button",h.setAttribute("data-bind","click: toggleDropDown"),r.appendChild(h),r.className="cesium-cesiumInspector",r.setAttribute("data-bind",'css: { "cesium-cesiumInspector-visible" : dropDownVisible, "cesium-cesiumInspector-hidden" : !dropDownVisible }'),e.appendChild(this._element);var d=document.createElement("div");this._panel=d,d.className="cesium-cesiumInspector-dropDown",r.appendChild(d);var f=l.a.createSection,p=l.a.createCheckbox,m=f(d,"General","generalVisible","toggleGeneral"),g=p("Show Frustums","frustums"),_=document.createElement("div");_.className="cesium-cesiumInspector-frustumStatistics",_.setAttribute("data-bind","visible: frustums, html: frustumStatisticText"),g.appendChild(_),m.appendChild(g),m.appendChild(p("Show Frustum Planes","frustumPlanes")),m.appendChild(p("Performance Display","performance")),i.className="cesium-cesiumInspector-performanceDisplay",m.appendChild(i);var v=document.createElement("div");v.className="cesium-cesiumInspector-shaderCache",v.setAttribute("data-bind","html: shaderCacheText"),m.appendChild(v);var b=document.createElement("div");m.appendChild(b);var y=document.createElement("span");y.setAttribute("data-bind",'html: "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Frustum:"'),b.appendChild(y);var O=document.createElement("span");O.setAttribute("data-bind","text: depthFrustumText"),b.appendChild(O);var w=document.createElement("input");w.type="button",w.value="-",w.className="cesium-cesiumInspector-pickButton",w.setAttribute("data-bind","click: decrementDepthFrustum"),b.appendChild(w);var x=document.createElement("input");x.type="button",x.value="+",x.className="cesium-cesiumInspector-pickButton",x.setAttribute("data-bind","click: incrementDepthFrustum"),b.appendChild(x);var E=f(d,"Primitives","primitivesVisible","togglePrimitives"),T=document.createElement("div");T.className="cesium-cesiumInspector-pickSection",E.appendChild(T);var A=document.createElement("input");A.type="button",A.value="Pick a primitive",A.className="cesium-cesiumInspector-pickButton",A.setAttribute("data-bind",'css: {"cesium-cesiumInspector-pickButtonHighlight" : pickPrimitiveActive}, click: pickPrimitive');var C=document.createElement("div");C.className="cesium-cesiumInspector-center",C.appendChild(A),T.appendChild(C),T.appendChild(p("Show bounding sphere","primitiveBoundingSphere","hasPickedPrimitive")),T.appendChild(p("Show reference frame","primitiveReferenceFrame","hasPickedPrimitive")),this._primitiveOnly=p("Show only selected","filterPrimitive","hasPickedPrimitive"),T.appendChild(this._primitiveOnly);var S=f(d,"Terrain","terrainVisible","toggleTerrain"),j=document.createElement("div");j.className="cesium-cesiumInspector-pickSection",S.appendChild(j);var P=document.createElement("input");P.type="button",P.value="Pick a tile",P.className="cesium-cesiumInspector-pickButton",P.setAttribute("data-bind",'css: {"cesium-cesiumInspector-pickButtonHighlight" : pickTileActive}, click: pickTile'),C=document.createElement("div"),C.appendChild(P),C.className="cesium-cesiumInspector-center",j.appendChild(C);var D=document.createElement("div");j.appendChild(D);var I=document.createElement("input");I.type="button",I.value="Parent",I.className="cesium-cesiumInspector-pickButton",I.setAttribute("data-bind","click: selectParent");var R=document.createElement("input");R.type="button",R.value="NW",R.className="cesium-cesiumInspector-pickButton",R.setAttribute("data-bind","click: selectNW");var M=document.createElement("input");M.type="button",M.value="NE",M.className="cesium-cesiumInspector-pickButton",M.setAttribute("data-bind","click: selectNE");var L=document.createElement("input");L.type="button",L.value="SW",L.className="cesium-cesiumInspector-pickButton",L.setAttribute("data-bind","click: selectSW");var N=document.createElement("input");N.type="button",N.value="SE",N.className="cesium-cesiumInspector-pickButton",N.setAttribute("data-bind","click: selectSE");var F=document.createElement("div");F.className="cesium-cesiumInspector-tileText",D.className="cesium-cesiumInspector-frustumStatistics",D.appendChild(F),D.setAttribute("data-bind","visible: hasPickedTile"),F.setAttribute("data-bind","html: tileText");var z=document.createElement("div");z.className="cesium-cesiumInspector-relativeText",z.textContent="Select relative:",D.appendChild(z);var B=document.createElement("table"),k=document.createElement("tr"),U=document.createElement("tr"),V=document.createElement("td");V.appendChild(I);var H=document.createElement("td");H.appendChild(R);var q=document.createElement("td");q.appendChild(M),k.appendChild(V),k.appendChild(H),k.appendChild(q);var W=document.createElement("td"),G=document.createElement("td");G.appendChild(L);var Y=document.createElement("td");Y.appendChild(N),U.appendChild(W),U.appendChild(G),U.appendChild(Y),B.appendChild(k),B.appendChild(U),D.appendChild(B),j.appendChild(p("Show bounding volume","tileBoundingSphere","hasPickedTile")),j.appendChild(p("Show only selected","filterTile","hasPickedTile")),S.appendChild(p("Wireframe","wireframe")),S.appendChild(p("Suspend LOD update","suspendUpdates")),S.appendChild(p("Show tile coordinates","tileCoordinates")),s.a.applyBindings(n,this._element)}var a=i("xC6Q"),r=i("6sr8"),o=i("PzDm"),s=i("PKIF"),c=i("k6tp"),l=i("bhTA"),u=i("RSI9");Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return s.a.cleanNode(this._element),this._container.removeChild(this._element),this.viewModel.destroy(),Object(r.a)(this)},t.a=n},"/Bhn":function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT),this.vertexArray=e.vertexArray,this.fragmentShaderSource=e.fragmentShaderSource,this.shaderProgram=e.shaderProgram,this.uniformMap=e.uniformMap,this.outputTexture=e.outputTexture,this.preExecute=e.preExecute,this.postExecute=e.postExecute,this.persists=Object(a.a)(e.persists,!1),this.pass=r.a.COMPUTE,this.owner=e.owner}var a=i("5A4e"),r=i("M0+0");n.prototype.execute=function(e){e.execute(this)},t.a=n},"/DUn":function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT),this.color=e.color,this.depth=e.depth,this.stencil=e.stencil,this.renderState=e.renderState,this.framebuffer=e.framebuffer,this.owner=e.owner,this.pass=e.pass}var a=i("6F0S"),r=i("5A4e");n.ALL=Object.freeze(new n({color:new a.a(0,0,0,0),depth:1,stencil:0})),n.prototype.execute=function(e,t){e.clear(this,t)},t.a=n},"/FnE":function(e,t,i){"use strict";t.a="/**\n * The automatic GLSL constant for {@link Pass#COMPUTE}\n *\n * @name czm_passCompute\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passCompute = 1.0;\n"},"/MLu":function(e,t,i){e.exports=i("cSWu").PassThrough},"/Mfz":function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,1),r.a.typeOf.number.greaterThan("radius",e,0),this._radius=Object(o.a)(e,1)}var a=i("Jj+J"),r=i("5F4X"),o=i("5A4e"),s=i("fq+p");Object.defineProperties(n.prototype,{radius:{get:function(){return this._radius},set:function(e){r.a.typeOf.number.greaterThan("value",e,0),this._radius=e}}}),n.prototype.emit=function(e){var t=s.a.randomBetween(0,s.a.TWO_PI),i=s.a.randomBetween(0,this._radius),n=i*Math.cos(t),r=i*Math.sin(t);e.position=a.a.fromElements(n,r,0,e.position),e.velocity=a.a.clone(a.a.UNIT_Z,e.velocity)},t.a=n},"/P0d":function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT),this._definitionChanged=new s.a,this._color=void 0,this._colorSubscription=void 0,this._glowPower=void 0,this._glowPowerSubscription=void 0,this._taperPower=void 0,this._taperPowerSubscription=void 0,this.color=e.color,this.glowPower=e.glowPower,this.taperPower=e.taperPower}var a=i("6F0S"),r=i("5A4e"),o=i("xC6Q"),s=i("W6xh"),c=i("7687"),l=i("uhjI"),u=a.a.WHITE;Object.defineProperties(n.prototype,{isConstant:{get:function(){return l.a.isConstant(this._color)&&l.a.isConstant(this._glow)}},definitionChanged:{get:function(){return this._definitionChanged}},color:Object(c.a)("color"),glowPower:Object(c.a)("glowPower"),taperPower:Object(c.a)("taperPower")}),n.prototype.getType=function(e){return"PolylineGlow"},n.prototype.getValue=function(e,t){return Object(o.a)(t)||(t={}),t.color=l.a.getValueOrClonedDefault(this._color,e,u,t.color),t.glowPower=l.a.getValueOrDefault(this._glowPower,e,.25,t.glowPower),t.taperPower=l.a.getValueOrDefault(this._taperPower,e,1,t.taperPower),t},n.prototype.equals=function(e){return this===e||e instanceof n&&l.a.equals(this._color,e._color)&&l.a.equals(this._glowPower,e._glowPower)&&l.a.equals(this._taperPower,e._taperPower)},t.a=n},"/RMi":function(e,t,i){"use strict";function n(e,t,i){for(var n=[],a=e.primitives,r=a.length,o=0;o<r;++o){var s=a[o];n[o]=t[s.material]}this._name=e.name,this._materials=n,this._id=i}Object.defineProperties(n.prototype,{name:{get:function(){return this._name}},id:{get:function(){return this._id}},materials:{get:function(){return this._materials}}}),t.a=n},"/Ufj":function(e,t,i){"use strict";t.a="#ifdef VECTOR_TILE\nuniform vec4 u_highlightColor;\n#endif\n\nvarying vec2 v_st;\n\nvoid main()\n{\n    czm_materialInput materialInput;\n\n    materialInput.s = v_st.s;\n    materialInput.st = v_st;\n    materialInput.str = vec3(v_st, 0.0);\n\n    czm_material material = czm_getMaterial(materialInput);\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#ifdef VECTOR_TILE\n    gl_FragColor *= u_highlightColor;\n#endif\n\n    czm_writeLogDepth();\n}\n"},"/Wph":function(e,t,i){"use strict";function n(e,t){this._content=e,this._batchId=t,this._color=void 0}var a=i("6F0S"),r=i("xC6Q");Object.defineProperties(n.prototype,{show:{get:function(){return this._content.batchTable.getShow(this._batchId)},set:function(e){this._content.batchTable.setShow(this._batchId,e)}},color:{get:function(){return Object(r.a)(this._color)||(this._color=new a.a),this._content.batchTable.getColor(this._batchId,this._color)},set:function(e){this._content.batchTable.setColor(this._batchId,e)}},content:{get:function(){return this._content}},tileset:{get:function(){return this._content.tileset}},primitive:{get:function(){return this._content.tileset}},pickId:{get:function(){return this._content.batchTable.getPickColor(this._batchId)}}}),n.prototype.hasProperty=function(e){return this._content.batchTable.hasProperty(this._batchId,e)},n.prototype.getPropertyNames=function(e){return this._content.batchTable.getPropertyNames(this._batchId,e)},n.prototype.getProperty=function(e){return this._content.batchTable.getProperty(this._batchId,e)},n.prototype.setProperty=function(e,t){this._content.batchTable.setProperty(this._batchId,e,t),this._content.featurePropertiesDirty=!0},n.prototype.isExactClass=function(e){return this._content.batchTable.isExactClass(this._batchId,e)},n.prototype.isClass=function(e){return this._content.batchTable.isClass(this._batchId,e)},n.prototype.getExactClassName=function(){return this._content.batchTable.getExactClassName(this._batchId)},t.a=n},"/Yk1":function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT);var t=Object(l.a)(e.container);if(!Object(r.a)(t))throw new s.a("container is required");this._container=t;var i=document.createElement("div");i.className="cesium-performanceDisplay";var n=document.createElement("div");n.className="cesium-performanceDisplay-fps",this._fpsText=document.createTextNode(""),n.appendChild(this._fpsText);var o=document.createElement("div");o.className="cesium-performanceDisplay-ms",this._msText=document.createTextNode(""),o.appendChild(this._msText),i.appendChild(o),i.appendChild(n),this._container.appendChild(i),this._lastFpsSampleTime=Object(c.a)(),this._lastMsSampleTime=Object(c.a)(),this._fpsFrameCount=0,this._msFrameCount=0,this._throttled=!1;var u=document.createElement("div");u.className="cesium-performanceDisplay-throttled",this._throttledText=document.createTextNode(""),u.appendChild(this._throttledText),i.appendChild(u)}var a=i("5A4e"),r=i("xC6Q"),o=i("6sr8"),s=i("PzDm"),c=i("n08a"),l=i("k6tp");Object.defineProperties(n.prototype,{throttled:{get:function(){return this._throttled},set:function(e){this._throttled!==e&&(this._throttledText.nodeValue=e?"(throttled)":"",this._throttled=e)}}}),n.prototype.update=function(e){var t=Object(c.a)(),i=Object(a.a)(e,!0);this._fpsFrameCount++;var n=t-this._lastFpsSampleTime;if(n>1e3){var r="N/A";i&&(r=1e3*this._fpsFrameCount/n|0),this._fpsText.nodeValue=r+" FPS",this._lastFpsSampleTime=t,this._fpsFrameCount=0}this._msFrameCount++;var o=t-this._lastMsSampleTime;if(o>200){var s="N/A";i&&(s=(o/this._msFrameCount).toFixed(2)),this._msText.nodeValue=s+" MS",this._lastMsSampleTime=t,this._msFrameCount=0}},n.prototype.destroy=function(){return Object(o.a)(this)},t.a=n},"/ZBS":function(e,t,i){"use strict";function n(e,t,i,n,a,r,o,s){this.year=e,this.month=t,this.day=i,this.hour=n,this.minute=a,this.second=r,this.millisecond=o,this.isLeapSecond=s}t.a=n},"/fYS":function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT),this._tilingScheme=Object(o.a)(e.tilingScheme)?e.tilingScheme:new c.a({ellipsoid:e.ellipsoid}),this._cells=Object(r.a)(e.cells,8),this._color=Object(r.a)(e.color,u),this._glowColor=Object(r.a)(e.glowColor,h),this._glowWidth=Object(r.a)(e.glowWidth,6),this._backgroundColor=Object(r.a)(e.backgroundColor,d),this._errorEvent=new s.a,this._tileWidth=Object(r.a)(e.tileWidth,256),this._tileHeight=Object(r.a)(e.tileHeight,256),this._canvasSize=Object(r.a)(e.canvasSize,256),this._canvas=this._createGridCanvas(),this._readyPromise=l.a.resolve(!0)}var a=i("6F0S"),r=i("5A4e"),o=i("xC6Q"),s=i("W6xh"),c=i("4MnW"),l=i("S7OP"),u=new a.a(1,1,1,.4),h=new a.a(0,1,0,.05),d=new a.a(0,.5,0,.2);Object.defineProperties(n.prototype,{proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){}},minimumLevel:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return!0}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){}},hasAlphaChannel:{get:function(){return!0}}}),n.prototype._drawGrid=function(e){for(var t=this._canvasSize,i=0;i<=this._cells;++i){var n=i/this._cells,a=1+n*(t-1);e.moveTo(a,0),e.lineTo(a,t),e.moveTo(0,a),e.lineTo(t,a)}e.stroke()},n.prototype._createGridCanvas=function(){var e=document.createElement("canvas");e.width=this._canvasSize,e.height=this._canvasSize;var t=this._canvasSize,i=e.getContext("2d"),n=this._backgroundColor.toCssColorString();i.fillStyle=n,i.fillRect(0,0,t,t);var a=this._glowColor.toCssColorString();i.strokeStyle=a,i.lineWidth=this._glowWidth,i.strokeRect(0,0,t,t),this._drawGrid(i),i.lineWidth=.5*this._glowWidth,i.strokeRect(0,0,t,t),this._drawGrid(i);var r=this._color.toCssColorString();return i.strokeStyle=r,i.lineWidth=2,i.strokeRect(0,0,t,t),i.lineWidth=1,this._drawGrid(i),e},n.prototype.getTileCredits=function(e,t,i){},n.prototype.requestImage=function(e,t,i,n){return this._canvas},n.prototype.pickFeatures=function(e,t,i,n,a){}},"/ocq":function(e,t,i){"use strict";function n(e,t){for(var i in t)e[i]=t[i];return e}function a(e){try{return decodeURIComponent(e)}catch(e){}return e}function r(e,t,i){void 0===t&&(t={});var n,a=i||o;try{n=a(e||"")}catch(e){n={}}for(var r in t){var s=t[r];n[r]=Array.isArray(s)?s.map(Ge):Ge(s)}return n}function o(e){var t={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var i=e.replace(/\+/g," ").split("="),n=a(i.shift()),r=i.length>0?a(i.join("=")):null;void 0===t[n]?t[n]=r:Array.isArray(t[n])?t[n].push(r):t[n]=[t[n],r]}),t):t}function s(e){var t=e?Object.keys(e).map(function(t){var i=e[t];if(void 0===i)return"";if(null===i)return We(t);if(Array.isArray(i)){var n=[];return i.forEach(function(e){void 0!==e&&(null===e?n.push(We(t)):n.push(We(t)+"="+We(e)))}),n.join("&")}return We(t)+"="+We(i)}).filter(function(e){return e.length>0}).join("&"):null;return t?"?"+t:""}function c(e,t,i,n){var a=n&&n.options.stringifyQuery,r=t.query||{};try{r=l(r)}catch(e){}var o={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:r,params:t.params||{},fullPath:h(t,a),matched:e?u(e):[]};return i&&(o.redirectedFrom=h(i,a)),Object.freeze(o)}function l(e){if(Array.isArray(e))return e.map(l);if(e&&"object"==typeof e){var t={};for(var i in e)t[i]=l(e[i]);return t}return e}function u(e){for(var t=[];e;)t.unshift(e),e=e.parent;return t}function h(e,t){var i=e.path,n=e.query;void 0===n&&(n={});var a=e.hash;void 0===a&&(a="");var r=t||s;return(i||"/")+r(n)+a}function d(e,t,i){return t===Xe?e===t:!!t&&(e.path&&t.path?e.path.replace(Ye,"")===t.path.replace(Ye,"")&&(i||e.hash===t.hash&&f(e.query,t.query)):!(!e.name||!t.name)&&(e.name===t.name&&(i||e.hash===t.hash&&f(e.query,t.query)&&f(e.params,t.params))))}function f(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var i=Object.keys(e).sort(),n=Object.keys(t).sort();return i.length===n.length&&i.every(function(i,a){var r=e[i];if(n[a]!==i)return!1;var o=t[i];return null==r||null==o?r===o:"object"==typeof r&&"object"==typeof o?f(r,o):String(r)===String(o)})}function p(e,t){return 0===e.path.replace(Ye,"/").indexOf(t.path.replace(Ye,"/"))&&(!t.hash||e.hash===t.hash)&&m(e.query,t.query)}function m(e,t){for(var i in t)if(!(i in e))return!1;return!0}function g(e){for(var t=0;t<e.matched.length;t++){var i=e.matched[t];for(var n in i.instances){var a=i.instances[n],r=i.enteredCbs[n];if(a&&r){delete i.enteredCbs[n];for(var o=0;o<r.length;o++)a._isBeingDestroyed||r[o](a)}}}}function _(e,t,i,a){var r=t.props=v(i,a);if(r){r=t.props=n({},r);var o=t.attrs=t.attrs||{};for(var s in r)e.props&&s in e.props||(o[s]=r[s],delete r[s])}}function v(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0}}function b(e,t,i){var n=e.charAt(0);if("/"===n)return e;if("?"===n||"#"===n)return t+e;var a=t.split("/");i&&a[a.length-1]||a.pop();for(var r=e.replace(/^\//,"").split("/"),o=0;o<r.length;o++){var s=r[o];".."===s?a.pop():"."!==s&&a.push(s)}return""!==a[0]&&a.unshift(""),a.join("/")}function y(e){var t="",i="",n=e.indexOf("#");n>=0&&(t=e.slice(n),e=e.slice(0,n));var a=e.indexOf("?");return a>=0&&(i=e.slice(a+1),e=e.slice(0,a)),{path:e,query:i,hash:t}}function O(e){return e.replace(/\/(?:\s*\/)+/g,"/")}function w(e,t){for(var i,n=[],a=0,r=0,o="",s=t&&t.delimiter||"/";null!=(i=it.exec(e));){var c=i[0],l=i[1],u=i.index;if(o+=e.slice(r,u),r=u+c.length,l)o+=l[1];else{var h=e[r],d=i[2],f=i[3],p=i[4],m=i[5],g=i[6],_=i[7];o&&(n.push(o),o="");var v=null!=d&&null!=h&&h!==d,b="+"===g||"*"===g,y="?"===g||"*"===g,O=i[2]||s,w=p||m;n.push({name:f||a++,prefix:d||"",delimiter:O,optional:y,repeat:b,partial:v,asterisk:!!_,pattern:w?S(w):_?".*":"[^"+C(O)+"]+?"})}}return r<e.length&&(o+=e.substr(r)),o&&n.push(o),n}function x(e,t){return A(w(e,t),t)}function E(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function T(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function A(e,t){for(var i=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(i[n]=new RegExp("^(?:"+e[n].pattern+")$",P(t)));return function(t,n){for(var a="",r=t||{},o=n||{},s=o.pretty?E:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var u,h=r[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Je(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(u=s(h[d]),!i[c].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(u)+"`");a+=(0===d?l.prefix:l.delimiter)+u}}else{if(u=l.asterisk?T(h):s(h),!i[c].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+u+'"');a+=l.prefix+u}}else a+=l}return a}}function C(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function S(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function j(e,t){return e.keys=t,e}function P(e){return e&&e.sensitive?"":"i"}function D(e,t){var i=e.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return j(e,t)}function I(e,t,i){for(var n=[],a=0;a<e.length;a++)n.push(L(e[a],t,i).source);return j(new RegExp("(?:"+n.join("|")+")",P(i)),t)}function R(e,t,i){return M(w(e,i),t,i)}function M(e,t,i){Je(t)||(i=t||i,t=[]),i=i||{};for(var n=i.strict,a=!1!==i.end,r="",o=0;o<e.length;o++){var s=e[o];if("string"==typeof s)r+=C(s);else{var c=C(s.prefix),l="(?:"+s.pattern+")";t.push(s),s.repeat&&(l+="(?:"+c+l+")*"),l=s.optional?s.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")",r+=l}}var u=C(i.delimiter||"/"),h=r.slice(-u.length)===u;return n||(r=(h?r.slice(0,-u.length):r)+"(?:"+u+"(?=$))?"),r+=a?"$":n&&h?"":"(?="+u+"|$)",j(new RegExp("^"+r,P(i)),t)}function L(e,t,i){return Je(t)||(i=t||i,t=[]),i=i||{},e instanceof RegExp?D(e,t):Je(e)?I(e,t,i):R(e,t,i)}function N(e,t,i){t=t||{};try{var n=at[e]||(at[e]=Ze.compile(e));return"string"==typeof t.pathMatch&&(t[0]=t.pathMatch),n(t,{pretty:!0})}catch(e){return""}finally{delete t[0]}}function F(e,t,i,a){var o="string"==typeof e?{path:e}:e;if(o._normalized)return o;if(o.name){o=n({},e);var s=o.params;return s&&"object"==typeof s&&(o.params=n({},s)),o}if(!o.path&&o.params&&t){o=n({},o),o._normalized=!0;var c=n(n({},t.params),o.params);if(t.name)o.name=t.name,o.params=c;else if(t.matched.length){var l=t.matched[t.matched.length-1].path;o.path=N(l,c,"path "+t.path)}return o}var u=y(o.path||""),h=t&&t.path||"/",d=u.path?b(u.path,h,i||o.append):h,f=r(u.query,o.query,a&&a.options.parseQuery),p=o.hash||u.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:d,query:f,hash:p}}function z(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){if(/\b_blank\b/i.test(e.currentTarget.getAttribute("target")))return}return e.preventDefault&&e.preventDefault(),!0}}function B(e){if(e)for(var t,i=0;i<e.length;i++){if(t=e[i],"a"===t.tag)return t;if(t.children&&(t=B(t.children)))return t}}function k(e){if(!k.installed||nt!==e){k.installed=!0,nt=e;var t=function(e){return void 0!==e},i=function(e,i){var n=e.$options._parentVnode;t(n)&&t(n=n.data)&&t(n=n.registerRouteInstance)&&n(e,i)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",Qe),e.component("RouterLink",ct);var n=e.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}}function U(e,t,i,n,a){var r=t||[],o=i||Object.create(null),s=n||Object.create(null);e.forEach(function(e){V(r,o,s,e,a)});for(var c=0,l=r.length;c<l;c++)"*"===r[c]&&(r.push(r.splice(c,1)[0]),l--,c--);return{pathList:r,pathMap:o,nameMap:s}}function V(e,t,i,n,a,r){var o=n.path,s=n.name,c=n.pathToRegexpOptions||{},l=q(o,a,c.strict);"boolean"==typeof n.caseSensitive&&(c.sensitive=n.caseSensitive);var u={path:l,regex:H(l,c),components:n.components||{default:n.component},alias:n.alias?"string"==typeof n.alias?[n.alias]:n.alias:[],instances:{},enteredCbs:{},name:s,parent:a,matchAs:r,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};if(n.children&&n.children.forEach(function(n){var a=r?O(r+"/"+n.path):void 0;V(e,t,i,n,u,a)}),t[u.path]||(e.push(u.path),t[u.path]=u),void 0!==n.alias)for(var h=Array.isArray(n.alias)?n.alias:[n.alias],d=0;d<h.length;++d){var f=h[d],p={path:f,children:n.children};V(e,t,i,p,a,u.path||"/")}s&&(i[s]||(i[s]=u))}function H(e,t){var i=Ze(e,[],t);return i}function q(e,t,i){return i||(e=e.replace(/\/$/,"")),"/"===e[0]?e:null==t?e:O(t.path+"/"+e)}function W(e,t){function i(e){U(e,h,d,f)}function n(e,t){var i="object"!=typeof e?f[e]:void 0;U([t||e],h,d,f,i),i&&i.alias.length&&U(i.alias.map(function(e){return{path:e,children:[t]}}),h,d,f,i)}function a(){return h.map(function(e){return d[e]})}function r(e,i,n){var a=F(e,i,!1,t),r=a.name;if(r){var o=f[r];if(!o)return l(null,a);var s=o.regex.keys.filter(function(e){return!e.optional}).map(function(e){return e.name});if("object"!=typeof a.params&&(a.params={}),i&&"object"==typeof i.params)for(var c in i.params)!(c in a.params)&&s.indexOf(c)>-1&&(a.params[c]=i.params[c]);return a.path=N(o.path,a.params,'named route "'+r+'"'),l(o,a,n)}if(a.path){a.params={};for(var u=0;u<h.length;u++){var p=h[u],m=d[p];if(G(m.regex,a.path,a.params))return l(m,a,n)}}return l(null,a)}function o(e,i){var n=e.redirect,a="function"==typeof n?n(c(e,i,null,t)):n;if("string"==typeof a&&(a={path:a}),!a||"object"!=typeof a)return l(null,i);var o=a,s=o.name,u=o.path,h=i.query,d=i.hash,p=i.params;if(h=o.hasOwnProperty("query")?o.query:h,d=o.hasOwnProperty("hash")?o.hash:d,p=o.hasOwnProperty("params")?o.params:p,s){f[s];return r({_normalized:!0,name:s,query:h,hash:d,params:p},void 0,i)}if(u){var m=Y(u,e);return r({_normalized:!0,path:N(m,p,'redirect route with path "'+m+'"'),query:h,hash:d},void 0,i)}return l(null,i)}function s(e,t,i){var n=N(i,t.params,'aliased route with path "'+i+'"'),a=r({_normalized:!0,path:n});if(a){var o=a.matched,s=o[o.length-1];return t.params=a.params,l(s,t)}return l(null,t)}function l(e,i,n){return e&&e.redirect?o(e,n||i):e&&e.matchAs?s(e,i,e.matchAs):c(e,i,n,t)}var u=U(e),h=u.pathList,d=u.pathMap,f=u.nameMap;return{match:r,addRoute:n,getRoutes:a,addRoutes:i}}function G(e,t,i){var n=t.match(e);if(!n)return!1;if(!i)return!0;for(var r=1,o=n.length;r<o;++r){var s=e.keys[r-1];s&&(i[s.name||"pathMatch"]="string"==typeof n[r]?a(n[r]):n[r])}return!0}function Y(e,t){return b(e,t.parent?t.parent.path:"/",!0)}function X(){return ut.now().toFixed(3)}function Q(){return ht}function J(e){return ht=e}function Z(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),i=n({},window.history.state);return i.key=Q(),window.history.replaceState(i,"",t),window.addEventListener("popstate",ee),function(){window.removeEventListener("popstate",ee)}}function K(e,t,i,n){if(e.app){var a=e.options.scrollBehavior;a&&e.app.$nextTick(function(){var r=te(),o=a.call(e,t,i,n?r:null);o&&("function"==typeof o.then?o.then(function(e){se(e,r)}).catch(function(e){}):se(o,r))})}}function $(){var e=Q();e&&(dt[e]={x:window.pageXOffset,y:window.pageYOffset})}function ee(e){$(),e.state&&e.state.key&&J(e.state.key)}function te(){var e=Q();if(e)return dt[e]}function ie(e,t){var i=document.documentElement,n=i.getBoundingClientRect(),a=e.getBoundingClientRect();return{x:a.left-n.left-t.x,y:a.top-n.top-t.y}}function ne(e){return oe(e.x)||oe(e.y)}function ae(e){return{x:oe(e.x)?e.x:window.pageXOffset,y:oe(e.y)?e.y:window.pageYOffset}}function re(e){return{x:oe(e.x)?e.x:0,y:oe(e.y)?e.y:0}}function oe(e){return"number"==typeof e}function se(e,t){var i="object"==typeof e;if(i&&"string"==typeof e.selector){var n=ft.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(n){var a=e.offset&&"object"==typeof e.offset?e.offset:{};a=re(a),t=ie(n,a)}else ne(e)&&(t=ae(e))}else i&&ne(e)&&(t=ae(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}function ce(e,t){$();var i=window.history;try{if(t){var a=n({},i.state);a.key=Q(),i.replaceState(a,"",e)}else i.pushState({key:J(X())},"",e)}catch(i){window.location[t?"replace":"assign"](e)}}function le(e){ce(e,!0)}function ue(e,t){return pe(e,t,mt.redirected,'Redirected when going from "'+e.fullPath+'" to "'+me(t)+'" via a navigation guard.')}function he(e,t){var i=pe(e,t,mt.duplicated,'Avoided redundant navigation to current location: "'+e.fullPath+'".');return i.name="NavigationDuplicated",i}function de(e,t){return pe(e,t,mt.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function fe(e,t){return pe(e,t,mt.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}function pe(e,t,i,n){var a=new Error(n);return a._isRouter=!0,a.from=e,a.to=t,a.type=i,a}function me(e){if("string"==typeof e)return e;if("path"in e)return e.path;var t={};return gt.forEach(function(i){i in e&&(t[i]=e[i])}),JSON.stringify(t,null,2)}function ge(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function _e(e,t){return ge(e)&&e._isRouter&&(null==t||e.type===t)}function ve(e,t,i){var n=function(a){a>=e.length?i():e[a]?t(e[a],function(){n(a+1)}):n(a+1)};n(0)}function be(e){return function(t,i,n){var a=!1,r=0,o=null;ye(e,function(e,t,i,s){if("function"==typeof e&&void 0===e.cid){a=!0,r++;var c,l=xe(function(t){we(t)&&(t=t.default),e.resolved="function"==typeof t?t:nt.extend(t),i.components[s]=t,--r<=0&&n()}),u=xe(function(e){var t="Failed to resolve async component "+s+": "+e;o||(o=ge(e)?e:new Error(t),n(o))});try{c=e(l,u)}catch(e){u(e)}if(c)if("function"==typeof c.then)c.then(l,u);else{var h=c.component;h&&"function"==typeof h.then&&h.then(l,u)}}}),a||n()}}function ye(e,t){return Oe(e.map(function(e){return Object.keys(e.components).map(function(i){return t(e.components[i],e.instances[i],e,i)})}))}function Oe(e){return Array.prototype.concat.apply([],e)}function we(e){return e.__esModule||_t&&"Module"===e[Symbol.toStringTag]}function xe(e){var t=!1;return function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];if(!t)return t=!0,e.apply(this,i)}}function Ee(e){if(!e)if(lt){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function Te(e,t){var i,n=Math.max(e.length,t.length);for(i=0;i<n&&e[i]===t[i];i++);return{updated:t.slice(0,i),activated:t.slice(i),deactivated:e.slice(i)}}function Ae(e,t,i,n){var a=ye(e,function(e,n,a,r){var o=Ce(e,t);if(o)return Array.isArray(o)?o.map(function(e){return i(e,n,a,r)}):i(o,n,a,r)});return Oe(n?a.reverse():a)}function Ce(e,t){return"function"!=typeof e&&(e=nt.extend(e)),e.options[t]}function Se(e){return Ae(e,"beforeRouteLeave",Pe,!0)}function je(e){return Ae(e,"beforeRouteUpdate",Pe)}function Pe(e,t){if(t)return function(){return e.apply(t,arguments)}}function De(e){return Ae(e,"beforeRouteEnter",function(e,t,i,n){return Ie(e,i,n)})}function Ie(e,t,i){return function(n,a,r){return e(n,a,function(e){"function"==typeof e&&(t.enteredCbs[i]||(t.enteredCbs[i]=[]),t.enteredCbs[i].push(e)),r(e)})}}function Re(e){var t=window.location.pathname,i=t.toLowerCase(),n=e.toLowerCase();return!e||i!==n&&0!==i.indexOf(O(n+"/"))||(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}function Me(e){var t=Re(e);if(!/^\/#/.test(t))return window.location.replace(O(e+"/#"+t)),!0}function Le(){var e=Ne();return"/"===e.charAt(0)||(Be("/"+e),!1)}function Ne(){var e=window.location.href,t=e.indexOf("#");return t<0?"":e=e.slice(t+1)}function Fe(e){var t=window.location.href,i=t.indexOf("#");return(i>=0?t.slice(0,i):t)+"#"+e}function ze(e){pt?ce(Fe(e)):window.location.hash=e}function Be(e){pt?le(Fe(e)):window.location.replace(Fe(e))}function ke(e,t){return e.push(t),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function Ue(e,t,i){var n="hash"===i?"#"+t:t;return e?O(e+"/"+n):n}i.d(t,"a",function(){return Et});var Ve=/[!'()*]/g,He=function(e){return"%"+e.charCodeAt(0).toString(16)},qe=/%2C/g,We=function(e){return encodeURIComponent(e).replace(Ve,He).replace(qe,",")},Ge=function(e){return null==e||"object"==typeof e?e:String(e)},Ye=/\/?$/,Xe=c(null,{path:"/"}),Qe={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var i=t.props,a=t.children,r=t.parent,o=t.data;o.routerView=!0;for(var s=r.$createElement,c=i.name,l=r.$route,u=r._routerViewCache||(r._routerViewCache={}),h=0,d=!1;r&&r._routerRoot!==r;){var f=r.$vnode?r.$vnode.data:{};f.routerView&&h++,f.keepAlive&&r._directInactive&&r._inactive&&(d=!0),r=r.$parent}if(o.routerViewDepth=h,d){var p=u[c],m=p&&p.component;return m?(p.configProps&&_(m,o,p.route,p.configProps),s(m,o,a)):s()}var v=l.matched[h],b=v&&v.components[c];if(!v||!b)return u[c]=null,s();u[c]={component:b},o.registerRouteInstance=function(e,t){var i=v.instances[c];(t&&i!==e||!t&&i===e)&&(v.instances[c]=t)},(o.hook||(o.hook={})).prepatch=function(e,t){v.instances[c]=t.componentInstance},o.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==v.instances[c]&&(v.instances[c]=e.componentInstance),g(l)};var y=v.props&&v.props[c];return y&&(n(u[c],{route:l,configProps:y}),_(b,o,l,y)),s(b,o,a)}},Je=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},Ze=L,Ke=w,$e=x,et=A,tt=M,it=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");Ze.parse=Ke,Ze.compile=$e,Ze.tokensToFunction=et,Ze.tokensToRegExp=tt;var nt,at=Object.create(null),rt=[String,Object],ot=[String,Array],st=function(){},ct={name:"RouterLink",props:{to:{type:rt,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:ot,default:"click"}},render:function(e){var t=this,i=this.$router,a=this.$route,r=i.resolve(this.to,a,this.append),o=r.location,s=r.route,l=r.href,u={},h=i.options.linkActiveClass,f=i.options.linkExactActiveClass,m=null==h?"router-link-active":h,g=null==f?"router-link-exact-active":f,_=null==this.activeClass?m:this.activeClass,v=null==this.exactActiveClass?g:this.exactActiveClass,b=s.redirectedFrom?c(null,F(s.redirectedFrom),null,i):s;u[v]=d(a,b,this.exactPath),u[_]=this.exact||this.exactPath?u[v]:p(a,b);var y=u[v]?this.ariaCurrentValue:null,O=function(e){z(e)&&(t.replace?i.replace(o,st):i.push(o,st))},w={click:z};Array.isArray(this.event)?this.event.forEach(function(e){w[e]=O}):w[this.event]=O;var x={class:u},E=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:s,navigate:O,isActive:u[_],isExactActive:u[v]});if(E){if(1===E.length)return E[0];if(E.length>1||!E.length)return 0===E.length?e():e("span",{},E)}if("a"===this.tag)x.on=w,x.attrs={href:l,"aria-current":y};else{var T=B(this.$slots.default);if(T){T.isStatic=!1;var A=T.data=n({},T.data);A.on=A.on||{};for(var C in A.on){var S=A.on[C];C in w&&(A.on[C]=Array.isArray(S)?S:[S])}for(var j in w)j in A.on?A.on[j].push(w[j]):A.on[j]=O;var P=T.data.attrs=n({},T.data.attrs);P.href=l,P["aria-current"]=y}else x.on=w}return e(this.tag,x,this.$slots.default)}},lt="undefined"!=typeof window,ut=lt&&window.performance&&window.performance.now?window.performance:Date,ht=X(),dt=Object.create(null),ft=/^#\d/,pt=lt&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"function"==typeof window.history.pushState)}(),mt={redirected:2,aborted:4,cancelled:8,duplicated:16},gt=["params","query","hash"],_t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,vt=function(e,t){this.router=e,this.base=Ee(t),this.current=Xe,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};vt.prototype.listen=function(e){this.cb=e},vt.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},vt.prototype.onError=function(e){this.errorCbs.push(e)},vt.prototype.transitionTo=function(e,t,i){var n,a=this;try{n=this.router.match(e,this.current)}catch(e){throw this.errorCbs.forEach(function(t){t(e)}),e}var r=this.current;this.confirmTransition(n,function(){a.updateRoute(n),t&&t(n),a.ensureURL(),a.router.afterHooks.forEach(function(e){e&&e(n,r)}),a.ready||(a.ready=!0,a.readyCbs.forEach(function(e){e(n)}))},function(e){i&&i(e),e&&!a.ready&&(_e(e,mt.redirected)&&r===Xe||(a.ready=!0,a.readyErrorCbs.forEach(function(t){t(e)})))})},vt.prototype.confirmTransition=function(e,t,i){var n=this,a=this.current;this.pending=e;var r=function(e){!_e(e)&&ge(e)&&(n.errorCbs.length?n.errorCbs.forEach(function(t){t(e)}):console.error(e)),i&&i(e)},o=e.matched.length-1,s=a.matched.length-1;if(d(e,a)&&o===s&&e.matched[o]===a.matched[s])return this.ensureURL(),e.hash&&K(this.router,a,e,!1),r(he(a,e));var c=Te(this.current.matched,e.matched),l=c.updated,u=c.deactivated,h=c.activated,f=[].concat(Se(u),this.router.beforeHooks,je(l),h.map(function(e){return e.beforeEnter}),be(h)),p=function(t,i){if(n.pending!==e)return r(de(a,e));try{t(e,a,function(t){!1===t?(n.ensureURL(!0),r(fe(a,e))):ge(t)?(n.ensureURL(!0),r(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(r(ue(a,e)),"object"==typeof t&&t.replace?n.replace(t):n.push(t)):i(t)})}catch(e){r(e)}};ve(f,p,function(){ve(De(h).concat(n.router.resolveHooks),p,function(){if(n.pending!==e)return r(de(a,e));n.pending=null,t(e),n.router.app&&n.router.app.$nextTick(function(){g(e)})})})},vt.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},vt.prototype.setupListeners=function(){},vt.prototype.teardown=function(){this.listeners.forEach(function(e){e()}),this.listeners=[],this.current=Xe,this.pending=null};var bt=function(e){function t(t,i){e.call(this,t,i),this._startLocation=Re(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,i=t.options.scrollBehavior,n=pt&&i;n&&this.listeners.push(Z());var a=function(){var i=e.current,a=Re(e.base);e.current===Xe&&a===e._startLocation||e.transitionTo(a,function(e){n&&K(t,e,i,!0)})};window.addEventListener("popstate",a),this.listeners.push(function(){window.removeEventListener("popstate",a)})}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,i){var n=this,a=this,r=a.current;this.transitionTo(e,function(e){ce(O(n.base+e.fullPath)),K(n.router,e,r,!1),t&&t(e)},i)},t.prototype.replace=function(e,t,i){var n=this,a=this,r=a.current;this.transitionTo(e,function(e){le(O(n.base+e.fullPath)),K(n.router,e,r,!1),t&&t(e)},i)},t.prototype.ensureURL=function(e){if(Re(this.base)!==this.current.fullPath){var t=O(this.base+this.current.fullPath);e?ce(t):le(t)}},t.prototype.getCurrentLocation=function(){return Re(this.base)},t}(vt),yt=function(e){function t(t,i,n){e.call(this,t,i),n&&Me(this.base)||Le()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,i=t.options.scrollBehavior,n=pt&&i;n&&this.listeners.push(Z());var a=function(){var t=e.current;Le()&&e.transitionTo(Ne(),function(i){n&&K(e.router,i,t,!0),pt||Be(i.fullPath)})},r=pt?"popstate":"hashchange";window.addEventListener(r,a),this.listeners.push(function(){window.removeEventListener(r,a)})}},t.prototype.push=function(e,t,i){var n=this,a=this,r=a.current;this.transitionTo(e,function(e){ze(e.fullPath),K(n.router,e,r,!1),t&&t(e)},i)},t.prototype.replace=function(e,t,i){var n=this,a=this,r=a.current;this.transitionTo(e,function(e){Be(e.fullPath),K(n.router,e,r,!1),t&&t(e)},i)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;Ne()!==t&&(e?ze(t):Be(t))},t.prototype.getCurrentLocation=function(){return Ne()},t}(vt),Ot=function(e){function t(t,i){e.call(this,t,i),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,i){var n=this;this.transitionTo(e,function(e){n.stack=n.stack.slice(0,n.index+1).concat(e),n.index++,t&&t(e)},i)},t.prototype.replace=function(e,t,i){var n=this;this.transitionTo(e,function(e){n.stack=n.stack.slice(0,n.index).concat(e),t&&t(e)},i)},t.prototype.go=function(e){var t=this,i=this.index+e;if(!(i<0||i>=this.stack.length)){var n=this.stack[i];this.confirmTransition(n,function(){var e=t.current;t.index=i,t.updateRoute(n),t.router.afterHooks.forEach(function(t){t&&t(n,e)})},function(e){_e(e,mt.duplicated)&&(t.index=i)})}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(vt),wt=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=W(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!pt&&!1!==e.fallback,this.fallback&&(t="hash"),lt||(t="abstract"),this.mode=t,t){case"history":this.history=new bt(this,e.base);break;case"hash":this.history=new yt(this,e.base,this.fallback);break;case"abstract":this.history=new Ot(this,e.base)}},xt={currentRoute:{configurable:!0}};wt.prototype.match=function(e,t,i){return this.matcher.match(e,t,i)},xt.currentRoute.get=function(){return this.history&&this.history.current},wt.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",function(){var i=t.apps.indexOf(e);i>-1&&t.apps.splice(i,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardown()}),!this.app){this.app=e;var i=this.history;if(i instanceof bt||i instanceof yt){var n=function(e){var n=i.current,a=t.options.scrollBehavior;pt&&a&&"fullPath"in e&&K(t,e,n,!1)},a=function(e){i.setupListeners(),n(e)};i.transitionTo(i.getCurrentLocation(),a,a)}i.listen(function(e){t.apps.forEach(function(t){t._route=e})})}},wt.prototype.beforeEach=function(e){return ke(this.beforeHooks,e)},wt.prototype.beforeResolve=function(e){return ke(this.resolveHooks,e)},wt.prototype.afterEach=function(e){return ke(this.afterHooks,e)},wt.prototype.onReady=function(e,t){this.history.onReady(e,t)},wt.prototype.onError=function(e){this.history.onError(e)},wt.prototype.push=function(e,t,i){var n=this;if(!t&&!i&&"undefined"!=typeof Promise)return new Promise(function(t,i){n.history.push(e,t,i)});this.history.push(e,t,i)},wt.prototype.replace=function(e,t,i){var n=this;if(!t&&!i&&"undefined"!=typeof Promise)return new Promise(function(t,i){n.history.replace(e,t,i)});this.history.replace(e,t,i)},wt.prototype.go=function(e){this.history.go(e)},wt.prototype.back=function(){this.go(-1)},wt.prototype.forward=function(){this.go(1)},wt.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map(function(e){return Object.keys(e.components).map(function(t){return e.components[t]})})):[]},wt.prototype.resolve=function(e,t,i){t=t||this.history.current;var n=F(e,t,i,this),a=this.match(n,t),r=a.redirectedFrom||a.fullPath;return{location:n,route:a,href:Ue(this.history.base,r,this.mode),normalizedTo:n,resolved:a}},wt.prototype.getRoutes=function(){return this.matcher.getRoutes()},wt.prototype.addRoute=function(e,t){this.matcher.addRoute(e,t),this.history.current!==Xe&&this.history.transitionTo(this.history.getCurrentLocation())},wt.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==Xe&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(wt.prototype,xt);var Et=wt;wt.install=k,wt.version="3.6.5",wt.isNavigationFailure=_e,wt.NavigationFailureType=mt,wt.START_LOCATION=Xe,lt&&window.Vue&&window.Vue.use(wt)},"/tIl":function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT),this._definitionChanged=new c.a,this._color=void 0,this._colorSubscription=void 0,this._cellAlpha=void 0,this._cellAlphaSubscription=void 0,this._lineCount=void 0,this._lineCountSubscription=void 0,this._lineThickness=void 0,this._lineThicknessSubscription=void 0,this._lineOffset=void 0,this._lineOffsetSubscription=void 0,this.color=e.color,this.cellAlpha=e.cellAlpha,this.lineCount=e.lineCount,this.lineThickness=e.lineThickness,this.lineOffset=e.lineOffset}var a=i("Ss9j"),r=i("6F0S"),o=i("5A4e"),s=i("xC6Q"),c=i("W6xh"),l=i("7687"),u=i("uhjI"),h=r.a.WHITE,d=new a.a(8,8),f=new a.a(0,0),p=new a.a(1,1);Object.defineProperties(n.prototype,{isConstant:{get:function(){return u.a.isConstant(this._color)&&u.a.isConstant(this._cellAlpha)&&u.a.isConstant(this._lineCount)&&u.a.isConstant(this._lineThickness)&&u.a.isConstant(this._lineOffset)}},definitionChanged:{get:function(){return this._definitionChanged}},color:Object(l.a)("color"),cellAlpha:Object(l.a)("cellAlpha"),lineCount:Object(l.a)("lineCount"),lineThickness:Object(l.a)("lineThickness"),lineOffset:Object(l.a)("lineOffset")}),n.prototype.getType=function(e){return"Grid"},n.prototype.getValue=function(e,t){return Object(s.a)(t)||(t={}),t.color=u.a.getValueOrClonedDefault(this._color,e,h,t.color),t.cellAlpha=u.a.getValueOrDefault(this._cellAlpha,e,.1),t.lineCount=u.a.getValueOrClonedDefault(this._lineCount,e,d,t.lineCount),t.lineThickness=u.a.getValueOrClonedDefault(this._lineThickness,e,p,t.lineThickness),t.lineOffset=u.a.getValueOrClonedDefault(this._lineOffset,e,f,t.lineOffset),t},n.prototype.equals=function(e){return this===e||e instanceof n&&u.a.equals(this._color,e._color)&&u.a.equals(this._cellAlpha,e._cellAlpha)&&u.a.equals(this._lineCount,e._lineCount)&&u.a.equals(this._lineThickness,e._lineThickness)&&u.a.equals(this._lineOffset,e._lineOffset)},t.a=n},"/yZF":function(e,t,i){"use strict";var n={};/*! NoSleep.js v0.9.0 - git.io/vfn01 - Rich Tibbett - MIT license */
!function(e,t){e.NoSleep=t()}(n,function(){return function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(1),o=r.webm,s=r.mp4,c="undefined"!=typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,l=function(){function e(){var t=this;n(this,e),c?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("muted",""),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",o),this._addSourceToVideo(this.noSleepVideo,"mp4",s),this.noSleepVideo.addEventListener("loadedmetadata",function(){t.noSleepVideo.duration<=1?t.noSleepVideo.setAttribute("loop",""):t.noSleepVideo.addEventListener("timeupdate",function(){t.noSleepVideo.currentTime>.5&&(t.noSleepVideo.currentTime=Math.random())})}))}return a(e,[{key:"_addSourceToVideo",value:function(e,t,i){var n=document.createElement("source");n.src=i,n.type="video/"+t,e.appendChild(n)}},{key:"enable",value:function(){c?(this.disable(),console.warn("\n        NoSleep enabled for older iOS devices. This can interrupt\n        active or long-running network requests from completing successfully.\n        See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n      "),this.noSleepTimer=window.setInterval(function(){document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){c?this.noSleepTimer&&(console.warn("\n          NoSleep now disabled for older iOS devices.\n        "),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),e}();e.exports=l},function(e,t,i){e.exports={webm:"data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=",mp4:"data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}}])}),t.a=n.NoSleep},"00Ds":function(e,t,i){"use strict";function n(e){if("object"!=typeof e||null===e)return e;for(var t,i=Object.keys(e),a=0;a<i.length;a++)t=i[a],e.hasOwnProperty(t)&&"_applyFunctions"!==t&&(e[t]=n(e[t]));return Object.freeze(e)}t.a=n},"08D5":function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\nuniform sampler2D blurTexture;\nuniform sampler2D depthTexture;\nuniform float focalDistance;\n\nvarying vec2 v_textureCoordinates;\n\nvec4 toEye(vec2 uv, float depth)\n{\n   vec2 xy = vec2((uv.x * 2.0 - 1.0), ((1.0 - uv.y) * 2.0 - 1.0));\n   vec4 posInCamera = czm_inverseProjection * vec4(xy, depth, 1.0);\n   posInCamera = posInCamera / posInCamera.w;\n   return posInCamera;\n}\n\nfloat computeDepthBlur(float depth)\n{\n    float f;\n    if (depth < focalDistance)\n    {\n        f = (focalDistance - depth) / (focalDistance - czm_currentFrustum.x);\n    }\n    else\n    {\n        f = (depth - focalDistance) / (czm_currentFrustum.y - focalDistance);\n        f = pow(f, 0.1);\n    }\n    f *= f;\n    f = clamp(f, 0.0, 1.0);\n    return pow(f, 0.5);\n}\n\nvoid main(void)\n{\n    float depth = czm_readDepth(depthTexture, v_textureCoordinates);\n    vec4 posInCamera = toEye(v_textureCoordinates, depth);\n    float d = computeDepthBlur(-posInCamera.z);\n    gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), texture2D(blurTexture, v_textureCoordinates), d);\n}\n"},"08bt":function(e,t,i){"use strict";function n(e){e=Object(s.a)(e,s.a.EMPTY_OBJECT),r.a.defined("options.stages",e.stages),r.a.typeOf.number.greaterThan("options.stages.length",e.stages.length,0),this._stages=e.stages,this._inputPreviousStageTexture=Object(s.a)(e.inputPreviousStageTexture,!0);var t=e.name;Object(c.a)(t)||(t=Object(o.a)()),this._name=t,this._uniforms=e.uniforms,this._textureCache=void 0,this._index=void 0,this._selected=void 0,this._selectedShadow=void 0,this._parentSelected=void 0,this._parentSelectedShadow=void 0,this._combinedSelected=void 0,this._combinedSelectedShadow=void 0,this._selectedLength=0,this._parentSelectedLength=0,this._selectedDirty=!0}function a(e){var t=Object(c.a)(e._selected)?e._selected.length:0,i=Object(c.a)(e._parentSelected)?e._parentSelected:0,n=e._selected!==e._selectedShadow||t!==e._selectedLength;if(n=n||e._parentSelected!==e._parentSelectedShadow||i!==e._parentSelectedLength,Object(c.a)(e._selected)&&Object(c.a)(e._parentSelected)?e._combinedSelected=e._selected.concat(e._parentSelected):Object(c.a)(e._parentSelected)?e._combinedSelected=e._parentSelected:e._combinedSelected=e._selected,!n&&Object(c.a)(e._combinedSelected)){if(!Object(c.a)(e._combinedSelectedShadow))return!0;t=e._combinedSelected.length;for(var a=0;a<t;++a)if(e._combinedSelected[a]!==e._combinedSelectedShadow[a])return!0}return n}var r=i("5F4X"),o=i("ed27"),s=i("5A4e"),c=i("xC6Q"),l=i("6sr8");Object.defineProperties(n.prototype,{ready:{get:function(){for(var e=this._stages,t=e.length,i=0;i<t;++i)if(!e[i].ready)return!1;return!0}},name:{get:function(){return this._name}},enabled:{get:function(){return this._stages[0].enabled},set:function(e){for(var t=this._stages,i=t.length,n=0;n<i;++n)t[n].enabled=e}},uniforms:{get:function(){return this._uniforms}},inputPreviousStageTexture:{get:function(){return this._inputPreviousStageTexture}},length:{get:function(){return this._stages.length}},selected:{get:function(){return this._selected},set:function(e){this._selected=e}},parentSelected:{get:function(){return this._parentSelected},set:function(e){this._parentSelected=e}}}),n.prototype._isSupported=function(e){for(var t=this._stages,i=t.length,n=0;n<i;++n)if(!t[n]._isSupported(e))return!1;return!0},n.prototype.get=function(e){return r.a.typeOf.number.greaterThanOrEquals("index",e,0),r.a.typeOf.number.lessThan("index",e,this.length),this._stages[e]},n.prototype.update=function(e,t){this._selectedDirty=a(this),this._selectedShadow=this._selected,this._parentSelectedShadow=this._parentSelected,this._combinedSelectedShadow=this._combinedSelected,this._selectedLength=Object(c.a)(this._selected)?this._selected.length:0,this._parentSelectedLength=Object(c.a)(this._parentSelected)?this._parentSelected.length:0;for(var i=this._stages,n=i.length,r=0;r<n;++r){var o=i[r];this._selectedDirty&&(o.parentSelected=this._combinedSelected),o.update(e,t)}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){for(var e=this._stages,t=e.length,i=0;i<t;++i)e[i].destroy();return Object(l.a)(this)},t.a=n},"09MF":function(e,t,i){"use strict";t.a="/**\n * DOC_TBA\n *\n * @name czm_columbusViewMorph\n * @glslFunction\n */\nvec4 czm_columbusViewMorph(vec4 position2D, vec4 position3D, float time)\n{\n    // Just linear for now.\n    vec3 p = mix(position2D.xyz, position3D.xyz, time);\n    return vec4(p, 1.0);\n}\n"},"0BQ9":function(e,t,i){"use strict";function n(e){function t(e){var t=e.alpha;if(!Object(r.a)(t))return i._alpha=void 0,i._beta=void 0,void(i._gamma=void 0);i._alpha=c.a.toRadians(t),i._beta=c.a.toRadians(e.beta),i._gamma=c.a.toRadians(e.gamma)}if(!Object(r.a)(e))throw new s.a("scene is required.");this._scene=e,this._lastAlpha=void 0,this._lastBeta=void 0,this._lastGamma=void 0,this._alpha=void 0,this._beta=void 0,this._gamma=void 0;var i=this;window.addEventListener("deviceorientation",t,!1),this._removeListener=function(){window.removeEventListener("deviceorientation",t,!1)}}function a(e,t,i,n){var a=e.direction,r=e.right,o=e.up,s=u.a.fromAxisAngle(a,i,d),c=u.a.fromAxisAngle(r,n,h),p=u.a.multiply(c,s,c),m=u.a.fromAxisAngle(o,t,d);u.a.multiply(m,p,p);var g=l.a.fromQuaternion(p,f);l.a.multiplyByVector(g,r,r),l.a.multiplyByVector(g,o,o),l.a.multiplyByVector(g,a,a)}var r=i("xC6Q"),o=i("6sr8"),s=i("PzDm"),c=i("fq+p"),l=i("i3sv"),u=i("q/xW"),h=new u.a,d=new u.a,f=new l.a;n.prototype.update=function(){if(Object(r.a)(this._alpha)){Object(r.a)(this._lastAlpha)||(this._lastAlpha=this._alpha,this._lastBeta=this._beta,this._lastGamma=this._gamma);var e=this._lastAlpha-this._alpha,t=this._lastBeta-this._beta,i=this._lastGamma-this._gamma;a(this._scene.camera,-e,t,i),this._lastAlpha=this._alpha,this._lastBeta=this._beta,this._lastGamma=this._gamma}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._removeListener(),Object(o.a)(this)},t.a=n},"0F/2":function(e,t,i){"use strict";function n(){this._definitionChanged=new o.a,this._intervals=new s.a,this._intervals.changedEvent.addEventListener(n.prototype._intervalsChanged,this)}var a=i("xC6Q"),r=i("PzDm"),o=i("W6xh"),s=i("vDBe"),c=i("uhjI");Object.defineProperties(n.prototype,{isConstant:{get:function(){return this._intervals.isEmpty}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._intervals}}}),n.prototype.getValue=function(e,t){if(!Object(a.a)(e))throw new r.a("time is required");var i=this._intervals.findDataForIntervalContainingDate(e);return Object(a.a)(i)&&"function"==typeof i.clone?i.clone(t):i},n.prototype.equals=function(e){return this===e||e instanceof n&&this._intervals.equals(e._intervals,c.a.equals)},n.prototype._intervalsChanged=function(){this._definitionChanged.raiseEvent(this)},t.a=n},"0Jwc":function(e,t,i){"use strict";t.a="varying vec2 v_textureCoordinates;\n\nuniform float originalSize;\nuniform sampler2D texture0;\nuniform sampler2D texture1;\nuniform sampler2D texture2;\nuniform sampler2D texture3;\nuniform sampler2D texture4;\nuniform sampler2D texture5;\n\nconst float yMipLevel1 = 1.0 - (1.0 / pow(2.0, 1.0));\nconst float yMipLevel2 = 1.0 - (1.0 / pow(2.0, 2.0));\nconst float yMipLevel3 = 1.0 - (1.0 / pow(2.0, 3.0));\nconst float yMipLevel4 = 1.0 - (1.0 / pow(2.0, 4.0));\n\nvoid main()\n{\n    vec2 uv = v_textureCoordinates;\n    vec2 textureSize = vec2(originalSize * 1.5 + 2.0, originalSize);\n    vec2 pixel = 1.0 / textureSize;\n\n    float mipLevel = 0.0;\n\n    if (uv.x - pixel.x > (textureSize.y / textureSize.x))\n    {\n        mipLevel = 1.0;\n        if (uv.y - pixel.y > yMipLevel1)\n        {\n            mipLevel = 2.0;\n            if (uv.y - pixel.y * 3.0 > yMipLevel2)\n            {\n                mipLevel = 3.0;\n                if (uv.y - pixel.y * 5.0 > yMipLevel3)\n                {\n                    mipLevel = 4.0;\n                    if (uv.y - pixel.y * 7.0 > yMipLevel4)\n                    {\n                        mipLevel = 5.0;\n                    }\n                }\n            }\n        }\n    }\n\n    if (mipLevel > 0.0)\n    {\n        float scale = pow(2.0, mipLevel);\n\n        uv.y -= (pixel.y * (mipLevel - 1.0) * 2.0);\n        uv.x *= ((textureSize.x - 2.0) / textureSize.y);\n\n        uv.x -= 1.0 + pixel.x;\n        uv.y -= (1.0 - (1.0 / pow(2.0, mipLevel - 1.0)));\n        uv *= scale;\n    }\n    else\n    {\n        uv.x *= (textureSize.x / textureSize.y);\n    }\n\n    if(mipLevel == 0.0)\n    {\n        gl_FragColor = texture2D(texture0, uv);\n    }\n    else if(mipLevel == 1.0)\n    {\n        gl_FragColor = texture2D(texture1, uv);\n    }\n    else if(mipLevel == 2.0)\n    {\n        gl_FragColor = texture2D(texture2, uv);\n    }\n    else if(mipLevel == 3.0)\n    {\n        gl_FragColor = texture2D(texture3, uv);\n    }\n    else if(mipLevel == 4.0)\n    {\n        gl_FragColor = texture2D(texture4, uv);\n    }\n    else if(mipLevel == 5.0)\n    {\n        gl_FragColor = texture2D(texture5, uv);\n    }\n    else\n    {\n        gl_FragColor = vec4(0.0);\n    }\n}\n"},"0KUP":function(e,t,i){"use strict";t.a='#ifdef GL_OES_standard_derivatives\n    #extension GL_OES_standard_derivatives : enable\n#endif\n\nuniform vec4 color;\nuniform float cellAlpha;\nuniform vec2 lineCount;\nuniform vec2 lineThickness;\nuniform vec2 lineOffset;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 st = materialInput.st;\n\n    float scaledWidth = fract(lineCount.s * st.s - lineOffset.s);\n    scaledWidth = abs(scaledWidth - floor(scaledWidth + 0.5));\n    float scaledHeight = fract(lineCount.t * st.t - lineOffset.t);\n    scaledHeight = abs(scaledHeight - floor(scaledHeight + 0.5));\n\n    float value;\n#ifdef GL_OES_standard_derivatives\n    // Fuzz Factor - Controls blurriness of lines\n    const float fuzz = 1.2;\n    vec2 thickness = (lineThickness * czm_pixelRatio) - 1.0;\n\n    // From "3D Engine Design for Virtual Globes" by Cozzi and Ring, Listing 4.13.\n    vec2 dx = abs(dFdx(st));\n    vec2 dy = abs(dFdy(st));\n    vec2 dF = vec2(max(dx.s, dy.s), max(dx.t, dy.t)) * lineCount;\n    value = min(\n        smoothstep(dF.s * thickness.s, dF.s * (fuzz + thickness.s), scaledWidth),\n        smoothstep(dF.t * thickness.t, dF.t * (fuzz + thickness.t), scaledHeight));\n#else\n    // Fuzz Factor - Controls blurriness of lines\n    const float fuzz = 0.05;\n\n    vec2 range = 0.5 - (lineThickness * 0.05);\n    value = min(\n        1.0 - smoothstep(range.s, range.s + fuzz, scaledWidth),\n        1.0 - smoothstep(range.t, range.t + fuzz, scaledHeight));\n#endif\n\n    // Edges taken from RimLightingMaterial.glsl\n    // See http://www.fundza.com/rman_shaders/surface/fake_rim/fake_rim1.html\n    float dRim = 1.0 - abs(dot(materialInput.normalEC, normalize(materialInput.positionToEyeEC)));\n    float sRim = smoothstep(0.8, 1.0, dRim);\n    value *= (1.0 - sRim);\n\n    vec4 halfColor;\n    halfColor.rgb = color.rgb * 0.5;\n    halfColor.a = color.a * (1.0 - ((1.0 - cellAlpha) * value));\n    halfColor = czm_gammaCorrect(halfColor);\n    material.diffuse = halfColor.rgb;\n    material.emission = halfColor.rgb;\n    material.alpha = halfColor.a;\n\n    return material;\n}\n'},"0OY+":function(e,t,i){"use strict";function n(e){var t=Object(a.a)(e,{});this.attenuation=Object(a.a)(t.attenuation,!1),this.geometricErrorScale=Object(a.a)(t.geometricErrorScale,1),this.maximumAttenuation=t.maximumAttenuation,this.baseResolution=t.baseResolution,this.eyeDomeLighting=Object(a.a)(t.eyeDomeLighting,!0),this.eyeDomeLightingStrength=Object(a.a)(t.eyeDomeLightingStrength,1),this.eyeDomeLightingRadius=Object(a.a)(t.eyeDomeLightingRadius,1),this.backFaceCulling=Object(a.a)(t.backFaceCulling,!1),this.normalShading=Object(a.a)(t.normalShading,!0)}var a=i("5A4e"),r=i("uE/L");n.isSupported=function(e){return r.a.isSupported(e.context)},t.a=n},"0RrP":function(e,t,i){"use strict";function n(e){this.id=e,this.vertexFormat=void 0,this.polylinePositions=void 0,this.shapePositions=void 0,this.cornerType=void 0,this.granularity=void 0}function a(e,t){O.a.call(this,{entity:e,scene:t,geometryOptions:new n(e),geometryPropertyName:"polylineVolume",observedPropertyNames:["availability","polylineVolume"]}),this._onEntityPropertyChanged(e,"polylineVolume",e.polylineVolume,void 0)}function r(e,t,i){y.a.call(this,e,t,i)}var o=i("5F4X"),s=i("6F0S"),c=i("devy"),l=i("xC6Q"),u=i("PzDm"),h=i("2kyc"),d=i("izcu"),f=i("DsDe"),p=i("Am+W"),m=i("o58b"),g=i("zSqc"),_=i("xEUC"),v=i("BOJj"),b=i("I5FW"),y=i("5s/y"),O=i("rVBE"),w=i("uhjI"),x=new s.a;Object(l.a)(Object.create)&&(a.prototype=Object.create(O.a.prototype),a.prototype.constructor=a),a.prototype.createFillGeometryInstance=function(e){if(o.a.defined("time",e),!this._fillEnabled)throw new u.a("This instance does not represent a filled geometry.");var t,i,n=this._entity,a=n.isAvailable(e),r=new g.a(a&&n.isShowing&&this._showProperty.getValue(e)&&this._fillProperty.getValue(e)),f=this._distanceDisplayConditionProperty.getValue(e),m=h.a.fromDistanceDisplayCondition(f);if(this._materialProperty instanceof b.a){var _;Object(l.a)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||a)&&(_=this._materialProperty.color.getValue(e,x)),Object(l.a)(_)||(_=s.a.WHITE),i=c.a.fromColor(_),t={show:r,distanceDisplayCondition:m,color:i}}else t={show:r,distanceDisplayCondition:m};return new d.a({id:n,geometry:new p.a(this._options),attributes:t})},a.prototype.createOutlineGeometryInstance=function(e){if(o.a.defined("time",e),!this._outlineEnabled)throw new u.a("This instance does not represent an outlined geometry.");var t=this._entity,i=t.isAvailable(e),n=w.a.getValueOrDefault(this._outlineColorProperty,e,s.a.BLACK,x),a=this._distanceDisplayConditionProperty.getValue(e);return new d.a({id:t,geometry:new m.a(this._options),attributes:{show:new g.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._showOutlineProperty.getValue(e)),color:c.a.fromColor(n),distanceDisplayCondition:h.a.fromDistanceDisplayCondition(a)}})},a.prototype._isHidden=function(e,t){return!Object(l.a)(t.positions)||!Object(l.a)(t.shape)||O.a.prototype._isHidden.call(this,e,t)},a.prototype._isDynamic=function(e,t){return!(t.positions.isConstant&&t.shape.isConstant&&w.a.isConstant(t.granularity)&&w.a.isConstant(t.outlineWidth)&&w.a.isConstant(t.cornerType))},a.prototype._setStaticOptions=function(e,t){var i=t.granularity,n=t.cornerType,a=this._options,r=this._materialProperty instanceof b.a;a.vertexFormat=r?v.a.VERTEX_FORMAT:_.a.MaterialSupport.TEXTURED.vertexFormat,a.polylinePositions=t.positions.getValue(f.a.MINIMUM_VALUE,a.polylinePositions),a.shapePositions=t.shape.getValue(f.a.MINIMUM_VALUE,a.shape),a.granularity=Object(l.a)(i)?i.getValue(f.a.MINIMUM_VALUE):void 0,a.cornerType=Object(l.a)(n)?n.getValue(f.a.MINIMUM_VALUE):void 0},a.DynamicGeometryUpdater=r,Object(l.a)(Object.create)&&(r.prototype=Object.create(y.a.prototype),r.prototype.constructor=r),r.prototype._isHidden=function(e,t,i){var n=this._options;return!Object(l.a)(n.polylinePositions)||!Object(l.a)(n.shapePositions)||y.a.prototype._isHidden.call(this,e,t,i)},r.prototype._setOptions=function(e,t,i){var n=this._options;n.polylinePositions=w.a.getValueOrUndefined(t.positions,i,n.polylinePositions),n.shapePositions=w.a.getValueOrUndefined(t.shape,i),n.granularity=w.a.getValueOrUndefined(t.granularity,i),n.cornerType=w.a.getValueOrUndefined(t.cornerType,i)},t.a=a},"0Yxt":function(e,t,i){"use strict";function n(e,t,i,n,a,r,o){var s,l=b.a.numberOfPoints(e,t,a),u=i.red,h=i.green,d=i.blue,f=i.alpha,p=n.red,m=n.green,g=n.blue,_=n.alpha;if(c.a.equals(i,n)){for(s=0;s<l;s++)r[o++]=c.a.floatToByte(u),r[o++]=c.a.floatToByte(h),r[o++]=c.a.floatToByte(d),r[o++]=c.a.floatToByte(f);return o}var v=(p-u)/l,y=(m-h)/l,O=(g-d)/l,w=(_-f)/l,x=o;for(s=0;s<l;s++)r[x++]=c.a.floatToByte(u+s*v),r[x++]=c.a.floatToByte(h+s*y),r[x++]=c.a.floatToByte(d+s*O),r[x++]=c.a.floatToByte(f+s*w);return x}function a(e){e=Object(u.a)(e,u.a.EMPTY_OBJECT);var t=e.positions,i=e.colors,n=Object(u.a)(e.colorsPerVertex,!1);if(!Object(h.a)(t)||t.length<2)throw new d.a("At least two positions are required.");if(Object(h.a)(i)&&(n&&i.length<t.length||!n&&i.length<t.length-1))throw new d.a("colors has an invalid length.");this._positions=t,this._colors=i,this._colorsPerVertex=n,this._arcType=Object(u.a)(e.arcType,r.a.GEODESIC),this._granularity=Object(u.a)(e.granularity,v.a.RADIANS_PER_DEGREE),this._ellipsoid=Object(u.a)(e.ellipsoid,f.a.WGS84),this._workerName="createSimplePolylineGeometry";var a=1+t.length*s.a.packedLength;a+=Object(h.a)(i)?1+i.length*c.a.packedLength:1,this.packedLength=a+f.a.packedLength+3}var r=i("X8rS"),o=i("lBr9"),s=i("Jj+J"),c=i("6F0S"),l=i("YCZg"),u=i("5A4e"),h=i("xC6Q"),d=i("PzDm"),f=i("y6fO"),p=i("RGAo"),m=i("RYD3"),g=i("GaJK"),_=i("oMsT"),v=i("fq+p"),b=i("QhJM"),y=i("nHNe");a.pack=function(e,t,i){if(!Object(h.a)(e))throw new d.a("value is required");if(!Object(h.a)(t))throw new d.a("array is required");i=Object(u.a)(i,0);var n,a=e._positions,r=a.length;for(t[i++]=r,n=0;n<r;++n,i+=s.a.packedLength)s.a.pack(a[n],t,i);var o=e._colors;for(r=Object(h.a)(o)?o.length:0,t[i++]=r,n=0;n<r;++n,i+=c.a.packedLength)c.a.pack(o[n],t,i);return f.a.pack(e._ellipsoid,t,i),i+=f.a.packedLength,t[i++]=e._colorsPerVertex?1:0,t[i++]=e._arcType,t[i]=e._granularity,t},a.unpack=function(e,t,i){if(!Object(h.a)(e))throw new d.a("array is required");t=Object(u.a)(t,0);var n,r=e[t++],o=new Array(r);for(n=0;n<r;++n,t+=s.a.packedLength)o[n]=s.a.unpack(e,t);r=e[t++];var l=r>0?new Array(r):void 0;for(n=0;n<r;++n,t+=c.a.packedLength)l[n]=c.a.unpack(e,t);var p=f.a.unpack(e,t);t+=f.a.packedLength;var m=1===e[t++],g=e[t++],_=e[t];return Object(h.a)(i)?(i._positions=o,i._colors=l,i._ellipsoid=p,i._colorsPerVertex=m,i._arcType=g,i._granularity=_,i):new a({positions:o,colors:l,ellipsoid:p,colorsPerVertex:m,arcType:g,granularity:_})};var O=new Array(2),w=new Array(2),x={positions:O,height:w,ellipsoid:void 0,minDistance:void 0,granularity:void 0};a.createGeometry=function(e){var t,i,a,u,d,f=e._positions,E=e._colors,T=e._colorsPerVertex,A=e._arcType,C=e._granularity,S=e._ellipsoid,j=v.a.chordLength(C,S.maximumRadius),P=Object(h.a)(E)&&!T,D=f.length,I=0;if(A===r.a.GEODESIC||A===r.a.RHUMB){var R,M,L;A===r.a.GEODESIC?(R=v.a.chordLength(C,S.maximumRadius),M=b.a.numberOfPoints,L=b.a.generateArc):(R=C,M=b.a.numberOfPointsRhumbLine,L=b.a.generateRhumbArc);var N=b.a.extractHeights(f,S),F=x;if(A===r.a.GEODESIC?F.minDistance=j:F.granularity=C,F.ellipsoid=S,P){var z=0;for(t=0;t<D-1;t++)z+=M(f[t],f[t+1],R)+1;i=new Float64Array(3*z),u=new Uint8Array(4*z),F.positions=O,F.height=w;var B=0;for(t=0;t<D-1;++t){O[0]=f[t],O[1]=f[t+1],w[0]=N[t],w[1]=N[t+1];var k=L(F);if(Object(h.a)(E)){var U=k.length/3;d=E[t];for(var V=0;V<U;++V)u[B++]=c.a.floatToByte(d.red),u[B++]=c.a.floatToByte(d.green),u[B++]=c.a.floatToByte(d.blue),u[B++]=c.a.floatToByte(d.alpha)}i.set(k,I),I+=k.length}}else if(F.positions=f,F.height=N,i=new Float64Array(L(F)),Object(h.a)(E)){for(u=new Uint8Array(i.length/3*4),t=0;t<D-1;++t){var H=f[t],q=f[t+1],W=E[t],G=E[t+1];I=n(H,q,W,G,j,u,I)}var Y=E[D-1];u[I++]=c.a.floatToByte(Y.red),u[I++]=c.a.floatToByte(Y.green),u[I++]=c.a.floatToByte(Y.blue),u[I++]=c.a.floatToByte(Y.alpha)}}else{a=P?2*D-2:D,i=new Float64Array(3*a),u=Object(h.a)(E)?new Uint8Array(4*a):void 0;var X=0,Q=0;for(t=0;t<D;++t){var J=f[t];if(P&&t>0&&(s.a.pack(J,i,X),X+=3,d=E[t-1],u[Q++]=c.a.floatToByte(d.red),u[Q++]=c.a.floatToByte(d.green),u[Q++]=c.a.floatToByte(d.blue),u[Q++]=c.a.floatToByte(d.alpha)),P&&t===D-1)break;s.a.pack(J,i,X),X+=3,Object(h.a)(E)&&(d=E[t],u[Q++]=c.a.floatToByte(d.red),u[Q++]=c.a.floatToByte(d.green),u[Q++]=c.a.floatToByte(d.blue),u[Q++]=c.a.floatToByte(d.alpha))}}var Z=new g.a;Z.position=new m.a({componentDatatype:l.a.DOUBLE,componentsPerAttribute:3,values:i}),Object(h.a)(E)&&(Z.color=new m.a({componentDatatype:l.a.UNSIGNED_BYTE,componentsPerAttribute:4,values:u,normalize:!0})),a=i.length/3;var K=2*(a-1),$=_.a.createTypedArray(a,K),ee=0;for(t=0;t<a-1;++t)$[ee++]=t,$[ee++]=t+1;return new p.a({attributes:Z,indices:$,primitiveType:y.a.LINES,boundingSphere:o.a.fromPoints(f)})}},"0afR":function(e,t,i){"use strict";function n(e,t){if(!Object(c.a)(e))throw new u.a("scene is required.");if(!Object(c.a)(t))throw new u.a("entityCollection is required.");t.collectionChanged.addEventListener(n.prototype._onCollectionChanged,this),this._scene=e,this._primitives=e.primitives,this._entityCollection=t,this._tilesetHash={},this._entitiesToVisualize=new o.a,this._onCollectionChanged(t,t.values,[],[])}function a(e,t,i,n){var a=i[t.id];Object(c.a)(a)&&(n.removeAndDestroy(a.tilesetPrimitive),delete i[t.id])}function r(e,t,i){e.readyPromise.otherwise(function(e){console.error(e),i[t.id].loadFail=!0})}var o=i("7uRt"),s=i("lBr9"),c=i("xC6Q"),l=i("6sr8"),u=i("PzDm"),h=i("Xjii"),d=i("rMjQ"),f=i("sRds"),p=i("P+tD"),m=i("uhjI"),g=new h.a;n.prototype.update=function(e){if(!Object(c.a)(e))throw new u.a("time is required.");for(var t=this._entitiesToVisualize.values,i=this._tilesetHash,n=this._primitives,a=0,o=t.length;a<o;a++){var s,l,h=t[a],p=h._tileset,_=i[h.id],v=h.isShowing&&h.isAvailable(e)&&m.a.getValueOrDefault(p._show,e,!0);if(v&&(l=h.computeModelMatrix(e,g),s=d.a.createIfNeeded(m.a.getValueOrUndefined(p._uri,e))),v){var b=Object(c.a)(_)?_.tilesetPrimitive:void 0;Object(c.a)(b)&&s.url===_.url||(Object(c.a)(b)&&(n.removeAndDestroy(b),delete i[h.id]),b=new f.a({url:s}),b.id=h,n.add(b),_={tilesetPrimitive:b,url:s.url,loadFail:!1},i[h.id]=_,r(b,h,i)),b.show=!0,Object(c.a)(l)&&(b.modelMatrix=l),b.maximumScreenSpaceError=m.a.getValueOrDefault(p.maximumScreenSpaceError,e,b.maximumScreenSpaceError)}else Object(c.a)(_)&&(_.tilesetPrimitive.show=!1)}return!0},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(n.prototype._onCollectionChanged,this);for(var e=this._entitiesToVisualize.values,t=this._tilesetHash,i=this._primitives,r=e.length-1;r>-1;r--)a(this,e[r],t,i);return Object(l.a)(this)},n.prototype.getBoundingSphere=function(e,t){if(!Object(c.a)(e))throw new u.a("entity is required.");if(!Object(c.a)(t))throw new u.a("result is required.");var i=this._tilesetHash[e.id];if(!Object(c.a)(i)||i.loadFail)return p.a.FAILED;var n=i.tilesetPrimitive;return Object(c.a)(n)&&n.show?n.ready?(s.a.clone(n.boundingSphere,t),p.a.DONE):p.a.PENDING:p.a.FAILED},n.prototype._onCollectionChanged=function(e,t,i,n){var r,o,s=this._entitiesToVisualize,l=this._tilesetHash,u=this._primitives;for(r=t.length-1;r>-1;r--)o=t[r],Object(c.a)(o._tileset)&&s.set(o.id,o);for(r=n.length-1;r>-1;r--)o=n[r],Object(c.a)(o._tileset)?s.set(o.id,o):(a(this,o,l,u),s.remove(o.id));for(r=i.length-1;r>-1;r--)o=i[r],a(this,o,l,u),s.remove(o.id)},t.a=n},"0cNR":function(e,t,i){"use strict";function n(){a.a.throwInstantiationError()}var a=i("PzDm");n.computeDefaultLevelZeroMaximumGeometricError=function(e){return 2*e.ellipsoid.maximumRadius*Math.PI*.25/(65*e.getNumberOfXTilesAtLevel(0))},Object.defineProperties(n.prototype,{quadtree:{get:a.a.throwInstantiationError,set:a.a.throwInstantiationError},ready:{get:a.a.throwInstantiationError},tilingScheme:{get:a.a.throwInstantiationError},errorEvent:{get:a.a.throwInstantiationError}}),n.prototype.update=a.a.throwInstantiationError,n.prototype.beginUpdate=a.a.throwInstantiationError,n.prototype.endUpdate=a.a.throwInstantiationError,n.prototype.getLevelMaximumGeometricError=a.a.throwInstantiationError,n.prototype.loadTile=a.a.throwInstantiationError,n.prototype.computeTileVisibility=a.a.throwInstantiationError,n.prototype.showTileThisFrame=a.a.throwInstantiationError,n.prototype.computeDistanceToTile=a.a.throwInstantiationError,n.prototype.isDestroyed=a.a.throwInstantiationError,n.prototype.destroy=a.a.throwInstantiationError},"0df4":function(e,t,i){"use strict";function n(e){if(e=Object(H.a)(e,H.a.EMPTY_OBJECT),this.geometryInstances=e.geometryInstances,this.appearance=e.appearance,this._appearance=void 0,this._material=void 0,this.depthFailAppearance=e.depthFailAppearance,this._depthFailAppearance=void 0,this._depthFailMaterial=void 0,this.modelMatrix=ee.a.clone(Object(H.a)(e.modelMatrix,ee.a.IDENTITY)),this._modelMatrix=new ee.a,this.show=Object(H.a)(e.show,!0),this._vertexCacheOptimize=Object(H.a)(e.vertexCacheOptimize,!1),this._interleave=Object(H.a)(e.interleave,!1),this._releaseGeometryInstances=Object(H.a)(e.releaseGeometryInstances,!0),this._allowPicking=Object(H.a)(e.allowPicking,!0),this._asynchronous=Object(H.a)(e.asynchronous,!0),this._compressVertices=Object(H.a)(e.compressVertices,!0),this.cull=Object(H.a)(e.cull,!0),this.debugShowBoundingVolume=Object(H.a)(e.debugShowBoundingVolume,!1),this.rtcCenter=e.rtcCenter,Object(q.a)(this.rtcCenter)&&(!Object(q.a)(this.geometryInstances)||Array.isArray(this.geometryInstances)&&1!==this.geometryInstances.length))throw new G.a("Relative-to-center rendering only supports one geometry instance.");this.shadows=Object(H.a)(e.shadows,ye.a.DISABLED),this._translucent=void 0,this._state=ve.a.READY,this._geometries=[],this._error=void 0,this._numberOfInstances=0,this._boundingSpheres=[],this._boundingSphereWC=[],this._boundingSphereCV=[],this._boundingSphere2D=[],this._boundingSphereMorph=[],this._perInstanceAttributeCache=[],this._instanceIds=[],this._lastPerInstanceAttributeIndex=0,this._va=[],this._attributeLocations=void 0,this._primitiveType=void 0,this._frontFaceRS=void 0,this._backFaceRS=void 0,this._sp=void 0,this._depthFailAppearance=void 0,this._spDepthFail=void 0,this._frontFaceDepthFailRS=void 0,this._backFaceDepthFailRS=void 0,this._pickIds=[],this._colorCommands=[],this._pickCommands=[],this._createBoundingVolumeFunction=e._createBoundingVolumeFunction,this._createRenderStatesFunction=e._createRenderStatesFunction,this._createShaderProgramFunction=e._createShaderProgramFunction,this._createCommandsFunction=e._createCommandsFunction,this._updateAndQueueCommandsFunction=e._updateAndQueueCommandsFunction,this._createPickOffsets=e._createPickOffsets,this._pickOffsets=void 0,this._createGeometryResults=void 0,this._ready=!1,this._readyPromise=fe.a.defer(),this._batchTable=void 0,this._batchTableAttributeIndices=void 0,this._offsetInstanceExtend=void 0,this._batchTableOffsetAttribute2DIndex=void 0,this._batchTableOffsetsUpdated=!1,this._instanceBoundingSpheres=void 0,this._instanceBoundingSpheresCV=void 0,this._tempBoundingSpheres=void 0,this._recomputeBoundingSpheres=!1,this._batchTableBoundingSpheresUpdated=!1,this._batchTableBoundingSphereAttributeIndices=void 0}function a(e){var t,i=e.length,n=[],a=e[0].attributes;for(t in a)if(a.hasOwnProperty(t)&&Object(q.a)(a[t])){for(var r=a[t],o=!0,s=1;s<i;++s){var c=e[s].attributes[t];if(!Object(q.a)(c)||r.componentDatatype!==c.componentDatatype||r.componentsPerAttribute!==c.componentsPerAttribute||r.normalize!==c.normalize){o=!1;break}}o&&n.push(t)}return n}function r(e){var t=e.length;return 1===t?e[0]:2===t?L.a.unpack(e,0,Oe):3===t?N.a.unpack(e,0,we):4===t?F.a.unpack(e,0,xe):void 0}function o(e,t){var i=e.geometryInstances,n=Array.isArray(i)?i:[i],o=n.length;if(0!==o){var s,c,l,u,h=a(n),d=h.length,f=[],p={},m={},g=n[0],_=g.attributes;for(c=0;c<d;++c)l=h[c],u=_[l],p[l]=c,f.push({functionName:"czm_batchTable_"+l,componentDatatype:u.componentDatatype,componentsPerAttribute:u.componentsPerAttribute,normalize:u.normalize});-1!==h.indexOf("distanceDisplayCondition")&&(f.push({functionName:"czm_batchTable_boundingSphereCenter3DHigh",componentDatatype:V.a.FLOAT,componentsPerAttribute:3},{functionName:"czm_batchTable_boundingSphereCenter3DLow",componentDatatype:V.a.FLOAT,componentsPerAttribute:3},{functionName:"czm_batchTable_boundingSphereCenter2DHigh",componentDatatype:V.a.FLOAT,componentsPerAttribute:3},{functionName:"czm_batchTable_boundingSphereCenter2DLow",componentDatatype:V.a.FLOAT,componentsPerAttribute:3},{functionName:"czm_batchTable_boundingSphereRadius",componentDatatype:V.a.FLOAT,componentsPerAttribute:1}),m.center3DHigh=f.length-5,m.center3DLow=f.length-4,m.center2DHigh=f.length-3,m.center2DLow=f.length-2,m.radius=f.length-1),-1!==h.indexOf("offset")&&(f.push({functionName:"czm_batchTable_offset2D",componentDatatype:V.a.FLOAT,componentsPerAttribute:3}),s=f.length-1),f.push({functionName:"czm_batchTable_pickColor",componentDatatype:V.a.UNSIGNED_BYTE,componentsPerAttribute:4,normalize:!0});var v=f.length,b=new pe.a(t,f,o);for(c=0;c<o;++c){var y=n[c];_=y.attributes;for(var O=0;O<d;++O){l=h[O],u=_[l];var w=r(u.value),x=p[l];b.setBatchedAttribute(c,x,w)}var E={primitive:Object(H.a)(y.pickPrimitive,e)};Object(q.a)(y.id)&&(E.id=y.id);var T=t.createPickId(E);e._pickIds.push(T);var A=T.color,C=xe;C.x=k.a.floatToByte(A.red),C.y=k.a.floatToByte(A.green),C.z=k.a.floatToByte(A.blue),C.w=k.a.floatToByte(A.alpha),b.setBatchedAttribute(c,v-1,C)}e._batchTable=b,e._batchTableAttributeIndices=p,e._batchTableBoundingSphereAttributeIndices=m,e._batchTableOffsetAttribute2DIndex=s}}function s(e){var t;return t=Array.isArray(e.values)?e.values.slice(0):new e.values.constructor(e.values),new J.a({componentDatatype:e.componentDatatype,componentsPerAttribute:e.componentsPerAttribute,normalize:e.normalize,values:t})}function c(e){var t=e.attributes,i=new Z.a;for(var n in t)t.hasOwnProperty(n)&&Object(q.a)(t[n])&&(i[n]=s(t[n]));var a;if(Object(q.a)(e.indices)){var r=e.indices;a=Array.isArray(r)?r.slice(0):new r.constructor(r)}return new Q.a({attributes:i,indices:a,primitiveType:e.primitiveType,boundingSphere:M.a.clone(e.boundingSphere)})}function l(e,t){return{geometry:t,attributes:e.attributes,modelMatrix:ee.a.clone(e.modelMatrix),pickPrimitive:e.pickPrimitive,id:e.id}}function u(e){return he.a.replaceMain(e,"czm_non_pick_main")+"\nvarying vec4 v_pickColor; \nvoid main() \n{ \n    czm_non_pick_main(); \n    v_pickColor = czm_batchTable_pickColor(batchId); \n}"}function h(e){return"varying vec4 v_pickColor;\n"+e}function d(e,t){if(!e.compressVertices)return t;var i=-1!==t.search(/attribute\s+vec3\s+normal;/g),n=-1!==t.search(/attribute\s+vec2\s+st;/g);if(!i&&!n)return t;var a=-1!==t.search(/attribute\s+vec3\s+tangent;/g),r=-1!==t.search(/attribute\s+vec3\s+bitangent;/g),o=n&&i?2:1;o+=a||r?1:0;var s=o>1?"vec"+o:"float",c="compressedAttributes",l="attribute "+s+" "+c+";",u="",h="";if(n){u+="vec2 st;\n";h+="    st = czm_decompressTextureCoordinates("+(o>1?c+".x":c)+");\n"}i&&a&&r?(u+="vec3 normal;\nvec3 tangent;\nvec3 bitangent;\n",h+="    czm_octDecode("+c+"."+(n?"yz":"xy")+", normal, tangent, bitangent);\n"):(i&&(u+="vec3 normal;\n",h+="    normal = czm_octDecode("+c+(o>1?"."+(n?"y":"x"):"")+");\n"),a&&(u+="vec3 tangent;\n",h+="    tangent = czm_octDecode("+c+"."+(n&&i?"z":"y")+");\n"),r&&(u+="vec3 bitangent;\n",h+="    bitangent = czm_octDecode("+c+"."+(n&&i?"z":"y")+");\n"));var d=t;return d=d.replace(/attribute\s+vec3\s+normal;/g,""),d=d.replace(/attribute\s+vec2\s+st;/g,""),d=d.replace(/attribute\s+vec3\s+tangent;/g,""),d=d.replace(/attribute\s+vec3\s+bitangent;/g,""),d=he.a.replaceMain(d,"czm_non_compressed_main"),[l,u,d,"void main() \n{ \n"+h+"    czm_non_compressed_main(); \n}"].join("\n")}function f(e){var t=he.a.replaceMain(e,"czm_non_depth_clamp_main");return t+="varying float v_WindowZ;\nvoid main() {\n    czm_non_depth_clamp_main();\n    vec4 position = gl_Position;\n    v_WindowZ = (0.5 * (position.z / position.w) + 0.5) * position.w;\n    position.z = min(position.z, position.w);\n    gl_Position = position;\n}\n"}function p(e){var t=he.a.replaceMain(e,"czm_non_depth_clamp_main");return t+="varying float v_WindowZ;\nvoid main() {\n    czm_non_depth_clamp_main();\n#if defined(GL_EXT_frag_depth)\n    #if defined(LOG_DEPTH)\n        czm_writeLogDepth();\n    #else\n        gl_FragDepthEXT = min(v_WindowZ * gl_FragCoord.w, 1.0);\n    #endif\n#endif\n}\n",t="#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n#endif\n"+t}function m(e,t){var i=e.vertexAttributes;for(var n in i)if(i.hasOwnProperty(n)&&!Object(q.a)(t[n]))throw new G.a("Appearance/Geometry mismatch.  The appearance requires vertex shader attribute input '"+n+"', which was not computed as part of the Geometry.  Use the appearance's vertexFormat property when constructing the geometry.")}function g(e,t){return function(){return e[t]}}function _(e,t){var i,n,a,r,o=e._instanceIds;if(e._state===ve.a.READY){i=Array.isArray(e.geometryInstances)?e.geometryInstances:[e.geometryInstances];var s=e._numberOfInstances=i.length,c=[],l=[];for(a=0;a<s;++a){if(n=i[a].geometry,o.push(i[a].id),!Object(q.a)(n._workerName))throw new G.a("_workerName must be defined for asynchronous geometry.");l.push({moduleName:n._workerName,geometry:n})}if(!Object(q.a)(Te))for(Te=new Array(Ae),a=0;a<Ae;a++)Te[a]=new ae.a("createGeometry",Number.POSITIVE_INFINITY);var u;for(l=Object(ne.a)(l,Ae),a=0;a<l.length;a++){var h=0,d=l[a],f=d.length;for(r=0;r<f;++r)u=d[r],n=u.geometry,Object(q.a)(n.constructor.pack)&&(u.offset=h,h+=Object(H.a)(n.constructor.packedLength,n.packedLength));var p;if(h>0){var m=new Float64Array(h);for(p=[m.buffer],r=0;r<f;++r)u=d[r],n=u.geometry,Object(q.a)(n.constructor.pack)&&(n.constructor.pack(n,m,u.offset),u.geometry=m)}c.push(Te[a].scheduleTask({subTasks:l[a]},p))}e._state=ve.a.CREATING,fe.a.all(c,function(t){e._createGeometryResults=t,e._state=ve.a.CREATED}).otherwise(function(i){R(e,t,ve.a.FAILED,i)})}else if(e._state===ve.a.CREATED){var g=[];i=Array.isArray(e.geometryInstances)?e.geometryInstances:[e.geometryInstances];var _=t.scene3DOnly,v=t.mapProjection,b=Ce.scheduleTask(_e.a.packCombineGeometryParameters({createGeometryResults:e._createGeometryResults,instances:i,ellipsoid:v.ellipsoid,projection:v,elementIndexUintSupported:t.context.elementIndexUint,scene3DOnly:_,vertexCacheOptimize:e.vertexCacheOptimize,compressVertices:e.compressVertices,modelMatrix:e.modelMatrix,createPickOffsets:e._createPickOffsets},g),g);e._createGeometryResults=void 0,e._state=ve.a.COMBINING,Object(fe.a)(b,function(i){var n=_e.a.unpackCombineGeometryResults(i);e._geometries=n.geometries,e._attributeLocations=n.attributeLocations,e.modelMatrix=ee.a.clone(n.modelMatrix,e.modelMatrix),e._pickOffsets=n.pickOffsets,e._offsetInstanceExtend=n.offsetInstanceExtend,e._instanceBoundingSpheres=n.boundingSpheres,e._instanceBoundingSpheresCV=n.boundingSpheresCV,Object(q.a)(e._geometries)&&e._geometries.length>0?(e._recomputeBoundingSpheres=!0,e._state=ve.a.COMBINED):R(e,t,ve.a.FAILED,void 0)}).otherwise(function(i){R(e,t,ve.a.FAILED,i)})}}function v(e,t){var i,n,a=Array.isArray(e.geometryInstances)?e.geometryInstances:[e.geometryInstances],r=e._numberOfInstances=a.length,o=new Array(r),s=e._instanceIds,u=0;for(n=0;n<r;n++){i=a[n];var h,d=i.geometry;h=Object(q.a)(d.attributes)&&Object(q.a)(d.primitiveType)?c(d):d.constructor.createGeometry(d),o[u++]=l(i,h),s.push(i.id)}o.length=u;var f=t.scene3DOnly,p=t.mapProjection,m=_e.a.combineGeometry({instances:o,ellipsoid:p.ellipsoid,projection:p,elementIndexUintSupported:t.context.elementIndexUint,scene3DOnly:f,vertexCacheOptimize:e.vertexCacheOptimize,compressVertices:e.compressVertices,modelMatrix:e.modelMatrix,createPickOffsets:e._createPickOffsets});e._geometries=m.geometries,e._attributeLocations=m.attributeLocations,e.modelMatrix=ee.a.clone(m.modelMatrix,e.modelMatrix),e._pickOffsets=m.pickOffsets,e._offsetInstanceExtend=m.offsetInstanceExtend,e._instanceBoundingSpheres=m.boundingSpheres,e._instanceBoundingSpheresCV=m.boundingSpheresCV,Object(q.a)(e._geometries)&&e._geometries.length>0?(e._recomputeBoundingSpheres=!0,e._state=ve.a.COMBINED):R(e,t,ve.a.FAILED,void 0)}function b(e,t){var i=e._batchTableAttributeIndices.offset;if(!e._recomputeBoundingSpheres||!Object(q.a)(i))return void(e._recomputeBoundingSpheres=!1);var a,r=e._offsetInstanceExtend,o=e._instanceBoundingSpheres,s=o.length,c=e._tempBoundingSpheres;if(!Object(q.a)(c)){for(c=new Array(s),a=0;a<s;a++)c[a]=new M.a;e._tempBoundingSpheres=c}for(a=0;a<s;++a){var l=c[a],u=e._batchTable.getBatchedAttribute(a,i,new N.a);l=o[a].clone(l),S(l,u,r[a])}var h=[],d=[],f=[];for(a=0;a<s;++a){var p=c[a];p.center.x-p.radius>0||M.a.intersectPlane(p,te.a.ORIGIN_ZX_PLANE)!==$.a.INTERSECTING?h.push(p):(d.push(p),f.push(p))}var m=h[0],g=f[0],_=d[0];for(a=1;a<h.length;a++)m=M.a.union(m,h[a]);for(a=1;a<f.length;a++)g=M.a.union(g,f[a]);for(a=1;a<d.length;a++)_=M.a.union(_,d[a]);var v=[];for(Object(q.a)(m)&&v.push(m),Object(q.a)(g)&&v.push(g),Object(q.a)(_)&&v.push(_),a=0;a<v.length;a++){var b=v[a].clone(e._boundingSpheres[a]);e._boundingSpheres[a]=b,e._boundingSphereCV[a]=M.a.projectTo2D(b,t.mapProjection,e._boundingSphereCV[a])}n._updateBoundingVolumes(e,t,e.modelMatrix,!0),e._recomputeBoundingSpheres=!1}function y(e,t){if(Object(q.a)(e._batchTableAttributeIndices.distanceDisplayCondition)&&!e._batchTableBoundingSpheresUpdated){for(var i=e._batchTableBoundingSphereAttributeIndices,n=i.center3DHigh,a=i.center3DLow,r=i.center2DHigh,o=i.center2DLow,s=i.radius,c=t.mapProjection,l=c.ellipsoid,u=e._batchTable,h=e._instanceBoundingSpheres,d=h.length,f=0;f<d;++f){var p=h[f];if(Object(q.a)(p)){var m=e.modelMatrix;Object(q.a)(m)&&(p=M.a.transform(p,m,De));var g=p.center,_=p.radius,v=Y.a.fromCartesian(g,Se);if(u.setBatchedAttribute(f,n,v.high),u.setBatchedAttribute(f,a,v.low),!t.scene3DOnly){var b=l.cartesianToCartographic(g,je),y=c.project(b,Pe);v=Y.a.fromCartesian(y,Se),u.setBatchedAttribute(f,r,v.high),u.setBatchedAttribute(f,o,v.low)}u.setBatchedAttribute(f,s,_)}}e._batchTableBoundingSpheresUpdated=!0}}function O(e,t){if(Object(q.a)(e._batchTableAttributeIndices.offset)&&!e._batchTableOffsetsUpdated&&!t.scene3DOnly){for(var i=e._batchTableOffsetAttribute2DIndex,n=t.mapProjection,a=n.ellipsoid,r=e._batchTable,o=e._instanceBoundingSpheres,s=o.length,c=0;c<s;++c){var l=o[c];if(Object(q.a)(l)){var u=r.getBatchedAttribute(c,e._batchTableAttributeIndices.offset);if(N.a.equals(u,N.a.ZERO))r.setBatchedAttribute(c,i,N.a.ZERO);else{var h=e.modelMatrix;Object(q.a)(h)&&(l=M.a.transform(l,h,De));var d=l.center;d=a.scaleToGeodeticSurface(d,Re);var f=a.cartesianToCartographic(d,je),p=n.project(f,Pe),m=N.a.add(u,d,Ie);f=a.cartesianToCartographic(m,f);var g=n.project(f,Ie),_=N.a.subtract(g,p,Ie),v=_.x;_.x=_.z,_.z=_.y,_.y=v,r.setBatchedAttribute(c,i,_)}}}e._batchTableOffsetsUpdated=!0}}function w(e,t){for(var i=e._attributeLocations,n=e._geometries,a=t.scene3DOnly,r=t.context,o=[],s=n.length,c=0;c<s;++c){var l=n[c];if(o.push(de.a.fromGeometry({context:r,geometry:l,attributeLocations:i,bufferUsage:re.a.STATIC_DRAW,interleave:e._interleave})),Object(q.a)(e._createBoundingVolumeFunction))e._createBoundingVolumeFunction(t,l);else if(e._boundingSpheres.push(M.a.clone(l.boundingSphere)),e._boundingSphereWC.push(new M.a),!a){var u=l.boundingSphereCV.center,h=u.x,d=u.y,f=u.z;u.x=f,u.y=h,u.z=d,e._boundingSphereCV.push(M.a.clone(l.boundingSphereCV)),e._boundingSphere2D.push(new M.a),e._boundingSphereMorph.push(new M.a)}}e._va=o,e._primitiveType=n[0].primitiveType,e.releaseGeometryInstances&&(e.geometryInstances=void 0),e._geometries=void 0,R(e,t,ve.a.COMPLETE,void 0)}function x(e,t,i,n){var a,r=i.getRenderState();n?(a=Object(B.a)(r,!1),a.cull={enabled:!0,face:me.a.BACK},e._frontFaceRS=le.a.fromCache(a),a.cull.face=me.a.FRONT,e._backFaceRS=le.a.fromCache(a)):(e._frontFaceRS=le.a.fromCache(r),e._backFaceRS=e._frontFaceRS),a=Object(B.a)(r,!1),Object(q.a)(e._depthFailAppearance)&&(a.depthTest.enabled=!1),Object(q.a)(e._depthFailAppearance)&&(r=e._depthFailAppearance.getRenderState(),a=Object(B.a)(r,!1),a.depthTest.func=ge.a.GREATER,n?(a.cull={enabled:!0,face:me.a.BACK},e._frontFaceDepthFailRS=le.a.fromCache(a),a.cull.face=me.a.FRONT,e._backFaceDepthFailRS=le.a.fromCache(a)):(e._frontFaceDepthFailRS=le.a.fromCache(a),e._backFaceDepthFailRS=e._frontFaceRS))}function E(e,t,i){var a=t.context,r=e._attributeLocations,o=e._batchTable.getVertexShaderCallback()(i.vertexShaderSource);o=n._appendOffsetToShader(e,o),o=n._appendShowToShader(e,o),o=n._appendDistanceDisplayConditionToShader(e,o,t.scene3DOnly),o=u(o),o=n._updateColorAttribute(e,o,!1),o=d(e,o),o=n._modifyShaderPosition(e,o,t.scene3DOnly);var s=i.getFragmentShaderSource();s=h(s),e._sp=ue.a.replaceCache({context:a,shaderProgram:e._sp,vertexShaderSource:o,fragmentShaderSource:s,attributeLocations:r}),m(e._sp,r),Object(q.a)(e._depthFailAppearance)&&(o=e._batchTable.getVertexShaderCallback()(e._depthFailAppearance.vertexShaderSource),o=n._appendShowToShader(e,o),o=n._appendDistanceDisplayConditionToShader(e,o,t.scene3DOnly),o=u(o),o=n._updateColorAttribute(e,o,!0),o=d(e,o),o=n._modifyShaderPosition(e,o,t.scene3DOnly),o=f(o),s=e._depthFailAppearance.getFragmentShaderSource(),s=h(s),s=p(s),e._spDepthFail=ue.a.replaceCache({context:a,shaderProgram:e._spDepthFail,vertexShaderSource:o,fragmentShaderSource:s,attributeLocations:r}),m(e._spDepthFail,r))}function T(e,t,i,n){var a=Object(q.a)(i)?i._uniforms:void 0,r={},o=t.uniforms;if(Object(q.a)(o))for(var s in o)if(o.hasOwnProperty(s)){if(Object(q.a)(a)&&Object(q.a)(a[s]))throw new G.a("Appearance and material have a uniform with the same name: "+s);r[s]=g(o,s)}var c=Object(U.a)(r,a);return c=e._batchTable.getUniformMapCallback()(c),Object(q.a)(e.rtcCenter)&&(c.u_modifiedModelView=function(){var t=n.context.uniformState.view;return ee.a.multiply(t,e._modelMatrix,Me),ee.a.multiplyByPoint(Me,e.rtcCenter,Le),ee.a.setTranslation(Me,Le,Me),Me}),c}function A(e,t,i,n,a,r,o,s){var c,l=T(e,t,i,s);Object(q.a)(e._depthFailAppearance)&&(c=T(e,e._depthFailAppearance,e._depthFailAppearance.material,s));var u=n?ce.a.TRANSLUCENT:ce.a.OPAQUE,h=a?2:1;h*=Object(q.a)(e._depthFailAppearance)?2:1,r.length=e._va.length*h;for(var d=r.length,f=0,p=0;p<d;++p){var m;a&&(m=r[p],Object(q.a)(m)||(m=r[p]=new se.a({owner:e,primitiveType:e._primitiveType})),m.vertexArray=e._va[f],m.renderState=e._backFaceRS,m.shaderProgram=e._sp,m.uniformMap=l,m.pass=u,++p),m=r[p],Object(q.a)(m)||(m=r[p]=new se.a({owner:e,primitiveType:e._primitiveType})),m.vertexArray=e._va[f],m.renderState=e._frontFaceRS,m.shaderProgram=e._sp,m.uniformMap=l,m.pass=u,Object(q.a)(e._depthFailAppearance)&&(a&&(++p,m=r[p],Object(q.a)(m)||(m=r[p]=new se.a({owner:e,primitiveType:e._primitiveType})),m.vertexArray=e._va[f],m.renderState=e._backFaceDepthFailRS,m.shaderProgram=e._spDepthFail,m.uniformMap=c,m.pass=u),++p,m=r[p],Object(q.a)(m)||(m=r[p]=new se.a({owner:e,primitiveType:e._primitiveType})),m.vertexArray=e._va[f],m.renderState=e._frontFaceDepthFailRS,m.shaderProgram=e._spDepthFail,m.uniformMap=c,m.pass=u),++f}}function C(e,t,i,a,r,o,s,c){if(t.mode!==be.a.SCENE3D&&!ee.a.equals(r,ee.a.IDENTITY))throw new G.a("Primitive.modelMatrix is only supported in 3D mode.");n._updateBoundingVolumes(e,t,r);var l;t.mode===be.a.SCENE3D?l=e._boundingSphereWC:t.mode===be.a.COLUMBUS_VIEW?l=e._boundingSphereCV:t.mode===be.a.SCENE2D&&Object(q.a)(e._boundingSphere2D)?l=e._boundingSphere2D:Object(q.a)(e._boundingSphereMorph)&&(l=e._boundingSphereMorph);var u=t.commandList,h=t.passes;if(h.render||h.pick){var d=e.allowPicking,f=ye.a.castShadows(e.shadows),p=ye.a.receiveShadows(e.shadows),m=i.length,g=c?2:1;g*=Object(q.a)(e._depthFailAppearance)?2:1;for(var _=0;_<m;++_){var v=Math.floor(_/g),b=i[_];b.modelMatrix=r,b.boundingVolume=l[v],b.cull=o,b.debugShowBoundingVolume=s,b.castShadows=f,b.receiveShadows=p,b.pickId=d?"v_pickColor":void 0,u.push(b)}}}function S(e,t,i){if(i===K.a.TOP){var n=M.a.clone(e,Ne),a=M.a.clone(e,Fe);a.center=N.a.add(a.center,t,a.center),e=M.a.union(n,a,e)}else i===K.a.ALL&&(e.center=N.a.add(e.center,t,e.center));return e}function j(e,t,i){return function(){var n=e.getBatchedAttribute(t,i),a=e.attributes[i],r=a.componentsPerAttribute,o=V.a.createTypedArray(a.componentDatatype,r);return Object(q.a)(n.constructor.pack)?n.constructor.pack(n,o,0):o[0]=n,o}}function P(e,t,i,n,a){return function(o){if(!Object(q.a)(o)||!Object(q.a)(o.length)||o.length<1||o.length>4)throw new G.a("value must be and array with length between 1 and 4.");var s=r(o);e.setBatchedAttribute(t,i,s),"offset"===a&&(n._recomputeBoundingSpheres=!0,n._batchTableOffsetsUpdated=!1)}}function D(e,t,i){t.boundingSphere={get:function(){var n=e._instanceBoundingSpheres[i];if(Object(q.a)(n)){n=n.clone();var a=e.modelMatrix,r=t.offset;Object(q.a)(r)&&S(n,N.a.fromArray(r.get(),0,ze),e._offsetInstanceExtend[i]),Object(q.a)(a)&&(n=M.a.transform(n,a))}return n}},t.boundingSphereCV={get:function(){return e._instanceBoundingSpheresCV[i]}}}function I(e,t,i){t.pickId={get:function(){return e._pickIds[i]}}}function R(e,t,i,n){e._error=n,e._state=i,t.afterRender.push(function(){e._ready=e._state===ve.a.COMPLETE||e._state===ve.a.FAILED,Object(q.a)(n)?e._readyPromise.reject(n):e._readyPromise.resolve(e)})}var M=i("lBr9"),L=i("Ss9j"),N=i("Jj+J"),F=i("PDkd"),z=i("I3GD"),B=i("wv0P"),k=i("6F0S"),U=i("ZboF"),V=i("YCZg"),H=i("5A4e"),q=i("xC6Q"),W=i("6sr8"),G=i("PzDm"),Y=i("Is4l"),X=i("gjtw"),Q=i("RGAo"),J=i("RYD3"),Z=i("GaJK"),K=i("2g+t"),$=i("u909"),ee=i("Xjii"),te=i("kRxM"),ie=i("V22k"),ne=i("KLdj"),ae=i("JlUm"),re=i("rFKc"),oe=i("J1no"),se=i("1mJh"),ce=i("M0+0"),le=i("DrvA"),ue=i("WUlw"),he=i("x6Ms"),de=i("+0EW"),fe=i("S7OP"),pe=i("VdXv"),me=i("3fQz"),ge=i("jFv/"),_e=i("dBXn"),ve=i("iaSs"),be=i("sotJ"),ye=i("ARzC");Object.defineProperties(n.prototype,{vertexCacheOptimize:{get:function(){return this._vertexCacheOptimize}},interleave:{get:function(){return this._interleave}},releaseGeometryInstances:{get:function(){return this._releaseGeometryInstances}},allowPicking:{get:function(){return this._allowPicking}},asynchronous:{get:function(){return this._asynchronous}},compressVertices:{get:function(){return this._compressVertices}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}}});var Oe=new L.a,we=new N.a,xe=new F.a,Ee=/attribute\s+vec(?:3|4)\s+(.*)3DHigh;/g;n._modifyShaderPosition=function(e,t,i){for(var n,a="",r="",o="";null!==(n=Ee.exec(t));){var s=n[1],c="vec4 czm_compute"+s[0].toUpperCase()+s.substr(1)+"()";"vec4 czm_computePosition()"!==c&&(a+=c+";\n"),Object(q.a)(e.rtcCenter)?(t=t.replace(/attribute\s+vec(?:3|4)\s+position3DHigh;/g,""),t=t.replace(/attribute\s+vec(?:3|4)\s+position3DLow;/g,""),a+="uniform mat4 u_modifiedModelView;\n",r+="attribute vec4 position;\n",o+=c+"\n{\n    return u_modifiedModelView * position;\n}\n\n",t=t.replace(/czm_modelViewRelativeToEye\s+\*\s+/g,""),t=t.replace(/czm_modelViewProjectionRelativeToEye/g,"czm_projection")):i?o+=c+"\n{\n    return czm_translateRelativeToEye("+s+"3DHigh, "+s+"3DLow);\n}\n\n":(r+="attribute vec3 "+s+"2DHigh;\nattribute vec3 "+s+"2DLow;\n",o+=c+"\n{\n    vec4 p;\n    if (czm_morphTime == 1.0)\n    {\n        p = czm_translateRelativeToEye("+s+"3DHigh, "+s+"3DLow);\n    }\n    else if (czm_morphTime == 0.0)\n    {\n        p = czm_translateRelativeToEye("+s+"2DHigh.zxy, "+s+"2DLow.zxy);\n    }\n    else\n    {\n        p = czm_columbusViewMorph(\n                czm_translateRelativeToEye("+s+"2DHigh.zxy, "+s+"2DLow.zxy),\n                czm_translateRelativeToEye("+s+"3DHigh, "+s+"3DLow),\n                czm_morphTime);\n    }\n    return p;\n}\n\n")}return[a,r,t,o].join("\n")},n._appendShowToShader=function(e,t){if(!Object(q.a)(e._batchTableAttributeIndices.show))return t;return he.a.replaceMain(t,"czm_non_show_main")+"\nvoid main() \n{ \n    czm_non_show_main(); \n    gl_Position *= czm_batchTable_show(batchId); \n}"},n._updateColorAttribute=function(e,t,i){if(!Object(q.a)(e._batchTableAttributeIndices.color)&&!Object(q.a)(e._batchTableAttributeIndices.depthFailColor))return t;if(-1===t.search(/attribute\s+vec4\s+color;/g))return t;if(i&&!Object(q.a)(e._batchTableAttributeIndices.depthFailColor))throw new G.a("A depthFailColor per-instance attribute is required when using a depth fail appearance that uses a color attribute.");var n=t;return n=n.replace(/attribute\s+vec4\s+color;/g,""),n=i?n.replace(/(\b)color(\b)/g,"$1czm_batchTable_depthFailColor(batchId)$2"):n.replace(/(\b)color(\b)/g,"$1czm_batchTable_color(batchId)$2")},n._updatePickColorAttribute=function(e){var t=e.replace(/attribute\s+vec4\s+pickColor;/g,"");return t=t.replace(/(\b)pickColor(\b)/g,"$1czm_batchTable_pickColor(batchId)$2")},n._appendOffsetToShader=function(e,t){if(!Object(q.a)(e._batchTableAttributeIndices.offset))return t;var i="attribute float batchId;\n";i+="attribute float applyOffset;";var n=t.replace(/attribute\s+float\s+batchId;/g,i),a="vec4 $1 = czm_computePosition();\n";return a+="    if (czm_sceneMode == czm_sceneMode3D)\n",a+="    {\n",a+="        $1 = $1 + vec4(czm_batchTable_offset(batchId) * applyOffset, 0.0);",a+="    }\n",a+="    else\n",a+="    {\n",a+="        $1 = $1 + vec4(czm_batchTable_offset2D(batchId) * applyOffset, 0.0);",a+="    }\n",n=n.replace(/vec4\s+([A-Za-z0-9_]+)\s+=\s+czm_computePosition\(\);/g,a)},n._appendDistanceDisplayConditionToShader=function(e,t,i){if(!Object(q.a)(e._batchTableAttributeIndices.distanceDisplayCondition))return t;var n=he.a.replaceMain(t,"czm_non_distanceDisplayCondition_main"),a="void main() \n{ \n    czm_non_distanceDisplayCondition_main(); \n    vec2 distanceDisplayCondition = czm_batchTable_distanceDisplayCondition(batchId);\n    vec3 boundingSphereCenter3DHigh = czm_batchTable_boundingSphereCenter3DHigh(batchId);\n    vec3 boundingSphereCenter3DLow = czm_batchTable_boundingSphereCenter3DLow(batchId);\n    float boundingSphereRadius = czm_batchTable_boundingSphereRadius(batchId);\n";return a+=i?"    vec4 centerRTE = czm_translateRelativeToEye(boundingSphereCenter3DHigh, boundingSphereCenter3DLow);\n":"    vec3 boundingSphereCenter2DHigh = czm_batchTable_boundingSphereCenter2DHigh(batchId);\n    vec3 boundingSphereCenter2DLow = czm_batchTable_boundingSphereCenter2DLow(batchId);\n    vec4 centerRTE;\n    if (czm_morphTime == 1.0)\n    {\n        centerRTE = czm_translateRelativeToEye(boundingSphereCenter3DHigh, boundingSphereCenter3DLow);\n    }\n    else if (czm_morphTime == 0.0)\n    {\n        centerRTE = czm_translateRelativeToEye(boundingSphereCenter2DHigh.zxy, boundingSphereCenter2DLow.zxy);\n    }\n    else\n    {\n        centerRTE = czm_columbusViewMorph(\n                czm_translateRelativeToEye(boundingSphereCenter2DHigh.zxy, boundingSphereCenter2DLow.zxy),\n                czm_translateRelativeToEye(boundingSphereCenter3DHigh, boundingSphereCenter3DLow),\n                czm_morphTime);\n    }\n",a+="    float radiusSq = boundingSphereRadius * boundingSphereRadius; \n    float distanceSq; \n    if (czm_sceneMode == czm_sceneMode2D) \n    { \n        distanceSq = czm_eyeHeight2D.y - radiusSq; \n    } \n    else \n    { \n        distanceSq = dot(centerRTE.xyz, centerRTE.xyz) - radiusSq; \n    } \n    distanceSq = max(distanceSq, 0.0); \n    float nearSq = distanceDisplayCondition.x * distanceDisplayCondition.x; \n    float farSq = distanceDisplayCondition.y * distanceDisplayCondition.y; \n    float show = (distanceSq >= nearSq && distanceSq <= farSq) ? 1.0 : 0.0; \n    gl_Position *= show; \n}",n+"\n"+a};var Te,Ae=Math.max(X.a.hardwareConcurrency-1,1),Ce=new ae.a("combineGeometry",Number.POSITIVE_INFINITY),Se=new Y.a,je=new z.a,Pe=new N.a,De=new M.a,Ie=new N.a,Re=new N.a,Me=new ee.a,Le=new N.a;n._updateBoundingVolumes=function(e,t,i,n){var a,r,o;if(n||!ee.a.equals(i,e._modelMatrix))for(ee.a.clone(i,e._modelMatrix),r=e._boundingSpheres.length,a=0;a<r;++a)o=e._boundingSpheres[a],Object(q.a)(o)&&(e._boundingSphereWC[a]=M.a.transform(o,i,e._boundingSphereWC[a]),t.scene3DOnly||(e._boundingSphere2D[a]=M.a.clone(e._boundingSphereCV[a],e._boundingSphere2D[a]),e._boundingSphere2D[a].center.x=0,e._boundingSphereMorph[a]=M.a.union(e._boundingSphereWC[a],e._boundingSphereCV[a])));var s=e.appearance.pixelSize;if(Object(q.a)(s))for(r=e._boundingSpheres.length,a=0;a<r;++a){o=e._boundingSpheres[a];var c=e._boundingSphereWC[a],l=t.camera.getPixelSize(o,t.context.drawingBufferWidth,t.context.drawingBufferHeight),u=l*s;c.radius=o.radius+u}},n.prototype.update=function(e){if(!(!Object(q.a)(this.geometryInstances)&&0===this._va.length||Object(q.a)(this.geometryInstances)&&Array.isArray(this.geometryInstances)&&0===this.geometryInstances.length||!Object(q.a)(this.appearance)||e.mode!==be.a.SCENE3D&&e.scene3DOnly||!e.passes.render&&!e.passes.pick)){if(Object(q.a)(this._error))throw this._error;if(Object(q.a)(this.rtcCenter)&&!e.scene3DOnly)throw new G.a("RTC rendering is only available for 3D only scenes.");if(this._state!==ve.a.FAILED){var t=e.context;if(Object(q.a)(this._batchTable)||o(this,t),this._batchTable.attributes.length>0){if(0===oe.a.maximumVertexTextureImageUnits)throw new ie.a("Vertex texture fetch support is required to render primitives with per-instance attributes. The maximum number of vertex texture image units must be greater than zero.");this._batchTable.update(e)}if(this._state!==ve.a.COMPLETE&&this._state!==ve.a.COMBINED&&(this.asynchronous?_(this,e):v(this,e)),this._state===ve.a.COMBINED&&(y(this,e),O(this,e),w(this,e)),this.show&&this._state===ve.a.COMPLETE){this._batchTableOffsetsUpdated||O(this,e),this._recomputeBoundingSpheres&&b(this,e);var i=this.appearance,n=i.material,a=!1,r=!1;this._appearance!==i?(this._appearance=i,this._material=n,a=!0,r=!0):this._material!==n&&(this._material=n,r=!0);var s=this.depthFailAppearance,c=Object(q.a)(s)?s.material:void 0;this._depthFailAppearance!==s?(this._depthFailAppearance=s,this._depthFailMaterial=c,a=!0,r=!0):this._depthFailMaterial!==c&&(this._depthFailMaterial=c,r=!0);var l=this._appearance.isTranslucent();this._translucent!==l&&(this._translucent=l,a=!0),Object(q.a)(this._material)&&this._material.update(t);var u=i.closed&&l;if(a){Object(H.a)(this._createRenderStatesFunction,x)(this,t,i,u)}if(r){Object(H.a)(this._createShaderProgramFunction,E)(this,e,i)}if(a||r){Object(H.a)(this._createCommandsFunction,A)(this,i,n,l,u,this._colorCommands,this._pickCommands,e)}Object(H.a)(this._updateAndQueueCommandsFunction,C)(this,e,this._colorCommands,this._pickCommands,this.modelMatrix,this.cull,this.debugShowBoundingVolume,u)}}}};var Ne=new M.a,Fe=new M.a,ze=new N.a;n.prototype.getGeometryInstanceAttributes=function(e){if(!Object(q.a)(e))throw new G.a("id is required");if(!Object(q.a)(this._batchTable))throw new G.a("must call update before calling getGeometryInstanceAttributes");for(var t=-1,i=this._lastPerInstanceAttributeIndex,n=this._instanceIds,a=n.length,r=0;r<a;++r){var o=(i+r)%a;if(e===n[o]){t=o;break}}if(-1!==t){var s=this._perInstanceAttributeCache[t];if(Object(q.a)(s))return s;var c=this._batchTable,l=this._batchTableAttributeIndices;s={};var u={};for(var h in l)if(l.hasOwnProperty(h)){var d=l[h];u[h]={get:j(c,t,d),set:P(c,t,d,this,h)}}return D(this,u,t),I(this,u,t),Object.defineProperties(s,u),this._lastPerInstanceAttributeIndex=t,this._perInstanceAttributeCache[t]=s,s}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){var e,t;this._sp=this._sp&&this._sp.destroy(),this._spDepthFail=this._spDepthFail&&this._spDepthFail.destroy();var i=this._va;for(e=i.length,t=0;t<e;++t)i[t].destroy();this._va=void 0;var n=this._pickIds;for(e=n.length,t=0;t<e;++t)n[t].destroy();return this._pickIds=void 0,this._batchTable=this._batchTable&&this._batchTable.destroy(),this._instanceIds=void 0,this._perInstanceAttributeCache=void 0,this._attributeLocations=void 0,Object(W.a)(this)},t.a=n},"0dqR":function(e,t,i){"use strict";function n(e,t,i,n,r,o,s){var c=Math.cos(t),l=n*c,h=i*c,d=Math.sin(t),f=n*d,p=i*d;_=y.project(e,_),_=a.a.subtract(_,b,_);var m=u.a.fromRotation(t,g);_=u.a.multiplyByVector(m,_,_),_=a.a.add(_,b,_),e=y.unproject(_,e),o-=1,s-=1;var v=e.latitude,O=v+o*p,w=v-l*s,x=v-l*s+o*p,E=Math.max(v,O,w,x),T=Math.min(v,O,w,x),A=e.longitude,C=A+o*h,S=A+s*f,j=A+s*f+o*h;return{north:E,south:T,east:Math.max(A,C,S,j),west:Math.min(A,C,S,j),granYCos:l,granYSin:f,granXCos:h,granXSin:p,nwCorner:e}}var a=i("Jj+J"),r=i("I3GD"),o=i("xC6Q"),s=i("PzDm"),c=i("eUIW"),l=i("fq+p"),u=i("BvC/"),h=i("Wq1U"),d=Math.cos,f=Math.sin,p=Math.sqrt,m={};m.computePosition=function(e,t,i,n,a,r,s){var c=t.radiiSquared,l=e.nwCorner,u=e.boundingRectangle,h=l.latitude-e.granYCos*n+a*e.granXSin,m=d(h),g=f(h),_=c.z*g,v=l.longitude+n*e.granYSin+a*e.granXCos,b=m*d(v),y=m*f(v),O=c.x*b,w=c.y*y,x=p(O*b+w*y+_*g);if(r.x=O/x,r.y=w/x,r.z=_/x,i){var E=e.stNwCorner;Object(o.a)(E)?(h=E.latitude-e.stGranYCos*n+a*e.stGranXSin,v=E.longitude+n*e.stGranYSin+a*e.stGranXCos,s.x=(v-e.stWest)*e.lonScalar,s.y=(h-e.stSouth)*e.latScalar):(s.x=(v-u.west)*e.lonScalar,s.y=(h-u.south)*e.latScalar)}};var g=new u.a,_=new a.a,v=new r.a,b=new a.a,y=new c.a;m.computeOptions=function(e,t,i,a,r,o,c){var u=e.east,d=e.west,f=e.north,p=e.south,m=!1,g=!1;f===l.a.PI_OVER_TWO&&(m=!0),p===-l.a.PI_OVER_TWO&&(g=!0);var _,O,w,x,E,T=f-p;E=d>u?l.a.TWO_PI-d+u:u-d,_=Math.ceil(E/t)+1,O=Math.ceil(T/t)+1,w=E/(_-1),x=T/(O-1);var A=h.a.northwest(e,o),C=h.a.center(e,v);0===i&&0===a||(C.longitude<A.longitude&&(C.longitude+=l.a.TWO_PI),b=y.project(C,b));var S=x,j=w,P=h.a.clone(e,r),D={granYCos:S,granYSin:0,granXCos:j,granXSin:0,nwCorner:A,boundingRectangle:P,width:_,height:O,northCap:m,southCap:g};if(0!==i){var I=n(A,i,w,x,C,_,O);if(f=I.north,p=I.south,u=I.east,d=I.west,f<-l.a.PI_OVER_TWO||f>l.a.PI_OVER_TWO||p<-l.a.PI_OVER_TWO||p>l.a.PI_OVER_TWO)throw new s.a("Rotated rectangle is invalid.  It crosses over either the north or south pole.");D.granYCos=I.granYCos,D.granYSin=I.granYSin,D.granXCos=I.granXCos,D.granXSin=I.granXSin,P.north=f,P.south=p,P.east=u,P.west=d}if(0!==a){i-=a;var R=h.a.northwest(P,c),M=n(R,i,w,x,C,_,O);D.stGranYCos=M.granYCos,D.stGranXCos=M.granXCos,D.stGranYSin=M.granYSin,D.stGranXSin=M.granXSin,D.stNwCorner=R,D.stWest=M.west,D.stSouth=M.south}return D},t.a=m},"0eI/":function(e,t,i){"use strict";t.a="/**\n * 0.00001\n *\n * @name czm_epsilon5\n * @glslConstant\n */\nconst float czm_epsilon5 = 0.00001;\n"},"0ewm":function(e,t,i){"use strict";t.a="\nvec4 czm_cascadeColor(vec4 weights)\n{\n    return vec4(1.0, 0.0, 0.0, 1.0) * weights.x +\n           vec4(0.0, 1.0, 0.0, 1.0) * weights.y +\n           vec4(0.0, 0.0, 1.0, 1.0) * weights.z +\n           vec4(1.0, 0.0, 1.0, 1.0) * weights.w;\n}\n"},"0hMU":function(e,t,i){"use strict";t.a="float czm_readDepth(sampler2D depthTexture, vec2 texCoords)\n{\n    return czm_reverseLogDepth(texture2D(depthTexture, texCoords).r);\n}\n"},"0jOE":function(e,t,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"0mW+":function(e,t,i){"use strict";t.a="/**\n * The automatic GLSL constant for {@link Pass#CLASSIFICATION}\n *\n * @name czm_passClassification\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passClassification = 7.0;\n"},"0pio":function(e,t,i){"use strict";var n={TERRAIN:0,IMAGERY:1,TILES3D:2,OTHER:3};t.a=Object.freeze(n)},"0u+h":function(e,t,i){"use strict";t.a="// emulated noperspective\n#ifndef LOG_DEPTH\nvarying float v_WindowZ;\n#endif\n/**\n * Clamps a vertex to the far plane by writing the fragments depth.\n * <p>\n * The shader must enable the GL_EXT_frag_depth extension.\n * </p>\n *\n * @name czm_writeDepthClampedToFarPlane\n * @glslFunction\n *\n * @example\n * gl_FragColor = color;\n * czm_writeDepthClampedToFarPlane();\n *\n * @see czm_depthClampFarPlane\n */\nvoid czm_writeDepthClampedToFarPlane()\n{\n#if defined(GL_EXT_frag_depth) && !defined(LOG_DEPTH)\n    gl_FragDepthEXT = min(v_WindowZ * gl_FragCoord.w, 1.0);\n#endif\n}\n"},"0uM5":function(e,t,i){"use strict";t.a="attribute vec2 direction;\n\nuniform float u_size;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main() \n{\n    vec4 position;\n    if (czm_morphTime == 1.0)\n    {\n        position = vec4(czm_sunPositionWC, 1.0);\n    }\n    else\n    {\n        position = vec4(czm_sunPositionColumbusView.zxy, 1.0);\n    }\n    \n    vec4 positionEC = czm_view * position;\n    vec4 positionWC = czm_eyeToWindowCoordinates(positionEC);\n    \n    vec2 halfSize = vec2(u_size * 0.5);\n    halfSize *= ((direction * 2.0) - 1.0);\n    \n    gl_Position = czm_viewportOrthographic * vec4(positionWC.xy + halfSize, -positionWC.z, 1.0);\n    \n    v_textureCoordinates = direction;\n}\n"},"1+Ai":function(e,t,i){"use strict";function n(){this._tree=Object(o.a)()}function a(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.id=""}function r(e,t){return e.id===t.id}var o=i("88yN"),s=i("5F4X");a.fromRectangleAndId=function(e,t,i){return i.minX=t.west,i.minY=t.south,i.maxX=t.east,i.maxY=t.north,i.id=e,i},n.prototype.insert=function(e,t){s.a.typeOf.string("id",e),s.a.typeOf.object("rectangle",t);var i=a.fromRectangleAndId(e,t,new a);this._tree.insert(i)};var c=new a;n.prototype.remove=function(e,t){s.a.typeOf.string("id",e),s.a.typeOf.object("rectangle",t);var i=a.fromRectangleAndId(e,t,c);this._tree.remove(i,r)};var l=new a;n.prototype.collides=function(e){s.a.typeOf.object("rectangle",e);var t=a.fromRectangleAndId("",e,l);return this._tree.collides(t)},t.a=n},"1+jh":function(e,t,i){"use strict";function n(e){this.resource=e.resource,this.version=e.version,this.isHeightmap=e.isHeightmap,this.tileUrlTemplates=e.tileUrlTemplates,this.availability=e.availability,this.hasVertexNormals=e.hasVertexNormals,this.hasWaterMask=e.hasWaterMask,this.hasMetadata=e.hasMetadata,this.availabilityLevels=e.availabilityLevels,this.availabilityTilesLoaded=e.availabilityTilesLoaded,this.littleEndianExtensionSize=e.littleEndianExtensionSize,this.availabilityTilesLoaded=e.availabilityTilesLoaded,this.availabilityPromiseCache={}}function a(e){function t(e){var a;if(!e.format)return a="The tile format is not specified in the layer.json file.",void(d=R.a.handleError(d,f,f._errorEvent,a,void 0,void 0,void 0,o));if(!e.tiles||0===e.tiles.length)return a="The layer.json file does not specify any tile URL templates.",void(d=R.a.handleError(d,f,f._errorEvent,a,void 0,void 0,void 0,o));var r=!1,s=!1,c=!1,m=!0,g=!1;if("heightmap-1.0"===e.format)g=!0,Object(_.a)(f._heightmapStructure)||(f._heightmapStructure={heightScale:.2,heightOffset:-1e3,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1,lowestEncodedHeight:0,highestEncodedHeight:65535}),s=!0,f._requestWaterMask=!0;else if(0!==e.format.indexOf("quantized-mesh-1."))return a='The tile format "'+e.format+'" is invalid or not supported.',void(d=R.a.handleError(d,f,f._errorEvent,a,void 0,void 0,void 0,o));var v=e.tiles,b=e.maxzoom;if(E=Math.max(E,b),e.projection&&"EPSG:4326"!==e.projection){if("EPSG:3857"!==e.projection)return a='The projection "'+e.projection+'" is invalid or not supported.',void(d=R.a.handleError(d,f,f._errorEvent,a,void 0,void 0,void 0,o));f._tilingScheme=new O.a({numberOfLevelZeroTilesX:1,numberOfLevelZeroTilesY:1,ellipsoid:f._ellipsoid})}else f._tilingScheme=new y.a({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:1,ellipsoid:f._ellipsoid});if(f._levelZeroMaximumGeometricError=D.a.getEstimatedLevelZeroGeometricErrorForAHeightmap(f._tilingScheme.ellipsoid,f._heightmapWidth,f._tilingScheme.getNumberOfXTilesAtLevel(0)),e.scheme&&"tms"!==e.scheme&&"slippyMap"!==e.scheme)return a='The scheme "'+e.scheme+'" is invalid or not supported.',void(d=R.a.handleError(d,f,f._errorEvent,a,void 0,void 0,void 0,o));f._scheme=e.scheme;var T;Object(_.a)(e.extensions)&&-1!==e.extensions.indexOf("octvertexnormals")?r=!0:Object(_.a)(e.extensions)&&-1!==e.extensions.indexOf("vertexnormals")&&(r=!0,m=!1),Object(_.a)(e.extensions)&&-1!==e.extensions.indexOf("watermask")&&(s=!0),Object(_.a)(e.extensions)&&-1!==e.extensions.indexOf("metadata")&&(c=!0);var A,C=e.metadataAvailability,S=e.available;if(Object(_.a)(S)&&!Object(_.a)(C)){A=new I.a(f._tilingScheme,S.length);for(var j=0;j<S.length;++j){var P=S[j],M=f._tilingScheme.getNumberOfYTilesAtLevel(j);Object(_.a)(x[j])||(x[j]=[]);for(var L=0;L<P.length;++L){var N=P[L],F=M-N.endY-1,z=M-N.startY-1;x[j].push([N.startX,F,N.endX,z]),A.addAvailableTileRange(j,N.startX,F,N.endX,z)}}}else Object(_.a)(C)&&(T=new I.a(f._tilingScheme,b),A=new I.a(f._tilingScheme,b),x[0]=[[0,0,1,0]],A.addAvailableTileRange(0,0,0,1,0));f._hasWaterMask=f._hasWaterMask||s,f._hasVertexNormals=f._hasVertexNormals||r,f._hasMetadata=f._hasMetadata||c,Object(_.a)(e.attribution)&&(w.length>0&&(w+=" "),w+=e.attribution),p.push(new n({resource:l,version:e.version,isHeightmap:g,tileUrlTemplates:v,availability:A,hasVertexNormals:r,hasWaterMask:s,hasMetadata:c,availabilityLevels:C,availabilityTilesLoaded:T,littleEndianExtensionSize:m}));var B=e.parentUrl;if(Object(_.a)(B)){if(!Object(_.a)(A))return console.log("A layer.json can't have a parentUrl if it does't have an available array."),h.a.resolve();l=l.getDerivedResource({url:B}),l.appendForwardSlash(),u=l.getDerivedResource({url:"layer.json"});var k=u.fetchJson();return Object(h.a)(k,t,i)}return h.a.resolve()}function i(e){var t="An error occurred while accessing "+u.url+".";d=R.a.handleError(d,f,f._errorEvent,t,void 0,void 0,void 0,o)}function a(e){t(e).then(function(){if(!Object(_.a)(d)){var e=x.length;if(e>0)for(var t=f._availability=new I.a(f._tilingScheme,E),i=0;i<e;++i)for(var n=x[i],a=0;a<n.length;++a){var r=n[a];t.addAvailableTileRange(i,r[0],r[1],r[2],r[3])}if(w.length>0){var o=new m.a(w);Object(_.a)(f._tileCredits)?f._tileCredits.push(o):f._tileCredits=[o]}f._ready=!0,f._readyPromise.resolve(!0)}})}function r(e){if(Object(_.a)(e)&&404===e.statusCode)return void a({tilejson:"2.1.0",format:"heightmap-1.0",version:"1.0.0",scheme:"tms",tiles:["{z}/{x}/{y}.terrain?v={version}"]});i(e)}function o(){Object(h.a)(u.fetchJson()).then(a).otherwise(r)}if(!Object(_.a)(e)||!Object(_.a)(e.url))throw new v.a("options.url is required.");this._heightmapWidth=65,this._heightmapStructure=void 0,this._hasWaterMask=!1,this._hasVertexNormals=!1,this._ellipsoid=e.ellipsoid,this._requestVertexNormals=Object(g.a)(e.requestVertexNormals,!1),this._requestWaterMask=Object(g.a)(e.requestWaterMask,!1),this._requestMetadata=Object(g.a)(e.requestMetadata,!0),this._errorEvent=new b.a;var s=e.credit;"string"==typeof s&&(s=new m.a(s)),this._credit=s,this._availability=void 0;var c=h.a.defer();this._ready=!1,this._readyPromise=c,this._tileCredits=void 0;var l,u,d,f=this,p=this._layers=[],w="",x=[],E=0;Object(h.a)(e.url).then(function(e){var t=j.a.createIfNeeded(e);t.appendForwardSlash(),l=t,u=l.getDerivedResource({url:"layer.json"}),f._tileCredits=t.credits,o()}).otherwise(function(e){c.reject(e)})}function r(e){return Object(_.a)(e)&&0!==e.length?{Accept:"application/vnd.quantized-mesh;extensions="+e.join("-")+",application/octet-stream;q=0.9,*/*;q=0.01"}:{Accept:"application/vnd.quantized-mesh,application/octet-stream;q=0.9,*/*;q=0.01"}}function o(e,t,i,n,a){var r=new Uint16Array(t,0,e._heightmapWidth*e._heightmapWidth);return new x.a({buffer:r,childTileMask:new Uint8Array(t,r.byteLength,1)[0],waterMask:new Uint8Array(t,r.byteLength+1,t.byteLength-r.byteLength-1),width:e._heightmapWidth,height:e._heightmapWidth,structure:e._heightmapStructure,credits:e._tileCredits})}function s(e,t,i,n,a,r){var o=r.littleEndianExtensionSize,s=0,c=3*Float64Array.BYTES_PER_ELEMENT,l=4*Float64Array.BYTES_PER_ELEMENT,u=3*Uint16Array.BYTES_PER_ELEMENT,h=Uint16Array.BYTES_PER_ELEMENT,m=3*h,g=new DataView(t),v=new p.a(g.getFloat64(s,!0),g.getFloat64(s+8,!0),g.getFloat64(s+16,!0));s+=c;var b=g.getFloat32(s,!0);s+=Float32Array.BYTES_PER_ELEMENT;var y=g.getFloat32(s,!0);s+=Float32Array.BYTES_PER_ELEMENT;var O=new f.a(new p.a(g.getFloat64(s,!0),g.getFloat64(s+8,!0),g.getFloat64(s+16,!0)),g.getFloat64(s+c,!0));s+=l;var x=new p.a(g.getFloat64(s,!0),g.getFloat64(s+8,!0),g.getFloat64(s+16,!0));s+=c;var C=g.getUint32(s,!0);s+=Uint32Array.BYTES_PER_ELEMENT;var S=new Uint16Array(t,s,3*C);s+=C*u,C>65536&&(h=Uint32Array.BYTES_PER_ELEMENT,m=3*h);var j=S.subarray(0,C),P=S.subarray(C,2*C),D=S.subarray(2*C,3*C);d.a.zigZagDeltaDecode(j,P,D),s%h!=0&&(s+=h-s%h);var I=g.getUint32(s,!0);s+=Uint32Array.BYTES_PER_ELEMENT;var R=E.a.createTypedArrayFromArrayBuffer(C,t,s,3*I);s+=I*m;for(var L=0,N=R.length,F=0;F<N;++F){var z=R[F];R[F]=L-z,0===z&&++L}var B=g.getUint32(s,!0);s+=Uint32Array.BYTES_PER_ELEMENT;var k=E.a.createTypedArrayFromArrayBuffer(C,t,s,B);s+=B*h;var U=g.getUint32(s,!0);s+=Uint32Array.BYTES_PER_ELEMENT;var V=E.a.createTypedArrayFromArrayBuffer(C,t,s,U);s+=U*h;var H=g.getUint32(s,!0);s+=Uint32Array.BYTES_PER_ELEMENT;var q=E.a.createTypedArrayFromArrayBuffer(C,t,s,H);s+=H*h;var W=g.getUint32(s,!0);s+=Uint32Array.BYTES_PER_ELEMENT;var G=E.a.createTypedArrayFromArrayBuffer(C,t,s,W);s+=W*h;for(var Y,X;s<g.byteLength;){var Q=g.getUint8(s,!0);s+=Uint8Array.BYTES_PER_ELEMENT;var J=g.getUint32(s,o);if(s+=Uint32Array.BYTES_PER_ELEMENT,Q===M.OCT_VERTEX_NORMALS&&e._requestVertexNormals)Y=new Uint8Array(t,s,2*C);else if(Q===M.WATER_MASK&&e._requestWaterMask)X=new Uint8Array(t,s,J);else if(Q===M.METADATA&&e._requestMetadata){var Z=g.getUint32(s,!0);if(Z>0){var K=Object(w.a)(new Uint8Array(t),s+Uint32Array.BYTES_PER_ELEMENT,Z),$=JSON.parse(K),ee=$.available;if(Object(_.a)(ee))for(var te=0;te<ee.length;++te)for(var ie=i+te+1,ne=ee[te],ae=e._tilingScheme.getNumberOfYTilesAtLevel(ie),re=0;re<ne.length;++re){var oe=ne[re],se=ae-oe.endY-1,ce=ae-oe.startY-1;e.availability.addAvailableTileRange(ie,oe.startX,se,oe.endX,ce),r.availability.addAvailableTileRange(ie,oe.startX,se,oe.endX,ce)}}r.availabilityTilesLoaded.addAvailableTileRange(i,n,a,n,a)}s+=J}var le=5*e.getLevelMaximumGeometricError(i),ue=e._tilingScheme.tileXYToRectangle(n,a,i),he=T.a.fromRectangle(ue,b,y,e._tilingScheme.ellipsoid);return new A.a({center:v,minimumHeight:b,maximumHeight:y,boundingSphere:O,orientedBoundingBox:he,horizonOcclusionPoint:x,quantizedVertices:S,encodedNormals:Y,indices:R,westIndices:k,southIndices:V,eastIndices:q,northIndices:G,westSkirtHeight:le,southSkirtHeight:le,eastSkirtHeight:le,northSkirtHeight:le,childTileMask:e.availability.computeChildMaskForTile(i,n,a),waterMask:X,credits:e._tileCredits})}function c(e,t,i,n,a,c){if(!Object(_.a)(a))return h.a.reject(new P.a("Terrain tile doesn't exist"));var l=a.tileUrlTemplates;if(0!==l.length){var u;if(e._scheme&&"tms"!==e._scheme)u=i;else{u=e._tilingScheme.getNumberOfYTilesAtLevel(n)-i-1}var d=[];e._requestVertexNormals&&a.hasVertexNormals&&d.push(a.littleEndianExtensionSize?"octvertexnormals":"vertexnormals"),e._requestWaterMask&&a.hasWaterMask&&d.push("watermask"),e._requestMetadata&&a.hasMetadata&&d.push("metadata");var f,p,m=l[(t+u+n)%l.length],g=a.resource;Object(_.a)(g._ionEndpoint)&&!Object(_.a)(g._ionEndpoint.externalType)?(0!==d.length&&(p={extensions:d.join("-")}),f=r(void 0)):f=r(d);var v=g.getDerivedResource({url:m,templateValues:{version:a.version,z:n,x:t,y:u},queryParameters:p,headers:f,request:c}).fetchArrayBuffer();if(Object(_.a)(v))return v.then(function(r){return Object(_.a)(e._heightmapStructure)?o(e,r,n,t,i):s(e,r,n,t,i,a)})}}function l(e,t,i,n){if(0!==n){var a=e.availabilityLevels,r=n%a==0?n-a:(n/a|0)*a,o=1<<n-r;return{level:r,x:t/o|0,y:i/o|0}}}function u(e,t,i,n,a,r){if(!Object(_.a)(a.availabilityLevels))return{result:!1};for(var o,s=function(){delete a.availabilityPromiseCache[o]},u=a.availabilityTilesLoaded,h=a.availability,d=l(a,t,i,n);Object(_.a)(d);){if(h.isTileAvailable(d.level,d.x,d.y)&&!u.isTileAvailable(d.level,d.x,d.y)){var f;if(!r&&(o=d.level+"-"+d.x+"-"+d.y,f=a.availabilityPromiseCache[o],!Object(_.a)(f))){var p=new C.a({throttle:!0,throttleByServer:!0,type:S.a.TERRAIN});f=c(e,d.x,d.y,d.level,a,p),Object(_.a)(f)&&(a.availabilityPromiseCache[o]=f,f.then(s))}return{result:!0,promise:f}}d=l(a,d.x,d.y,d.level)}return{result:!1}}var h=i("S7OP"),d=i("j90k"),f=i("lBr9"),p=i("Jj+J"),m=i("ODTd"),g=i("5A4e"),_=i("xC6Q"),v=i("PzDm"),b=i("W6xh"),y=i("4MnW"),O=i("Y4y7"),w=i("Q+B7"),x=i("l3S0"),E=i("oMsT"),T=i("qBw0"),A=i("OLRm"),C=i("dI/G"),S=i("0pio"),j=i("rMjQ"),P=i("V22k"),D=i("9xui"),I=i("gLPK"),R=i("M1To"),M={OCT_VERTEX_NORMALS:1,WATER_MASK:2,METADATA:4};a.prototype.requestTileGeometry=function(e,t,i,n){if(!this._ready)throw new v.a("requestTileGeometry must not be called before the terrain provider is ready.");var a,r=this._layers,o=r.length;if(1===o)a=r[0];else for(var s=0;s<o;++s){var l=r[s];if(!Object(_.a)(l.availability)||l.availability.isTileAvailable(i,e,t)){a=l;break}}return c(this,e,t,i,a,n)},Object.defineProperties(a.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){if(!this._ready)throw new v.a("credit must not be called before the terrain provider is ready.");return this._credit}},tilingScheme:{get:function(){if(!this._ready)throw new v.a("tilingScheme must not be called before the terrain provider is ready.");return this._tilingScheme}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},hasWaterMask:{get:function(){if(!this._ready)throw new v.a("hasWaterMask must not be called before the terrain provider is ready.");return this._hasWaterMask&&this._requestWaterMask}},hasVertexNormals:{get:function(){if(!this._ready)throw new v.a("hasVertexNormals must not be called before the terrain provider is ready.");return this._hasVertexNormals&&this._requestVertexNormals}},hasMetadata:{get:function(){if(!this._ready)throw new v.a("hasMetadata must not be called before the terrain provider is ready.");return this._hasMetadata&&this._requestMetadata}},requestVertexNormals:{get:function(){return this._requestVertexNormals}},requestWaterMask:{get:function(){return this._requestWaterMask}},requestMetadata:{get:function(){return this._requestMetadata}},availability:{get:function(){if(!this._ready)throw new v.a("availability must not be called before the terrain provider is ready.");return this._availability}}}),a.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},a.prototype.getTileDataAvailable=function(e,t,i){if(Object(_.a)(this._availability)){if(i>this._availability._maximumLevel)return!1;if(this._availability.isTileAvailable(i,e,t))return!0;if(!this._hasMetadata)return!1;for(var n=this._layers,a=n.length,r=0;r<a;++r){if(u(this,e,t,i,n[r],0===r).result)return}return!1}},a.prototype.loadTileDataAvailability=function(e,t,i){if(!(!Object(_.a)(this._availability)||i>this._availability._maximumLevel||this._availability.isTileAvailable(i,e,t))&&this._hasMetadata)for(var n=this._layers,a=n.length,r=0;r<a;++r){var o=u(this,e,t,i,n[r],0===r);if(Object(_.a)(o.promise))return o.promise}},a._getAvailabilityTile=l,t.a=a},"162o":function(e,t,i){(function(e){function n(e,t){this._id=e,this._clearFn=t}var a=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;t.setTimeout=function(){return new n(r.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new n(r.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i("mypn"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,i("DuR2"))},"186r":function(e,t,i){"use strict";function n(e,t){this.position=e,this.headingPitchRange=t}t.a=n},"1FwE":function(e,t,i){"use strict";function n(e){this.entity=e,this.label=void 0,this.index=void 0}function a(e,t){if(!Object(h.a)(e))throw new f.a("entityCluster is required.");if(!Object(h.a)(t))throw new f.a("entityCollection is required.");t.collectionChanged.addEventListener(a.prototype._onCollectionChanged,this),this._cluster=e,this._entityCollection=t,this._items=new o.a,this._onCollectionChanged(t,t.values,[],[])}function r(e,t,i){Object(h.a)(e)&&(e.label=void 0,i.removeLabel(t))}var o=i("7uRt"),s=i("Ss9j"),c=i("Jj+J"),l=i("6F0S"),u=i("5A4e"),h=i("xC6Q"),d=i("6sr8"),f=i("PzDm"),p=i("2d28"),m=i("UkIP"),g=i("JIo7"),_=i("EwVK"),v=i("RyAG"),b=i("H5bb"),y=i("P+tD"),O=i("uhjI"),w=v.a.FILL,x=l.a.WHITE,E=l.a.BLACK,T=new l.a(.165,.165,.165,.8),A=new s.a(7,5),C=s.a.ZERO,S=c.a.ZERO,j=g.a.NONE,P=_.a.CENTER,D=b.a.CENTER,I=new c.a,R=new l.a,M=new l.a,L=new l.a,N=new s.a,F=new c.a,z=new s.a,B=new m.a,k=new m.a,U=new m.a,V=new p.a;a.prototype.update=function(e){if(!Object(h.a)(e))throw new f.a("time is required.");for(var t=this._items.values,i=this._cluster,n=0,a=t.length;n<a;n++){var o,s,l=t[n],u=l.entity,d=u._label,p=l.label,m=u.isShowing&&u.isAvailable(e)&&O.a.getValueOrDefault(d._show,e,!0);if(m&&(s=O.a.getValueOrUndefined(u._position,e,I),o=O.a.getValueOrUndefined(d._text,e),m=Object(h.a)(s)&&Object(h.a)(o)),m){O.a.isConstant(u._position)||(i._clusterDirty=!0);var g=!1,_=O.a.getValueOrDefault(d._heightReference,e,j);Object(h.a)(p)||(p=i.getLabel(u),p.id=u,l.label=p,g=c.a.equals(p.position,s)&&p.heightReference===_),p.show=!0,p.position=s,p.text=o,p.scale=O.a.getValueOrDefault(d._scale,e,1),p.font=O.a.getValueOrDefault(d._font,e,"30px sans-serif"),p.style=O.a.getValueOrDefault(d._style,e,w),p.fillColor=O.a.getValueOrDefault(d._fillColor,e,x,R),p.outlineColor=O.a.getValueOrDefault(d._outlineColor,e,E,M),p.outlineWidth=O.a.getValueOrDefault(d._outlineWidth,e,1),p.showBackground=O.a.getValueOrDefault(d._showBackground,e,!1),p.backgroundColor=O.a.getValueOrDefault(d._backgroundColor,e,T,L),p.backgroundPadding=O.a.getValueOrDefault(d._backgroundPadding,e,A,N),p.pixelOffset=O.a.getValueOrDefault(d._pixelOffset,e,C,z),p.eyeOffset=O.a.getValueOrDefault(d._eyeOffset,e,S,F),p.heightReference=_,p.horizontalOrigin=O.a.getValueOrDefault(d._horizontalOrigin,e,P),p.verticalOrigin=O.a.getValueOrDefault(d._verticalOrigin,e,D),p.translucencyByDistance=O.a.getValueOrUndefined(d._translucencyByDistance,e,B),p.pixelOffsetScaleByDistance=O.a.getValueOrUndefined(d._pixelOffsetScaleByDistance,e,k),p.scaleByDistance=O.a.getValueOrUndefined(d._scaleByDistance,e,U),p.distanceDisplayCondition=O.a.getValueOrUndefined(d._distanceDisplayCondition,e,V),p.disableDepthTestDistance=O.a.getValueOrUndefined(d._disableDepthTestDistance,e),g&&p._updateClamping()}else r(l,u,i)}return!0},a.prototype.getBoundingSphere=function(e,t){if(!Object(h.a)(e))throw new f.a("entity is required.");if(!Object(h.a)(t))throw new f.a("result is required.");var i=this._items.get(e.id);if(!Object(h.a)(i)||!Object(h.a)(i.label))return y.a.FAILED;var n=i.label;return t.center=c.a.clone(Object(u.a)(n._clampedPosition,n.position),t.center),t.radius=0,y.a.DONE},a.prototype.isDestroyed=function(){return!1},a.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(a.prototype._onCollectionChanged,this);for(var e=this._entityCollection.values,t=0;t<e.length;t++)this._cluster.removeLabel(e[t]);return Object(d.a)(this)},a.prototype._onCollectionChanged=function(e,t,i,a){var o,s,c=this._items,l=this._cluster;for(o=t.length-1;o>-1;o--)s=t[o],Object(h.a)(s._label)&&Object(h.a)(s._position)&&c.set(s.id,new n(s));for(o=a.length-1;o>-1;o--)s=a[o],Object(h.a)(s._label)&&Object(h.a)(s._position)?c.contains(s.id)||c.set(s.id,new n(s)):(r(c.get(s.id),s,l),c.remove(s.id));for(o=i.length-1;o>-1;o--)s=i[o],r(c.get(s.id),s,l),c.remove(s.id)},t.a=a},"1L+j":function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._image=void 0,this._imageSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this._pixelOffset=void 0,this._pixelOffsetSubscription=void 0,this._eyeOffset=void 0,this._eyeOffsetSubscription=void 0,this._horizontalOrigin=void 0,this._horizontalOriginSubscription=void 0,this._verticalOrigin=void 0,this._verticalOriginSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._alignedAxis=void 0,this._alignedAxisSubscription=void 0,this._sizeInMeters=void 0,this._sizeInMetersSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._scaleByDistance=void 0,this._scaleByDistanceSubscription=void 0,this._translucencyByDistance=void 0,this._translucencyByDistanceSubscription=void 0,this._pixelOffsetScaleByDistance=void 0,this._pixelOffsetScaleByDistanceSubscription=void 0,this._imageSubRegion=void 0,this._imageSubRegionSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._disableDepthTestDistance=void 0,this._disableDepthTestDistanceSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(c.a)("show"),image:Object(c.a)("image"),scale:Object(c.a)("scale"),pixelOffset:Object(c.a)("pixelOffset"),eyeOffset:Object(c.a)("eyeOffset"),horizontalOrigin:Object(c.a)("horizontalOrigin"),verticalOrigin:Object(c.a)("verticalOrigin"),heightReference:Object(c.a)("heightReference"),color:Object(c.a)("color"),rotation:Object(c.a)("rotation"),alignedAxis:Object(c.a)("alignedAxis"),sizeInMeters:Object(c.a)("sizeInMeters"),width:Object(c.a)("width"),height:Object(c.a)("height"),scaleByDistance:Object(c.a)("scaleByDistance"),translucencyByDistance:Object(c.a)("translucencyByDistance"),pixelOffsetScaleByDistance:Object(c.a)("pixelOffsetScaleByDistance"),imageSubRegion:Object(c.a)("imageSubRegion"),distanceDisplayCondition:Object(c.a)("distanceDisplayCondition"),disableDepthTestDistance:Object(c.a)("disableDepthTestDistance")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this._show,e.image=this._image,e.scale=this._scale,e.pixelOffset=this._pixelOffset,e.eyeOffset=this._eyeOffset,e.horizontalOrigin=this._horizontalOrigin,e.verticalOrigin=this._verticalOrigin,e.heightReference=this._heightReference,e.color=this._color,e.rotation=this._rotation,e.alignedAxis=this._alignedAxis,e.sizeInMeters=this._sizeInMeters,e.width=this._width,e.height=this._height,e.scaleByDistance=this._scaleByDistance,e.translucencyByDistance=this._translucencyByDistance,e.pixelOffsetScaleByDistance=this._pixelOffsetScaleByDistance,e.imageSubRegion=this._imageSubRegion,e.distanceDisplayCondition=this._distanceDisplayCondition,e.disableDepthTestDistance=this._disableDepthTestDistance,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this._show,e.show),this.image=Object(a.a)(this._image,e.image),this.scale=Object(a.a)(this._scale,e.scale),this.pixelOffset=Object(a.a)(this._pixelOffset,e.pixelOffset),this.eyeOffset=Object(a.a)(this._eyeOffset,e.eyeOffset),this.horizontalOrigin=Object(a.a)(this._horizontalOrigin,e.horizontalOrigin),this.verticalOrigin=Object(a.a)(this._verticalOrigin,e.verticalOrigin),this.heightReference=Object(a.a)(this._heightReference,e.heightReference),this.color=Object(a.a)(this._color,e.color),this.rotation=Object(a.a)(this._rotation,e.rotation),this.alignedAxis=Object(a.a)(this._alignedAxis,e.alignedAxis),this.sizeInMeters=Object(a.a)(this._sizeInMeters,e.sizeInMeters),this.width=Object(a.a)(this._width,e.width),this.height=Object(a.a)(this._height,e.height),this.scaleByDistance=Object(a.a)(this._scaleByDistance,e.scaleByDistance),this.translucencyByDistance=Object(a.a)(this._translucencyByDistance,e.translucencyByDistance),this.pixelOffsetScaleByDistance=Object(a.a)(this._pixelOffsetScaleByDistance,e.pixelOffsetScaleByDistance),this.imageSubRegion=Object(a.a)(this._imageSubRegion,e.imageSubRegion),this.distanceDisplayCondition=Object(a.a)(this._distanceDisplayCondition,e.distanceDisplayCondition),this.disableDepthTestDistance=Object(a.a)(this._disableDepthTestDistance,e.disableDepthTestDistance)},t.a=n},"1L1F":function(e,t,i){"use strict";var n={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,HALF_FLOAT_OES:36193,DOUBLE:5130,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047};t.a=Object.freeze(n)},"1YcF":function(e,t,i){"use strict";t.a="/**\n * Compositing for Weighted Blended Order-Independent Transparency. See:\n * - http://jcgt.org/published/0002/02/09/\n * - http://casual-effects.blogspot.com/2014/03/weighted-blended-order-independent.html\n */\n\nuniform sampler2D u_opaque;\nuniform sampler2D u_accumulation;\nuniform sampler2D u_revealage;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main()\n{\n    vec4 opaque = texture2D(u_opaque, v_textureCoordinates);\n    vec4 accum = texture2D(u_accumulation, v_textureCoordinates);\n    float r = texture2D(u_revealage, v_textureCoordinates).r;\n\n#ifdef MRT\n    vec4 transparent = vec4(accum.rgb / clamp(r, 1e-4, 5e4), accum.a);\n#else\n    vec4 transparent = vec4(accum.rgb / clamp(accum.a, 1e-4, 5e4), r);\n#endif\n\n    gl_FragColor = (1.0 - transparent.a) * transparent + transparent.a * opaque;\n\n    if (opaque != czm_backgroundColor)\n    {\n        gl_FragColor.a = 1.0;\n    }\n}\n"},"1eBa":function(e,t,i){"use strict";function n(){this.defaultAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,o.a.throwInstantiationError()}var a=i("5F4X"),r=i("xC6Q"),o=i("PzDm"),s=i("O41A"),c=i("RWMz"),l=i("rMjQ");Object.defineProperties(n.prototype,{ready:{get:o.a.throwInstantiationError},readyPromise:{get:o.a.throwInstantiationError},rectangle:{get:o.a.throwInstantiationError},tileWidth:{get:o.a.throwInstantiationError},tileHeight:{get:o.a.throwInstantiationError},maximumLevel:{get:o.a.throwInstantiationError},minimumLevel:{get:o.a.throwInstantiationError},tilingScheme:{get:o.a.throwInstantiationError},tileDiscardPolicy:{get:o.a.throwInstantiationError},errorEvent:{get:o.a.throwInstantiationError},credit:{get:o.a.throwInstantiationError},proxy:{get:o.a.throwInstantiationError},hasAlphaChannel:{get:o.a.throwInstantiationError}}),n.prototype.getTileCredits=o.a.throwInstantiationError,n.prototype.requestImage=o.a.throwInstantiationError,n.prototype.pickFeatures=o.a.throwInstantiationError;var u=/\.ktx$/i,h=/\.crn$/i;n.loadImage=function(e,t){a.a.defined("url",t);var i=l.a.createIfNeeded(t);return u.test(i.url)?Object(c.a)(i):h.test(i.url)?Object(s.a)(i):Object(r.a)(e)&&Object(r.a)(e.tileDiscardPolicy)?i.fetchImage({preferBlob:!0,preferImageBitmap:!0,flipY:!0}):i.fetchImage({preferImageBitmap:!0,flipY:!0})},t.a=n},"1eJt":function(e,t,i){"use strict";function n(e,t){return 0!=(e&t)}t.a=n},"1kS7":function(e,t){t.f=Object.getOwnPropertySymbols},"1lP0":function(e,t,i){"use strict";t.a="/**\n * Branchless ternary operator to be used when it's inexpensive to explicitly\n * evaluate both possibilities for a float expression.\n *\n * @name czm_branchFreeTernary\n * @glslFunction\n *\n * @param {bool} comparison A comparison statement\n * @param {float} a Value to return if the comparison is true.\n * @param {float} b Value to return if the comparison is false.\n *\n * @returns {float} equivalent of comparison ? a : b\n */\nfloat czm_branchFreeTernary(bool comparison, float a, float b) {\n    float useA = float(comparison);\n    return a * useA + b * (1.0 - useA);\n}\n\n/**\n * Branchless ternary operator to be used when it's inexpensive to explicitly\n * evaluate both possibilities for a vec2 expression.\n *\n * @name czm_branchFreeTernary\n * @glslFunction\n *\n * @param {bool} comparison A comparison statement\n * @param {vec2} a Value to return if the comparison is true.\n * @param {vec2} b Value to return if the comparison is false.\n *\n * @returns {vec2} equivalent of comparison ? a : b\n */\nvec2 czm_branchFreeTernary(bool comparison, vec2 a, vec2 b) {\n    float useA = float(comparison);\n    return a * useA + b * (1.0 - useA);\n}\n\n/**\n * Branchless ternary operator to be used when it's inexpensive to explicitly\n * evaluate both possibilities for a vec3 expression.\n *\n * @name czm_branchFreeTernary\n * @glslFunction\n *\n * @param {bool} comparison A comparison statement\n * @param {vec3} a Value to return if the comparison is true.\n * @param {vec3} b Value to return if the comparison is false.\n *\n * @returns {vec3} equivalent of comparison ? a : b\n */\nvec3 czm_branchFreeTernary(bool comparison, vec3 a, vec3 b) {\n    float useA = float(comparison);\n    return a * useA + b * (1.0 - useA);\n}\n\n/**\n * Branchless ternary operator to be used when it's inexpensive to explicitly\n * evaluate both possibilities for a vec4 expression.\n *\n * @name czm_branchFreeTernary\n * @glslFunction\n *\n * @param {bool} comparison A comparison statement\n * @param {vec3} a Value to return if the comparison is true.\n * @param {vec3} b Value to return if the comparison is false.\n *\n * @returns {vec3} equivalent of comparison ? a : b\n */\nvec4 czm_branchFreeTernary(bool comparison, vec4 a, vec4 b) {\n    float useA = float(comparison);\n    return a * useA + b * (1.0 - useA);\n}\n"},"1mJh":function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT),this._boundingVolume=e.boundingVolume,this._orientedBoundingBox=e.orientedBoundingBox,this._cull=Object(a.a)(e.cull,!0),this._occlude=Object(a.a)(e.occlude,!0),this._modelMatrix=e.modelMatrix,this._primitiveType=Object(a.a)(e.primitiveType,o.a.TRIANGLES),this._vertexArray=e.vertexArray,this._count=e.count,this._offset=Object(a.a)(e.offset,0),this._instanceCount=Object(a.a)(e.instanceCount,0),this._shaderProgram=e.shaderProgram,this._uniformMap=e.uniformMap,this._renderState=e.renderState,this._framebuffer=e.framebuffer,this._pass=e.pass,this._executeInClosestFrustum=Object(a.a)(e.executeInClosestFrustum,!1),this._owner=e.owner,this._debugShowBoundingVolume=Object(a.a)(e.debugShowBoundingVolume,!1),this._debugOverlappingFrustums=0,this._castShadows=Object(a.a)(e.castShadows,!1),this._receiveShadows=Object(a.a)(e.receiveShadows,!1),this._pickId=e.pickId,this._pickOnly=Object(a.a)(e.pickOnly,!1),this.dirty=!0,this.lastDirtyTime=0,this.derivedCommands={}}var a=i("5A4e"),r=i("xC6Q"),o=i("nHNe");Object.defineProperties(n.prototype,{boundingVolume:{get:function(){return this._boundingVolume},set:function(e){this._boundingVolume!==e&&(this._boundingVolume=e,this.dirty=!0)}},orientedBoundingBox:{get:function(){return this._orientedBoundingBox},set:function(e){this._orientedBoundingBox!==e&&(this._orientedBoundingBox=e,this.dirty=!0)}},cull:{get:function(){return this._cull},set:function(e){this._cull!==e&&(this._cull=e,this.dirty=!0)}},occlude:{get:function(){return this._occlude},set:function(e){this._occlude!==e&&(this._occlude=e,this.dirty=!0)}},modelMatrix:{get:function(){return this._modelMatrix},set:function(e){this._modelMatrix!==e&&(this._modelMatrix=e,this.dirty=!0)}},primitiveType:{get:function(){return this._primitiveType},set:function(e){this._primitiveType!==e&&(this._primitiveType=e,this.dirty=!0)}},vertexArray:{get:function(){return this._vertexArray},set:function(e){this._vertexArray!==e&&(this._vertexArray=e,this.dirty=!0)}},count:{get:function(){return this._count},set:function(e){this._count!==e&&(this._count=e,this.dirty=!0)}},offset:{get:function(){return this._offset},set:function(e){this._offset!==e&&(this._offset=e,this.dirty=!0)}},instanceCount:{get:function(){return this._instanceCount},set:function(e){this._instanceCount!==e&&(this._instanceCount=e,this.dirty=!0)}},shaderProgram:{get:function(){return this._shaderProgram},set:function(e){this._shaderProgram!==e&&(this._shaderProgram=e,this.dirty=!0)}},castShadows:{get:function(){return this._castShadows},set:function(e){this._castShadows!==e&&(this._castShadows=e,this.dirty=!0)}},receiveShadows:{get:function(){return this._receiveShadows},set:function(e){this._receiveShadows!==e&&(this._receiveShadows=e,this.dirty=!0)}},uniformMap:{get:function(){return this._uniformMap},set:function(e){this._uniformMap!==e&&(this._uniformMap=e,this.dirty=!0)}},renderState:{get:function(){return this._renderState},set:function(e){this._renderState!==e&&(this._renderState=e,this.dirty=!0)}},framebuffer:{get:function(){return this._framebuffer},set:function(e){this._framebuffer!==e&&(this._framebuffer=e,this.dirty=!0)}},pass:{get:function(){return this._pass},set:function(e){this._pass!==e&&(this._pass=e,this.dirty=!0)}},executeInClosestFrustum:{get:function(){return this._executeInClosestFrustum},set:function(e){this._executeInClosestFrustum!==e&&(this._executeInClosestFrustum=e,this.dirty=!0)}},owner:{get:function(){return this._owner},set:function(e){this._owner!==e&&(this._owner=e,this.dirty=!0)}},debugShowBoundingVolume:{get:function(){return this._debugShowBoundingVolume},set:function(e){this._debugShowBoundingVolume!==e&&(this._debugShowBoundingVolume=e,this.dirty=!0)}},debugOverlappingFrustums:{get:function(){return this._debugOverlappingFrustums},set:function(e){this._debugOverlappingFrustums!==e&&(this._debugOverlappingFrustums=e,this.dirty=!0)}},pickId:{get:function(){return this._pickId},set:function(e){this._pickId!==e&&(this._pickId=e,this.dirty=!0)}},pickOnly:{get:function(){return this._pickOnly},set:function(e){this._pickOnly!==e&&(this._pickOnly=e,this.dirty=!0)}}}),n.shallowClone=function(e,t){if(Object(r.a)(e))return Object(r.a)(t)||(t=new n),t._boundingVolume=e._boundingVolume,t._orientedBoundingBox=e._orientedBoundingBox,t._cull=e._cull,t._occlude=e._occlude,t._modelMatrix=e._modelMatrix,t._primitiveType=e._primitiveType,t._vertexArray=e._vertexArray,t._count=e._count,t._offset=e._offset,t._instanceCount=e._instanceCount,t._shaderProgram=e._shaderProgram,t._uniformMap=e._uniformMap,t._renderState=e._renderState,t._framebuffer=e._framebuffer,t._pass=e._pass,t._executeInClosestFrustum=e._executeInClosestFrustum,t._owner=e._owner,t._debugShowBoundingVolume=e._debugShowBoundingVolume,t._debugOverlappingFrustums=e._debugOverlappingFrustums,t._castShadows=e._castShadows,t._receiveShadows=e._receiveShadows,t._pickId=e._pickId,t._pickOnly=e._pickOnly,t.dirty=!0,t.lastDirtyTime=0,t},n.prototype.execute=function(e,t){e.draw(this,t)},t.a=n},"1u5j":function(e,t,i){"use strict";function n(){this._textures={},this._numberOfTextures=0,this._texturesToRelease={}}var a=i("xC6Q"),r=i("6sr8");Object.defineProperties(n.prototype,{numberOfTextures:{get:function(){return this._numberOfTextures}}}),n.prototype.getTexture=function(e){var t=this._textures[e];if(Object(a.a)(t))return delete this._texturesToRelease[e],++t.count,t.texture},n.prototype.addTexture=function(e,t){var i={texture:t,count:1};t.finalDestroy=t.destroy;var n=this;t.destroy=function(){0==--i.count&&(n._texturesToRelease[e]=i)},this._textures[e]=i,++this._numberOfTextures},n.prototype.destroyReleasedTextures=function(){var e=this._texturesToRelease;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];delete this._textures[t],i.texture.finalDestroy(),--this._numberOfTextures}this._texturesToRelease={}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){var e=this._textures;for(var t in e)e.hasOwnProperty(t)&&e[t].texture.finalDestroy();return Object(r.a)(this)},t.a=n},"1v7x":function(e,t,i){"use strict";function n(e,t){if(a.a.defined("context",e),!(Object(r.a)(t)&&Object(r.a)(t.positiveX)&&Object(r.a)(t.negativeX)&&Object(r.a)(t.positiveY)&&Object(r.a)(t.negativeY)&&Object(r.a)(t.positiveZ)&&Object(r.a)(t.negativeZ)))throw new o.a("urls is required and must have positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ properties.");var i={flipY:!0,preferImageBitmap:!0},n=[s.a.createIfNeeded(t.positiveX).fetchImage(i),s.a.createIfNeeded(t.negativeX).fetchImage(i),s.a.createIfNeeded(t.positiveY).fetchImage(i),s.a.createIfNeeded(t.negativeY).fetchImage(i),s.a.createIfNeeded(t.positiveZ).fetchImage(i),s.a.createIfNeeded(t.negativeZ).fetchImage(i)];return c.a.all(n,function(t){return new l.a({context:e,source:{positiveX:t[0],negativeX:t[1],positiveY:t[2],negativeY:t[3],positiveZ:t[4],negativeZ:t[5]}})})}var a=i("5F4X"),r=i("xC6Q"),o=i("PzDm"),s=i("rMjQ"),c=i("S7OP"),l=i("VvLh");t.a=n},"25X5":function(e,t,i){"use strict";function n(e){e=Object(s.a)(e,s.a.EMPTY_OBJECT),r.a.defined("options.context",e.context);var t=e.context,i=e.width,n=e.height,l=e.source;Object(c.a)(l)&&(Object(c.a)(i)||(i=Object(s.a)(l.videoWidth,l.width)),Object(c.a)(n)||(n=Object(s.a)(l.videoHeight,l.height)));var h=Object(s.a)(e.pixelFormat,d.a.RGBA),m=Object(s.a)(e.pixelDatatype,g.a.UNSIGNED_BYTE),v=h,b=d.a.isCompressedFormat(v);if(t.webgl2)if(h===d.a.DEPTH_STENCIL?v=f.a.DEPTH24_STENCIL8:h===d.a.DEPTH_COMPONENT&&(m===g.a.UNSIGNED_SHORT?v=f.a.DEPTH_COMPONENT16:m===g.a.UNSIGNED_INT&&(v=f.a.DEPTH_COMPONENT24)),m===g.a.FLOAT)switch(h){case d.a.RGBA:v=f.a.RGBA32F;break;case d.a.RGB:v=f.a.RGB32F;break;case d.a.RG:v=f.a.RG32F;break;case d.a.R:v=f.a.R32F}else if(m===g.a.HALF_FLOAT)switch(h){case d.a.RGBA:v=f.a.RGBA16F;break;case d.a.RGB:v=f.a.RGB16F;break;case d.a.RG:v=f.a.RG16F;break;case d.a.R:v=f.a.R16F}if(!Object(c.a)(i)||!Object(c.a)(n))throw new u.a("options requires a source field to create an initialized texture or width and height fields to create a blank texture.");if(r.a.typeOf.number.greaterThan("width",i,0),i>p.a.maximumTextureSize)throw new u.a("Width must be less than or equal to the maximum texture size ("+p.a.maximumTextureSize+").  Check maximumTextureSize.");if(r.a.typeOf.number.greaterThan("height",n,0),n>p.a.maximumTextureSize)throw new u.a("Height must be less than or equal to the maximum texture size ("+p.a.maximumTextureSize+").  Check maximumTextureSize.");if(!d.a.validate(h))throw new u.a("Invalid options.pixelFormat.");if(!b&&!g.a.validate(m))throw new u.a("Invalid options.pixelDatatype.");if(h===d.a.DEPTH_COMPONENT&&m!==g.a.UNSIGNED_SHORT&&m!==g.a.UNSIGNED_INT)throw new u.a("When options.pixelFormat is DEPTH_COMPONENT, options.pixelDatatype must be UNSIGNED_SHORT or UNSIGNED_INT.");if(h===d.a.DEPTH_STENCIL&&m!==g.a.UNSIGNED_INT_24_8)throw new u.a("When options.pixelFormat is DEPTH_STENCIL, options.pixelDatatype must be UNSIGNED_INT_24_8.");if(m===g.a.FLOAT&&!t.floatingPointTexture)throw new u.a("When options.pixelDatatype is FLOAT, this WebGL implementation must support the OES_texture_float extension.  Check context.floatingPointTexture.");if(m===g.a.HALF_FLOAT&&!t.halfFloatingPointTexture)throw new u.a("When options.pixelDatatype is HALF_FLOAT, this WebGL implementation must support the OES_texture_half_float extension. Check context.halfFloatingPointTexture.");if(d.a.isDepthFormat(h)){if(Object(c.a)(l))throw new u.a("When options.pixelFormat is DEPTH_COMPONENT or DEPTH_STENCIL, source cannot be provided.");if(!t.depthTexture)throw new u.a("When options.pixelFormat is DEPTH_COMPONENT or DEPTH_STENCIL, this WebGL implementation must support WEBGL_depth_texture.  Check context.depthTexture.")}if(b){if(!Object(c.a)(l)||!Object(c.a)(l.arrayBufferView))throw new u.a("When options.pixelFormat is compressed, options.source.arrayBufferView must be defined.");if(d.a.isDXTFormat(v)&&!t.s3tc)throw new u.a("When options.pixelFormat is S3TC compressed, this WebGL implementation must support the WEBGL_texture_compression_s3tc extension. Check context.s3tc.");if(d.a.isPVRTCFormat(v)&&!t.pvrtc)throw new u.a("When options.pixelFormat is PVRTC compressed, this WebGL implementation must support the WEBGL_texture_compression_pvrtc extension. Check context.pvrtc.");if(d.a.isETC1Format(v)&&!t.etc1)throw new u.a("When options.pixelFormat is ETC1 compressed, this WebGL implementation must support the WEBGL_texture_compression_etc1 extension. Check context.etc1.");if(d.a.compressedTextureSizeInBytes(v,i,n)!==l.arrayBufferView.byteLength)throw new u.a("The byte length of the array buffer is invalid for the compressed texture with the given width and height.")}var y=e.preMultiplyAlpha||h===d.a.RGB||h===d.a.LUMINANCE,O=Object(s.a)(e.flipY,!0),w=!0,x=t._gl,E=x.TEXTURE_2D,T=x.createTexture();x.activeTexture(x.TEXTURE0),x.bindTexture(E,T);var A=4;if(Object(c.a)(l)&&Object(c.a)(l.arrayBufferView)&&!b&&(A=d.a.alignmentInBytes(h,m,i)),x.pixelStorei(x.UNPACK_ALIGNMENT,A),Object(c.a)(l))if(Object(c.a)(l.arrayBufferView)){x.pixelStorei(x.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,!1);var C=l.arrayBufferView;b?x.compressedTexImage2D(E,0,v,i,n,0,C):(O&&(C=d.a.flipY(C,h,m,i,n)),x.texImage2D(E,0,v,i,n,0,h,m,C))}else Object(c.a)(l.framebuffer)?(x.pixelStorei(x.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,!1),l.framebuffer!==t.defaultFramebuffer&&l.framebuffer._bind(),x.copyTexImage2D(E,0,v,l.xOffset,l.yOffset,i,n,0),l.framebuffer!==t.defaultFramebuffer&&l.framebuffer._unBind()):(x.pixelStorei(x.UNPACK_PREMULTIPLY_ALPHA_WEBGL,y),x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,O),x.texImage2D(E,0,v,h,m,l));else x.texImage2D(E,0,v,i,n,0,h,m,null),w=!1;x.bindTexture(E,null);var S;S=b?d.a.compressedTextureSizeInBytes(h,i,n):d.a.textureSizeInBytes(h,m,i,n),this._id=Object(o.a)(),this._context=t,this._textureFilterAnisotropic=t._textureFilterAnisotropic,this._textureTarget=E,this._texture=T,this._pixelFormat=h,this._pixelDatatype=m,this._width=i,this._height=n,this._dimensions=new a.a(i,n),this._hasMipmap=!1,this._sizeInBytes=S,this._preMultiplyAlpha=y,this._flipY=O,this._initialized=w,this._sampler=void 0,this.sampler=Object(c.a)(e.sampler)?e.sampler:new _.a}var a=i("Ss9j"),r=i("5F4X"),o=i("ed27"),s=i("5A4e"),c=i("xC6Q"),l=i("6sr8"),u=i("PzDm"),h=i("fq+p"),d=i("FhYh"),f=i("1L1F"),p=i("J1no"),m=i("T7Or"),g=i("HvCH"),_=i("l0BX"),v=i("YKq0"),b=i("z2iY");n.create=function(e){return new n(e)},n.fromFramebuffer=function(e){e=Object(s.a)(e,s.a.EMPTY_OBJECT),r.a.defined("options.context",e.context);var t=e.context,i=t._gl,a=Object(s.a)(e.pixelFormat,d.a.RGB),o=Object(s.a)(e.framebufferXOffset,0),l=Object(s.a)(e.framebufferYOffset,0),h=Object(s.a)(e.width,i.drawingBufferWidth),f=Object(s.a)(e.height,i.drawingBufferHeight),p=e.framebuffer;if(!d.a.validate(a))throw new u.a("Invalid pixelFormat.");if(d.a.isDepthFormat(a)||d.a.isCompressedFormat(a))throw new u.a("pixelFormat cannot be DEPTH_COMPONENT, DEPTH_STENCIL or a compressed format.");if(r.a.defined("options.context",e.context),r.a.typeOf.number.greaterThanOrEquals("framebufferXOffset",o,0),r.a.typeOf.number.greaterThanOrEquals("framebufferYOffset",l,0),o+h>i.drawingBufferWidth)throw new u.a("framebufferXOffset + width must be less than or equal to drawingBufferWidth");if(l+f>i.drawingBufferHeight)throw new u.a("framebufferYOffset + height must be less than or equal to drawingBufferHeight.");return new n({context:t,width:h,height:f,pixelFormat:a,source:{framebuffer:Object(c.a)(p)?p:t.defaultFramebuffer,xOffset:o,yOffset:l,width:h,height:f}})},Object.defineProperties(n.prototype,{id:{get:function(){return this._id}},sampler:{get:function(){return this._sampler},set:function(e){var t=e.minificationFilter,i=e.magnificationFilter,n=t===b.a.NEAREST_MIPMAP_NEAREST||t===b.a.NEAREST_MIPMAP_LINEAR||t===b.a.LINEAR_MIPMAP_NEAREST||t===b.a.LINEAR_MIPMAP_LINEAR,a=this._context,r=this._pixelDatatype;(r===g.a.FLOAT&&!a.textureFloatLinear||r===g.a.HALF_FLOAT&&!a.textureHalfFloatLinear)&&(t=n?b.a.NEAREST_MIPMAP_NEAREST:b.a.NEAREST,i=v.a.NEAREST);var o=a._gl,s=this._textureTarget;o.activeTexture(o.TEXTURE0),o.bindTexture(s,this._texture),o.texParameteri(s,o.TEXTURE_MIN_FILTER,t),o.texParameteri(s,o.TEXTURE_MAG_FILTER,i),o.texParameteri(s,o.TEXTURE_WRAP_S,e.wrapS),o.texParameteri(s,o.TEXTURE_WRAP_T,e.wrapT),Object(c.a)(this._textureFilterAnisotropic)&&o.texParameteri(s,this._textureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.maximumAnisotropy),o.bindTexture(s,null),this._sampler=e}},pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},dimensions:{get:function(){return this._dimensions}},preMultiplyAlpha:{get:function(){return this._preMultiplyAlpha}},flipY:{get:function(){return this._flipY}},width:{get:function(){return this._width}},height:{get:function(){return this._height}},sizeInBytes:{get:function(){return this._hasMipmap?Math.floor(4*this._sizeInBytes/3):this._sizeInBytes}},_target:{get:function(){return this._textureTarget}}}),n.prototype.copyFrom=function(e,t,i){if(t=Object(s.a)(t,0),i=Object(s.a)(i,0),r.a.defined("source",e),d.a.isDepthFormat(this._pixelFormat))throw new u.a("Cannot call copyFrom when the texture pixel format is DEPTH_COMPONENT or DEPTH_STENCIL.");if(d.a.isCompressedFormat(this._pixelFormat))throw new u.a("Cannot call copyFrom with a compressed texture pixel format.");r.a.typeOf.number.greaterThanOrEquals("xOffset",t,0),r.a.typeOf.number.greaterThanOrEquals("yOffset",i,0),r.a.typeOf.number.lessThanOrEquals("xOffset + source.width",t+e.width,this._width),r.a.typeOf.number.lessThanOrEquals("yOffset + source.height",i+e.height,this._height);var n=this._context._gl,a=this._textureTarget;n.activeTexture(n.TEXTURE0),n.bindTexture(a,this._texture);var o=e.width,l=e.height,h=e.arrayBufferView,f=this._width,p=this._height,m=this._pixelFormat,g=this._pixelDatatype,_=this._preMultiplyAlpha,v=this._flipY,b=4;Object(c.a)(h)&&(b=d.a.alignmentInBytes(m,g,o)),n.pixelStorei(n.UNPACK_ALIGNMENT,b);var y=!1;if(!this._initialized){if(0===t&&0===i&&o===f&&l===p)Object(c.a)(h)?(n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),v&&(h=d.a.flipY(h,m,g,f,p)),n.texImage2D(a,0,m,f,p,0,m,g,h)):(n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,v),n.texImage2D(a,0,m,m,g,e)),y=!0;else{n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);var O=d.a.createTypedArray(m,g,f,p);n.texImage2D(a,0,m,f,p,0,m,g,O)}this._initialized=!0}y||(Object(c.a)(h)?(n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),v&&(h=d.a.flipY(h,m,g,o,l)),n.texSubImage2D(a,0,t,i,o,l,m,g,h)):(n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,v),n.texSubImage2D(a,0,t,i,m,g,e))),n.bindTexture(a,null)},n.prototype.copyFromFramebuffer=function(e,t,i,n,a,o){if(e=Object(s.a)(e,0),t=Object(s.a)(t,0),i=Object(s.a)(i,0),n=Object(s.a)(n,0),a=Object(s.a)(a,this._width),o=Object(s.a)(o,this._height),d.a.isDepthFormat(this._pixelFormat))throw new u.a("Cannot call copyFromFramebuffer when the texture pixel format is DEPTH_COMPONENT or DEPTH_STENCIL.");if(this._pixelDatatype===g.a.FLOAT)throw new u.a("Cannot call copyFromFramebuffer when the texture pixel data type is FLOAT.");if(this._pixelDatatype===g.a.HALF_FLOAT)throw new u.a("Cannot call copyFromFramebuffer when the texture pixel data type is HALF_FLOAT.");if(d.a.isCompressedFormat(this._pixelFormat))throw new u.a("Cannot call copyFrom with a compressed texture pixel format.");r.a.typeOf.number.greaterThanOrEquals("xOffset",e,0),r.a.typeOf.number.greaterThanOrEquals("yOffset",t,0),r.a.typeOf.number.greaterThanOrEquals("framebufferXOffset",i,0),r.a.typeOf.number.greaterThanOrEquals("framebufferYOffset",n,0),r.a.typeOf.number.lessThanOrEquals("xOffset + width",e+a,this._width),r.a.typeOf.number.lessThanOrEquals("yOffset + height",t+o,this._height);var c=this._context._gl,l=this._textureTarget;c.activeTexture(c.TEXTURE0),c.bindTexture(l,this._texture),c.copyTexSubImage2D(l,0,e,t,i,n,a,o),c.bindTexture(l,null),this._initialized=!0},n.prototype.generateMipmap=function(e){if(e=Object(s.a)(e,m.a.DONT_CARE),d.a.isDepthFormat(this._pixelFormat))throw new u.a("Cannot call generateMipmap when the texture pixel format is DEPTH_COMPONENT or DEPTH_STENCIL.");if(d.a.isCompressedFormat(this._pixelFormat))throw new u.a("Cannot call generateMipmap with a compressed pixel format.");if(this._width>1&&!h.a.isPowerOfTwo(this._width))throw new u.a("width must be a power of two to call generateMipmap().");if(this._height>1&&!h.a.isPowerOfTwo(this._height))throw new u.a("height must be a power of two to call generateMipmap().");if(!m.a.validate(e))throw new u.a("hint is invalid.");this._hasMipmap=!0;var t=this._context._gl,i=this._textureTarget;t.hint(t.GENERATE_MIPMAP_HINT,e),t.activeTexture(t.TEXTURE0),t.bindTexture(i,this._texture),t.generateMipmap(i),t.bindTexture(i,null)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._context._gl.deleteTexture(this._texture),Object(l.a)(this)},t.a=n},"2A+V":function(e,t,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"2Cyj":function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\nuniform vec3 white;\n\nvarying vec2 v_textureCoordinates;\n\n#ifdef AUTO_EXPOSURE\nuniform sampler2D autoExposure;\n#endif\n\n// See equation 4:\n//    http://www.cs.utah.edu/~reinhard/cdrom/tonemap.pdf\n\nvoid main()\n{\n    vec4 fragmentColor = texture2D(colorTexture, v_textureCoordinates);\n    vec3 color = fragmentColor.rgb;\n#ifdef AUTO_EXPOSURE\n    float exposure = texture2D(autoExposure, vec2(0.5)).r;\n    color /= exposure;\n#endif\n    color = (color * (1.0 + color / white)) / (1.0 + color);\n    color = czm_inverseGamma(color);\n    gl_FragColor = vec4(color, fragmentColor.a);\n}\n"},"2Fo0":function(e,t,i){"use strict";var n=i("yKZV"),a=i("Wy+Q"),r={RENDER:0,PICK:1,SHADOW:2,PRELOAD:3,PRELOAD_FLIGHT:4,REQUEST_RENDER_MODE_DEFER_CHECK:5,MOST_DETAILED_PRELOAD:6,MOST_DETAILED_PICK:7,NUMBER_OF_PASSES:8},o=new Array(r.NUMBER_OF_PASSES);o[r.RENDER]=Object.freeze({traversal:a.a,isRender:!0,requestTiles:!0,ignoreCommands:!1}),o[r.PICK]=Object.freeze({traversal:a.a,isRender:!1,requestTiles:!1,ignoreCommands:!1}),o[r.SHADOW]=Object.freeze({traversal:a.a,isRender:!1,requestTiles:!0,ignoreCommands:!1}),o[r.PRELOAD]=Object.freeze({traversal:a.a,isRender:!1,requestTiles:!0,ignoreCommands:!0}),o[r.PRELOAD_FLIGHT]=Object.freeze({traversal:a.a,isRender:!1,requestTiles:!0,ignoreCommands:!0}),o[r.REQUEST_RENDER_MODE_DEFER_CHECK]=Object.freeze({traversal:a.a,isRender:!1,requestTiles:!0,ignoreCommands:!0}),o[r.MOST_DETAILED_PRELOAD]=Object.freeze({traversal:n.a,isRender:!1,requestTiles:!0,ignoreCommands:!0}),o[r.MOST_DETAILED_PICK]=Object.freeze({traversal:n.a,isRender:!1,requestTiles:!1,ignoreCommands:!1}),r.getPassOptions=function(e){return o[e]},t.a=Object.freeze(r)},"2IZB":function(e,t,i){"use strict";function n(e,t){for(var i=0;i<e.length;i++)e[i]=t.scaleToGeodeticSurface(e[i],e[i]);return e}function a(e,t,i,n,a,r){var o=e.normals,s=e.tangents,c=e.bitangents,l=m.a.normalize(m.a.cross(i,t,k),k);r.normal&&y.a.addAttribute(o,t,n,a),r.tangent&&y.a.addAttribute(s,l,n,a),r.bitangent&&y.a.addAttribute(c,i,n,a)}function r(e,t,i){var n,r,o,s=e.positions,c=e.corners,l=e.endPositions,u=e.lefts,h=e.normals,d=new A.a,f=0,p=0,g=0;for(r=0;r<s.length;r+=2)o=s[r].length-3,f+=o,g+=2*o,p+=s[r+1].length-3;for(f+=3,p+=3,r=0;r<c.length;r++){n=c[r];var _=c[r].leftPositions;Object(w.a)(_)?(o=_.length,f+=o,g+=o):(o=c[r].rightPositions.length,p+=o,g+=o)}var b,O=Object(w.a)(l);O&&(b=l[0].length-3,f+=b,p+=b,b/=3,g+=6*b);var x,E,C,P,D,I,R=f+p,z=new Float64Array(R),V=t.normal?new Float32Array(R):void 0,H=t.tangent?new Float32Array(R):void 0,q=t.bitangent?new Float32Array(R):void 0,W={normals:V,tangents:H,bitangents:q},G=0,Y=R-1,X=M,Q=L,J=b/2,Z=S.a.createTypedArray(R/3,g),K=0;if(O){I=N,D=F;var $=l[0];for(X=m.a.fromArray(h,0,X),Q=m.a.fromArray(u,0,Q),r=0;r<J;r++)I=m.a.fromArray($,3*(J-1-r),I),D=m.a.fromArray($,3*(J+r),D),y.a.addAttribute(z,D,G),y.a.addAttribute(z,I,void 0,Y),a(W,X,Q,G,Y,t),E=G/3,P=E+1,x=(Y-2)/3,C=x-1,Z[K++]=x,Z[K++]=E,Z[K++]=C,Z[K++]=C,Z[K++]=E,Z[K++]=P,G+=3,Y-=3}var ee=0,te=0,ie=s[ee++],ne=s[ee++];z.set(ie,G),z.set(ne,Y-ne.length+1),Q=m.a.fromArray(u,te,Q);var ae,re;for(o=ne.length-3,r=0;r<o;r+=3)ae=i.geodeticSurfaceNormal(m.a.fromArray(ie,r,k),k),re=i.geodeticSurfaceNormal(m.a.fromArray(ne,o-r,U),U),X=m.a.normalize(m.a.add(ae,re,X),X),a(W,X,Q,G,Y,t),E=G/3,P=E+1,x=(Y-2)/3,C=x-1,Z[K++]=x,Z[K++]=E,Z[K++]=C,Z[K++]=C,Z[K++]=E,Z[K++]=P,G+=3,Y-=3;for(ae=i.geodeticSurfaceNormal(m.a.fromArray(ie,o,k),k),re=i.geodeticSurfaceNormal(m.a.fromArray(ne,o,U),U),X=m.a.normalize(m.a.add(ae,re,X),X),te+=3,r=0;r<c.length;r++){var oe;n=c[r];var se,ce,le=n.leftPositions,ue=n.rightPositions,he=B,de=N,fe=F;if(X=m.a.fromArray(h,te,X),Object(w.a)(le)){for(a(W,X,Q,void 0,Y,t),Y-=3,se=P,ce=C,oe=0;oe<le.length/3;oe++)he=m.a.fromArray(le,3*oe,he),Z[K++]=se,Z[K++]=ce-oe-1,Z[K++]=ce-oe,y.a.addAttribute(z,he,void 0,Y),de=m.a.fromArray(z,3*(ce-oe-1),de),fe=m.a.fromArray(z,3*se,fe),Q=m.a.normalize(m.a.subtract(de,fe,Q),Q),a(W,X,Q,void 0,Y,t),Y-=3;he=m.a.fromArray(z,3*se,he),de=m.a.subtract(m.a.fromArray(z,3*ce,de),he,de),fe=m.a.subtract(m.a.fromArray(z,3*(ce-oe),fe),he,fe),Q=m.a.normalize(m.a.add(de,fe,Q),Q),a(W,X,Q,G,void 0,t),G+=3}else{for(a(W,X,Q,G,void 0,t),G+=3,se=C,ce=P,oe=0;oe<ue.length/3;oe++)he=m.a.fromArray(ue,3*oe,he),Z[K++]=se,Z[K++]=ce+oe,Z[K++]=ce+oe+1,y.a.addAttribute(z,he,G),de=m.a.fromArray(z,3*se,de),fe=m.a.fromArray(z,3*(ce+oe),fe),Q=m.a.normalize(m.a.subtract(de,fe,Q),Q),a(W,X,Q,G,void 0,t),G+=3;he=m.a.fromArray(z,3*se,he),de=m.a.subtract(m.a.fromArray(z,3*(ce+oe),de),he,de),fe=m.a.subtract(m.a.fromArray(z,3*ce,fe),he,fe),Q=m.a.normalize(m.a.negate(m.a.add(fe,de,Q),Q),Q),a(W,X,Q,void 0,Y,t),Y-=3}for(ie=s[ee++],ne=s[ee++],ie.splice(0,3),ne.splice(ne.length-3,3),z.set(ie,G),z.set(ne,Y-ne.length+1),o=ne.length-3,te+=3,Q=m.a.fromArray(u,te,Q),oe=0;oe<ne.length;oe+=3)ae=i.geodeticSurfaceNormal(m.a.fromArray(ie,oe,k),k),re=i.geodeticSurfaceNormal(m.a.fromArray(ne,o-oe,U),U),X=m.a.normalize(m.a.add(ae,re,X),X),a(W,X,Q,G,Y,t),P=G/3,E=P-1,C=(Y-2)/3,x=C+1,Z[K++]=x,Z[K++]=E,Z[K++]=C,Z[K++]=C,Z[K++]=E,Z[K++]=P,G+=3,Y-=3;G-=3,Y+=3}if(X=m.a.fromArray(h,h.length-3,X),a(W,X,Q,G,Y,t),O){G+=3,Y-=3,I=N,D=F;var pe=l[1];for(r=0;r<J;r++)I=m.a.fromArray(pe,3*(b-r-1),I),D=m.a.fromArray(pe,3*r,D),y.a.addAttribute(z,I,void 0,Y),y.a.addAttribute(z,D,G),a(W,X,Q,G,Y,t),P=G/3,E=P-1,C=(Y-2)/3,x=C+1,Z[K++]=x,Z[K++]=E,Z[K++]=C,Z[K++]=C,Z[K++]=E,Z[K++]=P,G+=3,Y-=3}if(d.position=new T.a({componentDatatype:v.a.DOUBLE,componentsPerAttribute:3,values:z}),t.st){var me,ge,_e=new Float32Array(R/3*2),ve=0;if(O){f/=3,p/=3;var be=Math.PI/(b+1);ge=1/(f-b+1),me=1/(p-b+1);var ye,Oe=b/2;for(r=Oe+1;r<b+1;r++)ye=j.a.PI_OVER_TWO+be*r,_e[ve++]=me*(1+Math.cos(ye)),_e[ve++]=.5*(1+Math.sin(ye));for(r=1;r<p-b+1;r++)_e[ve++]=r*me,_e[ve++]=0;for(r=b;r>Oe;r--)ye=j.a.PI_OVER_TWO-r*be,_e[ve++]=1-me*(1+Math.cos(ye)),_e[ve++]=.5*(1+Math.sin(ye));for(r=Oe;r>0;r--)ye=j.a.PI_OVER_TWO-be*r,_e[ve++]=1-ge*(1+Math.cos(ye)),_e[ve++]=.5*(1+Math.sin(ye));for(r=f-b;r>0;r--)_e[ve++]=r*ge,_e[ve++]=1;for(r=1;r<Oe+1;r++)ye=j.a.PI_OVER_TWO+be*r,_e[ve++]=ge*(1+Math.cos(ye)),_e[ve++]=.5*(1+Math.sin(ye))}else{for(f/=3,p/=3,ge=1/(f-1),me=1/(p-1),r=0;r<p;r++)_e[ve++]=r*me,_e[ve++]=0;for(r=f;r>0;r--)_e[ve++]=(r-1)*ge,_e[ve++]=1}d.st=new T.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:2,values:_e})}return t.normal&&(d.normal=new T.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:W.normals})),t.tangent&&(d.tangent=new T.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:W.tangents})),t.bitangent&&(d.bitangent=new T.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:W.bitangents})),{attributes:d,indices:Z}}function o(e,t){if(!(t.normal||t.tangent||t.bitangent||t.st))return e;var i,n,a=e.position.values;(t.normal||t.bitangent)&&(i=e.normal.values,n=e.bitangent.values);var r,o=e.position.values.length/18,s=3*o,c=2*o,l=2*s;if(t.normal||t.bitangent||t.tangent){var u=t.normal?new Float32Array(6*s):void 0,h=t.tangent?new Float32Array(6*s):void 0,d=t.bitangent?new Float32Array(6*s):void 0,f=M,p=L,g=N,_=F,v=z,b=B,O=l;for(r=0;r<s;r+=3){var w=O+l;f=m.a.fromArray(a,r,f),p=m.a.fromArray(a,r+s,p),g=m.a.fromArray(a,(r+3)%s,g),p=m.a.subtract(p,f,p),g=m.a.subtract(g,f,g),_=m.a.normalize(m.a.cross(p,g,_),_),t.normal&&(y.a.addAttribute(u,_,w),y.a.addAttribute(u,_,w+3),y.a.addAttribute(u,_,O),y.a.addAttribute(u,_,O+3)),(t.tangent||t.bitangent)&&(b=m.a.fromArray(i,r,b),t.bitangent&&(y.a.addAttribute(d,b,w),y.a.addAttribute(d,b,w+3),y.a.addAttribute(d,b,O),y.a.addAttribute(d,b,O+3)),t.tangent&&(v=m.a.normalize(m.a.cross(b,_,v),v),y.a.addAttribute(h,v,w),y.a.addAttribute(h,v,w+3),y.a.addAttribute(h,v,O),y.a.addAttribute(h,v,O+3))),O+=6}if(t.normal){for(u.set(i),r=0;r<s;r+=3)u[r+s]=-i[r],u[r+s+1]=-i[r+1],u[r+s+2]=-i[r+2];e.normal.values=u}else e.normal=void 0;if(t.bitangent?(d.set(n),d.set(n,s),e.bitangent.values=d):e.bitangent=void 0,t.tangent){var x=e.tangent.values;h.set(x),h.set(x,s),e.tangent.values=h}}if(t.st){var E=e.st.values,T=new Float32Array(6*c);T.set(E),T.set(E,c);for(var A=2*c,C=0;C<2;C++){for(T[A++]=E[0],T[A++]=E[1],r=2;r<c;r+=2){var S=E[r],j=E[r+1];T[A++]=S,T[A++]=j,T[A++]=S,T[A++]=j}T[A++]=E[0],T[A++]=E[1]}e.st.values=T}return e}function s(e,t,i){i[t++]=e[0],i[t++]=e[1],i[t++]=e[2];for(var n=3;n<e.length;n+=3){var a=e[n],r=e[n+1],o=e[n+2];i[t++]=a,i[t++]=r,i[t++]=o,i[t++]=a,i[t++]=r,i[t++]=o}return i[t++]=e[0],i[t++]=e[1],i[t++]=e[2],i}function c(e,t){var i=new R.a({position:t.position,normal:t.normal||t.bitangent||e.shadowVolume,tangent:t.tangent,bitangent:t.normal||t.bitangent,st:t.st}),n=e.ellipsoid,a=y.a.computePositions(e),c=r(a,i,n),l=e.height,u=e.extrudedHeight,h=c.attributes,f=c.indices,p=h.position.values,m=p.length,g=new Float64Array(6*m),_=new Float64Array(m);_.set(p);var b=new Float64Array(4*m);p=P.a.scaleToGeodeticHeight(p,l,n),b=s(p,0,b),_=P.a.scaleToGeodeticHeight(_,u,n),b=s(_,2*m,b),g.set(p),g.set(_,m),g.set(b,2*m),h.position.values=g,h=o(h,t);var O,x=m/3;if(e.shadowVolume){var E=h.normal.values;m=E.length;var A=new Float32Array(6*m);for(O=0;O<m;O++)E[O]=-E[O];A.set(E,m),A=s(E,4*m,A),h.extrudeDirection=new T.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:A}),t.normal||(h.normal=void 0)}if(Object(w.a)(e.offsetAttribute)){var j=new Uint8Array(6*x);if(e.offsetAttribute===C.a.TOP)j=Object(d.a)(j,1,0,x),j=Object(d.a)(j,1,2*x,4*x);else{var D=e.offsetAttribute===C.a.NONE?0:1;j=Object(d.a)(j,D)}h.applyOffset=new T.a({componentDatatype:v.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:j})}var I=f.length,M=x+x,L=S.a.createTypedArray(g.length/3,2*I+3*M);L.set(f);var N=I;for(O=0;O<I;O+=3){var F=f[O],z=f[O+1],B=f[O+2];L[N++]=B+x,L[N++]=z+x,L[N++]=F+x}var k,U,V,H;for(O=0;O<M;O+=2)k=O+M,U=k+M,V=k+1,H=U+1,L[N++]=k,L[N++]=U,L[N++]=V,L[N++]=V,L[N++]=U,L[N++]=H;return{attributes:h,indices:L}}function l(e,t,i,n,a,r){var o=m.a.subtract(t,e,V);m.a.normalize(o,o);var s=i.geodeticSurfaceNormal(e,H),c=m.a.cross(o,s,V);m.a.multiplyByScalar(c,n,c);var l=a.latitude,u=a.longitude,h=r.latitude,d=r.longitude;m.a.add(e,c,H),i.cartesianToCartographic(H,q);var f=q.latitude,p=q.longitude;l=Math.min(l,f),u=Math.min(u,p),h=Math.max(h,f),d=Math.max(d,p),m.a.subtract(e,c,H),i.cartesianToCartographic(H,q),f=q.latitude,p=q.longitude,l=Math.min(l,f),u=Math.min(u,p),h=Math.max(h,f),d=Math.max(d,p),a.latitude=l,a.longitude=u,r.latitude=h,r.longitude=d}function u(e,t,i,a,r){e=n(e,t);var o=Object(f.a)(e,m.a.equalsEpsilon),s=o.length;if(s<2||i<=0)return new I.a;var c=.5*i;Y.latitude=Number.POSITIVE_INFINITY,Y.longitude=Number.POSITIVE_INFINITY,X.latitude=Number.NEGATIVE_INFINITY,X.longitude=Number.NEGATIVE_INFINITY;var u,h;if(a===b.a.ROUNDED){var d=o[0];m.a.subtract(d,o[1],W),m.a.normalize(W,W),m.a.multiplyByScalar(W,c,W),m.a.add(d,W,G),t.cartesianToCartographic(G,q),u=q.latitude,h=q.longitude,Y.latitude=Math.min(Y.latitude,u),Y.longitude=Math.min(Y.longitude,h),X.latitude=Math.max(X.latitude,u),X.longitude=Math.max(X.longitude,h)}for(var p=0;p<s-1;++p)l(o[p],o[p+1],t,c,Y,X);var g=o[s-1];m.a.subtract(g,o[s-2],W),m.a.normalize(W,W),m.a.multiplyByScalar(W,c,W),m.a.add(g,W,G),l(g,G,t,c,Y,X),a===b.a.ROUNDED&&(t.cartesianToCartographic(G,q),u=q.latitude,h=q.longitude,Y.latitude=Math.min(Y.latitude,u),Y.longitude=Math.min(Y.longitude,h),X.latitude=Math.max(X.latitude,u),X.longitude=Math.max(X.longitude,h));var _=Object(w.a)(r)?r:new I.a;return _.north=X.latitude,_.south=Y.latitude,_.east=X.longitude,_.west=Y.longitude,_}function h(e){e=Object(O.a)(e,O.a.EMPTY_OBJECT);var t=e.positions,i=e.width;_.a.defined("options.positions",t),_.a.defined("options.width",i);var n=Object(O.a)(e.height,0),a=Object(O.a)(e.extrudedHeight,n);this._positions=t,this._ellipsoid=x.a.clone(Object(O.a)(e.ellipsoid,x.a.WGS84)),this._vertexFormat=R.a.clone(Object(O.a)(e.vertexFormat,R.a.DEFAULT)),this._width=i,this._height=Math.max(n,a),this._extrudedHeight=Math.min(n,a),this._cornerType=Object(O.a)(e.cornerType,b.a.ROUNDED),this._granularity=Object(O.a)(e.granularity,j.a.RADIANS_PER_DEGREE),this._shadowVolume=Object(O.a)(e.shadowVolume,!1),this._workerName="createCorridorGeometry",this._offsetAttribute=e.offsetAttribute,this._rectangle=void 0,this.packedLength=1+t.length*m.a.packedLength+x.a.packedLength+R.a.packedLength+7}var d=i("Sfsp"),f=i("6Ilv"),p=i("lBr9"),m=i("Jj+J"),g=i("I3GD"),_=i("5F4X"),v=i("YCZg"),b=i("sEJp"),y=i("M4f6"),O=i("5A4e"),w=i("xC6Q"),x=i("y6fO"),E=i("RGAo"),T=i("RYD3"),A=i("GaJK"),C=i("2g+t"),S=i("oMsT"),j=i("fq+p"),P=i("EDAM"),D=i("nHNe"),I=i("Wq1U"),R=i("xvTE"),M=new m.a,L=new m.a,N=new m.a,F=new m.a,z=new m.a,B=new m.a,k=new m.a,U=new m.a,V=new m.a,H=new m.a,q=new g.a,W=new m.a,G=new m.a,Y=new g.a,X=new g.a;h.pack=function(e,t,i){_.a.defined("value",e),_.a.defined("array",t),i=Object(O.a)(i,0);var n=e._positions,a=n.length;t[i++]=a;for(var r=0;r<a;++r,i+=m.a.packedLength)m.a.pack(n[r],t,i);return x.a.pack(e._ellipsoid,t,i),i+=x.a.packedLength,R.a.pack(e._vertexFormat,t,i),i+=R.a.packedLength,t[i++]=e._width,t[i++]=e._height,t[i++]=e._extrudedHeight,t[i++]=e._cornerType,t[i++]=e._granularity,t[i++]=e._shadowVolume?1:0,t[i]=Object(O.a)(e._offsetAttribute,-1),t};var Q=x.a.clone(x.a.UNIT_SPHERE),J=new R.a,Z={positions:void 0,ellipsoid:Q,vertexFormat:J,width:void 0,height:void 0,extrudedHeight:void 0,cornerType:void 0,granularity:void 0,shadowVolume:void 0,offsetAttribute:void 0};h.unpack=function(e,t,i){_.a.defined("array",e),t=Object(O.a)(t,0);for(var n=e[t++],a=new Array(n),r=0;r<n;++r,t+=m.a.packedLength)a[r]=m.a.unpack(e,t);var o=x.a.unpack(e,t,Q);t+=x.a.packedLength;var s=R.a.unpack(e,t,J);t+=R.a.packedLength;var c=e[t++],l=e[t++],u=e[t++],d=e[t++],f=e[t++],p=1===e[t++],g=e[t];return Object(w.a)(i)?(i._positions=a,i._ellipsoid=x.a.clone(o,i._ellipsoid),i._vertexFormat=R.a.clone(s,i._vertexFormat),i._width=c,i._height=l,i._extrudedHeight=u,i._cornerType=d,i._granularity=f,i._shadowVolume=p,i._offsetAttribute=-1===g?void 0:g,i):(Z.positions=a,Z.width=c,Z.height=l,Z.extrudedHeight=u,Z.cornerType=d,Z.granularity=f,Z.shadowVolume=p,Z.offsetAttribute=-1===g?void 0:g,new h(Z))},h.computeRectangle=function(e,t){e=Object(O.a)(e,O.a.EMPTY_OBJECT);var i=e.positions,n=e.width;return _.a.defined("options.positions",i),_.a.defined("options.width",n),u(i,Object(O.a)(e.ellipsoid,x.a.WGS84),n,Object(O.a)(e.cornerType,b.a.ROUNDED),t)},h.createGeometry=function(e){var t=e._positions,i=e._width,a=e._ellipsoid;t=n(t,a);var o=Object(f.a)(t,m.a.equalsEpsilon);if(!(o.length<2||i<=0)){var s,l=e._height,u=e._extrudedHeight,h=!j.a.equalsEpsilon(l,u,0,j.a.EPSILON2),g=e._vertexFormat,_={ellipsoid:a,positions:o,width:i,cornerType:e._cornerType,granularity:e._granularity,saveAttributes:!0};if(h)_.height=l,_.extrudedHeight=u,_.shadowVolume=e._shadowVolume,_.offsetAttribute=e._offsetAttribute,s=c(_,g);else{if(s=r(y.a.computePositions(_),g,a),s.attributes.position.values=P.a.scaleToGeodeticHeight(s.attributes.position.values,l,a),Object(w.a)(e._offsetAttribute)){var b=e._offsetAttribute===C.a.NONE?0:1,O=s.attributes.position.values.length,x=new Uint8Array(O/3);Object(d.a)(x,b),s.attributes.applyOffset=new T.a({componentDatatype:v.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:x})}}var A=s.attributes,S=p.a.fromVertices(A.position.values,void 0,3);return g.position||(s.attributes.position.values=void 0),new E.a({attributes:A,indices:s.indices,primitiveType:D.a.TRIANGLES,boundingSphere:S,offsetAttribute:e._offsetAttribute})}},h.createShadowVolume=function(e,t,i){var n=e._granularity,a=e._ellipsoid,r=t(n,a),o=i(n,a);return new h({positions:e._positions,width:e._width,cornerType:e._cornerType,ellipsoid:a,granularity:n,extrudedHeight:r,height:o,vertexFormat:R.a.POSITION_ONLY,shadowVolume:!0})},Object.defineProperties(h.prototype,{rectangle:{get:function(){return Object(w.a)(this._rectangle)||(this._rectangle=u(this._positions,this._ellipsoid,this._width,this._cornerType)),this._rectangle}},textureCoordinateRotationPoints:{get:function(){return[0,0,0,1,1,0]}}}),t.a=h},"2JXb":function(e,t,i){"use strict";function n(e){function t(t){var i=t.tileInfo;if(Object(u.a)(i)){if(E._tileWidth=i.rows,E._tileHeight=i.cols,102100===i.spatialReference.wkid||102113===i.spatialReference.wkid)E._tilingScheme=new O.a({ellipsoid:e.ellipsoid});else{if(4326!==t.tileInfo.spatialReference.wkid){var s="Tile spatial reference WKID "+t.tileInfo.spatialReference.wkid+" is not supported.";return void(m=b.a.handleError(m,E,E._errorEvent,s,void 0,void 0,void 0,n))}E._tilingScheme=new p.a({ellipsoid:e.ellipsoid})}if(E._maximumLevel=t.tileInfo.lods.length-1,Object(u.a)(t.fullExtent)){if(Object(u.a)(t.fullExtent.spatialReference)&&Object(u.a)(t.fullExtent.spatialReference.wkid))if(102100===t.fullExtent.spatialReference.wkid||102113===t.fullExtent.spatialReference.wkid){var l=new y.a,h=t.fullExtent,d=l.unproject(new o.a(Math.max(h.xmin,-E._tilingScheme.ellipsoid.maximumRadius*Math.PI),Math.max(h.ymin,-E._tilingScheme.ellipsoid.maximumRadius*Math.PI),0)),f=l.unproject(new o.a(Math.min(h.xmax,E._tilingScheme.ellipsoid.maximumRadius*Math.PI),Math.min(h.ymax,E._tilingScheme.ellipsoid.maximumRadius*Math.PI),0));E._rectangle=new g.a(d.longitude,d.latitude,f.longitude,f.latitude)}else{if(4326!==t.fullExtent.spatialReference.wkid){var _="fullExtent.spatialReference WKID "+t.fullExtent.spatialReference.wkid+" is not supported.";return void(m=b.a.handleError(m,E,E._errorEvent,_,void 0,void 0,void 0,n))}E._rectangle=g.a.fromDegrees(t.fullExtent.xmin,t.fullExtent.ymin,t.fullExtent.xmax,t.fullExtent.ymax)}}else E._rectangle=E._tilingScheme.rectangle;Object(u.a)(E._tileDiscardPolicy)||(E._tileDiscardPolicy=new x.a({missingImageUrl:a(E,0,0,E._maximumLevel).url,pixelsToCheck:[new r.a(0,0),new r.a(200,20),new r.a(20,200),new r.a(80,110),new r.a(160,130)],disableCheckIfAllPixelsAreTransparent:!0})),E._useTiles=!0}else E._useTiles=!1;Object(u.a)(t.copyrightText)&&t.copyrightText.length>0&&(E._credit=new c.a(t.copyrightText)),E._ready=!0,E._readyPromise.resolve(!0),b.a.handleSuccess(m)}function i(e){var t="An error occurred while accessing "+E._resource.url+".";m=b.a.handleError(m,E,E._errorEvent,t,void 0,void 0,void 0,n),E._readyPromise.reject(new v.a(t))}function n(){var e=E._resource.getDerivedResource({queryParameters:{f:"json"}}),n=e.fetchJsonp();Object(w.a)(n,t,i)}if(e=Object(l.a)(e,l.a.EMPTY_OBJECT),!Object(u.a)(e.url))throw new h.a("options.url is required.");var s=_.a.createIfNeeded(e.url);s.appendForwardSlash(),Object(u.a)(e.token)&&s.setQueryParameters({token:e.token}),this._resource=s,this._tileDiscardPolicy=e.tileDiscardPolicy,this._tileWidth=Object(l.a)(e.tileWidth,256),this._tileHeight=Object(l.a)(e.tileHeight,256),this._maximumLevel=e.maximumLevel,this._tilingScheme=Object(l.a)(e.tilingScheme,new p.a({ellipsoid:e.ellipsoid})),this._useTiles=Object(l.a)(e.usePreCachedTilesIfAvailable,!0),this._rectangle=Object(l.a)(e.rectangle,this._tilingScheme.rectangle),this._layers=e.layers;var f=e.credit;"string"==typeof f&&(f=new c.a(f)),this._credit=f,this.enablePickFeatures=Object(l.a)(e.enablePickFeatures,!0),this._errorEvent=new d.a,this._ready=!1,this._readyPromise=w.a.defer();var m,E=this;this._useTiles?n():(this._ready=!0,this._readyPromise.resolve(!0))}function a(e,t,i,n,a){var r;if(e._useTiles)r=e._resource.getDerivedResource({url:"tile/"+n+"/"+i+"/"+t,request:a});else{var o=e._tilingScheme.tileXYToNativeRectangle(t,i,n),s=o.west+","+o.south+","+o.east+","+o.north,c={bbox:s,size:e._tileWidth+","+e._tileHeight,format:"png",transparent:!0,f:"image"};e._tilingScheme.projection instanceof f.a?(c.bboxSR=4326,c.imageSR=4326):(c.bboxSR=3857,c.imageSR=3857),e.layers&&(c.layers="show:"+e.layers),r=e._resource.getDerivedResource({url:"export",request:a,queryParameters:c})}return r}var r=i("Ss9j"),o=i("Jj+J"),s=i("I3GD"),c=i("ODTd"),l=i("5A4e"),u=i("xC6Q"),h=i("PzDm"),d=i("W6xh"),f=i("eUIW"),p=i("4MnW"),m=i("fq+p"),g=i("Wq1U"),_=i("rMjQ"),v=i("V22k"),b=i("M1To"),y=i("6AvQ"),O=i("Y4y7"),w=i("S7OP"),x=i("CAx4"),E=i("ePuJ"),T=i("1eBa");Object.defineProperties(n.prototype,{url:{get:function(){return this._resource._url}},token:{get:function(){return this._resource.queryParameters.token}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){if(!this._ready)throw new h.a("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this._ready)throw new h.a("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this._ready)throw new h.a("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},minimumLevel:{get:function(){if(!this._ready)throw new h.a("minimumLevel must not be called before the imagery provider is ready.");return 0}},tilingScheme:{get:function(){if(!this._ready)throw new h.a("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},rectangle:{get:function(){if(!this._ready)throw new h.a("rectangle must not be called before the imagery provider is ready.");return this._rectangle}},tileDiscardPolicy:{get:function(){if(!this._ready)throw new h.a("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},credit:{get:function(){return this._credit}},usingPrecachedTiles:{get:function(){return this._useTiles}},hasAlphaChannel:{get:function(){return!0}},layers:{get:function(){return this._layers}}}),n.prototype.getTileCredits=function(e,t,i){},n.prototype.requestImage=function(e,t,i,n){if(!this._ready)throw new h.a("requestImage must not be called before the imagery provider is ready.");return T.a.loadImage(this,a(this,e,t,i,n))},n.prototype.pickFeatures=function(e,t,i,n,a){if(!this._ready)throw new h.a("pickFeatures must not be called before the imagery provider is ready.");if(this.enablePickFeatures){var r,c,l,d=this._tilingScheme.tileXYToNativeRectangle(e,t,i);if(this._tilingScheme.projection instanceof f.a)r=m.a.toDegrees(n),c=m.a.toDegrees(a),l="4326";else{var p=this._tilingScheme.projection.project(new s.a(n,a,0));r=p.x,c=p.y,l="3857"}var g="visible";Object(u.a)(this._layers)&&(g+=":"+this._layers);var _={f:"json",tolerance:2,geometryType:"esriGeometryPoint",geometry:r+","+c,mapExtent:d.west+","+d.south+","+d.east+","+d.north,imageDisplay:this._tileWidth+","+this._tileHeight+",96",sr:l,layers:g};return this._resource.getDerivedResource({url:"identify",queryParameters:_}).fetchJson().then(function(e){var t=[],i=e.results;if(!Object(u.a)(i))return t;for(var n=0;n<i.length;++n){var a=i[n],r=new E.a;if(r.data=a,r.name=a.value,r.properties=a.attributes,r.configureDescriptionFromProperties(a.attributes),"esriGeometryPoint"===a.geometryType&&a.geometry){var c=a.geometry.spatialReference&&a.geometry.spatialReference.wkid?a.geometry.spatialReference.wkid:4326;if(4326===c||4283===c)r.position=s.a.fromDegrees(a.geometry.x,a.geometry.y,a.geometry.z);else if(102100===c||900913===c||3857===c){var l=new y.a;r.position=l.unproject(new o.a(a.geometry.x,a.geometry.y,a.geometry.z))}}t.push(r)}return t})}},t.a=n},"2KBj":function(e,t,i){"use strict";e.exports=Error},"2LHl":function(e,t,i){"use strict";function n(e){switch(e){case a.a.FLOAT:return"float";case a.a.FLOAT_VEC2:return"vec2";case a.a.FLOAT_VEC3:return"vec3";case a.a.FLOAT_VEC4:return"vec4";case a.a.FLOAT_MAT2:return"mat2";case a.a.FLOAT_MAT3:return"mat3";case a.a.FLOAT_MAT4:return"mat4";case a.a.SAMPLER_2D:return"sampler2D";case a.a.BOOL:return"bool"}}var a=i("1L1F");t.a=n},"2MMM":function(e,t,i){"use strict";function n(e,t,i,n,o){var s=r.a.subtract(e,t,u),c=r.a.dot(i,s),l=r.a.dot(n,s);return a.a.fromElements(c,l,o)}var a=i("Ss9j"),r=i("Jj+J"),o=i("5F4X"),s=i("i3sv"),c=i("qBw0"),l={},u=new r.a,h=new r.a,d=new r.a,f=new r.a,p=new c.a;l.validOutline=function(e){o.a.defined("positions",e);var t=c.a.fromPoints(e,p),i=t.halfAxes,n=s.a.getColumn(i,0,h),a=s.a.getColumn(i,1,d),l=s.a.getColumn(i,2,f),u=r.a.magnitude(n),m=r.a.magnitude(a),g=r.a.magnitude(l);return!(0===u&&(0===m||0===g)||0===m&&0===g)},l.computeProjectTo2DArguments=function(e,t,i,n){o.a.defined("positions",e),o.a.defined("centerResult",t),o.a.defined("planeAxis1Result",i),o.a.defined("planeAxis2Result",n);var a=c.a.fromPoints(e,p),l=a.halfAxes,u=s.a.getColumn(l,0,h),m=s.a.getColumn(l,1,d),g=s.a.getColumn(l,2,f),_=r.a.magnitude(u),v=r.a.magnitude(m),b=r.a.magnitude(g),y=Math.min(_,v,b);if(0===_&&(0===v||0===b)||0===v&&0===b)return!1;var O,w;return y!==v&&y!==b||(O=u),y===_?O=m:y===b&&(w=m),y!==_&&y!==v||(w=g),r.a.normalize(O,i),r.a.normalize(w,n),r.a.clone(a.center,t),!0},l.createProjectPointsTo2DFunction=function(e,t,i){return function(a){for(var r=new Array(a.length),o=0;o<a.length;o++)r[o]=n(a[o],e,t,i);return r}},l.createProjectPointTo2DFunction=function(e,t,i){return function(a,r){return n(a,e,t,i,r)}},t.a=l},"2O47":function(e,t,i){"use strict";t.a="/**\n * A built-in GLSL floating-point constant for <code>pi/6</code>.\n *\n * @alias czm_piOverSix\n * @glslConstant\n *\n * @see CesiumMath.PI_OVER_SIX\n *\n * @example\n * // GLSL declaration\n * const float czm_piOverSix = ...;\n *\n * // Example\n * float pi = 6.0 * czm_piOverSix;\n */\nconst float czm_piOverSix = 0.5235987755982988;\n"},"2WCG":function(e,t,i){"use strict";function n(e,t,i,n){var r=a,o=n+i;e^=-1;for(var s=n;s<o;s++)e=e>>>8^r[255&(e^t[s])];return-1^e}var a=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();e.exports=n},"2bm4":function(e,t,i){"use strict";function n(e,t,i,n){switch(t.type){case e.FLOAT:return new a(e,t,i,n);case e.FLOAT_VEC2:return new r(e,t,i,n);case e.FLOAT_VEC3:return new o(e,t,i,n);case e.FLOAT_VEC4:return new s(e,t,i,n);case e.SAMPLER_2D:case e.SAMPLER_CUBE:return new c(e,t,i,n);case e.INT:case e.BOOL:return new l(e,t,i,n);case e.INT_VEC2:case e.BOOL_VEC2:return new u(e,t,i,n);case e.INT_VEC3:case e.BOOL_VEC3:return new h(e,t,i,n);case e.INT_VEC4:case e.BOOL_VEC4:return new d(e,t,i,n);case e.FLOAT_MAT2:return new f(e,t,i,n);case e.FLOAT_MAT3:return new p(e,t,i,n);case e.FLOAT_MAT4:return new m(e,t,i,n);default:throw new T.a("Unrecognized uniform type: "+t.type+' for uniform "'+i+'".')}}function a(e,t,i,n){var a=n.length;this.name=i,this.value=new Array(a),this._value=new Float32Array(a),this._gl=e,this._location=n[0]}function r(e,t,i,n){var a=n.length;this.name=i,this.value=new Array(a),this._value=new Float32Array(2*a),this._gl=e,this._location=n[0]}function o(e,t,i,n){var a=n.length;this.name=i,this.value=new Array(a),this._value=new Float32Array(3*a),this._gl=e,this._location=n[0]}function s(e,t,i,n){var a=n.length;this.name=i,this.value=new Array(a),this._value=new Float32Array(4*a),this._gl=e,this._location=n[0]}function c(e,t,i,n){var a=n.length;this.name=i,this.value=new Array(a),this._value=new Float32Array(a),this._gl=e,this._locations=n,this.textureUnitIndex=void 0}function l(e,t,i,n){var a=n.length;this.name=i,this.value=new Array(a),this._value=new Int32Array(a),this._gl=e,this._location=n[0]}function u(e,t,i,n){var a=n.length;this.name=i,this.value=new Array(a),this._value=new Int32Array(2*a),this._gl=e,this._location=n[0]}function h(e,t,i,n){var a=n.length;this.name=i,this.value=new Array(a),this._value=new Int32Array(3*a),this._gl=e,this._location=n[0]}function d(e,t,i,n){var a=n.length;this.name=i,this.value=new Array(a),this._value=new Int32Array(4*a),this._gl=e,this._location=n[0]}function f(e,t,i,n){var a=n.length;this.name=i,this.value=new Array(a),this._value=new Float32Array(4*a),this._gl=e,this._location=n[0]}function p(e,t,i,n){var a=n.length;this.name=i,this.value=new Array(a),this._value=new Float32Array(9*a),this._gl=e,this._location=n[0]}function m(e,t,i,n){var a=n.length;this.name=i,this.value=new Array(a),this._value=new Float32Array(16*a),this._gl=e,this._location=n[0]}var g=i("Ss9j"),_=i("Jj+J"),v=i("PDkd"),b=i("6F0S"),y=i("xC6Q"),O=i("PzDm"),w=i("BvC/"),x=i("i3sv"),E=i("Xjii"),T=i("V22k");a.prototype.set=function(){for(var e=this.value,t=e.length,i=this._value,n=!1,a=0;a<t;++a){var r=e[a];r!==i[a]&&(i[a]=r,n=!0)}n&&this._gl.uniform1fv(this._location,i)},r.prototype.set=function(){for(var e=this.value,t=e.length,i=this._value,n=!1,a=0,r=0;r<t;++r){var o=e[r];g.a.equalsArray(o,i,a)||(g.a.pack(o,i,a),n=!0),a+=2}n&&this._gl.uniform2fv(this._location,i)},o.prototype.set=function(){for(var e=this.value,t=e.length,i=this._value,n=!1,a=0,r=0;r<t;++r){var o=e[r];if(Object(y.a)(o.red))o.red===i[a]&&o.green===i[a+1]&&o.blue===i[a+2]||(i[a]=o.red,i[a+1]=o.green,i[a+2]=o.blue,n=!0);else{if(!Object(y.a)(o.x))throw new O.a("Invalid vec3 value.");_.a.equalsArray(o,i,a)||(_.a.pack(o,i,a),n=!0)}a+=3}n&&this._gl.uniform3fv(this._location,i)},s.prototype.set=function(){for(var e=this.value,t=e.length,i=this._value,n=!1,a=0,r=0;r<t;++r){var o=e[r];if(Object(y.a)(o.red))b.a.equalsArray(o,i,a)||(b.a.pack(o,i,a),n=!0);else{if(!Object(y.a)(o.x))throw new O.a("Invalid vec4 value.");v.a.equalsArray(o,i,a)||(v.a.pack(o,i,a),n=!0)}a+=4}n&&this._gl.uniform4fv(this._location,i)},c.prototype.set=function(){for(var e=this._gl,t=e.TEXTURE0+this.textureUnitIndex,i=this.value,n=i.length,a=0;a<n;++a){var r=i[a];e.activeTexture(t+a),e.bindTexture(r._target,r._texture)}},c.prototype._setSampler=function(e){this.textureUnitIndex=e;for(var t=this._locations,i=t.length,n=0;n<i;++n){var a=e+n;this._gl.uniform1i(t[n],a)}return e+i},l.prototype.set=function(){for(var e=this.value,t=e.length,i=this._value,n=!1,a=0;a<t;++a){var r=e[a];r!==i[a]&&(i[a]=r,n=!0)}n&&this._gl.uniform1iv(this._location,i)},u.prototype.set=function(){for(var e=this.value,t=e.length,i=this._value,n=!1,a=0,r=0;r<t;++r){var o=e[r];g.a.equalsArray(o,i,a)||(g.a.pack(o,i,a),n=!0),a+=2}n&&this._gl.uniform2iv(this._location,i)},h.prototype.set=function(){for(var e=this.value,t=e.length,i=this._value,n=!1,a=0,r=0;r<t;++r){var o=e[r];_.a.equalsArray(o,i,a)||(_.a.pack(o,i,a),n=!0),a+=3}n&&this._gl.uniform3iv(this._location,i)},d.prototype.set=function(){for(var e=this.value,t=e.length,i=this._value,n=!1,a=0,r=0;r<t;++r){var o=e[r];v.a.equalsArray(o,i,a)||(v.a.pack(o,i,a),n=!0),a+=4}n&&this._gl.uniform4iv(this._location,i)},f.prototype.set=function(){for(var e=this.value,t=e.length,i=this._value,n=!1,a=0,r=0;r<t;++r){var o=e[r];w.a.equalsArray(o,i,a)||(w.a.pack(o,i,a),n=!0),a+=4}n&&this._gl.uniformMatrix2fv(this._location,!1,i)},p.prototype.set=function(){for(var e=this.value,t=e.length,i=this._value,n=!1,a=0,r=0;r<t;++r){var o=e[r];x.a.equalsArray(o,i,a)||(x.a.pack(o,i,a),n=!0),a+=9}n&&this._gl.uniformMatrix3fv(this._location,!1,i)},m.prototype.set=function(){for(var e=this.value,t=e.length,i=this._value,n=!1,a=0,r=0;r<t;++r){var o=e[r];E.a.equalsArray(o,i,a)||(E.a.pack(o,i,a),n=!0),a+=16}n&&this._gl.uniformMatrix4fv(this._location,!1,i)},t.a=n},"2d28":function(e,t,i){"use strict";function n(e,t){e=Object(a.a)(e,0),this._near=e,t=Object(a.a)(t,Number.MAX_VALUE),this._far=t}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm");Object.defineProperties(n.prototype,{near:{get:function(){return this._near},set:function(e){this._near=e}},far:{get:function(){return this._far},set:function(e){this._far=e}}}),n.packedLength=2,n.pack=function(e,t,i){if(!Object(r.a)(e))throw new o.a("value is required");if(!Object(r.a)(t))throw new o.a("array is required");return i=Object(a.a)(i,0),t[i++]=e.near,t[i]=e.far,t},n.unpack=function(e,t,i){if(!Object(r.a)(e))throw new o.a("array is required");return t=Object(a.a)(t,0),Object(r.a)(i)||(i=new n),i.near=e[t++],i.far=e[t],i},n.equals=function(e,t){return e===t||Object(r.a)(e)&&Object(r.a)(t)&&e.near===t.near&&e.far===t.far},n.clone=function(e,t){if(Object(r.a)(e))return Object(r.a)(t)||(t=new n),t.near=e.near,t.far=e.far,t},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},t.a=n},"2eOl":function(e,t,i){"use strict";function n(e){e=Object(h.a)(e,h.a.EMPTY_OBJECT);var t=e.length,i=e.topRadius,n=e.bottomRadius,a=Object(h.a)(e.slices,128),r=Math.max(Object(h.a)(e.numberOfVerticalLines,16),0);if(c.a.typeOf.number("options.positions",t),c.a.typeOf.number("options.topRadius",i),c.a.typeOf.number("options.bottomRadius",n),c.a.typeOf.number.greaterThanOrEquals("options.slices",a,3),Object(d.a)(e.offsetAttribute)&&e.offsetAttribute===_.a.TOP)throw new f.a("GeometryOffsetAttribute.TOP is not a supported options.offsetAttribute for this geometry.");this._length=t,this._topRadius=i,this._bottomRadius=n,this._slices=a,this._numberOfVerticalLines=r,this._offsetAttribute=e.offsetAttribute,this._workerName="createCylinderOutlineGeometry"}var a=i("Sfsp"),r=i("lBr9"),o=i("Ss9j"),s=i("Jj+J"),c=i("5F4X"),l=i("YCZg"),u=i("HYkQ"),h=i("5A4e"),d=i("xC6Q"),f=i("PzDm"),p=i("RGAo"),m=i("RYD3"),g=i("GaJK"),_=i("2g+t"),v=i("oMsT"),b=i("nHNe"),y=new o.a;n.packedLength=6,n.pack=function(e,t,i){return c.a.typeOf.object("value",e),c.a.defined("array",t),i=Object(h.a)(i,0),t[i++]=e._length,t[i++]=e._topRadius,t[i++]=e._bottomRadius,t[i++]=e._slices,t[i++]=e._numberOfVerticalLines,t[i]=Object(h.a)(e._offsetAttribute,-1),t};var O={length:void 0,topRadius:void 0,bottomRadius:void 0,slices:void 0,numberOfVerticalLines:void 0,offsetAttribute:void 0};n.unpack=function(e,t,i){c.a.defined("array",e),t=Object(h.a)(t,0);var a=e[t++],r=e[t++],o=e[t++],s=e[t++],l=e[t++],u=e[t];return Object(d.a)(i)?(i._length=a,i._topRadius=r,i._bottomRadius=o,i._slices=s,i._numberOfVerticalLines=l,i._offsetAttribute=-1===u?void 0:u,i):(O.length=a,O.topRadius=r,O.bottomRadius=o,O.slices=s,O.numberOfVerticalLines=l,O.offsetAttribute=-1===u?void 0:u,new n(O))},n.createGeometry=function(e){var t=e._length,i=e._topRadius,n=e._bottomRadius,c=e._slices,h=e._numberOfVerticalLines;if(!(t<=0||i<0||n<0||0===i&&0===n)){var f,O=2*c,w=u.a.computePositions(t,i,n,c,!1),x=2*c;if(h>0){var E=Math.min(h,c);f=Math.round(c/E),x+=E}var T,A=v.a.createTypedArray(O,2*x),C=0;for(T=0;T<c-1;T++)A[C++]=T,A[C++]=T+1,A[C++]=T+c,A[C++]=T+1+c;if(A[C++]=c-1,A[C++]=0,A[C++]=c+c-1,A[C++]=c,h>0)for(T=0;T<c;T+=f)A[C++]=T,A[C++]=T+c;var S=new g.a;S.position=new m.a({componentDatatype:l.a.DOUBLE,componentsPerAttribute:3,values:w}),y.x=.5*t,y.y=Math.max(n,i);var j=new r.a(s.a.ZERO,o.a.magnitude(y));if(Object(d.a)(e._offsetAttribute)){t=w.length;var P=new Uint8Array(t/3),D=e._offsetAttribute===_.a.NONE?0:1;Object(a.a)(P,D),S.applyOffset=new m.a({componentDatatype:l.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:P})}return new p.a({attributes:S,indices:A,primitiveType:b.a.LINES,boundingSphere:j,offsetAttribute:e._offsetAttribute})}},t.a=n},"2g+t":function(e,t,i){"use strict";var n={NONE:0,TOP:1,ALL:2};t.a=Object.freeze(n)},"2kyc":function(e,t,i){"use strict";function n(e,t){if(e=Object(r.a)(e,0),(t=Object(r.a)(t,Number.MAX_VALUE))<=e)throw new s.a("far distance must be greater than near distance.");this.value=new Float32Array([e,t])}var a=i("YCZg"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm");Object.defineProperties(n.prototype,{componentDatatype:{get:function(){return a.a.FLOAT}},componentsPerAttribute:{get:function(){return 2}},normalize:{get:function(){return!1}}}),n.fromDistanceDisplayCondition=function(e){if(!Object(o.a)(e))throw new s.a("distanceDisplayCondition is required.");if(e.far<=e.near)throw new s.a("distanceDisplayCondition.far distance must be greater than distanceDisplayCondition.near distance.");return new n(e.near,e.far)},n.toValue=function(e,t){if(!Object(o.a)(e))throw new s.a("distanceDisplayCondition is required.");return Object(o.a)(t)?(t[0]=e.near,t[1]=e.far,t):new Float32Array([e.near,e.far])},t.a=n},"2mmy":function(e,t,i){"use strict";function n(e){r.a.defined("container",e),e=Object(u.a)(e);var t=document.createElement("div");t.className="cesium-infoBox",t.setAttribute("data-bind",'css: { "cesium-infoBox-visible" : showInfo, "cesium-infoBox-bodyless" : _bodyless }'),e.appendChild(t);var i=document.createElement("div");i.className="cesium-infoBox-title",i.setAttribute("data-bind","text: titleText"),t.appendChild(i);var n=document.createElement("button");n.type="button",n.className="cesium-button cesium-infoBox-camera",n.setAttribute("data-bind",'attr: { title: "Focus camera on object" },click: function () { cameraClicked.raiseEvent(this); },enable: enableCamera,cesiumSvgPath: { path: cameraIconPath, width: 32, height: 32 }'),t.appendChild(n);var c=document.createElement("button");c.type="button",c.className="cesium-infoBox-close",c.setAttribute("data-bind","click: function () { closeClicked.raiseEvent(this); }"),c.innerHTML="&times;",t.appendChild(c);var f=document.createElement("iframe");f.className="cesium-infoBox-iframe",f.setAttribute("sandbox","allow-same-origin allow-popups allow-forms"),f.setAttribute("data-bind","style : { maxHeight : maxHeightOffset(40) }"),f.setAttribute("allowfullscreen",!0),t.appendChild(f);var p=new d.a;l.a.applyBindings(p,t),this._container=e,this._element=t,this._frame=f,this._viewModel=p,this._descriptionSubscription=void 0;var m=this;f.addEventListener("load",function(){var e=f.contentDocument,i=e.createElement("link");i.href=Object(a.a)("Widgets/InfoBox/InfoBoxDescription.css"),i.rel="stylesheet",i.type="text/css";var n=e.createElement("div");n.className="cesium-infoBox-description",e.head.appendChild(i),e.body.appendChild(n),m._descriptionSubscription=Object(h.a)(p,"description",function(e){f.style.height="5px",n.innerHTML=e;var i=null,a=n.firstElementChild;if(null!==a&&1===n.childNodes.length){var r=window.getComputedStyle(a);if(null!==r){var c=r["background-color"],l=o.a.fromCssColorString(c);Object(s.a)(l)&&0!==l.alpha&&(i=r["background-color"])}}t.style["background-color"]=i;var u=n.getBoundingClientRect().height;f.style.height=u+"px"})}),f.setAttribute("src","about:blank")}var a=i("CcV0"),r=i("5F4X"),o=i("6F0S"),s=i("xC6Q"),c=i("6sr8"),l=i("PKIF"),u=i("k6tp"),h=i("qy+6"),d=i("QMGb");Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}},frame:{get:function(){return this._frame}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){var e=this._container;return l.a.cleanNode(this._element),e.removeChild(this._element),Object(s.a)(this._descriptionSubscription)&&this._descriptionSubscription.dispose(),Object(c.a)(this)},t.a=n},"376T":function(e,t,i){"use strict";var n={VARIABLE:0,UNARY:1,BINARY:2,TERNARY:3,CONDITIONAL:4,MEMBER:5,FUNCTION_CALL:6,ARRAY:7,REGEX:8,VARIABLE_IN_STRING:9,LITERAL_NULL:10,LITERAL_BOOLEAN:11,LITERAL_NUMBER:12,LITERAL_STRING:13,LITERAL_COLOR:14,LITERAL_VECTOR:15,LITERAL_REGEX:16,LITERAL_UNDEFINED:17,BUILTIN_VARIABLE:18};t.a=Object.freeze(n)},"37bU":function(e,t,i){"use strict";function n(e,t){if(!Object(r.a)(e))throw new o.a("command is required.");this._command=e,t=Object(a.a)(t,a.a.EMPTY_OBJECT),this.toggled=Object(a.a)(t.toggled,!1),this.tooltip=Object(a.a)(t.tooltip,""),s.a.track(this,["toggled","tooltip"])}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("PKIF");Object.defineProperties(n.prototype,{command:{get:function(){return this._command}}}),t.a=n},"3Eo+":function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},"3FSN":function(e,t,i){"use strict";/**
@license
topojson - https://github.com/topojson/topojson

Copyright (c) 2012-2016, Michael Bostock
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* The name Michael Bostock may not be used to endorse or promote products
  derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
**/
var n={};!function(t,i){i("object"==typeof exports&&void 0!==e?exports:t.topojson=t.topojson||{})}(n,function(e){function t(e,t){var n=t.id,a=t.bbox,r=null==t.properties?{}:t.properties,o=i(e,t);return null==n&&null==a?{type:"Feature",properties:r,geometry:o}:null==a?{type:"Feature",id:n,properties:r,geometry:o}:{type:"Feature",id:n,bbox:a,properties:r,geometry:o}}function i(e,t){function i(e,t){t.length&&t.pop();for(var i=l[e<0?~e:e],n=0,a=i.length;n<a;++n)t.push(c(i[n],n));e<0&&P(t,a)}function n(e){return c(e)}function a(e){for(var t=[],n=0,a=e.length;n<a;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function r(e){for(var t=a(e);t.length<4;)t.push(t[0]);return t}function o(e){return e.map(r)}function s(e){var t,i=e.type;switch(i){case"GeometryCollection":return{type:i,geometries:e.geometries.map(s)};case"Point":t=n(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(n);break;case"LineString":t=a(e.arcs);break;case"MultiLineString":t=e.arcs.map(a);break;case"Polygon":t=o(e.arcs);break;case"MultiPolygon":t=e.arcs.map(o);break;default:return null}return{type:i,coordinates:t}}var c=S(e.transform),l=e.arcs;return s(t)}function n(e,t,i){var n,r,o;if(arguments.length>1)n=a(e,t,i);else for(r=0,n=new Array(o=e.arcs.length);r<o;++r)n[r]=r;return{type:"MultiLineString",arcs:I(e,n)}}function a(e,t,i){function n(e){var t=e<0?~e:e;(u[t]||(u[t]=[])).push({i:e,g:c})}function a(e){e.forEach(n)}function r(e){e.forEach(a)}function o(e){e.forEach(r)}function s(e){switch(c=e,e.type){case"GeometryCollection":e.geometries.forEach(s);break;case"LineString":a(e.arcs);break;case"MultiLineString":case"Polygon":r(e.arcs);break;case"MultiPolygon":o(e.arcs)}}var c,l=[],u=[];return s(t),u.forEach(null==i?function(e){l.push(e[0].i)}:function(e){i(e[0].g,e[e.length-1].g)&&l.push(e[0].i)}),l}function r(e){for(var t,i=-1,n=e.length,a=e[n-1],r=0;++i<n;)t=a,a=e[i],r+=t[0]*a[1]-t[1]*a[0];return Math.abs(r)}function o(e,t){function n(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(n);break;case"Polygon":a(e.arcs);break;case"MultiPolygon":e.arcs.forEach(a)}}function a(e){e.forEach(function(t){t.forEach(function(t){(s[t=t<0?~t:t]||(s[t]=[])).push(e)})}),c.push(e)}function o(t){return r(i(e,{type:"Polygon",arcs:[t]}).coordinates[0])}var s={},c=[],l=[];return t.forEach(n),c.forEach(function(e){if(!e._){var t=[],i=[e];for(e._=1,l.push(t);e=i.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){s[e<0?~e:e].forEach(function(e){e._||(e._=1,i.push(e))})})})}}),c.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:l.map(function(t){var i,n=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){s[e<0?~e:e].length<2&&n.push(e)})})}),n=I(e,n),(i=n.length)>1)for(var a,r,c=1,l=o(n[0]);c<i;++c)(a=o(n[c]))>l&&(r=n[0],n[0]=n[c],n[c]=r,l=a);return n})}}function s(e,t,i,n){c(e,t,i),c(e,t,t+n),c(e,t+n,i)}function c(e,t,i){for(var n,a=t+(i---t>>1);t<a;++t,--i)n=e[t],e[t]=e[i],e[i]=n}function l(e){return null==e?{type:null}:("FeatureCollection"===e.type?u:"Feature"===e.type?h:d)(e)}function u(e){var t={type:"GeometryCollection",geometries:e.features.map(h)};return null!=e.bbox&&(t.bbox=e.bbox),t}function h(e){var t,i=d(e.geometry);null!=e.id&&(i.id=e.id),null!=e.bbox&&(i.bbox=e.bbox);for(t in e.properties){i.properties=e.properties;break}return i}function d(e){if(null==e)return{type:null};var t="GeometryCollection"===e.type?{type:"GeometryCollection",geometries:e.geometries.map(d)}:"Point"===e.type||"MultiPoint"===e.type?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return null!=e.bbox&&(t.bbox=e.bbox),t}function f(e){var t,i=e[0],n=e[1];return n<i&&(t=i,i=n,n=t),i+31*n}function p(e,t){var i,n=e[0],a=e[1],r=t[0],o=t[1];return a<n&&(i=n,n=a,a=i),o<r&&(i=r,r=o,o=i),n===r&&a===o}function m(){return!0}function g(e){return e}function _(e){return null!=e.type}function v(e){var t=e[0],i=e[1],n=e[2];return Math.abs((t[0]-n[0])*(i[1]-t[1])-(t[0]-i[0])*(n[1]-t[1]))/2}function b(e){for(var t,i=-1,n=e.length,a=e[n-1],r=0;++i<n;)t=a,a=e[i],r+=t[0]*a[1]-t[1]*a[0];return Math.abs(r)/2}function y(e,t){return e[1][2]-t[1][2]}function O(e){return[e[0],e[1],0]}function w(e,t){if(i=e.length){if((t=+t)<=0||i<2)return e[0];if(t>=1)return e[i-1];var i,n=(i-1)*t,a=Math.floor(n),r=e[a];return r+(e[a+1]-r)*(n-a)}}function x(e,t){return t-e}function E(e,t){for(var i,n,a,r=0,o=e.length,s=0,c=e[t?r++:o-1],l=c[0]*de,u=c[1]*de/2+he,h=me(u),d=ge(u);r<o;++r){c=e[r],i=l,l=c[0]*de,u=c[1]*de/2+he,n=h,h=me(u),a=d,d=ge(u);var f=l-i,p=f>=0?1:-1,m=p*f,g=a*d,_=n*h+g*me(m),v=g*p*ge(m);s+=pe(v,_)}return s}function T(e,t){var i=E(e,!0);return t&&(i*=-1),2*(i<0?ue+i:i)}function A(e){return 2*fe(E(e,!1))}var C=function(e){return e},S=function(e){if(null==e)return C;var t,i,n=e.scale[0],a=e.scale[1],r=e.translate[0],o=e.translate[1];return function(e,s){s||(t=i=0);var c=2,l=e.length,u=new Array(l);for(u[0]=(t+=e[0])*n+r,u[1]=(i+=e[1])*a+o;c<l;)u[c]=e[c],++c;return u}},j=function(e){function t(e){e=a(e),e[0]<r&&(r=e[0]),e[0]>s&&(s=e[0]),e[1]<o&&(o=e[1]),e[1]>c&&(c=e[1])}function i(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(i);break;case"Point":t(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(t)}}var n,a=S(e.transform),r=1/0,o=r,s=-r,c=-r;e.arcs.forEach(function(e){for(var t,i=-1,n=e.length;++i<n;)t=a(e[i],i),t[0]<r&&(r=t[0]),t[0]>s&&(s=t[0]),t[1]<o&&(o=t[1]),t[1]>c&&(c=t[1])});for(n in e.objects)i(e.objects[n]);return[r,o,s,c]},P=function(e,t){for(var i,n=e.length,a=n-t;a<--n;)i=e[a],e[a++]=e[n],e[n]=i},D=function(e,i){return"GeometryCollection"===i.type?{type:"FeatureCollection",features:i.geometries.map(function(i){return t(e,i)})}:t(e,i)},I=function(e,t){function i(t){var i,n=e.arcs[t<0?~t:t],a=n[0];return e.transform?(i=[0,0],n.forEach(function(e){i[0]+=e[0],i[1]+=e[1]})):i=n[n.length-1],t<0?[i,a]:[a,i]}function n(e,t){for(var i in e){var n=e[i];delete t[n.start],delete n.start,delete n.end,n.forEach(function(e){a[e<0?~e:e]=1}),s.push(n)}}var a={},r={},o={},s=[],c=-1;return t.forEach(function(i,n){var a,r=e.arcs[i<0?~i:i];r.length<3&&!r[1][0]&&!r[1][1]&&(a=t[++c],t[c]=i,t[n]=a)}),t.forEach(function(e){var t,n,a=i(e),s=a[0],c=a[1];if(t=o[s])if(delete o[t.end],t.push(e),t.end=c,n=r[c]){delete r[n.start];var l=n===t?t:t.concat(n);r[l.start=t.start]=o[l.end=n.end]=l}else r[t.start]=o[t.end]=t;else if(t=r[c])if(delete r[t.start],t.unshift(e),t.start=s,n=o[s]){delete o[n.end];var u=n===t?t:n.concat(t);r[u.start=n.start]=o[u.end=t.end]=u}else r[t.start]=o[t.end]=t;else t=[e],r[t.start=s]=o[t.end=c]=t}),n(o,r),n(r,o),t.forEach(function(e){a[e<0?~e:e]||s.push([e])}),s},R=function(e){return i(e,n.apply(this,arguments))},M=function(e){return i(e,o.apply(this,arguments))},L=function(e,t){for(var i=0,n=e.length;i<n;){var a=i+n>>>1;e[a]<t?i=a+1:n=a}return i},N=function(e){function t(e,t){e.forEach(function(e){e<0&&(e=~e);var i=a[e];i?i.push(t):a[e]=[t]})}function i(e,i){e.forEach(function(e){t(e,i)})}function n(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){n(e,t)}):e.type in o&&o[e.type](e.arcs,t)}var a={},r=e.map(function(){return[]}),o={LineString:t,MultiLineString:i,Polygon:i,MultiPolygon:function(e,t){e.forEach(function(e){i(e,t)})}};e.forEach(n);for(var s in a)for(var c=a[s],l=c.length,u=0;u<l;++u)for(var h=u+1;h<l;++h){var d,f=c[u],p=c[h];(d=r[f])[s=L(d,p)]!==p&&d.splice(s,0,p),(d=r[p])[s=L(d,f)]!==f&&d.splice(s,0,f)}return r},F=function(e){if(null==e)return C;var t,i,n=e.scale[0],a=e.scale[1],r=e.translate[0],o=e.translate[1];return function(e,s){s||(t=i=0);var c=2,l=e.length,u=new Array(l),h=Math.round((e[0]-r)/n),d=Math.round((e[1]-o)/a);for(u[0]=h-t,t=h,u[1]=d-i,i=d;c<l;)u[c]=e[c],++c;return u}},z=function(e,t){function i(e){return d(e)}function n(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(n)};break;case"Point":t={type:"Point",coordinates:i(e.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:e.coordinates.map(i)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function a(e){var t,i=0,n=1,a=e.length,r=new Array(a);for(r[0]=d(e[0],0);++i<a;)((t=d(e[i],i))[0]||t[1])&&(r[n++]=t);return 1===n&&(r[n++]=[0,0]),r.length=n,r}if(e.transform)throw new Error("already quantized");if(t&&t.scale)u=e.bbox;else{if(!((r=Math.floor(t))>=2))throw new Error("n must be ≥2");u=e.bbox||j(e);var r,o=u[0],s=u[1],c=u[2],l=u[3];t={scale:[c-o?(c-o)/(r-1):1,l-s?(l-s)/(r-1):1],translate:[o,s]}}var u,h,d=F(t),f=e.objects,p={};for(h in f)p[h]=n(f[h]);return{type:"Topology",bbox:u,transform:t,objects:p,arcs:e.arcs.map(a)}},B=function(e){function t(e){null!=e&&l.hasOwnProperty(e.type)&&l[e.type](e)}function i(e){var t=e[0],i=e[1];t<r&&(r=t),t>s&&(s=t),i<o&&(o=i),i>c&&(c=i)}function n(e){e.forEach(i)}function a(e){e.forEach(n)}var r=1/0,o=1/0,s=-1/0,c=-1/0,l={GeometryCollection:function(e){e.geometries.forEach(t)},Point:function(e){i(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(i)},LineString:function(e){n(e.arcs)},MultiLineString:function(e){e.arcs.forEach(n)},Polygon:function(e){e.arcs.forEach(n)},MultiPolygon:function(e){e.arcs.forEach(a)}};for(var u in e)t(e[u]);return s>=r&&c>=o?[r,o,s,c]:void 0},k=function(e,t,i,n,a){function r(n){for(var r=t(n)&l,o=c[r],s=0;o!=a;){if(i(o,n))return!0;if(++s>=e)throw new Error("full hashset");o=c[r=r+1&l]}return c[r]=n,!0}function o(n){for(var r=t(n)&l,o=c[r],s=0;o!=a;){if(i(o,n))return!0;if(++s>=e)break;o=c[r=r+1&l]}return!1}function s(){for(var e=[],t=0,i=c.length;t<i;++t){var n=c[t];n!=a&&e.push(n)}return e}3===arguments.length&&(n=Array,a=null);for(var c=new n(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),l=e-1,u=0;u<e;++u)c[u]=a;return{add:r,has:o,values:s}},U=function(e,t,i,n,a,r){function o(n,r){for(var o=t(n)&d,s=u[o],c=0;s!=a;){if(i(s,n))return h[o]=r;if(++c>=e)throw new Error("full hashmap");s=u[o=o+1&d]}return u[o]=n,h[o]=r,r}function s(n,r){for(var o=t(n)&d,s=u[o],c=0;s!=a;){if(i(s,n))return h[o];if(++c>=e)throw new Error("full hashmap");s=u[o=o+1&d]}return u[o]=n,h[o]=r,r}function c(n,r){for(var o=t(n)&d,s=u[o],c=0;s!=a;){if(i(s,n))return h[o];if(++c>=e)break;s=u[o=o+1&d]}return r}function l(){for(var e=[],t=0,i=u.length;t<i;++t){var n=u[t];n!=a&&e.push(n)}return e}3===arguments.length&&(n=r=Array,a=null);for(var u=new n(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),h=new r(e),d=e-1,f=0;f<e;++f)u[f]=a;return{set:o,maybeSet:s,get:c,keys:l}},V=function(e,t){return e[0]===t[0]&&e[1]===t[1]},H=new ArrayBuffer(16),q=new Uint32Array(H),W=function(e){var t=q[0]^q[1];return 2147483647&(t=t<<5^t>>7^q[2]^q[3])},G=function(e){function t(e,t,i,n){if(f[i]!==e){f[i]=e;var a=p[i];if(a>=0){var r=m[i];a===t&&r===n||a===n&&r===t||(++_,g[i]=1)}else p[i]=t,m[i]=n}}function i(e){return W(l[e])}function n(e,t){return V(l[e],l[t])}var a,r,o,s,c,l=e.coordinates,u=e.lines,h=e.rings,d=function(){for(var e=U(1.4*l.length,i,n,Int32Array,-1,Int32Array),t=new Int32Array(l.length),a=0,r=l.length;a<r;++a)t[a]=e.maybeSet(a,a);return t}(),f=new Int32Array(l.length),p=new Int32Array(l.length),m=new Int32Array(l.length),g=new Int8Array(l.length),_=0;for(a=0,r=l.length;a<r;++a)f[a]=p[a]=m[a]=-1;for(a=0,r=u.length;a<r;++a){var v=u[a],b=v[0],y=v[1];for(s=d[b],c=d[++b],++_,g[s]=1;++b<=y;)t(a,o=s,s=c,c=d[b]);++_,g[c]=1}for(a=0,r=l.length;a<r;++a)f[a]=-1;for(a=0,r=h.length;a<r;++a){var O=h[a],w=O[0]+1,x=O[1];for(o=d[x-1],s=d[w-1],c=d[w],t(a,o,s,c);++w<=x;)t(a,o=s,s=c,c=d[w])}f=p=m=null;var E,T=k(1.4*_,W,V);for(a=0,r=l.length;a<r;++a)g[E=d[a]]&&T.add(l[E]);return T},Y=function(e){var t,i,n,a=G(e),r=e.coordinates,o=e.lines,c=e.rings;for(i=0,n=o.length;i<n;++i)for(var l=o[i],u=l[0],h=l[1];++u<h;)a.has(r[u])&&(t={0:u,1:l[1]},l[1]=u,l=l.next=t);for(i=0,n=c.length;i<n;++i)for(var d=c[i],f=d[0],p=f,m=d[1],g=a.has(r[f]);++p<m;)a.has(r[p])&&(g?(t={0:p,1:d[1]},d[1]=p,d=d.next=t):(s(r,f,m,m-p),r[m]=r[f],g=!0,p=f));return e},X=function(e){function t(e){var t,a,r,o,s,c,l,u;if(r=m.get(t=h[e[0]]))for(l=0,u=r.length;l<u;++l)if(o=r[l],i(o,e))return e[0]=o[0],void(e[1]=o[1]);if(s=m.get(a=h[e[1]]))for(l=0,u=s.length;l<u;++l)if(c=s[l],n(c,e))return e[1]=c[0],void(e[0]=c[1]);r?r.push(e):m.set(t,[e]),s?s.push(e):m.set(a,[e]),g.push(e)}function i(e,t){var i=e[0],n=t[0],a=e[1];if(i-a!=n-t[1])return!1;for(;i<=a;++i,++n)if(!V(h[i],h[n]))return!1;return!0}function n(e,t){var i=e[0],n=t[0],a=e[1],r=t[1];if(i-a!=n-r)return!1;for(;i<=a;++i,--r)if(!V(h[i],h[r]))return!1;return!0}function a(e,t){var i=e[0],n=t[0],a=e[1],r=t[1],s=a-i;if(s!==r-n)return!1;for(var c=o(e),l=o(t),u=0;u<s;++u)if(!V(h[i+(u+c)%s],h[n+(u+l)%s]))return!1;return!0}function r(e,t){var i=e[0],n=t[0],a=e[1],r=t[1],s=a-i;if(s!==r-n)return!1;for(var c=o(e),l=s-o(t),u=0;u<s;++u)if(!V(h[i+(u+c)%s],h[r-(u+l)%s]))return!1;return!0}function o(e){for(var t=e[0],i=e[1],n=t,a=n,r=h[n];++n<i;){var o=h[n];(o[0]<r[0]||o[0]===r[0]&&o[1]<r[1])&&(a=n,r=o)}return a-t}var s,c,l,u,h=e.coordinates,d=e.lines,f=e.rings,p=d.length+f.length;for(delete e.lines,delete e.rings,l=0,u=d.length;l<u;++l)for(s=d[l];s=s.next;)++p;for(l=0,u=f.length;l<u;++l)for(c=f[l];c=c.next;)++p;var m=U(2*p*1.4,W,V),g=e.arcs=[];for(l=0,u=d.length;l<u;++l){s=d[l];do{t(s)}while(s=s.next)}for(l=0,u=f.length;l<u;++l)if(c=f[l],c.next)do{t(c)}while(c=c.next);else!function(e){var t,i,n,s,c;if(i=m.get(t=h[e[0]]))for(s=0,c=i.length;s<c;++s){if(n=i[s],a(n,e))return e[0]=n[0],void(e[1]=n[1]);if(r(n,e))return e[0]=n[1],void(e[1]=n[0])}if(i=m.get(t=h[e[0]+o(e)]))for(s=0,c=i.length;s<c;++s){if(n=i[s],a(n,e))return e[0]=n[0],void(e[1]=n[1]);if(r(n,e))return e[0]=n[1],void(e[1]=n[0])}i?i.push(e):m.set(t,[e]),g.push(e)}(c);return e},Q=function(e){for(var t=-1,i=e.length;++t<i;){for(var n,a,r=e[t],o=0,s=1,c=r.length,l=r[0],u=l[0],h=l[1];++o<c;)l=r[o],n=l[0],a=l[1],n===u&&a===h||(r[s++]=[n-u,a-h],u=n,h=a);1===s&&(r[s++]=[0,0]),r.length=s}return e},J=function(e){function t(e){e&&l.hasOwnProperty(e.type)&&l[e.type](e)}function i(e){for(var t=0,i=e.length;t<i;++t)c[++r]=e[t];var n={0:r-i+1,1:r};return o.push(n),n}function n(e){for(var t=0,i=e.length;t<i;++t)c[++r]=e[t];var n={0:r-i+1,1:r};return s.push(n),n}function a(e){return e.map(n)}var r=-1,o=[],s=[],c=[],l={GeometryCollection:function(e){e.geometries.forEach(t)},LineString:function(e){e.arcs=i(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(i)},Polygon:function(e){e.arcs=e.arcs.map(n)},MultiPolygon:function(e){e.arcs=e.arcs.map(a)}};for(var u in e)t(e[u]);return{type:"Topology",coordinates:c,lines:o,rings:s,objects:e}},Z=function(e){var t,i={};for(t in e)i[t]=l(e[t]);return i},K=function(e,t,i){function n(e){return[Math.round((e[0]-l)*f),Math.round((e[1]-u)*p)]}function a(e,t){for(var i,n,a,r,o,s=-1,c=0,h=e.length,d=new Array(h);++s<h;)i=e[s],r=Math.round((i[0]-l)*f),o=Math.round((i[1]-u)*p),r===n&&o===a||(d[c++]=[n=r,a=o]);for(d.length=c;c<t;)c=d.push([d[0][0],d[0][1]]);return d}function r(e){return a(e,2)}function o(e){return a(e,4)}function s(e){return e.map(o)}function c(e){null!=e&&m.hasOwnProperty(e.type)&&m[e.type](e)}var l=t[0],u=t[1],h=t[2],d=t[3],f=h-l?(i-1)/(h-l):1,p=d-u?(i-1)/(d-u):1,m={GeometryCollection:function(e){e.geometries.forEach(c)},Point:function(e){e.coordinates=n(e.coordinates)},MultiPoint:function(e){e.coordinates=e.coordinates.map(n)},LineString:function(e){e.arcs=r(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(r)},Polygon:function(e){e.arcs=s(e.arcs)},MultiPolygon:function(e){e.arcs=e.arcs.map(s)}};for(var g in e)c(e[g]);return{scale:[1/f,1/p],translate:[l,u]}},$=function(e,t){function i(e){e&&u.hasOwnProperty(e.type)&&u[e.type](e)}function n(e){var t=[];do{var i=l.get(e);t.push(e[0]<e[1]?i:~i)}while(e=e.next);return t}function a(e){return e.map(n)}var r=B(e=Z(e)),o=t>0&&r&&K(e,r,t),s=X(Y(J(e))),c=s.coordinates,l=U(1.4*s.arcs.length,f,p);e=s.objects,s.bbox=r,s.arcs=s.arcs.map(function(e,t){return l.set(e,t),c.slice(e[0],e[1]+1)}),delete s.coordinates,c=null;var u={GeometryCollection:function(e){e.geometries.forEach(i)},LineString:function(e){e.arcs=n(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(n)},Polygon:function(e){e.arcs=e.arcs.map(n)},MultiPolygon:function(e){e.arcs=e.arcs.map(a)}};for(var h in e)i(e[h]);return o&&(s.transform=o,s.arcs=Q(s.arcs)),s},ee=function(e){function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":n(e.arcs);break;case"MultiLineString":case"Polygon":e.arcs.forEach(n);break;case"MultiPolygon":e.arcs.forEach(a)}}function i(e){e<0&&(e=~e),g[e]||(g[e]=1,++_)}function n(e){e.forEach(i)}function a(e){e.forEach(n)}function r(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(r)};break;case"LineString":t={type:"LineString",arcs:s(e.arcs)};break;case"MultiLineString":t={type:"MultiLineString",arcs:e.arcs.map(s)};break;case"Polygon":t={type:"Polygon",arcs:e.arcs.map(s)};break;case"MultiPolygon":t={type:"MultiPolygon",arcs:e.arcs.map(c)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function o(e){return e<0?~g[~e]:g[e]}function s(e){return e.map(o)}function c(e){return e.map(s)}var l,u,h=e.objects,d={},f=e.arcs,p=f.length,m=-1,g=new Array(p),_=0,v=-1;for(u in h)t(h[u]);for(l=new Array(_);++m<p;)g[m]&&(g[m]=++v,l[v]=f[m]);for(u in h)d[u]=r(h[u]);return{type:"Topology",bbox:e.bbox,transform:e.transform,objects:d,arcs:l}},te=function(e,t){function i(e){var t,a;switch(e.type){case"Polygon":a=n(e.arcs),t=a?{type:"Polygon",arcs:a}:{type:null};break;case"MultiPolygon":a=e.arcs.map(n).filter(g),t=a.length?{type:"MultiPolygon",arcs:a}:{type:null};break;case"GeometryCollection":a=e.geometries.map(i).filter(_),t=a.length?{type:"GeometryCollection",geometries:a}:{type:null};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function n(e){return e.length&&a(e[0])?[e[0]].concat(e.slice(1).filter(r)):null}function a(e){return t(e,!1)}function r(e){return t(e,!0)}var o,s=e.objects,c={};null==t&&(t=m);for(o in s)c[o]=i(s[o]);return ee({type:"Topology",bbox:e.bbox,transform:e.transform,objects:c,arcs:e.arcs})},ie=function(e){function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":i(e.arcs);break;case"MultiPolygon":e.arcs.forEach(i)}}function i(e){for(var t=0,i=e.length;t<i;++t,++r)for(var n=e[t],o=0,s=n.length;o<s;++o){var c=n[o];c<0&&(c=~c);var l=a[c];null==l?a[c]=r:l!==r&&(a[c]=-1)}}var n,a=new Array(e.arcs.length),r=0;for(n in e.objects)t(e.objects[n]);return function(e){for(var t,i=0,n=e.length;i<n;++i)if(-1===a[(t=e[i])<0?~t:t])return!0;return!1}},ne=function(e,t,i){return t=null==t?Number.MIN_VALUE:+t,null==i&&(i=b),function(n,a){return i(D(e,{type:"Polygon",arcs:[n]}).geometry.coordinates[0],a)>=t}},ae=function(e,t,i){var n=ie(e),a=ne(e,t,i);return function(e,t){return n(e,t)||a(e,t)}},re=function(){function e(e,t){for(;t>0;){var i=(t+1>>1)-1,a=n[i];if(y(e,a)>=0)break;n[a._=t]=a,n[e._=t=i]=e}}function t(e,t){for(;;){var i=t+1<<1,r=i-1,o=t,s=n[o];if(r<a&&y(n[r],s)<0&&(s=n[o=r]),i<a&&y(n[i],s)<0&&(s=n[o=i]),o===t)break;n[s._=t]=s,n[e._=t=o]=e}}var i={},n=[],a=0;return i.push=function(t){return e(n[t._=a]=t,a++),a},i.pop=function(){if(!(a<=0)){var e,i=n[0];return--a>0&&(e=n[a],t(n[e._=0]=e,0)),i}},i.remove=function(i){var r,o=i._;if(n[o]===i)return o!==--a&&(r=n[a],(y(r,i)<0?e:t)(n[r._=o]=r,o)),o},i},oe=function(e,t){function i(e){a.remove(e),e[1][2]=t(e),a.push(e)}var n=e.transform?S(e.transform):O,a=re();null==t&&(t=v);var r=e.arcs.map(function(e){var r,o,s,c=[],l=0;for(e=e.map(n),o=1,s=e.length-1;o<s;++o)r=[e[o-1],e[o],e[o+1]],r[1][2]=t(r),c.push(r),a.push(r);for(e[0][2]=e[s][2]=1/0,o=0,s=c.length;o<s;++o)r=c[o],r.previous=c[o-1],r.next=c[o+1];for(;r=a.pop();){var u=r.previous,h=r.next;r[1][2]<l?r[1][2]=l:l=r[1][2],u&&(u.next=h,u[2]=r[2],i(u)),h&&(h.previous=u,h[0]=r[0],i(h))}return e});return{type:"Topology",bbox:e.bbox,objects:e.objects,arcs:r}},se=function(e,t){var i=[];return e.arcs.forEach(function(e){e.forEach(function(e){isFinite(e[2])&&i.push(e[2])})}),i.length&&w(i.sort(x),t)},ce=function(e,t){t=null==t?Number.MIN_VALUE:+t;var i=e.arcs.map(function(e){for(var i,n=-1,a=0,r=e.length,o=new Array(r);++n<r;)(i=e[n])[2]>=t&&(o[a++]=[i[0],i[1]]);return o.length=a,o});return{type:"Topology",transform:e.transform,bbox:e.bbox,objects:e.objects,arcs:i}},le=Math.PI,ue=2*le,he=le/4,de=le/180,fe=Math.abs,pe=Math.atan2,me=Math.cos,ge=Math.sin;e.bbox=j,e.feature=D,e.mesh=R,e.meshArcs=n,e.merge=M,e.mergeArcs=o,e.neighbors=N,e.quantize=z,e.transform=S,e.untransform=F,e.topology=$,e.filter=te,e.filterAttached=ie,e.filterAttachedWeight=ae,e.filterWeight=ne,e.planarRingArea=b,e.planarTriangleArea=v,e.presimplify=oe,e.quantile=se,e.simplify=ce,e.sphericalRingArea=T,e.sphericalTriangleArea=A,Object.defineProperty(e,"__esModule",{value:!0})}),t.a=n.topojson},"3ICp":function(e,t,i){"use strict";t.a="/**\n * The constant identifier for the Columbus View {@link SceneMode}\n *\n * @name czm_sceneModeColumbusView\n * @glslConstant\n * @see czm_sceneMode\n * @see czm_sceneMode2D\n * @see czm_sceneMode3D\n * @see czm_sceneModeMorphing\n */\nconst float czm_sceneModeColumbusView = 1.0;\n"},"3IRH":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"3LRE":function(e,t,i){"use strict";/**
 * @license
 * Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *  * Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *  * Neither the name of NVIDIA CORPORATION nor the names of its
 *    contributors may be used to endorse or promote products derived
 *    from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
t.a="/**\n * @license\n * Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of NVIDIA CORPORATION nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n// NVIDIA GameWorks Graphics Samples GitHub link: https://github.com/NVIDIAGameWorks/GraphicsSamples\n// Original FXAA 3.11 shader link: https://github.com/NVIDIAGameWorks/GraphicsSamples/blob/master/samples/es3-kepler/FXAA/FXAA3_11.h\n\n// Steps used to integrate into Cesium:\n// * The following defines are set:\n//       #define FXAA_PC 1\n//       #define FXAA_WEBGL_1 1\n//       #define FXAA_GREEN_AS_LUMA 1\n//       #define FXAA_EARLY_EXIT 1\n//       #define FXAA_GLSL_120 1\n// * All other preprocessor directives besides the FXAA_QUALITY__P* directives were removed.\n// * Double underscores are invalid for preprocessor directives so replace them with a single underscore. Replace\n//   /FXAA_QUALITY__P(.*)/g with /FXAA_QUALITY__P$1/.\n// * There are no implicit conversions from ivec* to vec* so replace:\n//       #define FxaaInt2 ivec2\n//           with\n//       #define FxaaInt2 vec2\n// * The texture2DLod function is only available in vertex shaders so replace:\n//       #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)\n//       #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)\n//           with\n//       #define FxaaTexTop(t, p) texture2D(t, p)\n//       #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r))\n// * FXAA_QUALITY_PRESET is prepended in the javascript code. We may want to expose that setting in the future.\n// * The following parameters to FxaaPixelShader are unused and can be removed:\n//       fxaaConsolePosPos\n//       fxaaConsoleRcpFrameOpt\n//       fxaaConsoleRcpFrameOpt2\n//       fxaaConsole360RcpFrameOpt2\n//       fxaaConsoleEdgeSharpness\n//       fxaaConsoleEdgeThreshold\n//       fxaaConsoleEdgeThresholdMi\n//       fxaaConsole360ConstDir\n\n//\n// Choose the quality preset.\n// This needs to be compiled into the shader as it effects code.\n// Best option to include multiple presets is to\n// in each shader define the preset, then include this file.\n//\n// OPTIONS\n// -----------------------------------------------------------------------\n// 10 to 15 - default medium dither (10=fastest, 15=highest quality)\n// 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)\n// 39       - no dither, very expensive\n//\n// NOTES\n// -----------------------------------------------------------------------\n// 12 = slightly faster then FXAA 3.9 and higher edge quality (default)\n// 13 = about same speed as FXAA 3.9 and better than 12\n// 23 = closest to FXAA 3.9 visually and performance wise\n//  _ = the lowest digit is directly related to performance\n// _  = the highest digit is directly related to style\n//\n//#define FXAA_QUALITY_PRESET 12\n\n\n#if (FXAA_QUALITY_PRESET == 10)\n    #define FXAA_QUALITY_PS 3\n    #define FXAA_QUALITY_P0 1.5\n    #define FXAA_QUALITY_P1 3.0\n    #define FXAA_QUALITY_P2 12.0\n#endif\n#if (FXAA_QUALITY_PRESET == 11)\n    #define FXAA_QUALITY_PS 4\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 3.0\n    #define FXAA_QUALITY_P3 12.0\n#endif\n#if (FXAA_QUALITY_PRESET == 12)\n    #define FXAA_QUALITY_PS 5\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 4.0\n    #define FXAA_QUALITY_P4 12.0\n#endif\n#if (FXAA_QUALITY_PRESET == 13)\n    #define FXAA_QUALITY_PS 6\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 4.0\n    #define FXAA_QUALITY_P5 12.0\n#endif\n#if (FXAA_QUALITY_PRESET == 14)\n    #define FXAA_QUALITY_PS 7\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 4.0\n    #define FXAA_QUALITY_P6 12.0\n#endif\n#if (FXAA_QUALITY_PRESET == 15)\n    #define FXAA_QUALITY_PS 8\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 4.0\n    #define FXAA_QUALITY_P7 12.0\n#endif\n#if (FXAA_QUALITY_PRESET == 20)\n    #define FXAA_QUALITY_PS 3\n    #define FXAA_QUALITY_P0 1.5\n    #define FXAA_QUALITY_P1 2.0\n    #define FXAA_QUALITY_P2 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 21)\n    #define FXAA_QUALITY_PS 4\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 22)\n    #define FXAA_QUALITY_PS 5\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 23)\n    #define FXAA_QUALITY_PS 6\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 24)\n    #define FXAA_QUALITY_PS 7\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 3.0\n    #define FXAA_QUALITY_P6 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 25)\n    #define FXAA_QUALITY_PS 8\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 4.0\n    #define FXAA_QUALITY_P7 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 26)\n    #define FXAA_QUALITY_PS 9\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 4.0\n    #define FXAA_QUALITY_P8 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 27)\n    #define FXAA_QUALITY_PS 10\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 2.0\n    #define FXAA_QUALITY_P8 4.0\n    #define FXAA_QUALITY_P9 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 28)\n    #define FXAA_QUALITY_PS 11\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 2.0\n    #define FXAA_QUALITY_P8 2.0\n    #define FXAA_QUALITY_P9 4.0\n    #define FXAA_QUALITY_P10 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 29)\n    #define FXAA_QUALITY_PS 12\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 2.0\n    #define FXAA_QUALITY_P8 2.0\n    #define FXAA_QUALITY_P9 2.0\n    #define FXAA_QUALITY_P10 4.0\n    #define FXAA_QUALITY_P11 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 39)\n    #define FXAA_QUALITY_PS 12\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.0\n    #define FXAA_QUALITY_P2 1.0\n    #define FXAA_QUALITY_P3 1.0\n    #define FXAA_QUALITY_P4 1.0\n    #define FXAA_QUALITY_P5 1.5\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 2.0\n    #define FXAA_QUALITY_P8 2.0\n    #define FXAA_QUALITY_P9 2.0\n    #define FXAA_QUALITY_P10 4.0\n    #define FXAA_QUALITY_P11 8.0\n#endif\n\n#define FxaaBool bool\n#define FxaaFloat float\n#define FxaaFloat2 vec2\n#define FxaaFloat3 vec3\n#define FxaaFloat4 vec4\n#define FxaaHalf float\n#define FxaaHalf2 vec2\n#define FxaaHalf3 vec3\n#define FxaaHalf4 vec4\n#define FxaaInt2 vec2\n#define FxaaTex sampler2D\n\n#define FxaaSat(x) clamp(x, 0.0, 1.0)\n#define FxaaTexTop(t, p) texture2D(t, p)\n#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r))\n\nFxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\n\nFxaaFloat4 FxaaPixelShader(\n    //\n    // Use noperspective interpolation here (turn off perspective interpolation).\n    // {xy} = center of pixel\n    FxaaFloat2 pos,\n    //\n    // Input color texture.\n    // {rgb_} = color in linear or perceptual color space\n    // if (FXAA_GREEN_AS_LUMA == 0)\n    //     {___a} = luma in perceptual color space (not linear)\n    FxaaTex tex,\n    //\n    // Only used on FXAA Quality.\n    // This must be from a constant/uniform.\n    // {x_} = 1.0/screenWidthInPixels\n    // {_y} = 1.0/screenHeightInPixels\n    FxaaFloat2 fxaaQualityRcpFrame,\n    //\n    // Only used on FXAA Quality.\n    // This used to be the FXAA_QUALITY_SUBPIX define.\n    // It is here now to allow easier tuning.\n    // Choose the amount of sub-pixel aliasing removal.\n    // This can effect sharpness.\n    //   1.00 - upper limit (softer)\n    //   0.75 - default amount of filtering\n    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)\n    //   0.25 - almost off\n    //   0.00 - completely off\n    FxaaFloat fxaaQualitySubpix,\n    //\n    // Only used on FXAA Quality.\n    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.\n    // It is here now to allow easier tuning.\n    // The minimum amount of local contrast required to apply algorithm.\n    //   0.333 - too little (faster)\n    //   0.250 - low quality\n    //   0.166 - default\n    //   0.125 - high quality\n    //   0.063 - overkill (slower)\n    FxaaFloat fxaaQualityEdgeThreshold,\n    //\n    // Only used on FXAA Quality.\n    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.\n    // It is here now to allow easier tuning.\n    // Trims the algorithm from processing darks.\n    //   0.0833 - upper limit (default, the start of visible unfiltered edges)\n    //   0.0625 - high quality (faster)\n    //   0.0312 - visible limit (slower)\n    // Special notes when using FXAA_GREEN_AS_LUMA,\n    //   Likely want to set this to zero.\n    //   As colors that are mostly not-green\n    //   will appear very dark in the green channel!\n    //   Tune by looking at mostly non-green content,\n    //   then start at zero and increase until aliasing is a problem.\n    FxaaFloat fxaaQualityEdgeThresholdMin\n) {\n/*--------------------------------------------------------------------------*/\n    FxaaFloat2 posM;\n    posM.x = pos.x;\n    posM.y = pos.y;\n    FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n    #define lumaM rgbyM.y\n    FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\n/*--------------------------------------------------------------------------*/\n    FxaaFloat maxSM = max(lumaS, lumaM);\n    FxaaFloat minSM = min(lumaS, lumaM);\n    FxaaFloat maxESM = max(lumaE, maxSM);\n    FxaaFloat minESM = min(lumaE, minSM);\n    FxaaFloat maxWN = max(lumaN, lumaW);\n    FxaaFloat minWN = min(lumaN, lumaW);\n    FxaaFloat rangeMax = max(maxWN, maxESM);\n    FxaaFloat rangeMin = min(minWN, minESM);\n    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\n    FxaaFloat range = rangeMax - rangeMin;\n    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\n    FxaaBool earlyExit = range < rangeMaxClamped;\n/*--------------------------------------------------------------------------*/\n    if(earlyExit)\n        return rgbyM;\n/*--------------------------------------------------------------------------*/\n    FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n/*--------------------------------------------------------------------------*/\n    FxaaFloat lumaNS = lumaN + lumaS;\n    FxaaFloat lumaWE = lumaW + lumaE;\n    FxaaFloat subpixRcpRange = 1.0/range;\n    FxaaFloat subpixNSWE = lumaNS + lumaWE;\n    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\n    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\n/*--------------------------------------------------------------------------*/\n    FxaaFloat lumaNESE = lumaNE + lumaSE;\n    FxaaFloat lumaNWNE = lumaNW + lumaNE;\n    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\n    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\n/*--------------------------------------------------------------------------*/\n    FxaaFloat lumaNWSW = lumaNW + lumaSW;\n    FxaaFloat lumaSWSE = lumaSW + lumaSE;\n    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\n    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\n    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\n    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\n    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\n    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\n/*--------------------------------------------------------------------------*/\n    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\n    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;\n    FxaaBool horzSpan = edgeHorz >= edgeVert;\n    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\n/*--------------------------------------------------------------------------*/\n    if(!horzSpan) lumaN = lumaW;\n    if(!horzSpan) lumaS = lumaE;\n    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\n    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\n/*--------------------------------------------------------------------------*/\n    FxaaFloat gradientN = lumaN - lumaM;\n    FxaaFloat gradientS = lumaS - lumaM;\n    FxaaFloat lumaNN = lumaN + lumaM;\n    FxaaFloat lumaSS = lumaS + lumaM;\n    FxaaBool pairN = abs(gradientN) >= abs(gradientS);\n    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));\n    if(pairN) lengthSign = -lengthSign;\n    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\n/*--------------------------------------------------------------------------*/\n    FxaaFloat2 posB;\n    posB.x = posM.x;\n    posB.y = posM.y;\n    FxaaFloat2 offNP;\n    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n    if(!horzSpan) posB.x += lengthSign * 0.5;\n    if( horzSpan) posB.y += lengthSign * 0.5;\n/*--------------------------------------------------------------------------*/\n    FxaaFloat2 posN;\n    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\n    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\n    FxaaFloat2 posP;\n    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\n    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\n    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\n    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\n    FxaaFloat subpixE = subpixC * subpixC;\n    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\n/*--------------------------------------------------------------------------*/\n    if(!pairN) lumaNN = lumaSS;\n    FxaaFloat gradientScaled = gradient * 1.0/4.0;\n    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;\n    FxaaFloat subpixF = subpixD * subpixE;\n    FxaaBool lumaMLTZero = lumaMM < 0.0;\n/*--------------------------------------------------------------------------*/\n    lumaEndN -= lumaNN * 0.5;\n    lumaEndP -= lumaNN * 0.5;\n    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;\n    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;\n    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\n    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\n    FxaaBool doneNP = (!doneN) || (!doneP);\n    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\n    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\n/*--------------------------------------------------------------------------*/\n    if(doneNP) {\n        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n        doneN = abs(lumaEndN) >= gradientScaled;\n        doneP = abs(lumaEndP) >= gradientScaled;\n        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;\n        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;\n        doneNP = (!doneN) || (!doneP);\n        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;\n        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;\n/*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PS > 3)\n        if(doneNP) {\n            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n            doneN = abs(lumaEndN) >= gradientScaled;\n            doneP = abs(lumaEndP) >= gradientScaled;\n            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;\n            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;\n            doneNP = (!doneN) || (!doneP);\n            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;\n            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;\n/*--------------------------------------------------------------------------*/\n            #if (FXAA_QUALITY_PS > 4)\n            if(doneNP) {\n                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                doneN = abs(lumaEndN) >= gradientScaled;\n                doneP = abs(lumaEndP) >= gradientScaled;\n                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;\n                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;\n                doneNP = (!doneN) || (!doneP);\n                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;\n                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;\n/*--------------------------------------------------------------------------*/\n                #if (FXAA_QUALITY_PS > 5)\n                if(doneNP) {\n                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                    doneN = abs(lumaEndN) >= gradientScaled;\n                    doneP = abs(lumaEndP) >= gradientScaled;\n                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;\n                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;\n                    doneNP = (!doneN) || (!doneP);\n                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;\n                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;\n/*--------------------------------------------------------------------------*/\n                    #if (FXAA_QUALITY_PS > 6)\n                    if(doneNP) {\n                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                        doneN = abs(lumaEndN) >= gradientScaled;\n                        doneP = abs(lumaEndP) >= gradientScaled;\n                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;\n                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;\n                        doneNP = (!doneN) || (!doneP);\n                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;\n                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;\n/*--------------------------------------------------------------------------*/\n                        #if (FXAA_QUALITY_PS > 7)\n                        if(doneNP) {\n                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                            doneN = abs(lumaEndN) >= gradientScaled;\n                            doneP = abs(lumaEndP) >= gradientScaled;\n                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;\n                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;\n                            doneNP = (!doneN) || (!doneP);\n                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;\n                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;\n/*--------------------------------------------------------------------------*/\n    #if (FXAA_QUALITY_PS > 8)\n    if(doneNP) {\n        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n        doneN = abs(lumaEndN) >= gradientScaled;\n        doneP = abs(lumaEndP) >= gradientScaled;\n        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;\n        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;\n        doneNP = (!doneN) || (!doneP);\n        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;\n        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;\n/*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PS > 9)\n        if(doneNP) {\n            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n            doneN = abs(lumaEndN) >= gradientScaled;\n            doneP = abs(lumaEndP) >= gradientScaled;\n            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;\n            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;\n            doneNP = (!doneN) || (!doneP);\n            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;\n            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;\n/*--------------------------------------------------------------------------*/\n            #if (FXAA_QUALITY_PS > 10)\n            if(doneNP) {\n                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                doneN = abs(lumaEndN) >= gradientScaled;\n                doneP = abs(lumaEndP) >= gradientScaled;\n                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;\n                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;\n                doneNP = (!doneN) || (!doneP);\n                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;\n                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;\n/*--------------------------------------------------------------------------*/\n                #if (FXAA_QUALITY_PS > 11)\n                if(doneNP) {\n                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                    doneN = abs(lumaEndN) >= gradientScaled;\n                    doneP = abs(lumaEndP) >= gradientScaled;\n                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;\n                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;\n                    doneNP = (!doneN) || (!doneP);\n                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;\n                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;\n/*--------------------------------------------------------------------------*/\n                    #if (FXAA_QUALITY_PS > 12)\n                    if(doneNP) {\n                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                        doneN = abs(lumaEndN) >= gradientScaled;\n                        doneP = abs(lumaEndP) >= gradientScaled;\n                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;\n                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;\n                        doneNP = (!doneN) || (!doneP);\n                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;\n                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;\n/*--------------------------------------------------------------------------*/\n                    }\n                    #endif\n/*--------------------------------------------------------------------------*/\n                }\n                #endif\n/*--------------------------------------------------------------------------*/\n            }\n            #endif\n/*--------------------------------------------------------------------------*/\n        }\n        #endif\n/*--------------------------------------------------------------------------*/\n    }\n    #endif\n/*--------------------------------------------------------------------------*/\n                        }\n                        #endif\n/*--------------------------------------------------------------------------*/\n                    }\n                    #endif\n/*--------------------------------------------------------------------------*/\n                }\n                #endif\n/*--------------------------------------------------------------------------*/\n            }\n            #endif\n/*--------------------------------------------------------------------------*/\n        }\n        #endif\n/*--------------------------------------------------------------------------*/\n    }\n/*--------------------------------------------------------------------------*/\n    FxaaFloat dstN = posM.x - posN.x;\n    FxaaFloat dstP = posP.x - posM.x;\n    if(!horzSpan) dstN = posM.y - posN.y;\n    if(!horzSpan) dstP = posP.y - posM.y;\n/*--------------------------------------------------------------------------*/\n    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\n    FxaaFloat spanLength = (dstP + dstN);\n    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\n    FxaaFloat spanLengthRcp = 1.0/spanLength;\n/*--------------------------------------------------------------------------*/\n    FxaaBool directionN = dstN < dstP;\n    FxaaFloat dst = min(dstN, dstP);\n    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\n    FxaaFloat subpixG = subpixF * subpixF;\n    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\n    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;\n/*--------------------------------------------------------------------------*/\n    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\n    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\n    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\n    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\n    return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);\n}\n"},"3QSf":function(e,t,i){"use strict";function n(){var e=[];return e.push(new s.a({name:"WGS84 Ellipsoid",iconUrl:Object(a.a)("Widgets/Images/TerrainProviders/Ellipsoid.png"),tooltip:"WGS84 standard ellipsoid, also known as EPSG:4326",category:"Cesium ion",creationFunction:function(){return new o.a}})),e.push(new s.a({name:"Cesium World Terrain",iconUrl:Object(a.a)("Widgets/Images/TerrainProviders/CesiumWorldTerrain.png"),tooltip:"High-resolution global terrain tileset curated from several datasources and hosted by Cesium ion",category:"Cesium ion",creationFunction:function(){return Object(r.a)({requestWaterMask:!0,requestVertexNormals:!0})}})),e}var a=i("CcV0"),r=i("mft1"),o=i("L7/G"),s=i("seln");t.a=n},"3Uwf":function(e,t,i){"use strict";t.a="/**\n * Converts an RGB color to CIE Yxy.\n * <p>The conversion is described in\n * {@link http://content.gpwiki.org/index.php/D3DBook:High-Dynamic_Range_Rendering#Luminance_Transform|Luminance Transform}\n * </p>\n * \n * @name czm_RGBToXYZ\n * @glslFunction\n * \n * @param {vec3} rgb The color in RGB.\n *\n * @returns {vec3} The color in CIE Yxy.\n *\n * @example\n * vec3 xyz = czm_RGBToXYZ(rgb);\n * xyz.x = max(xyz.x - luminanceThreshold, 0.0);\n * rgb = czm_XYZToRGB(xyz);\n */\nvec3 czm_RGBToXYZ(vec3 rgb)\n{\n    const mat3 RGB2XYZ = mat3(0.4124, 0.2126, 0.0193,\n                              0.3576, 0.7152, 0.1192,\n                              0.1805, 0.0722, 0.9505);\n    vec3 xyz = RGB2XYZ * rgb;\n    vec3 Yxy;\n    Yxy.r = xyz.g;\n    float temp = dot(vec3(1.0), xyz);\n    Yxy.gb = xyz.rg / temp;\n    return Yxy;\n}\n"},"3Vop":function(e,t,i){"use strict";t.a="/**\n * DOC_TBA\n *\n * @name czm_ellipsoidWgs84TextureCoordinates\n * @glslFunction\n */\nvec2 czm_ellipsoidWgs84TextureCoordinates(vec3 normal)\n{\n    return vec2(atan(normal.y, normal.x) * czm_oneOverTwoPi + 0.5, asin(normal.z) * czm_oneOverPi + 0.5);\n}\n"},"3W40":function(e,t,i){"use strict";function n(e,t,i){if(!Object(a.a)(e))throw new o.a("container is required.");if(!Object(a.a)(t))throw new o.a("scene is required.");e=Object(l.a)(e);var n=new u.a(t,i);n._globePath=h,n._flatMapPath=d,n._columbusViewPath=f;var r=document.createElement("span");r.className="cesium-sceneModePicker-wrapper cesium-toolbar-button",e.appendChild(r);var p=document.createElement("button");p.type="button",p.className="cesium-button cesium-toolbar-button",p.setAttribute("data-bind",'css: { "cesium-sceneModePicker-button2D": sceneMode === _sceneMode.SCENE2D,       "cesium-sceneModePicker-button3D": sceneMode === _sceneMode.SCENE3D,       "cesium-sceneModePicker-buttonColumbusView": sceneMode === _sceneMode.COLUMBUS_VIEW,       "cesium-sceneModePicker-selected": dropDownVisible },attr: { title: selectedTooltip },click: toggleDropDown'),p.innerHTML='\x3c!-- ko cesiumSvgPath: { path: _globePath, width: 64, height: 64, css: "cesium-sceneModePicker-slide-svg cesium-sceneModePicker-icon3D" } --\x3e\x3c!-- /ko --\x3e\x3c!-- ko cesiumSvgPath: { path: _flatMapPath, width: 64, height: 64, css: "cesium-sceneModePicker-slide-svg cesium-sceneModePicker-icon2D" } --\x3e\x3c!-- /ko --\x3e\x3c!-- ko cesiumSvgPath: { path: _columbusViewPath, width: 64, height: 64, css: "cesium-sceneModePicker-slide-svg cesium-sceneModePicker-iconColumbusView" } --\x3e\x3c!-- /ko --\x3e',r.appendChild(p);var m=document.createElement("button");m.type="button",m.className="cesium-button cesium-toolbar-button cesium-sceneModePicker-dropDown-icon",m.setAttribute("data-bind",'css: { "cesium-sceneModePicker-visible" : (dropDownVisible && (sceneMode !== _sceneMode.SCENE3D)) || (!dropDownVisible && (sceneMode === _sceneMode.SCENE3D)),       "cesium-sceneModePicker-none" : sceneMode === _sceneMode.SCENE3D,       "cesium-sceneModePicker-hidden" : !dropDownVisible },attr: { title: tooltip3D },click: morphTo3D,cesiumSvgPath: { path: _globePath, width: 64, height: 64 }'),r.appendChild(m);var g=document.createElement("button");g.type="button",g.className="cesium-button cesium-toolbar-button cesium-sceneModePicker-dropDown-icon",g.setAttribute("data-bind",'css: { "cesium-sceneModePicker-visible" : (dropDownVisible && (sceneMode !== _sceneMode.SCENE2D)),       "cesium-sceneModePicker-none" : sceneMode === _sceneMode.SCENE2D,       "cesium-sceneModePicker-hidden" : !dropDownVisible },attr: { title: tooltip2D },click: morphTo2D,cesiumSvgPath: { path: _flatMapPath, width: 64, height: 64 }'),r.appendChild(g);var _=document.createElement("button");_.type="button",_.className="cesium-button cesium-toolbar-button cesium-sceneModePicker-dropDown-icon",_.setAttribute("data-bind",'css: { "cesium-sceneModePicker-visible" : (dropDownVisible && (sceneMode !== _sceneMode.COLUMBUS_VIEW)) || (!dropDownVisible && (sceneMode === _sceneMode.COLUMBUS_VIEW)),       "cesium-sceneModePicker-none" : sceneMode === _sceneMode.COLUMBUS_VIEW,       "cesium-sceneModePicker-hidden" : !dropDownVisible},attr: { title: tooltipColumbusView },click: morphToColumbusView,cesiumSvgPath: { path: _columbusViewPath, width: 64, height: 64 }'),r.appendChild(_),c.a.applyBindings(n,r),this._viewModel=n,this._container=e,this._wrapper=r,this._closeDropDown=function(e){r.contains(e.target)||(n.dropDownVisible=!1)},s.a.supportsPointerEvents()?document.addEventListener("pointerdown",this._closeDropDown,!0):(document.addEventListener("mousedown",this._closeDropDown,!0),document.addEventListener("touchstart",this._closeDropDown,!0))}var a=i("xC6Q"),r=i("6sr8"),o=i("PzDm"),s=i("gjtw"),c=i("PKIF"),l=i("k6tp"),u=i("lubo"),h="m 32.401392,4.9330437 c -7.087603,0 -14.096095,2.884602 -19.10793,7.8946843 -5.0118352,5.010083 -7.9296167,11.987468 -7.9296167,19.072999 0,7.085531 2.9177815,14.097848 7.9296167,19.107931 4.837653,4.835961 11.541408,7.631372 18.374354,7.82482 0.05712,0.01231 0.454119,0.139729 0.454119,0.139729 l 0.03493,-0.104797 c 0.08246,7.84e-4 0.162033,0.03493 0.244525,0.03493 0.08304,0 0.161515,-0.03414 0.244526,-0.03493 l 0.03493,0.104797 c 0,0 0.309474,-0.129487 0.349323,-0.139729 6.867765,-0.168094 13.582903,-2.965206 18.444218,-7.82482 2.558195,-2.5573 4.551081,-5.638134 5.903547,-8.977584 1.297191,-3.202966 2.02607,-6.661489 2.02607,-10.130347 0,-6.237309 -2.366261,-12.31219 -6.322734,-17.116794 -0.0034,-0.02316 0.0049,-0.04488 0,-0.06986 -0.01733,-0.08745 -0.104529,-0.278855 -0.104797,-0.279458 -5.31e-4,-0.0012 -0.522988,-0.628147 -0.523984,-0.62878         -3.47e-4,-2.2e-4 -0.133444,-0.03532 -0.244525,-0.06987 C 51.944299,13.447603 51.751076,13.104317 51.474391,12.827728 46.462556,7.8176457 39.488996,4.9330437 32.401392,4.9330437 z m -2.130866,3.5281554 0.104797,9.6762289 c -4.111695,-0.08361 -7.109829,-0.423664 -9.257041,-0.943171 1.198093,-2.269271 2.524531,-4.124404 3.91241,-5.414496 2.167498,-2.0147811 3.950145,-2.8540169 5.239834,-3.3185619 z m 2.794579,0 c 1.280302,0.4754953 3.022186,1.3285948 5.065173,3.2486979 1.424667,1.338973 2.788862,3.303645 3.982275,5.728886 -2.29082,0.403367 -5.381258,0.621049 -8.942651,0.698645 L 33.065105,8.4611991 z m 5.728886,0.2445256 c 4.004072,1.1230822 7.793098,3.1481363 10.724195,6.0782083 0.03468,0.03466 0.07033,0.06991 0.104797,0.104797 -0.45375,0.313891 -0.923054,0.663002 -1.956205,1.082899 -0.647388,0.263114 -1.906242,0.477396 -2.829511,0.733577 -1.382296,-2.988132         -3.027146,-5.368585 -4.785716,-7.0213781 -0.422866,-0.397432 -0.835818,-0.6453247 -1.25756,-0.9781032 z m -15.33525,0.7685092 c -0.106753,0.09503 -0.207753,0.145402 -0.31439,0.244526 -1.684973,1.5662541 -3.298068,3.8232211 -4.680919,6.5672591 -0.343797,-0.14942 -1.035052,-0.273198 -1.292493,-0.419186 -0.956528,-0.542427 -1.362964,-1.022024 -1.537018,-1.292493 -0.0241,-0.03745 -0.01868,-0.0401 -0.03493,-0.06986 2.250095,-2.163342 4.948824,-3.869984 7.859752,-5.0302421 z m -9.641296,7.0912431 c 0.464973,0.571618 0.937729,1.169056 1.956205,1.746612 0.349907,0.198425 1.107143,0.335404 1.537018,0.523983 -1.20166,3.172984 -1.998037,7.051901 -2.165798,11.772162 C 14.256557,30.361384 12.934823,30.161483 12.280427,29.90959 10.644437,29.279855 9.6888882,28.674891 9.1714586,28.267775 8.6540289,27.860658 8.6474751,27.778724 8.6474751,27.778724 l -0.069864,0.03493 C 9.3100294,23.691285         11.163248,19.798527 13.817445,16.565477 z m 37.552149,0.523984 c 2.548924,3.289983 4.265057,7.202594 4.890513,11.318043 -0.650428,0.410896 -1.756876,1.001936 -3.563088,1.606882 -1.171552,0.392383 -3.163859,0.759153 -4.960377,1.117832 -0.04367,-4.752703 -0.784809,-8.591423 -1.88634,-11.807094 0.917574,-0.263678 2.170552,-0.486495 2.864443,-0.76851 1.274693,-0.518066 2.003942,-1.001558 2.654849,-1.467153 z m -31.439008,2.619917 c 2.487341,0.672766 5.775813,1.137775 10.479669,1.222628 l 0.104797,10.689263 0,0.03493 0,0.733577 c -5.435005,-0.09059 -9.512219,-0.519044 -12.610536,-1.117831 0.106127,-4.776683 0.879334,-8.55791 2.02607,-11.562569 z m 23.264866,0.31439 c 1.073459,3.067541 1.833795,6.821314 1.816476,11.702298 -3.054474,0.423245 -7.062018,0.648559 -11.702298,0.698644 l 0,-0.838373 -0.104796,-10.654331 c 4.082416,-0.0864 7.404468,-0.403886 9.990618,-0.908238 z         M 8.2632205,30.922625 c 0.7558676,0.510548 1.5529563,1.013339 3.0041715,1.57195 0.937518,0.360875 2.612202,0.647642 3.91241,0.978102 0.112814,3.85566 0.703989,7.107756 1.606883,9.920754 -1.147172,-0.324262 -2.644553,-0.640648 -3.423359,-0.978102 -1.516688,-0.657177 -2.386627,-1.287332 -2.864443,-1.71168 -0.477816,-0.424347 -0.489051,-0.489051 -0.489051,-0.489051 L 9.8002387,40.319395 C 8.791691,37.621767 8.1584238,34.769583 8.1584238,31.900727 c 0,-0.330153 0.090589,-0.648169 0.1047967,-0.978102 z m 48.2763445,0.419186 c 0.0047,0.188973 0.06986,0.36991 0.06986,0.558916 0,2.938869 -0.620228,5.873558 -1.676747,8.628261 -0.07435,0.07583 -0.06552,0.07411 -0.454119,0.349323 -0.606965,0.429857 -1.631665,1.042044 -3.318562,1.676747 -1.208528,0.454713 -3.204964,0.850894 -5.135038,1.25756 0.84593,-2.765726 1.41808,-6.005357 1.606883,-9.815957 2.232369,-0.413371 4.483758,-0.840201         5.938479,-1.327425 1.410632,-0.472457 2.153108,-0.89469 2.96924,-1.327425 z m -38.530252,2.864443 c 3.208141,0.56697 7.372279,0.898588 12.575603,0.978103 l 0.174662,9.885821 c -4.392517,-0.06139 -8.106722,-0.320566 -10.863925,-0.803441 -1.051954,-2.664695 -1.692909,-6.043794 -1.88634,-10.060483 z m 26.793022,0.31439 c -0.246298,3.923551 -0.877762,7.263679 -1.816476,9.885822 -2.561957,0.361954 -5.766249,0.560708 -9.431703,0.62878 l -0.174661,-9.815957 c 4.491734,-0.04969 8.334769,-0.293032 11.42284,-0.698645 z M 12.035901,44.860585 c 0.09977,0.04523 0.105535,0.09465 0.209594,0.139729 1.337656,0.579602 3.441099,1.058072 5.589157,1.537018 1.545042,3.399208 3.548524,5.969402 5.589157,7.789888 -3.034411,-1.215537 -5.871615,-3.007978 -8.174142,-5.309699 -1.245911,-1.245475 -2.271794,-2.662961 -3.213766,-4.156936 z m 40.69605,0 c -0.941972,1.493975 -1.967855,2.911461         -3.213765,4.156936 -2.74253,2.741571 -6.244106,4.696717 -9.955686,5.868615 0.261347,-0.241079 0.507495,-0.394491 0.768509,-0.663713 1.674841,-1.727516 3.320792,-4.181056 4.645987,-7.265904 2.962447,-0.503021 5.408965,-1.122293 7.161107,-1.781544 0.284034,-0.106865 0.337297,-0.207323 0.593848,-0.31439 z m -31.404076,2.305527 c 2.645807,0.376448 5.701178,0.649995 9.466635,0.698645 l 0.139729,7.789888 c -1.38739,-0.480844 -3.316218,-1.29837 -5.659022,-3.388427 -1.388822,-1.238993 -2.743668,-3.0113 -3.947342,-5.100106 z m 20.365491,0.104797 c -1.04872,2.041937 -2.174337,3.779068 -3.353494,4.995309 -1.853177,1.911459 -3.425515,2.82679 -4.611055,3.353494 l -0.139729,-7.789887 c 3.13091,-0.05714 5.728238,-0.278725 8.104278,-0.558916 z",d="m 2.9825053,17.550598 0,1.368113 0,26.267766 0,1.368113 1.36811,0 54.9981397,0 1.36811,0 0,-1.368113 0,-26.267766 0,-1.368113 -1.36811,0 -54.9981397,0 -1.36811,0 z m 2.73623,2.736226 10.3292497,0 0,10.466063 -10.3292497,0 0,-10.466063 z m 13.0654697,0 11.69737,0 0,10.466063 -11.69737,0 0,-10.466063 z m 14.43359,0 11.69737,0 0,10.466063 -11.69737,0 0,-10.466063 z m 14.43359,0 10.32926,0 0,10.466063 -10.32926,0 0,-10.466063 z m -41.9326497,13.202288 10.3292497,0 0,10.329252 -10.3292497,0 0,-10.329252 z m 13.0654697,0 11.69737,0 0,10.329252 -11.69737,0 0,-10.329252 z m 14.43359,0 11.69737,0 0,10.329252 -11.69737,0 0,-10.329252 z m 14.43359,0 10.32926,0 0,10.329252 -10.32926,0 0,-10.329252 z",f="m 14.723969,17.675598 -0.340489,0.817175 -11.1680536,26.183638 -0.817175,1.872692 2.076986,0 54.7506996,0 2.07698,0 -0.81717,-1.872692 -11.16805,-26.183638 -0.34049,-0.817175 -0.91933,0 -32.414586,0 -0.919322,0 z m 1.838643,2.723916 6.196908,0 -2.928209,10.418977 -7.729111,0 4.460412,-10.418977 z m 9.02297,0 4.903049,0 0,10.418977 -7.831258,0 2.928209,-10.418977 z m 7.626964,0 5.584031,0 2.62176,10.418977 -8.205791,0 0,-10.418977 z m 8.410081,0 5.51593,0 4.46042,10.418977 -7.38863,0 -2.58772,-10.418977 z m -30.678091,13.142892 8.103649,0 -2.89416,10.282782 -9.6018026,0 4.3923136,-10.282782 z m 10.929711,0 8.614384,0 0,10.282782 -11.508544,0 2.89416,-10.282782 z m 11.338299,0 8.852721,0 2.58772,10.282782 -11.440441,0 0,-10.282782 z m 11.678781,0 7.86531,0 4.39231,10.282782 -9.6699,0 -2.58772,-10.282782 z";Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._viewModel.destroy(),s.a.supportsPointerEvents()?document.removeEventListener("pointerdown",this._closeDropDown,!0):(document.removeEventListener("mousedown",this._closeDropDown,!0),document.removeEventListener("touchstart",this._closeDropDown,!0)),c.a.cleanNode(this._wrapper),this._container.removeChild(this._wrapper),Object(r.a)(this)},t.a=n},"3a1T":function(e,t,i){"use strict";function n(e,t,i,n){this.translucent=t,this.width=i,this.shadows=n,this.primitives=e,this.createPrimitive=!1,this.waitingOnCreate=!1,this.primitive=void 0,this.oldPrimitive=void 0,this.geometry=new r.a,this.updaters=new r.a,this.updatersWithAttributes=new r.a,this.attributes=new r.a,this.itemsToRemove=[],this.subscriptions=new r.a,this.showsUpdated=new r.a}function a(e,t,i){this._primitives=e,this._scene=t,this._shadows=i,this._solidBatches=new r.a,this._translucentBatches=new r.a}var r=i("7uRt"),o=i("Jj+J"),s=i("6F0S"),c=i("devy"),l=i("xC6Q"),u=i("2d28"),h=i("2kyc"),d=i("wpHJ"),f=i("zSqc"),p=i("BOJj"),m=i("0df4"),g=i("P+tD"),_=i("uhjI"),v=new s.a,b=new u.a,y=new u.a,O=o.a.ZERO,w=new o.a;n.prototype.add=function(e,t){var i=e.id;if(this.createPrimitive=!0,this.geometry.set(i,t),this.updaters.set(i,e),e.hasConstantOutline&&e.outlineColorProperty.isConstant&&_.a.isConstant(e.distanceDisplayConditionProperty)&&_.a.isConstant(e.terrainOffsetProperty)){var n=this;this.subscriptions.set(i,e.entity.definitionChanged.addEventListener(function(t,i,a,r){"isShowing"===i&&n.showsUpdated.set(e.id,e)}))}else this.updatersWithAttributes.set(i,e)},n.prototype.remove=function(e){var t=e.id;if(this.createPrimitive=this.geometry.remove(t)||this.createPrimitive,this.updaters.remove(t)){this.updatersWithAttributes.remove(t);var i=this.subscriptions.get(t);return Object(l.a)(i)&&(i(),this.subscriptions.remove(t),this.showsUpdated.remove(t)),!0}return!1},n.prototype.update=function(e){var t,i=!0,n=0,a=this.primitive,r=this.primitives;if(this.createPrimitive){var g=this.geometry.values;if(g.length>0)Object(l.a)(a)&&(Object(l.a)(this.oldPrimitive)?r.remove(a):this.oldPrimitive=a),a=new m.a({show:!1,asynchronous:!0,geometryInstances:g.slice(),appearance:new p.a({flat:!0,translucent:this.translucent,renderState:{lineWidth:this.width}}),shadows:this.shadows}),r.add(a),i=!1;else{Object(l.a)(a)&&(r.remove(a),a=void 0);var x=this.oldPrimitive;Object(l.a)(x)&&(r.remove(x),this.oldPrimitive=void 0)}this.attributes.removeAll(),this.primitive=a,this.createPrimitive=!1,this.waitingOnCreate=!0}else if(Object(l.a)(a)&&a.ready){a.show=!0,Object(l.a)(this.oldPrimitive)&&(r.remove(this.oldPrimitive),this.oldPrimitive=void 0);var E=this.updatersWithAttributes.values,T=E.length,A=this.waitingOnCreate;for(t=0;t<T;t++){var C=E[t],S=this.geometry.get(C.id),j=this.attributes.get(S.id.id);if(Object(l.a)(j)||(j=a.getGeometryInstanceAttributes(S.id),this.attributes.set(S.id.id,j)),!C.outlineColorProperty.isConstant||A){var P=C.outlineColorProperty,D=_.a.getValueOrDefault(P,e,s.a.WHITE,v);s.a.equals(j._lastColor,D)||(j._lastColor=s.a.clone(D,j._lastColor),j.color=c.a.toValue(D,j.color),(this.translucent&&255===j.color[3]||!this.translucent&&255!==j.color[3])&&(this.itemsToRemove[n++]=C))}var I=C.entity.isShowing&&(C.hasConstantOutline||C.isOutlineVisible(e)),R=1===j.show[0];I!==R&&(j.show=f.a.toValue(I,j.show));var M=C.distanceDisplayConditionProperty;if(!_.a.isConstant(M)){var L=_.a.getValueOrDefault(M,e,y,b);u.a.equals(L,j._lastDistanceDisplayCondition)||(j._lastDistanceDisplayCondition=u.a.clone(L,j._lastDistanceDisplayCondition),j.distanceDisplayCondition=h.a.toValue(L,j.distanceDisplayCondition))}var N=C.terrainOffsetProperty;if(!_.a.isConstant(N)){var F=_.a.getValueOrDefault(N,e,O,w);o.a.equals(F,j._lastOffset)||(j._lastOffset=o.a.clone(F,j._lastOffset),j.offset=d.a.toValue(F,j.offset))}}this.updateShows(a),this.waitingOnCreate=!1}else Object(l.a)(a)&&!a.ready&&(i=!1);return this.itemsToRemove.length=n,i},n.prototype.updateShows=function(e){for(var t=this.showsUpdated.values,i=t.length,n=0;n<i;n++){var a=t[n],r=this.geometry.get(a.id),o=this.attributes.get(r.id.id);Object(l.a)(o)||(o=e.getGeometryInstanceAttributes(r.id),this.attributes.set(r.id.id,o));var s=a.entity.isShowing;s!==(1===o.show[0])&&(o.show=f.a.toValue(s,o.show),r.attributes.show.value[0]=o.show[0])}this.showsUpdated.removeAll()},n.prototype.contains=function(e){return this.updaters.contains(e.id)},n.prototype.getBoundingSphere=function(e,t){var i=this.primitive;if(!i.ready)return g.a.PENDING;var n=i.getGeometryInstanceAttributes(e.entity);return!Object(l.a)(n)||!Object(l.a)(n.boundingSphere)||Object(l.a)(n.show)&&0===n.show[0]?g.a.FAILED:(n.boundingSphere.clone(t),g.a.DONE)},n.prototype.removeAllPrimitives=function(){var e=this.primitives,t=this.primitive;Object(l.a)(t)&&(e.remove(t),this.primitive=void 0,this.geometry.removeAll(),this.updaters.removeAll());var i=this.oldPrimitive;Object(l.a)(i)&&(e.remove(i),this.oldPrimitive=void 0)},a.prototype.add=function(e,t){var i,a,r=t.createOutlineGeometryInstance(e),o=this._scene.clampLineWidth(t.outlineWidth);255===r.attributes.color.value[3]?(i=this._solidBatches,a=i.get(o),Object(l.a)(a)||(a=new n(this._primitives,!1,o,this._shadows),i.set(o,a)),a.add(t,r)):(i=this._translucentBatches,a=i.get(o),Object(l.a)(a)||(a=new n(this._primitives,!0,o,this._shadows),i.set(o,a)),a.add(t,r))},a.prototype.remove=function(e){var t,i=this._solidBatches.values,n=i.length;for(t=0;t<n;t++)if(i[t].remove(e))return;var a=this._translucentBatches.values,r=a.length;for(t=0;t<r;t++)if(a[t].remove(e))return},a.prototype.update=function(e){var t,i,n,a,r,o=this._solidBatches.values,s=o.length,c=this._translucentBatches.values,l=c.length,u=!0,h=!1;do{for(h=!1,i=0;i<s;i++){a=o[i],u=a.update(e),r=a.itemsToRemove;var d=r.length;if(d>0)for(h=!0,t=0;t<d;t++)n=r[t],a.remove(n),this.add(e,n)}for(i=0;i<l;i++){a=c[i],u=a.update(e),r=a.itemsToRemove;var f=r.length;if(f>0)for(h=!0,t=0;t<f;t++)n=r[t],a.remove(n),this.add(e,n)}}while(h);return u},a.prototype.getBoundingSphere=function(e,t){var i,n=this._solidBatches.values,a=n.length;for(i=0;i<a;i++){var r=n[i];if(r.contains(e))return r.getBoundingSphere(e,t)}var o=this._translucentBatches.values,s=o.length;for(i=0;i<s;i++){var c=o[i];if(c.contains(e))return c.getBoundingSphere(e,t)}return g.a.FAILED},a.prototype.removeAllPrimitives=function(){var e,t=this._solidBatches.values,i=t.length;for(e=0;e<i;e++)t[e].removeAllPrimitives();var n=this._translucentBatches.values,a=n.length;for(e=0;e<a;e++)n[e].removeAllPrimitives()},t.a=a},"3ew/":function(e,t,i){"use strict";i("5F4X"),i("VWvt")},"3fQz":function(e,t,i){"use strict";var n=i("1L1F"),a={FRONT:n.a.FRONT,BACK:n.a.BACK,FRONT_AND_BACK:n.a.FRONT_AND_BACK};t.a=Object.freeze(a)},"3jm5":function(e,t,i){"use strict";function n(){this._style=void 0,this._styleDirty=!1,this._lastStyleTime=0}var a=i("xC6Q");Object.defineProperties(n.prototype,{style:{get:function(){return this._style},set:function(e){this._style=e,this._styleDirty=!0}}}),n.prototype.makeDirty=function(){this._styleDirty=!0},n.prototype.applyStyle=function(e,t){if(e.ready&&(!Object(a.a)(this._style)||this._style.ready)){var i=this._styleDirty;t.isRender&&(this._styleDirty=!1),i&&++this._lastStyleTime;for(var n=this._lastStyleTime,r=e._statistics,o=i?e._selectedTiles:e._selectedTilesToStyle,s=o.length,c=0;c<s;++c){var l=o[c];if(l.lastStyleTime!==n){var u=l.content;l.lastStyleTime=n,u.applyStyle(this._style),r.numberOfFeaturesStyled+=u.featuresLength,++r.numberOfTilesStyled}}}},t.a=n},"3o8J":function(e,t,i){"use strict";t.a="/**\n * DOC_TBA\n *\n * @name czm_rayEllipsoidIntersectionInterval\n * @glslFunction\n */\nczm_raySegment czm_rayEllipsoidIntersectionInterval(czm_ray ray, vec3 ellipsoid_center, vec3 ellipsoid_inverseRadii)\n{\n   // ray and ellipsoid center in eye coordinates.  radii in model coordinates.\n    vec3 q = ellipsoid_inverseRadii * (czm_inverseModelView * vec4(ray.origin, 1.0)).xyz;\n    vec3 w = ellipsoid_inverseRadii * (czm_inverseModelView * vec4(ray.direction, 0.0)).xyz;\n\n    q = q - ellipsoid_inverseRadii * (czm_inverseModelView * vec4(ellipsoid_center, 1.0)).xyz;\n\n    float q2 = dot(q, q);\n    float qw = dot(q, w);\n\n    if (q2 > 1.0) // Outside ellipsoid.\n    {\n        if (qw >= 0.0) // Looking outward or tangent (0 intersections).\n        {\n            return czm_emptyRaySegment;\n        }\n        else // qw < 0.0.\n        {\n            float qw2 = qw * qw;\n            float difference = q2 - 1.0; // Positively valued.\n            float w2 = dot(w, w);\n            float product = w2 * difference;\n\n            if (qw2 < product) // Imaginary roots (0 intersections).\n            {\n                return czm_emptyRaySegment;\n            }\n            else if (qw2 > product) // Distinct roots (2 intersections).\n            {\n                float discriminant = qw * qw - product;\n                float temp = -qw + sqrt(discriminant); // Avoid cancellation.\n                float root0 = temp / w2;\n                float root1 = difference / temp;\n                if (root0 < root1)\n                {\n                    czm_raySegment i = czm_raySegment(root0, root1);\n                    return i;\n                }\n                else\n                {\n                    czm_raySegment i = czm_raySegment(root1, root0);\n                    return i;\n                }\n            }\n            else // qw2 == product.  Repeated roots (2 intersections).\n            {\n                float root = sqrt(difference / w2);\n                czm_raySegment i = czm_raySegment(root, root);\n                return i;\n            }\n        }\n    }\n    else if (q2 < 1.0) // Inside ellipsoid (2 intersections).\n    {\n        float difference = q2 - 1.0; // Negatively valued.\n        float w2 = dot(w, w);\n        float product = w2 * difference; // Negatively valued.\n        float discriminant = qw * qw - product;\n        float temp = -qw + sqrt(discriminant); // Positively valued.\n        czm_raySegment i = czm_raySegment(0.0, temp / w2);\n        return i;\n    }\n    else // q2 == 1.0. On ellipsoid.\n    {\n        if (qw < 0.0) // Looking inward.\n        {\n            float w2 = dot(w, w);\n            czm_raySegment i = czm_raySegment(0.0, -qw / w2);\n            return i;\n        }\n        else // qw >= 0.0.  Looking outward or tangent.\n        {\n            return czm_emptyRaySegment;\n        }\n    }\n}\n"},"3t6G":function(e,t,i){"use strict";function n(e){return a.a.typeOf.string("uri",e),r.test(e)}var a=i("5F4X"),r=/^blob:/i;t.a=n},"4/4u":function(e,t,i){e.exports=i("cSWu").Transform},"42aX":function(e,t,i){"use strict";function n(e){o.a.typeOf.object("options",e),o.a.typeOf.object("options.frustum",e.frustum),o.a.typeOf.object("options.origin",e.origin),o.a.typeOf.object("options.orientation",e.orientation);var t,i,n=e.frustum,a=e.orientation,s=e.origin,l=Object(c.a)(e._drawNearPlane,!0);n instanceof m.a?(t=v,i=m.a.packedLength):n instanceof p.a&&(t=b,i=p.a.packedLength),this._frustumType=t,this._frustum=n.clone(),this._origin=r.a.clone(s),this._orientation=_.a.clone(a),this._drawNearPlane=l,this._workerName="createFrustumOutlineGeometry",this.packedLength=2+i+r.a.packedLength+_.a.packedLength}var a=i("lBr9"),r=i("Jj+J"),o=i("5F4X"),s=i("YCZg"),c=i("5A4e"),l=i("xC6Q"),u=i("TkFC"),h=i("RGAo"),d=i("RYD3"),f=i("GaJK"),p=i("ku5u"),m=i("MYGk"),g=i("nHNe"),_=i("q/xW"),v=0,b=1;n.pack=function(e,t,i){o.a.typeOf.object("value",e),o.a.defined("array",t),i=Object(c.a)(i,0);var n=e._frustumType,a=e._frustum;return t[i++]=n,n===v?(m.a.pack(a,t,i),i+=m.a.packedLength):(p.a.pack(a,t,i),i+=p.a.packedLength),r.a.pack(e._origin,t,i),i+=r.a.packedLength,_.a.pack(e._orientation,t,i),i+=_.a.packedLength,t[i]=e._drawNearPlane?1:0,t};var y=new m.a,O=new p.a,w=new _.a,x=new r.a;n.unpack=function(e,t,i){o.a.defined("array",e),t=Object(c.a)(t,0);var a,s=e[t++];s===v?(a=m.a.unpack(e,t,y),t+=m.a.packedLength):(a=p.a.unpack(e,t,O),t+=p.a.packedLength);var u=r.a.unpack(e,t,x);t+=r.a.packedLength;var h=_.a.unpack(e,t,w);t+=_.a.packedLength;var d=1===e[t];if(!Object(l.a)(i))return new n({frustum:a,origin:u,orientation:h,_drawNearPlane:d});var f=s===i._frustumType?i._frustum:void 0;return i._frustum=a.clone(f),i._frustumType=s,i._origin=r.a.clone(u,i._origin),i._orientation=_.a.clone(h,i._orientation),i._drawNearPlane=d,i},n.createGeometry=function(e){var t=e._frustumType,i=e._frustum,n=e._origin,r=e._orientation,o=e._drawNearPlane,c=new Float64Array(24);u.a._computeNearFarPlanes(n,r,t,i,c);for(var l,p,m=new f.a({position:new d.a({componentDatatype:s.a.DOUBLE,componentsPerAttribute:3,values:c})}),_=o?2:1,v=new Uint16Array(8*(_+1)),b=o?0:1;b<2;++b)l=o?8*b:0,p=4*b,v[l]=p,v[l+1]=p+1,v[l+2]=p+1,v[l+3]=p+2,v[l+4]=p+2,v[l+5]=p+3,v[l+6]=p+3,v[l+7]=p;for(b=0;b<2;++b)l=8*(_+b),p=4*b,v[l]=p,v[l+1]=p+4,v[l+2]=p+1,v[l+3]=p+5,v[l+4]=p+2,v[l+5]=p+6,v[l+6]=p+3,v[l+7]=p+7;return new h.a({attributes:m,indices:v,primitiveType:g.a.LINES,boundingSphere:a.a.fromVertices(c)})},t.a=n},"48Vk":function(e,t,i){"use strict";function n(e){var t=e.clock;t.currentTime=e.timeJulian,t.shouldAnimate=!1}function a(e,t){var i=e.scene.pick(t.position);if(Object(y.a)(i)){var n=Object(b.a)(i.id,i.primitive.id);if(n instanceof I.a)return n}if(Object(y.a)(e.scene.globe))return o(e,t.position)}function r(e,t,i){if(Object(y.a)(i)){var n=i.clock;Object(y.a)(n)&&(n.getValue(t),Object(y.a)(e)&&(e.updateFromClock(),e.zoomTo(n.startTime,n.stopTime)))}}function o(e,t){var i=e.scene,n=i.camera.getPickRay(t),a=i.imageryLayers.pickImageryLayerFeatures(n,i);if(Object(y.a)(a)){var r=new I.a({id:"Loading...",description:"Loading feature information..."});return Object(U.a)(a,function(t){if(e.selectedEntity===r){if(!Object(y.a)(t)||0===t.length)return void(e.selectedEntity=s());var i=t[0],n=new I.a({id:i.name,description:i.description});if(Object(y.a)(i.position)){var a=e.scene.globe.ellipsoid.cartographicToCartesian(i.position,ce);n.position=new j.a(a)}e.selectedEntity=n}},function(){e.selectedEntity===r&&(e.selectedEntity=s())}),r}}function s(){return new I.a({id:"None",description:"No features found."})}function c(e,t){var i=e._geocoder,n=e._homeButton,a=e._sceneModePicker,r=e._projectionPicker,o=e._baseLayerPicker,s=e._animation,c=e._timeline,l=e._fullscreenButton,u=e._infoBox,h=e._selectionIndicator,d=t?"hidden":"visible";if(Object(y.a)(i)&&(i.container.style.visibility=d),Object(y.a)(n)&&(n.container.style.visibility=d),Object(y.a)(a)&&(a.container.style.visibility=d),Object(y.a)(r)&&(r.container.style.visibility=d),Object(y.a)(o)&&(o.container.style.visibility=d),Object(y.a)(s)&&(s.container.style.visibility=d),Object(y.a)(c)&&(c.container.style.visibility=d),Object(y.a)(l)&&l.viewModel.isFullscreenEnabled&&(l.container.style.visibility=d),Object(y.a)(u)&&(u.container.style.visibility=d),Object(y.a)(h)&&(h.container.style.visibility=d),e._container){var f=t||!Object(y.a)(l)?0:l.container.clientWidth;e._vrButton.container.style.right=f+"px",e.forceResize()}}function l(e,t){function i(e){var t=a(s,e);Object(y.a)(t)?M.a.getValueOrUndefined(t.position,s.clock.currentTime)?s.trackedEntity=t:s.zoomTo(t):Object(y.a)(s.trackedEntity)&&(s.trackedEntity=void 0)}function r(e){s.selectedEntity=a(s,e)}if(!Object(y.a)(e))throw new w.a("container is required.");e=Object(Z.a)(e),t=Object(b.a)(t,b.a.EMPTY_OBJECT);var o=!(Object(y.a)(t.globe)&&!1===t.globe||Object(y.a)(t.baseLayerPicker)&&!1===t.baseLayerPicker);if(!o&&Object(y.a)(t.selectedImageryProviderViewModel))throw new w.a("options.selectedImageryProviderViewModel is not available when not using the BaseLayerPicker widget. Either specify options.imageryProvider instead or set options.baseLayerPicker to true.");if(!o&&Object(y.a)(t.selectedTerrainProviderViewModel))throw new w.a("options.selectedTerrainProviderViewModel is not available when not using the BaseLayerPicker widget. Either specify options.terrainProvider instead or set options.baseLayerPicker to true.");var s=this,u=document.createElement("div");u.className="cesium-viewer",e.appendChild(u);var h=document.createElement("div");h.className="cesium-viewer-cesiumWidgetContainer",u.appendChild(h);var d=document.createElement("div");d.className="cesium-viewer-bottom",u.appendChild(d);var f,p,m=Object(b.a)(t.scene3DOnly,!1),g=!1;Object(y.a)(t.clockViewModel)?(p=t.clockViewModel,f=p.clock):(f=new v.a,p=new X.a(f),g=!0),Object(y.a)(t.shouldAnimate)&&(f.shouldAnimate=t.shouldAnimate);var _=new Y.a(h,{imageryProvider:!o&&!Object(y.a)(t.imageryProvider)&&void 0,clock:f,skyBox:t.skyBox,skyAtmosphere:t.skyAtmosphere,sceneMode:t.sceneMode,mapProjection:t.mapProjection,globe:t.globe,orderIndependentTranslucency:t.orderIndependentTranslucency,contextOptions:t.contextOptions,useDefaultRenderLoop:t.useDefaultRenderLoop,targetFrameRate:t.targetFrameRate,showRenderLoopErrors:t.showRenderLoopErrors,useBrowserRecommendedResolution:t.useBrowserRecommendedResolution,creditContainer:Object(y.a)(t.creditContainer)?t.creditContainer:d,creditViewport:t.creditViewport,scene3DOnly:m,terrainExaggeration:t.terrainExaggeration,shadows:t.shadows,terrainShadows:t.terrainShadows,mapMode2D:t.mapMode2D,requestRenderMode:t.requestRenderMode,maximumRenderTimeChange:t.maximumRenderTimeChange}),O=t.dataSources,T=!1;Object(y.a)(O)||(O=new P.a,T=!0);var A=_.scene,S=new D.a({scene:A,dataSourceCollection:O}),j=new E.a;j.add(f.onTick,l.prototype._onTick,this),j.add(A.morphStart,l.prototype._clearTrackedObject,this);var I;if(!Object(y.a)(t.selectionIndicator)||!1!==t.selectionIndicator){var R=document.createElement("div");R.className="cesium-viewer-selectionIndicatorContainer",u.appendChild(R),I=new ne.a(R,A)}var L;if(!Object(y.a)(t.infoBox)||!1!==t.infoBox){var N=document.createElement("div");N.className="cesium-viewer-infoBoxContainer",u.appendChild(N),L=new $.a(N);var F=L.viewModel;j.add(F.cameraClicked,l.prototype._onInfoBoxCameraClicked,this),j.add(F.closeClicked,l.prototype._onInfoBoxClockClicked,this)}var z=document.createElement("div");z.className="cesium-viewer-toolbar",u.appendChild(z);var B;if(!Object(y.a)(t.geocoder)||!1!==t.geocoder){var U=document.createElement("div");U.className="cesium-viewer-geocoderContainer",z.appendChild(U);var se;Object(y.a)(t.geocoder)&&"boolean"!=typeof t.geocoder&&(se=Array.isArray(t.geocoder)?t.geocoder:[t.geocoder]),B=new J.a({container:U,geocoderServices:se,scene:A}),j.add(B.viewModel.search.beforeExecute,l.prototype._clearObjects,this)}var ce;if(Object(y.a)(t.homeButton)&&!1===t.homeButton||(ce=new K.a(z,A),Object(y.a)(B)&&j.add(ce.viewModel.command.afterExecute,function(){var e=B.viewModel;e.searchText="",e.isSearchInProgress&&e.search()}),j.add(ce.viewModel.command.beforeExecute,l.prototype._clearTrackedObject,this)),!0===t.sceneModePicker&&m)throw new w.a("options.sceneModePicker is not available when options.scene3DOnly is set to true.");var le;m||Object(y.a)(t.sceneModePicker)&&!1===t.sceneModePicker||(le=new ie.a(z,A));var ue;t.projectionPicker&&(ue=new te.a(z,A));var he,de;if(o){var fe=Object(b.a)(t.imageryProviderViewModels,Object(W.a)()),pe=Object(b.a)(t.terrainProviderViewModels,Object(G.a)());he=new q.a(z,{globe:A.globe,imageryProviderViewModels:fe,selectedImageryProviderViewModel:t.selectedImageryProviderViewModel,terrainProviderViewModels:pe,selectedTerrainProviderViewModel:t.selectedTerrainProviderViewModel});de=z.getElementsByClassName("cesium-baseLayerPicker-dropDown")[0]}Object(y.a)(t.imageryProvider)&&!1!==t.imageryProvider&&(o&&(he.viewModel.selectedImagery=void 0),A.imageryLayers.removeAll(),A.imageryLayers.addImageryProvider(t.imageryProvider)),Object(y.a)(t.terrainProvider)&&(o&&(he.viewModel.selectedTerrain=void 0),A.terrainProvider=t.terrainProvider);var me;if(!Object(y.a)(t.navigationHelpButton)||!1!==t.navigationHelpButton){var ge=!0;try{if(Object(y.a)(window.localStorage)){var _e=window.localStorage.getItem("cesium-hasSeenNavHelp");Object(y.a)(_e)&&Boolean(_e)?ge=!1:window.localStorage.setItem("cesium-hasSeenNavHelp","true")}}catch(e){}me=new ee.a({container:z,instructionsInitiallyVisible:Object(b.a)(t.navigationInstructionsInitiallyVisible,ge)})}var ve;if(!Object(y.a)(t.animation)||!1!==t.animation){var be=document.createElement("div");be.className="cesium-viewer-animationContainer",u.appendChild(be),ve=new V.a(be,new H.a(p))}var ye;if(!Object(y.a)(t.timeline)||!1!==t.timeline){var Oe=document.createElement("div");Oe.className="cesium-viewer-timelineContainer",u.appendChild(Oe),ye=new re.a(Oe,f),ye.addEventListener("settime",n,!1),ye.zoomTo(f.startTime,f.stopTime)}var we,xe,Ee;Object(y.a)(t.fullscreenButton)&&!1===t.fullscreenButton||(Ee=document.createElement("div"),Ee.className="cesium-viewer-fullscreenContainer",u.appendChild(Ee),we=new Q.a(Ee,t.fullscreenElement),xe=Object(ae.a)(we.viewModel,"isFullscreenEnabled",function(e){Ee.style.display=e?"block":"none",Object(y.a)(ye)&&(ye.container.style.right=Ee.clientWidth+"px",ye.resize())}));var Te,Ae,Ce;if(t.vrButton){var Se=document.createElement("div");Se.className="cesium-viewer-vrContainer",u.appendChild(Se),Te=new oe.a(Se,A,t.fullScreenElement),Ae=Object(ae.a)(Te.viewModel,"isVREnabled",function(e){Se.style.display=e?"block":"none",Object(y.a)(we)&&(Se.style.right=Ee.clientWidth+"px"),Object(y.a)(ye)&&(ye.container.style.right=Se.clientWidth+"px",ye.resize())}),Ce=Object(ae.a)(Te.viewModel,"isVRMode",function(e){c(s,e)})}this._baseLayerPickerDropDown=de,this._fullscreenSubscription=xe,this._vrSubscription=Ae,this._vrModeSubscription=Ce,this._dataSourceChangedListeners={},this._automaticallyTrackDataSourceClocks=Object(b.a)(t.automaticallyTrackDataSourceClocks,!0),this._container=e,this._bottomContainer=d,this._element=u,this._cesiumWidget=_,this._selectionIndicator=I,this._infoBox=L,this._dataSourceCollection=O,this._destroyDataSourceCollection=T,this._dataSourceDisplay=S,this._clockViewModel=p,this._destroyClockViewModel=g,this._toolbar=z,this._homeButton=ce,this._sceneModePicker=le,this._projectionPicker=ue,this._baseLayerPicker=he,this._navigationHelpButton=me,this._animation=ve,this._timeline=ye,this._fullscreenButton=we,this._vrButton=Te,this._geocoder=B,this._eventHelper=j,this._lastWidth=0,this._lastHeight=0,this._allowDataSourcesToSuspendAnimation=!0,this._entityView=void 0,this._enableInfoOrSelection=Object(y.a)(L)||Object(y.a)(I),this._clockTrackedDataSource=void 0,this._trackedEntity=void 0,this._needTrackedEntityUpdate=!1,this._selectedEntity=void 0,this._clockTrackedDataSource=void 0,this._zoomIsFlight=!1,this._zoomTarget=void 0,this._zoomPromise=void 0,this._zoomOptions=void 0,this._selectedEntityChanged=new x.a,this._trackedEntityChanged=new x.a,k.a.track(this,["_trackedEntity","_selectedEntity","_clockTrackedDataSource"]),j.add(O.dataSourceAdded,l.prototype._onDataSourceAdded,this),j.add(O.dataSourceRemoved,l.prototype._onDataSourceRemoved,this),j.add(A.postUpdate,l.prototype.resize,this),j.add(A.postRender,l.prototype._postRender,this);for(var je=O.length,Pe=0;Pe<je;Pe++)this._dataSourceAdded(O,O.get(Pe));this._dataSourceAdded(void 0,S.defaultDataSource),j.add(O.dataSourceAdded,l.prototype._dataSourceAdded,this),j.add(O.dataSourceRemoved,l.prototype._dataSourceRemoved,this),_.screenSpaceEventHandler.setInputAction(r,C.a.LEFT_CLICK),_.screenSpaceEventHandler.setInputAction(i,C.a.LEFT_DOUBLE_CLICK)}function u(e,t,i,n){if(!Object(y.a)(t))throw new w.a("zoomTarget is required.");d(e);var a=U.a.defer();return e._zoomPromise=a,e._zoomIsFlight=n,e._zoomOptions=i,Object(U.a)(t,function(t){if(e._zoomPromise===a){if(t instanceof F.a)return void t.getViewableRectangle().then(function(t){return Object(N.a)(t,e.scene)}).then(function(t){e._zoomPromise===a&&(e._zoomTarget=t)});if(t instanceof L.a)return void(e._zoomTarget=t);if(t instanceof B.a)return void(e._zoomTarget=t);if(t.isLoading&&Object(y.a)(t.loadingEvent))var i=t.loadingEvent.addEventListener(function(){i(),e._zoomPromise===a&&(e._zoomTarget=t.entities.values.slice(0))});else{if(Array.isArray(t))return void(e._zoomTarget=t.slice(0));t=Object(b.a)(t.values,t),Object(y.a)(t.entities)&&(t=t.entities.values),Array.isArray(t)?e._zoomTarget=t.slice(0):e._zoomTarget=[t]}}}),e.scene.requestRender(),a.promise}function h(e){e._zoomPromise=void 0,e._zoomTarget=void 0,e._zoomOptions=void 0}function d(e){var t=e._zoomPromise;Object(y.a)(t)&&(h(e),t.resolve(!1))}function f(e){var t=e._zoomTarget;if(Object(y.a)(t)&&e.scene.mode!==z.a.MORPHING){var i,n,a=e.scene,r=a.camera,o=e._zoomPromise,s=Object(b.a)(e._zoomOptions,{});if(t instanceof L.a)return t.readyPromise.then(function(){var n=t.boundingSphere;Object(y.a)(s.offset)||(s.offset=new T.a(0,-.5,n.radius)),i={offset:s.offset,duration:s.duration,maximumHeight:s.maximumHeight,complete:function(){o.resolve(!0)},cancel:function(){o.resolve(!1)}},e._zoomIsFlight?r.flyToBoundingSphere(t.boundingSphere,i):(r.viewBoundingSphere(n,s.offset),r.lookAtTransform(A.a.IDENTITY),o.resolve(!0)),h(e)});if(t instanceof B.a)return t.readyPromise.then(function(){var n=t.boundingSphere;Object(y.a)(s.offset)||(s.offset=new T.a(0,-.5,n.radius)),i={offset:s.offset,duration:s.duration,maximumHeight:s.maximumHeight,complete:function(){o.resolve(!0)},cancel:function(){o.resolve(!1)}},e._zoomIsFlight?r.flyToBoundingSphere(n,i):(r.viewBoundingSphere(n,s.offset),r.lookAtTransform(A.a.IDENTITY),o.resolve(!0)),h(e)});if(t instanceof _.a)return i={destination:a.mapProjection.ellipsoid.cartographicToCartesian(t),duration:s.duration,maximumHeight:s.maximumHeight,complete:function(){o.resolve(!0)},cancel:function(){o.resolve(!1)}},e._zoomIsFlight?r.flyTo(i):(r.setView(i),o.resolve(!0)),void h(e);for(var c=t,l=[],u=0,f=c.length;u<f;u++){var p=e._dataSourceDisplay.getBoundingSphere(c[u],!1,se);if(p===S.a.PENDING)return;p!==S.a.FAILED&&l.push(m.a.clone(se))}if(0===l.length)return void d(e);e.trackedEntity=void 0,n=m.a.fromBoundingSpheres(l),e._zoomIsFlight?(h(e),r.flyToBoundingSphere(n,{duration:s.duration,maximumHeight:s.maximumHeight,complete:function(){o.resolve(!0)},cancel:function(){o.resolve(!1)},offset:s.offset})):(r.viewBoundingSphere(n,s.offset),r.lookAtTransform(A.a.IDENTITY),h(e),o.resolve(!0))}}function p(e){if(e._needTrackedEntityUpdate){var t=e._trackedEntity,i=e.clock.currentTime,n=M.a.getValueOrUndefined(t.position,i);if(Object(y.a)(n)){var a=e.scene,r=e._dataSourceDisplay.getBoundingSphere(t,!1,se);if(r!==S.a.PENDING){var o=a.mode;o!==z.a.COLUMBUS_VIEW&&o!==z.a.SCENE2D||(a.screenSpaceCameraController.enableTranslate=!1),o!==z.a.COLUMBUS_VIEW&&o!==z.a.SCENE3D||(a.screenSpaceCameraController.enableTilt=!1);var s=r!==S.a.FAILED?se:void 0;e._entityView=new R.a(t,a,a.mapProjection.ellipsoid),e._entityView.update(i,s),e._needTrackedEntityUpdate=!1}}}}var m=i("lBr9"),g=i("Jj+J"),_=i("I3GD"),v=i("gDU9"),b=i("5A4e"),y=i("xC6Q"),O=i("6sr8"),w=i("PzDm"),x=i("W6xh"),E=i("HMO3"),T=i("ZHSH"),A=i("Xjii"),C=i("szK2"),S=i("P+tD"),j=i("jQbM"),P=i("OMvD"),D=i("Rlfl"),I=i("dMpj"),R=i("A5oW"),M=i("uhjI"),L=i("sRds"),N=i("Be4x"),F=i("u/3x"),z=i("sotJ"),B=i("+MAN"),k=i("PKIF"),U=i("S7OP"),V=i("HDPB"),H=i("lkIJ"),q=i("lNFN"),W=i("wiNt"),G=i("3QSf"),Y=i("WwX8"),X=i("HxGC"),Q=i("imMH"),J=i("we7d"),Z=i("k6tp"),K=i("JgEv"),$=i("2mmy"),ee=i("I3ep"),te=i("BFuI"),ie=i("3W40"),ne=i("JXpW"),ae=i("qy+6"),re=i("TnJT"),oe=i("Mnlr"),se=new m.a,ce=new g.a;Object.defineProperties(l.prototype,{container:{get:function(){return this._container}},bottomContainer:{get:function(){return this._bottomContainer}},cesiumWidget:{get:function(){return this._cesiumWidget}},selectionIndicator:{get:function(){return this._selectionIndicator}},infoBox:{get:function(){return this._infoBox}},geocoder:{get:function(){return this._geocoder}},homeButton:{get:function(){return this._homeButton}},sceneModePicker:{get:function(){return this._sceneModePicker}},projectionPicker:{get:function(){return this._projectionPicker}},baseLayerPicker:{get:function(){return this._baseLayerPicker}},navigationHelpButton:{get:function(){return this._navigationHelpButton}},animation:{get:function(){return this._animation}},timeline:{get:function(){return this._timeline}},fullscreenButton:{get:function(){return this._fullscreenButton}},vrButton:{get:function(){return this._vrButton}},dataSourceDisplay:{get:function(){return this._dataSourceDisplay}},entities:{get:function(){return this._dataSourceDisplay.defaultDataSource.entities}},dataSources:{get:function(){return this._dataSourceCollection}},canvas:{get:function(){return this._cesiumWidget.canvas}},scene:{get:function(){return this._cesiumWidget.scene}},shadows:{get:function(){return this.scene.shadowMap.enabled},set:function(e){this.scene.shadowMap.enabled=e}},terrainShadows:{get:function(){return this.scene.globe.shadows},set:function(e){this.scene.globe.shadows=e}},shadowMap:{get:function(){return this.scene.shadowMap}},imageryLayers:{get:function(){return this.scene.imageryLayers}},terrainProvider:{get:function(){return this.scene.terrainProvider},set:function(e){this.scene.terrainProvider=e}},camera:{get:function(){return this.scene.camera}},postProcessStages:{get:function(){return this.scene.postProcessStages}},clock:{get:function(){return this._clockViewModel.clock}},clockViewModel:{get:function(){return this._clockViewModel}},screenSpaceEventHandler:{get:function(){return this._cesiumWidget.screenSpaceEventHandler}},targetFrameRate:{get:function(){return this._cesiumWidget.targetFrameRate},set:function(e){this._cesiumWidget.targetFrameRate=e}},useDefaultRenderLoop:{get:function(){return this._cesiumWidget.useDefaultRenderLoop},set:function(e){this._cesiumWidget.useDefaultRenderLoop=e}},resolutionScale:{get:function(){return this._cesiumWidget.resolutionScale},set:function(e){this._cesiumWidget.resolutionScale=e}},useBrowserRecommendedResolution:{get:function(){return this._cesiumWidget.useBrowserRecommendedResolution},set:function(e){this._cesiumWidget.useBrowserRecommendedResolution=e}},allowDataSourcesToSuspendAnimation:{get:function(){return this._allowDataSourcesToSuspendAnimation},set:function(e){this._allowDataSourcesToSuspendAnimation=e}},trackedEntity:{get:function(){return this._trackedEntity},set:function(e){if(this._trackedEntity!==e){this._trackedEntity=e,d(this);var t=this.scene,i=t.mode;Object(y.a)(e)&&Object(y.a)(e.position)?this._needTrackedEntityUpdate=!0:(this._needTrackedEntityUpdate=!1,i!==z.a.COLUMBUS_VIEW&&i!==z.a.SCENE2D||(t.screenSpaceCameraController.enableTranslate=!0),i!==z.a.COLUMBUS_VIEW&&i!==z.a.SCENE3D||(t.screenSpaceCameraController.enableTilt=!0),this._entityView=void 0,this.camera.lookAtTransform(A.a.IDENTITY)),this._trackedEntityChanged.raiseEvent(e),this.scene.requestRender()}}},selectedEntity:{get:function(){return this._selectedEntity},set:function(e){if(this._selectedEntity!==e){this._selectedEntity=e;var t=Object(y.a)(this._selectionIndicator)?this._selectionIndicator.viewModel:void 0;Object(y.a)(e)?Object(y.a)(t)&&t.animateAppear():Object(y.a)(t)&&t.animateDepart(),this._selectedEntityChanged.raiseEvent(e)}}},selectedEntityChanged:{get:function(){return this._selectedEntityChanged}},trackedEntityChanged:{get:function(){return this._trackedEntityChanged}},clockTrackedDataSource:{get:function(){return this._clockTrackedDataSource},set:function(e){this._clockTrackedDataSource!==e&&(this._clockTrackedDataSource=e,r(this._timeline,this.clock,e))}}}),l.prototype.extend=function(e,t){if(!Object(y.a)(e))throw new w.a("mixin is required.");e(this,t)},l.prototype.resize=function(){var e=this._cesiumWidget,t=this._container,i=t.clientWidth,n=t.clientHeight,a=Object(y.a)(this._animation),r=Object(y.a)(this._timeline);if(e.resize(),i!==this._lastWidth||n!==this._lastHeight){var o=n-125,s=this._baseLayerPickerDropDown;if(Object(y.a)(s)&&(s.style.maxHeight=o+"px"),Object(y.a)(this._geocoder)){this._geocoder.searchSuggestionsContainer.style.maxHeight=o+"px"}Object(y.a)(this._infoBox)&&(this._infoBox.viewModel.maxHeight=o);var c,l=this._timeline,u=0,h=0,d=0;if(a&&"hidden"!==window.getComputedStyle(this._animation.container).visibility){var f=this._lastWidth;c=this._animation.container,i>900?(u=169,f<=900&&(c.style.width="169px",c.style.height="112px",this._animation.resize())):i>=600?(u=136,(f<600||f>900)&&(c.style.width="136px",c.style.height="90px",this._animation.resize())):(u=106,(f>600||0===f)&&(c.style.width="106px",c.style.height="70px",this._animation.resize())),h=u+5}if(r&&"hidden"!==window.getComputedStyle(this._timeline.container).visibility){var p=this._fullscreenButton,m=this._vrButton,g=l.container,_=g.style;d=g.clientHeight+3,_.left=u+"px";var v=0;Object(y.a)(p)&&(v+=p.container.clientWidth),Object(y.a)(m)&&(v+=m.container.clientWidth),_.right=v+"px",l.resize()}this._bottomContainer.style.left=h+"px",this._bottomContainer.style.bottom=d+"px",this._lastWidth=i,this._lastHeight=n}},l.prototype.forceResize=function(){this._lastWidth=0,this.resize()},l.prototype.render=function(){this._cesiumWidget.render()},l.prototype.isDestroyed=function(){return!1},l.prototype.destroy=function(){var e;this.screenSpaceEventHandler.removeInputAction(C.a.LEFT_CLICK),this.screenSpaceEventHandler.removeInputAction(C.a.LEFT_DOUBLE_CLICK);var t=this.dataSources,i=t.length;for(e=0;e<i;e++)this._dataSourceRemoved(t,t.get(e));return this._dataSourceRemoved(void 0,this._dataSourceDisplay.defaultDataSource),this._container.removeChild(this._element),this._element.removeChild(this._toolbar),this._eventHelper.removeAll(),Object(y.a)(this._geocoder)&&(this._geocoder=this._geocoder.destroy()),Object(y.a)(this._homeButton)&&(this._homeButton=this._homeButton.destroy()),Object(y.a)(this._sceneModePicker)&&(this._sceneModePicker=this._sceneModePicker.destroy()),Object(y.a)(this._projectionPicker)&&(this._projectionPicker=this._projectionPicker.destroy()),Object(y.a)(this._baseLayerPicker)&&(this._baseLayerPicker=this._baseLayerPicker.destroy()),Object(y.a)(this._animation)&&(this._element.removeChild(this._animation.container),this._animation=this._animation.destroy()),Object(y.a)(this._timeline)&&(this._timeline.removeEventListener("settime",n,!1),this._element.removeChild(this._timeline.container),this._timeline=this._timeline.destroy()),Object(y.a)(this._fullscreenButton)&&(this._fullscreenSubscription.dispose(),this._element.removeChild(this._fullscreenButton.container),this._fullscreenButton=this._fullscreenButton.destroy()),Object(y.a)(this._vrButton)&&(this._vrSubscription.dispose(),this._vrModeSubscription.dispose(),this._element.removeChild(this._vrButton.container),this._vrButton=this._vrButton.destroy()),Object(y.a)(this._infoBox)&&(this._element.removeChild(this._infoBox.container),this._infoBox=this._infoBox.destroy()),Object(y.a)(this._selectionIndicator)&&(this._element.removeChild(this._selectionIndicator.container),this._selectionIndicator=this._selectionIndicator.destroy()),this._destroyClockViewModel&&(this._clockViewModel=this._clockViewModel.destroy()),this._dataSourceDisplay=this._dataSourceDisplay.destroy(),this._cesiumWidget=this._cesiumWidget.destroy(),this._destroyDataSourceCollection&&(this._dataSourceCollection=this._dataSourceCollection.destroy()),Object(O.a)(this)},l.prototype._dataSourceAdded=function(e,t){t.entities.collectionChanged.addEventListener(l.prototype._onEntityCollectionChanged,this)},l.prototype._dataSourceRemoved=function(e,t){var i=t.entities;i.collectionChanged.removeEventListener(l.prototype._onEntityCollectionChanged,this),Object(y.a)(this.trackedEntity)&&i.getById(this.trackedEntity.id)===this.trackedEntity&&(this.trackedEntity=void 0),Object(y.a)(this.selectedEntity)&&i.getById(this.selectedEntity.id)===this.selectedEntity&&(this.selectedEntity=void 0)},l.prototype._onTick=function(e){var t=e.currentTime,i=this._dataSourceDisplay.update(t);this._allowDataSourcesToSuspendAnimation&&(this._clockViewModel.canAnimate=i);var n=this._entityView;if(Object(y.a)(n)){var a=this._trackedEntity;this._dataSourceDisplay.getBoundingSphere(a,!1,se)===S.a.DONE&&n.update(t,se)}var r,o=!1,s=this.selectedEntity,c=Object(y.a)(s)&&this._enableInfoOrSelection;if(c&&s.isShowing&&s.isAvailable(t)){this._dataSourceDisplay.getBoundingSphere(s,!0,se)!==S.a.FAILED?r=se.center:Object(y.a)(s.position)&&(r=s.position.getValue(t,r)),o=Object(y.a)(r)}var l=Object(y.a)(this._selectionIndicator)?this._selectionIndicator.viewModel:void 0;Object(y.a)(l)&&(l.position=g.a.clone(r,l.position),l.showSelection=c&&o,l.update());var u=Object(y.a)(this._infoBox)?this._infoBox.viewModel:void 0;Object(y.a)(u)&&(u.showInfo=c,u.enableCamera=o,u.isCameraTracking=this.trackedEntity===this.selectedEntity,c?(u.titleText=Object(b.a)(s.name,s.id),u.description=M.a.getValueOrDefault(s.description,t,"")):(u.titleText="",u.description=""))},l.prototype._onEntityCollectionChanged=function(e,t,i){for(var n=i.length,a=0;a<n;a++){var r=i[a];this.trackedEntity===r&&(this.trackedEntity=void 0),this.selectedEntity===r&&(this.selectedEntity=void 0)}},l.prototype._onInfoBoxCameraClicked=function(e){if(e.isCameraTracking&&this.trackedEntity===this.selectedEntity)this.trackedEntity=void 0;else{var t=this.selectedEntity,i=t.position;Object(y.a)(i)?this.trackedEntity=this.selectedEntity:this.zoomTo(this.selectedEntity)}},l.prototype._clearTrackedObject=function(){this.trackedEntity=void 0},l.prototype._onInfoBoxClockClicked=function(e){this.selectedEntity=void 0},l.prototype._clearObjects=function(){this.trackedEntity=void 0,this.selectedEntity=void 0},l.prototype._onDataSourceChanged=function(e){this.clockTrackedDataSource===e&&r(this.timeline,this.clock,e)},l.prototype._onDataSourceAdded=function(e,t){this._automaticallyTrackDataSourceClocks&&(this.clockTrackedDataSource=t);var i=t.entities.id,n=this._eventHelper.add(t.changedEvent,l.prototype._onDataSourceChanged,this);this._dataSourceChangedListeners[i]=n},l.prototype._onDataSourceRemoved=function(e,t){var i=this.clockTrackedDataSource===t,n=t.entities.id;if(this._dataSourceChangedListeners[n](),this._dataSourceChangedListeners[n]=void 0,i){var a=e.length;this._automaticallyTrackDataSourceClocks&&a>0?this.clockTrackedDataSource=e.get(a-1):this.clockTrackedDataSource=void 0}},l.prototype.zoomTo=function(e,t){return u(this,e,{offset:t},!1)},l.prototype.flyTo=function(e,t){return u(this,e,t,!0)},l.prototype._postRender=function(){f(this),p(this)},t.a=l},"49+N":function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT),this._definitionChanged=new c.a,this._evenColor=void 0,this._evenColorSubscription=void 0,this._oddColor=void 0,this._oddColorSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this.evenColor=e.evenColor,this.oddColor=e.oddColor,this.repeat=e.repeat}var a=i("Ss9j"),r=i("6F0S"),o=i("5A4e"),s=i("xC6Q"),c=i("W6xh"),l=i("7687"),u=i("uhjI"),h=r.a.WHITE,d=r.a.BLACK,f=new a.a(2,2);Object.defineProperties(n.prototype,{isConstant:{get:function(){return u.a.isConstant(this._evenColor)&&u.a.isConstant(this._oddColor)&&u.a.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},evenColor:Object(l.a)("evenColor"),oddColor:Object(l.a)("oddColor"),repeat:Object(l.a)("repeat")}),n.prototype.getType=function(e){return"Checkerboard"},n.prototype.getValue=function(e,t){return Object(s.a)(t)||(t={}),t.lightColor=u.a.getValueOrClonedDefault(this._evenColor,e,h,t.lightColor),t.darkColor=u.a.getValueOrClonedDefault(this._oddColor,e,d,t.darkColor),t.repeat=u.a.getValueOrDefault(this._repeat,e,f),t},n.prototype.equals=function(e){return this===e||e instanceof n&&u.a.equals(this._evenColor,e._evenColor)&&u.a.equals(this._oddColor,e._oddColor)&&u.a.equals(this._repeat,e._repeat)},t.a=n},"49Ew":function(e,t,i){"use strict";function n(e,t){if(!Object(a.a)(e)||!Object(a.a)(t))throw new r.a("identifier and message are required.");Object(o.a)(e,t)}var a=i("xC6Q"),r=i("PzDm"),o=i("VF2d");t.a=n},"4A4c":function(e,t,i){"use strict";function n(e){if(!Object(a.a)(e))throw new r.a("queryString is required.");var t={};if(""===e)return t;for(var i=e.replace(/\+/g,"%20").split(/[&;]/),n=0,o=i.length;n<o;++n){var s=i[n].split("="),c=decodeURIComponent(s[0]),l=s[1];l=Object(a.a)(l)?decodeURIComponent(l):"";var u=t[c];"string"==typeof u?t[c]=[u,l]:Array.isArray(u)?u.push(l):t[c]=l}return t}var a=i("xC6Q"),r=i("PzDm");t.a=n},"4Dr5":function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT);var t=Object(a.a)(e.style,o.a.AERIAL);return new r.a({assetId:t})}var a=i("5A4e"),r=i("cHuy"),o=i("WJVr");t.a=n},"4F8Z":function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT);var t=e.styleId;if(!Object(o.a)(t))throw new s.a("options.styleId is required.");var i=l.a.createIfNeeded(Object(r.a)(e.url,"https://api.mapbox.com/styles/v1/")),n=c.a.getAccessToken(e.accessToken);this._styleId=t,this._accessToken=n,this._accessTokenErrorCredit=a.a.clone(c.a.getErrorCredit(e.accessToken));var f=Object(r.a)(e.tilesize,512);this._tilesize=f;var p=Object(r.a)(e.username,"mapbox");this._username=p;var m=Object(o.a)(e.scaleFactor)?"@2x":"",g=i.getUrlComponent();h.test(g)||(g+="/"),g+=this._username+"/"+t+"/tiles/"+this._tilesize+"/{z}/{x}/{y}"+m,i.url=g,i.setQueryParameters({access_token:n});var _;Object(o.a)(e.credit)?"string"==typeof(_=e.credit)&&(_=new a.a(_)):_=d,this._resource=i,this._imageryProvider=new u.a({url:i,credit:_,ellipsoid:e.ellipsoid,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,rectangle:e.rectangle})}var a=i("ODTd"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("rk7A"),l=i("rMjQ"),u=i("LS2q"),h=/\/$/,d=new a.a('&copy; <a href="https://www.mapbox.com/about/maps/">Mapbox</a> &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/">Improve this map</a></strong>');Object.defineProperties(n.prototype,{url:{get:function(){return this._imageryProvider.url}},ready:{get:function(){return this._imageryProvider.ready}},readyPromise:{get:function(){return this._imageryProvider.readyPromise}},rectangle:{get:function(){return this._imageryProvider.rectangle}},tileWidth:{get:function(){return this._imageryProvider.tileWidth}},tileHeight:{get:function(){return this._imageryProvider.tileHeight}},maximumLevel:{get:function(){return this._imageryProvider.maximumLevel}},minimumLevel:{get:function(){return this._imageryProvider.minimumLevel}},tilingScheme:{get:function(){return this._imageryProvider.tilingScheme}},tileDiscardPolicy:{get:function(){return this._imageryProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._imageryProvider.errorEvent}},credit:{get:function(){return this._imageryProvider.credit}},proxy:{get:function(){return this._imageryProvider.proxy}},hasAlphaChannel:{get:function(){return this._imageryProvider.hasAlphaChannel}}}),n.prototype.getTileCredits=function(e,t,i){if(Object(o.a)(this._accessTokenErrorCredit))return[this._accessTokenErrorCredit]},n.prototype.requestImage=function(e,t,i,n){return this._imageryProvider.requestImage(e,t,i,n)},n.prototype.pickFeatures=function(e,t,i,n,a){return this._imageryProvider.pickFeatures(e,t,i,n,a)},n._defaultCredit=d,t.a=n},"4JNl":function(e,t,i){"use strict";function n(e,t,i,n){switch(t.type){case e.FLOAT:return new a(e,t,i,n);case e.FLOAT_VEC2:return new r(e,t,i,n);case e.FLOAT_VEC3:return new o(e,t,i,n);case e.FLOAT_VEC4:return new s(e,t,i,n);case e.SAMPLER_2D:case e.SAMPLER_CUBE:return new c(e,t,i,n);case e.INT:case e.BOOL:return new l(e,t,i,n);case e.INT_VEC2:case e.BOOL_VEC2:return new u(e,t,i,n);case e.INT_VEC3:case e.BOOL_VEC3:return new h(e,t,i,n);case e.INT_VEC4:case e.BOOL_VEC4:return new d(e,t,i,n);case e.FLOAT_MAT2:return new f(e,t,i,n);case e.FLOAT_MAT3:return new p(e,t,i,n);case e.FLOAT_MAT4:return new m(e,t,i,n);default:throw new T.a("Unrecognized uniform type: "+t.type+' for uniform "'+i+'".')}}function a(e,t,i,n){this.name=i,this.value=void 0,this._value=0,this._gl=e,this._location=n}function r(e,t,i,n){this.name=i,this.value=void 0,this._value=new g.a,this._gl=e,this._location=n}function o(e,t,i,n){this.name=i,this.value=void 0,this._value=void 0,this._gl=e,this._location=n}function s(e,t,i,n){this.name=i,this.value=void 0,this._value=void 0,this._gl=e,this._location=n}function c(e,t,i,n){this.name=i,this.value=void 0,this._gl=e,this._location=n,this.textureUnitIndex=void 0}function l(e,t,i,n){this.name=i,this.value=void 0,this._value=0,this._gl=e,this._location=n}function u(e,t,i,n){this.name=i,this.value=void 0,this._value=new g.a,this._gl=e,this._location=n}function h(e,t,i,n){this.name=i,this.value=void 0,this._value=new _.a,this._gl=e,this._location=n}function d(e,t,i,n){this.name=i,this.value=void 0,this._value=new v.a,this._gl=e,this._location=n}function f(e,t,i,n){this.name=i,this.value=void 0,this._value=new w.a,this._gl=e,this._location=n}function p(e,t,i,n){this.name=i,this.value=void 0,this._value=new x.a,this._gl=e,this._location=n}function m(e,t,i,n){this.name=i,this.value=void 0,this._value=new E.a,this._gl=e,this._location=n}var g=i("Ss9j"),_=i("Jj+J"),v=i("PDkd"),b=i("6F0S"),y=i("xC6Q"),O=i("PzDm"),w=i("BvC/"),x=i("i3sv"),E=i("Xjii"),T=i("V22k");a.prototype.set=function(){this.value!==this._value&&(this._value=this.value,this._gl.uniform1f(this._location,this.value))},r.prototype.set=function(){var e=this.value;g.a.equals(e,this._value)||(g.a.clone(e,this._value),this._gl.uniform2f(this._location,e.x,e.y))},o.prototype.set=function(){var e=this.value;if(Object(y.a)(e.red))b.a.equals(e,this._value)||(this._value=b.a.clone(e,this._value),this._gl.uniform3f(this._location,e.red,e.green,e.blue));else{if(!Object(y.a)(e.x))throw new O.a('Invalid vec3 value for uniform "'+this.name+'".');_.a.equals(e,this._value)||(this._value=_.a.clone(e,this._value),this._gl.uniform3f(this._location,e.x,e.y,e.z))}},s.prototype.set=function(){var e=this.value;if(Object(y.a)(e.red))b.a.equals(e,this._value)||(this._value=b.a.clone(e,this._value),this._gl.uniform4f(this._location,e.red,e.green,e.blue,e.alpha));else{if(!Object(y.a)(e.x))throw new O.a('Invalid vec4 value for uniform "'+this.name+'".');v.a.equals(e,this._value)||(this._value=v.a.clone(e,this._value),this._gl.uniform4f(this._location,e.x,e.y,e.z,e.w))}},c.prototype.set=function(){var e=this._gl;e.activeTexture(e.TEXTURE0+this.textureUnitIndex);var t=this.value;e.bindTexture(t._target,t._texture)},c.prototype._setSampler=function(e){return this.textureUnitIndex=e,this._gl.uniform1i(this._location,e),e+1},l.prototype.set=function(){this.value!==this._value&&(this._value=this.value,this._gl.uniform1i(this._location,this.value))},u.prototype.set=function(){var e=this.value;g.a.equals(e,this._value)||(g.a.clone(e,this._value),this._gl.uniform2i(this._location,e.x,e.y))},h.prototype.set=function(){var e=this.value;_.a.equals(e,this._value)||(_.a.clone(e,this._value),this._gl.uniform3i(this._location,e.x,e.y,e.z))},d.prototype.set=function(){var e=this.value;v.a.equals(e,this._value)||(v.a.clone(e,this._value),this._gl.uniform4i(this._location,e.x,e.y,e.z,e.w))};var A=new Float32Array(4);f.prototype.set=function(){if(!w.a.equalsArray(this.value,this._value,0)){w.a.clone(this.value,this._value);var e=w.a.toArray(this.value,A);this._gl.uniformMatrix2fv(this._location,!1,e)}};var C=new Float32Array(9);p.prototype.set=function(){if(!x.a.equalsArray(this.value,this._value,0)){x.a.clone(this.value,this._value);var e=x.a.toArray(this.value,C);this._gl.uniformMatrix3fv(this._location,!1,e)}};var S=new Float32Array(16);m.prototype.set=function(){if(!E.a.equalsArray(this.value,this._value,0)){E.a.clone(this.value,this._value);var e=E.a.toArray(this.value,S);this._gl.uniformMatrix4fv(this._location,!1,e)}},t.a=n},"4MnW":function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT),this._ellipsoid=Object(o.a)(e.ellipsoid,c.a.WGS84),this._rectangle=Object(o.a)(e.rectangle,h.a.MAX_VALUE),this._projection=new l.a(this._ellipsoid),this._numberOfLevelZeroTilesX=Object(o.a)(e.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=Object(o.a)(e.numberOfLevelZeroTilesY,1)}var a=i("Ss9j"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("y6fO"),l=i("eUIW"),u=i("fq+p"),h=i("Wq1U");Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),n.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},n.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},n.prototype.rectangleToNativeRectangle=function(e,t){r.a.defined("rectangle",e);var i=u.a.toDegrees(e.west),n=u.a.toDegrees(e.south),a=u.a.toDegrees(e.east),o=u.a.toDegrees(e.north);return Object(s.a)(t)?(t.west=i,t.south=n,t.east=a,t.north=o,t):new h.a(i,n,a,o)},n.prototype.tileXYToNativeRectangle=function(e,t,i,n){var a=this.tileXYToRectangle(e,t,i,n);return a.west=u.a.toDegrees(a.west),a.south=u.a.toDegrees(a.south),a.east=u.a.toDegrees(a.east),a.north=u.a.toDegrees(a.north),a},n.prototype.tileXYToRectangle=function(e,t,i,n){var a=this._rectangle,r=this.getNumberOfXTilesAtLevel(i),o=this.getNumberOfYTilesAtLevel(i),c=a.width/r,l=e*c+a.west,u=(e+1)*c+a.west,d=a.height/o,f=a.north-t*d,p=a.north-(t+1)*d;return Object(s.a)(n)||(n=new h.a(l,p,u,f)),n.west=l,n.south=p,n.east=u,n.north=f,n},n.prototype.positionToTileXY=function(e,t,i){var n=this._rectangle;if(h.a.contains(n,e)){var r=this.getNumberOfXTilesAtLevel(t),o=this.getNumberOfYTilesAtLevel(t),c=n.width/r,l=n.height/o,d=e.longitude;n.east<n.west&&(d+=u.a.TWO_PI);var f=(d-n.west)/c|0;f>=r&&(f=r-1);var p=(n.north-e.latitude)/l|0;return p>=o&&(p=o-1),Object(s.a)(i)?(i.x=f,i.y=p,i):new a.a(f,p)}},t.a=n},"4PZS":function(e,t,i){"use strict";t.a="/**\n * The automatic GLSL constant for {@link Pass#CESIUM_3D_TILE_CLASSIFICATION}\n *\n * @name czm_passCesium3DTileClassification\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passCesium3DTileClassification = 5.0;\n"},"4WGI":function(e,t,i){"use strict";function n(e){if(!Object(a.a)(e))throw new o.a("scene is required.");this._scene=e,this._orthographic=e.camera.frustum instanceof c.a,this._flightInProgress=!1,this.dropDownVisible=!1,this.tooltipPerspective="Perspective Projection",this.tooltipOrthographic="Orthographic Projection",this.selectedTooltip=void 0,this.sceneMode=e.mode,u.a.track(this,["_orthographic","_flightInProgress","sceneMode","dropDownVisible","tooltipPerspective","tooltipOrthographic"]);var t=this;u.a.defineProperty(this,"selectedTooltip",function(){return t._orthographic?t.tooltipOrthographic:t.tooltipPerspective}),this._toggleDropDown=Object(h.a)(function(){t.sceneMode===l.a.SCENE2D||t._flightInProgress||(t.dropDownVisible=!t.dropDownVisible)}),this._eventHelper=new s.a,this._eventHelper.add(e.morphComplete,function(e,i,n,a){t.sceneMode=n,t._orthographic=n===l.a.SCENE2D||t._scene.camera.frustum instanceof c.a}),this._eventHelper.add(e.preRender,function(){t._flightInProgress=Object(a.a)(e.camera._currentFlight)}),this._switchToPerspective=Object(h.a)(function(){t.sceneMode!==l.a.SCENE2D&&(t._scene.camera.switchToPerspectiveFrustum(),t._orthographic=!1,t.dropDownVisible=!1)}),this._switchToOrthographic=Object(h.a)(function(){t.sceneMode!==l.a.SCENE2D&&(t._scene.camera.switchToOrthographicFrustum(),t._orthographic=!0,t.dropDownVisible=!1)}),this._sceneMode=l.a}var a=i("xC6Q"),r=i("6sr8"),o=i("PzDm"),s=i("HMO3"),c=i("ku5u"),l=i("sotJ"),u=i("PKIF"),h=i("E9RU");Object.defineProperties(n.prototype,{scene:{get:function(){return this._scene}},toggleDropDown:{get:function(){return this._toggleDropDown}},switchToPerspective:{get:function(){return this._switchToPerspective}},switchToOrthographic:{get:function(){return this._switchToOrthographic}},isOrthographicProjection:{get:function(){return this._orthographic}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){this._eventHelper.removeAll(),Object(r.a)(this)},t.a=n},"4X+t":function(e,t,i){"use strict";function n(e){var t=!1,i=window.screen;return Object(c.a)(i)&&(Object(c.a)(i.lockOrientation)?t=i.lockOrientation(e):Object(c.a)(i.mozLockOrientation)?t=i.mozLockOrientation(e):Object(c.a)(i.msLockOrientation)?t=i.msLockOrientation(e):Object(c.a)(i.orientation&&i.orientation.lock)&&(t=i.orientation.lock(e))),t}function a(){var e=window.screen;Object(c.a)(e)&&(Object(c.a)(e.unlockOrientation)?e.unlockOrientation():Object(c.a)(e.mozUnlockOrientation)?e.mozUnlockOrientation():Object(c.a)(e.msUnlockOrientation)?e.msUnlockOrientation():Object(c.a)(e.orientation&&e.orientation.unlock)&&e.orientation.unlock())}function r(e,t,i,r){r()||(i()?(t.useWebVR=!1,e._locked&&(a(),e._locked=!1),e._noSleep.disable(),d.a.exitFullscreen(),i(!1)):(d.a.fullscreen||d.a.requestFullscreen(e._vrElement),e._noSleep.enable(),e._locked||(e._locked=n("landscape")),t.useWebVR=!0,i(!0)))}function o(e,t){if(!Object(c.a)(e))throw new u.a("scene is required.");var i=this,n=p.a.observable(d.a.enabled),o=p.a.observable(!1);this.isVRMode=void 0,p.a.defineProperty(this,"isVRMode",{get:function(){return o()}}),this.isVREnabled=void 0,p.a.defineProperty(this,"isVREnabled",{get:function(){return n()},set:function(e){n(e&&d.a.enabled)}}),this.tooltip=void 0,p.a.defineProperty(this,"tooltip",function(){return n()?o()?"Exit VR mode":"Enter VR mode":"VR mode is unavailable"});var l=p.a.observable(!1);this._isOrthographic=void 0,p.a.defineProperty(this,"_isOrthographic",{get:function(){return l()}}),this._eventHelper=new h.a,this._eventHelper.add(e.preRender,function(){l(e.camera.frustum instanceof f.a)}),this._locked=!1,this._noSleep=new m.a,this._command=Object(g.a)(function(){r(i,e,o,l)},p.a.getObservable(this,"isVREnabled")),this._vrElement=Object(s.a)(Object(_.a)(t),document.body),this._callback=function(){!d.a.fullscreen&&o()&&(e.useWebVR=!1,i._locked&&(a(),i._locked=!1),i._noSleep.disable(),o(!1))},document.addEventListener(d.a.changeEventName,this._callback)}var s=i("5A4e"),c=i("xC6Q"),l=i("6sr8"),u=i("PzDm"),h=i("HMO3"),d=i("fH8I"),f=i("ku5u"),p=i("PKIF"),m=i("/yZF"),g=i("E9RU"),_=i("k6tp");Object.defineProperties(o.prototype,{vrElement:{get:function(){return this._vrElement},set:function(e){if(!(e instanceof Element))throw new u.a("value must be a valid Element.");this._vrElement=e}},command:{get:function(){return this._command}}}),o.prototype.isDestroyed=function(){return!1},o.prototype.destroy=function(){this._eventHelper.removeAll(),document.removeEventListener(d.a.changeEventName,this._callback),Object(l.a)(this)},t.a=o},"4ats":function(e,t,i){"use strict";t.a='#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nuniform sampler2D u_atlas;\n\n#ifdef VECTOR_TILE\nuniform vec4 u_highlightColor;\n#endif\n\nvarying vec2 v_textureCoordinates;\nvarying vec4 v_pickColor;\nvarying vec4 v_color;\n\n#ifdef SDF\nvarying vec4 v_outlineColor;\nvarying float v_outlineWidth;\n#endif\n\n#ifdef FRAGMENT_DEPTH_CHECK\nvarying vec4 v_textureCoordinateBounds;                  // the min and max x and y values for the texture coordinates\nvarying vec4 v_originTextureCoordinateAndTranslate;      // texture coordinate at the origin, billboard translate (used for label glyphs)\nvarying vec4 v_compressed;                               // x: eyeDepth, y: applyTranslate & enableDepthCheck, z: dimensions, w: imageSize\nvarying mat2 v_rotationMatrix;\n\nconst float SHIFT_LEFT12 = 4096.0;\nconst float SHIFT_LEFT1 = 2.0;\n\nconst float SHIFT_RIGHT12 = 1.0 / 4096.0;\nconst float SHIFT_RIGHT1 = 1.0 / 2.0;\n\nfloat getGlobeDepth(vec2 adjustedST, vec2 depthLookupST, bool applyTranslate, vec2 dimensions, vec2 imageSize)\n{\n    vec2 lookupVector = imageSize * (depthLookupST - adjustedST);\n    lookupVector = v_rotationMatrix * lookupVector;\n    vec2 labelOffset = (dimensions - imageSize) * (depthLookupST - vec2(0.0, v_originTextureCoordinateAndTranslate.y)); // aligns label glyph with bounding rectangle.  Will be zero for billboards because dimensions and imageSize will be equal\n\n    vec2 translation = v_originTextureCoordinateAndTranslate.zw;\n\n    if (applyTranslate)\n    {\n        // this is only needed for labels where the horizontal origin is not LEFT\n        // it moves the label back to where the "origin" should be since all label glyphs are set to HorizontalOrigin.LEFT\n        translation += (dimensions * v_originTextureCoordinateAndTranslate.xy * vec2(1.0, 0.0));\n    }\n\n    vec2 st = ((lookupVector - translation + labelOffset) + gl_FragCoord.xy) / czm_viewport.zw;\n    float logDepthOrDepth = czm_unpackDepth(texture2D(czm_globeDepthTexture, st));\n\n    if (logDepthOrDepth == 0.0)\n    {\n        return 0.0; // not on the globe\n    }\n\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, logDepthOrDepth);\n    return eyeCoordinate.z / eyeCoordinate.w;\n}\n#endif\n\n\n#ifdef SDF\n\n// Get the distance from the edge of a glyph at a given position sampling an SDF texture.\nfloat getDistance(vec2 position)\n{\n    return texture2D(u_atlas, position).r;\n}\n\n// Samples the sdf texture at the given position and produces a color based on the fill color and the outline.\nvec4 getSDFColor(vec2 position, float outlineWidth, vec4 outlineColor, float smoothing)\n{\n    float distance = getDistance(position);\n\n    if (outlineWidth > 0.0)\n    {\n        // Don\'t get the outline edge exceed the SDF_EDGE\n        float outlineEdge = clamp(SDF_EDGE - outlineWidth, 0.0, SDF_EDGE);\n        float outlineFactor = smoothstep(SDF_EDGE - smoothing, SDF_EDGE + smoothing, distance);\n        vec4 sdfColor = mix(outlineColor, v_color, outlineFactor);\n        float alpha = smoothstep(outlineEdge - smoothing, outlineEdge + smoothing, distance);\n        return vec4(sdfColor.rgb, sdfColor.a * alpha);\n    }\n    else\n    {\n        float alpha = smoothstep(SDF_EDGE - smoothing, SDF_EDGE + smoothing, distance);\n        return vec4(v_color.rgb, v_color.a * alpha);\n    }\n}\n#endif\n\nvoid main()\n{\n    vec4 color = texture2D(u_atlas, v_textureCoordinates);\n\n#ifdef SDF\n    float outlineWidth = v_outlineWidth;\n    vec4 outlineColor = v_outlineColor;\n\n    // Get the current distance\n    float distance = getDistance(v_textureCoordinates);\n\n#ifdef GL_OES_standard_derivatives\n    float smoothing = fwidth(distance);\n    // Get an offset that is approximately half the distance to the neighbor pixels\n    // 0.354 is approximately half of 1/sqrt(2)\n    vec2 sampleOffset = 0.354 * vec2(dFdx(v_textureCoordinates) + dFdy(v_textureCoordinates));\n\n    // Sample the center point\n    vec4 center = getSDFColor(v_textureCoordinates, outlineWidth, outlineColor, smoothing);\n\n    // Sample the 4 neighbors\n    vec4 color1 = getSDFColor(v_textureCoordinates + vec2(sampleOffset.x, sampleOffset.y), outlineWidth, outlineColor, smoothing);\n    vec4 color2 = getSDFColor(v_textureCoordinates + vec2(-sampleOffset.x, sampleOffset.y), outlineWidth, outlineColor, smoothing);\n    vec4 color3 = getSDFColor(v_textureCoordinates + vec2(-sampleOffset.x, -sampleOffset.y), outlineWidth, outlineColor, smoothing);\n    vec4 color4 = getSDFColor(v_textureCoordinates + vec2(sampleOffset.x, -sampleOffset.y), outlineWidth, outlineColor, smoothing);\n\n    // Equally weight the center sample and the 4 neighboring samples\n    color = (center + color1 + color2 + color3 + color4)/5.0;\n#else\n    // Just do a single sample\n    float smoothing = 1.0/32.0;\n    color = getSDFColor(v_textureCoordinates, outlineWidth, outlineColor, smoothing);\n#endif\n\n    color = czm_gammaCorrect(color);\n#else\n    color = czm_gammaCorrect(color);\n    color *= czm_gammaCorrect(v_color);\n#endif\n\n// Fully transparent parts of the billboard are not pickable.\n#if !defined(OPAQUE) && !defined(TRANSLUCENT)\n    if (color.a < 0.005)   // matches 0/255 and 1/255\n    {\n        discard;\n    }\n#else\n// The billboard is rendered twice. The opaque pass discards translucent fragments\n// and the translucent pass discards opaque fragments.\n#ifdef OPAQUE\n    if (color.a < 0.995)   // matches < 254/255\n    {\n        discard;\n    }\n#else\n    if (color.a >= 0.995)  // matches 254/255 and 255/255\n    {\n        discard;\n    }\n#endif\n#endif\n\n#ifdef VECTOR_TILE\n    color *= u_highlightColor;\n#endif\n    gl_FragColor = color;\n\n#ifdef LOG_DEPTH\n    czm_writeLogDepth();\n#endif\n\n#ifdef FRAGMENT_DEPTH_CHECK\n    float temp = v_compressed.y;\n\n    temp = temp * SHIFT_RIGHT1;\n\n    float temp2 = (temp - floor(temp)) * SHIFT_LEFT1;\n    bool enableDepthTest = temp2 != 0.0;\n    bool applyTranslate = floor(temp) != 0.0;\n\n    if (enableDepthTest) {\n        temp = v_compressed.z;\n        temp = temp * SHIFT_RIGHT12;\n\n        vec2 dimensions;\n        dimensions.y = (temp - floor(temp)) * SHIFT_LEFT12;\n        dimensions.x = floor(temp);\n\n        temp = v_compressed.w;\n        temp = temp * SHIFT_RIGHT12;\n\n        vec2 imageSize;\n        imageSize.y = (temp - floor(temp)) * SHIFT_LEFT12;\n        imageSize.x = floor(temp);\n\n        vec2 adjustedST = v_textureCoordinates - v_textureCoordinateBounds.xy;\n        adjustedST = adjustedST / vec2(v_textureCoordinateBounds.z - v_textureCoordinateBounds.x, v_textureCoordinateBounds.w - v_textureCoordinateBounds.y);\n\n        float epsilonEyeDepth = v_compressed.x + czm_epsilon1;\n        float globeDepth1 = getGlobeDepth(adjustedST, v_originTextureCoordinateAndTranslate.xy, applyTranslate, dimensions, imageSize);\n\n        // negative values go into the screen\n        if (globeDepth1 != 0.0 && globeDepth1 > epsilonEyeDepth)\n        {\n            float globeDepth2 = getGlobeDepth(adjustedST, vec2(0.0, 1.0), applyTranslate, dimensions, imageSize); // top left corner\n            if (globeDepth2 != 0.0 && globeDepth2 > epsilonEyeDepth)\n            {\n                float globeDepth3 = getGlobeDepth(adjustedST, vec2(1.0, 1.0), applyTranslate, dimensions, imageSize); // top right corner\n                if (globeDepth3 != 0.0 && globeDepth3 > epsilonEyeDepth)\n                {\n                    discard;\n                }\n            }\n        }\n    }\n#endif\n\n}\n'},"4eJ4":function(e,t,i){"use strict";function n(e){this.id=e,this.vertexFormat=void 0,this.dimensions=void 0,this.offsetAttribute=void 0}function a(e,t){T.a.call(this,{entity:e,scene:t,geometryOptions:new n(e),geometryPropertyName:"box",observedPropertyNames:["availability","position","orientation","box"]}),this._onEntityPropertyChanged(e,"box",e.box,void 0)}function r(e,t,i){E.a.call(this,e,t,i)}var o=i("7snz"),s=i("W3jk"),c=i("Jj+J"),l=i("5F4X"),u=i("6F0S"),h=i("devy"),d=i("xC6Q"),f=i("PzDm"),p=i("2kyc"),m=i("izcu"),g=i("2g+t"),_=i("DsDe"),v=i("wpHJ"),b=i("zSqc"),y=i("JIo7"),O=i("xEUC"),w=i("BOJj"),x=i("I5FW"),E=i("5s/y"),T=i("rVBE"),A=i("mFnG"),C=i("uhjI"),S=c.a.ZERO,j=new c.a,P=new c.a,D=new u.a;Object(d.a)(Object.create)&&(a.prototype=Object.create(T.a.prototype),a.prototype.constructor=a),Object.defineProperties(a.prototype,{terrainOffsetProperty:{get:function(){return this._terrainOffsetProperty}}}),a.prototype.createFillGeometryInstance=function(e){if(l.a.defined("time",e),!this._fillEnabled)throw new f.a("This instance does not represent a filled geometry.");var t=this._entity,i=t.isAvailable(e),n=new b.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._fillProperty.getValue(e)),a=this._distanceDisplayConditionProperty.getValue(e),r=p.a.fromDistanceDisplayCondition(a),s={show:n,distanceDisplayCondition:r,color:void 0,offset:void 0};if(this._materialProperty instanceof x.a){var c;Object(d.a)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(c=this._materialProperty.color.getValue(e,D)),Object(d.a)(c)||(c=u.a.WHITE),s.color=h.a.fromColor(c)}return Object(d.a)(this._options.offsetAttribute)&&(s.offset=v.a.fromCartesian3(C.a.getValueOrDefault(this._terrainOffsetProperty,e,S,j))),new m.a({id:t,geometry:o.a.fromDimensions(this._options),modelMatrix:t.computeModelMatrixForHeightReference(e,t.box.heightReference,.5*this._options.dimensions.z,this._scene.mapProjection.ellipsoid),attributes:s})},a.prototype.createOutlineGeometryInstance=function(e){if(l.a.defined("time",e),!this._outlineEnabled)throw new f.a("This instance does not represent an outlined geometry.");var t=this._entity,i=t.isAvailable(e),n=C.a.getValueOrDefault(this._outlineColorProperty,e,u.a.BLACK,D),a=this._distanceDisplayConditionProperty.getValue(e),r={show:new b.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._showOutlineProperty.getValue(e)),color:h.a.fromColor(n),distanceDisplayCondition:p.a.fromDistanceDisplayCondition(a),offset:void 0};return Object(d.a)(this._options.offsetAttribute)&&(r.offset=v.a.fromCartesian3(C.a.getValueOrDefault(this._terrainOffsetProperty,e,S,j))),new m.a({id:t,geometry:s.a.fromDimensions(this._options),modelMatrix:t.computeModelMatrixForHeightReference(e,t.box.heightReference,.5*this._options.dimensions.z,this._scene.mapProjection.ellipsoid),attributes:r})},a.prototype._computeCenter=function(e,t){return C.a.getValueOrUndefined(this._entity.position,e,t)},a.prototype._isHidden=function(e,t){return!Object(d.a)(t.dimensions)||!Object(d.a)(e.position)||T.a.prototype._isHidden.call(this,e,t)},a.prototype._isDynamic=function(e,t){return!(e.position.isConstant&&C.a.isConstant(e.orientation)&&t.dimensions.isConstant&&C.a.isConstant(t.outlineWidth))},a.prototype._setStaticOptions=function(e,t){var i=C.a.getValueOrDefault(t.heightReference,_.a.MINIMUM_VALUE,y.a.NONE),n=this._options;n.vertexFormat=this._materialProperty instanceof x.a?w.a.VERTEX_FORMAT:O.a.MaterialSupport.TEXTURED.vertexFormat,n.dimensions=t.dimensions.getValue(_.a.MINIMUM_VALUE,n.dimensions),n.offsetAttribute=i!==y.a.NONE?g.a.ALL:void 0},a.prototype._onEntityPropertyChanged=A.a,a.DynamicGeometryUpdater=r,Object(d.a)(Object.create)&&(r.prototype=Object.create(E.a.prototype),r.prototype.constructor=r),r.prototype._isHidden=function(e,t,i){var n=C.a.getValueOrUndefined(e.position,i,P),a=this._options.dimensions;return!Object(d.a)(n)||!Object(d.a)(a)||E.a.prototype._isHidden.call(this,e,t,i)},r.prototype._setOptions=function(e,t,i){var n=C.a.getValueOrDefault(t.heightReference,i,y.a.NONE),a=this._options;a.dimensions=C.a.getValueOrUndefined(t.dimensions,i,a.dimensions),a.offsetAttribute=n!==y.a.NONE?g.a.ALL:void 0},t.a=a},"4gQa":function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT),this._definitionChanged=new s.a,this._orientation=void 0,this._orientationSubscription=void 0,this._evenColor=void 0,this._evenColorSubscription=void 0,this._oddColor=void 0,this._oddColorSubscription=void 0,this._offset=void 0,this._offsetSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this.orientation=e.orientation,this.evenColor=e.evenColor,this.oddColor=e.oddColor,this.offset=e.offset,this.repeat=e.repeat}var a=i("6F0S"),r=i("5A4e"),o=i("xC6Q"),s=i("W6xh"),c=i("7687"),l=i("uhjI"),u=i("ysmW"),h=u.a.HORIZONTAL,d=a.a.WHITE,f=a.a.BLACK;Object.defineProperties(n.prototype,{isConstant:{get:function(){return l.a.isConstant(this._orientation)&&l.a.isConstant(this._evenColor)&&l.a.isConstant(this._oddColor)&&l.a.isConstant(this._offset)&&l.a.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},orientation:Object(c.a)("orientation"),evenColor:Object(c.a)("evenColor"),oddColor:Object(c.a)("oddColor"),offset:Object(c.a)("offset"),repeat:Object(c.a)("repeat")}),n.prototype.getType=function(e){return"Stripe"},n.prototype.getValue=function(e,t){return Object(o.a)(t)||(t={}),t.horizontal=l.a.getValueOrDefault(this._orientation,e,h)===u.a.HORIZONTAL,t.evenColor=l.a.getValueOrClonedDefault(this._evenColor,e,d,t.evenColor),t.oddColor=l.a.getValueOrClonedDefault(this._oddColor,e,f,t.oddColor),t.offset=l.a.getValueOrDefault(this._offset,e,0),t.repeat=l.a.getValueOrDefault(this._repeat,e,1),t},n.prototype.equals=function(e){return this===e||e instanceof n&&l.a.equals(this._orientation,e._orientation)&&l.a.equals(this._evenColor,e._evenColor)&&l.a.equals(this._oddColor,e._oddColor)&&l.a.equals(this._offset,e._offset)&&l.a.equals(this._repeat,e._repeat)},t.a=n},"4llK":function(e,t,i){"use strict";function n(e){return 0!==e.length&&"/"===e[e.length-1]||(e+="/"),e}t.a=n},"4xuv":function(e,t,i){"use strict";function n(e,t,i){var n=e.context,a=[],r=t.frustum.near,s=t.frustum.far,l=e.logarithmicDepthBuffer?e.logarithmicDepthFarToNearRatio:e.farToNearRatio;o(r,s,l,Math.ceil(Math.log(s/r)/Math.log(l)),e.logarithmicDepthBuffer,a,!1,void 0);var u;n.depthTexture&&(u=new O.a);var h;e._useOIT&&n.depthTexture&&(h=new w.a(n));var d=new v.a(n);d.viewport=c.a.clone(i),this.camera=t,this._cameraClone=b.a.clone(t),this._cameraStartFired=!1,this._cameraMovedTime=void 0,this.viewport=i,this.passState=d,this.pickFramebuffer=new E.a(n),this.pickDepthFramebuffer=new x.a,this.sceneFramebuffer=new T.a,this.globeDepth=u,this.oit=h,this.pickDepths=[],this.debugGlobeDepths=[],this.frustumCommandsList=a,this.debugFrustumStatistics=void 0,this.updateFrustums=!1}function a(e,t){var i=Math.max(Math.abs(e.x),Math.abs(t.x)),n=Math.max(Math.abs(e.y),Math.abs(t.y)),a=Math.max(Math.abs(e.z),Math.abs(t.z));return Math.max(Math.max(i,n),a)}function r(e,t,i){var n=1/Math.max(1,a(e.position,t.position));return l.a.multiplyByScalar(e.position,n,S),l.a.multiplyByScalar(t.position,n,j),l.a.equalsEpsilon(S,j,i)&&l.a.equalsEpsilon(e.direction,t.direction,i)&&l.a.equalsEpsilon(e.up,t.up,i)&&l.a.equalsEpsilon(e.right,t.right,i)&&m.a.equalsEpsilon(e.transform,t.transform,i)&&e.frustum.equalsEpsilon(t.frustum,i)}function o(e,t,i,n,a,r,o,s){r.length=n;for(var c=0;c<n;++c){var l,u;o?(l=Math.min(t-s,e+c*s),u=Math.min(t,l+s)):(l=Math.max(e,Math.pow(i,c)*e),u=i*l,a||(u=Math.min(t,u)));var d=r[c];Object(h.a)(d)?(d.near=l,d.far=u):d=r[c]=new y.a(l,u)}}function s(e,t,i,n){e.debugShowFrustums&&(i.debugOverlappingFrustums=0);for(var a=t.frustumCommandsList,r=a.length,o=0;o<r;++o){var s=a[o],c=s.near,l=s.far;if(!(n.start>l)){if(n.stop<c)break;var u=i.pass,d=s.indices[u]++;if(s.commands[u][d]=i,e.debugShowFrustums&&(i.debugOverlappingFrustums|=1<<o),i.executeInClosestFrustum)break}}if(e.debugShowFrustums){var f=t.debugFrustumStatistics.commandsInFrustums;f[i.debugOverlappingFrustums]=Object(h.a)(f[i.debugOverlappingFrustums])?f[i.debugOverlappingFrustums]+1:1,++t.debugFrustumStatistics.totalCommands}e.updateDerivedCommands(i)}var c=i("or8k"),l=i("Jj+J"),u=i("XHlg"),h=i("xC6Q"),d=i("n08a"),f=i("ogen"),p=i("fq+p"),m=i("Xjii"),g=i("/DUn"),_=i("M0+0"),v=i("o12a"),b=i("St4O"),y=i("MLtC"),O=i("v62d"),w=i("5qFU"),x=i("Fib7"),E=i("Nft1"),T=i("Uaim"),A=i("sotJ"),C=i("7IeB"),S=new l.a,j=new l.a;n.prototype.checkForCameraUpdates=function(e){var t=this.camera,i=this._cameraClone;return r(t,i,p.a.EPSILON15)?(this._cameraStartFired&&Object(d.a)()-this._cameraMovedTime>e.cameraEventWaitTime&&(t.moveEnd.raiseEvent(),this._cameraStartFired=!1),!1):(this._cameraStartFired||(t.moveStart.raiseEvent(),this._cameraStartFired=!0),this._cameraMovedTime=Object(d.a)(),b.a.clone(t,i),!0)};var P=new u.a,D=new f.a;n.prototype.createPotentiallyVisibleSet=function(e){var t=e.frameState,i=t.camera,n=i.directionWC,a=i.positionWC,r=e._computeCommandList,c=e._overlayCommandList,l=t.commandList;e.debugShowFrustums&&(this.debugFrustumStatistics={totalCommands:0,commandsInFrustums:{}});for(var u=this.frustumCommandsList,d=u.length,f=_.a.NUMBER_OF_PASSES,m=0;m<d;++m)for(var v=0;v<f;++v)u[m].indices[v]=0;r.length=0,c.length=0;for(var b=Number.MAX_VALUE,y=-Number.MAX_VALUE,O=!1,w=t.shadowState.shadowsEnabled,x=Number.MAX_VALUE,E=-Number.MAX_VALUE,T=Number.MAX_VALUE,S=t.mode===A.a.SCENE3D?t.occluder:void 0,j=t.cullingVolume,I=P.planes,R=0;R<5;++R)I[R]=j.planes[R];j=P;for(var M=l.length,L=0;L<M;++L){var N=l[L],F=N.pass;if(F===_.a.COMPUTE)r.push(N);else if(F===_.a.OVERLAY)c.push(N);else{var z=N.boundingVolume;if(Object(h.a)(z)){if(!e.isVisible(N,j,S))continue;if(D=z.computePlaneDistances(a,n,D),b=Math.min(b,D.start),y=Math.max(y,D.stop),w&&N.receiveShadows&&D.start<C.a.MAXIMUM_DISTANCE&&!(F===_.a.GLOBE&&D.start<-100&&D.stop>100)){var B=D.stop-D.start;F!==_.a.GLOBE&&D.start<100&&(T=Math.min(T,B)),x=Math.min(x,D.start),E=Math.max(E,D.stop)}}else D.start=i.frustum.near,D.stop=i.frustum.far,O=!(N instanceof g.a);s(e,this,N,D)}}O?(b=i.frustum.near,y=i.frustum.far):(b=Math.min(Math.max(b,i.frustum.near),i.frustum.far),y=Math.max(Math.min(y,i.frustum.far),b),w&&(x=Math.min(Math.max(x,i.frustum.near),i.frustum.far),E=Math.max(Math.min(E,i.frustum.far),x))),w&&(t.shadowState.nearPlane=x,t.shadowState.farPlane=E,t.shadowState.closestObjectSize=T);var k,U=e.mode===A.a.SCENE2D,V=t.useLogDepth,H=V?e.logarithmicDepthFarToNearRatio:e.farToNearRatio;U?(y=Math.min(y,i.position.z+e.nearToFarDistance2D),b=Math.min(b,y),k=Math.ceil(Math.max(1,y-b)/e.nearToFarDistance2D)):k=Math.ceil(Math.log(y/b)/Math.log(H)),(this.updateFrustums||b!==Number.MAX_VALUE&&(k!==d||0!==u.length&&(b<u[0].near||y>u[d-1].far&&(V||!p.a.equalsEpsilon(y,u[d-1].far,p.a.EPSILON8)))))&&(this.updateFrustums=!1,o(b,y,H,k,V,u,U,e.nearToFarDistance2D),this.createPotentiallyVisibleSet(e));var q=t.frustumSplits;q.length=k+1;for(var W=0;W<k;++W)q[W]=u[W].near,W===k-1&&(q[W+1]=u[W].far)},n.prototype.destroy=function(){this.pickFramebuffer=this.pickFramebuffer&&this.pickFramebuffer.destroy(),this.pickDepthFramebuffer=this.pickDepthFramebuffer&&this.pickDepthFramebuffer.destroy(),this.sceneFramebuffer=this.sceneFramebuffer&&this.sceneFramebuffer.destroy(),this.globeDepth=this.globeDepth&&this.globeDepth.destroy(),this.oit=this.oit&&this.oit.destroy();var e,t,i=this.pickDepths,n=this.debugGlobeDepths;for(t=i.length,e=0;e<t;++e)i[e].destroy();for(t=n.length,e=0;e<t;++e)n[e].destroy()},t.a=n},"52/g":function(e,t,i){"use strict";function n(e,t){if(t=Object(l.a)(t,l.a.EMPTY_OBJECT),Object(m.a)(e,"KHR_techniques_webgl"))return e;if(!Object(u.a)(e.materials)||0===e.materials.length)return e;Object(u.a)(e.extensions)||(e.extensions={}),Object(u.a)(e.extensionsUsed)||(e.extensionsUsed=[]),Object(u.a)(e.extensionsRequired)||(e.extensionsRequired=[]),e.extensions.KHR_techniques_webgl={programs:[],shaders:[],techniques:[]},e.extensionsUsed.push("KHR_techniques_webgl"),e.extensionsRequired.push("KHR_techniques_webgl");var i=_.a.splitIncompatibleMaterials(e);return p.a.material(e,function(n,a){var r={},o=s(e,n,a,r,i,t);Object(u.a)(n.extensions)||(n.extensions={}),n.extensions.KHR_techniques_webgl={values:r,technique:o}}),_.a.ensureSemanticExistence(e),e}function a(e){return Object(u.a)(e.extensions)&&Object(u.a)(e.extensions.KHR_materials_pbrSpecularGlossiness)}function r(e,t,i,n,a){var r;return Object(u.a)(i[t+"Offset"])?(r=t+"Coord",a.fragmentShaderMain+="    vec2 "+r+" = computeTexCoord("+n+", "+t+"Offset, "+t+"Rotation, "+t+"Scale);\n"):r=n,r}function o(e,t,i){if(-1!==e.indexOf("Texture")&&Object(u.a)(t.extensions)&&Object(u.a)(t.extensions.KHR_texture_transform)){var n="u_"+e,a=t.extensions.KHR_texture_transform;i[n+"Offset"]=Object(l.a)(a.offset,v),i[n+"Rotation"]=Object(l.a)(a.rotation,b),i[n+"Scale"]=Object(l.a)(a.scale,y),Object(u.a)(t.texCoord)&&Object(u.a)(a.texCoord)&&(i[n].texCoord=a.texCoord)}}function s(e,t,i,n,s,v){var b,y,O,w=Object(l.a)(v.addBatchIdToGeneratedShaders,!1),x=e.extensions.KHR_techniques_webgl,E=x.techniques,T=x.shaders,A=x.programs,C=a(t),S=t.pbrMetallicRoughness;if(Object(u.a)(S)&&!C)for(y in S)S.hasOwnProperty(y)&&(O=S[y],b="u_"+y,n[b]=O,o(y,O,n));if(C){var j=t.extensions.KHR_materials_pbrSpecularGlossiness;for(y in j)j.hasOwnProperty(y)&&(O=j[y],b="u_"+y,n[b]=O,o(y,O,n))}for(var P in t)t.hasOwnProperty(P)&&(P.indexOf("Texture")>=0||P.indexOf("Factor")>=0)&&(O=t[P],b="u_"+P,n[b]=O,o(P,O,n));var D,I="precision highp float;\n",R="precision highp float;\n";Object(u.a)(e.skins)&&(D=e.skins[0]);var M,L=Object(u.a)(D)?D.joints:[],N=L.length,F=s[i],z=!1,B=!1,k=!1,U=!1,V=!1,H=!1,q=!1;Object(u.a)(F)&&(M=F.skinning,z=M.skinned&&L.length>0,B=F.hasVertexColors,k=F.hasMorphTargets,U=F.hasNormals,V=F.hasTangents,H=F.hasTexCoords);var W;k&&p.a.mesh(e,function(e){p.a.meshPrimitive(e,function(e){if(e.material===i){var t=e.targets;Object(u.a)(t)&&(W=t)}})});var G={u_modelViewMatrix:{semantic:Object(m.a)(e,"CESIUM_RTC")?"CESIUM_RTC_MODELVIEW":"MODELVIEW",type:h.a.FLOAT_MAT4},u_projectionMatrix:{semantic:"PROJECTION",type:h.a.FLOAT_MAT4}};Object(u.a)(t.extensions)&&Object(u.a)(t.extensions.KHR_materials_unlit)&&(q=!0,U=!1,V=!1),U&&(G.u_normalMatrix={semantic:"MODELVIEWINVERSETRANSPOSE",type:h.a.FLOAT_MAT3}),z&&(G.u_jointMatrix={count:N,semantic:"JOINTMATRIX",type:h.a.FLOAT_MAT4}),k&&(G.u_morphWeights={count:W.length,semantic:"MORPHWEIGHTS",type:h.a.FLOAT});var Y=t.alphaMode;Object(u.a)(Y)&&"MASK"===Y&&(G.u_alphaCutoff={semantic:"ALPHACUTOFF",type:h.a.FLOAT});for(b in n)n.hasOwnProperty(b)&&(G[b]={type:c(b)});var X=Object(l.a)(G.u_baseColorTexture,G.u_baseColorFactor);Object(u.a)(X)&&(X.semantic="_3DTILESDIFFUSE");for(b in G)if(G.hasOwnProperty(b)){var Q=G[b],J=Object(u.a)(Q.count)?"["+Q.count+"]":"";Q.type!==h.a.FLOAT_MAT3&&Q.type!==h.a.FLOAT_MAT4&&"u_morphWeights"!==b||Q.useInFragment?(R+="uniform "+Object(d.a)(Q.type)+" "+b+J+";\n",delete Q.useInFragment):I+="uniform "+Object(d.a)(Q.type)+" "+b+J+";\n"}var Z="";if(z){var K,$,ee=Object(g.a)(M.type),te=!1;if(0===M.type.indexOf("MAT")&&(te=!0,ee=Math.sqrt(ee)),te)for(K=0;K<ee;K++)for($=0;$<ee;$++)Z+=0===K&&0===$?"    mat4 skinMatrix = ":"    skinMatrix += ",Z+="a_weight["+K+"]["+$+"] * u_jointMatrix[int(a_joint["+K+"]["+$+"])];\n";else for(K=0;K<ee;K++)Z+=0===K?"    mat4 skinMatrix = ":"    skinMatrix += ",Z+="a_weight["+K+"] * u_jointMatrix[int(a_joint["+K+"])];\n"}var ie={a_position:{semantic:"POSITION"}};if(I+="attribute vec3 a_position;\n",U&&(I+="varying vec3 v_positionEC;\n"),Z+="    vec3 weightedPosition = a_position;\n",U&&(Z+="    vec3 weightedNormal = a_normal;\n"),V&&(Z+="    vec4 weightedTangent = a_tangent;\n"),k)for(var ne=0;ne<W.length;ne++){var ae=W[ne];for(var re in ae)if(ae.hasOwnProperty(re)&&"extras"!==re){var oe="a_"+re+"_"+ne;ie[oe]={semantic:re+"_"+ne},I+="attribute vec3 "+oe+";\n","POSITION"===re?Z+="    weightedPosition += u_morphWeights["+ne+"] * "+oe+";\n":"NORMAL"===re?Z+="    weightedNormal += u_morphWeights["+ne+"] * "+oe+";\n":V&&"TANGENT"===re&&(Z+="    weightedTangent.xyz += u_morphWeights["+ne+"] * "+oe+";\n")}}Z+=z?"    vec4 position = skinMatrix * vec4(weightedPosition, 1.0);\n":"    vec4 position = vec4(weightedPosition, 1.0);\n",Z+="    position = u_modelViewMatrix * position;\n",U&&(Z+="    v_positionEC = position.xyz;\n"),Z+="    gl_Position = u_projectionMatrix * position;\n",U&&(ie.a_normal={semantic:"NORMAL"},I+="attribute vec3 a_normal;\n",I+="varying vec3 v_normal;\n",Z+=z?"    v_normal = u_normalMatrix * mat3(skinMatrix) * weightedNormal;\n":"    v_normal = u_normalMatrix * weightedNormal;\n",R+="varying vec3 v_normal;\n",R+="varying vec3 v_positionEC;\n"),V&&(ie.a_tangent={semantic:"TANGENT"},I+="attribute vec4 a_tangent;\n",I+="varying vec4 v_tangent;\n",Z+="    v_tangent.xyz = u_normalMatrix * weightedTangent.xyz;\n",Z+="    v_tangent.w = weightedTangent.w;\n",R+="varying vec4 v_tangent;\n");var se,ce,le,ue,he,de,fe,pe,me="";if(H){ie.a_texcoord_0={semantic:"TEXCOORD_0"},se="v_texcoord_0",I+="attribute vec2 a_texcoord_0;\n",I+="varying vec2 "+se+";\n",Z+="    "+se+" = a_texcoord_0;\n",R+="varying vec2 "+se+";\n";var ge={fragmentShaderMain:me};ce=r(e,"u_normalTexture",n,se,ge),le=r(e,"u_baseColorTexture",n,se,ge),ue=r(e,"u_specularGlossinessTexture",n,se,ge),he=r(e,"u_diffuseTexture",n,se,ge),de=r(e,"u_metallicRoughnessTexture",n,se,ge),fe=r(e,"u_occlusionTexture",n,se,ge),pe=r(e,"u_emmissiveTexture",n,se,ge),me=ge.fragmentShaderMain}if(z){var _e=_.a.getShaderVariable(M.type);ie.a_joint={semantic:"JOINTS_0"},ie.a_weight={semantic:"WEIGHTS_0"},I+="attribute "+_e+" a_joint;\n",I+="attribute "+_e+" a_weight;\n"}B&&(ie.a_vertexColor={semantic:"COLOR_0"},I+="attribute vec4 a_vertexColor;\n",I+="varying vec4 v_vertexColor;\n",Z+="  v_vertexColor = a_vertexColor;\n",R+="varying vec4 v_vertexColor;\n"),w&&(ie.a_batchId={semantic:"_BATCHID"},I+="attribute float a_batchId;\n"),I+="void main(void) \n{\n",I+=Z,I+="}\n",U&&(R+="const float M_PI = 3.141592653589793;\n",R+="vec3 lambertianDiffuse(vec3 diffuseColor) \n{\n    return diffuseColor / M_PI;\n}\n\n",R+="vec3 fresnelSchlick2(vec3 f0, vec3 f90, float VdotH) \n{\n    return f0 + (f90 - f0) * pow(clamp(1.0 - VdotH, 0.0, 1.0), 5.0);\n}\n\n",R+="vec3 fresnelSchlick(float metalness, float VdotH) \n{\n    return metalness + (vec3(1.0) - metalness) * pow(1.0 - VdotH, 5.0);\n}\n\n",R+="float smithVisibilityG1(float NdotV, float roughness) \n{\n    float k = (roughness + 1.0) * (roughness + 1.0) / 8.0;\n    return NdotV / (NdotV * (1.0 - k) + k);\n}\n\n",R+="float smithVisibilityGGX(float roughness, float NdotL, float NdotV) \n{\n    return smithVisibilityG1(NdotL, roughness) * smithVisibilityG1(NdotV, roughness);\n}\n\n",R+="float GGX(float roughness, float NdotH) \n{\n    float roughnessSquared = roughness * roughness;\n    float f = (NdotH * roughnessSquared - NdotH) * NdotH + 1.0;\n    return roughnessSquared / (M_PI * f * f);\n}\n\n"),R+="vec3 SRGBtoLINEAR3(vec3 srgbIn) \n{\n    return pow(srgbIn, vec3(2.2));\n}\n\n",R+="vec4 SRGBtoLINEAR4(vec4 srgbIn) \n{\n    vec3 linearOut = pow(srgbIn.rgb, vec3(2.2));\n    return vec4(linearOut, srgbIn.a);\n}\n\n",R+="vec3 applyTonemapping(vec3 linearIn) \n{\n#ifndef HDR \n    return czm_acesTonemapping(linearIn);\n#else \n    return linearIn;\n#endif \n}\n\n",R+="vec3 LINEARtoSRGB(vec3 linearIn) \n{\n#ifndef HDR \n    return pow(linearIn, vec3(1.0/2.2));\n#else \n    return linearIn;\n#endif \n}\n\n",R+="vec2 computeTexCoord(vec2 texCoords, vec2 offset, float rotation, vec2 scale) \n{\n    rotation = -rotation; \n    mat3 transform = mat3(\n        cos(rotation) * scale.x, sin(rotation) * scale.x, 0.0, \n       -sin(rotation) * scale.y, cos(rotation) * scale.y, 0.0, \n        offset.x, offset.y, 1.0); \n    vec2 transformedTexCoords = (transform * vec3(fract(texCoords), 1.0)).xy; \n    return transformedTexCoords; \n}\n\n",R+="#ifdef USE_IBL_LIGHTING \n",R+="uniform vec2 gltf_iblFactor; \n",R+="#endif \n",R+="#ifdef USE_CUSTOM_LIGHT_COLOR \n",R+="uniform vec3 gltf_lightColor; \n",R+="#endif \n",R+="void main(void) \n{\n",R+=me,U&&(R+="    vec3 ng = normalize(v_normal);\n",R+="    vec3 positionWC = vec3(czm_inverseView * vec4(v_positionEC, 1.0));\n",Object(u.a)(n.u_normalTexture)?V?(R+="    vec3 t = normalize(v_tangent.xyz);\n",R+="    vec3 b = normalize(cross(ng, t) * v_tangent.w);\n",R+="    mat3 tbn = mat3(t, b, ng);\n",R+="    vec3 n = texture2D(u_normalTexture, "+ce+").rgb;\n",R+="    n = normalize(tbn * (2.0 * n - 1.0));\n"):(R="#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n"+R,R+="#ifdef GL_OES_standard_derivatives\n",R+="    vec3 pos_dx = dFdx(v_positionEC);\n",R+="    vec3 pos_dy = dFdy(v_positionEC);\n",R+="    vec3 tex_dx = dFdx(vec3("+ce+",0.0));\n",R+="    vec3 tex_dy = dFdy(vec3("+ce+",0.0));\n",R+="    vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n",R+="    t = normalize(t - ng * dot(ng, t));\n",R+="    vec3 b = normalize(cross(ng, t));\n",R+="    mat3 tbn = mat3(t, b, ng);\n",R+="    vec3 n = texture2D(u_normalTexture, "+ce+").rgb;\n",R+="    n = normalize(tbn * (2.0 * n - 1.0));\n",R+="#else\n",R+="    vec3 n = ng;\n",R+="#endif\n"):R+="    vec3 n = ng;\n",t.doubleSided&&(R+="    if (gl_FrontFacing == false)\n",R+="    {\n",R+="        n = -n;\n",R+="    }\n")),Object(u.a)(n.u_baseColorTexture)?(R+="    vec4 baseColorWithAlpha = SRGBtoLINEAR4(texture2D(u_baseColorTexture, "+le+"));\n",Object(u.a)(n.u_baseColorFactor)&&(R+="    baseColorWithAlpha *= u_baseColorFactor;\n")):Object(u.a)(n.u_baseColorFactor)?R+="    vec4 baseColorWithAlpha = u_baseColorFactor;\n":R+="    vec4 baseColorWithAlpha = vec4(1.0);\n",B&&(R+="    baseColorWithAlpha *= v_vertexColor;\n"),R+="    vec3 baseColor = baseColorWithAlpha.rgb;\n",U?(C?(Object(u.a)(n.u_specularGlossinessTexture)?(R+="    vec4 specularGlossiness = SRGBtoLINEAR4(texture2D(u_specularGlossinessTexture, "+ue+"));\n",R+="    vec3 specular = specularGlossiness.rgb;\n",R+="    float glossiness = specularGlossiness.a;\n",Object(u.a)(n.u_specularFactor)&&(R+="    specular *= u_specularFactor;\n"),Object(u.a)(n.u_glossinessFactor)&&(R+="    glossiness *= u_glossinessFactor;\n")):(Object(u.a)(n.u_specularFactor)?R+="    vec3 specular = clamp(u_specularFactor, vec3(0.0), vec3(1.0));\n":R+="    vec3 specular = vec3(1.0);\n",Object(u.a)(n.u_glossinessFactor)?R+="    float glossiness = clamp(u_glossinessFactor, 0.0, 1.0);\n":R+="    float glossiness = 1.0;\n"),Object(u.a)(n.u_diffuseTexture)?(R+="    vec4 diffuse = SRGBtoLINEAR4(texture2D(u_diffuseTexture, "+he+"));\n",Object(u.a)(n.u_diffuseFactor)&&(R+="    diffuse *= u_diffuseFactor;\n")):Object(u.a)(n.u_diffuseFactor)?R+="    vec4 diffuse = clamp(u_diffuseFactor, vec4(0.0), vec4(1.0));\n":R+="    vec4 diffuse = vec4(1.0);\n"):Object(u.a)(n.u_metallicRoughnessTexture)?(R+="    vec3 metallicRoughness = texture2D(u_metallicRoughnessTexture, "+de+").rgb;\n",R+="    float metalness = clamp(metallicRoughness.b, 0.0, 1.0);\n",R+="    float roughness = clamp(metallicRoughness.g, 0.04, 1.0);\n",Object(u.a)(n.u_metallicFactor)&&(R+="    metalness *= u_metallicFactor;\n"),Object(u.a)(n.u_roughnessFactor)&&(R+="    roughness *= u_roughnessFactor;\n")):(Object(u.a)(n.u_metallicFactor)?R+="    float metalness = clamp(u_metallicFactor, 0.0, 1.0);\n":R+="    float metalness = 1.0;\n",Object(u.a)(n.u_roughnessFactor)?R+="    float roughness = clamp(u_roughnessFactor, 0.04, 1.0);\n":R+="    float roughness = 1.0;\n"),R+="    vec3 v = -normalize(v_positionEC);\n",R+="#ifndef USE_CUSTOM_LIGHT_COLOR \n",R+="    vec3 lightColorHdr = czm_lightColorHdr;\n",R+="#else \n",R+="    vec3 lightColorHdr = gltf_lightColor;\n",R+="#endif \n",R+="    vec3 l = normalize(czm_lightDirectionEC);\n",R+="    vec3 h = normalize(v + l);\n",R+="    float NdotL = clamp(dot(n, l), 0.001, 1.0);\n",R+="    float NdotV = abs(dot(n, v)) + 0.001;\n",R+="    float NdotH = clamp(dot(n, h), 0.0, 1.0);\n",R+="    float LdotH = clamp(dot(l, h), 0.0, 1.0);\n",R+="    float VdotH = clamp(dot(v, h), 0.0, 1.0);\n",R+="    vec3 f0 = vec3(0.04);\n",C?(R+="    float roughness = 1.0 - glossiness;\n",R+="    vec3 diffuseColor = diffuse.rgb * (1.0 - max(max(specular.r, specular.g), specular.b));\n",R+="    vec3 specularColor = specular;\n"):(R+="    vec3 diffuseColor = baseColor * (1.0 - metalness) * (1.0 - f0);\n",R+="    vec3 specularColor = mix(f0, baseColor, metalness);\n"),R+="    float alpha = roughness * roughness;\n",R+="    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n",R+="    vec3 r90 = vec3(clamp(reflectance * 25.0, 0.0, 1.0));\n",R+="    vec3 r0 = specularColor.rgb;\n",R+="    vec3 F = fresnelSchlick2(r0, r90, VdotH);\n",R+="    float G = smithVisibilityGGX(alpha, NdotL, NdotV);\n",R+="    float D = GGX(alpha, NdotH);\n",R+="    vec3 diffuseContribution = (1.0 - F) * lambertianDiffuse(diffuseColor);\n",R+="    vec3 specularContribution = F * G * D / (4.0 * NdotL * NdotV);\n",R+="    vec3 color = NdotL * lightColorHdr * (diffuseContribution + specularContribution);\n",R+="#if defined(USE_IBL_LIGHTING) && !defined(DIFFUSE_IBL) && !defined(SPECULAR_IBL) \n",R+="    vec3 r = normalize(czm_inverseViewRotation * normalize(reflect(v, n)));\n",R+="    float vertexRadius = length(positionWC);\n",R+="    float horizonDotNadir = 1.0 - min(1.0, czm_ellipsoidRadii.x / vertexRadius);\n",R+="    float reflectionDotNadir = dot(r, normalize(positionWC));\n",R+="    r.x = -r.x;\n",R+="    r = -normalize(czm_temeToPseudoFixed * r);\n",R+="    r.x = -r.x;\n",R+="    float inverseRoughness = 1.04 - roughness;\n",R+="    inverseRoughness *= inverseRoughness;\n",R+="    vec3 sceneSkyBox = textureCube(czm_environmentMap, r).rgb * inverseRoughness;\n",R+="    float atmosphereHeight = 0.05;\n",R+="    float blendRegionSize = 0.1 * ((1.0 - inverseRoughness) * 8.0 + 1.1 - horizonDotNadir);\n",R+="    float blendRegionOffset = roughness * -1.0;\n",R+="    float farAboveHorizon = clamp(horizonDotNadir - blendRegionSize * 0.5 + blendRegionOffset, 1.0e-10 - blendRegionSize, 0.99999);\n",R+="    float aroundHorizon = clamp(horizonDotNadir + blendRegionSize * 0.5, 1.0e-10 - blendRegionSize, 0.99999);\n",R+="    float farBelowHorizon = clamp(horizonDotNadir + blendRegionSize * 1.5, 1.0e-10 - blendRegionSize, 0.99999);\n",R+="    float smoothstepHeight = smoothstep(0.0, atmosphereHeight, horizonDotNadir);\n",R+="    vec3 belowHorizonColor = mix(vec3(0.1, 0.15, 0.25), vec3(0.4, 0.7, 0.9), smoothstepHeight);\n",R+="    vec3 nadirColor = belowHorizonColor * 0.5;\n",R+="    vec3 aboveHorizonColor = mix(vec3(0.9, 1.0, 1.2), belowHorizonColor, roughness * 0.5);\n",R+="    vec3 blueSkyColor = mix(vec3(0.18, 0.26, 0.48), aboveHorizonColor, reflectionDotNadir * inverseRoughness * 0.5 + 0.75);\n",R+="    vec3 zenithColor = mix(blueSkyColor, sceneSkyBox, smoothstepHeight);\n",R+="    vec3 blueSkyDiffuseColor = vec3(0.7, 0.85, 0.9);\n",R+="    float diffuseIrradianceFromEarth = (1.0 - horizonDotNadir) * (reflectionDotNadir * 0.25 + 0.75) * smoothstepHeight;\n",R+="    float diffuseIrradianceFromSky = (1.0 - smoothstepHeight) * (1.0 - (reflectionDotNadir * 0.25 + 0.25));\n",R+="    vec3 diffuseIrradiance = blueSkyDiffuseColor * clamp(diffuseIrradianceFromEarth + diffuseIrradianceFromSky, 0.0, 1.0);\n",R+="    float notDistantRough = (1.0 - horizonDotNadir * roughness * 0.8);\n",R+="    vec3 specularIrradiance = mix(zenithColor, aboveHorizonColor, smoothstep(farAboveHorizon, aroundHorizon, reflectionDotNadir) * notDistantRough);\n",R+="    specularIrradiance = mix(specularIrradiance, belowHorizonColor, smoothstep(aroundHorizon, farBelowHorizon, reflectionDotNadir) * inverseRoughness);\n",R+="    specularIrradiance = mix(specularIrradiance, nadirColor, smoothstep(farBelowHorizon, 1.0, reflectionDotNadir) * inverseRoughness);\n",R+="#ifdef USE_SUN_LUMINANCE \n",R+="    float LdotZenith = clamp(dot(normalize(czm_inverseViewRotation * l), normalize(positionWC * -1.0)), 0.001, 1.0);\n",R+="    float S = acos(LdotZenith);\n",R+="    float NdotZenith = clamp(dot(normalize(czm_inverseViewRotation * n), normalize(positionWC * -1.0)), 0.001, 1.0);\n",R+="    float gamma = acos(NdotL);\n",R+="    float numerator = ((0.91 + 10.0 * exp(-3.0 * gamma) + 0.45 * pow(NdotL, 2.0)) * (1.0 - exp(-0.32 / NdotZenith)));\n",R+="    float denominator = (0.91 + 10.0 * exp(-3.0 * S) + 0.45 * pow(LdotZenith,2.0)) * (1.0 - exp(-0.32));\n",R+="    float luminance = gltf_luminanceAtZenith * (numerator / denominator);\n",R+="#endif \n",R+="    vec2 brdfLut = texture2D(czm_brdfLut, vec2(NdotV, roughness)).rg;\n",R+="    vec3 IBLColor = (diffuseIrradiance * diffuseColor * gltf_iblFactor.x) + (specularIrradiance * SRGBtoLINEAR3(specularColor * brdfLut.x + brdfLut.y) * gltf_iblFactor.y);\n",R+="    float maximumComponent = max(max(lightColorHdr.x, lightColorHdr.y), lightColorHdr.z);\n",R+="    vec3 lightColor = lightColorHdr / max(maximumComponent, 1.0);\n",R+="    IBLColor *= lightColor;\n",R+="#ifdef USE_SUN_LUMINANCE \n",R+="    color += IBLColor * luminance;\n",R+="#else \n",R+="    color += IBLColor; \n",R+="#endif \n",R+="#elif defined(DIFFUSE_IBL) || defined(SPECULAR_IBL) \n",R+="    mat3 fixedToENU = mat3(gltf_clippingPlanesMatrix[0][0], gltf_clippingPlanesMatrix[1][0], gltf_clippingPlanesMatrix[2][0], \n",R+="                           gltf_clippingPlanesMatrix[0][1], gltf_clippingPlanesMatrix[1][1], gltf_clippingPlanesMatrix[2][1], \n",R+="                           gltf_clippingPlanesMatrix[0][2], gltf_clippingPlanesMatrix[1][2], gltf_clippingPlanesMatrix[2][2]); \n",R+="    const mat3 yUpToZUp = mat3(-1.0, 0.0, 0.0, 0.0, 0.0, -1.0, 0.0, 1.0, 0.0); \n",R+="    vec3 cubeDir = normalize(yUpToZUp * fixedToENU * normalize(reflect(-v, n))); \n",R+="#ifdef DIFFUSE_IBL \n",R+="#ifdef CUSTOM_SPHERICAL_HARMONICS \n",R+="    vec3 diffuseIrradiance = czm_sphericalHarmonics(cubeDir, gltf_sphericalHarmonicCoefficients); \n",R+="#else \n",R+="    vec3 diffuseIrradiance = czm_sphericalHarmonics(cubeDir, czm_sphericalHarmonicCoefficients); \n",R+="#endif \n",R+="#else \n",R+="    vec3 diffuseIrradiance = vec3(0.0); \n",R+="#endif \n",R+="#ifdef SPECULAR_IBL \n",R+="    vec2 brdfLut = texture2D(czm_brdfLut, vec2(NdotV, roughness)).rg;\n",R+="#ifdef CUSTOM_SPECULAR_IBL \n",R+="    vec3 specularIBL = czm_sampleOctahedralProjection(gltf_specularMap, gltf_specularMapSize, cubeDir,  roughness * gltf_maxSpecularLOD, gltf_maxSpecularLOD);\n",R+="#else \n",R+="    vec3 specularIBL = czm_sampleOctahedralProjection(czm_specularEnvironmentMaps, czm_specularEnvironmentMapSize, cubeDir,  roughness * czm_specularEnvironmentMapsMaximumLOD, czm_specularEnvironmentMapsMaximumLOD);\n",R+="#endif \n",R+="    specularIBL *= F * brdfLut.x + brdfLut.y;\n",R+="#else \n",R+="    vec3 specularIBL = vec3(0.0); \n",R+="#endif \n",R+="    color += diffuseIrradiance * diffuseColor + specularColor * specularIBL;\n",R+="#endif \n"):R+="    vec3 color = baseColor;\n",q||(Object(u.a)(n.u_occlusionTexture)&&(R+="    color *= texture2D(u_occlusionTexture, "+fe+").r;\n"),Object(u.a)(n.u_emissiveTexture)?(R+="    vec3 emissive = SRGBtoLINEAR3(texture2D(u_emissiveTexture, "+pe+").rgb);\n",Object(u.a)(n.u_emissiveFactor)&&(R+="    emissive *= u_emissiveFactor;\n"),R+="    color += emissive;\n"):Object(u.a)(n.u_emissiveFactor)&&(R+="    color += u_emissiveFactor;\n")),q||(R+="    color = applyTonemapping(color);\n"),R+="    color = LINEARtoSRGB(color);\n",Object(u.a)(Y)?"MASK"===Y?(R+="    if (baseColorWithAlpha.a < u_alphaCutoff) {\n",R+="        discard;\n",R+="    }\n",R+="    gl_FragColor = vec4(color, 1.0);\n"):R+="BLEND"===Y?"    gl_FragColor = vec4(color, baseColorWithAlpha.a);\n":"    gl_FragColor = vec4(color, 1.0);\n":R+="    gl_FragColor = vec4(color, 1.0);\n",R+="}\n";var ve=Object(f.a)(T,{type:h.a.VERTEX_SHADER,extras:{_pipeline:{source:I,extension:".glsl"}}}),be=Object(f.a)(T,{type:h.a.FRAGMENT_SHADER,extras:{_pipeline:{source:R,extension:".glsl"}}}),ye=Object(f.a)(A,{fragmentShader:be,vertexShader:ve});return Object(f.a)(E,{attributes:ie,program:ye,uniforms:G})}function c(e){if(-1!==e.indexOf("Offset"))return h.a.FLOAT_VEC2;if(-1!==e.indexOf("Rotation"))return h.a.FLOAT;if(-1!==e.indexOf("Scale"))return h.a.FLOAT_VEC2;if(-1!==e.indexOf("Texture"))return h.a.SAMPLER_2D;switch(e){case"u_baseColorFactor":return h.a.FLOAT_VEC4;case"u_metallicFactor":case"u_roughnessFactor":return h.a.FLOAT;case"u_emissiveFactor":return h.a.FLOAT_VEC3;case"u_diffuseFactor":return h.a.FLOAT_VEC4;case"u_specularFactor":return h.a.FLOAT_VEC3;case"u_glossinessFactor":return h.a.FLOAT}}var l=i("5A4e"),u=i("xC6Q"),h=i("1L1F"),d=i("2LHl"),f=i("gjak"),p=i("FJg6"),m=i("dnpE"),g=i("8uSS"),_=i("67ZH"),v=[0,0],b=[0],y=[1,1];t.a=n},"52gC":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"53NE":function(e,t,i){"use strict";function n(e){this._value=void 0,this._hasClone=!1,this._hasEquals=!1,this._definitionChanged=new r.a,this.setValue(e)}var a=i("xC6Q"),r=i("W6xh");Object.defineProperties(n.prototype,{isConstant:{value:!0},definitionChanged:{get:function(){return this._definitionChanged}}}),n.prototype.getValue=function(e,t){return this._hasClone?this._value.clone(t):this._value},n.prototype.setValue=function(e){var t=this._value;if(t!==e){var i=Object(a.a)(e),n=i&&"function"==typeof e.clone,r=i&&"function"==typeof e.equals;(!r||!e.equals(t))&&(this._hasClone=n,this._hasEquals=r,this._value=n?e.clone(this._value):e,this._definitionChanged.raiseEvent(this))}},n.prototype.equals=function(e){return this===e||e instanceof n&&(!this._hasEquals&&this._value===e._value||this._hasEquals&&this._value.equals(e._value))},n.prototype.valueOf=function(){return this._value},n.prototype.toString=function(){return String(this._value)},t.a=n},"5A4e":function(e,t,i){"use strict";function n(e,t){return void 0!==e&&null!==e?e:t}n.EMPTY_OBJECT=Object.freeze({}),t.a=n},"5DBO":function(e,t,i){"use strict";function n(e){if(!Object(r.a)(e))throw new o.a("uri is required.");var t=new a.a(e);t.normalize();var i=t.path,n=i.lastIndexOf("/");return-1!==n&&(i=i.substr(n+1)),n=i.lastIndexOf("."),i=-1===n?"":i.substr(n+1)}var a=i("8Vjj"),r=i("xC6Q"),o=i("PzDm");t.a=n},"5F4X":function(e,t,i){"use strict";function n(e){return e+" is required, actual value was undefined"}function a(e,t,i){return"Expected "+i+" to be typeof "+t+", actual typeof was "+e}var r=i("xC6Q"),o=i("PzDm"),s={};s.typeOf={},s.defined=function(e,t){if(!Object(r.a)(t))throw new o.a(n(e))},s.typeOf.func=function(e,t){if("function"!=typeof t)throw new o.a(a(typeof t,"function",e))},s.typeOf.string=function(e,t){if("string"!=typeof t)throw new o.a(a(typeof t,"string",e))},s.typeOf.number=function(e,t){if("number"!=typeof t)throw new o.a(a(typeof t,"number",e))},s.typeOf.number.lessThan=function(e,t,i){if(s.typeOf.number(e,t),t>=i)throw new o.a("Expected "+e+" to be less than "+i+", actual value was "+t)},s.typeOf.number.lessThanOrEquals=function(e,t,i){if(s.typeOf.number(e,t),t>i)throw new o.a("Expected "+e+" to be less than or equal to "+i+", actual value was "+t)},s.typeOf.number.greaterThan=function(e,t,i){if(s.typeOf.number(e,t),t<=i)throw new o.a("Expected "+e+" to be greater than "+i+", actual value was "+t)},s.typeOf.number.greaterThanOrEquals=function(e,t,i){if(s.typeOf.number(e,t),t<i)throw new o.a("Expected "+e+" to be greater than or equal to"+i+", actual value was "+t)},s.typeOf.object=function(e,t){if("object"!=typeof t)throw new o.a(a(typeof t,"object",e))},s.typeOf.bool=function(e,t){if("boolean"!=typeof t)throw new o.a(a(typeof t,"boolean",e))},s.typeOf.number.equals=function(e,t,i,n){if(s.typeOf.number(e,i),s.typeOf.number(t,n),i!==n)throw new o.a(e+" must be equal to "+t+", the actual values are "+i+" and "+n)},t.a=s},"5SZ+":function(e,t,i){"use strict";function n(e){this.type=void 0,this.shaderSource=void 0,this.materials=void 0,this.uniforms=void 0,this._uniforms=void 0,this.translucent=void 0,this._minificationFilter=Object(E.a)(e.minificationFilter,ee.a.LINEAR),this._magnificationFilter=Object(E.a)(e.magnificationFilter,$.a.LINEAR),this._strict=void 0,this._template=void 0,this._count=void 0,this._texturePaths={},this._loadedImages=[],this._loadedCubeMaps=[],this._textures={},this._updateFunctions=[],this._defaultTexture=void 0,a(e,this),Object.defineProperties(this,{type:{value:this.type,writable:!1}}),Object(T.a)(n._uniformList[this.type])||(n._uniformList[this.type]=Object.keys(this._uniforms))}function a(e,t){e=Object(E.a)(e,E.a.EMPTY_OBJECT),t._strict=Object(E.a)(e.strict,!1),t._count=Object(E.a)(e.count,0),t._template=Object(y.a)(Object(E.a)(e.fabric,E.a.EMPTY_OBJECT)),t._template.uniforms=Object(y.a)(Object(E.a)(t._template.uniforms,E.a.EMPTY_OBJECT)),t._template.materials=Object(y.a)(Object(E.a)(t._template.materials,E.a.EMPTY_OBJECT)),t.type=Object(T.a)(t._template.type)?t._template.type:Object(x.a)(),t.shaderSource="",t.materials={},t.uniforms={},t._uniforms={},t._translucentFunctions=[];var i,a=n._materialCache.getMaterial(t.type);if(Object(T.a)(a)){var r=Object(y.a)(a.fabric,!0);t._template=Object(w.a)(t._template,r,!0),i=a.translucent}c(t),Object(T.a)(a)||n._materialCache.addMaterial(t.type,t),u(t),f(t),g(t);var o=0===t._translucentFunctions.length||void 0;if(i=Object(E.a)(i,o),i=Object(E.a)(e.translucent,i),Object(T.a)(i))if("function"==typeof i){var s=function(){return i(t)};t._translucentFunctions.push(s)}else t._translucentFunctions.push(i)}function r(e,t,i,n){if(Object(T.a)(e))for(var a in e)if(e.hasOwnProperty(a)){var r=-1!==t.indexOf(a);(n&&!r||!n&&r)&&i(a,t)}}function o(e,t){for(var i="fabric: property name '"+e+"' is not valid. It should be ",n=0;n<t.length;n++){var a="'"+t[n]+"'";i+=n===t.length-1?"or "+a+".":a+", "}throw new C.a(i)}function s(e,t){var i="fabric: uniforms and materials cannot share the same property '"+e+"'";throw new C.a(i)}function c(e){var t=e._template,i=t.uniforms,n=t.materials,a=t.components;if(Object(T.a)(a)&&Object(T.a)(t.source))throw new C.a("fabric: cannot have source and components in the same template.");r(t,ne,o,!0),r(a,ae,o,!0);var c=[];for(var l in n)n.hasOwnProperty(l)&&c.push(l);r(i,c,s,!1)}function l(e,t){var i=t._template.materials;for(var n in i)if(i.hasOwnProperty(n)&&e.indexOf(n)>-1)return!0;return!1}function u(e){var t=e._template.components,i=e._template.source;if(Object(T.a)(i))e.shaderSource+=i+"\n";else{if(e.shaderSource+="czm_material czm_getMaterial(czm_materialInput materialInput)\n{\n",e.shaderSource+="czm_material material = czm_getDefaultMaterial(materialInput);\n",Object(T.a)(t)){var n=Object.keys(e._template.materials).length>0;for(var a in t)if(t.hasOwnProperty(a))if("diffuse"===a||"emission"===a){var r=n&&l(t[a],e),o=r?t[a]:"czm_gammaCorrect("+t[a]+")";e.shaderSource+="material."+a+" = "+o+"; \n"}else e.shaderSource+="alpha"===a?"material.alpha = "+t.alpha+"; \n":"material."+a+" = "+t[a]+";\n"}e.shaderSource+="return material;\n}\n"}}function h(e){var t;return function(i,a){var r=i.uniforms,o=r[e],s=t!==o;t=o;var c,l,u=i._textures[e];if(o instanceof HTMLVideoElement)if(o.readyState>=2){if(s&&Object(T.a)(u)&&(u!==a.defaultTexture&&u.destroy(),u=void 0),!Object(T.a)(u)||u===a.defaultTexture){var h=new J.a({minificationFilter:i._minificationFilter,magnificationFilter:i._magnificationFilter});return u=new L.a({context:a,source:o,sampler:h}),void(i._textures[e]=u)}u.copyFrom(o)}else Object(T.a)(u)||(i._textures[e]=a.defaultTexture);else{if(o instanceof L.a&&o!==u){i._texturePaths[e]=void 0;var d=i._textures[e];return d!==i._defaultTexture&&d.destroy(),i._textures[e]=o,c=e+"Dimensions",void(r.hasOwnProperty(c)&&(l=r[c],l.x=o._width,l.y=o._height))}if(Object(T.a)(u)||(i._texturePaths[e]=void 0,Object(T.a)(i._defaultTexture)||(i._defaultTexture=a.defaultTexture),u=i._textures[e]=i._defaultTexture,c=e+"Dimensions",r.hasOwnProperty(c)&&(l=r[c],l.x=u._width,l.y=u._height)),o!==n.DefaultImageId){var f=o instanceof R.a;if(!Object(T.a)(i._texturePaths[e])||f&&o.url!==i._texturePaths[e].url||!f&&o!==i._texturePaths[e]){if("string"==typeof o||f){var p,m=f?o:R.a.createIfNeeded(o);p=oe.test(m.url)?Object(j.a)(m):se.test(m.url)?Object(S.a)(m):m.fetchImage(),Object(ie.a)(p,function(t){i._loadedImages.push({id:e,image:t})})}else(o instanceof HTMLCanvasElement||o instanceof HTMLImageElement)&&i._loadedImages.push({id:e,image:o});i._texturePaths[e]=o}}}}}function d(e){return function(t,i){var a=t.uniforms[e];if(a instanceof M.a){var r=t._textures[e];return r!==t._defaultTexture&&r.destroy(),t._texturePaths[e]=void 0,void(t._textures[e]=a)}if(Object(T.a)(t._textures[e])||(t._texturePaths[e]=void 0,t._textures[e]=i.defaultCubeMap),a!==n.DefaultCubeMapId){var o=a.positiveX+a.negativeX+a.positiveY+a.negativeY+a.positiveZ+a.negativeZ;if(o!==t._texturePaths[e]){var s=[R.a.createIfNeeded(a.positiveX).fetchImage(),R.a.createIfNeeded(a.negativeX).fetchImage(),R.a.createIfNeeded(a.positiveY).fetchImage(),R.a.createIfNeeded(a.negativeY).fetchImage(),R.a.createIfNeeded(a.positiveZ).fetchImage(),R.a.createIfNeeded(a.negativeZ).fetchImage()];ie.a.all(s).then(function(i){t._loadedCubeMaps.push({id:e,images:i})}),t._texturePaths[e]=o}}}}function f(e){var t=e._template.uniforms;for(var i in t)t.hasOwnProperty(i)&&p(e,i)}function p(e,t){var i=e._strict,n=e._template.uniforms,a=n[t],r=m(a);if(!Object(T.a)(r))throw new C.a("fabric: uniform '"+t+"' has invalid type.");if("channels"===r){if(0===_(e,t,a,!1)&&i)throw new C.a("strict: shader source does not use channels '"+t+"'.")}else{if("sampler2D"===r){var o=t+"Dimensions";v(e,o)>0&&(n[o]={type:"ivec3",x:1,y:1},p(e,o))}if(!new RegExp("uniform\\s+"+r+"\\s+"+t+"\\s*;").test(e.shaderSource)){var s="uniform "+r+" "+t+";";e.shaderSource=s+e.shaderSource}var c=t+"_"+e._count++;if(1===_(e,t,c)&&i)throw new C.a("strict: shader source does not use uniform '"+t+"'.");if(e.uniforms[t]=a,"sampler2D"===r)e._uniforms[c]=function(){return e._textures[t]},e._updateFunctions.push(h(t));else if("samplerCube"===r)e._uniforms[c]=function(){return e._textures[t]},e._updateFunctions.push(d(t));else if(-1!==r.indexOf("mat")){var l=new re[r];e._uniforms[c]=function(){return re[r].fromColumnMajorArray(e.uniforms[t],l)}}else e._uniforms[c]=function(){return e.uniforms[t]}}}function m(e){var t=e.type;if(!Object(T.a)(t)){var i=typeof e;if("number"===i)t="float";else if("boolean"===i)t="bool";else if("string"===i||e instanceof R.a||e instanceof HTMLCanvasElement||e instanceof HTMLImageElement)t=/^([rgba]){1,4}$/i.test(e)?"channels":e===n.DefaultCubeMapId?"samplerCube":"sampler2D";else if("object"===i)if(Array.isArray(e))4!==e.length&&9!==e.length&&16!==e.length||(t="mat"+Math.sqrt(e.length));else{var a=0;for(var r in e)e.hasOwnProperty(r)&&(a+=1);a>=2&&a<=4?t="vec"+a:6===a&&(t="samplerCube")}}return t}function g(e){var t=e._strict,i=e._template.materials;for(var a in i)if(i.hasOwnProperty(a)){var r=new n({strict:t,fabric:i[a],count:e._count});e._count=r._count,e._uniforms=Object(w.a)(e._uniforms,r._uniforms,!0),e.materials[a]=r,e._translucentFunctions=e._translucentFunctions.concat(r._translucentFunctions);var o="czm_getMaterial_"+e._count++;_(r,"czm_getMaterial",o),e.shaderSource=r.shaderSource+e.shaderSource;var s=o+"(materialInput)",c=_(e,a,s);if(0===c&&t)throw new C.a("strict: shader source does not use material '"+a+"'.")}}function _(e,t,i,n){n=Object(E.a)(n,!0);var a=0,r="([\\w"+(n?".":"")+"])?",o=new RegExp(r+t+"([\\w])?","g");return e.shaderSource=e.shaderSource.replace(o,function(e,t,n){return t||n?e:(a+=1,i)}),a}function v(e,t,i){return _(e,t,t,i)}var b=i("Ss9j"),y=i("wv0P"),O=i("6F0S"),w=i("ZboF"),x=i("ed27"),E=i("5A4e"),T=i("xC6Q"),A=i("6sr8"),C=i("PzDm"),S=i("O41A"),j=i("RWMz"),P=i("BvC/"),D=i("i3sv"),I=i("Xjii"),R=i("rMjQ"),M=i("VvLh"),L=i("25X5"),N=i("qOxY"),F=i("7rSz"),z=i("mDWl"),B=i("jfJn"),k=i("YGJX"),U=i("OZOx"),V=i("WVIq"),H=i("0KUP"),q=i("OmGJ"),W=i("617r"),G=i("DB3y"),Y=i("unrA"),X=i("CA5F"),Q=i("bL1c"),J=i("l0BX"),Z=i("jktP"),K=i("JsLo"),$=i("YKq0"),ee=i("z2iY"),te=i("UlX4"),ie=i("S7OP");n._uniformList={},n.fromType=function(e,t){if(!Object(T.a)(n._materialCache.getMaterial(e)))throw new C.a("material with type '"+e+"' does not exist.");var i=new n({fabric:{type:e}});if(Object(T.a)(t))for(var a in t)t.hasOwnProperty(a)&&(i.uniforms[a]=t[a]);return i},n.prototype.isTranslucent=function(){if(Object(T.a)(this.translucent))return"function"==typeof this.translucent?this.translucent():this.translucent;for(var e=!0,t=this._translucentFunctions,i=t.length,n=0;n<i;++n){var a=t[n];if(!(e="function"==typeof a?e&&a():e&&a))break}return e},n.prototype.update=function(e){var t,i,n=this._loadedImages,a=n.length;for(t=0;t<a;++t){var r=n[t];i=r.id;var o,s=r.image,c=new J.a({minificationFilter:this._minificationFilter,magnificationFilter:this._magnificationFilter});o=Object(T.a)(s.internalFormat)?new L.a({context:e,pixelFormat:s.internalFormat,width:s.width,height:s.height,source:{arrayBufferView:s.bufferView},sampler:c}):new L.a({context:e,source:s,sampler:c}),this._textures[i]=o;var l=i+"Dimensions";if(this.uniforms.hasOwnProperty(l)){var u=this.uniforms[l];u.x=o._width,u.y=o._height}}n.length=0;var h=this._loadedCubeMaps;for(a=h.length,t=0;t<a;++t){var d=h[t];i=d.id;var f=d.images,p=new M.a({context:e,source:{positiveX:f[0],negativeX:f[1],positiveY:f[2],negativeY:f[3],positiveZ:f[4],negativeZ:f[5]},sampler:new J.a({minificationFilter:this._minificationFilter,magnificationFilter:this._magnificationFilter})});this._textures[i]=p}h.length=0;var m=this._updateFunctions;for(a=m.length,t=0;t<a;++t)m[t](this,e);var g=this.materials;for(var _ in g)g.hasOwnProperty(_)&&g[_].update(e)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){var e=this._textures;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];i!==this._defaultTexture&&i.destroy()}var n=this.materials;for(var a in n)n.hasOwnProperty(a)&&n[a].destroy();return Object(A.a)(this)};var ne=["type","materials","uniforms","components","source"],ae=["diffuse","specular","shininess","normal","emission","alpha"],re={mat2:P.a,mat3:D.a,mat4:I.a},oe=/\.ktx$/i,se=/\.crn$/i;n._materialCache={_materials:{},addMaterial:function(e,t){this._materials[e]=t},getMaterial:function(e){return this._materials[e]}},n.DefaultImageId="czm_defaultImage",n.DefaultCubeMapId="czm_defaultCubeMap",n.ColorType="Color",n._materialCache.addMaterial(n.ColorType,{fabric:{type:n.ColorType,uniforms:{color:new O.a(1,0,0,.5)},components:{diffuse:"color.rgb",alpha:"color.a"}},translucent:function(e){return e.uniforms.color.alpha<1}}),n.ImageType="Image",n._materialCache.addMaterial(n.ImageType,{fabric:{type:n.ImageType,uniforms:{image:n.DefaultImageId,repeat:new b.a(1,1),color:new O.a(1,1,1,1)},components:{diffuse:"texture2D(image, fract(repeat * materialInput.st)).rgb * color.rgb",alpha:"texture2D(image, fract(repeat * materialInput.st)).a * color.a"}},translucent:function(e){return e.uniforms.color.alpha<1}}),n.DiffuseMapType="DiffuseMap",n._materialCache.addMaterial(n.DiffuseMapType,{fabric:{type:n.DiffuseMapType,uniforms:{image:n.DefaultImageId,channels:"rgb",repeat:new b.a(1,1)},components:{diffuse:"texture2D(image, fract(repeat * materialInput.st)).channels"}},translucent:!1}),n.AlphaMapType="AlphaMap",n._materialCache.addMaterial(n.AlphaMapType,{fabric:{type:n.AlphaMapType,uniforms:{image:n.DefaultImageId,channel:"a",repeat:new b.a(1,1)},components:{alpha:"texture2D(image, fract(repeat * materialInput.st)).channel"}},translucent:!0}),n.SpecularMapType="SpecularMap",n._materialCache.addMaterial(n.SpecularMapType,{fabric:{type:n.SpecularMapType,uniforms:{image:n.DefaultImageId,channel:"r",repeat:new b.a(1,1)},components:{specular:"texture2D(image, fract(repeat * materialInput.st)).channel"}},translucent:!1}),n.EmissionMapType="EmissionMap",n._materialCache.addMaterial(n.EmissionMapType,{fabric:{type:n.EmissionMapType,uniforms:{image:n.DefaultImageId,channels:"rgb",repeat:new b.a(1,1)},components:{emission:"texture2D(image, fract(repeat * materialInput.st)).channels"}},translucent:!1}),n.BumpMapType="BumpMap",n._materialCache.addMaterial(n.BumpMapType,{fabric:{type:n.BumpMapType,uniforms:{image:n.DefaultImageId,channel:"r",strength:.8,repeat:new b.a(1,1)},source:F.a},translucent:!1}),n.NormalMapType="NormalMap",n._materialCache.addMaterial(n.NormalMapType,{fabric:{type:n.NormalMapType,uniforms:{image:n.DefaultImageId,channels:"rgb",strength:.8,repeat:new b.a(1,1)},source:q.a},translucent:!1}),n.GridType="Grid",n._materialCache.addMaterial(n.GridType,{fabric:{type:n.GridType,uniforms:{color:new O.a(0,1,0,1),cellAlpha:.1,lineCount:new b.a(8,8),lineThickness:new b.a(1,1),lineOffset:new b.a(0,0)},source:H.a},translucent:function(e){var t=e.uniforms;return t.color.alpha<1||t.cellAlpha<1}}),n.StripeType="Stripe",n._materialCache.addMaterial(n.StripeType,{fabric:{type:n.StripeType,uniforms:{horizontal:!0,evenColor:new O.a(1,1,1,.5),oddColor:new O.a(0,0,1,.5),offset:0,repeat:5},source:K.a},translucent:function(e){var t=e.uniforms;return t.evenColor.alpha<1||t.oddColor.alpha<1}}),n.CheckerboardType="Checkerboard",n._materialCache.addMaterial(n.CheckerboardType,{fabric:{type:n.CheckerboardType,uniforms:{lightColor:new O.a(1,1,1,.5),darkColor:new O.a(0,0,0,.5),repeat:new b.a(5,5)},source:z.a},translucent:function(e){var t=e.uniforms;return t.lightColor.alpha<1||t.darkColor.alpha<1}}),n.DotType="Dot",n._materialCache.addMaterial(n.DotType,{fabric:{type:n.DotType,uniforms:{lightColor:new O.a(1,1,0,.75),darkColor:new O.a(0,1,1,.75),repeat:new b.a(5,5)},source:B.a},translucent:function(e){var t=e.uniforms;return t.lightColor.alpha<1||t.darkColor.alpha<1}}),n.WaterType="Water",n._materialCache.addMaterial(n.WaterType,{fabric:{type:n.WaterType,uniforms:{baseWaterColor:new O.a(.2,.3,.6,1),blendColor:new O.a(0,1,.699,1),specularMap:n.DefaultImageId,normalMap:n.DefaultImageId,frequency:10,animationSpeed:.01,amplitude:1,specularIntensity:.5,fadeFactor:1},source:te.a},translucent:function(e){var t=e.uniforms;return t.baseWaterColor.alpha<1||t.blendColor.alpha<1}}),n.RimLightingType="RimLighting",n._materialCache.addMaterial(n.RimLightingType,{fabric:{type:n.RimLightingType,uniforms:{color:new O.a(1,0,0,.7),rimColor:new O.a(1,1,1,.4),width:.3},source:Q.a},translucent:function(e){var t=e.uniforms;return t.color.alpha<1||t.rimColor.alpha<1}}),n.FadeType="Fade",n._materialCache.addMaterial(n.FadeType,{fabric:{type:n.FadeType,uniforms:{fadeInColor:new O.a(1,0,0,1),fadeOutColor:new O.a(0,0,0,0),maximumDistance:.5,repeat:!0,fadeDirection:{x:!0,y:!0},time:new b.a(.5,.5)},source:V.a},translucent:function(e){var t=e.uniforms;return t.fadeInColor.alpha<1||t.fadeOutColor.alpha<1}}),n.PolylineArrowType="PolylineArrow",n._materialCache.addMaterial(n.PolylineArrowType,{fabric:{type:n.PolylineArrowType,uniforms:{color:new O.a(1,1,1,1)},source:W.a},translucent:!0}),n.PolylineDashType="PolylineDash",n._materialCache.addMaterial(n.PolylineDashType,{fabric:{type:n.PolylineDashType,uniforms:{color:new O.a(1,0,1,1),gapColor:new O.a(0,0,0,0),dashLength:16,dashPattern:255},source:G.a},translucent:!0}),n.PolylineGlowType="PolylineGlow",n._materialCache.addMaterial(n.PolylineGlowType,{fabric:{type:n.PolylineGlowType,uniforms:{color:new O.a(0,.5,1,1),glowPower:.25,taperPower:1},source:Y.a},translucent:!0}),n.PolylineOutlineType="PolylineOutline",n._materialCache.addMaterial(n.PolylineOutlineType,{fabric:{type:n.PolylineOutlineType,uniforms:{color:new O.a(1,1,1,1),outlineColor:new O.a(1,0,0,1),outlineWidth:1},source:X.a},translucent:function(e){var t=e.uniforms;return t.color.alpha<1||t.outlineColor.alpha<1}}),n.ElevationContourType="ElevationContour",n._materialCache.addMaterial(n.ElevationContourType,{fabric:{type:n.ElevationContourType,uniforms:{spacing:100,color:new O.a(1,0,0,1),width:1},source:k.a},translucent:!1}),n.ElevationRampType="ElevationRamp",n._materialCache.addMaterial(n.ElevationRampType,{fabric:{type:n.ElevationRampType,uniforms:{image:n.DefaultImageId,minimumHeight:0,maximumHeight:1e4},source:U.a},translucent:!1}),n.SlopeRampMaterialType="SlopeRamp",n._materialCache.addMaterial(n.SlopeRampMaterialType,{fabric:{type:n.SlopeRampMaterialType,uniforms:{image:n.DefaultImageId},source:Z.a},translucent:!1}),n.AspectRampMaterialType="AspectRamp",n._materialCache.addMaterial(n.AspectRampMaterialType,{fabric:{type:n.AspectRampMaterialType,uniforms:{image:n.DefaultImageId},source:N.a},translucent:!1}),t.a=n},"5Vrx":function(e,t,i){"use strict";function n(e){if(!e.floatingPointTexture)return!1;var t=new s.a(e),i=new u.a({context:e,width:1,height:1,pixelFormat:a.a.RGBA}),l=new u.a({context:e,width:1,height:1,pixelFormat:a.a.RGBA,pixelDatatype:n._getFloatPixelType(),source:{width:1,height:1,arrayBufferView:n._getArray([123456,0,0,0])}}),h=new c.a({context:e,colorTextures:[i],destroyAttachments:!1}),d={framebuffer:h,x:0,y:0,width:1,height:1},f=!1;return new o.a({fragmentShaderSource:r.a,outputTexture:i,uniformMap:{u_floatTexture:function(){return l}},persists:!1,postExecute:function(){var t=e.readPixels(d);f=0===t[0]}}).execute(t),t.destroy(),h.destroy(),f}var a=i("FhYh"),r=i("a2Pd"),o=i("/Bhn"),s=i("5kJD"),c=i("YyWD"),l=i("HvCH"),u=i("25X5");n._getFloatPixelType=function(){return l.a.FLOAT},n._getArray=function(e){return new Float32Array(e)},t.a=n},"5Y7P":function(e,t,i){"use strict";function n(){this._terrainCache={},this._lastTidy=_.a.now()}function a(e){if(e=Object(l.a)(e,l.a.EMPTY_OBJECT),!Object(u.a)(e.url)&&!Object(u.a)(e.metadata))throw new h.a("options.url or options.metadata is required.");var t;if(Object(u.a)(e.metadata))t=e.metadata;else{var i=x.a.createIfNeeded(e.url);t=new p.a(i)}this._metadata=t,this._tilingScheme=new f.a({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new b.a(-v.a.PI,-v.a.PI,v.a.PI,v.a.PI),ellipsoid:e.ellipsoid});var a=e.credit;"string"==typeof a&&(a=new c.a(a)),this._credit=a,this._levelZeroMaximumGeometricError=40075.16,this._terrainCache=new n,this._terrainPromises={},this._terrainRequests={},this._errorEvent=new d.a,this._ready=!1;var r,o=this;this._readyPromise=t.readyPromise.then(function(e){if(!t.terrainPresent){var i=new E.a("The server "+t.url+" doesn't have terrain");return r=A.a.handleError(r,o,o._errorEvent,i.message,void 0,void 0,void 0,i),s.a.reject(i)}return A.a.handleSuccess(r),o._ready=e,e}).otherwise(function(e){return r=A.a.handleError(r,o,o._errorEvent,e.message,void 0,void 0,void 0,e),s.a.reject(e)})}function r(e,t,i){var n=t.getChildBitmask();if(t.terrainState===C.PARENT){n=0;for(var a=0;a<4;++a){var r=i.getTileInformationFromQuadKey(e+a.toString());Object(u.a)(r)&&r.hasTerrain()&&(n|=1<<a)}}return n}function o(e,t,i,n){return i=Object(u.a)(i)&&i>0?i:1,e._metadata.resource.getDerivedResource({url:"flatfile?f1c-0"+t+"-t."+i.toString(),request:n})}var s=i("S7OP"),c=i("ODTd"),l=i("5A4e"),u=i("xC6Q"),h=i("PzDm"),d=i("W6xh"),f=i("4MnW"),p=i("GiV9"),m=i("SLTh"),g=i("l3S0"),_=i("9Uqs"),v=i("fq+p"),b=i("Wq1U"),y=i("dI/G"),O=i("YBjH"),w=i("0pio"),x=i("rMjQ"),E=i("V22k"),T=i("JlUm"),A=i("M1To"),C={UNKNOWN:0,NONE:1,SELF:2,PARENT:3},S=new _.a;n.prototype.add=function(e,t){this._terrainCache[e]={buffer:t,timestamp:_.a.now()}},n.prototype.get=function(e){var t=this._terrainCache,i=t[e];if(Object(u.a)(i))return delete this._terrainCache[e],i.buffer},n.prototype.tidy=function(){if(_.a.now(S),_.a.secondsDifference(S,this._lastTidy)>10){for(var e=this._terrainCache,t=Object.keys(e),i=t.length,n=0;n<i;++n){var a=t[n],r=e[a];_.a.secondsDifference(S,r.timestamp)>10&&delete e[a]}_.a.clone(S,this._lastTidy)}},Object.defineProperties(a.prototype,{url:{get:function(){return this._metadata.url}},proxy:{get:function(){return this._metadata.proxy}},tilingScheme:{get:function(){if(!this._ready)throw new h.a("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){return this._credit}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){}}});var j=new T.a("decodeGoogleEarthEnterprisePacket",Number.POSITIVE_INFINITY);a.prototype.requestTileGeometry=function(e,t,i,n){if(!this._ready)throw new h.a("requestTileGeometry must not be called before the terrain provider is ready.");var a=p.a.tileXYToQuadKey(e,t,i),c=this._terrainCache,l=this._metadata,d=l.getTileInformationFromQuadKey(a);if(!Object(u.a)(d))return s.a.reject(new E.a("Terrain tile doesn't exist"));var f=d.terrainState;Object(u.a)(f)||(f=d.terrainState=C.UNKNOWN);var _=c.get(a);if(Object(u.a)(_)){var v=l.providers[d.terrainProvider];return s.a.resolve(new m.a({buffer:_,childTileMask:r(a,d,l),credits:Object(u.a)(v)?[v]:void 0,negativeAltitudeExponentBias:l.negativeAltitudeExponentBias,negativeElevationThreshold:l.negativeAltitudeThreshold}))}if(c.tidy(),!d.ancestorHasTerrain)return s.a.resolve(new g.a({buffer:new Uint8Array(256),width:16,height:16}));if(f===C.NONE)return s.a.reject(new E.a("Terrain tile doesn't exist"));var b,y=a,w=-1;switch(f){case C.SELF:w=d.terrainVersion;break;case C.PARENT:y=y.substring(0,y.length-1),b=l.getTileInformationFromQuadKey(y),w=b.terrainVersion;break;case C.UNKNOWN:d.hasTerrain()?w=d.terrainVersion:(y=y.substring(0,y.length-1),b=l.getTileInformationFromQuadKey(y),Object(u.a)(b)&&b.hasTerrain()&&(w=b.terrainVersion))}if(w<0)return s.a.reject(new E.a("Terrain tile doesn't exist"));var x,T,A=this._terrainPromises,S=this._terrainRequests;if(Object(u.a)(A[y]))x=A[y],T=S[y];else{T=n;var P=o(this,y,w,T).fetchArrayBuffer();if(!Object(u.a)(P))return;x=P.then(function(e){return Object(u.a)(e)?j.scheduleTask({buffer:e,type:"Terrain",key:l.key},[e]).then(function(e){var t=l.getTileInformationFromQuadKey(y);t.terrainState=C.SELF,c.add(y,e[0]);for(var i=t.terrainProvider,n=e.length-1,a=0;a<n;++a){var r=y+a.toString(),o=l.getTileInformationFromQuadKey(r);Object(u.a)(o)&&(c.add(r,e[a+1]),o.terrainState=C.PARENT,0===o.terrainProvider&&(o.terrainProvider=i))}}):s.a.reject(new E.a("Failed to load terrain."))}),A[y]=x,S[y]=T,x=x.always(function(){delete A[y],delete S[y]})}return x.then(function(){var e=c.get(a);if(Object(u.a)(e)){var t=l.providers[d.terrainProvider];return new m.a({buffer:e,childTileMask:r(a,d,l),credits:Object(u.a)(t)?[t]:void 0,negativeAltitudeExponentBias:l.negativeAltitudeExponentBias,negativeElevationThreshold:l.negativeAltitudeThreshold})}return s.a.reject(new E.a("Failed to load terrain."))}).otherwise(function(e){return T.state===O.a.CANCELLED?(n.state=T.state,s.a.reject(e)):(d.terrainState=C.NONE,s.a.reject(e))})},a.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},a.prototype.getTileDataAvailable=function(e,t,i){var n=this._metadata,a=p.a.tileXYToQuadKey(e,t,i),r=n.getTileInformation(e,t,i);if(null===r)return!1;if(Object(u.a)(r)){if(!r.ancestorHasTerrain)return!0;var o=r.terrainState;if(o===C.NONE)return!1;if(!(Object(u.a)(o)&&o!==C.UNKNOWN||(r.terrainState=C.UNKNOWN,r.hasTerrain()))){a=a.substring(0,a.length-1);var s=n.getTileInformationFromQuadKey(a);if(!Object(u.a)(s)||!s.hasTerrain())return!1}return!0}if(n.isValid(a)){var c=new y.a({throttle:!0,throttleByServer:!0,type:w.a.TERRAIN});n.populateSubtree(e,t,i,c)}return!1},a.prototype.loadTileDataAvailability=function(e,t,i){}},"5kJD":function(e,t,i){"use strict";function n(e){this._context=e}function a(e,t){return new v.a({context:e,colorTextures:[t],destroyAttachments:!1})}function r(e,t){return y.a.fromCache({context:e,vertexShaderSource:m.a,fragmentShaderSource:t,attributeLocations:{position:0,textureCoordinates:1}})}function o(e,t){return Object(h.a)(s)&&s.viewport.width===e&&s.viewport.height===t||(s=b.a.fromCache({viewport:new c.a(0,0,e,t)})),s}var s,c=i("or8k"),l=i("5F4X"),u=i("6F0S"),h=i("xC6Q"),d=i("6sr8"),f=i("PzDm"),p=i("nHNe"),m=i("yOzb"),g=i("/DUn"),_=i("1mJh"),v=i("YyWD"),b=i("DrvA"),y=i("WUlw"),O=new _.a({primitiveType:p.a.TRIANGLES}),w=new g.a({color:new u.a(0,0,0,0)});n.prototype.execute=function(e){if(l.a.defined("computeCommand",e),Object(h.a)(e.preExecute)&&e.preExecute(e),!Object(h.a)(e.fragmentShaderSource)&&!Object(h.a)(e.shaderProgram))throw new f.a("computeCommand.fragmentShaderSource or computeCommand.shaderProgram is required.");l.a.defined("computeCommand.outputTexture",e.outputTexture);var t=e.outputTexture,i=t.width,n=t.height,s=this._context,c=Object(h.a)(e.vertexArray)?e.vertexArray:s.getViewportQuadVertexArray(),u=Object(h.a)(e.shaderProgram)?e.shaderProgram:r(s,e.fragmentShaderSource),d=a(s,t),p=o(i,n),m=e.uniformMap,g=w;g.framebuffer=d,g.renderState=p,g.execute(s);var _=O;_.vertexArray=c,_.renderState=p,_.shaderProgram=u,_.uniformMap=m,_.framebuffer=d,_.execute(s),d.destroy(),e.persists||(u.destroy(),Object(h.a)(e.vertexArray)&&c.destroy()),Object(h.a)(e.postExecute)&&e.postExecute(t)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return Object(d.a)(this)},t.a=n},"5qFU":function(e,t,i){"use strict";function n(e){this._translucentMultipassSupport=!1,this._translucentMRTSupport=!1;var t=e.colorBufferFloat&&e.depthTexture;this._translucentMRTSupport=e.drawBuffers&&t,this._translucentMultipassSupport=!this._translucentMRTSupport&&t,this._opaqueFBO=void 0,this._opaqueTexture=void 0,this._depthStencilTexture=void 0,this._accumulationTexture=void 0,this._translucentFBO=void 0,this._alphaFBO=void 0,this._adjustTranslucentFBO=void 0,this._adjustAlphaFBO=void 0,this._opaqueClearCommand=new T.a({color:new y.a(0,0,0,0),owner:this}),this._translucentMRTClearCommand=new T.a({color:new y.a(0,0,0,1),owner:this}),this._translucentMultipassClearCommand=new T.a({color:new y.a(0,0,0,0),owner:this}),this._alphaClearCommand=new T.a({color:new y.a(1,1,1,1),owner:this}),this._translucentRenderStateCache={},this._alphaRenderStateCache={},this._compositeCommand=void 0,this._adjustTranslucentCommand=void 0,this._adjustAlphaCommand=void 0,this._viewport=new b.a,this._rs=void 0,this._useScissorTest=!1,this._scissorRectangle=void 0,this._useHDR=!1}function a(e){e._accumulationTexture=e._accumulationTexture&&!e._accumulationTexture.isDestroyed()&&e._accumulationTexture.destroy(),e._revealageTexture=e._revealageTexture&&!e._revealageTexture.isDestroyed()&&e._revealageTexture.destroy()}function r(e){e._translucentFBO=e._translucentFBO&&!e._translucentFBO.isDestroyed()&&e._translucentFBO.destroy(),e._alphaFBO=e._alphaFBO&&!e._alphaFBO.isDestroyed()&&e._alphaFBO.destroy(),e._adjustTranslucentFBO=e._adjustTranslucentFBO&&!e._adjustTranslucentFBO.isDestroyed()&&e._adjustTranslucentFBO.destroy(),e._adjustAlphaFBO=e._adjustAlphaFBO&&!e._adjustAlphaFBO.isDestroyed()&&e._adjustAlphaFBO.destroy()}function o(e){a(e),r(e)}function s(e,t,i,n){a(e),e._accumulationTexture=new D.a({context:t,width:i,height:n,pixelFormat:x.a.RGBA,pixelDatatype:S.a.FLOAT});var r=new Float32Array(i*n*4);e._revealageTexture=new D.a({context:t,pixelFormat:x.a.RGBA,pixelDatatype:S.a.FLOAT,source:{arrayBufferView:r,width:i,height:n},flipY:!1})}function c(e,t){r(e);var i=E.a.FRAMEBUFFER_COMPLETE,n=!0;if(e._translucentMRTSupport&&(e._translucentFBO=new C.a({context:t,colorTextures:[e._accumulationTexture,e._revealageTexture],depthStencilTexture:e._depthStencilTexture,destroyAttachments:!1}),e._adjustTranslucentFBO=new C.a({context:t,colorTextures:[e._accumulationTexture,e._revealageTexture],destroyAttachments:!1}),e._translucentFBO.status===i&&e._adjustTranslucentFBO.status===i||(r(e),e._translucentMRTSupport=!1)),!e._translucentMRTSupport){e._translucentFBO=new C.a({context:t,colorTextures:[e._accumulationTexture],depthStencilTexture:e._depthStencilTexture,destroyAttachments:!1}),e._alphaFBO=new C.a({context:t,colorTextures:[e._revealageTexture],depthStencilTexture:e._depthStencilTexture,destroyAttachments:!1}),e._adjustTranslucentFBO=new C.a({context:t,colorTextures:[e._accumulationTexture],destroyAttachments:!1}),e._adjustAlphaFBO=new C.a({context:t,colorTextures:[e._revealageTexture],destroyAttachments:!1});var a=e._translucentFBO.status===i,s=e._alphaFBO.status===i,c=e._adjustTranslucentFBO.status===i,l=e._adjustAlphaFBO.status===i;a&&s&&c&&l||(o(e),e._translucentMultipassSupport=!1,n=!1)}return n}function l(e,t,i,n){var a=i[n.id];if(!Object(O.a)(a)){var r=j.a.getState(n);r.depthMask=!1,r.blending=t,a=j.a.fromCache(r),i[n.id]=a}return a}function u(e,t,i){return l(t,N,e._translucentRenderStateCache,i)}function h(e,t,i){return l(t,F,e._translucentRenderStateCache,i)}function d(e,t,i){return l(t,z,e._alphaRenderStateCache,i)}function f(e,t,i,n){var a=e.shaderCache.getDerivedShaderProgram(t,i);if(!Object(O.a)(a)){var r=t._attributeLocations,o=t.fragmentShaderSource.clone();o.sources=o.sources.map(function(e){return e=P.a.replaceMain(e,"czm_translucent_main"),e=e.replace(/gl_FragColor/g,"czm_gl_FragColor"),e=e.replace(/\bdiscard\b/g,"czm_discard = true"),e=e.replace(/czm_phong/g,"czm_translucentPhong")}),o.sources.splice(0,0,(-1!==n.indexOf("gl_FragData")?"#extension GL_EXT_draw_buffers : enable \n":"")+"vec4 czm_gl_FragColor;\nbool czm_discard = false;\n"),o.sources.push("void main()\n{\n    czm_translucent_main();\n    if (czm_discard)\n    {\n        discard;\n    }\n"+n+"}\n"),a=e.shaderCache.createDerivedShaderProgram(t,i,{vertexShaderSource:t.vertexShaderSource,fragmentShaderSource:o,attributeLocations:r})}return a}function p(e,t){return f(e,t,"translucentMRT",B)}function m(e,t){return f(e,t,"translucentMultipass",k)}function g(e,t){return f(e,t,"alphaMultipass",U)}function _(e,t,i,n,a,r){var o,s,c,l=t.context,u=t.frameState.useLogDepth,h=t._hdr,d=n.framebuffer,f=a.length,p=t.frameState.shadowState.lightShadowsEnabled;n.framebuffer=e._adjustTranslucentFBO,e._adjustTranslucentCommand.execute(l,n),n.framebuffer=e._adjustAlphaFBO,e._adjustAlphaCommand.execute(l,n);var m=e._opaqueFBO;for(n.framebuffer=e._translucentFBO,c=0;c<f;++c)o=a[c],o=u?o.derivedCommands.logDepth.command:o,o=h?o.derivedCommands.hdr.command:o,s=p&&o.receiveShadows?o.derivedCommands.oit.shadows.translucentCommand:o.derivedCommands.oit.translucentCommand,i(s,t,l,n,m);for(Object(O.a)(r)&&(o=r.unclassifiedCommand,s=p&&o.receiveShadows?o.derivedCommands.oit.shadows.translucentCommand:o.derivedCommands.oit.translucentCommand,i(s,t,l,n,m)),n.framebuffer=e._alphaFBO,c=0;c<f;++c)o=a[c],o=u?o.derivedCommands.logDepth.command:o,o=h?o.derivedCommands.hdr.command:o,s=p&&o.receiveShadows?o.derivedCommands.oit.shadows.alphaCommand:o.derivedCommands.oit.alphaCommand,i(s,t,l,n,m);Object(O.a)(r)&&(o=r.unclassifiedCommand,s=p&&o.receiveShadows?o.derivedCommands.oit.shadows.alphaCommand:o.derivedCommands.oit.alphaCommand,i(s,t,l,n,m)),n.framebuffer=d}function v(e,t,i,n,a,r){var o=t.context,s=t.frameState.useLogDepth,c=t._hdr,l=n.framebuffer,u=a.length,h=t.frameState.shadowState.lightShadowsEnabled;n.framebuffer=e._adjustTranslucentFBO,e._adjustTranslucentCommand.execute(o,n);var d=e._opaqueFBO;n.framebuffer=e._translucentFBO;for(var f,p,m=0;m<u;++m)f=a[m],f=s?f.derivedCommands.logDepth.command:f,f=c?f.derivedCommands.hdr.command:f,p=h&&f.receiveShadows?f.derivedCommands.oit.shadows.translucentCommand:f.derivedCommands.oit.translucentCommand,i(p,t,o,n,d);Object(O.a)(r)&&(f=r.unclassifiedCommand,p=h&&f.receiveShadows?f.derivedCommands.oit.shadows.translucentCommand:f.derivedCommands.oit.translucentCommand,i(p,t,o,n,d)),n.framebuffer=l}var b=i("or8k"),y=i("6F0S"),O=i("xC6Q"),w=i("6sr8"),x=i("FhYh"),E=i("1L1F"),T=i("/DUn"),A=i("1mJh"),C=i("YyWD"),S=i("HvCH"),j=i("DrvA"),P=i("x6Ms"),D=i("25X5"),I=i("ewGw"),R=i("1YcF"),M=i("FuYn"),L=i("mRvb");n.prototype.update=function(e,t,i,n){if(this.isSupported()){this._opaqueFBO=i,this._opaqueTexture=i.getColorTexture(0),this._depthStencilTexture=i.depthStencilTexture;var a=this._opaqueTexture.width,r=this._opaqueTexture.height,o=this._accumulationTexture,l=!Object(O.a)(o)||o.width!==a||o.height!==r||n!==this._useHDR;if(l&&s(this,e,a,r),Object(O.a)(this._translucentFBO)&&!l||c(this,e)){this._useHDR=n;var u,h,d=this;Object(O.a)(this._compositeCommand)||(u=new P.a({sources:[R.a]}),this._translucentMRTSupport&&u.defines.push("MRT"),h={u_opaque:function(){return d._opaqueTexture},u_accumulation:function(){return d._accumulationTexture},u_revealage:function(){return d._revealageTexture}},this._compositeCommand=e.createViewportQuadCommand(u,{uniformMap:h,owner:this})),Object(O.a)(this._adjustTranslucentCommand)||(this._translucentMRTSupport?(u=new P.a({defines:["MRT"],sources:[I.a]}),h={u_bgColor:function(){return d._translucentMRTClearCommand.color},u_depthTexture:function(){return d._depthStencilTexture}},this._adjustTranslucentCommand=e.createViewportQuadCommand(u,{uniformMap:h,owner:this})):this._translucentMultipassSupport&&(u=new P.a({sources:[I.a]}),h={u_bgColor:function(){return d._translucentMultipassClearCommand.color},u_depthTexture:function(){return d._depthStencilTexture}},this._adjustTranslucentCommand=e.createViewportQuadCommand(u,{uniformMap:h,owner:this}),h={u_bgColor:function(){return d._alphaClearCommand.color},u_depthTexture:function(){return d._depthStencilTexture}},this._adjustAlphaCommand=e.createViewportQuadCommand(u,{uniformMap:h,owner:this}))),this._viewport.width=a,this._viewport.height=r;var f=!b.a.equals(this._viewport,t.viewport),p=f!==this._useScissorTest;this._useScissorTest=f,b.a.equals(this._scissorRectangle,t.viewport)||(this._scissorRectangle=b.a.clone(t.viewport,this._scissorRectangle),p=!0),Object(O.a)(this._rs)&&b.a.equals(this._viewport,this._rs.viewport)&&!p||(this._rs=j.a.fromCache({viewport:this._viewport,scissorTest:{enabled:this._useScissorTest,rectangle:this._scissorRectangle}})),Object(O.a)(this._compositeCommand)&&(this._compositeCommand.renderState=this._rs),this._adjustTranslucentCommand&&(this._adjustTranslucentCommand.renderState=this._rs),Object(O.a)(this._adjustAlphaCommand)&&(this._adjustAlphaCommand.renderState=this._rs)}}};var N={enabled:!0,color:new y.a(0,0,0,0),equationRgb:M.a.ADD,equationAlpha:M.a.ADD,functionSourceRgb:L.a.ONE,functionDestinationRgb:L.a.ONE,functionSourceAlpha:L.a.ZERO,functionDestinationAlpha:L.a.ONE_MINUS_SOURCE_ALPHA},F={enabled:!0,color:new y.a(0,0,0,0),equationRgb:M.a.ADD,equationAlpha:M.a.ADD,functionSourceRgb:L.a.ONE,functionDestinationRgb:L.a.ONE,functionSourceAlpha:L.a.ONE,functionDestinationAlpha:L.a.ONE},z={enabled:!0,color:new y.a(0,0,0,0),equationRgb:M.a.ADD,equationAlpha:M.a.ADD,functionSourceRgb:L.a.ZERO,functionDestinationRgb:L.a.ONE_MINUS_SOURCE_ALPHA,functionSourceAlpha:L.a.ZERO,functionDestinationAlpha:L.a.ONE_MINUS_SOURCE_ALPHA},B="    vec3 Ci = czm_gl_FragColor.rgb * czm_gl_FragColor.a;\n    float ai = czm_gl_FragColor.a;\n    float wzi = czm_alphaWeight(ai);\n    gl_FragData[0] = vec4(Ci * wzi, ai);\n    gl_FragData[1] = vec4(ai * wzi);\n",k="    vec3 Ci = czm_gl_FragColor.rgb * czm_gl_FragColor.a;\n    float ai = czm_gl_FragColor.a;\n    float wzi = czm_alphaWeight(ai);\n    gl_FragColor = vec4(Ci, ai) * wzi;\n",U="    float ai = czm_gl_FragColor.a;\n    gl_FragColor = vec4(ai);\n";n.prototype.createDerivedCommands=function(e,t,i){if(Object(O.a)(i)||(i={}),this._translucentMRTSupport){var n,a;Object(O.a)(i.translucentCommand)&&(n=i.translucentCommand.shaderProgram,a=i.translucentCommand.renderState),i.translucentCommand=A.a.shallowClone(e,i.translucentCommand),Object(O.a)(n)&&i.shaderProgramId===e.shaderProgram.id?(i.translucentCommand.shaderProgram=n,i.translucentCommand.renderState=a):(i.translucentCommand.shaderProgram=p(t,e.shaderProgram),i.translucentCommand.renderState=u(this,t,e.renderState),i.shaderProgramId=e.shaderProgram.id)}else{var r,o,s,c;Object(O.a)(i.translucentCommand)&&(r=i.translucentCommand.shaderProgram,o=i.translucentCommand.renderState,s=i.alphaCommand.shaderProgram,c=i.alphaCommand.renderState),i.translucentCommand=A.a.shallowClone(e,i.translucentCommand),i.alphaCommand=A.a.shallowClone(e,i.alphaCommand),Object(O.a)(r)&&i.shaderProgramId===e.shaderProgram.id?(i.translucentCommand.shaderProgram=r,i.translucentCommand.renderState=o,i.alphaCommand.shaderProgram=s,i.alphaCommand.renderState=c):(i.translucentCommand.shaderProgram=m(t,e.shaderProgram),i.translucentCommand.renderState=h(this,t,e.renderState),i.alphaCommand.shaderProgram=g(t,e.shaderProgram),i.alphaCommand.renderState=d(this,t,e.renderState),i.shaderProgramId=e.shaderProgram.id)}return i},n.prototype.executeCommands=function(e,t,i,n,a){if(this._translucentMRTSupport)return void v(this,e,t,i,n,a);_(this,e,t,i,n,a)},n.prototype.execute=function(e,t){this._compositeCommand.execute(e,t)},n.prototype.clear=function(e,t,i){var n=t.framebuffer;t.framebuffer=this._opaqueFBO,y.a.clone(i,this._opaqueClearCommand.color),this._opaqueClearCommand.execute(e,t),t.framebuffer=this._translucentFBO,(this._translucentMRTSupport?this._translucentMRTClearCommand:this._translucentMultipassClearCommand).execute(e,t),this._translucentMultipassSupport&&(t.framebuffer=this._alphaFBO,this._alphaClearCommand.execute(e,t)),t.framebuffer=n},n.prototype.isSupported=function(){return this._translucentMRTSupport||this._translucentMultipassSupport},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return o(this),Object(O.a)(this._compositeCommand)&&(this._compositeCommand.shaderProgram=this._compositeCommand.shaderProgram&&this._compositeCommand.shaderProgram.destroy()),Object(O.a)(this._adjustTranslucentCommand)&&(this._adjustTranslucentCommand.shaderProgram=this._adjustTranslucentCommand.shaderProgram&&this._adjustTranslucentCommand.shaderProgram.destroy()),Object(O.a)(this._adjustAlphaCommand)&&(this._adjustAlphaCommand.shaderProgram=this._adjustAlphaCommand.shaderProgram&&this._adjustAlphaCommand.shaderProgram.destroy()),Object(w.a)(this)},t.a=n},"5s/y":function(e,t,i){"use strict";function n(e,t,i){r.a.defined("geometryUpdater",e),r.a.defined("primitives",t),r.a.defined("orderedGroundPrimitives",i),this._primitives=t,this._orderedGroundPrimitives=i,this._primitive=void 0,this._outlinePrimitive=void 0,this._geometryUpdater=e,this._options=e._options,this._entity=e._entity,this._material=void 0}var a=i("lBr9"),r=i("5F4X"),o=i("xC6Q"),s=i("6sr8"),c=i("PzDm"),l=i("zGMv"),u=i("xEUC"),h=i("BOJj"),d=i("0df4"),f=i("P+tD"),p=i("I5FW"),m=i("7xsx"),g=i("uhjI");n.prototype._isHidden=function(e,t,i){return!e.isShowing||!e.isAvailable(i)||!g.a.getValueOrDefault(t.show,i,!0)},n.prototype._setOptions=c.a.throwInstantiationError,n.prototype.update=function(e){r.a.defined("time",e);var t=this._geometryUpdater,i=t._onTerrain,n=this._primitives,a=this._orderedGroundPrimitives;i?a.remove(this._primitive):(n.removeAndDestroy(this._primitive),n.removeAndDestroy(this._outlinePrimitive),this._outlinePrimitive=void 0),this._primitive=void 0;var s=this._entity,c=s[this._geometryUpdater._geometryPropertyName];if(this._setOptions(s,c,e),!this._isHidden(s,c,e)){var f=this._geometryUpdater.shadowsProperty.getValue(e),_=this._options;if(!Object(o.a)(c.fill)||c.fill.getValue(e)){var v,b=t.fillMaterialProperty,y=b instanceof p.a,O=t._getIsClosed(_);if(y)v=new h.a({closed:O,flat:i&&!t._supportsMaterialsforEntitiesOnTerrain});else{var w=m.a.getValue(e,b,this._material);this._material=w,v=new u.a({material:w,translucent:w.isTranslucent(),closed:O})}if(i)_.vertexFormat=h.a.VERTEX_FORMAT,this._primitive=a.add(new l.a({geometryInstances:this._geometryUpdater.createFillGeometryInstance(e),appearance:v,asynchronous:!1,shadows:f,classificationType:this._geometryUpdater.classificationTypeProperty.getValue(e)}),g.a.getValueOrUndefined(this._geometryUpdater.zIndex,e));else{_.vertexFormat=v.vertexFormat;var x=this._geometryUpdater.createFillGeometryInstance(e);y&&(v.translucent=255!==x.attributes.color.value[3]),this._primitive=n.add(new d.a({geometryInstances:x,appearance:v,asynchronous:!1,shadows:f}))}}if(!i&&Object(o.a)(c.outline)&&c.outline.getValue(e)){var E=this._geometryUpdater.createOutlineGeometryInstance(e),T=g.a.getValueOrDefault(c.outlineWidth,e,1);this._outlinePrimitive=n.add(new d.a({geometryInstances:E,appearance:new h.a({flat:!0,translucent:255!==E.attributes.color.value[3],renderState:{lineWidth:t._scene.clampLineWidth(T)}}),asynchronous:!1,shadows:f}))}}},n.prototype.getBoundingSphere=function(e){if(!Object(o.a)(e))throw new c.a("result is required.");var t,i=this._entity,n=this._primitive,r=this._outlinePrimitive;return Object(o.a)(n)&&n.show&&n.ready&&(t=n.getGeometryInstanceAttributes(i),Object(o.a)(t)&&Object(o.a)(t.boundingSphere))?(a.a.clone(t.boundingSphere,e),f.a.DONE):Object(o.a)(r)&&r.show&&r.ready&&(t=r.getGeometryInstanceAttributes(i),Object(o.a)(t)&&Object(o.a)(t.boundingSphere))?(a.a.clone(t.boundingSphere,e),f.a.DONE):Object(o.a)(n)&&!n.ready||Object(o.a)(r)&&!r.ready?f.a.PENDING:f.a.FAILED},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){var e=this._primitives,t=this._orderedGroundPrimitives;this._geometryUpdater._onTerrain?t.remove(this._primitive):e.removeAndDestroy(this._primitive),e.removeAndDestroy(this._outlinePrimitive),Object(s.a)(this)},t.a=n},"5yDm":function(e,t,i){"use strict";t.a="/**\n * Returns the transpose of the matrix.  The input <code>matrix</code> can be\n * a <code>mat2</code>, <code>mat3</code>, or <code>mat4</code>.\n *\n * @name czm_transpose\n * @glslFunction\n *\n * @param {} matrix The matrix to transpose.\n *\n * @returns {} The transposed matrix.\n *\n * @example\n * // GLSL declarations\n * mat2 czm_transpose(mat2 matrix);\n * mat3 czm_transpose(mat3 matrix);\n * mat4 czm_transpose(mat4 matrix);\n *\n * // Transpose a 3x3 rotation matrix to find its inverse.\n * mat3 eastNorthUpToEye = czm_eastNorthUpToEyeCoordinates(\n *     positionMC, normalEC);\n * mat3 eyeToEastNorthUp = czm_transpose(eastNorthUpToEye);\n */\nmat2 czm_transpose(mat2 matrix)\n{\n    return mat2(\n        matrix[0][0], matrix[1][0],\n        matrix[0][1], matrix[1][1]);\n}\n\nmat3 czm_transpose(mat3 matrix)\n{\n    return mat3(\n        matrix[0][0], matrix[1][0], matrix[2][0],\n        matrix[0][1], matrix[1][1], matrix[2][1],\n        matrix[0][2], matrix[1][2], matrix[2][2]);\n}\n\nmat4 czm_transpose(mat4 matrix)\n{\n    return mat4(\n        matrix[0][0], matrix[1][0], matrix[2][0], matrix[3][0],\n        matrix[0][1], matrix[1][1], matrix[2][1], matrix[3][1],\n        matrix[0][2], matrix[1][2], matrix[2][2], matrix[3][2],\n        matrix[0][3], matrix[1][3], matrix[2][3], matrix[3][3]);\n}\n"},"617r":function(e,t,i){"use strict";t.a="#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nuniform vec4 color;\n\nvarying float v_width;\n\nfloat getPointOnLine(vec2 p0, vec2 p1, float x)\n{\n    float slope = (p0.y - p1.y) / (p0.x - p1.x);\n    return slope * (x - p0.x) + p0.y;\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 st = materialInput.st;\n\n#ifdef GL_OES_standard_derivatives\n    float base = 1.0 - abs(fwidth(st.s)) * 10.0 * czm_pixelRatio;\n#else\n    float base = 0.975; // 2.5% of the line will be the arrow head\n#endif\n\n    vec2 center = vec2(1.0, 0.5);\n    float ptOnUpperLine = getPointOnLine(vec2(base, 1.0), center, st.s);\n    float ptOnLowerLine = getPointOnLine(vec2(base, 0.0), center, st.s);\n\n    float halfWidth = 0.15;\n    float s = step(0.5 - halfWidth, st.t);\n    s *= 1.0 - step(0.5 + halfWidth, st.t);\n    s *= 1.0 - step(base, st.s);\n\n    float t = step(base, materialInput.st.s);\n    t *= 1.0 - step(ptOnUpperLine, st.t);\n    t *= step(ptOnLowerLine, st.t);\n\n    // Find the distance from the closest separator (region between two colors)\n    float dist;\n    if (st.s < base)\n    {\n        float d1 = abs(st.t - (0.5 - halfWidth));\n        float d2 = abs(st.t - (0.5 + halfWidth));\n        dist = min(d1, d2);\n    }\n    else\n    {\n        float d1 = czm_infinity;\n        if (st.t < 0.5 - halfWidth && st.t > 0.5 + halfWidth)\n        {\n            d1 = abs(st.s - base);\n        }\n        float d2 = abs(st.t - ptOnUpperLine);\n        float d3 = abs(st.t - ptOnLowerLine);\n        dist = min(min(d1, d2), d3);\n    }\n\n    vec4 outsideColor = vec4(0.0);\n    vec4 currentColor = mix(outsideColor, color, clamp(s + t, 0.0, 1.0));\n    vec4 outColor = czm_antialias(outsideColor, color, currentColor, dist);\n\n    outColor = czm_gammaCorrect(outColor);\n    material.diffuse = outColor.rgb;\n    material.alpha = outColor.a;\n    return material;\n}\n"},"67ZH":function(e,t,i){"use strict";function n(e,t){return M.a.techniqueAttribute(e,function(e,i){if(e.semantic===t)return i})}function a(e,t){var i=e.accessors,a=e.materials,r=e.extensions.KHR_techniques_webgl,o=r.techniques,s=r.programs,c=r.shaders,l=t.targets,u=t.attributes;for(var h in l)if(l.hasOwnProperty(h)){var d=l[h];for(var f in d)"extras"!==f&&(u[f+"_"+h]=d[f])}var p=a[t.material],m=o[p.extensions.KHR_techniques_webgl.technique],g=s[m.program],_=c[g.vertexShader];for(var v in u)if(u.hasOwnProperty(v)&&!Object(T.a)(n(m,v))){var b=u[v],y=i[b],O=v.toLowerCase();"_"===O.charAt(0)&&(O=O.slice(1));var w="a_"+O;m.attributes[w]={semantic:v,type:y.componentType};var x=_.extras._pipeline,E=x.source;E="attribute "+z.getShaderVariable(y.type)+" "+w+";\n"+E,x.source=E}}function r(e,t,i,n){return Object(L.a)(e,"KHR_techniques_webgl")?function(e,t){if(!(e.semantic!==i||n&&Object(T.a)(e.node)))return t}:function(e,a){var r=t.parameters[e];if(!(r.semantic!==i||n&&Object(T.a)(r.node)))return a}}function o(e,t,i){t+="(?!\\w)",t=new RegExp(t,"g");var n=e.search(t);return e.replace(t,function(e,t){return n===t?e:i})}function s(e,t){var i=e.accessors[t],n=i.extensions;if(Object(T.a)(n))return n.WEB3D_quantized_attributes}function c(e,t,i){var n=t.material,a=e.materials[n];if(Object(L.a)(e,"KHR_techniques_webgl")&&Object(T.a)(a.extensions)&&Object(T.a)(a.extensions.KHR_techniques_webgl)){var r=a.extensions.KHR_techniques_webgl.technique,o=e.extensions.KHR_techniques_webgl,s=o.techniques[r];return M.a.techniqueAttribute(s,function(e,t){if(e.semantic===i)return t})}}function l(e){var t={value:e,clone:function(e,t){return e},func:function(){return t.value}};return t}function u(e){var t={value:O.a.fromArray(e),clone:O.a.clone,func:function(){return t.value}};return t}function h(e){var t={value:w.a.fromArray(e),clone:w.a.clone,func:function(){return t.value}};return t}function d(e){var t={value:x.a.fromArray(e),clone:x.a.clone,func:function(){return t.value}};return t}function f(e){var t={value:A.a.fromColumnMajorArray(e),clone:A.a.clone,func:function(){return t.value}};return t}function p(e){var t={value:C.a.fromColumnMajorArray(e),clone:C.a.clone,func:function(){return t.value}};return t}function m(e){var t={value:S.a.fromColumnMajorArray(e),clone:S.a.clone,func:function(){return t.value}};return t}function g(e,t,i){this._value=void 0,this._textureId=e.index,this._textures=t,this._defaultTexture=i}function _(e,t,i){var n=new g(e,t,i);return n.func=function(){return n.value},n}function v(e){return[e[0],e[1],e[2],e[3],e[5],e[6],e[7],e[8],e[10],e[11],e[12],e[13],e[15],e[16],e[17],e[18]]}function b(e){return[e[20],e[21],e[22],e[23]]}var y=i("lBr9"),O=i("Ss9j"),w=i("Jj+J"),x=i("PDkd"),E=i("wv0P"),T=i("xC6Q"),A=i("BvC/"),C=i("i3sv"),S=i("Xjii"),j=i("q/xW"),P=i("V22k"),D=i("1L1F"),I=i("x6Ms"),R=i("gjak"),M=i("FJg6"),L=i("dnpE"),N=i("AP+J"),F=i("gsn9"),z={};z.updateForwardAxis=function(e){var t=e.gltf.extras.sourceVersion;(Object(T.a)(t)&&"2.0"!==t||"2.0"!==z.getAssetVersion(e.gltf))&&(e._gltfForwardAxis=F.a.X)},z.getAssetVersion=function(e){return Object(T.a)(e.asset)&&Object(T.a)(e.asset.version)?e.asset.version:"1.0"},z.splitIncompatibleMaterials=function(e){var t=e.accessors,i=e.materials,n={};return M.a.mesh(e,function(e){M.a.meshPrimitive(e,function(e){var a,r,o=e.material,s=i[o],c=e.attributes.JOINTS_0;if(Object(T.a)(c)){var l=t[c];a=l.componentType,r=l.type}var u=Object(T.a)(c),h=Object(T.a)(e.attributes.COLOR_0),d=Object(T.a)(e.targets),f=Object(T.a)(e.attributes.NORMAL),p=Object(T.a)(e.attributes.TANGENT),m=Object(T.a)(e.attributes.TEXCOORD_0),g=n[o];if(Object(T.a)(g)){if(g.skinning.skinned!==u||g.skinning.type!==r||g.hasVertexColors!==h||g.hasMorphTargets!==d||g.hasNormals!==f||g.hasTangents!==p||g.hasTexCoords!==m){var _=Object(E.a)(s,!0);o=Object(R.a)(i,_),e.material=o,n[o]={skinning:{skinned:u,componentType:a,type:r},hasVertexColors:h,hasMorphTargets:d,hasNormals:f,hasTangents:p,hasTexCoords:m}}}else n[o]={skinning:{skinned:u,componentType:a,type:r},hasVertexColors:h,hasMorphTargets:d,hasNormals:f,hasTangents:p,hasTexCoords:m}})}),n},z.getShaderVariable=function(e){return"SCALAR"===e?"float":e.toLowerCase()},z.ModelState={NEEDS_LOAD:0,LOADING:1,LOADED:2,FAILED:3},z.getFailedLoadFunction=function(e,t,i){return function(n){e._state=z.ModelState.FAILED;var a="Failed to load "+t+": "+i;Object(T.a)(n)&&(a+="\n"+n.message),e._readyPromise.reject(new P.a(a))}},z.parseBuffers=function(e,t){var i=e._loadResources;M.a.buffer(e.gltf,function(n,a){if(Object(T.a)(n.extras._pipeline.source))i.buffers[a]=n.extras._pipeline.source;else if(Object(T.a)(t)){var r=e._resource.getDerivedResource({url:n.uri});++i.pendingBufferLoads,r.fetchArrayBuffer().then(t(e,a)).otherwise(z.getFailedLoadFunction(e,"buffer",r.url))}})};var B=new w.a,k=new w.a;z.computeBoundingSphere=function(e){for(var t=e.gltf,i=t.nodes,n=t.meshes,a=t.scenes[t.scene].nodes,r=a.length,o=[],s=new w.a(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),c=new w.a(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),l=0;l<r;++l){var u=i[a[l]];for(u._transformToRoot=z.getTransform(u),o.push(u);o.length>0;){u=o.pop();var h=u._transformToRoot,d=u.mesh;if(Object(T.a)(d))for(var f=n[d],p=f.primitives,m=p.length,g=0;g<m;++g){var _=p[g].attributes.POSITION;if(Object(T.a)(_)){var v=z.getAccessorMinMax(t,_),b=w.a.fromArray(v.min,0,B),O=w.a.fromArray(v.max,0,k);Object(T.a)(s)&&Object(T.a)(c)&&(S.a.multiplyByPoint(h,b,b),S.a.multiplyByPoint(h,O,O),w.a.minimumByComponent(s,b,s),w.a.maximumByComponent(c,O,c))}}var x=u.children;if(Object(T.a)(x))for(var E=x.length,A=0;A<E;++A){var C=i[x[A]];C._transformToRoot=z.getTransform(C),S.a.multiplyTransformation(h,C._transformToRoot,C._transformToRoot),o.push(C)}delete u._transformToRoot}}var j=y.a.fromCornerPoints(s,c);return e._forwardAxis===F.a.Z&&y.a.transformWithoutScale(j,F.a.Z_UP_TO_X_UP,j),e._upAxis===F.a.Y?y.a.transformWithoutScale(j,F.a.Y_UP_TO_Z_UP,j):e._upAxis===F.a.X&&y.a.transformWithoutScale(j,F.a.X_UP_TO_Z_UP,j),j},z.ensureSemanticExistence=function(e){return M.a.mesh(e,function(t){M.a.meshPrimitive(t,function(t){a(e,t)})}),e},z.createAttributeLocations=function(e,t){var i={},n=!1,a=1;if(M.a.techniqueAttribute(e,function(e,t){/pos/i.test(t)&&!n?(i[t]=0,n=!0):i[t]=a++}),Object(T.a)(t))for(var r in t)t.hasOwnProperty(r)&&(i[r]=a++);return i},z.getAccessorMinMax=function(e,t){var i=e.accessors[t],n=i.extensions,a=i.min,r=i.max;if(Object(T.a)(n)){var o=n.WEB3D_quantized_attributes;Object(T.a)(o)&&(a=o.decodedMin,r=o.decodedMax)}return{min:a,max:r}},z.getAttributeOrUniformBySemantic=function(e,t,i,n){return M.a.technique(e,function(a){if(!Object(T.a)(i)||a.program===i){var o=M.a.techniqueAttribute(a,r(e,a,t,n));return Object(T.a)(o)?o:M.a.techniqueUniform(a,r(e,a,t,n))}})},z.getDiffuseAttributeOrUniform=function(e,t){var i=z.getAttributeOrUniformBySemantic(e,"COLOR_0",t);return Object(T.a)(i)||(i=z.getAttributeOrUniformBySemantic(e,"_3DTILESDIFFUSE",t)),i};var U=new w.a,V=new j.a,H=new w.a;z.getTransform=function(e,t){return Object(T.a)(e.matrix)?S.a.fromColumnMajorArray(e.matrix,t):S.a.fromTranslationQuaternionRotationScale(w.a.fromArray(e.translation,0,U),j.a.unpack(e.rotation,0,V),w.a.fromArray(e.scale,0,H),t)},z.getUsedExtensions=function(e){var t=e.extensionsUsed,i={};if(Object(T.a)(t))for(var n=t.length,a=0;a<n;a++){var r=t[a];i[r]=!0}return i},z.getRequiredExtensions=function(e){var t=e.extensionsRequired,i={};if(Object(T.a)(t))for(var n=t.length,a=0;a<n;a++){var r=t[a];i[r]=!0}return i},z.supportedExtensions={AGI_articulations:!0,CESIUM_RTC:!0,EXT_texture_webp:!0,KHR_blend:!0,KHR_binary_glTF:!0,KHR_draco_mesh_compression:!0,KHR_materials_common:!0,KHR_techniques_webgl:!0,KHR_materials_unlit:!0,KHR_materials_pbrSpecularGlossiness:!0,KHR_texture_transform:!0,WEB3D_quantized_attributes:!0},z.checkSupportedExtensions=function(e,t){for(var i in e)if(e.hasOwnProperty(i)){if(!z.supportedExtensions[i])throw new P.a("Unsupported glTF Extension: "+i);if("EXT_texture_webp"===i&&!1===t)throw new P.a("Loaded model requires WebP but browser does not support it.")}},z.checkSupportedGlExtensions=function(e,t){if(Object(T.a)(e))for(var i=e.length,n=0;n<i;n++){var a=e[n];if("OES_element_index_uint"!==a)throw new P.a("Unsupported WebGL Extension: "+a);if(!t.elementIndexUint)throw new P.a("OES_element_index_uint WebGL extension is not enabled.")}},z.modifyShaderForDracoQuantizedAttributes=function(e,t,i,n){var a={};for(var r in n)if(n.hasOwnProperty(r)){var s=n[r],l=s.quantization;if(!Object(T.a)(l))continue;var u=c(e,t,r);"_"===r.charAt(0)&&(r=r.substring(1));var h="gltf_u_dec_"+r.toLowerCase();if(!Object(T.a)(a[h])){var d="gltf_decoded_"+r,f=u.replace("a_","gltf_a_dec_"),p=s.componentsPerAttribute;i=o(i,u,f);var m;m=l.octEncoded?"vec3":p>1?"vec"+p:"float",i=m+" "+f+";\n"+i;var g=3===p&&"COLOR_0"===r;g&&(i=o(i,f,"vec4("+f+", 1.0)"));var _="";if(l.octEncoded){var v=h+"_rangeConstant";i="uniform float "+v+";\n"+i,_="\nvoid main() {\n    "+f+" = czm_octDecode("+u+".xy, "+v+").zxy;\n    "+d+"();\n}\n"}else{var b=h+"_normConstant",y=h+"_min";i="uniform float "+b+";\nuniform "+m+" "+y+";\n"+i;var O=g?".xyz":"";_="\nvoid main() {\n    "+f+" = "+y+" + "+u+O+" * "+b+";\n    "+d+"();\n}\n"}i=I.a.replaceMain(i,d),i+=_}}return{shader:i}},z.modifyShaderForQuantizedAttributes=function(e,t,i){var n={},a=t.attributes;for(var r in a)if(a.hasOwnProperty(r)){var l=c(e,t,r),u=t.attributes[r];"_"===r.charAt(0)&&(r=r.substring(1));var h="gltf_u_dec_"+r.toLowerCase(),d=h+"_scale",f=h+"_translate";if(!Object(T.a)(n[h])&&!Object(T.a)(n[d])){var p=s(e,u);if(Object(T.a)(p)){var m=p.decodeMatrix,g="gltf_decoded_"+r,_=l.replace("a_","gltf_a_dec_"),v=Math.floor(Math.sqrt(m.length));i=o(i,l,_);var b;b=v>2?"vec"+(v-1):"float",i=b+" "+_+";\n"+i;var y="";5===v?(i="uniform mat4 "+d+";\n"+i,i="uniform vec4 "+f+";\n"+i,y="\nvoid main() {\n    "+_+" = "+d+" * "+l+" + "+f+";\n    "+g+"();\n}\n",n[d]={mat:4},n[f]={vec:4}):(i="uniform mat"+v+" "+h+";\n"+i,y="\nvoid main() {\n    "+_+" = "+b+"("+h+" * vec"+v+"("+l+",1.0));\n    "+g+"();\n}\n",n[h]={mat:v}),i=I.a.replaceMain(i,g),i+=y}}}return{shader:i,uniforms:n}},z.toClipCoordinatesGLSL=function(e,t){var i=z.getAttributeOrUniformBySemantic(e,"POSITION"),n=i.replace("a_","gltf_a_dec_");-1!==t.indexOf(n)&&(i=n);var a=z.getAttributeOrUniformBySemantic(e,"MODELVIEWPROJECTION",void 0,!0);if(!Object(T.a)(a)||-1===t.indexOf(a)){var r=z.getAttributeOrUniformBySemantic(e,"PROJECTION",void 0,!0),o=z.getAttributeOrUniformBySemantic(e,"MODELVIEW",void 0,!0);-1!==t.indexOf("czm_instanced_modelView ")?o="czm_instanced_modelView":Object(T.a)(o)||(o=z.getAttributeOrUniformBySemantic(e,"CESIUM_RTC_MODELVIEW",void 0,!0)),a=r+" * "+o}return a+" * vec4("+i+".xyz, 1.0)"},z.modifyFragmentShaderForLogDepth=function(e){return e=I.a.replaceMain(e,"czm_depth_main"),e+="\nvoid main() \n{ \n    czm_depth_main(); \n    czm_writeLogDepth(); \n} \n"},z.modifyVertexShaderForLogDepth=function(e,t){return e=I.a.replaceMain(e,"czm_depth_main"),e+="\nvoid main() \n{ \n    czm_depth_main(); \n    czm_vertexLogDepth("+t+"); \n} \n"},Object.defineProperties(g.prototype,{value:{get:function(){if(!Object(T.a)(this._value)){var e=this._textures[this._textureId];if(!Object(T.a)(e))return this._defaultTexture;this._value=e}return this._value},set:function(e){this._value=e}}}),g.prototype.clone=function(e){return e},g.prototype.func=void 0;var q={};q[D.a.FLOAT]=l,q[D.a.FLOAT_VEC2]=u,q[D.a.FLOAT_VEC3]=h,q[D.a.FLOAT_VEC4]=d,q[D.a.INT]=l,q[D.a.INT_VEC2]=u,q[D.a.INT_VEC3]=h,q[D.a.INT_VEC4]=d,q[D.a.BOOL]=l,q[D.a.BOOL_VEC2]=u,q[D.a.BOOL_VEC3]=h,q[D.a.BOOL_VEC4]=d,q[D.a.FLOAT_MAT2]=f,q[D.a.FLOAT_MAT3]=p,q[D.a.FLOAT_MAT4]=m,q[D.a.SAMPLER_2D]=_,z.createUniformFunction=function(e,t,i,n){return q[e](t,i,n)},z.createUniformsForDracoQuantizedAttributes=function(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i],a=n.quantization;if(!Object(T.a)(a))continue;"_"===i.charAt(0)&&(i=i.substring(1));var r="gltf_u_dec_"+i.toLowerCase();if(a.octEncoded){var o=r+"_rangeConstant",s=(1<<a.quantizationBits)-1;t[o]=l(s).func;continue}var c=r+"_normConstant",f=a.range/(1<<a.quantizationBits);t[c]=l(f).func;var p=r+"_min";switch(n.componentsPerAttribute){case 1:t[p]=l(a.minValues).func;break;case 2:t[p]=u(a.minValues).func;break;case 3:t[p]=h(a.minValues).func;break;case 4:t[p]=d(a.minValues).func}}return t},z.createUniformsForQuantizedAttributes=function(e,t,i){var n=e.accessors,a={},r={},o=t.attributes;for(var s in o)if(o.hasOwnProperty(s)){var c=o[s],l=n[c],u=l.extensions;if("_"===s.charAt(0)&&(s=s.substring(1)),Object(T.a)(u)){var h=u.WEB3D_quantized_attributes;if(Object(T.a)(h)){var g=h.decodeMatrix,_="gltf_u_dec_"+s.toLowerCase();switch(l.type){case N.a.SCALAR:r[_]=f(g).func,a[_]=!0;break;case N.a.VEC2:r[_]=p(g).func,a[_]=!0;break;case N.a.VEC3:r[_]=m(g).func,a[_]=!0;break;case N.a.VEC4:var y=_+"_scale",O=_+"_translate";r[y]=m(v(g)).func,r[O]=d(b(g)).func,a[y]=!0,a[O]=!0}}}}for(var w in i)if(i.hasOwnProperty(w)&&!a[w]){var x=i[w];Object(T.a)(x.mat)&&(2===x.mat?r[w]=f(A.a.IDENTITY).func:3===x.mat?r[w]=p(C.a.IDENTITY).func:4===x.mat&&(r[w]=m(S.a.IDENTITY).func)),Object(T.a)(x.vec)&&4===x.vec&&(r[w]=d([0,0,0,0]).func)}return r};var W=new w.a,G={MODEL:function(e,t){return function(){return e.model}},VIEW:function(e,t){return function(){return e.view}},PROJECTION:function(e,t){return function(){return e.projection}},MODELVIEW:function(e,t){return function(){return e.modelView}},CESIUM_RTC_MODELVIEW:function(e,t){var i=new S.a;return function(){return Object(T.a)(t._rtcCenter)?(S.a.getTranslation(e.model,W),w.a.add(W,t._rtcCenter,W),S.a.multiplyByPoint(e.view,W,W),S.a.setTranslation(e.modelView,W,i)):e.modelView}},MODELVIEWPROJECTION:function(e,t){return function(){return e.modelViewProjection}},MODELINVERSE:function(e,t){return function(){return e.inverseModel}},VIEWINVERSE:function(e,t){return function(){return e.inverseView}},PROJECTIONINVERSE:function(e,t){return function(){return e.inverseProjection}},MODELVIEWINVERSE:function(e,t){return function(){return e.inverseModelView}},MODELVIEWPROJECTIONINVERSE:function(e,t){return function(){return e.inverseModelViewProjection}},MODELINVERSETRANSPOSE:function(e,t){return function(){return e.inverseTransposeModel}},MODELVIEWINVERSETRANSPOSE:function(e,t){return function(){return e.normal}},VIEWPORT:function(e,t){return function(){return e.viewportCartesian4}}};z.getGltfSemanticUniforms=function(){return G},t.a=z},"68ZK":function(e,t,i){"use strict";var n=i("xC6Q"),a={type:"Lagrange"};a.getRequiredDataPoints=function(e){return Math.max(e+1,2)},a.interpolateOrderZero=function(e,t,i,a,r){Object(n.a)(r)||(r=new Array(a));var o,s,c=t.length;for(o=0;o<a;o++)r[o]=0;for(o=0;o<c;o++){var l=1;for(s=0;s<c;s++)if(s!==o){var u=t[o]-t[s];l*=(e-t[s])/u}for(s=0;s<a;s++)r[s]+=l*i[o*a+s]}return r},t.a=a},"6AvQ":function(e,t,i){"use strict";function n(e){this._ellipsoid=Object(o.a)(e,l.a.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}var a=i("Jj+J"),r=i("I3GD"),o=i("5A4e"),s=i("xC6Q"),c=i("PzDm"),l=i("y6fO"),u=i("fq+p");Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),n.mercatorAngleToGeodeticLatitude=function(e){return u.a.PI_OVER_TWO-2*Math.atan(Math.exp(-e))},n.geodeticLatitudeToMercatorAngle=function(e){e>n.MaximumLatitude?e=n.MaximumLatitude:e<-n.MaximumLatitude&&(e=-n.MaximumLatitude);var t=Math.sin(e);return.5*Math.log((1+t)/(1-t))},n.MaximumLatitude=n.mercatorAngleToGeodeticLatitude(Math.PI),n.prototype.project=function(e,t){var i=this._semimajorAxis,r=e.longitude*i,o=n.geodeticLatitudeToMercatorAngle(e.latitude)*i,c=e.height;return Object(s.a)(t)?(t.x=r,t.y=o,t.z=c,t):new a.a(r,o,c)},n.prototype.unproject=function(e,t){if(!Object(s.a)(e))throw new c.a("cartesian is required");var i=this._oneOverSemimajorAxis,a=e.x*i,o=n.mercatorAngleToGeodeticLatitude(e.y*i),l=e.z;return Object(s.a)(t)?(t.longitude=a,t.latitude=o,t.height=l,t):new r.a(a,o,l)},t.a=n},"6BcB":function(e,t,i){"use strict";t.a="#ifdef WRITE_DEPTH\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n#endif\n#endif\n\nuniform vec3 u_radii;\nuniform vec3 u_oneOverEllipsoidRadiiSquared;\n\nvarying vec3 v_positionEC;\n\nvec4 computeEllipsoidColor(czm_ray ray, float intersection, float side)\n{\n    vec3 positionEC = czm_pointAlongRay(ray, intersection);\n    vec3 positionMC = (czm_inverseModelView * vec4(positionEC, 1.0)).xyz;\n    vec3 geodeticNormal = normalize(czm_geodeticSurfaceNormal(positionMC, vec3(0.0), u_oneOverEllipsoidRadiiSquared));\n    vec3 sphericalNormal = normalize(positionMC / u_radii);\n    vec3 normalMC = geodeticNormal * side;              // normalized surface normal (always facing the viewer) in model coordinates\n    vec3 normalEC = normalize(czm_normal * normalMC);   // normalized surface normal in eye coordiantes\n\n    vec2 st = czm_ellipsoidWgs84TextureCoordinates(sphericalNormal);\n    vec3 positionToEyeEC = -positionEC;\n\n    czm_materialInput materialInput;\n    materialInput.s = st.s;\n    materialInput.st = st;\n    materialInput.str = (positionMC + u_radii) / u_radii;\n    materialInput.normalEC = normalEC;\n    materialInput.tangentToEyeMatrix = czm_eastNorthUpToEyeCoordinates(positionMC, normalEC);\n    materialInput.positionToEyeEC = positionToEyeEC;\n    czm_material material = czm_getMaterial(materialInput);\n\n#ifdef ONLY_SUN_LIGHTING\n    return czm_private_phong(normalize(positionToEyeEC), material, czm_sunDirectionEC);\n#else\n    return czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n#endif\n}\n\nvoid main()\n{\n    // PERFORMANCE_TODO: When dynamic branching is available, compute ratio of maximum and minimum radii\n    // in the vertex shader. Only when it is larger than some constant, march along the ray.\n    // Otherwise perform one intersection test which will be the common case.\n\n    // Test if the ray intersects a sphere with the ellipsoid's maximum radius.\n    // For very oblate ellipsoids, using the ellipsoid's radii for an intersection test\n    // may cause false negatives. This will discard fragments before marching the ray forward.\n    float maxRadius = max(u_radii.x, max(u_radii.y, u_radii.z)) * 1.5;\n    vec3 direction = normalize(v_positionEC);\n    vec3 ellipsoidCenter = czm_modelView[3].xyz;\n\n    float t1 = -1.0;\n    float t2 = -1.0;\n\n    float b = -2.0 * dot(direction, ellipsoidCenter);\n    float c = dot(ellipsoidCenter, ellipsoidCenter) - maxRadius * maxRadius;\n\n    float discriminant = b * b - 4.0 * c;\n    if (discriminant >= 0.0) {\n        t1 = (-b - sqrt(discriminant)) * 0.5;\n        t2 = (-b + sqrt(discriminant)) * 0.5;\n    }\n\n    if (t1 < 0.0 && t2 < 0.0) {\n        discard;\n    }\n\n    float t = min(t1, t2);\n    if (t < 0.0) {\n        t = 0.0;\n    }\n\n    // March ray forward to intersection with larger sphere and find\n    czm_ray ray = czm_ray(t * direction, direction);\n\n    vec3 ellipsoid_inverseRadii = vec3(1.0 / u_radii.x, 1.0 / u_radii.y, 1.0 / u_radii.z);\n\n    czm_raySegment intersection = czm_rayEllipsoidIntersectionInterval(ray, ellipsoidCenter, ellipsoid_inverseRadii);\n\n    if (czm_isEmpty(intersection))\n    {\n        discard;\n    }\n\n    // If the viewer is outside, compute outsideFaceColor, with normals facing outward.\n    vec4 outsideFaceColor = (intersection.start != 0.0) ? computeEllipsoidColor(ray, intersection.start, 1.0) : vec4(0.0);\n\n    // If the viewer either is inside or can see inside, compute insideFaceColor, with normals facing inward.\n    vec4 insideFaceColor = (outsideFaceColor.a < 1.0) ? computeEllipsoidColor(ray, intersection.stop, -1.0) : vec4(0.0);\n\n    gl_FragColor = mix(insideFaceColor, outsideFaceColor, outsideFaceColor.a);\n    gl_FragColor.a = 1.0 - (1.0 - insideFaceColor.a) * (1.0 - outsideFaceColor.a);\n\n#ifdef WRITE_DEPTH\n#ifdef GL_EXT_frag_depth\n    t = (intersection.start != 0.0) ? intersection.start : intersection.stop;\n    vec3 positionEC = czm_pointAlongRay(ray, t);\n    vec4 positionCC = czm_projection * vec4(positionEC, 1.0);\n#ifdef LOG_DEPTH\n    czm_writeLogDepth(1.0 + positionCC.w);\n#else\n    float z = positionCC.z / positionCC.w;\n\n    float n = czm_depthRange.near;\n    float f = czm_depthRange.far;\n\n    gl_FragDepthEXT = (z * (f - n) + f + n) * 0.5;\n#endif\n#endif\n#endif\n}\n"},"6Dh7":function(e,t,i){"use strict";t.a="/**\n * Adjusts the saturation of a color.\n * \n * @name czm_saturation\n * @glslFunction\n * \n * @param {vec3} rgb The color.\n * @param {float} adjustment The amount to adjust the saturation of the color.\n *\n * @returns {float} The color with the saturation adjusted.\n *\n * @example\n * vec3 greyScale = czm_saturation(color, 0.0);\n * vec3 doubleSaturation = czm_saturation(color, 2.0);\n */\nvec3 czm_saturation(vec3 rgb, float adjustment)\n{\n    // Algorithm from Chapter 16 of OpenGL Shading Language\n    const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n    vec3 intensity = vec3(dot(rgb, W));\n    return mix(intensity, rgb, adjustment);\n}\n"},"6Euq":function(e,t,i){"use strict";var n={ROTATE:0,INFINITE_SCROLL:1};t.a=Object.freeze(n)},"6F0S":function(e,t,i){"use strict";function n(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),6*i<1?e+6*(t-e)*i:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function a(e,t,i,n){this.red=Object(o.a)(e,1),this.green=Object(o.a)(t,1),this.blue=Object(o.a)(i,1),this.alpha=Object(o.a)(n,1)}var r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("gjtw"),l=i("fq+p");a.fromCartesian4=function(e,t){return r.a.typeOf.object("cartesian",e),Object(s.a)(t)?(t.red=e.x,t.green=e.y,t.blue=e.z,t.alpha=e.w,t):new a(e.x,e.y,e.z,e.w)},a.fromBytes=function(e,t,i,n,r){return e=a.byteToFloat(Object(o.a)(e,255)),t=a.byteToFloat(Object(o.a)(t,255)),i=a.byteToFloat(Object(o.a)(i,255)),n=a.byteToFloat(Object(o.a)(n,255)),Object(s.a)(r)?(r.red=e,r.green=t,r.blue=i,r.alpha=n,r):new a(e,t,i,n)},a.fromAlpha=function(e,t,i){return r.a.typeOf.object("color",e),r.a.typeOf.number("alpha",t),Object(s.a)(i)?(i.red=e.red,i.green=e.green,i.blue=e.blue,i.alpha=t,i):new a(e.red,e.green,e.blue,t)};var u,h,d;c.a.supportsTypedArrays()&&(u=new ArrayBuffer(4),h=new Uint32Array(u),d=new Uint8Array(u)),a.fromRgba=function(e,t){return h[0]=e,a.fromBytes(d[0],d[1],d[2],d[3],t)},a.fromHsl=function(e,t,i,r,c){e=Object(o.a)(e,0)%1,t=Object(o.a)(t,0),i=Object(o.a)(i,0),r=Object(o.a)(r,1);var l=i,u=i,h=i;if(0!==t){var d;d=i<.5?i*(1+t):i+t-i*t;var f=2*i-d;l=n(f,d,e+1/3),u=n(f,d,e),h=n(f,d,e-1/3)}return Object(s.a)(c)?(c.red=l,c.green=u,c.blue=h,c.alpha=r,c):new a(l,u,h,r)},a.fromRandom=function(e,t){e=Object(o.a)(e,o.a.EMPTY_OBJECT);var i=e.red;if(!Object(s.a)(i)){var n=Object(o.a)(e.minimumRed,0),c=Object(o.a)(e.maximumRed,1);r.a.typeOf.number.lessThanOrEquals("minimumRed",n,c),i=n+l.a.nextRandomNumber()*(c-n)}var u=e.green;if(!Object(s.a)(u)){var h=Object(o.a)(e.minimumGreen,0),d=Object(o.a)(e.maximumGreen,1);r.a.typeOf.number.lessThanOrEquals("minimumGreen",h,d),u=h+l.a.nextRandomNumber()*(d-h)}var f=e.blue;if(!Object(s.a)(f)){var p=Object(o.a)(e.minimumBlue,0),m=Object(o.a)(e.maximumBlue,1);r.a.typeOf.number.lessThanOrEquals("minimumBlue",p,m),f=p+l.a.nextRandomNumber()*(m-p)}var g=e.alpha;if(!Object(s.a)(g)){var _=Object(o.a)(e.minimumAlpha,0),v=Object(o.a)(e.maximumAlpha,1);r.a.typeOf.number.lessThanOrEquals("minumumAlpha",_,v),g=_+l.a.nextRandomNumber()*(v-_)}return Object(s.a)(t)?(t.red=i,t.green=u,t.blue=f,t.alpha=g,t):new a(i,u,f,g)};var f=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,p=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,m=/^rgba?\(\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)(?:\s*,\s*([0-9.]+))?\s*\)$/i,g=/^hsla?\(\s*([0-9.]+)\s*,\s*([0-9.]+%)\s*,\s*([0-9.]+%)(?:\s*,\s*([0-9.]+))?\s*\)$/i;a.fromCssColorString=function(e,t){r.a.typeOf.string("color",e),Object(s.a)(t)||(t=new a);var i=a[e.toUpperCase()];if(Object(s.a)(i))return a.clone(i,t),t;var n=f.exec(e);return null!==n?(t.red=parseInt(n[1],16)/15,t.green=parseInt(n[2],16)/15,t.blue=parseInt(n[3],16)/15,t.alpha=1,t):null!==(n=p.exec(e))?(t.red=parseInt(n[1],16)/255,t.green=parseInt(n[2],16)/255,t.blue=parseInt(n[3],16)/255,t.alpha=1,t):null!==(n=m.exec(e))?(t.red=parseFloat(n[1])/("%"===n[1].substr(-1)?100:255),t.green=parseFloat(n[2])/("%"===n[2].substr(-1)?100:255),t.blue=parseFloat(n[3])/("%"===n[3].substr(-1)?100:255),t.alpha=parseFloat(Object(o.a)(n[4],"1.0")),t):null!==(n=g.exec(e))?a.fromHsl(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(Object(o.a)(n[4],"1.0")),t):t=void 0},a.packedLength=4,a.pack=function(e,t,i){return r.a.typeOf.object("value",e),r.a.defined("array",t),i=Object(o.a)(i,0),t[i++]=e.red,t[i++]=e.green,t[i++]=e.blue,t[i]=e.alpha,t},a.unpack=function(e,t,i){return r.a.defined("array",e),t=Object(o.a)(t,0),Object(s.a)(i)||(i=new a),i.red=e[t++],i.green=e[t++],i.blue=e[t++],i.alpha=e[t],i},a.byteToFloat=function(e){return e/255},a.floatToByte=function(e){return 1===e?255:256*e|0},a.clone=function(e,t){if(Object(s.a)(e))return Object(s.a)(t)?(t.red=e.red,t.green=e.green,t.blue=e.blue,t.alpha=e.alpha,t):new a(e.red,e.green,e.blue,e.alpha)},a.equals=function(e,t){return e===t||Object(s.a)(e)&&Object(s.a)(t)&&e.red===t.red&&e.green===t.green&&e.blue===t.blue&&e.alpha===t.alpha},a.equalsArray=function(e,t,i){return e.red===t[i]&&e.green===t[i+1]&&e.blue===t[i+2]&&e.alpha===t[i+3]},a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t){return this===e||Object(s.a)(e)&&Math.abs(this.red-e.red)<=t&&Math.abs(this.green-e.green)<=t&&Math.abs(this.blue-e.blue)<=t&&Math.abs(this.alpha-e.alpha)<=t},a.prototype.toString=function(){return"("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},a.prototype.toCssColorString=function(){var e=a.floatToByte(this.red),t=a.floatToByte(this.green),i=a.floatToByte(this.blue);return 1===this.alpha?"rgb("+e+","+t+","+i+")":"rgba("+e+","+t+","+i+","+this.alpha+")"},a.prototype.toBytes=function(e){var t=a.floatToByte(this.red),i=a.floatToByte(this.green),n=a.floatToByte(this.blue),r=a.floatToByte(this.alpha);return Object(s.a)(e)?(e[0]=t,e[1]=i,e[2]=n,e[3]=r,e):[t,i,n,r]},a.prototype.toRgba=function(){return d[0]=a.floatToByte(this.red),d[1]=a.floatToByte(this.green),d[2]=a.floatToByte(this.blue),d[3]=a.floatToByte(this.alpha),h[0]},a.prototype.brighten=function(e,t){return r.a.typeOf.number("magnitude",e),r.a.typeOf.number.greaterThanOrEquals("magnitude",e,0),r.a.typeOf.object("result",t),e=1-e,t.red=1-(1-this.red)*e,t.green=1-(1-this.green)*e,t.blue=1-(1-this.blue)*e,t.alpha=this.alpha,t},a.prototype.darken=function(e,t){return r.a.typeOf.number("magnitude",e),r.a.typeOf.number.greaterThanOrEquals("magnitude",e,0),r.a.typeOf.object("result",t),e=1-e,t.red=this.red*e,t.green=this.green*e,t.blue=this.blue*e,t.alpha=this.alpha,t},a.prototype.withAlpha=function(e,t){return a.fromAlpha(this,e,t)},a.add=function(e,t,i){return r.a.typeOf.object("left",e),r.a.typeOf.object("right",t),r.a.typeOf.object("result",i),i.red=e.red+t.red,i.green=e.green+t.green,i.blue=e.blue+t.blue,i.alpha=e.alpha+t.alpha,i},a.subtract=function(e,t,i){return r.a.typeOf.object("left",e),r.a.typeOf.object("right",t),r.a.typeOf.object("result",i),i.red=e.red-t.red,i.green=e.green-t.green,i.blue=e.blue-t.blue,i.alpha=e.alpha-t.alpha,i},a.multiply=function(e,t,i){return r.a.typeOf.object("left",e),r.a.typeOf.object("right",t),r.a.typeOf.object("result",i),i.red=e.red*t.red,i.green=e.green*t.green,i.blue=e.blue*t.blue,i.alpha=e.alpha*t.alpha,i},a.divide=function(e,t,i){return r.a.typeOf.object("left",e),r.a.typeOf.object("right",t),r.a.typeOf.object("result",i),i.red=e.red/t.red,i.green=e.green/t.green,i.blue=e.blue/t.blue,i.alpha=e.alpha/t.alpha,i},a.mod=function(e,t,i){return r.a.typeOf.object("left",e),r.a.typeOf.object("right",t),r.a.typeOf.object("result",i),i.red=e.red%t.red,i.green=e.green%t.green,i.blue=e.blue%t.blue,i.alpha=e.alpha%t.alpha,i},a.lerp=function(e,t,i,n){return r.a.typeOf.object("start",e),r.a.typeOf.object("end",t),r.a.typeOf.number("t",i),r.a.typeOf.object("result",n),n.red=l.a.lerp(e.red,t.red,i),n.green=l.a.lerp(e.green,t.green,i),n.blue=l.a.lerp(e.blue,t.blue,i),n.alpha=l.a.lerp(e.alpha,t.alpha,i),n},a.multiplyByScalar=function(e,t,i){return r.a.typeOf.object("color",e),r.a.typeOf.number("scalar",t),r.a.typeOf.object("result",i),i.red=e.red*t,i.green=e.green*t,i.blue=e.blue*t,i.alpha=e.alpha*t,i},a.divideByScalar=function(e,t,i){return r.a.typeOf.object("color",e),r.a.typeOf.number("scalar",t),r.a.typeOf.object("result",i),i.red=e.red/t,i.green=e.green/t,i.blue=e.blue/t,i.alpha=e.alpha/t,i},a.ALICEBLUE=Object.freeze(a.fromCssColorString("#F0F8FF")),a.ANTIQUEWHITE=Object.freeze(a.fromCssColorString("#FAEBD7")),a.AQUA=Object.freeze(a.fromCssColorString("#00FFFF")),a.AQUAMARINE=Object.freeze(a.fromCssColorString("#7FFFD4")),a.AZURE=Object.freeze(a.fromCssColorString("#F0FFFF")),a.BEIGE=Object.freeze(a.fromCssColorString("#F5F5DC")),a.BISQUE=Object.freeze(a.fromCssColorString("#FFE4C4")),a.BLACK=Object.freeze(a.fromCssColorString("#000000")),a.BLANCHEDALMOND=Object.freeze(a.fromCssColorString("#FFEBCD")),a.BLUE=Object.freeze(a.fromCssColorString("#0000FF")),a.BLUEVIOLET=Object.freeze(a.fromCssColorString("#8A2BE2")),a.BROWN=Object.freeze(a.fromCssColorString("#A52A2A")),a.BURLYWOOD=Object.freeze(a.fromCssColorString("#DEB887")),a.CADETBLUE=Object.freeze(a.fromCssColorString("#5F9EA0")),a.CHARTREUSE=Object.freeze(a.fromCssColorString("#7FFF00")),a.CHOCOLATE=Object.freeze(a.fromCssColorString("#D2691E")),a.CORAL=Object.freeze(a.fromCssColorString("#FF7F50")),a.CORNFLOWERBLUE=Object.freeze(a.fromCssColorString("#6495ED")),a.CORNSILK=Object.freeze(a.fromCssColorString("#FFF8DC")),a.CRIMSON=Object.freeze(a.fromCssColorString("#DC143C")),a.CYAN=Object.freeze(a.fromCssColorString("#00FFFF")),a.DARKBLUE=Object.freeze(a.fromCssColorString("#00008B")),a.DARKCYAN=Object.freeze(a.fromCssColorString("#008B8B")),a.DARKGOLDENROD=Object.freeze(a.fromCssColorString("#B8860B")),a.DARKGRAY=Object.freeze(a.fromCssColorString("#A9A9A9")),a.DARKGREEN=Object.freeze(a.fromCssColorString("#006400")),a.DARKGREY=a.DARKGRAY,a.DARKKHAKI=Object.freeze(a.fromCssColorString("#BDB76B")),a.DARKMAGENTA=Object.freeze(a.fromCssColorString("#8B008B")),a.DARKOLIVEGREEN=Object.freeze(a.fromCssColorString("#556B2F")),a.DARKORANGE=Object.freeze(a.fromCssColorString("#FF8C00")),a.DARKORCHID=Object.freeze(a.fromCssColorString("#9932CC")),a.DARKRED=Object.freeze(a.fromCssColorString("#8B0000")),a.DARKSALMON=Object.freeze(a.fromCssColorString("#E9967A")),a.DARKSEAGREEN=Object.freeze(a.fromCssColorString("#8FBC8F")),a.DARKSLATEBLUE=Object.freeze(a.fromCssColorString("#483D8B")),a.DARKSLATEGRAY=Object.freeze(a.fromCssColorString("#2F4F4F")),a.DARKSLATEGREY=a.DARKSLATEGRAY,a.DARKTURQUOISE=Object.freeze(a.fromCssColorString("#00CED1")),a.DARKVIOLET=Object.freeze(a.fromCssColorString("#9400D3")),a.DEEPPINK=Object.freeze(a.fromCssColorString("#FF1493")),a.DEEPSKYBLUE=Object.freeze(a.fromCssColorString("#00BFFF")),a.DIMGRAY=Object.freeze(a.fromCssColorString("#696969")),a.DIMGREY=a.DIMGRAY,a.DODGERBLUE=Object.freeze(a.fromCssColorString("#1E90FF")),a.FIREBRICK=Object.freeze(a.fromCssColorString("#B22222")),a.FLORALWHITE=Object.freeze(a.fromCssColorString("#FFFAF0")),a.FORESTGREEN=Object.freeze(a.fromCssColorString("#228B22")),a.FUCHSIA=Object.freeze(a.fromCssColorString("#FF00FF")),a.GAINSBORO=Object.freeze(a.fromCssColorString("#DCDCDC")),a.GHOSTWHITE=Object.freeze(a.fromCssColorString("#F8F8FF")),a.GOLD=Object.freeze(a.fromCssColorString("#FFD700")),a.GOLDENROD=Object.freeze(a.fromCssColorString("#DAA520")),a.GRAY=Object.freeze(a.fromCssColorString("#808080")),a.GREEN=Object.freeze(a.fromCssColorString("#008000")),a.GREENYELLOW=Object.freeze(a.fromCssColorString("#ADFF2F")),a.GREY=a.GRAY,a.HONEYDEW=Object.freeze(a.fromCssColorString("#F0FFF0")),a.HOTPINK=Object.freeze(a.fromCssColorString("#FF69B4")),a.INDIANRED=Object.freeze(a.fromCssColorString("#CD5C5C")),a.INDIGO=Object.freeze(a.fromCssColorString("#4B0082")),a.IVORY=Object.freeze(a.fromCssColorString("#FFFFF0")),a.KHAKI=Object.freeze(a.fromCssColorString("#F0E68C")),a.LAVENDER=Object.freeze(a.fromCssColorString("#E6E6FA")),a.LAVENDAR_BLUSH=Object.freeze(a.fromCssColorString("#FFF0F5")),a.LAWNGREEN=Object.freeze(a.fromCssColorString("#7CFC00")),a.LEMONCHIFFON=Object.freeze(a.fromCssColorString("#FFFACD")),a.LIGHTBLUE=Object.freeze(a.fromCssColorString("#ADD8E6")),a.LIGHTCORAL=Object.freeze(a.fromCssColorString("#F08080")),a.LIGHTCYAN=Object.freeze(a.fromCssColorString("#E0FFFF")),a.LIGHTGOLDENRODYELLOW=Object.freeze(a.fromCssColorString("#FAFAD2")),a.LIGHTGRAY=Object.freeze(a.fromCssColorString("#D3D3D3")),a.LIGHTGREEN=Object.freeze(a.fromCssColorString("#90EE90")),a.LIGHTGREY=a.LIGHTGRAY,a.LIGHTPINK=Object.freeze(a.fromCssColorString("#FFB6C1")),a.LIGHTSEAGREEN=Object.freeze(a.fromCssColorString("#20B2AA")),a.LIGHTSKYBLUE=Object.freeze(a.fromCssColorString("#87CEFA")),a.LIGHTSLATEGRAY=Object.freeze(a.fromCssColorString("#778899")),a.LIGHTSLATEGREY=a.LIGHTSLATEGRAY,a.LIGHTSTEELBLUE=Object.freeze(a.fromCssColorString("#B0C4DE")),a.LIGHTYELLOW=Object.freeze(a.fromCssColorString("#FFFFE0")),a.LIME=Object.freeze(a.fromCssColorString("#00FF00")),a.LIMEGREEN=Object.freeze(a.fromCssColorString("#32CD32")),a.LINEN=Object.freeze(a.fromCssColorString("#FAF0E6")),a.MAGENTA=Object.freeze(a.fromCssColorString("#FF00FF")),a.MAROON=Object.freeze(a.fromCssColorString("#800000")),a.MEDIUMAQUAMARINE=Object.freeze(a.fromCssColorString("#66CDAA")),a.MEDIUMBLUE=Object.freeze(a.fromCssColorString("#0000CD")),a.MEDIUMORCHID=Object.freeze(a.fromCssColorString("#BA55D3")),a.MEDIUMPURPLE=Object.freeze(a.fromCssColorString("#9370DB")),a.MEDIUMSEAGREEN=Object.freeze(a.fromCssColorString("#3CB371")),a.MEDIUMSLATEBLUE=Object.freeze(a.fromCssColorString("#7B68EE")),a.MEDIUMSPRINGGREEN=Object.freeze(a.fromCssColorString("#00FA9A")),a.MEDIUMTURQUOISE=Object.freeze(a.fromCssColorString("#48D1CC")),a.MEDIUMVIOLETRED=Object.freeze(a.fromCssColorString("#C71585")),a.MIDNIGHTBLUE=Object.freeze(a.fromCssColorString("#191970")),a.MINTCREAM=Object.freeze(a.fromCssColorString("#F5FFFA")),a.MISTYROSE=Object.freeze(a.fromCssColorString("#FFE4E1")),a.MOCCASIN=Object.freeze(a.fromCssColorString("#FFE4B5")),a.NAVAJOWHITE=Object.freeze(a.fromCssColorString("#FFDEAD")),a.NAVY=Object.freeze(a.fromCssColorString("#000080")),a.OLDLACE=Object.freeze(a.fromCssColorString("#FDF5E6")),a.OLIVE=Object.freeze(a.fromCssColorString("#808000")),a.OLIVEDRAB=Object.freeze(a.fromCssColorString("#6B8E23")),a.ORANGE=Object.freeze(a.fromCssColorString("#FFA500")),a.ORANGERED=Object.freeze(a.fromCssColorString("#FF4500")),a.ORCHID=Object.freeze(a.fromCssColorString("#DA70D6")),a.PALEGOLDENROD=Object.freeze(a.fromCssColorString("#EEE8AA")),a.PALEGREEN=Object.freeze(a.fromCssColorString("#98FB98")),a.PALETURQUOISE=Object.freeze(a.fromCssColorString("#AFEEEE")),a.PALEVIOLETRED=Object.freeze(a.fromCssColorString("#DB7093")),a.PAPAYAWHIP=Object.freeze(a.fromCssColorString("#FFEFD5")),a.PEACHPUFF=Object.freeze(a.fromCssColorString("#FFDAB9")),a.PERU=Object.freeze(a.fromCssColorString("#CD853F")),a.PINK=Object.freeze(a.fromCssColorString("#FFC0CB")),a.PLUM=Object.freeze(a.fromCssColorString("#DDA0DD")),a.POWDERBLUE=Object.freeze(a.fromCssColorString("#B0E0E6")),a.PURPLE=Object.freeze(a.fromCssColorString("#800080")),a.RED=Object.freeze(a.fromCssColorString("#FF0000")),a.ROSYBROWN=Object.freeze(a.fromCssColorString("#BC8F8F")),a.ROYALBLUE=Object.freeze(a.fromCssColorString("#4169E1")),a.SADDLEBROWN=Object.freeze(a.fromCssColorString("#8B4513")),a.SALMON=Object.freeze(a.fromCssColorString("#FA8072")),a.SANDYBROWN=Object.freeze(a.fromCssColorString("#F4A460")),a.SEAGREEN=Object.freeze(a.fromCssColorString("#2E8B57")),a.SEASHELL=Object.freeze(a.fromCssColorString("#FFF5EE")),a.SIENNA=Object.freeze(a.fromCssColorString("#A0522D")),a.SILVER=Object.freeze(a.fromCssColorString("#C0C0C0")),a.SKYBLUE=Object.freeze(a.fromCssColorString("#87CEEB")),a.SLATEBLUE=Object.freeze(a.fromCssColorString("#6A5ACD")),a.SLATEGRAY=Object.freeze(a.fromCssColorString("#708090")),a.SLATEGREY=a.SLATEGRAY,a.SNOW=Object.freeze(a.fromCssColorString("#FFFAFA")),a.SPRINGGREEN=Object.freeze(a.fromCssColorString("#00FF7F")),a.STEELBLUE=Object.freeze(a.fromCssColorString("#4682B4")),a.TAN=Object.freeze(a.fromCssColorString("#D2B48C")),a.TEAL=Object.freeze(a.fromCssColorString("#008080")),a.THISTLE=Object.freeze(a.fromCssColorString("#D8BFD8")),a.TOMATO=Object.freeze(a.fromCssColorString("#FF6347")),a.TURQUOISE=Object.freeze(a.fromCssColorString("#40E0D0")),a.VIOLET=Object.freeze(a.fromCssColorString("#EE82EE")),a.WHEAT=Object.freeze(a.fromCssColorString("#F5DEB3")),a.WHITE=Object.freeze(a.fromCssColorString("#FFFFFF")),a.WHITESMOKE=Object.freeze(a.fromCssColorString("#F5F5F5")),a.YELLOW=Object.freeze(a.fromCssColorString("#FFFF00")),a.YELLOWGREEN=Object.freeze(a.fromCssColorString("#9ACD32")),a.TRANSPARENT=Object.freeze(new a(0,0,0,0)),t.a=a},"6Ilv":function(e,t,i){"use strict";function n(e,t,i){if(a.a.defined("equalsEpsilon",t),Object(o.a)(e)){i=Object(r.a)(i,!1);var n=e.length;if(n<2)return e;var s,l,u;for(s=1;s<n&&(l=e[s-1],u=e[s],!t(l,u,c));++s);if(s===n)return i&&t(e[0],e[e.length-1],c)?e.slice(1):e;for(var h=e.slice(0,s);s<n;++s)u=e[s],t(l,u,c)||(h.push(u),l=u);return i&&h.length>1&&t(h[0],h[h.length-1],c)&&h.shift(),h}}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("fq+p"),c=s.a.EPSILON10;t.a=n},"6KSh":function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT);var t=e.radius;r.a.typeOf.number("radius",t);var i={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,numberOfVerticalLines:e.numberOfVerticalLines};this._ellipseGeometry=new c.a(i),this._workerName="createCircleOutlineGeometry"}var a=i("Jj+J"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("I+Ny"),l=i("y6fO");n.packedLength=c.a.packedLength,n.pack=function(e,t,i){return r.a.typeOf.object("value",e),c.a.pack(e._ellipseGeometry,t,i)};var u=new c.a({center:new a.a,semiMajorAxis:1,semiMinorAxis:1}),h={center:new a.a,radius:void 0,ellipsoid:l.a.clone(l.a.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,numberOfVerticalLines:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0};n.unpack=function(e,t,i){var r=c.a.unpack(e,t,u);return h.center=a.a.clone(r._center,h.center),h.ellipsoid=l.a.clone(r._ellipsoid,h.ellipsoid),h.height=r._height,h.extrudedHeight=r._extrudedHeight,h.granularity=r._granularity,h.numberOfVerticalLines=r._numberOfVerticalLines,Object(s.a)(i)?(h.semiMajorAxis=r._semiMajorAxis,h.semiMinorAxis=r._semiMinorAxis,i._ellipseGeometry=new c.a(h),i):(h.radius=r._semiMajorAxis,new n(h))},n.createGeometry=function(e){return c.a.createGeometry(e._ellipseGeometry)}},"6S5m":function(e,t,i){"use strict";function n(e){this._angle=Object(o.a)(e,c)}var a=i("Jj+J"),r=i("5F4X"),o=i("5A4e"),s=i("fq+p"),c=s.a.toRadians(30);Object.defineProperties(n.prototype,{angle:{get:function(){return this._angle},set:function(e){r.a.typeOf.number("value",e),this._angle=e}}}),n.prototype.emit=function(e){var t=Math.tan(this._angle),i=s.a.randomBetween(0,s.a.TWO_PI),n=s.a.randomBetween(0,t),r=n*Math.cos(i),o=n*Math.sin(i);e.velocity=a.a.fromElements(r,o,1,e.velocity),a.a.normalize(e.velocity,e.velocity),e.position=a.a.clone(a.a.ZERO,e.position)}},"6aMI":function(e,t,i){"use strict";function n(e,t){this.json=e,this.buffer=t,this._cachedTypedArrays={},this.featuresLength=0}function a(e,t,i,n,a,r){var s=e._cachedTypedArrays,l=s[t];return Object(c.a)(l)||(l=o.a.createArrayBufferView(i,e.buffer.buffer,e.buffer.byteOffset+r,a*n),s[t]=l),l}function r(e,t,i,n){var a=e._cachedTypedArrays,r=a[t];return Object(c.a)(r)||(r=o.a.createTypedArray(i,n),a[t]=r),r}var o=i("YCZg"),s=i("5A4e"),c=i("xC6Q");n.prototype.getGlobalProperty=function(e,t,i){var n=this.json[e];if(Object(c.a)(n))return Object(c.a)(n.byteOffset)?(t=Object(s.a)(t,o.a.UNSIGNED_INT),i=Object(s.a)(i,1),a(this,e,t,i,1,n.byteOffset)):n},n.prototype.getPropertyArray=function(e,t,i){var n=this.json[e];if(Object(c.a)(n))return Object(c.a)(n.byteOffset)?(Object(c.a)(n.componentType)&&(t=o.a.fromName(n.componentType)),a(this,e,t,i,this.featuresLength,n.byteOffset)):r(this,e,t,n)},n.prototype.getProperty=function(e,t,i,n,a){var r=this.json[e];if(Object(c.a)(r)){var o=this.getPropertyArray(e,t,i);if(1===i)return o[n];for(var s=0;s<i;++s)a[s]=o[i*n+s];return a}},t.a=n},"6cxr":function(e,t,i){"use strict";function n(e){this.id=e,this.vertexFormat=void 0,this.positions=void 0,this.width=void 0,this.cornerType=void 0,this.height=void 0,this.extrudedHeight=void 0,this.granularity=void 0,this.offsetAttribute=void 0}function a(e,t){C.a.call(this,{entity:e,scene:t,geometryOptions:new n(e),geometryPropertyName:"corridor",observedPropertyNames:["availability","corridor"]}),this._onEntityPropertyChanged(e,"corridor",e.corridor,void 0)}function r(e,t,i){T.a.call(this,e,t,i)}var o=i("DPkk"),s=i("Jj+J"),c=i("5F4X"),l=i("6F0S"),u=i("devy"),h=i("2IZB"),d=i("HH9G"),f=i("xC6Q"),p=i("PzDm"),m=i("2kyc"),g=i("izcu"),_=i("DsDe"),v=i("wpHJ"),b=i("Wq1U"),y=i("zSqc"),O=i("JIo7"),w=i("xEUC"),x=i("BOJj"),E=i("I5FW"),T=i("5s/y"),A=i("rVBE"),C=i("ekBq"),S=i("uhjI"),j=new l.a,P=s.a.ZERO,D=new s.a,I=new b.a;Object(f.a)(Object.create)&&(a.prototype=Object.create(C.a.prototype),a.prototype.constructor=a),a.prototype.createFillGeometryInstance=function(e){if(c.a.defined("time",e),!this._fillEnabled)throw new p.a("This instance does not represent a filled geometry.");var t=this._entity,i=t.isAvailable(e),n={show:new y.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._fillProperty.getValue(e)),distanceDisplayCondition:m.a.fromDistanceDisplayCondition(this._distanceDisplayConditionProperty.getValue(e)),offset:void 0,color:void 0};if(this._materialProperty instanceof E.a){var a;Object(f.a)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(a=this._materialProperty.color.getValue(e,j)),Object(f.a)(a)||(a=l.a.WHITE),n.color=u.a.fromColor(a)}return Object(f.a)(this._options.offsetAttribute)&&(n.offset=v.a.fromCartesian3(S.a.getValueOrDefault(this._terrainOffsetProperty,e,P,D))),new g.a({id:t,geometry:new h.a(this._options),attributes:n})},a.prototype.createOutlineGeometryInstance=function(e){if(c.a.defined("time",e),!this._outlineEnabled)throw new p.a("This instance does not represent an outlined geometry.");var t=this._entity,i=t.isAvailable(e),n=S.a.getValueOrDefault(this._outlineColorProperty,e,l.a.BLACK,j),a={show:new y.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._showOutlineProperty.getValue(e)),color:u.a.fromColor(n),distanceDisplayCondition:m.a.fromDistanceDisplayCondition(this._distanceDisplayConditionProperty.getValue(e)),offset:void 0};return Object(f.a)(this._options.offsetAttribute)&&(a.offset=v.a.fromCartesian3(S.a.getValueOrDefault(this._terrainOffsetProperty,e,P,D))),new g.a({id:t,geometry:new d.a(this._options),attributes:a})},a.prototype._computeCenter=function(e,t){var i=S.a.getValueOrUndefined(this._entity.corridor.positions,e);if(Object(f.a)(i)&&0!==i.length)return s.a.clone(i[Math.floor(i.length/2)],t)},a.prototype._isHidden=function(e,t){return!Object(f.a)(t.positions)||!Object(f.a)(t.width)||A.a.prototype._isHidden.call(this,e,t)},a.prototype._isDynamic=function(e,t){return!t.positions.isConstant||!S.a.isConstant(t.height)||!S.a.isConstant(t.extrudedHeight)||!S.a.isConstant(t.granularity)||!S.a.isConstant(t.width)||!S.a.isConstant(t.outlineWidth)||!S.a.isConstant(t.cornerType)||!S.a.isConstant(t.zIndex)||this._onTerrain&&!S.a.isConstant(this._materialProperty)&&!(this._materialProperty instanceof E.a)},a.prototype._setStaticOptions=function(e,t){var i=S.a.getValueOrUndefined(t.height,_.a.MINIMUM_VALUE),n=S.a.getValueOrDefault(t.heightReference,_.a.MINIMUM_VALUE,O.a.NONE),a=S.a.getValueOrUndefined(t.extrudedHeight,_.a.MINIMUM_VALUE),r=S.a.getValueOrDefault(t.extrudedHeightReference,_.a.MINIMUM_VALUE,O.a.NONE);Object(f.a)(a)&&!Object(f.a)(i)&&(i=0);var s=this._options;s.vertexFormat=this._materialProperty instanceof E.a?x.a.VERTEX_FORMAT:w.a.MaterialSupport.TEXTURED.vertexFormat,s.positions=t.positions.getValue(_.a.MINIMUM_VALUE,s.positions),s.width=t.width.getValue(_.a.MINIMUM_VALUE),s.granularity=S.a.getValueOrUndefined(t.granularity,_.a.MINIMUM_VALUE),s.cornerType=S.a.getValueOrUndefined(t.cornerType,_.a.MINIMUM_VALUE),s.offsetAttribute=C.a.computeGeometryOffsetAttribute(i,n,a,r),s.height=C.a.getGeometryHeight(i,n),a=C.a.getGeometryExtrudedHeight(a,r),a===C.a.CLAMP_TO_GROUND&&(a=o.a.getMinimumMaximumHeights(h.a.computeRectangle(s,I)).minimumTerrainHeight),s.extrudedHeight=a},a.DynamicGeometryUpdater=r,Object(f.a)(Object.create)&&(r.prototype=Object.create(T.a.prototype),r.prototype.constructor=r),r.prototype._isHidden=function(e,t,i){var n=this._options;return!Object(f.a)(n.positions)||!Object(f.a)(n.width)||T.a.prototype._isHidden.call(this,e,t,i)},r.prototype._setOptions=function(e,t,i){var n=this._options,a=S.a.getValueOrUndefined(t.height,i),r=S.a.getValueOrDefault(t.heightReference,i,O.a.NONE),s=S.a.getValueOrUndefined(t.extrudedHeight,i),c=S.a.getValueOrDefault(t.extrudedHeightReference,i,O.a.NONE);Object(f.a)(s)&&!Object(f.a)(a)&&(a=0),n.positions=S.a.getValueOrUndefined(t.positions,i),n.width=S.a.getValueOrUndefined(t.width,i),n.granularity=S.a.getValueOrUndefined(t.granularity,i),n.cornerType=S.a.getValueOrUndefined(t.cornerType,i),n.offsetAttribute=C.a.computeGeometryOffsetAttribute(a,r,s,c),n.height=C.a.getGeometryHeight(a,r),s=C.a.getGeometryExtrudedHeight(s,c),s===C.a.CLAMP_TO_GROUND&&(s=o.a.getMinimumMaximumHeights(h.a.computeRectangle(n,I)).minimumTerrainHeight),n.extrudedHeight=s},t.a=a},"6fa5":function(e,t,i){"use strict";t.a="void clipLineSegmentToNearPlane(\n    vec3 p0,\n    vec3 p1,\n    out vec4 positionWC,\n    out bool clipped,\n    out bool culledByNearPlane)\n{\n    culledByNearPlane = false;\n    clipped = false;\n\n    vec3 p1ToP0 = p1 - p0;\n    float magnitude = length(p1ToP0);\n    vec3 direction = normalize(p1ToP0);\n    float endPoint0Distance =  -(czm_currentFrustum.x + p0.z);\n    float denominator = -direction.z;\n\n    if (endPoint0Distance < 0.0 && abs(denominator) < czm_epsilon7)\n    {\n        culledByNearPlane = true;\n    }\n    else if (endPoint0Distance < 0.0 && abs(denominator) > czm_epsilon7)\n    {\n        // t = (-plane distance - dot(plane normal, ray origin)) / dot(plane normal, ray direction)\n        float t = (czm_currentFrustum.x + p0.z) / denominator;\n        if (t < 0.0 || t > magnitude)\n        {\n            culledByNearPlane = true;\n        }\n        else\n        {\n            p0 = p0 + t * direction;\n            clipped = true;\n        }\n    }\n\n    positionWC = czm_eyeToWindowCoordinates(vec4(p0, 1.0));\n}\n\nvec4 getPolylineWindowCoordinatesEC(vec4 positionEC, vec4 prevEC, vec4 nextEC, float expandDirection, float width, bool usePrevious, out float angle)\n{\n    vec4 endPointWC, p0, p1;\n    bool culledByNearPlane, clipped;\n\n#ifdef POLYLINE_DASH\n    // Compute the window coordinates of the points.\n    vec4 positionWindow = czm_eyeToWindowCoordinates(positionEC);\n    vec4 previousWindow = czm_eyeToWindowCoordinates(prevEC);\n    vec4 nextWindow = czm_eyeToWindowCoordinates(nextEC);\n\n    // Determine the relative screen space direction of the line.\n    vec2 lineDir;\n    if (usePrevious) {\n        lineDir = normalize(positionWindow.xy - previousWindow.xy);\n    }\n    else {\n        lineDir = normalize(nextWindow.xy - positionWindow.xy);\n    }\n    angle = atan(lineDir.x, lineDir.y) - 1.570796327; // precomputed atan(1,0)\n\n    // Quantize the angle so it doesn't change rapidly between segments.\n    angle = floor(angle / czm_piOverFour + 0.5) * czm_piOverFour;\n#endif\n\n    clipLineSegmentToNearPlane(prevEC.xyz, positionEC.xyz, p0, clipped, culledByNearPlane);\n    clipLineSegmentToNearPlane(nextEC.xyz, positionEC.xyz, p1, clipped, culledByNearPlane);\n    clipLineSegmentToNearPlane(positionEC.xyz, usePrevious ? prevEC.xyz : nextEC.xyz, endPointWC, clipped, culledByNearPlane);\n\n    if (culledByNearPlane)\n    {\n        return vec4(0.0, 0.0, 0.0, 1.0);\n    }\n\n    vec2 prevWC = normalize(p0.xy - endPointWC.xy);\n    vec2 nextWC = normalize(p1.xy - endPointWC.xy);\n\n    float expandWidth = width * 0.5;\n    vec2 direction;\n\n#ifdef CLIP_POLYLINE\n    if (clipped)\n    {\n        if (prevEC.z - positionEC.z < 0.0)\n        {\n            direction = vec2(prevWC.y, -prevWC.x);\n        }\n        else\n        {\n            direction = vec2(-prevWC.y, prevWC.x);\n        }\n    }\n    else\n#endif\n    if (czm_equalsEpsilon(prevEC.xyz - positionEC.xyz, vec3(0.0), czm_epsilon1) || czm_equalsEpsilon(prevWC, -nextWC, czm_epsilon1))\n    {\n        direction = vec2(-nextWC.y, nextWC.x);\n    }\n    else if (czm_equalsEpsilon(nextEC.xyz - positionEC.xyz, vec3(0.0), czm_epsilon1))\n    {\n        direction = vec2(prevWC.y, -prevWC.x);\n    }\n    else\n    {\n        vec2 normal = vec2(-nextWC.y, nextWC.x);\n        direction = normalize((nextWC + prevWC) * 0.5);\n        if (dot(direction, normal) < 0.0)\n        {\n            direction = -direction;\n        }\n\n        // The sine of the angle between the two vectors is given by the formula\n        //         |a x b| = |a||b|sin(theta)\n        // which is\n        //     float sinAngle = length(cross(vec3(direction, 0.0), vec3(nextWC, 0.0)));\n        // Because the z components of both vectors are zero, the x and y coordinate will be zero.\n        // Therefore, the sine of the angle is just the z component of the cross product.\n        float sinAngle = abs(direction.x * nextWC.y - direction.y * nextWC.x);\n        expandWidth = clamp(expandWidth / sinAngle, 0.0, width * 2.0);\n    }\n\n    vec2 offset = direction * expandDirection * expandWidth * czm_pixelRatio;\n    return vec4(endPointWC.xy + offset, -endPointWC.z, 1.0);\n}\n\nvec4 getPolylineWindowCoordinates(vec4 position, vec4 previous, vec4 next, float expandDirection, float width, bool usePrevious, out float angle)\n{\n    vec4 positionEC = czm_modelViewRelativeToEye * position;\n    vec4 prevEC = czm_modelViewRelativeToEye * previous;\n    vec4 nextEC = czm_modelViewRelativeToEye * next;\n    return getPolylineWindowCoordinatesEC(positionEC, prevEC, nextEC, expandDirection, width, usePrevious, angle);\n}\n"},"6kgQ":function(e,t,i){"use strict";var n=i("5A4e"),a=i("xC6Q"),r=i("W6xh"),o=i("jrQD"),s=i("7687"),c=i("uhjI"),l=new o.a,u=function(e){e=Object(n.a)(e,n.a.EMPTY_OBJECT),this._definitionChanged=new r.a,this._translation=void 0,this._translationSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this.translation=e.translation,this.rotation=e.rotation,this.scale=e.scale};Object.defineProperties(u.prototype,{isConstant:{get:function(){return c.a.isConstant(this._translation)&&c.a.isConstant(this._rotation)&&c.a.isConstant(this._scale)}},definitionChanged:{get:function(){return this._definitionChanged}},translation:Object(s.a)("translation"),rotation:Object(s.a)("rotation"),scale:Object(s.a)("scale")}),u.prototype.getValue=function(e,t){return Object(a.a)(t)||(t=new o.a),t.translation=c.a.getValueOrClonedDefault(this._translation,e,l.translation,t.translation),t.rotation=c.a.getValueOrClonedDefault(this._rotation,e,l.rotation,t.rotation),t.scale=c.a.getValueOrClonedDefault(this._scale,e,l.scale,t.scale),t},u.prototype.equals=function(e){return this===e||e instanceof u&&c.a.equals(this._translation,e._translation)&&c.a.equals(this._rotation,e._rotation)&&c.a.equals(this._scale,e._scale)},t.a=u},"6ktF":function(e,t,i){"use strict";function n(e){if(e instanceof r.a)return new c.a(e);if("string"==typeof e||e instanceof s.a||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement){var t=new u.a;return t.image=e,t}throw new o.a("Unable to infer material type: "+e)}function a(e,t){return Object(l.a)(e,t,n)}var r=i("6F0S"),o=i("PzDm"),s=i("rMjQ"),c=i("I5FW"),l=i("7687"),u=i("+4Es");t.a=a},"6rR9":function(e,t,i){"use strict";function n(e,t,i,n,u){if(!Object(r.a)(e))throw new o.a("cartesian is required.");if(!Object(r.a)(t))throw new o.a("oneOverRadii is required.");if(!Object(r.a)(i))throw new o.a("oneOverRadiiSquared is required.");if(!Object(r.a)(n))throw new o.a("centerToleranceSquared is required.");var h=e.x,d=e.y,f=e.z,p=t.x,m=t.y,g=t.z,_=h*h*p*p,v=d*d*m*m,b=f*f*g*g,y=_+v+b,O=Math.sqrt(1/y),w=a.a.multiplyByScalar(e,O,c);if(y<n)return isFinite(O)?a.a.clone(w,u):void 0;var x=i.x,E=i.y,T=i.z,A=l;A.x=w.x*x*2,A.y=w.y*E*2,A.z=w.z*T*2;var C,S,j,P,D,I,R,M,L,N,F,z=(1-O)*a.a.magnitude(e)/(.5*a.a.magnitude(A)),B=0;do{z-=B,j=1/(1+z*x),P=1/(1+z*E),D=1/(1+z*T),I=j*j,R=P*P,M=D*D,L=I*j,N=R*P,F=M*D,C=_*I+v*R+b*M-1,S=_*L*x+v*N*E+b*F*T;B=C/(-2*S)}while(Math.abs(C)>s.a.EPSILON12);return Object(r.a)(u)?(u.x=h*j,u.y=d*P,u.z=f*D,u):new a.a(h*j,d*P,f*D)}var a=i("Jj+J"),r=i("xC6Q"),o=i("PzDm"),s=i("fq+p"),c=new a.a,l=new a.a;t.a=n},"6sr8":function(e,t,i){"use strict";function n(){return!0}function a(e,t){function i(){throw new o.a(t)}t=Object(r.a)(t,"This object was destroyed, i.e., destroy() was called.");for(var a in e)"function"==typeof e[a]&&(e[a]=i);e.isDestroyed=n}var r=i("5A4e"),o=i("PzDm");t.a=a},"6tn6":function(e,t,i){"use strict";function n(){this._uniformMap=void 0,this._command=void 0,this._colorTexture=void 0,this._depthTexture=void 0,this._ready=!1,this._name="czm_autoexposure",this._logDepthChanged=void 0,this._useLogDepth=void 0,this._framebuffers=void 0,this._previousLuminance=void 0,this._commands=void 0,this._clearCommand=void 0,this._minMaxLuminance=new u.a,this.enabled=!0,this._enabled=!0,this.minimumLuminance=.1,this.maximumLuminance=10}function a(e){var t=e._framebuffers;if(Object(d.a)(t)){for(var i=t.length,n=0;n<i;++n)t[n].destroy();e._framebuffers=void 0,e._previousLuminance.destroy(),e._previousLuminance=void 0}}function r(e,t){a(e);for(var i=e._width,n=e._height,r=p.a.RGBA,o=t.halfFloatingPointTexture?_.a.HALF_FLOAT:_.a.FLOAT,s=new v.a({wrapS:w.a.CLAMP_TO_EDGE,wrapT:w.a.CLAMP_TO_EDGE,minificationFilter:O.a.NEAREST,magnificationFilter:y.a.NEAREST}),c=Math.ceil(Math.log(Math.max(i,n))/Math.log(3)),l=new Array(c),u=0;u<c;++u)i=Math.max(Math.ceil(i/3),1),n=Math.max(Math.ceil(n/3),1),l[u]=new g.a({context:t,colorTextures:[new b.a({context:t,width:i,height:n,pixelFormat:r,pixelDatatype:o,sampler:s})]});var h=l[c-1].getColorTexture(0);e._previousLuminance=new g.a({context:t,colorTextures:[new b.a({context:t,width:h.width,height:h.height,pixelFormat:r,pixelDatatype:o,sampler:s})]}),e._framebuffers=l}function o(e){var t=e._commands;if(Object(d.a)(t)){for(var i=t.length,n=0;n<i;++n)t[n].shaderProgram.destroy();e._commands=void 0}}function s(e,t){var i;if(0===t)i={colorTexture:function(){return e._colorTexture},colorTextureDimensions:function(){return e._colorTexture.dimensions}};else{var n=e._framebuffers[t-1].getColorTexture(0);i={colorTexture:function(){return n},colorTextureDimensions:function(){return n.dimensions}}}return i.minMaxLuminance=function(){return e._minMaxLuminance},i.previousLuminance=function(){return e._previousLuminance.getColorTexture(0)},i}function c(e,t){var i="uniform sampler2D colorTexture; \nvarying vec2 v_textureCoordinates; \nfloat sampleTexture(vec2 offset) { \n";return i+=0===e?"    vec4 color = texture2D(colorTexture, v_textureCoordinates + offset); \n    return czm_luminance(color.rgb); \n":"    return texture2D(colorTexture, v_textureCoordinates + offset).r; \n",i+="}\n\n",i+="uniform vec2 colorTextureDimensions; \nuniform vec2 minMaxLuminance; \nuniform sampler2D previousLuminance; \nvoid main() { \n    float color = 0.0; \n    float xStep = 1.0 / colorTextureDimensions.x; \n    float yStep = 1.0 / colorTextureDimensions.y; \n    int count = 0; \n    for (int i = 0; i < 3; ++i) { \n        for (int j = 0; j < 3; ++j) { \n            vec2 offset; \n            offset.x = -xStep + float(i) * xStep; \n            offset.y = -yStep + float(j) * yStep; \n            if (offset.x < 0.0 || offset.x > 1.0 || offset.y < 0.0 || offset.y > 1.0) { \n                continue; \n            } \n            color += sampleTexture(offset); \n            ++count; \n        } \n    } \n    if (count > 0) { \n        color /= float(count); \n    } \n",e===t-1&&(i+="    float previous = texture2D(previousLuminance, vec2(0.5)).r; \n    color = clamp(color, minMaxLuminance.x, minMaxLuminance.y); \n    color = previous + (color - previous) / (60.0 * 1.5); \n    color = clamp(color, minMaxLuminance.x, minMaxLuminance.y); \n"),i+="    gl_FragColor = vec4(color); \n} \n"}function l(e,t){o(e);for(var i=e._framebuffers,n=i.length,a=new Array(n),r=0;r<n;++r)a[r]=t.createViewportQuadCommand(c(r,n),{framebuffer:i[r],uniformMap:s(e,r)});e._commands=a}var u=i("Ss9j"),h=i("6F0S"),d=i("xC6Q"),f=i("6sr8"),p=i("FhYh"),m=i("/DUn"),g=i("YyWD"),_=i("HvCH"),v=i("l0BX"),b=i("25X5"),y=i("YKq0"),O=i("z2iY"),w=i("L4GL");Object.defineProperties(n.prototype,{ready:{get:function(){return this._ready}},name:{get:function(){return this._name}},outputTexture:{get:function(){var e=this._framebuffers;if(Object(d.a)(e))return e[e.length-1].getColorTexture(0)}}}),n.prototype.clear=function(e){var t=this._framebuffers;if(Object(d.a)(t)){var i=this._clearCommand;Object(d.a)(i)||(i=this._clearCommand=new m.a({color:new h.a(0,0,0,0),framebuffer:void 0}));for(var n=t.length,a=0;a<n;++a)i.framebuffer=t[a],i.execute(e)}},n.prototype.update=function(e){var t=e.drawingBufferWidth,i=e.drawingBufferHeight;t===this._width&&i===this._height||(this._width=t,this._height=i,r(this,e),l(this,e),this._ready||(this._ready=!0)),this._minMaxLuminance.x=this.minimumLuminance,this._minMaxLuminance.y=this.maximumLuminance;var n=this._framebuffers,a=n[n.length-1];n[n.length-1]=this._previousLuminance,this._commands[this._commands.length-1].framebuffer=this._previousLuminance,this._previousLuminance=a},n.prototype.execute=function(e,t){this._colorTexture=t;var i=this._commands;if(Object(d.a)(i))for(var n=i.length,a=0;a<n;++a)i[a].execute(e)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return a(this),o(this),Object(f.a)(this)},t.a=n},"6up9":function(e,t,i){"use strict";function n(e){var t=new a.a(e);t.normalize();var i=t.getAuthority();if(Object(r.a)(i)){if(-1!==i.indexOf("@")){i=i.split("@")[1]}if(-1===i.indexOf(":")){var n=t.getScheme();if(Object(r.a)(n)||(n=window.location.protocol,n=n.substring(0,n.length-1)),"http"===n)i+=":80";else{if("https"!==n)return;i+=":443"}}return i}}var a=i("8Vjj"),r=i("xC6Q"),o=i("PzDm"),s={},c={};s.add=function(e,t){if(!Object(r.a)(e))throw new o.a("host is required.");if(!Object(r.a)(t)||t<=0)throw new o.a("port is required to be greater than 0.");var i=e.toLowerCase()+":"+t;Object(r.a)(c[i])||(c[i]=!0)},s.remove=function(e,t){if(!Object(r.a)(e))throw new o.a("host is required.");if(!Object(r.a)(t)||t<=0)throw new o.a("port is required to be greater than 0.");var i=e.toLowerCase()+":"+t;Object(r.a)(c[i])&&delete c[i]},s.contains=function(e){if(!Object(r.a)(e))throw new o.a("url is required.");var t=n(e);return!(!Object(r.a)(t)||!Object(r.a)(c[t]))},s.clear=function(){c={}},t.a=s},"72xV":function(e,t,i){"use strict";function n(e,t,i){this.heading=Object(a.a)(e,0),this.pitch=Object(a.a)(t,0),this.roll=Object(a.a)(i,0)}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("fq+p");n.fromQuaternion=function(e,t){if(!Object(r.a)(e))throw new o.a("quaternion is required");Object(r.a)(t)||(t=new n);var i=2*(e.w*e.y-e.z*e.x),a=1-2*(e.x*e.x+e.y*e.y),c=2*(e.w*e.x+e.y*e.z),l=1-2*(e.y*e.y+e.z*e.z),u=2*(e.w*e.z+e.x*e.y);return t.heading=-Math.atan2(u,l),t.roll=Math.atan2(c,a),t.pitch=-s.a.asinClamped(i),t},n.fromDegrees=function(e,t,i,a){if(!Object(r.a)(e))throw new o.a("heading is required");if(!Object(r.a)(t))throw new o.a("pitch is required");if(!Object(r.a)(i))throw new o.a("roll is required");return Object(r.a)(a)||(a=new n),a.heading=e*s.a.RADIANS_PER_DEGREE,a.pitch=t*s.a.RADIANS_PER_DEGREE,a.roll=i*s.a.RADIANS_PER_DEGREE,a},n.clone=function(e,t){if(Object(r.a)(e))return Object(r.a)(t)?(t.heading=e.heading,t.pitch=e.pitch,t.roll=e.roll,t):new n(e.heading,e.pitch,e.roll)},n.equals=function(e,t){return e===t||Object(r.a)(e)&&Object(r.a)(t)&&e.heading===t.heading&&e.pitch===t.pitch&&e.roll===t.roll},n.equalsEpsilon=function(e,t,i,n){return e===t||Object(r.a)(e)&&Object(r.a)(t)&&s.a.equalsEpsilon(e.heading,t.heading,i,n)&&s.a.equalsEpsilon(e.pitch,t.pitch,i,n)&&s.a.equalsEpsilon(e.roll,t.roll,i,n)},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t,i){return n.equalsEpsilon(this,e,t,i)},n.prototype.toString=function(){return"("+this.heading+", "+this.pitch+", "+this.roll+")"},t.a=n},7687:function(e,t,i){"use strict";function n(e,t,i,n,a){return{configurable:n,get:function(){return this[t]},set:function(n){var r=this[t],o=this[i];Object(s.a)(o)&&(o(),this[i]=void 0),!(void 0!==n)||Object(s.a)(n)&&Object(s.a)(n.getValue)||!Object(s.a)(a)||(n=a(n)),r!==n&&(this[t]=n,this._definitionChanged.raiseEvent(this,e,n,r)),Object(s.a)(n)&&Object(s.a)(n.definitionChanged)&&(this[i]=n.definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this,e,n,n)},this))}}}function a(e){return new c.a(e)}function r(e,t,i){return n(e,"_"+e.toString(),"_"+e.toString()+"Subscription",Object(o.a)(t,!1),Object(o.a)(i,a))}var o=i("5A4e"),s=i("xC6Q"),c=i("53NE");t.a=r},"76UX":function(e,t,i){"use strict";var n="undefined"!=typeof Symbol&&Symbol,a=i("9MlZ");e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&a())))}},"76lF":function(e,t,i){"use strict";t.a="\nfloat czm_sampleShadowMap(samplerCube shadowMap, vec3 d)\n{\n    return czm_unpackDepth(textureCube(shadowMap, d));\n}\n\nfloat czm_sampleShadowMap(sampler2D shadowMap, vec2 uv)\n{\n#ifdef USE_SHADOW_DEPTH_TEXTURE\n    return texture2D(shadowMap, uv).r;\n#else\n    return czm_unpackDepth(texture2D(shadowMap, uv));\n#endif\n}\n\nfloat czm_shadowDepthCompare(samplerCube shadowMap, vec3 uv, float depth)\n{\n    return step(depth, czm_sampleShadowMap(shadowMap, uv));\n}\n\nfloat czm_shadowDepthCompare(sampler2D shadowMap, vec2 uv, float depth)\n{\n    return step(depth, czm_sampleShadowMap(shadowMap, uv));\n}\n"},"77Pl":function(e,t,i){var n=i("EqjI");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},"7D+A":function(e,t,i){"use strict";function n(e,t,i){this.readyImagery=void 0,this.loadingImagery=e,this.textureCoordinateRectangle=t,this.textureTranslationAndScale=void 0,this.useWebMercatorT=i}var a=i("xC6Q"),r=i("l1tn");n.prototype.freeResources=function(){Object(a.a)(this.readyImagery)&&this.readyImagery.releaseReference(),Object(a.a)(this.loadingImagery)&&this.loadingImagery.releaseReference()},n.prototype.processStateMachine=function(e,t,i){var n=this.loadingImagery,o=n.imageryLayer;if(n.processStateMachine(t,!this.useWebMercatorT,i),n.state===r.a.READY)return Object(a.a)(this.readyImagery)&&this.readyImagery.releaseReference(),this.readyImagery=this.loadingImagery,this.loadingImagery=void 0,this.textureTranslationAndScale=o._calculateTextureTranslationAndScale(e,this),!0;for(var s,c=n.parent;Object(a.a)(c)&&(c.state!==r.a.READY||!this.useWebMercatorT&&!Object(a.a)(c.texture));)c.state!==r.a.FAILED&&c.state!==r.a.INVALID&&(s=s||c),c=c.parent;return this.readyImagery!==c&&(Object(a.a)(this.readyImagery)&&this.readyImagery.releaseReference(),this.readyImagery=c,Object(a.a)(c)&&(c.addReference(),this.textureTranslationAndScale=o._calculateTextureTranslationAndScale(e,this))),(n.state===r.a.FAILED||n.state===r.a.INVALID)&&(!Object(a.a)(s)||(s.processStateMachine(t,!this.useWebMercatorT,i),!1))},t.a=n},"7Hyf":function(e,t,i){"use strict";function n(e){function t(t){var i;try{i=JSON.parse(t)}catch(e){i=JSON.parse(t.replace(/([\[\{,])[\n\r ]*([A-Za-z0-9]+)[\n\r ]*:/g,'$1"$2":'))}for(var n,r=0;r<i.layers.length;r++)if(i.layers[r].id===w._channel){n=i.layers[r];break}var o;if(!Object(c.a)(n))throw o="Could not find layer with channel (id) of "+w._channel+".",y=m.a.handleError(y,w,w._errorEvent,o,void 0,void 0,void 0,a),new p.a(o);if(!Object(c.a)(n.version))throw o="Could not find a version in channel (id) "+w._channel+".",y=m.a.handleError(y,w,w._errorEvent,o,void 0,void 0,void 0,a),new p.a(o);if(w._version=n.version,Object(c.a)(i.projection)&&"flat"===i.projection)w._tilingScheme=new h.a({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new d.a(-Math.PI,-Math.PI,Math.PI,Math.PI),ellipsoid:e.ellipsoid});else{if(Object(c.a)(i.projection)&&"mercator"!==i.projection)throw o="Unsupported projection "+i.projection+".",y=m.a.handleError(y,w,w._errorEvent,o,void 0,void 0,void 0,a),new p.a(o);w._tilingScheme=new g.a({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,ellipsoid:e.ellipsoid})}w._ready=!0,w._readyPromise.resolve(!0),m.a.handleSuccess(y)}function i(e){var t="An error occurred while accessing "+O.url+".";y=m.a.handleError(y,w,w._errorEvent,t,void 0,void 0,void 0,a),w._readyPromise.reject(new p.a(t))}function a(){var e=O.fetchText();Object(_.a)(e,t,i)}if(e=Object(s.a)(e,{}),!Object(c.a)(e.url))throw new l.a("options.url is required.");if(!Object(c.a)(e.channel))throw new l.a("options.channel is required.");var r=e.url,v=Object(s.a)(e.path,"/default_map"),b=f.a.createIfNeeded(r).getDerivedResource({url:"/"===v[0]?v.substring(1):v});b.appendForwardSlash(),this._resource=b,this._url=r,this._path=v,this._tileDiscardPolicy=e.tileDiscardPolicy,this._channel=e.channel,this._requestType="ImageryMaps",this._credit=new o.a('<a href="http://www.google.com/enterprise/mapsearth/products/earthenterprise.html"><img src="'+n.logoUrl+'" title="Google Imagery"/></a>'),this.defaultGamma=1.9,this._tilingScheme=void 0,this._version=void 0,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=e.maximumLevel,this._errorEvent=new u.a,this._ready=!1,this._readyPromise=_.a.defer();var y,O=b.getDerivedResource({url:"query",queryParameters:{request:"Json",vars:"geeServerDefs",is2d:"t"}}),w=this;a()}var a=i("CcV0"),r=i("5F4X"),o=i("ODTd"),s=i("5A4e"),c=i("xC6Q"),l=i("PzDm"),u=i("W6xh"),h=i("4MnW"),d=i("Wq1U"),f=i("rMjQ"),p=i("V22k"),m=i("M1To"),g=i("Y4y7"),_=i("S7OP"),v=i("1eBa");Object.defineProperties(n.prototype,{url:{get:function(){return this._url}},path:{get:function(){return this._path}},proxy:{get:function(){return this._resource.proxy}},channel:{get:function(){return this._channel}},tileWidth:{get:function(){if(!this._ready)throw new l.a("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this._ready)throw new l.a("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this._ready)throw new l.a("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},minimumLevel:{get:function(){if(!this._ready)throw new l.a("minimumLevel must not be called before the imagery provider is ready.");return 0}},tilingScheme:{get:function(){if(!this._ready)throw new l.a("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},version:{get:function(){if(!this._ready)throw new l.a("version must not be called before the imagery provider is ready.");return this._version}},requestType:{get:function(){if(!this._ready)throw new l.a("requestType must not be called before the imagery provider is ready.");return this._requestType}},rectangle:{get:function(){if(!this._ready)throw new l.a("rectangle must not be called before the imagery provider is ready.");return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){if(!this._ready)throw new l.a("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),n.prototype.getTileCredits=function(e,t,i){},n.prototype.requestImage=function(e,t,i,n){if(!this._ready)throw new l.a("requestImage must not be called before the imagery provider is ready.");var a=this._resource.getDerivedResource({url:"query",request:n,queryParameters:{request:this._requestType,channel:this._channel,version:this._version,x:e,y:t,z:i+1}});return v.a.loadImage(this,a)},n.prototype.pickFeatures=function(e,t,i,n,a){},n._logoUrl=void 0,Object.defineProperties(n,{logoUrl:{get:function(){return Object(c.a)(n._logoUrl)||(n._logoUrl=Object(a.a)("Assets/Images/google_earth_credit.png")),n._logoUrl},set:function(e){r.a.defined("value",e),n._logoUrl=e}}}),t.a=n},"7IeB":function(e,t,i){"use strict";function n(e){e=Object(U.a)(e,U.a.EMPTY_OBJECT);var t=e.context;if(!Object(V.a)(t))throw new q.a("context is required.");if(!Object(V.a)(e.lightCamera))throw new q.a("lightCamera is required.");if(Object(V.a)(e.numberOfCascades)&&1!==e.numberOfCascades&&4!==e.numberOfCascades)throw new q.a("Only one or four cascades are supported.");this._enabled=Object(U.a)(e.enabled,!0),this._softShadows=Object(U.a)(e.softShadows,!1),this._normalOffset=Object(U.a)(e.normalOffset,!0),this.dirty=!0,this.fromLightSource=Object(U.a)(e.fromLightSource,!0),this.darkness=Object(U.a)(e.darkness,.3),this._darkness=this.darkness,this.maximumDistance=Object(U.a)(e.maximumDistance,5e3),this._outOfView=!1,this._outOfViewPrevious=!1,this._needsUpdate=!0;var i=!0;(W.a.isInternetExplorer()||W.a.isEdge()||(W.a.isChrome()||W.a.isFirefox())&&W.a.isWindows()&&!t.depthTexture)&&(i=!1),this._polygonOffsetSupported=i,this._terrainBias={polygonOffset:i,polygonOffsetFactor:1.1,polygonOffsetUnits:4,normalOffset:this._normalOffset,normalOffsetScale:.5,normalShading:!0,normalShadingSmooth:.3,depthBias:1e-4},this._primitiveBias={polygonOffset:i,polygonOffsetFactor:1.1,polygonOffsetUnits:4,normalOffset:this._normalOffset,normalOffsetScale:.1,normalShading:!0,normalShadingSmooth:.05,depthBias:2e-5},this._pointBias={polygonOffset:!1,polygonOffsetFactor:1.1,polygonOffsetUnits:4,normalOffset:this._normalOffset,normalOffsetScale:0,normalShading:!0,normalShadingSmooth:.1,depthBias:5e-4},this._depthAttachment=void 0,this._colorAttachment=void 0,this._shadowMapMatrix=new Q.a,this._shadowMapTexture=void 0,this._lightDirectionEC=new R.a,this._lightPositionEC=new M.a,this._distance=0,this._lightCamera=e.lightCamera,this._shadowMapCamera=new O,this._shadowMapCullingVolume=void 0,this._sceneCamera=void 0,this._boundingSphere=new P.a,this._isPointLight=Object(U.a)(e.isPointLight,!1),this._pointLightRadius=Object(U.a)(e.pointLightRadius,100),this._cascadesEnabled=!this._isPointLight&&Object(U.a)(e.cascadesEnabled,!0),this._numberOfCascades=this._cascadesEnabled?Object(U.a)(e.numberOfCascades,4):0,this._fitNearFar=!0,this._maximumCascadeDistances=[25,150,700,Number.MAX_VALUE],this._textureSize=new I.a,this._isSpotLight=!1,this._cascadesEnabled?this._shadowMapCamera.frustum=new J.a:Object(V.a)(this._lightCamera.frustum.fov)&&(this._isSpotLight=!0),this._cascadeSplits=[new M.a,new M.a],this._cascadeMatrices=[new Q.a,new Q.a,new Q.a,new Q.a],this._cascadeDistances=new M.a;var n;n=this._isPointLight?6:this._cascadesEnabled?this._numberOfCascades:1,this._passes=new Array(n);for(var r=0;r<n;++r)this._passes[r]=new a(t);this.debugShow=!1,this.debugFreezeFrame=!1,this._debugFreezeFrame=!1,this._debugCascadeColors=!1,this._debugLightFrustum=void 0,this._debugCameraFrustum=void 0,this._debugCascadeFrustums=new Array(this._numberOfCascades),this._debugShadowViewCommand=void 0,this._usesDepthTexture=t.depthTexture,this._isPointLight&&(this._usesDepthTexture=!1),this._primitiveRenderState=void 0,this._terrainRenderState=void 0,this._pointRenderState=void 0,o(this),this._clearCommand=new ie.a({depth:1,color:new F.a}),this._clearPassState=new ce.a(t),this._size=Object(U.a)(e.size,2048),this.size=this._size}function a(e){this.camera=new O,this.passState=new ce.a(e),this.framebuffer=void 0,this.textureOffsets=void 0,this.commandList=[],this.cullingVolume=void 0}function r(e,t){return de.a.fromCache({cull:{enabled:!0,face:be.a.BACK},depthTest:{enabled:!0},colorMask:{red:e,green:e,blue:e,alpha:e},depthMask:!0,polygonOffset:{enabled:t.polygonOffset,factor:t.polygonOffsetFactor,units:t.polygonOffsetUnits}})}function o(e){var t=!e._usesDepthTexture;e._primitiveRenderState=r(t,e._primitiveBias),e._terrainRenderState=r(t,e._terrainBias),e._pointRenderState=r(t,e._pointBias)}function s(e){for(var t=e._passes.length,i=0;i<t;++i){var n=e._passes[i],a=n.framebuffer;Object(V.a)(a)&&!a.isDestroyed()&&a.destroy(),n.framebuffer=void 0}e._depthAttachment=e._depthAttachment&&e._depthAttachment.destroy(),e._colorAttachment=e._colorAttachment&&e._colorAttachment.destroy()}function c(){return new fe.a({wrapS:_e.a.CLAMP_TO_EDGE,wrapT:_e.a.CLAMP_TO_EDGE,minificationFilter:ge.a.NEAREST,magnificationFilter:me.a.NEAREST})}function l(e,t){for(var i=new ue.a({context:t,width:e._textureSize.x,height:e._textureSize.y,format:he.a.DEPTH_COMPONENT16}),n=new pe.a({context:t,width:e._textureSize.x,height:e._textureSize.y,pixelFormat:K.a.RGBA,pixelDatatype:le.a.UNSIGNED_BYTE,sampler:c()}),a=new oe.a({context:t,depthRenderbuffer:i,colorTextures:[n],destroyAttachments:!1}),r=e._passes.length,o=0;o<r;++o){var s=e._passes[o];s.framebuffer=a,s.passState.framebuffer=a}e._shadowMapTexture=n,e._depthAttachment=i,e._colorAttachment=n}function u(e,t){for(var i=new pe.a({context:t,width:e._textureSize.x,height:e._textureSize.y,pixelFormat:K.a.DEPTH_STENCIL,pixelDatatype:le.a.UNSIGNED_INT_24_8,sampler:c()}),n=new oe.a({context:t,depthStencilTexture:i,destroyAttachments:!1}),a=e._passes.length,r=0;r<a;++r){var o=e._passes[r];o.framebuffer=n,o.passState.framebuffer=n}e._shadowMapTexture=i,e._depthAttachment=i}function h(e,t){for(var i=new ue.a({context:t,width:e._textureSize.x,height:e._textureSize.y,format:he.a.DEPTH_COMPONENT16}),n=new ae.a({context:t,width:e._textureSize.x,height:e._textureSize.y,pixelFormat:K.a.RGBA,pixelDatatype:le.a.UNSIGNED_BYTE,sampler:c()}),a=[n.negativeX,n.negativeY,n.negativeZ,n.positiveX,n.positiveY,n.positiveZ],r=0;r<6;++r){var o=new oe.a({context:t,depthRenderbuffer:i,colorTextures:[a[r]],destroyAttachments:!1}),s=e._passes[r];s.framebuffer=o,s.passState.framebuffer=o}e._shadowMapTexture=n,e._depthAttachment=i,e._colorAttachment=n}function d(e,t){e._isPointLight?h(e,t):e._usesDepthTexture?u(e,t):l(e,t)}function f(e,t){e._usesDepthTexture&&e._passes[0].framebuffer.status!==te.a.FRAMEBUFFER_COMPLETE&&(e._usesDepthTexture=!1,o(e),s(e),d(e,t))}function p(e,t){Object(V.a)(e._passes[0].framebuffer)&&e._shadowMapTexture.width===e._textureSize.x||(s(e),d(e,t),f(e,t),m(e,t))}function m(e,t,i){i=Object(U.a)(i,0),(e._isPointLight||0===i)&&(e._clearCommand.framebuffer=e._passes[i].framebuffer,e._clearCommand.execute(t,e._clearPassState))}function g(e,t){e._size=t;var i=e._passes,n=i.length,a=e._textureSize;if(e._isPointLight){t=ne.a.maximumCubeMapSize>=t?t:ne.a.maximumCubeMapSize,a.x=t,a.y=t;var r=new j.a(0,0,t,t);i[0].passState.viewport=r,i[1].passState.viewport=r,i[2].passState.viewport=r,i[3].passState.viewport=r,i[4].passState.viewport=r,i[5].passState.viewport=r}else 1===n?(t=ne.a.maximumTextureSize>=t?t:ne.a.maximumTextureSize,a.x=t,a.y=t,i[0].passState.viewport=new j.a(0,0,t,t)):4===n&&(t=ne.a.maximumTextureSize>=2*t?t:ne.a.maximumTextureSize/2,a.x=2*t,a.y=2*t,i[0].passState.viewport=new j.a(0,0,t,t),i[1].passState.viewport=new j.a(t,0,t,t),i[2].passState.viewport=new j.a(0,t,t,t),i[3].passState.viewport=new j.a(t,t,t,t));e._clearPassState.viewport=new j.a(0,0,a.x,a.y);for(var o=0;o<n;++o){var s=i[o],c=s.passState.viewport,l=c.x/a.x,u=c.y/a.y,h=c.width/a.x,d=c.height/a.y;s.textureOffsets=new Q.a(h,0,0,l,0,d,0,u,0,0,1,0,0,0,0,1)}}function _(e,t){var i;i=e._isPointLight?"uniform samplerCube shadowMap_textureCube; \nvarying vec2 v_textureCoordinates; \nvoid main() \n{ \n    vec2 uv = v_textureCoordinates; \n    vec3 dir; \n \n    if (uv.y < 0.5) \n    { \n        if (uv.x < 0.333) \n        { \n            dir.x = -1.0; \n            dir.y = uv.x * 6.0 - 1.0; \n            dir.z = uv.y * 4.0 - 1.0; \n        } \n        else if (uv.x < 0.666) \n        { \n            dir.y = -1.0; \n            dir.x = uv.x * 6.0 - 3.0; \n            dir.z = uv.y * 4.0 - 1.0; \n        } \n        else \n        { \n            dir.z = -1.0; \n            dir.x = uv.x * 6.0 - 5.0; \n            dir.y = uv.y * 4.0 - 1.0; \n        } \n    } \n    else \n    { \n        if (uv.x < 0.333) \n        { \n            dir.x = 1.0; \n            dir.y = uv.x * 6.0 - 1.0; \n            dir.z = uv.y * 4.0 - 3.0; \n        } \n        else if (uv.x < 0.666) \n        { \n            dir.y = 1.0; \n            dir.x = uv.x * 6.0 - 3.0; \n            dir.z = uv.y * 4.0 - 3.0; \n        } \n        else \n        { \n            dir.z = 1.0; \n            dir.x = uv.x * 6.0 - 5.0; \n            dir.y = uv.y * 4.0 - 3.0; \n        } \n    } \n \n    float shadow = czm_unpackDepth(textureCube(shadowMap_textureCube, dir)); \n    gl_FragColor = vec4(vec3(shadow), 1.0); \n} \n":"uniform sampler2D shadowMap_texture; \nvarying vec2 v_textureCoordinates; \nvoid main() \n{ \n"+(e._usesDepthTexture?"    float shadow = texture2D(shadowMap_texture, v_textureCoordinates).r; \n":"    float shadow = czm_unpackDepth(texture2D(shadowMap_texture, v_textureCoordinates)); \n")+"    gl_FragColor = vec4(vec3(shadow), 1.0); \n} \n";var n=t.createViewportQuadCommand(i,{uniformMap:{shadowMap_texture:function(){return e._shadowMapTexture},shadowMap_textureCube:function(){return e._shadowMapTexture}}});return n.pass=se.a.OVERLAY,n}function v(e,t){var i=t.context,n=t.context.drawingBufferWidth,a=t.context.drawingBufferHeight,r=.3*Math.min(n,a),o=Ee;o.x=n-r,o.y=0,o.width=r,o.height=r;var s=e._debugShadowViewCommand;Object(V.a)(s)||(s=_(e,i),e._debugShadowViewCommand=s),Object(V.a)(s.renderState)&&j.a.equals(s.renderState.viewport,o)||(s.renderState=de.a.fromCache({viewport:j.a.clone(o)})),t.commandList.push(e._debugShadowViewCommand)}function b(e,t){var i=new G.a({geometry:new D.a({minimum:new R.a(-.5,-.5,-.5),maximum:new R.a(.5,.5,.5)}),attributes:{color:z.a.fromColor(t)}}),n=new G.a({geometry:new ee.a({radius:.5}),attributes:{color:z.a.fromColor(t)}});return new we.a({geometryInstances:[i,n],appearance:new Oe.a({translucent:!1,flat:!0}),asynchronous:!1,modelMatrix:e})}function y(e,t){v(e,t);var i=e.debugFreezeFrame&&!e._debugFreezeFrame;if(e._debugFreezeFrame=e.debugFreezeFrame,e.debugFreezeFrame&&(i&&(e._debugCameraFrustum=e._debugCameraFrustum&&e._debugCameraFrustum.destroy(),e._debugCameraFrustum=new ye.a({camera:e._sceneCamera,color:F.a.CYAN,updateOnChange:!1})),e._debugCameraFrustum.update(t)),e._cascadesEnabled){if(e.debugFreezeFrame){i&&(e._debugLightFrustum=e._debugLightFrustum&&e._debugLightFrustum.destroy(),e._debugLightFrustum=new ye.a({camera:e._shadowMapCamera,color:F.a.YELLOW,updateOnChange:!1})),e._debugLightFrustum.update(t);for(var n=0;n<e._numberOfCascades;++n)i&&(e._debugCascadeFrustums[n]=e._debugCascadeFrustums[n]&&e._debugCascadeFrustums[n].destroy(),e._debugCascadeFrustums[n]=new ye.a({camera:e._passes[n].camera,color:je[n],updateOnChange:!1})),e._debugCascadeFrustums[n].update(t)}}else if(e._isPointLight){if(!Object(V.a)(e._debugLightFrustum)||e._needsUpdate){var a=e._shadowMapCamera.positionWC,r=$.a.IDENTITY,o=2*e._pointLightRadius,s=R.a.fromElements(o,o,o,Pe),c=Q.a.fromTranslationQuaternionRotationScale(a,r,s,Ae);e._debugLightFrustum=e._debugLightFrustum&&e._debugLightFrustum.destroy(),e._debugLightFrustum=b(c,F.a.YELLOW)}e._debugLightFrustum.update(t)}else Object(V.a)(e._debugLightFrustum)&&!e._needsUpdate||(e._debugLightFrustum=new ye.a({camera:e._shadowMapCamera,color:F.a.YELLOW,updateOnChange:!1})),e._debugLightFrustum.update(t)}function O(){this.viewMatrix=new Q.a,this.inverseViewMatrix=new Q.a,this.frustum=void 0,this.positionCartographic=new L.a,this.positionWC=new R.a,this.directionWC=R.a.clone(R.a.UNIT_Z),this.upWC=R.a.clone(R.a.UNIT_Y),this.rightWC=R.a.clone(R.a.UNIT_X),this.viewProjectionMatrix=new Q.a}function w(e,t){var i,n=e._shadowMapCamera,a=e._sceneCamera,r=a.frustum.near,o=a.frustum.far,s=e._numberOfCascades,c=o-r,l=o/r,u=.9,h=!1;t.shadowState.closestObjectSize<200&&(h=!0,u=.9);var d=Me,f=Ie;for(f[0]=r,f[s]=o,i=0;i<s;++i){var p=(i+1)/s,m=r*Math.pow(l,p),g=r+c*p,_=X.a.lerp(g,m,u);f[i+1]=_,d[i]=_-f[i]}if(h){for(i=0;i<s;++i)d[i]=Math.min(d[i],e._maximumCascadeDistances[i]);var v=f[0];for(i=0;i<s-1;++i)v+=d[i],f[i+1]=v}M.a.unpack(f,0,e._cascadeSplits[0]),M.a.unpack(f,1,e._cascadeSplits[1]),M.a.unpack(d,0,e._cascadeDistances);var b=n.frustum,y=b.left,O=b.right,w=b.bottom,x=b.top,E=b.near,T=b.far,A=n.positionWC,C=n.directionWC,S=n.upWC,j=a.frustum.clone(Re),P=n.getViewProjection();for(i=0;i<s;++i){j.near=f[i],j.far=f[i+1];for(var D=Q.a.multiply(j.projectionMatrix,a.viewMatrix,Ae),I=Q.a.inverse(D,Ae),L=Q.a.multiply(P,I,Ae),N=R.a.fromElements(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,Le),F=R.a.fromElements(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE,Ne),z=0;z<8;++z){var B=M.a.clone(Te[z],Ce[z]);Q.a.multiplyByVector(L,B,B),R.a.divideByScalar(B,B.w,B),R.a.minimumByComponent(B,N,N),R.a.maximumByComponent(B,F,F)}N.x=Math.max(N.x,0),N.y=Math.max(N.y,0),N.z=0,F.x=Math.min(F.x,1),F.y=Math.min(F.y,1),F.z=Math.min(F.z,1);var k=e._passes[i],U=k.camera;U.clone(n);var V=U.frustum;V.left=y+N.x*(O-y),V.right=y+F.x*(O-y),V.bottom=w+N.y*(x-w),V.top=w+F.y*(x-w),V.near=E+N.z*(T-E),V.far=E+F.z*(T-E),k.cullingVolume=U.frustum.computeCullingVolume(A,C,S);var H=e._cascadeMatrices[i];Q.a.multiply(U.getViewProjection(),a.inverseViewMatrix,H),Q.a.multiply(k.textureOffsets,H,H)}}function x(e,t){var i=e._shadowMapCamera,n=e._sceneCamera,a=Q.a.multiply(n.frustum.projectionMatrix,n.viewMatrix,Ae),r=Q.a.inverse(a,Ae),o=i.directionWC,s=n.directionWC;R.a.equalsEpsilon(o,s,X.a.EPSILON10)&&(s=n.upWC);var c=R.a.cross(o,s,ze);s=R.a.cross(c,o,Be),R.a.normalize(s,s),R.a.normalize(c,c);for(var l=R.a.fromElements(0,0,0,ke),u=Q.a.computeView(l,o,s,c,Fe),h=Q.a.multiply(u,r,Ae),d=R.a.fromElements(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,Le),f=R.a.fromElements(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE,Ne),p=0;p<8;++p){var m=M.a.clone(Te[p],Ce[p]);Q.a.multiplyByVector(h,m,m),R.a.divideByScalar(m,m.w,m),R.a.minimumByComponent(m,d,d),R.a.maximumByComponent(m,f,f)}f.z+=1e3,d.z-=10;var g=ke;g.x=-.5*(d.x+f.x),g.y=-.5*(d.y+f.y),g.z=-f.z;var _=Q.a.fromTranslation(g,Ae);u=Q.a.multiply(_,u,u);var v=.5*(f.x-d.x),b=.5*(f.y-d.y),y=f.z-d.z,O=i.frustum;O.left=-v,O.right=v,O.bottom=-b,O.top=b,O.near=.01,O.far=y,Q.a.clone(u,i.viewMatrix),Q.a.inverse(u,i.inverseViewMatrix),Q.a.getTranslation(i.inverseViewMatrix,i.positionWC),t.mapProjection.ellipsoid.cartesianToCartographic(i.positionWC,i.positionCartographic),R.a.clone(o,i.directionWC),R.a.clone(s,i.upWC),R.a.clone(c,i.rightWC)}function E(e,t){var i=new Z.a;i.fov=X.a.PI_OVER_TWO,i.near=1,i.far=e._pointLightRadius,i.aspectRatio=1;for(var n=0;n<6;++n){var a=e._passes[n].camera;a.positionWC=e._shadowMapCamera.positionWC,a.positionCartographic=t.mapProjection.ellipsoid.cartesianToCartographic(a.positionWC,a.positionCartographic),a.directionWC=Ue[n],a.upWC=Ve[n],a.rightWC=He[n],Q.a.computeView(a.positionWC,a.directionWC,a.upWC,a.rightWC,a.viewMatrix),Q.a.inverse(a.viewMatrix,a.inverseViewMatrix),a.frustum=i}}function T(e,t){var i=e._sceneCamera,n=e._shadowMapCamera,a=Ge;if(e._cascadesEnabled){if(i.frustum.near>=e.maximumDistance)return e._outOfView=!0,void(e._needsUpdate=!1);var r=t.mapProjection.ellipsoid.geodeticSurfaceNormal(i.positionWC,qe),o=R.a.negate(n.directionWC,We),s=R.a.dot(r,o),c=X.a.clamp(s/.1,0,1);if(e._darkness=X.a.lerp(1,e.darkness,c),s<0)return e._outOfView=!0,void(e._needsUpdate=!1);e._needsUpdate=!0,e._outOfView=!1}else if(e._isPointLight)a.center=n.positionWC,a.radius=e._pointLightRadius,e._outOfView=t.cullingVolume.computeVisibility(a)===Y.a.OUTSIDE,e._needsUpdate=!e._outOfView&&!e._boundingSphere.equals(a),P.a.clone(a,e._boundingSphere);else{var l=n.frustum.far/2,u=R.a.add(n.positionWC,R.a.multiplyByScalar(n.directionWC,l,Ye),Ye);a.center=u,a.radius=l,e._outOfView=t.cullingVolume.computeVisibility(a)===Y.a.OUTSIDE,e._needsUpdate=!e._outOfView&&!e._boundingSphere.equals(a),P.a.clone(a,e._boundingSphere)}}function A(e,t){var i=t.camera,n=e._lightCamera,a=e._sceneCamera,r=e._shadowMapCamera;e._cascadesEnabled?R.a.clone(n.directionWC,r.directionWC):e._isPointLight?R.a.clone(n.positionWC,r.positionWC):r.clone(n);var o=e._lightDirectionEC;Q.a.multiplyByPointAsVector(i.viewMatrix,r.directionWC,o),R.a.normalize(o,o),R.a.negate(o,o),Q.a.multiplyByPoint(i.viewMatrix,r.positionWC,e._lightPositionEC),e._lightPositionEC.w=e._pointLightRadius;var s,c;e._fitNearFar?(s=Math.min(t.shadowState.nearPlane,e.maximumDistance),c=Math.min(t.shadowState.farPlane,e.maximumDistance+1)):(s=i.frustum.near,c=e.maximumDistance),e._sceneCamera=ve.a.clone(i,a),i.frustum.clone(e._sceneCamera.frustum),e._sceneCamera.frustum.near=s,e._sceneCamera.frustum.far=c,e._distance=c-s,T(e,t),!e._outOfViewPrevious&&e._outOfView&&(e._needsUpdate=!0),e._outOfViewPrevious=e._outOfView}function C(e,t,i){var n=e._isPointLight?e._pointBias:i?e._terrainBias:e._primitiveBias,a={shadowMap_texture:function(){return e._shadowMapTexture},shadowMap_textureCube:function(){return e._shadowMapTexture},shadowMap_matrix:function(){return e._shadowMapMatrix},shadowMap_cascadeSplits:function(){return e._cascadeSplits},shadowMap_cascadeMatrices:function(){return e._cascadeMatrices},shadowMap_lightDirectionEC:function(){return e._lightDirectionEC},shadowMap_lightPositionEC:function(){return e._lightPositionEC},shadowMap_cascadeDistances:function(){return e._cascadeDistances},shadowMap_texelSizeDepthBiasAndNormalShadingSmooth:function(){var t=Xe;return t.x=1/e._textureSize.x,t.y=1/e._textureSize.y,M.a.fromElements(t.x,t.y,n.depthBias,n.normalShadingSmooth,this.combinedUniforms1)},shadowMap_normalOffsetScaleDistanceMaxDistanceAndDarkness:function(){return M.a.fromElements(n.normalOffsetScale,e._distance,e.maximumDistance,e._darkness,this.combinedUniforms2)},combinedUniforms1:new M.a,combinedUniforms2:new M.a};return Object(B.a)(t,a,!1)}function S(e,t,i,n,a,r){var o,s,c;if(Object(V.a)(r)&&(o=r.shaderProgram,s=r.renderState,c=r.uniformMap),r=re.a.shallowClone(i,r),r.castShadows=!0,r.receiveShadows=!1,!Object(V.a)(o)||a!==i.shaderProgram.id||t){var l=i.shaderProgram,u=i.pass===se.a.GLOBE,h=i.pass!==se.a.TRANSLUCENT,d=e._isPointLight,f=e._usesDepthTexture,p=xe.a.getShadowCastShaderKeyword(d,u,f,h);if(o=n.shaderCache.getDerivedShaderProgram(l,p),!Object(V.a)(o)){var m=l.vertexShaderSource,g=l.fragmentShaderSource,_=xe.a.createShadowCastVertexShader(m,d,u),v=xe.a.createShadowCastFragmentShader(g,d,f,h);o=n.shaderCache.createDerivedShaderProgram(l,p,{vertexShaderSource:_,fragmentShaderSource:v,attributeLocations:l._attributeLocations})}s=e._primitiveRenderState,d?s=e._pointRenderState:u&&(s=e._terrainRenderState);i.renderState.cull.enabled||(s=Object(N.a)(s,!1),s.cull=Object(N.a)(s.cull,!1),s.cull.enabled=!1,s=de.a.fromCache(s)),c=C(e,i.uniformMap,u)}return r.shaderProgram=o,r.renderState=s,r.uniformMap=c,r}var j=i("or8k"),P=i("lBr9"),D=i("W3jk"),I=i("Ss9j"),R=i("Jj+J"),M=i("PDkd"),L=i("I3GD"),N=i("wv0P"),F=i("6F0S"),z=i("devy"),B=i("ZboF"),k=i("XHlg"),U=i("5A4e"),V=i("xC6Q"),H=i("6sr8"),q=i("PzDm"),W=i("gjtw"),G=i("izcu"),Y=i("u909"),X=i("fq+p"),Q=i("Xjii"),J=i("rpO5"),Z=i("MYGk"),K=i("FhYh"),$=i("q/xW"),ee=i("+VVU"),te=i("1L1F"),ie=i("/DUn"),ne=i("J1no"),ae=i("VvLh"),re=i("1mJh"),oe=i("YyWD"),se=i("M0+0"),ce=i("o12a"),le=i("HvCH"),ue=i("oosW"),he=i("TkhT"),de=i("DrvA"),fe=i("l0BX"),pe=i("25X5"),me=i("YKq0"),ge=i("z2iY"),_e=i("L4GL"),ve=i("St4O"),be=i("3fQz"),ye=i("oiLF"),Oe=i("BOJj"),we=i("0df4"),xe=i("FeGa");n.MAXIMUM_DISTANCE=2e4,n.prototype.debugCreateRenderStates=function(){o(this)},Object.defineProperties(n.prototype,{enabled:{get:function(){return this._enabled},set:function(e){this.dirty=this._enabled!==e,this._enabled=e}},normalOffset:{get:function(){return this._normalOffset},set:function(e){this.dirty=this._normalOffset!==e,this._normalOffset=e,this._terrainBias.normalOffset=e,this._primitiveBias.normalOffset=e,this._pointBias.normalOffset=e}},softShadows:{get:function(){return this._softShadows},set:function(e){this.dirty=this._softShadows!==e,this._softShadows=e}},size:{get:function(){return this._size},set:function(e){g(this,e)}},outOfView:{get:function(){return this._outOfView}},shadowMapCullingVolume:{get:function(){return this._shadowMapCullingVolume}},passes:{get:function(){return this._passes}},isPointLight:{get:function(){return this._isPointLight}},debugCascadeColors:{get:function(){return this._debugCascadeColors},set:function(e){this.dirty=this._debugCascadeColors!==e,this._debugCascadeColors=e}}});var Ee=new j.a,Te=new Array(8);Te[0]=new M.a(-1,-1,-1,1),Te[1]=new M.a(1,-1,-1,1),Te[2]=new M.a(1,1,-1,1),Te[3]=new M.a(-1,1,-1,1),Te[4]=new M.a(-1,-1,1,1),Te[5]=new M.a(1,-1,1,1),Te[6]=new M.a(1,1,1,1),Te[7]=new M.a(-1,1,1,1);for(var Ae=new Q.a,Ce=new Array(8),Se=0;Se<8;++Se)Ce[Se]=new M.a;var je=[F.a.RED,F.a.GREEN,F.a.BLUE,F.a.MAGENTA],Pe=new R.a;O.prototype.clone=function(e){Q.a.clone(e.viewMatrix,this.viewMatrix),Q.a.clone(e.inverseViewMatrix,this.inverseViewMatrix),this.frustum=e.frustum.clone(this.frustum),L.a.clone(e.positionCartographic,this.positionCartographic),R.a.clone(e.positionWC,this.positionWC),R.a.clone(e.directionWC,this.directionWC),R.a.clone(e.upWC,this.upWC),R.a.clone(e.rightWC,this.rightWC)};var De=new Q.a(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);O.prototype.getViewProjection=function(){var e=this.viewMatrix,t=this.frustum.projectionMatrix;return Q.a.multiply(t,e,this.viewProjectionMatrix),Q.a.multiply(De,this.viewProjectionMatrix,this.viewProjectionMatrix),this.viewProjectionMatrix};var Ie=new Array(5),Re=new Z.a,Me=new Array(4),Le=new R.a,Ne=new R.a,Fe=new Q.a,ze=new R.a,Be=new R.a,ke=new R.a,Ue=[new R.a(-1,0,0),new R.a(0,-1,0),new R.a(0,0,-1),new R.a(1,0,0),new R.a(0,1,0),new R.a(0,0,1)],Ve=[new R.a(0,-1,0),new R.a(0,0,-1),new R.a(0,-1,0),new R.a(0,-1,0),new R.a(0,0,1),new R.a(0,-1,0)],He=[new R.a(0,0,1),new R.a(1,0,0),new R.a(-1,0,0),new R.a(0,0,-1),new R.a(1,0,0),new R.a(1,0,0)],qe=new R.a,We=new R.a,Ge=new P.a,Ye=Ge.center;n.prototype.update=function(e){if(A(this,e),this._needsUpdate)if(p(this,e.context),this._isPointLight&&E(this,e),this._cascadesEnabled&&(x(this,e),this._numberOfCascades>1&&w(this,e)),this._isPointLight)this._shadowMapCullingVolume=k.a.fromBoundingSphere(this._boundingSphere);else{var t=this._shadowMapCamera,i=t.positionWC,n=t.directionWC,a=t.upWC;this._shadowMapCullingVolume=t.frustum.computeCullingVolume(i,n,a),1===this._passes.length&&this._passes[0].camera.clone(t)}if(1===this._passes.length){var r=this._sceneCamera.inverseViewMatrix;Q.a.multiply(this._shadowMapCamera.getViewProjection(),r,this._shadowMapMatrix)}this.debugShow&&y(this,e)},n.prototype.updatePass=function(e,t){m(this,e,t)};var Xe=new I.a;n.createReceiveDerivedCommand=function(e,t,i,n,a){Object(V.a)(a)||(a={});var r=e.length>0,o=t.shaderProgram,s=o.vertexShaderSource,c=o.fragmentShaderSource,l=t.pass===se.a.GLOBE,u=!1;if(l&&(u=t.owner.data.renderedMesh.encoding.hasVertexNormals),t.receiveShadows&&r){var h,d;Object(V.a)(a.receiveCommand)&&(h=a.receiveCommand.shaderProgram,d=a.receiveCommand.uniformMap),a.receiveCommand=re.a.shallowClone(t,a.receiveCommand),a.castShadows=!1,a.receiveShadows=!0;var f=a.receiveShaderCastShadows!==t.castShadows,p=a.receiveShaderProgramId!==t.shaderProgram.id;if(!Object(V.a)(h)||p||i||f){var m=xe.a.getShadowReceiveShaderKeyword(e[0],t.castShadows,l,u);if(h=n.shaderCache.getDerivedShaderProgram(o,m),!Object(V.a)(h)){var g=xe.a.createShadowReceiveVertexShader(s,l,u),_=xe.a.createShadowReceiveFragmentShader(c,e[0],t.castShadows,l,u);h=n.shaderCache.createDerivedShaderProgram(o,m,{vertexShaderSource:g,fragmentShaderSource:_,attributeLocations:o._attributeLocations})}d=C(e[0],t.uniformMap,l)}a.receiveCommand.shaderProgram=h,a.receiveCommand.uniformMap=d,a.receiveShaderProgramId=t.shaderProgram.id,a.receiveShaderCastShadows=t.castShadows}return a},n.createCastDerivedCommand=function(e,t,i,n,a){if(Object(V.a)(a)||(a={}),t.castShadows){var r=a.castCommands;Object(V.a)(r)||(r=a.castCommands=[]);var o=a.castShaderProgramId,s=e.length;r.length=s;for(var c=0;c<s;++c)r[c]=S(e[c],i,t,n,o,r[c]);a.castShaderProgramId=t.shaderProgram.id}return a},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){s(this),this._debugLightFrustum=this._debugLightFrustum&&this._debugLightFrustum.destroy(),this._debugCameraFrustum=this._debugCameraFrustum&&this._debugCameraFrustum.destroy(),this._debugShadowViewCommand=this._debugShadowViewCommand&&this._debugShadowViewCommand.shaderProgram&&this._debugShadowViewCommand.shaderProgram.destroy();for(var e=0;e<this._numberOfCascades;++e)this._debugCascadeFrustums[e]=this._debugCascadeFrustums[e]&&this._debugCascadeFrustums[e].destroy();return Object(H.a)(this)},t.a=n},"7KvD":function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"7PaD":function(e,t,i){"use strict";function n(e,t,i,n){var a,r,o=e,s=t/3,c=i/3,l=n,u=o*c,h=s*l,d=s*s,f=c*c,p=o*c-d,m=o*l-s*c,g=s*l-f,_=4*p*g-m*m;if(_<0){var v,b,y;d*h>=u*f?(v=o,b=p,y=-2*s*p+o*m):(v=l,b=g,y=-l*m+2*c*g);var O=y<0?-1:1,w=-O*Math.abs(v)*Math.sqrt(-_);r=-y+w;var x=r/2,E=x<0?-Math.pow(-x,1/3):Math.pow(x,1/3),T=r===w?-E:-b/E;return a=b<=0?E+T:-y/(E*E+T*T+b),d*h>=u*f?[(a-s)/o]:[-l/(a+c)]}var A=p,C=-2*s*p+o*m,S=g,j=-l*m+2*c*g,P=Math.sqrt(_),D=Math.sqrt(3)/2,I=Math.abs(Math.atan2(o*P,-C)/3);a=2*Math.sqrt(-A);var R=Math.cos(I);r=a*R;var M=a*(-R/2-D*Math.sin(I)),L=r+M>2*s?r-s:M-s,N=o,F=L/N;I=Math.abs(Math.atan2(l*P,-j)/3),a=2*Math.sqrt(-S),R=Math.cos(I),r=a*R,M=a*(-R/2-D*Math.sin(I));var z=-l,B=r+M<2*c?r+c:M+c,k=z/B,U=N*B,V=-L*B-N*z,H=L*z,q=(c*V-s*H)/(-s*V+c*U);return F<=q?F<=k?q<=k?[F,q,k]:[F,k,q]:[k,F,q]:F<=k?[q,F,k]:q<=k?[q,k,F]:[k,q,F]}var a=i("PzDm"),r=i("VBo5"),o={};o.computeDiscriminant=function(e,t,i,n){if("number"!=typeof e)throw new a.a("a is a required number.");if("number"!=typeof t)throw new a.a("b is a required number.");if("number"!=typeof i)throw new a.a("c is a required number.");if("number"!=typeof n)throw new a.a("d is a required number.");var r=e*e,o=t*t,s=i*i;return 18*e*t*i*n+o*s-27*r*(n*n)-4*(e*s*i+o*t*n)},o.computeRealRoots=function(e,t,i,o){if("number"!=typeof e)throw new a.a("a is a required number.");if("number"!=typeof t)throw new a.a("b is a required number.");if("number"!=typeof i)throw new a.a("c is a required number.");if("number"!=typeof o)throw new a.a("d is a required number.");var s,c;if(0===e)return r.a.computeRealRoots(t,i,o);if(0===t){if(0===i){if(0===o)return[0,0,0];c=-o/e;var l=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3);return[l,l,l]}return 0===o?(s=r.a.computeRealRoots(e,0,i),0===s.Length?[0]:[s[0],0,s[1]]):n(e,0,i,o)}return 0===i?0===o?(c=-t/e,c<0?[c,0,0]:[0,0,c]):n(e,t,0,o):0===o?(s=r.a.computeRealRoots(e,t,i),0===s.length?[0]:s[1]<=0?[s[0],s[1],0]:s[0]>=0?[0,s[0],s[1]]:[s[0],0,s[1]]):n(e,t,i,o)},t.a=o},"7Xkg":function(e,t,i){"use strict";function n(e,t,i){return a.a.typeOf.string("samplerUniformName",e),a.a.typeOf.string("matrixUniformName",t),a.a.typeOf.string("styleUniformName",i),"    float clipDistance = clip(gl_FragCoord, "+e+", "+t+"); \n    vec4 clippingPlanesEdgeColor = vec4(1.0); \n    clippingPlanesEdgeColor.rgb = "+i+".rgb; \n    float clippingPlanesEdgeWidth = "+i+".a; \n    if (clipDistance > 0.0 && clipDistance < clippingPlanesEdgeWidth) \n    { \n        gl_FragColor = clippingPlanesEdgeColor;\n    } \n"}var a=i("5F4X");t.a=n},"7ar3":function(e,t,i){"use strict";var n=i("2KBj"),a=i("d6cF"),r=i("hPi6"),o=i("Jo86"),s=i("XHij"),c=i("xTtY"),l=i("CWVY"),u=Function,h=function(e){try{return u('"use strict"; return ('+e+").constructor;")()}catch(e){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(e){d=null}var f=function(){throw new c},p=d?function(){try{return arguments.callee,f}catch(e){try{return d(arguments,"callee").get}catch(e){return f}}}():f,m=i("76UX")(),g=i("pw30")(),_=Object.getPrototypeOf||(g?function(e){return e.__proto__}:null),v={},b="undefined"!=typeof Uint8Array&&_?_(Uint8Array):void 0,y={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":m&&_?_([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":a,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":v,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&_?_(_([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&_?_((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":r,"%ReferenceError%":o,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&_?_((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&_?_(""[Symbol.iterator]()):void 0,"%Symbol%":m?Symbol:void 0,"%SyntaxError%":s,"%ThrowTypeError%":p,"%TypedArray%":b,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(_)try{null.error}catch(e){var O=_(_(e));y["%Error.prototype%"]=O}var w=function e(t){var i;if("%AsyncFunction%"===t)i=h("async function () {}");else if("%GeneratorFunction%"===t)i=h("function* () {}");else if("%AsyncGeneratorFunction%"===t)i=h("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(i=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var a=e("%AsyncGenerator%");a&&_&&(i=_(a.prototype))}return y[t]=i,i},x={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=i("PiFy"),T=i("P8fb"),A=E.call(Function.call,Array.prototype.concat),C=E.call(Function.apply,Array.prototype.splice),S=E.call(Function.call,String.prototype.replace),j=E.call(Function.call,String.prototype.slice),P=E.call(Function.call,RegExp.prototype.exec),D=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,R=function(e){var t=j(e,0,1),i=j(e,-1);if("%"===t&&"%"!==i)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,D,function(e,t,i,a){n[n.length]=i?S(a,I,"$1"):t||e}),n},M=function(e,t){var i,n=e;if(T(x,n)&&(i=x[n],n="%"+i[0]+"%"),T(y,n)){var a=y[n];if(a===v&&(a=w(n)),void 0===a&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===P(/^%?[^%]*%?$/,e))throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=R(e),n=i.length>0?i[0]:"",a=M("%"+n+"%",t),r=a.name,o=a.value,l=!1,u=a.alias;u&&(n=u[0],C(i,A([0,1],u)));for(var h=1,f=!0;h<i.length;h+=1){var p=i[h],m=j(p,0,1),g=j(p,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new s("property names with quotes must have matching quotes");if("constructor"!==p&&f||(l=!0),n+="."+p,r="%"+n+"%",T(y,r))o=y[r];else if(null!=o){if(!(p in o)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(d&&h+1>=i.length){var _=d(o,p);f=!!_,o=f&&"get"in _&&!("originalValue"in _.get)?_.get:o[p]}else f=T(o,p),o=o[p];f&&!l&&(y[r]=o)}}return o}},"7ciz":function(e,t,i){"use strict";var n;if(!Object.keys){var a=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=i("t+1C"),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),l=s.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&a.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{h(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),p=function(e){if("undefined"==typeof window||!f)return h(e);try{return h(e)}catch(e){return!1}};n=function(e){var t=null!==e&&"object"==typeof e,i="[object Function]"===r.call(e),n=o(e),s=t&&"[object String]"===r.call(e),h=[];if(!t&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var d=l&&i;if(s&&e.length>0&&!a.call(e,0))for(var f=0;f<e.length;++f)h.push(String(f));if(n&&e.length>0)for(var m=0;m<e.length;++m)h.push(String(m));else for(var g in e)d&&"prototype"===g||!a.call(e,g)||h.push(String(g));if(c)for(var _=p(e),v=0;v<u.length;++v)_&&"constructor"===u[v]||!a.call(e,u[v])||h.push(u[v]);return h}}e.exports=n},"7dSG":function(e,t,i){"use strict";(function(t,n,a){function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){C(t,e)}}function o(e){return M.from(e)}function s(e){return M.isBuffer(e)||e instanceof L}function c(){}function l(e,t){j=j||i("DsFX"),e=e||{};var n=t instanceof j;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var a=e.highWaterMark,o=e.writableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){v(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function u(e){if(j=j||i("DsFX"),!(F.call(u,this)||this instanceof j))return new u(e);this._writableState=new l(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),R.call(this)}function h(e,t){var i=new Error("write after end");e.emit("error",i),S.nextTick(t,i)}function d(e,t,i,n){var a=!0,r=!1;return null===i?r=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r&&(e.emit("error",r),S.nextTick(n,r),a=!1),a}function f(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=M.from(t,i)),t}function p(e,t,i,n,a,r){if(!i){var o=f(t,n,a);n!==o&&(i=!0,a="buffer",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:i,callback:r,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,a,r);return c}function m(e,t,i,n,a,r,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,i?e._writev(a,t.onwrite):e._write(a,r,t.onwrite),t.sync=!1}function g(e,t,i,n,a){--t.pendingcb,i?(S.nextTick(a,n),S.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(a(n),e._writableState.errorEmitted=!0,e.emit("error",n),T(e,t))}function _(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function v(e,t){var i=e._writableState,n=i.sync,a=i.writecb;if(_(i),t)g(e,i,n,t,a);else{var r=w(i);r||i.corked||i.bufferProcessing||!i.bufferedRequest||O(e,i),n?P(b,e,i,r,a):b(e,i,r,a)}}function b(e,t,i,n){i||y(e,t),t.pendingcb--,n(),T(e,t)}function y(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function O(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var n=t.bufferedRequestCount,a=new Array(n),o=t.corkedRequestsFree;o.entry=i;for(var s=0,c=!0;i;)a[s]=i,i.isBuf||(c=!1),i=i.next,s+=1;a.allBuffers=c,m(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,u=i.encoding,h=i.callback;if(m(e,t,!1,t.objectMode?1:l.length,l,u,h),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final(function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function E(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,S.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var i=w(t);return i&&(E(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}function A(e,t,i){t.ending=!0,T(e,t),i&&(t.finished?S.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}function C(e,t,i){var n=e.entry;for(e.entry=null;n;){var a=n.callback;t.pendingcb--,a(i),n=n.next}t.corkedRequestsFree.next=e}var S=i("ypnx");e.exports=u;var j,P=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:S.nextTick;u.WritableState=l;var D=Object.create(i("jOgh"));D.inherits=i("LC74");var I={deprecate:i("iP15")},R=i("UcPO"),M=i("kkc6").Buffer,L=(void 0!==a?a:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},N=i("x0Ha");D.inherits(u,R),l.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(l.prototype,"buffer",{get:I.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var F;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(u,Symbol.hasInstance,{value:function(e){return!!F.call(this,e)||this===u&&(e&&e._writableState instanceof l)}})):F=function(e){return e instanceof this},u.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},u.prototype.write=function(e,t,i){var n=this._writableState,a=!1,r=!n.objectMode&&s(e);return r&&!M.isBuffer(e)&&(e=o(e)),"function"==typeof t&&(i=t,t=null),r?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof i&&(i=c),n.ended?h(this,i):(r||d(this,n,e,i))&&(n.pendingcb++,a=p(this,n,r,e,t,i)),a},u.prototype.cork=function(){this._writableState.corked++},u.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||O(this,e))},u.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),u.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},u.prototype._writev=null,u.prototype.end=function(e,t,i){var n=this._writableState;"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||A(this,n,i)},Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),u.prototype.destroy=N.destroy,u.prototype._undestroy=N.undestroy,u.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,i("W2nU"),i("162o").setImmediate,i("DuR2"))},"7dXQ":function(e,t,i){"use strict";var n=i("xC6Q"),a=(i("49Ew"),Array.isArray);Object(n.a)(a)||(a=function(e){return"[object Array]"===Object.prototype.toString.call(e)})},"7eRv":function(e,t,i){"use strict";function n(e){throw new a.a("This type should not be instantiated directly.  Instead, use BoxEmitter, CircleEmitter, ConeEmitter or SphereEmitter.")}var a=i("PzDm");n.prototype.emit=function(e){a.a.throwInstantiationError()}},"7fNQ":function(e,t,i){"use strict";function n(e){this.id=e,this.vertexFormat=void 0,this.polygonHierarchy=void 0,this.perPositionHeight=void 0,this.closeTop=void 0,this.closeBottom=void 0,this.height=void 0,this.extrudedHeight=void 0,this.granularity=void 0,this.stRotation=void 0,this.offsetAttribute=void 0,this.arcType=void 0}function a(e,t){R.a.call(this,{entity:e,scene:t,geometryOptions:new n(e),geometryPropertyName:"polygon",observedPropertyNames:["availability","polygon"]}),this._onEntityPropertyChanged(e,"polygon",e.polygon,void 0)}function r(e,t,i){D.a.call(this,e,t,i)}var o=i("DPkk"),s=i("X8rS"),c=i("Ss9j"),l=i("Jj+J"),u=i("5F4X"),h=i("6F0S"),d=i("devy"),f=i("Tenz"),p=i("8aKa"),m=i("xC6Q"),g=i("PzDm"),_=i("2kyc"),v=i("GmON"),b=i("izcu"),y=i("DsDe"),O=i("wpHJ"),w=i("VF2d"),x=i("yAuC"),E=i("Isxj"),T=i("Wq1U"),A=i("zSqc"),C=i("JIo7"),S=i("xEUC"),j=i("BOJj"),P=i("I5FW"),D=i("5s/y"),I=i("rVBE"),R=i("ekBq"),M=i("uhjI"),L=new h.a,N=l.a.ZERO,F=new l.a,z=new T.a,B=[],k=new c.a;Object(m.a)(Object.create)&&(a.prototype=Object.create(R.a.prototype),a.prototype.constructor=a),a.prototype.createFillGeometryInstance=function(e){if(u.a.defined("time",e),!this._fillEnabled)throw new g.a("This instance does not represent a filled geometry.");var t=this._entity,i=t.isAvailable(e),n=this._options,a={show:new A.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._fillProperty.getValue(e)),distanceDisplayCondition:_.a.fromDistanceDisplayCondition(this._distanceDisplayConditionProperty.getValue(e)),offset:void 0,color:void 0};if(this._materialProperty instanceof P.a){var r;Object(m.a)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(r=this._materialProperty.color.getValue(e,L)),Object(m.a)(r)||(r=h.a.WHITE),a.color=d.a.fromColor(r)}Object(m.a)(n.offsetAttribute)&&(a.offset=O.a.fromCartesian3(M.a.getValueOrDefault(this._terrainOffsetProperty,e,N,F)));var o;return o=n.perPositionHeight&&!Object(m.a)(n.extrudedHeight)?new f.a(n):new x.a(n),new b.a({id:t,geometry:o,attributes:a})},a.prototype.createOutlineGeometryInstance=function(e){if(u.a.defined("time",e),!this._outlineEnabled)throw new g.a("This instance does not represent an outlined geometry.");var t=this._entity,i=t.isAvailable(e),n=this._options,a=M.a.getValueOrDefault(this._outlineColorProperty,e,h.a.BLACK,L),r=this._distanceDisplayConditionProperty.getValue(e),o={show:new A.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._showOutlineProperty.getValue(e)),color:d.a.fromColor(a),distanceDisplayCondition:_.a.fromDistanceDisplayCondition(r),offset:void 0};Object(m.a)(n.offsetAttribute)&&(o.offset=O.a.fromCartesian3(M.a.getValueOrDefault(this._terrainOffsetProperty,e,N,F)));var s;return s=n.perPositionHeight&&!Object(m.a)(n.extrudedHeight)?new p.a(n):new E.a(n),new b.a({id:t,geometry:s,attributes:o})},a.prototype._computeCenter=function(e,t){var i=M.a.getValueOrUndefined(this._entity.polygon.hierarchy,e);if(Object(m.a)(i)){var n=i.positions;if(0!==n.length){for(var a=this._scene.mapProjection.ellipsoid,r=v.a.fromPoints(n,a),o=r.projectPointsOntoPlane(n,B),s=o.length,l=0,u=s-1,h=new c.a,d=0;d<s;u=d++){var f=o[d],p=o[u],g=f.x*p.y-p.x*f.y,_=c.a.add(f,p,k);_=c.a.multiplyByScalar(_,g,_),h=c.a.add(h,_,h),l+=g}var b=1/(3*l);return h=c.a.multiplyByScalar(h,b,h),r.projectPointOntoEllipsoid(h,t)}}},a.prototype._isHidden=function(e,t){return!Object(m.a)(t.hierarchy)||I.a.prototype._isHidden.call(this,e,t)},a.prototype._isOnTerrain=function(e,t){var i=R.a.prototype._isOnTerrain.call(this,e,t),n=t.perPositionHeight,a=Object(m.a)(n)&&(!n.isConstant||n.getValue(y.a.MINIMUM_VALUE));return i&&!a},a.prototype._isDynamic=function(e,t){return!t.hierarchy.isConstant||!M.a.isConstant(t.height)||!M.a.isConstant(t.extrudedHeight)||!M.a.isConstant(t.granularity)||!M.a.isConstant(t.stRotation)||!M.a.isConstant(t.outlineWidth)||!M.a.isConstant(t.perPositionHeight)||!M.a.isConstant(t.closeTop)||!M.a.isConstant(t.closeBottom)||!M.a.isConstant(t.zIndex)||!M.a.isConstant(t.arcType)||this._onTerrain&&!M.a.isConstant(this._materialProperty)&&!(this._materialProperty instanceof P.a)},a.prototype._setStaticOptions=function(e,t){var i=this._materialProperty instanceof P.a,n=this._options;n.vertexFormat=i?j.a.VERTEX_FORMAT:S.a.MaterialSupport.TEXTURED.vertexFormat;var a=t.hierarchy.getValue(y.a.MINIMUM_VALUE),r=M.a.getValueOrUndefined(t.height,y.a.MINIMUM_VALUE),c=M.a.getValueOrDefault(t.heightReference,y.a.MINIMUM_VALUE,C.a.NONE),l=M.a.getValueOrUndefined(t.extrudedHeight,y.a.MINIMUM_VALUE),u=M.a.getValueOrDefault(t.extrudedHeightReference,y.a.MINIMUM_VALUE,C.a.NONE),h=M.a.getValueOrDefault(t.perPositionHeight,y.a.MINIMUM_VALUE,!1);r=R.a.getGeometryHeight(r,c);var d;h?(Object(m.a)(r)&&(r=void 0,Object(w.a)("Entity polygons cannot have both height and perPositionHeight.  height will be ignored")),c!==C.a.NONE&&h&&(r=void 0,Object(w.a)("heightReference is not supported for entity polygons with perPositionHeight. heightReference will be ignored"))):(Object(m.a)(l)&&!Object(m.a)(r)&&(r=0),d=R.a.computeGeometryOffsetAttribute(r,c,l,u)),n.polygonHierarchy=a,n.granularity=M.a.getValueOrUndefined(t.granularity,y.a.MINIMUM_VALUE),n.stRotation=M.a.getValueOrUndefined(t.stRotation,y.a.MINIMUM_VALUE),n.perPositionHeight=h,n.closeTop=M.a.getValueOrDefault(t.closeTop,y.a.MINIMUM_VALUE,!0),n.closeBottom=M.a.getValueOrDefault(t.closeBottom,y.a.MINIMUM_VALUE,!0),n.offsetAttribute=d,n.height=r,n.arcType=M.a.getValueOrDefault(t.arcType,y.a.MINIMUM_VALUE,s.a.GEODESIC),l=R.a.getGeometryExtrudedHeight(l,u),l===R.a.CLAMP_TO_GROUND&&(l=o.a.getMinimumMaximumHeights(x.a.computeRectangle(n,z)).minimumTerrainHeight),n.extrudedHeight=l},a.prototype._getIsClosed=function(e){var t=e.height,i=e.extrudedHeight,n=Object(m.a)(i)&&i!==t;return!e.perPositionHeight&&(!n&&0===t||n&&e.closeTop&&e.closeBottom)},a.DynamicGeometryUpdater=r,Object(m.a)(Object.create)&&(r.prototype=Object.create(D.a.prototype),r.prototype.constructor=r),r.prototype._isHidden=function(e,t,i){return!Object(m.a)(this._options.polygonHierarchy)||D.a.prototype._isHidden.call(this,e,t,i)},r.prototype._setOptions=function(e,t,i){var n=this._options;n.polygonHierarchy=M.a.getValueOrUndefined(t.hierarchy,i);var a=M.a.getValueOrUndefined(t.height,i),r=M.a.getValueOrDefault(t.heightReference,i,C.a.NONE),c=M.a.getValueOrDefault(t.extrudedHeightReference,i,C.a.NONE),l=M.a.getValueOrUndefined(t.extrudedHeight,i),u=M.a.getValueOrUndefined(t.perPositionHeight,i);a=R.a.getGeometryHeight(a,c);var h;u?(Object(m.a)(a)&&(a=void 0,Object(w.a)("Entity polygons cannot have both height and perPositionHeight.  height will be ignored")),r!==C.a.NONE&&u&&(a=void 0,Object(w.a)("heightReference is not supported for entity polygons with perPositionHeight. heightReference will be ignored"))):(Object(m.a)(l)&&!Object(m.a)(a)&&(a=0),h=R.a.computeGeometryOffsetAttribute(a,r,l,c)),n.granularity=M.a.getValueOrUndefined(t.granularity,i),n.stRotation=M.a.getValueOrUndefined(t.stRotation,i),n.perPositionHeight=M.a.getValueOrUndefined(t.perPositionHeight,i),n.closeTop=M.a.getValueOrDefault(t.closeTop,i,!0),n.closeBottom=M.a.getValueOrDefault(t.closeBottom,i,!0),n.offsetAttribute=h,n.height=a,n.arcType=M.a.getValueOrDefault(t.arcType,i,s.a.GEODESIC),l=R.a.getGeometryExtrudedHeight(l,c),l===R.a.CLAMP_TO_GROUND&&(l=o.a.getMinimumMaximumHeights(x.a.computeRectangle(n,z)).minimumTerrainHeight),n.extrudedHeight=l},t.a=a},"7ibv":function(e,t,i){"use strict";var n=i("gSHj"),a=i("OTuC"),r=i("Nz15"),o=i("aMfN"),s=i("uEkt"),c=i("EnGv"),l=i("zpvC"),u=i("TLNj"),h=i("0eI/"),d=i("I8pF"),f=i("pd23"),p=i("Xtn+"),m=i("FQmP"),g=i("W/pv"),_=i("Plo4"),v=i("4PZS"),b=i("XJYV"),y=i("0mW+"),O=i("/FnE"),w=i("k8Lw"),x=i("AyU4"),E=i("ArLp"),T=i("k6SC"),A=i("tr29"),C=i("QSrk"),S=i("HcRA"),j=i("yhQV"),P=i("2O47"),D=i("vq8n"),I=i("kh8h"),R=i("Oyq1"),M=i("EBXK"),L=i("T1En"),N=i("3ICp"),F=i("pEVw"),z=i("M7iW"),B=i("W28a"),k=i("XL6Z"),U=i("L8Sq"),V=i("XvIW"),H=i("cLHE"),q=i("A+Fs"),W=i("OhCH"),G=i("FRQM"),Y=i("S81E"),X=i("QRkk"),Q=i("WvYO"),J=i("KbD2"),Z=i("PvyP"),K=i("3Uwf"),$=i("bDe7"),ee=i("kOga"),te=i("P7RB"),ie=i("y8wP"),ne=i("MFJQ"),ae=i("1lP0"),re=i("0ewm"),oe=i("s45H"),se=i("OOhG"),ce=i("BhNW"),le=i("09MF"),ue=i("JUp/"),he=i("WxlN"),de=i("lIfV"),fe=i("bA2o"),pe=i("IwxH"),me=i("qHse"),ge=i("3Vop"),_e=i("PO0j"),ve=i("rUNo"),be=i("KmX2"),ye=i("whUw"),Oe=i("+qfG"),we=i("isL5"),xe=i("YMVM"),Ee=i("bte5"),Te=i("yE8y"),Ae=i("WAeM"),Ce=i("abEu"),Se=i("Nc9q"),je=i("w5J1"),Pe=i("uBAn"),De=i("WHkf"),Ie=i("c7Hj"),Re=i("SoU4"),Me=i("yFqe"),Le=i("Mol/"),Ne=i("r80a"),Fe=i("UQ3W"),ze=i("lWL3"),Be=i("t7gg"),ke=i("H7f0"),Ue=i("W00h"),Ve=i("qIfy"),He=i("v2AQ"),qe=i("3o8J"),We=i("0hMU"),Ge=i("H8oQ"),Ye=i("n1gM"),Xe=i("6Dh7"),Qe=i("76lF"),Je=i("Zraw"),Ze=i("bqkI"),Ke=i("a1IE"),$e=i("uHh8"),et=i("7tv9"),tt=i("HWYr"),it=i("C4wJ"),nt=i("5yDm"),at=i("hmjO"),rt=i("tL9o"),ot=i("VjSM"),st=i("cvEb"),ct=i("0u+h"),lt=i("jNpS");t.a={czm_degreesPerRadian:n.a,czm_depthRange:a.a,czm_ellipsoidInverseRadii:r.a,czm_ellipsoidRadii:o.a,czm_epsilon1:s.a,czm_epsilon2:c.a,czm_epsilon3:l.a,czm_epsilon4:u.a,czm_epsilon5:h.a,czm_epsilon6:d.a,czm_epsilon7:f.a,czm_infinity:p.a,czm_oneOverPi:m.a,czm_oneOverTwoPi:g.a,czm_passCesium3DTile:_.a,czm_passCesium3DTileClassification:v.a,czm_passCesium3DTileClassificationIgnoreShow:b.a,czm_passClassification:y.a,czm_passCompute:O.a,czm_passEnvironment:w.a,czm_passGlobe:x.a,czm_passOpaque:E.a,czm_passOverlay:T.a,czm_passTerrainClassification:A.a,czm_passTranslucent:C.a,czm_pi:S.a,czm_piOverFour:j.a,czm_piOverSix:P.a,czm_piOverThree:D.a,czm_piOverTwo:I.a,czm_radiansPerDegree:R.a,czm_sceneMode2D:M.a,czm_sceneMode3D:L.a,czm_sceneModeColumbusView:N.a,czm_sceneModeMorphing:F.a,czm_solarRadius:z.a,czm_threePiOver2:B.a,czm_twoPi:k.a,czm_webMercatorMaxLatitude:U.a,czm_depthRangeStruct:V.a,czm_material:H.a,czm_materialInput:q.a,czm_ray:W.a,czm_raySegment:G.a,czm_shadowParameters:Y.a,czm_HSBToRGB:X.a,czm_HSLToRGB:Q.a,czm_RGBToHSB:J.a,czm_RGBToHSL:Z.a,czm_RGBToXYZ:K.a,czm_XYZToRGB:$.a,czm_acesTonemapping:ee.a,czm_alphaWeight:te.a,czm_antialias:ie.a,czm_approximateSphericalCoordinates:ne.a,czm_branchFreeTernary:ae.a,czm_cascadeColor:re.a,czm_cascadeDistance:oe.a,czm_cascadeMatrix:se.a,czm_cascadeWeights:ce.a,czm_columbusViewMorph:le.a,czm_computePosition:ue.a,czm_cosineAndSine:he.a,czm_decompressTextureCoordinates:de.a,czm_depthClampFarPlane:fe.a,czm_eastNorthUpToEyeCoordinates:pe.a,czm_ellipsoidContainsPoint:me.a,czm_ellipsoidWgs84TextureCoordinates:ge.a,czm_equalsEpsilon:_e.a,czm_eyeOffset:ve.a,czm_eyeToWindowCoordinates:be.a,czm_fastApproximateAtan:ye.a,czm_fog:Oe.a,czm_gammaCorrect:we.a,czm_geodeticSurfaceNormal:xe.a,czm_getDefaultMaterial:Ee.a,czm_getLambertDiffuse:Te.a,czm_getSpecular:Ae.a,czm_getWaterNoise:Ce.a,czm_hue:Se.a,czm_inverseGamma:je.a,czm_isEmpty:Pe.a,czm_isFull:De.a,czm_latitudeToWebMercatorFraction:Ie.a,czm_lineDistance:Re.a,czm_luminance:Me.a,czm_metersPerPixel:Le.a,czm_modelToWindowCoordinates:Ne.a,czm_multiplyWithColorBalance:Fe.a,czm_nearFarScalar:ze.a,czm_octDecode:Be.a,czm_packDepth:ke.a,czm_phong:Ue.a,czm_planeDistance:Ve.a,czm_pointAlongRay:He.a,czm_rayEllipsoidIntersectionInterval:qe.a,czm_readDepth:We.a,czm_reverseLogDepth:Ge.a,czm_sampleOctahedralProjection:Ye.a,czm_saturation:Xe.a,czm_shadowDepthCompare:Qe.a,czm_shadowVisibility:Je.a,czm_signNotZero:Ze.a,czm_sphericalHarmonics:Ke.a,czm_tangentToEyeSpaceMatrix:$e.a,czm_transformPlane:et.a,czm_translateRelativeToEye:tt.a,czm_translucentPhong:it.a,czm_transpose:nt.a,czm_unpackDepth:at.a,czm_unpackFloat:rt.a,czm_vertexLogDepth:ot.a,czm_windowToEyeCoordinates:st.a,czm_writeDepthClampedToFarPlane:ct.a,czm_writeLogDepth:lt.a}},"7j96":function(e,t,i){"use strict";function n(e,t,i,n,a){this.primitives=e,this.zIndex=a,this.classificationType=t,this.color=i,this.key=n,this.createPrimitive=!1,this.waitingOnCreate=!1,this.primitive=void 0,this.oldPrimitive=void 0,this.geometry=new r.a,this.updaters=new r.a,this.updatersWithAttributes=new r.a,this.attributes=new r.a,this.subscriptions=new r.a,this.showsUpdated=new r.a,this.itemsToRemove=[],this.isDirty=!1}function a(e,t){this._batches=new r.a,this._primitives=e,this._classificationType=t}var r=i("7uRt"),o=i("6F0S"),s=i("devy"),c=i("xC6Q"),l=i("2d28"),u=i("2kyc"),h=i("zSqc"),d=i("zGMv"),f=i("P+tD"),p=i("uhjI"),m=new o.a,g=new l.a,_=new l.a;n.prototype.add=function(e,t){var i=e.id;if(this.createPrimitive=!0,this.geometry.set(i,t),this.updaters.set(i,e),e.hasConstantFill&&e.fillMaterialProperty.isConstant&&p.a.isConstant(e.distanceDisplayConditionProperty)){var n=this;this.subscriptions.set(i,e.entity.definitionChanged.addEventListener(function(t,i,a,r){"isShowing"===i&&n.showsUpdated.set(e.id,e)}))}else this.updatersWithAttributes.set(i,e)},n.prototype.remove=function(e){var t=e.id;if(this.createPrimitive=this.geometry.remove(t)||this.createPrimitive,this.updaters.remove(t)){this.updatersWithAttributes.remove(t);var i=this.subscriptions.get(t);return Object(c.a)(i)&&(i(),this.subscriptions.remove(t),this.showsUpdated.remove(t)),!0}return!1},n.prototype.update=function(e){var t,i=!0,n=this.primitive,a=this.primitives;if(this.createPrimitive){var r=this.geometry.values;if(r.length>0)Object(c.a)(n)&&(Object(c.a)(this.oldPrimitive)?a.remove(n):this.oldPrimitive=n),n=new d.a({show:!1,asynchronous:!0,geometryInstances:r.slice(),classificationType:this.classificationType}),a.add(n,this.zIndex),i=!1;else{Object(c.a)(n)&&(a.remove(n),n=void 0);var f=this.oldPrimitive;Object(c.a)(f)&&(a.remove(f),this.oldPrimitive=void 0)}this.attributes.removeAll(),this.primitive=n,this.createPrimitive=!1,this.waitingOnCreate=!0}else if(Object(c.a)(n)&&n.ready){n.show=!0,Object(c.a)(this.oldPrimitive)&&(a.remove(this.oldPrimitive),this.oldPrimitive=void 0);var v=this.updatersWithAttributes.values,b=v.length,y=this.waitingOnCreate;for(t=0;t<b;t++){var O=v[t],w=this.geometry.get(O.id),x=this.attributes.get(w.id.id);if(Object(c.a)(x)||(x=n.getGeometryInstanceAttributes(w.id),this.attributes.set(w.id.id,x)),!O.fillMaterialProperty.isConstant||y){var E=O.fillMaterialProperty.color,T=p.a.getValueOrDefault(E,e,o.a.WHITE,m);o.a.equals(x._lastColor,T)||(x._lastColor=o.a.clone(T,x._lastColor),x.color=s.a.toValue(T,x.color))}var A=O.entity.isShowing&&(O.hasConstantFill||O.isFilled(e)),C=1===x.show[0];A!==C&&(x.show=h.a.toValue(A,x.show));var S=O.distanceDisplayConditionProperty;if(!p.a.isConstant(S)){var j=p.a.getValueOrDefault(S,e,_,g);l.a.equals(j,x._lastDistanceDisplayCondition)||(x._lastDistanceDisplayCondition=l.a.clone(j,x._lastDistanceDisplayCondition),x.distanceDisplayCondition=u.a.toValue(j,x.distanceDisplayCondition))}}this.updateShows(n),this.waitingOnCreate=!1}else Object(c.a)(n)&&!n.ready&&(i=!1);return this.itemsToRemove.length=0,i},n.prototype.updateShows=function(e){for(var t=this.showsUpdated.values,i=t.length,n=0;n<i;n++){var a=t[n],r=this.geometry.get(a.id),o=this.attributes.get(r.id.id);Object(c.a)(o)||(o=e.getGeometryInstanceAttributes(r.id),this.attributes.set(r.id.id,o));var s=a.entity.isShowing;s!==(1===o.show[0])&&(o.show=h.a.toValue(s,o.show),r.attributes.show.value[0]=o.show[0])}this.showsUpdated.removeAll()},n.prototype.contains=function(e){return this.updaters.contains(e.id)},n.prototype.getBoundingSphere=function(e,t){var i=this.primitive;if(!i.ready)return f.a.PENDING;var n=i.getBoundingSphere(e.entity);return Object(c.a)(n)?(n.clone(t),f.a.DONE):f.a.FAILED},n.prototype.removeAllPrimitives=function(){var e=this.primitives,t=this.primitive;Object(c.a)(t)&&(e.remove(t),this.primitive=void 0,this.geometry.removeAll(),this.updaters.removeAll());var i=this.oldPrimitive;Object(c.a)(i)&&(e.remove(i),this.oldPrimitive=void 0)},a.prototype.add=function(e,t){var i,a=t.createFillGeometryInstance(e),r=this._batches,o=p.a.getValueOrDefault(t.zIndex,0),s=o;return r.contains(s)?i=r.get(s):(i=new n(this._primitives,this._classificationType,a.attributes.color.value,s,o),r.set(s,i)),i.add(t,a),i},a.prototype.remove=function(e){for(var t=this._batches.values,i=t.length,n=0;n<i;++n)if(t[n].remove(e))return},a.prototype.update=function(e){var t,i,n=!0,a=this._batches,r=a.values,o=r.length;for(t=0;t<o;++t)n=r[t].update(e)&&n;for(t=0;t<o;++t)for(var s=r[t],c=s.itemsToRemove,l=c.length,u=0;u<l;u++){i=c[u],s.remove(i);var h=this.add(e,i);s.isDirty=!0,h.isDirty=!0}var d=r.slice(),f=d.length;for(t=0;t<f;++t){var p=d[t];p.isDirty&&(n=d[t].update(e)&&n,p.isDirty=!1),0===p.geometry.length&&a.remove(p.key)}return n},a.prototype.getBoundingSphere=function(e,t){for(var i=this._batches.values,n=i.length,a=0;a<n;++a){var r=i[a];if(r.contains(e))return r.getBoundingSphere(e,t)}return f.a.FAILED},a.prototype.removeAllPrimitives=function(){for(var e=this._batches.values,t=e.length,i=0;i<t;++i)e[i].removeAllPrimitives()},t.a=a},"7lip":function(e,t,i){"use strict";i("xC6Q"),i("PzDm"),i("/8qB")},"7mcq":function(e,t,i){"use strict";function n(e,t,i){this.x=e,this.y=t,this.s=i}t.a=n},"7rSz":function(e,t,i){"use strict";t.a="uniform sampler2D image;\nuniform float strength;\nuniform vec2 repeat;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 st = materialInput.st;\n\n    vec2 centerPixel = fract(repeat * st);\n    float centerBump = texture2D(image, centerPixel).channel;\n\n    float imageWidth = float(imageDimensions.x);\n    vec2 rightPixel = fract(repeat * (st + vec2(1.0 / imageWidth, 0.0)));\n    float rightBump = texture2D(image, rightPixel).channel;\n\n    float imageHeight = float(imageDimensions.y);\n    vec2 leftPixel = fract(repeat * (st + vec2(0.0, 1.0 / imageHeight)));\n    float topBump = texture2D(image, leftPixel).channel;\n\n    vec3 normalTangentSpace = normalize(vec3(centerBump - rightBump, centerBump - topBump, clamp(1.0 - strength, 0.1, 1.0)));\n    vec3 normalEC = materialInput.tangentToEyeMatrix * normalTangentSpace;\n\n    material.normal = normalEC;\n    material.diffuse = vec3(0.01);\n\n    return material;\n}\n"},"7snz":function(e,t,i){"use strict";function n(e){e=Object(l.a)(e,l.a.EMPTY_OBJECT);var t=e.minimum,i=e.maximum;if(s.a.typeOf.object("min",t),s.a.typeOf.object("max",i),Object(u.a)(e.offsetAttribute)&&e.offsetAttribute===m.a.TOP)throw new h.a("GeometryOffsetAttribute.TOP is not a supported options.offsetAttribute for this geometry.");var n=Object(l.a)(e.vertexFormat,_.a.DEFAULT);this._minimum=o.a.clone(t),this._maximum=o.a.clone(i),this._vertexFormat=n,this._offsetAttribute=e.offsetAttribute,this._workerName="createBoxGeometry"}var a=i("Sfsp"),r=i("lBr9"),o=i("Jj+J"),s=i("5F4X"),c=i("YCZg"),l=i("5A4e"),u=i("xC6Q"),h=i("PzDm"),d=i("RGAo"),f=i("RYD3"),p=i("GaJK"),m=i("2g+t"),g=i("nHNe"),_=i("xvTE"),v=new o.a;n.fromDimensions=function(e){e=Object(l.a)(e,l.a.EMPTY_OBJECT);var t=e.dimensions;s.a.typeOf.object("dimensions",t),s.a.typeOf.number.greaterThanOrEquals("dimensions.x",t.x,0),s.a.typeOf.number.greaterThanOrEquals("dimensions.y",t.y,0),s.a.typeOf.number.greaterThanOrEquals("dimensions.z",t.z,0);var i=o.a.multiplyByScalar(t,.5,new o.a);return new n({minimum:o.a.negate(i,new o.a),maximum:i,vertexFormat:e.vertexFormat,offsetAttribute:e.offsetAttribute})},n.fromAxisAlignedBoundingBox=function(e){return s.a.typeOf.object("boundingBox",e),new n({minimum:e.minimum,maximum:e.maximum})},n.packedLength=2*o.a.packedLength+_.a.packedLength+1,n.pack=function(e,t,i){return s.a.typeOf.object("value",e),s.a.defined("array",t),i=Object(l.a)(i,0),o.a.pack(e._minimum,t,i),o.a.pack(e._maximum,t,i+o.a.packedLength),_.a.pack(e._vertexFormat,t,i+2*o.a.packedLength),t[i+2*o.a.packedLength+_.a.packedLength]=Object(l.a)(e._offsetAttribute,-1),t};var b=new o.a,y=new o.a,O=new _.a,w={minimum:b,maximum:y,vertexFormat:O,offsetAttribute:void 0};n.unpack=function(e,t,i){s.a.defined("array",e),t=Object(l.a)(t,0);var a=o.a.unpack(e,t,b),r=o.a.unpack(e,t+o.a.packedLength,y),c=_.a.unpack(e,t+2*o.a.packedLength,O),h=e[t+2*o.a.packedLength+_.a.packedLength];return Object(u.a)(i)?(i._minimum=o.a.clone(a,i._minimum),i._maximum=o.a.clone(r,i._maximum),i._vertexFormat=_.a.clone(c,i._vertexFormat),i._offsetAttribute=-1===h?void 0:h,i):(w.offsetAttribute=-1===h?void 0:h,new n(w))},n.createGeometry=function(e){var t=e._minimum,i=e._maximum,n=e._vertexFormat;if(!o.a.equals(t,i)){var s,l,h=new p.a;if(n.position&&(n.st||n.normal||n.tangent||n.bitangent)){if(n.position&&(l=new Float64Array(72),l[0]=t.x,l[1]=t.y,l[2]=i.z,l[3]=i.x,l[4]=t.y,l[5]=i.z,l[6]=i.x,l[7]=i.y,l[8]=i.z,l[9]=t.x,l[10]=i.y,l[11]=i.z,l[12]=t.x,l[13]=t.y,l[14]=t.z,l[15]=i.x,l[16]=t.y,l[17]=t.z,l[18]=i.x,l[19]=i.y,l[20]=t.z,l[21]=t.x,l[22]=i.y,l[23]=t.z,l[24]=i.x,l[25]=t.y,l[26]=t.z,l[27]=i.x,l[28]=i.y,l[29]=t.z,l[30]=i.x,l[31]=i.y,l[32]=i.z,l[33]=i.x,l[34]=t.y,l[35]=i.z,l[36]=t.x,l[37]=t.y,l[38]=t.z,l[39]=t.x,l[40]=i.y,l[41]=t.z,l[42]=t.x,l[43]=i.y,l[44]=i.z,l[45]=t.x,l[46]=t.y,l[47]=i.z,l[48]=t.x,l[49]=i.y,l[50]=t.z,l[51]=i.x,l[52]=i.y,l[53]=t.z,l[54]=i.x,l[55]=i.y,l[56]=i.z,l[57]=t.x,l[58]=i.y,l[59]=i.z,l[60]=t.x,l[61]=t.y,l[62]=t.z,l[63]=i.x,l[64]=t.y,l[65]=t.z,l[66]=i.x,l[67]=t.y,l[68]=i.z,l[69]=t.x,l[70]=t.y,l[71]=i.z,h.position=new f.a({componentDatatype:c.a.DOUBLE,componentsPerAttribute:3,values:l})),n.normal){var _=new Float32Array(72);_[0]=0,_[1]=0,_[2]=1,_[3]=0,_[4]=0,_[5]=1,_[6]=0,_[7]=0,_[8]=1,_[9]=0,_[10]=0,_[11]=1,_[12]=0,_[13]=0,_[14]=-1,_[15]=0,_[16]=0,_[17]=-1,_[18]=0,_[19]=0,_[20]=-1,_[21]=0,_[22]=0,_[23]=-1,_[24]=1,_[25]=0,_[26]=0,_[27]=1,_[28]=0,_[29]=0,_[30]=1,_[31]=0,_[32]=0,_[33]=1,_[34]=0,_[35]=0,_[36]=-1,_[37]=0,_[38]=0,_[39]=-1,_[40]=0,_[41]=0,_[42]=-1,_[43]=0,_[44]=0,_[45]=-1,_[46]=0,_[47]=0,_[48]=0,_[49]=1,_[50]=0,_[51]=0,_[52]=1,_[53]=0,_[54]=0,_[55]=1,_[56]=0,_[57]=0,_[58]=1,_[59]=0,_[60]=0,_[61]=-1,_[62]=0,_[63]=0,_[64]=-1,_[65]=0,_[66]=0,_[67]=-1,_[68]=0,_[69]=0,_[70]=-1,_[71]=0,h.normal=new f.a({componentDatatype:c.a.FLOAT,componentsPerAttribute:3,values:_})}if(n.st){var b=new Float32Array(48);b[0]=0,b[1]=0,b[2]=1,b[3]=0,b[4]=1,b[5]=1,b[6]=0,b[7]=1,b[8]=1,b[9]=0,b[10]=0,b[11]=0,b[12]=0,b[13]=1,b[14]=1,b[15]=1,b[16]=0,b[17]=0,b[18]=1,b[19]=0,b[20]=1,b[21]=1,b[22]=0,b[23]=1,b[24]=1,b[25]=0,b[26]=0,b[27]=0,b[28]=0,b[29]=1,b[30]=1,b[31]=1,b[32]=1,b[33]=0,b[34]=0,b[35]=0,b[36]=0,b[37]=1,b[38]=1,b[39]=1,b[40]=0,b[41]=0,b[42]=1,b[43]=0,b[44]=1,b[45]=1,b[46]=0,b[47]=1,h.st=new f.a({componentDatatype:c.a.FLOAT,componentsPerAttribute:2,values:b})}if(n.tangent){var y=new Float32Array(72);y[0]=1,y[1]=0,y[2]=0,y[3]=1,y[4]=0,y[5]=0,y[6]=1,y[7]=0,y[8]=0,y[9]=1,y[10]=0,y[11]=0,y[12]=-1,y[13]=0,y[14]=0,y[15]=-1,y[16]=0,y[17]=0,y[18]=-1,y[19]=0,y[20]=0,y[21]=-1,y[22]=0,y[23]=0,y[24]=0,y[25]=1,y[26]=0,y[27]=0,y[28]=1,y[29]=0,y[30]=0,y[31]=1,y[32]=0,y[33]=0,y[34]=1,y[35]=0,y[36]=0,y[37]=-1,y[38]=0,y[39]=0,y[40]=-1,y[41]=0,y[42]=0,y[43]=-1,y[44]=0,y[45]=0,y[46]=-1,y[47]=0,y[48]=-1,y[49]=0,y[50]=0,y[51]=-1,y[52]=0,y[53]=0,y[54]=-1,y[55]=0,y[56]=0,y[57]=-1,y[58]=0,y[59]=0,y[60]=1,y[61]=0,y[62]=0,y[63]=1,y[64]=0,y[65]=0,y[66]=1,y[67]=0,y[68]=0,y[69]=1,y[70]=0,y[71]=0,h.tangent=new f.a({componentDatatype:c.a.FLOAT,componentsPerAttribute:3,values:y})}if(n.bitangent){var O=new Float32Array(72);O[0]=0,O[1]=1,O[2]=0,O[3]=0,O[4]=1,O[5]=0,O[6]=0,O[7]=1,O[8]=0,O[9]=0,O[10]=1,O[11]=0,O[12]=0,O[13]=1,O[14]=0,O[15]=0,O[16]=1,O[17]=0,O[18]=0,O[19]=1,O[20]=0,O[21]=0,O[22]=1,O[23]=0,O[24]=0,O[25]=0,O[26]=1,O[27]=0,O[28]=0,O[29]=1,O[30]=0,O[31]=0,O[32]=1,O[33]=0,O[34]=0,O[35]=1,O[36]=0,O[37]=0,O[38]=1,O[39]=0,O[40]=0,O[41]=1,O[42]=0,O[43]=0,O[44]=1,O[45]=0,O[46]=0,O[47]=1,O[48]=0,O[49]=0,O[50]=1,O[51]=0,O[52]=0,O[53]=1,O[54]=0,O[55]=0,O[56]=1,O[57]=0,O[58]=0,O[59]=1,O[60]=0,O[61]=0,O[62]=1,O[63]=0,O[64]=0,O[65]=1,O[66]=0,O[67]=0,O[68]=1,O[69]=0,O[70]=0,O[71]=1,h.bitangent=new f.a({componentDatatype:c.a.FLOAT,componentsPerAttribute:3,values:O})}s=new Uint16Array(36),s[0]=0,s[1]=1,s[2]=2,s[3]=0,s[4]=2,s[5]=3,s[6]=6,s[7]=5,s[8]=4,s[9]=7,s[10]=6,s[11]=4,s[12]=8,s[13]=9,s[14]=10,s[15]=8,s[16]=10,s[17]=11,s[18]=14,s[19]=13,s[20]=12,s[21]=15,s[22]=14,s[23]=12,s[24]=18,s[25]=17,s[26]=16,s[27]=19,s[28]=18,s[29]=16,s[30]=20,s[31]=21,s[32]=22,s[33]=20,s[34]=22,s[35]=23}else l=new Float64Array(24),l[0]=t.x,l[1]=t.y,l[2]=t.z,l[3]=i.x,l[4]=t.y,l[5]=t.z,l[6]=i.x,l[7]=i.y,l[8]=t.z,l[9]=t.x,l[10]=i.y,l[11]=t.z,l[12]=t.x,l[13]=t.y,l[14]=i.z,l[15]=i.x,l[16]=t.y,l[17]=i.z,l[18]=i.x,l[19]=i.y,l[20]=i.z,l[21]=t.x,l[22]=i.y,l[23]=i.z,h.position=new f.a({componentDatatype:c.a.DOUBLE,componentsPerAttribute:3,values:l}),s=new Uint16Array(36),s[0]=4,s[1]=5,s[2]=6,s[3]=4,s[4]=6,s[5]=7,s[6]=1,s[7]=0,s[8]=3,s[9]=1,s[10]=3,s[11]=2,s[12]=1,s[13]=6,s[14]=5,s[15]=1,s[16]=2,s[17]=6,s[18]=2,s[19]=3,s[20]=7,s[21]=2,s[22]=7,s[23]=6,s[24]=3,s[25]=0,s[26]=4,s[27]=3,s[28]=4,s[29]=7,s[30]=0,s[31]=1,s[32]=5,s[33]=0,s[34]=5,s[35]=4;var w=o.a.subtract(i,t,v),x=.5*o.a.magnitude(w);if(Object(u.a)(e._offsetAttribute)){var E=l.length,T=new Uint8Array(E/3),A=e._offsetAttribute===m.a.NONE?0:1;Object(a.a)(T,A),h.applyOffset=new f.a({componentDatatype:c.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:T})}return new d.a({attributes:h,indices:s,primitiveType:g.a.TRIANGLES,boundingSphere:new r.a(o.a.ZERO,x),offsetAttribute:e._offsetAttribute})}};var x;n.getUnitBox=function(){return Object(u.a)(x)||(x=n.createGeometry(n.fromDimensions({dimensions:new o.a(1,1,1),vertexFormat:_.a.POSITION_ONLY}))),x},t.a=n},"7tv9":function(e,t,i){"use strict";t.a="vec4 czm_transformPlane(vec4 clippingPlane, mat4 transform) {\n    vec3 transformedDirection = normalize((transform * vec4(clippingPlane.xyz, 0.0)).xyz);\n    vec3 transformedPosition = (transform * vec4(clippingPlane.xyz * -clippingPlane.w, 1.0)).xyz;\n    vec4 transformedPlane;\n    transformedPlane.xyz = transformedDirection;\n    transformedPlane.w = -dot(transformedDirection, transformedPosition);\n    return transformedPlane;\n}\n"},"7uRt":function(e,t,i){"use strict";function n(){this._array=[],this._hash={}}var a=i("xC6Q"),r=i("PzDm");Object.defineProperties(n.prototype,{length:{get:function(){return this._array.length}},values:{get:function(){return this._array}}}),n.prototype.contains=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new r.a("key is required to be a string or number.");return Object(a.a)(this._hash[e])},n.prototype.set=function(e,t){if("string"!=typeof e&&"number"!=typeof e)throw new r.a("key is required to be a string or number.");t!==this._hash[e]&&(this.remove(e),this._hash[e]=t,this._array.push(t))},n.prototype.get=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new r.a("key is required to be a string or number.");return this._hash[e]},n.prototype.remove=function(e){if(Object(a.a)(e)&&"string"!=typeof e&&"number"!=typeof e)throw new r.a("key is required to be a string or number.");var t=this._hash[e],i=Object(a.a)(t);if(i){var n=this._array;n.splice(n.indexOf(t),1),delete this._hash[e]}return i},n.prototype.removeAll=function(){var e=this._array;e.length>0&&(this._hash={},e.length=0)},t.a=n},"7wJ7":function(e,t,i){"use strict";function n(e){e=Object(s.a)(e,u.a.WGS84),this.show=!0,this._ellipsoid=e,this._command=new g.a({owner:this}),this._spSkyFromSpace=void 0,this._spSkyFromAtmosphere=void 0,this._spSkyFromSpaceColorCorrect=void 0,this._spSkyFromAtmosphereColorCorrect=void 0,this.hueShift=0,this.saturationShift=0,this.brightnessShift=0,this._hueSaturationBrightness=new r.a;var t=new o.a;t.w=0,t.y=r.a.maximumComponent(r.a.multiplyByScalar(e.radii,1.025,new r.a)),t.z=e.maximumRadius,this._cameraAndRadiiAndDynamicAtmosphereColor=t;var i=this;this._command.uniformMap={u_cameraAndRadiiAndDynamicAtmosphereColor:function(){return i._cameraAndRadiiAndDynamicAtmosphereColor},u_hsbShift:function(){return i._hueSaturationBrightness.x=i.hueShift,i._hueSaturationBrightness.y=i.saturationShift,i._hueSaturationBrightness.z=i.brightnessShift,i._hueSaturationBrightness}}}function a(e){return!(f.a.equalsEpsilon(e.hueShift,0,f.a.EPSILON7)&&f.a.equalsEpsilon(e.saturationShift,0,f.a.EPSILON7)&&f.a.equalsEpsilon(e.brightnessShift,0,f.a.EPSILON7))}var r=i("Jj+J"),o=i("PDkd"),s=i("5A4e"),c=i("xC6Q"),l=i("6sr8"),u=i("y6fO"),h=i("KjOc"),d=i("odWO"),f=i("fq+p"),p=i("xvTE"),m=i("rFKc"),g=i("1mJh"),_=i("DrvA"),v=i("WUlw"),b=i("x6Ms"),y=i("+0EW"),O=i("JdCg"),w=i("SOVN"),x=i("OtDm"),E=i("3fQz"),T=i("sotJ");Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),n.prototype.setDynamicAtmosphereColor=function(e,t){this._cameraAndRadiiAndDynamicAtmosphereColor.w=e?t?2:1:0},n.prototype.update=function(e){if(this.show){var t=e.mode;if((t===T.a.SCENE3D||t===T.a.MORPHING)&&e.passes.render){var i=this._command;if(!Object(c.a)(i.vertexArray)){var n=e.context,o=h.a.createGeometry(new h.a({radii:r.a.multiplyByScalar(this._ellipsoid.radii,1.025,new r.a),slicePartitions:256,stackPartitions:256,vertexFormat:p.a.POSITION_ONLY}));i.vertexArray=y.a.fromGeometry({context:n,geometry:o,attributeLocations:d.a.createAttributeLocations(o),bufferUsage:m.a.STATIC_DRAW}),i.renderState=_.a.fromCache({cull:{enabled:!0,face:E.a.FRONT},blending:x.a.ALPHA_BLEND,depthMask:!1});var s=new b.a({defines:["SKY_FROM_SPACE"],sources:[w.a]});this._spSkyFromSpace=v.a.fromCache({context:n,vertexShaderSource:s,fragmentShaderSource:O.a}),s=new b.a({defines:["SKY_FROM_ATMOSPHERE"],sources:[w.a]}),this._spSkyFromAtmosphere=v.a.fromCache({context:n,vertexShaderSource:s,fragmentShaderSource:O.a})}var l=a(this);if(l&&(!Object(c.a)(this._spSkyFromSpaceColorCorrect)||!Object(c.a)(this._spSkyFromAtmosphereColorCorrect))){var u=e.context,f=new b.a({defines:["SKY_FROM_SPACE"],sources:[w.a]}),g=new b.a({defines:["COLOR_CORRECT"],sources:[O.a]});this._spSkyFromSpaceColorCorrect=v.a.fromCache({context:u,vertexShaderSource:f,fragmentShaderSource:g}),f=new b.a({defines:["SKY_FROM_ATMOSPHERE"],sources:[w.a]}),this._spSkyFromAtmosphereColorCorrect=v.a.fromCache({context:u,vertexShaderSource:f,fragmentShaderSource:g})}var A=e.camera.positionWC,C=r.a.magnitude(A);return this._cameraAndRadiiAndDynamicAtmosphereColor.x=C,C>this._cameraAndRadiiAndDynamicAtmosphereColor.y?i.shaderProgram=l?this._spSkyFromSpaceColorCorrect:this._spSkyFromSpace:i.shaderProgram=l?this._spSkyFromAtmosphereColorCorrect:this._spSkyFromAtmosphere,i}}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){var e=this._command;return e.vertexArray=e.vertexArray&&e.vertexArray.destroy(),this._spSkyFromSpace=this._spSkyFromSpace&&this._spSkyFromSpace.destroy(),this._spSkyFromAtmosphere=this._spSkyFromAtmosphere&&this._spSkyFromAtmosphere.destroy(),this._spSkyFromSpaceColorCorrect=this._spSkyFromSpaceColorCorrect&&this._spSkyFromSpaceColorCorrect.destroy(),this._spSkyFromAtmosphereColorCorrect=this._spSkyFromAtmosphereColorCorrect&&this._spSkyFromAtmosphereColorCorrect.destroy(),Object(l.a)(this)},t.a=n},"7xsx":function(e,t,i){"use strict";function n(){o.a.throwInstantiationError()}var a=i("6F0S"),r=i("xC6Q"),o=i("PzDm"),s=i("5SZ+");Object.defineProperties(n.prototype,{isConstant:{get:o.a.throwInstantiationError},definitionChanged:{get:o.a.throwInstantiationError}}),n.prototype.getType=o.a.throwInstantiationError,n.prototype.getValue=o.a.throwInstantiationError,n.prototype.equals=o.a.throwInstantiationError,n.getValue=function(e,t,i){var n;return Object(r.a)(t)&&(n=t.getType(e),Object(r.a)(n))?(Object(r.a)(i)&&i.type===n||(i=s.a.fromType(n)),t.getValue(e,i.uniforms),i):(Object(r.a)(i)&&i.type===s.a.ColorType||(i=s.a.fromType(s.a.ColorType)),a.a.clone(a.a.WHITE,i.uniforms.color),i)},t.a=n},"7ynu":function(e,t,i){"use strict";function n(e){this._positions=e.positions,this._widths=e.widths,this._counts=e.counts,this._batchIds=e.batchIds,this._ellipsoid=Object(m.a)(e.ellipsoid,v.a.WGS84),this._minimumHeight=e.minimumHeight,this._maximumHeight=e.maximumHeight,this._center=e.center,this._rectangle=e.rectangle,this._boundingVolume=e.boundingVolume,this._batchTable=e.batchTable,this._va=void 0,this._sp=void 0,this._rs=void 0,this._uniformMap=void 0,this._command=void 0,this._transferrableBatchIds=void 0,this._packedBuffer=void 0,this._currentPositions=void 0,this._previousPositions=void 0,this._nextPositions=void 0,this._expandAndWidth=void 0,this._vertexBatchIds=void 0,this._indices=void 0,this._constantColor=f.a.clone(f.a.WHITE),this._highlightColor=this._constantColor,this._trianglesLength=0,this._geometryByteLength=0,this._ready=!1,this._readyPromise=M.a.defer(),this._verticesPromise=void 0}function a(e){var t=e._rectangle,i=e._minimumHeight,n=e._maximumHeight,a=e._ellipsoid,r=e._center,o=2+w.a.packedLength+v.a.packedLength+d.a.packedLength,s=new Float64Array(o),c=0;return s[c++]=i,s[c++]=n,w.a.pack(t,s,c),c+=w.a.packedLength,v.a.pack(a,s,c),c+=v.a.packedLength,d.a.pack(r,s,c),s}function r(e,t){if(!Object(g.a)(e._va)){if(!Object(g.a)(e._verticesPromise)){var i=e._positions,n=e._widths,r=e._counts,o=e._transferrableBatchIds,s=e._packedBuffer;Object(g.a)(s)||(i=e._positions=Object(h.a)(i),n=e._widths=Object(h.a)(n),r=e._counts=Object(h.a)(r),o=e._transferrableBatchIds=Object(h.a)(e._batchIds),s=e._packedBuffer=a(e));var c=[i.buffer,n.buffer,r.buffer,o.buffer,s.buffer],l={positions:i.buffer,widths:n.buffer,counts:r.buffer,batchIds:o.buffer,packedBuffer:s.buffer},u=e._verticesPromise=F.scheduleTask(l,c);if(!Object(g.a)(u))return;Object(M.a)(u,function(t){e._currentPositions=new Float32Array(t.currentPositions),e._previousPositions=new Float32Array(t.previousPositions),e._nextPositions=new Float32Array(t.nextPositions),e._expandAndWidth=new Float32Array(t.expandAndWidth),e._vertexBatchIds=new Uint16Array(t.batchIds);var i=t.indexDatatype;e._indices=i===y.a.UNSIGNED_SHORT?new Uint16Array(t.indices):new Uint32Array(t.indices),e._ready=!0})}if(e._ready&&!Object(g.a)(e._va)){var d=e._currentPositions,f=e._previousPositions,m=e._nextPositions,_=e._expandAndWidth,v=e._vertexBatchIds,b=e._indices,O=f.byteLength+d.byteLength+m.byteLength;O+=_.byteLength+v.byteLength+b.byteLength,e._trianglesLength=b.length/3,e._geometryByteLength=O;var w=E.a.createVertexBuffer({context:t,typedArray:f,usage:T.a.STATIC_DRAW}),x=E.a.createVertexBuffer({context:t,typedArray:d,usage:T.a.STATIC_DRAW}),A=E.a.createVertexBuffer({context:t,typedArray:m,usage:T.a.STATIC_DRAW}),C=E.a.createVertexBuffer({context:t,typedArray:_,usage:T.a.STATIC_DRAW}),S=E.a.createVertexBuffer({context:t,typedArray:v,usage:T.a.STATIC_DRAW}),j=E.a.createIndexBuffer({context:t,typedArray:b,usage:T.a.STATIC_DRAW,indexDatatype:2===b.BYTES_PER_ELEMENT?y.a.UNSIGNED_SHORT:y.a.UNSIGNED_INT}),P=[{index:z.previousPosition,vertexBuffer:w,componentDatatype:p.a.FLOAT,componentsPerAttribute:3},{index:z.currentPosition,vertexBuffer:x,componentDatatype:p.a.FLOAT,componentsPerAttribute:3},{index:z.nextPosition,vertexBuffer:A,componentDatatype:p.a.FLOAT,componentsPerAttribute:3},{index:z.expandAndWidth,vertexBuffer:C,componentDatatype:p.a.FLOAT,componentsPerAttribute:2},{index:z.a_batchId,vertexBuffer:S,componentDatatype:p.a.UNSIGNED_SHORT,componentsPerAttribute:1}];e._va=new D.a({context:t,attributes:P,indexBuffer:j}),e._positions=void 0,e._widths=void 0,e._counts=void 0,e._ellipsoid=void 0,e._minimumHeight=void 0,e._maximumHeight=void 0,e._rectangle=void 0,e._transferrableBatchIds=void 0,e._packedBuffer=void 0,e._currentPositions=void 0,e._previousPositions=void 0,e._nextPositions=void 0,e._expandAndWidth=void 0,e._vertexBatchIds=void 0,e._indices=void 0,e._readyPromise.resolve()}}}function o(e,t){Object(g.a)(e._uniformMap)||(e._uniformMap={u_modifiedModelView:function(){var i=t.uniformState.view;return O.a.clone(i,B),O.a.multiplyByPoint(B,e._center,k),O.a.setTranslation(B,k,B),B},u_highlightColor:function(){return e._highlightColor}})}function s(e){if(!Object(g.a)(e._rs)){var t={enabled:!0,factor:-5,units:-5};e._rs=S.a.fromCache({blending:L.a.ALPHA_BLEND,depthMask:!1,depthTest:{enabled:!0},polygonOffset:t})}}function c(e,t){if(!Object(g.a)(e._sp)){var i=e._batchTable,n=i.getVertexShaderCallback(!1,"a_batchId",void 0)(R.a),a=i.getFragmentShaderCallback()(U,!1,void 0),r=new P.a({defines:["VECTOR_TILE",b.a.isInternetExplorer()?"":"CLIP_POLYLINE"],sources:[I.a,n]}),o=new P.a({defines:["VECTOR_TILE"],sources:[a]});e._sp=j.a.fromCache({context:t,vertexShaderSource:r,fragmentShaderSource:o,attributeLocations:z})}}function l(e,t){if(!Object(g.a)(e._command)){var i=e._batchTable.getUniformMapCallback()(e._uniformMap);e._command=new A.a({owner:e,vertexArray:e._va,renderState:e._rs,shaderProgram:e._sp,uniformMap:i,boundingVolume:e._boundingVolume,pass:C.a.TRANSLUCENT,pickId:e._batchTable.getPickId()})}t.commandList.push(e._command)}function u(e,t){for(var i=e._batchIds,n=i.length,a=0;a<n;++a){var r=i[a],o=t[r];o.show=!0,o.color=f.a.WHITE}}var h=i("Xku3"),d=i("Jj+J"),f=i("6F0S"),p=i("YCZg"),m=i("5A4e"),g=i("xC6Q"),_=i("6sr8"),v=i("y6fO"),b=i("gjtw"),y=i("oMsT"),O=i("Xjii"),w=i("Wq1U"),x=i("JlUm"),E=i("tW+E"),T=i("rFKc"),A=i("1mJh"),C=i("M0+0"),S=i("DrvA"),j=i("WUlw"),P=i("x6Ms"),D=i("+0EW"),I=i("6fa5"),R=i("VUWD"),M=i("S7OP"),L=i("OtDm"),N=i("/Wph");Object.defineProperties(n.prototype,{trianglesLength:{get:function(){return this._trianglesLength}},geometryByteLength:{get:function(){return this._geometryByteLength}},readyPromise:{get:function(){return this._readyPromise.promise}}});var F=new x.a("createVectorTilePolylines"),z={previousPosition:0,currentPosition:1,nextPosition:2,expandAndWidth:3,a_batchId:4},B=new O.a,k=new d.a,U="uniform vec4 u_highlightColor; \nvoid main()\n{\n    gl_FragColor = u_highlightColor;\n}\n";n.prototype.createFeatures=function(e,t){for(var i=this._batchIds,n=i.length,a=0;a<n;++a){var r=i[a];t[r]=new N.a(e,r)}},n.prototype.applyDebugSettings=function(e,t){this._highlightColor=e?t:this._constantColor};var V=new f.a,H=f.a.WHITE;n.prototype.applyStyle=function(e,t){if(!Object(g.a)(e))return void u(this,t);for(var i=this._batchIds,n=i.length,a=0;a<n;++a){var r=i[a],o=t[r];o.color=Object(g.a)(e.color)?e.color.evaluateColor(o,V):H,o.show=!Object(g.a)(e.show)||e.show.evaluate(o)}},n.prototype.update=function(e){var t=e.context;if(r(this,t),o(this,t),c(this,t),s(this),this._ready){var i=e.passes;(i.render||i.pick)&&l(this,e)}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._va=this._va&&this._va.destroy(),this._sp=this._sp&&this._sp.destroy(),Object(_.a)(this)},t.a=n},"80xk":function(e,t,i){"use strict";var n=i("EFIo"),a=Object.prototype.hasOwnProperty,r=Array.isArray,o={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},l=function(e,t){var i,l={__proto__:null},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,h=t.parameterLimit===1/0?void 0:t.parameterLimit,d=u.split(t.delimiter,h),f=-1,p=t.charset;if(t.charsetSentinel)for(i=0;i<d.length;++i)0===d[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[i]?p="utf-8":"utf8=%26%2310003%3B"===d[i]&&(p="iso-8859-1"),f=i,i=d.length);for(i=0;i<d.length;++i)if(i!==f){var m,g,_=d[i],v=_.indexOf("]="),b=-1===v?_.indexOf("="):v+1;-1===b?(m=t.decoder(_,o.decoder,p,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(_.slice(0,b),o.decoder,p,"key"),g=n.maybeMap(c(_.slice(b+1),t),function(e){return t.decoder(e,o.decoder,p,"value")})),g&&t.interpretNumericEntities&&"iso-8859-1"===p&&(g=s(g)),_.indexOf("[]=")>-1&&(g=r(g)?[g]:g);var y=a.call(l,m);y&&"combine"===t.duplicates?l[m]=n.combine(l[m],g):y&&"last"!==t.duplicates||(l[m]=g)}return l},u=function(e,t,i,n){for(var a=n?t:c(t,i),r=e.length-1;r>=0;--r){var o,s=e[r];if("[]"===s&&i.parseArrays)o=i.allowEmptyArrays&&""===a?[]:[].concat(a);else{o=i.plainObjects?Object.create(null):{};var l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=i.decodeDotInKeys?l.replace(/%2E/g,"."):l,h=parseInt(u,10);i.parseArrays||""!==u?!isNaN(h)&&s!==u&&String(h)===u&&h>=0&&i.parseArrays&&h<=i.arrayLimit?(o=[],o[h]=a):"__proto__"!==u&&(o[u]=a):o={0:a}}a=o}return a},h=function(e,t,i,n){if(e){var r=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=i.depth>0&&o.exec(r),l=c?r.slice(0,c.index):r,h=[];if(l){if(!i.plainObjects&&a.call(Object.prototype,l)&&!i.allowPrototypes)return;h.push(l)}for(var d=0;i.depth>0&&null!==(c=s.exec(r))&&d<i.depth;){if(d+=1,!i.plainObjects&&a.call(Object.prototype,c[1].slice(1,-1))&&!i.allowPrototypes)return;h.push(c[1])}return c&&h.push("["+r.slice(c.index)+"]"),u(h,t,i,n)}},d=function(e){if(!e)return o;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?o.charset:e.charset,i=void 0===e.duplicates?o.duplicates:e.duplicates;if("combine"!==i&&"first"!==i&&"last"!==i)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||o.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:o.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:o.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,duplicates:i,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}};e.exports=function(e,t){var i=d(t);if(""===e||null===e||void 0===e)return i.plainObjects?Object.create(null):{};for(var a="string"==typeof e?l(e,i):e,r=i.plainObjects?Object.create(null):{},o=Object.keys(a),s=0;s<o.length;++s){var c=o[s],u=h(c,a[c],i,"string"==typeof e);r=n.merge(r,u,i)}return!0===i.allowSparse?r:n.compact(r)}},"87Vu":function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT);var t=Object(a.a)(e.translucent,!0),i=n.VERTEX_FORMAT;this.material=Object(r.a)(e.material)?e.material:d.a.fromType(d.a.ColorType),this.translucent=t,this._vertexShaderSource=Object(a.a)(e.vertexShaderSource,f),this._fragmentShaderSource=Object(a.a)(e.fragmentShaderSource,p),this._renderState=h.a.getDefaultRenderState(t,!1,e.renderState),this._closed=!1,this._vertexFormat=i}var a=i("5A4e"),r=i("xC6Q"),o=i("gjtw"),s=i("xvTE"),c=i("lV5x"),l=i("6fa5"),u=i("/Ufj"),h=i("fSWn"),d=i("5SZ+"),f=l.a+"\n"+c.a,p=u.a;o.a.isInternetExplorer()||(f="#define CLIP_POLYLINE \n"+f),Object.defineProperties(n.prototype,{vertexShaderSource:{get:function(){var e=this._vertexShaderSource;return-1!==this.material.shaderSource.search(/varying\s+float\s+v_polylineAngle;/g)&&(e="#define POLYLINE_DASH\n"+e),e}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return this._vertexFormat}}}),n.VERTEX_FORMAT=s.a.POSITION_AND_ST,n.prototype.getFragmentShaderSource=h.a.prototype.getFragmentShaderSource,n.prototype.isTranslucent=h.a.prototype.isTranslucent,n.prototype.getRenderState=h.a.prototype.getRenderState,t.a=n},"87vf":function(e,t,i){e.exports=i("7dSG")},"88yN":function(e,t,i){"use strict";function n(e,t){if(!(this instanceof n))return new n(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function a(e,t,i){if(!i)return t.indexOf(e);for(var n=0;n<t.length;n++)if(i(e,t[n]))return n;return-1}function r(e,t){o(e,0,e.children.length,t,e)}function o(e,t,i,n,a){a||(a=g(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var r,o=t;o<i;o++)r=e.children[o],s(a,e.leaf?n(r):r);return a}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function c(e,t){return e.minX-t.minX}function l(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function f(e,t){var i=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),a=Math.min(e.maxX,t.maxX),r=Math.min(e.maxY,t.maxY);return Math.max(0,a-i)*Math.max(0,r-n)}function p(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function m(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function g(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(e,t,i,n,a){for(var r,o=[t,i];o.length;)i=o.pop(),t=o.pop(),i-t<=n||(r=t+Math.ceil((i-t)/n/2)*n,Object(v.a)(e,r,t,i,a),o.push(t,r,r,i))}var v=i("8Pv0");n.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],n=this.toBBox;if(!m(e,t))return i;for(var a,r,o,s,c=[];t;){for(a=0,r=t.children.length;a<r;a++)o=t.children[a],s=t.leaf?n(o):o,m(e,s)&&(t.leaf?i.push(o):p(e,s)?this._all(o,i):c.push(o));t=c.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!m(e,t))return!1;for(var n,a,r,o,s=[];t;){for(n=0,a=t.children.length;n<a;n++)if(r=t.children[n],o=t.leaf?i(r):r,m(e,o)){if(t.leaf||p(e,o))return!0;s.push(r)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var a=this.data;this.data=n,n=a}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(e,t){if(!e)return this;for(var i,n,r,o,s=this.data,c=this.toBBox(e),l=[],u=[];s||l.length;){if(s||(s=l.pop(),n=l[l.length-1],i=u.pop(),o=!0),s.leaf&&-1!==(r=a(e,s.children,t)))return s.children.splice(r,1),l.push(s),this._condense(l),this;o||s.leaf||!p(s,c)?n?(i++,s=n.children[i],o=!1):s=null:(l.push(s),u.push(i),i=0,n=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:c,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,n){var a,o=i-t+1,s=this._maxEntries;if(o<=s)return a=g(e.slice(t,i+1)),r(a,this.toBBox),a;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),a=g([]),a.leaf=!1,a.height=n;var c,l,u,h,d=Math.ceil(o/s),f=d*Math.ceil(Math.sqrt(s));for(_(e,t,i,f,this.compareMinX),c=t;c<=i;c+=f)for(u=Math.min(c+f-1,i),_(e,c,u,d,this.compareMinY),l=c;l<=u;l+=d)h=Math.min(l+d-1,u),a.children.push(this._build(e,l,h,n-1));return r(a,this.toBBox),a},_chooseSubtree:function(e,t,i,n){for(var a,r,o,s,c,l,h,f;;){if(n.push(t),t.leaf||n.length-1===i)break;for(h=f=1/0,a=0,r=t.children.length;a<r;a++)o=t.children[a],c=u(o),l=d(e,o)-c,l<f?(f=l,h=c<h?c:h,s=o):l===f&&c<h&&(h=c,s=o);t=s||t.children[0]}return t},_insert:function(e,t,i){var n=this.toBBox,a=i?e:n(e),r=[],o=this._chooseSubtree(a,this.data,t,r);for(o.children.push(e),s(o,a);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(a,r,t)},_split:function(e,t){var i=e[t],n=i.children.length,a=this._minEntries;this._chooseSplitAxis(i,a,n);var o=this._chooseSplitIndex(i,a,n),s=g(i.children.splice(o,i.children.length-o));s.height=i.height,s.leaf=i.leaf,r(i,this.toBBox),r(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(e,t){this.data=g([e,t]),this.data.height=e.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var n,a,r,s,c,l,h,d;for(l=h=1/0,n=t;n<=i-t;n++)a=o(e,0,n,this.toBBox),r=o(e,n,i,this.toBBox),s=f(a,r),c=u(a)+u(r),s<l?(l=s,d=n,h=c<h?c:h):s===l&&c<h&&(h=c,d=n);return d},_chooseSplitAxis:function(e,t,i){var n=e.leaf?this.compareMinX:c,a=e.leaf?this.compareMinY:l;this._allDistMargin(e,t,i,n)<this._allDistMargin(e,t,i,a)&&e.children.sort(n)},_allDistMargin:function(e,t,i,n){e.children.sort(n);var a,r,c=this.toBBox,l=o(e,0,t,c),u=o(e,i-t,i,c),d=h(l)+h(u);for(a=t;a<i-t;a++)r=e.children[a],s(l,e.leaf?c(r):r),d+=h(l);for(a=i-t-1;a>=t;a--)r=e.children[a],s(u,e.leaf?c(r):r),d+=h(u);return d},_adjustParentBBoxes:function(e,t,i){for(var n=i;n>=0;n--)s(t[n],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)0===e[i].children.length?i>0?(t=e[i-1].children,t.splice(t.indexOf(e[i]),1)):this.clear():r(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},t.a=n},"8EHP":function(e,t,i){"use strict";var n=i("xC6Q"),a=i("PzDm"),r={type:"Linear"};r.getRequiredDataPoints=function(e){return 2},r.interpolateOrderZero=function(e,t,i,r,o){if(2!==t.length)throw new a.a("The xTable provided to the linear interpolator must have exactly two elements.");if(r<=0)throw new a.a("There must be at least 1 dependent variable for each independent variable.");Object(n.a)(o)||(o=new Array(r));var s,c,l,u=t[0],h=t[1];if(u===h)throw new a.a("Divide by zero error: xTable[0] and xTable[1] are equal");for(s=0;s<r;s++)c=i[s],l=i[s+r],o[s]=((l-c)*e+h*c-u*l)/(h-u);return o},t.a=r},"8M+T":function(e,t,i){"use strict";function n(){this._layers=[],this.layerAdded=new u.a,this.layerRemoved=new u.a,this.layerMoved=new u.a,this.layerShownOrHidden=new u.a}function a(e,t){if(!Object(s.a)(t))throw new l.a("layer is required.");var i=e.indexOf(t);if(-1===i)throw new l.a("layer is not in this collection.");return i}function r(e,t,i){var n=e._layers;if(t=h.a.clamp(t,0,n.length-1),i=h.a.clamp(i,0,n.length-1),t!==i){var a=n[t];n[t]=n[i],n[i]=a,e._update(),e.layerMoved.raiseEvent(a,i,t)}}var o=i("5A4e"),s=i("xC6Q"),c=i("6sr8"),l=i("PzDm"),u=i("W6xh"),h=i("fq+p"),d=i("Wq1U"),f=i("S7OP"),p=i("u/3x");Object.defineProperties(n.prototype,{length:{get:function(){return this._layers.length}}}),n.prototype.add=function(e,t){var i=Object(s.a)(t);if(!Object(s.a)(e))throw new l.a("layer is required.");if(i){if(t<0)throw new l.a("index must be greater than or equal to zero.");if(t>this._layers.length)throw new l.a("index must be less than or equal to the number of layers.")}i?this._layers.splice(t,0,e):(t=this._layers.length,this._layers.push(e)),this._update(),this.layerAdded.raiseEvent(e,t)},n.prototype.addImageryProvider=function(e,t){if(!Object(s.a)(e))throw new l.a("imageryProvider is required.");var i=new p.a(e);return this.add(i,t),i},n.prototype.remove=function(e,t){t=Object(o.a)(t,!0);var i=this._layers.indexOf(e);return-1!==i&&(this._layers.splice(i,1),this._update(),this.layerRemoved.raiseEvent(e,i),t&&e.destroy(),!0)},n.prototype.removeAll=function(e){e=Object(o.a)(e,!0);for(var t=this._layers,i=0,n=t.length;i<n;i++){var a=t[i];this.layerRemoved.raiseEvent(a,i),e&&a.destroy()}this._layers=[]},n.prototype.contains=function(e){return-1!==this.indexOf(e)},n.prototype.indexOf=function(e){return this._layers.indexOf(e)},n.prototype.get=function(e){if(!Object(s.a)(e))throw new l.a("index is required.","index");return this._layers[e]},n.prototype.raise=function(e){var t=a(this._layers,e);r(this,t,t+1)},n.prototype.lower=function(e){var t=a(this._layers,e);r(this,t,t-1)},n.prototype.raiseToTop=function(e){var t=a(this._layers,e);t!==this._layers.length-1&&(this._layers.splice(t,1),this._layers.push(e),this._update(),this.layerMoved.raiseEvent(e,this._layers.length-1,t))},n.prototype.lowerToBottom=function(e){var t=a(this._layers,e);0!==t&&(this._layers.splice(t,1),this._layers.splice(0,0,e),this._update(),this.layerMoved.raiseEvent(e,0,t))};var m=new d.a;n.prototype.pickImageryLayerFeatures=function(e,t){var i=t.globe.pick(e,t);if(Object(s.a)(i)){for(var n,a=t.globe.ellipsoid.cartesianToCartographic(i),r=t.globe._surface._tilesToRender,o=0;!Object(s.a)(n)&&o<r.length;++o){var c=r[o];d.a.contains(c.rectangle,a)&&(n=c)}if(Object(s.a)(n)){for(var l=n.data.imagery,u=[],p=[],g=l.length-1;g>=0;--g){var _=l[g],v=_.readyImagery;if(Object(s.a)(v)){var b=v.imageryLayer.imageryProvider;if(Object(s.a)(b.pickFeatures)&&d.a.contains(v.rectangle,a)){var y=m;if(y.west=h.a.lerp(n.rectangle.west,n.rectangle.east,_.textureCoordinateRectangle.x-1/1024),y.east=h.a.lerp(n.rectangle.west,n.rectangle.east,_.textureCoordinateRectangle.z+1/1024),y.south=h.a.lerp(n.rectangle.south,n.rectangle.north,_.textureCoordinateRectangle.y-1/1024),y.north=h.a.lerp(n.rectangle.south,n.rectangle.north,_.textureCoordinateRectangle.w+1/1024),d.a.contains(y,a)){var O=b.pickFeatures(v.x,v.y,v.level,a.longitude,a.latitude);Object(s.a)(O)&&(u.push(O),p.push(v.imageryLayer))}}}}if(0!==u.length)return f.a.all(u,function(e){for(var t=[],i=0;i<e.length;++i){var n=e[i],r=p[i];if(Object(s.a)(n)&&n.length>0)for(var o=0;o<n.length;++o){var c=n[o];c.imageryLayer=r,Object(s.a)(c.position)||(c.position=a),t.push(c)}}return t})}}},n.prototype.queueReprojectionCommands=function(e){for(var t=this._layers,i=0,n=t.length;i<n;++i)t[i].queueReprojectionCommands(e)},n.prototype.cancelReprojections=function(){for(var e=this._layers,t=0,i=e.length;t<i;++t)e[t].cancelReprojections()},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this.removeAll(!0),Object(c.a)(this)},n.prototype._update=function(){var e,t,i,n,a=!0,r=this._layers;for(i=0,n=r.length;i<n;++i)t=r[i],t._layerIndex=i,t.show?(t._isBaseLayer=a,a=!1):t._isBaseLayer=!1,t.show!==t._show&&(Object(s.a)(t._show)&&(Object(s.a)(e)||(e=[]),e.push(t)),t._show=t.show);if(Object(s.a)(e))for(i=0,n=e.length;i<n;++i)t=e[i],this.layerShownOrHidden.raiseEvent(t,t._layerIndex,t.show)},t.a=n},"8Pv0":function(e,t,i){"use strict";function n(e,t,i,n,r){a(e,t,i||0,n||e.length-1,r||o)}function a(e,t,i,n,o){for(;n>i;){if(n-i>600){var s=n-i+1,c=t-i+1,l=Math.log(s),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(s-u)/s)*(c-s/2<0?-1:1);a(e,t,Math.max(i,Math.floor(t-c*u/s+h)),Math.min(n,Math.floor(t+(s-c)*u/s+h)),o)}var d=e[t],f=i,p=n;for(r(e,i,t),o(e[n],d)>0&&r(e,i,n);f<p;){for(r(e,f,p),f++,p--;o(e[f],d)<0;)f++;for(;o(e[p],d)>0;)p--}0===o(e[i],d)?r(e,i,p):(p++,r(e,p,n)),p<=t&&(i=p+1),t<=p&&(n=p-1)}}function r(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function o(e,t){return e<t?-1:e>t?1:0}t.a=n},"8VAC":function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\nuniform sampler2D silhouetteTexture;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main(void)\n{\n    vec4 silhouetteColor = texture2D(silhouetteTexture, v_textureCoordinates);\n    vec4 color = texture2D(colorTexture, v_textureCoordinates);\n    gl_FragColor = mix(color, silhouetteColor, silhouetteColor.a);\n}\n"},"8Vjj":function(e,t,i){"use strict";/**
 * @license
 *
 * Grauw URI utilities
 *
 * See: http://hg.grauw.nl/grauw-lib/file/tip/src/uri.js
 *
 * @author Laurens Holst (http://www.grauw.nl/)
 *
 *   Copyright 2012 Laurens Holst
 *
 *   Licensed under the Apache License, Version 2.0 (the "License");
 *   you may not use this file except in compliance with the License.
 *   You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 *   Unless required by applicable law or agreed to in writing, software
 *   distributed under the License is distributed on an "AS IS" BASIS,
 *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *   See the License for the specific language governing permissions and
 *   limitations under the License.
 *
 */
function n(e){if(e instanceof n)this.scheme=e.scheme,this.authority=e.authority,this.path=e.path,this.query=e.query,this.fragment=e.fragment;else if(e){var t=o.exec(e);this.scheme=t[1],this.authority=t[2],this.path=t[3],this.query=t[4],this.fragment=t[5]}}function a(e){var t=unescape(e);return c.test(t)?t:e.toUpperCase()}function r(e,t,i,n){return(t||"")+i.toLowerCase()+(n||"")}n.prototype.scheme=null,n.prototype.authority=null,n.prototype.path="",n.prototype.query=null,n.prototype.fragment=null;var o=new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$");n.prototype.getScheme=function(){return this.scheme},n.prototype.getAuthority=function(){return this.authority},n.prototype.getPath=function(){return this.path},n.prototype.getQuery=function(){return this.query},n.prototype.getFragment=function(){return this.fragment},n.prototype.isAbsolute=function(){return!!this.scheme&&!this.fragment},n.prototype.isSameDocumentAs=function(e){return e.scheme==this.scheme&&e.authority==this.authority&&e.path==this.path&&e.query==this.query},n.prototype.equals=function(e){return this.isSameDocumentAs(e)&&e.fragment==this.fragment},n.prototype.normalize=function(){this.removeDotSegments(),this.scheme&&(this.scheme=this.scheme.toLowerCase()),this.authority&&(this.authority=this.authority.replace(l,r).replace(s,a)),this.path&&(this.path=this.path.replace(s,a)),this.query&&(this.query=this.query.replace(s,a)),this.fragment&&(this.fragment=this.fragment.replace(s,a))};var s=/%[0-9a-z]{2}/gi,c=/[a-zA-Z0-9\-\._~]/,l=/(.*@)?([^@:]*)(:.*)?/;n.prototype.resolve=function(e){var t=new n;return this.scheme?(t.scheme=this.scheme,t.authority=this.authority,t.path=this.path,t.query=this.query):(t.scheme=e.scheme,this.authority?(t.authority=this.authority,t.path=this.path,t.query=this.query):(t.authority=e.authority,""==this.path?(t.path=e.path,t.query=this.query||e.query):("/"==this.path.charAt(0)?(t.path=this.path,t.removeDotSegments()):(e.authority&&""==e.path?t.path="/"+this.path:t.path=e.path.substring(0,e.path.lastIndexOf("/")+1)+this.path,t.removeDotSegments()),t.query=this.query))),t.fragment=this.fragment,t},n.prototype.removeDotSegments=function(){var e,t=this.path.split("/"),i=[],n=""==t[0];n&&t.shift();for(""==t[0]&&t.shift();t.length;)e=t.shift(),".."==e?i.pop():"."!=e&&i.push(e);"."!=e&&".."!=e||i.push(""),n&&i.unshift(""),this.path=i.join("/")},n.prototype.toString=function(){var e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+this.authority),e+=this.path,this.query&&(e+="?"+this.query),this.fragment&&(e+="#"+this.fragment),e},t.a=n},"8X7g":function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\nuniform float gradations;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main(void)\n{\n    vec3 rgb = texture2D(colorTexture, v_textureCoordinates).rgb;\n#ifdef CZM_SELECTED_FEATURE\n    if (czm_selected()) {\n        gl_FragColor = vec4(rgb, 1.0);\n        return;\n    }\n#endif\n    float luminance = czm_luminance(rgb);\n    float darkness = luminance * gradations;\n    darkness = (darkness - fract(darkness)) / gradations;\n    gl_FragColor = vec4(vec3(darkness), 1.0);\n}\n"},"8aKa":function(e,t,i){"use strict";function n(e){for(var t=e.length,i=new Float64Array(3*t),n=v.a.createTypedArray(t,2*t),a=0,r=0,o=0;o<t;o++){var s=e[o];i[a++]=s.x,i[a++]=s.y,i[a++]=s.z,n[r++]=o,n[r++]=(o+1)%t}var c=new m.a({position:new p.a({componentDatatype:l.a.DOUBLE,componentsPerAttribute:3,values:i})});return new f.a({attributes:c,indices:n,primitiveType:y.a.LINES})}function a(e){e=Object(h.a)(e,h.a.EMPTY_OBJECT);var t=e.polygonHierarchy;c.a.defined("options.polygonHierarchy",t),this._polygonHierarchy=t,this._workerName="createCoplanarPolygonOutlineGeometry",this.packedLength=b.a.computeHierarchyPackedLength(t)+1}var r=i("6Ilv"),o=i("lBr9"),s=i("Jj+J"),c=i("5F4X"),l=i("YCZg"),u=i("2MMM"),h=i("5A4e"),d=i("xC6Q"),f=i("RGAo"),p=i("RYD3"),m=i("GaJK"),g=i("izcu"),_=i("odWO"),v=i("oMsT"),b=i("qG/l"),y=i("nHNe");a.fromPositions=function(e){return e=Object(h.a)(e,h.a.EMPTY_OBJECT),c.a.defined("options.positions",e.positions),new a({polygonHierarchy:{positions:e.positions}})},a.pack=function(e,t,i){return c.a.typeOf.object("value",e),c.a.defined("array",t),i=Object(h.a)(i,0),i=b.a.packPolygonHierarchy(e._polygonHierarchy,t,i),t[i]=e.packedLength,t};var O={polygonHierarchy:{}};a.unpack=function(e,t,i){c.a.defined("array",e),t=Object(h.a)(t,0);var n=b.a.unpackPolygonHierarchy(e,t);t=n.startingIndex,delete n.startingIndex;var r=e[t];return Object(d.a)(i)||(i=new a(O)),i._polygonHierarchy=n,i.packedLength=r,i},a.createGeometry=function(e){var t=e._polygonHierarchy,i=t.positions;if(i=Object(r.a)(i,s.a.equalsEpsilon,!0),!(i.length<3)){if(u.a.validOutline(i)){var a=b.a.polygonOutlinesFromHierarchy(t,!1);if(0!==a.length){for(var c=[],l=0;l<a.length;l++){var h=new g.a({geometry:n(a[l])});c.push(h)}var d=_.a.combineInstances(c)[0],p=o.a.fromPoints(t.positions);return new f.a({attributes:d.attributes,indices:d.indices,primitiveType:d.primitiveType,boundingSphere:p})}}}},t.a=a},"8g3U":function(e,t,i){"use strict";function n(e,t){this.rectangle=e,this.maxLevel=t}function a(e){function t(e){var t=e.getElementsByTagName("SRS")[0].textContent;if("EPSG:4326"!==t)return void i("SRS "+t+" is not supported.");g._tilingScheme=new p.a({ellipsoid:w});var a=e.getElementsByTagName("TileFormat")[0];g._heightmapWidth=parseInt(a.getAttribute("width"),10),g._heightmapHeight=parseInt(a.getAttribute("height"),10),g._levelZeroMaximumGeometricError=y.a.getEstimatedLevelZeroGeometricErrorForAHeightmap(w,Math.min(g._heightmapWidth,g._heightmapHeight),g._tilingScheme.getNumberOfXTilesAtLevel(0));for(var r=e.getElementsByTagName("DataExtent"),o=0;o<r.length;++o){var s=r[o],c=_.a.toRadians(parseFloat(s.getAttribute("minx"))),l=_.a.toRadians(parseFloat(s.getAttribute("miny"))),u=_.a.toRadians(parseFloat(s.getAttribute("maxx"))),h=_.a.toRadians(parseFloat(s.getAttribute("maxy"))),d=parseInt(s.getAttribute("maxlevel"),10);g._rectangles.push(new n(new v.a(c,l,u,h),d))}g._ready=!0,g._readyPromise.resolve(!0)}function i(e){var t=Object(l.a)(e,"An error occurred while accessing "+g._resource.url+".");m=O.a.handleError(m,g,g._errorEvent,t,void 0,void 0,void 0,a)}function a(){Object(s.a)(g._resource.fetchXML(),t,i)}if(e=Object(l.a)(e,l.a.EMPTY_OBJECT),!Object(u.a)(e.url))throw new h.a("options.url is required.");var r=b.a.createIfNeeded(e.url);this._resource=r,this._errorEvent=new f.a,this._ready=!1,this._readyPromise=s.a.defer(),this._terrainDataStructure={heightScale:.001,heightOffset:-1e3,elementsPerHeight:3,stride:4,elementMultiplier:256,isBigEndian:!0,lowestEncodedHeight:0,highestEncodedHeight:16777215};var o=e.credit;"string"==typeof o&&(o=new c.a(o)),this._credit=o,this._tilingScheme=void 0,this._rectangles=[];var m,g=this,w=Object(l.a)(e.ellipsoid,d.a.WGS84);a()}function r(e,t,i,n){for(var a=e._tilingScheme,r=e._rectangles,s=a.tileXYToRectangle(t,i,n),c=0,l=0;l<r.length&&15!==c;++l){var h=r[l];if(!(h.maxLevel<=n)){var d=h.rectangle,f=v.a.intersection(d,s,w);Object(u.a)(f)&&(o(a,d,2*t,2*i,n+1)&&(c|=4),o(a,d,2*t+1,2*i,n+1)&&(c|=8),o(a,d,2*t,2*i+1,n+1)&&(c|=1),o(a,d,2*t+1,2*i+1,n+1)&&(c|=2))}}return c}function o(e,t,i,n,a){var r=e.tileXYToRectangle(i,n,a);return Object(u.a)(v.a.intersection(r,t,w))}var s=i("S7OP"),c=i("ODTd"),l=i("5A4e"),u=i("xC6Q"),h=i("PzDm"),d=i("y6fO"),f=i("W6xh"),p=i("4MnW"),m=i("NxCm"),g=i("l3S0"),_=i("fq+p"),v=i("Wq1U"),b=i("rMjQ"),y=i("9xui"),O=i("M1To");Object.defineProperties(a.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){if(!this.ready)throw new h.a("requestTileGeometry must not be called before ready returns true.");return this._tilingScheme}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}}}),a.prototype.requestTileGeometry=function(e,t,i,n){if(!this.ready)throw new h.a("requestTileGeometry must not be called before ready returns true.");var a=this._tilingScheme.getNumberOfYTilesAtLevel(i),o=this._resource.getDerivedResource({url:i+"/"+e+"/"+(a-t-1)+".tif",queryParameters:{cesium:!0},request:n}),c=o.fetchImage({preferImageBitmap:!0});if(Object(u.a)(c)){var l=this;return Object(s.a)(c).then(function(n){return new g.a({buffer:Object(m.a)(n),width:l._heightmapWidth,height:l._heightmapHeight,childTileMask:r(l,e,t,i),structure:l._terrainDataStructure})})}},a.prototype.getLevelMaximumGeometricError=function(e){if(!this.ready)throw new h.a("requestTileGeometry must not be called before ready returns true.");return this._levelZeroMaximumGeometricError/(1<<e)};var w=new v.a;a.prototype.getTileDataAvailable=function(e,t,i){},a.prototype.loadTileDataAvailability=function(e,t,i){}},"8i9/":function(e,t,i){"use strict";function n(){}var a=i("PzDm");Object.defineProperties(n.prototype,{color:{get:a.a.throwInstantiationError},intensity:{get:a.a.throwInstantiationError}})},"8rzt":function(e,t,i){"use strict";var n=i("Ss9j"),a=i("Jj+J"),r=i("5F4X"),o=i("xC6Q"),s=i("PzDm"),c={};c.clipTriangleAtAxisAlignedThreshold=function(e,t,i,n,a,r){if(!Object(o.a)(e))throw new s.a("threshold is required.");if(!Object(o.a)(t))throw new s.a("keepAbove is required.");if(!Object(o.a)(i))throw new s.a("u0 is required.");if(!Object(o.a)(n))throw new s.a("u1 is required.");if(!Object(o.a)(a))throw new s.a("u2 is required.");Object(o.a)(r)?r.length=0:r=[];var c,l,u;t?(c=i<e,l=n<e,u=a<e):(c=i>e,l=n>e,u=a>e);var h,d,f,p,m,g,_=c+l+u;return 1===_?c?(h=(e-i)/(n-i),d=(e-i)/(a-i),r.push(1),r.push(2),1!==d&&(r.push(-1),r.push(0),r.push(2),r.push(d)),1!==h&&(r.push(-1),r.push(0),r.push(1),r.push(h))):l?(f=(e-n)/(a-n),p=(e-n)/(i-n),r.push(2),r.push(0),1!==p&&(r.push(-1),r.push(1),r.push(0),r.push(p)),1!==f&&(r.push(-1),r.push(1),r.push(2),r.push(f))):u&&(m=(e-a)/(i-a),g=(e-a)/(n-a),r.push(0),r.push(1),1!==g&&(r.push(-1),r.push(2),r.push(1),r.push(g)),1!==m&&(r.push(-1),r.push(2),r.push(0),r.push(m))):2===_?c||i===e?l||n===e?u||a===e||(d=(e-i)/(a-i),f=(e-n)/(a-n),r.push(2),r.push(-1),r.push(0),r.push(2),r.push(d),r.push(-1),r.push(1),r.push(2),r.push(f)):(g=(e-a)/(n-a),h=(e-i)/(n-i),r.push(1),r.push(-1),r.push(2),r.push(1),r.push(g),r.push(-1),r.push(0),r.push(1),r.push(h)):(p=(e-n)/(i-n),m=(e-a)/(i-a),r.push(0),r.push(-1),r.push(1),r.push(0),r.push(p),r.push(-1),r.push(2),r.push(0),r.push(m)):3!==_&&(r.push(0),r.push(1),r.push(2)),r},c.computeBarycentricCoordinates=function(e,t,i,n,r,c,l,u,h){if(!Object(o.a)(e))throw new s.a("x is required.");if(!Object(o.a)(t))throw new s.a("y is required.");if(!Object(o.a)(i))throw new s.a("x1 is required.");if(!Object(o.a)(n))throw new s.a("y1 is required.");if(!Object(o.a)(r))throw new s.a("x2 is required.");if(!Object(o.a)(c))throw new s.a("y2 is required.");if(!Object(o.a)(l))throw new s.a("x3 is required.");if(!Object(o.a)(u))throw new s.a("y3 is required.");var d=i-l,f=l-r,p=c-u,m=n-u,g=1/(p*d+f*m),_=t-u,v=e-l,b=(p*v+f*_)*g,y=(-m*v+d*_)*g,O=1-b-y;return Object(o.a)(h)?(h.x=b,h.y=y,h.z=O,h):new a.a(b,y,O)},c.computeLineSegmentLineSegmentIntersection=function(e,t,i,a,s,c,l,u,h){r.a.typeOf.number("x00",e),r.a.typeOf.number("y00",t),r.a.typeOf.number("x01",i),r.a.typeOf.number("y01",a),r.a.typeOf.number("x10",s),r.a.typeOf.number("y10",c),r.a.typeOf.number("x11",l),r.a.typeOf.number("y11",u);var d=(l-s)*(t-c)-(u-c)*(e-s),f=(i-e)*(t-c)-(a-t)*(e-s),p=(u-c)*(i-e)-(l-s)*(a-t);if(0!==p){var m=d/p,g=f/p;return m>=0&&m<=1&&g>=0&&g<=1?(Object(o.a)(h)||(h=new n.a),h.x=e+m*(i-e),h.y=t+m*(a-t),h):void 0}},t.a=c},"8uSS":function(e,t,i){"use strict";function n(e){switch(e){case"SCALAR":return 1;case"VEC2":return 2;case"VEC3":return 3;case"VEC4":case"MAT2":return 4;case"MAT3":return 9;case"MAT4":return 16}}t.a=n},"9DG0":function(e,t,i){function n(){a.call(this)}e.exports=n;var a=i("vzCy").EventEmitter;i("LC74")(n,a),n.Readable=i("cSWu"),n.Writable=i("87vf"),n.Duplex=i("SDM6"),n.Transform=i("4/4u"),n.PassThrough=i("/MLu"),n.Stream=n,n.prototype.pipe=function(e,t){function i(t){e.writable&&!1===e.write(t)&&l.pause&&l.pause()}function n(){l.readable&&l.resume&&l.resume()}function r(){u||(u=!0,e.end())}function o(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(c(),0===a.listenerCount(this,"error"))throw e}function c(){l.removeListener("data",i),e.removeListener("drain",n),l.removeListener("end",r),l.removeListener("close",o),l.removeListener("error",s),e.removeListener("error",s),l.removeListener("end",c),l.removeListener("close",c),e.removeListener("close",c)}var l=this;l.on("data",i),e.on("drain",n),e._isStdio||t&&!1===t.end||(l.on("end",r),l.on("close",o));var u=!1;return l.on("error",s),e.on("error",s),l.on("end",c),l.on("close",c),e.on("close",c),e.emit("pipe",l),e}},"9JyB":function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT);var t=e.globe,i=Object(a.a)(e.imageryProviderViewModels,[]),n=Object(a.a)(e.terrainProviderViewModels,[]);if(!Object(r.a)(t))throw new o.a("globe is required");this._globe=t,this.imageryProviderViewModels=i.slice(0),this.terrainProviderViewModels=n.slice(0),this.dropDownVisible=!1,c.a.track(this,["imageryProviderViewModels","terrainProviderViewModels","dropDownVisible"]);var u=c.a.getObservable(this,"imageryProviderViewModels"),h=c.a.pureComputed(function(){var e,t=u(),i={};for(e=0;e<t.length;e++){var n=t[e],a=n.category;Object(r.a)(i[a])?i[a].push(n):i[a]=[n]}var o=Object.keys(i),s=[];for(e=0;e<o.length;e++){var c=o[e];s.push({name:c,providers:i[c]})}return s});this._imageryProviders=h;var d=c.a.getObservable(this,"terrainProviderViewModels"),f=c.a.pureComputed(function(){var e,t=d(),i={};for(e=0;e<t.length;e++){var n=t[e],a=n.category;Object(r.a)(i[a])?i[a].push(n):i[a]=[n]}var o=Object.keys(i),s=[];for(e=0;e<o.length;e++){var c=o[e];s.push({name:c,providers:i[c]})}return s});this._terrainProviders=f,this.buttonTooltip=void 0,c.a.defineProperty(this,"buttonTooltip",function(){var e=this.selectedImagery,t=this.selectedTerrain,i=Object(r.a)(e)?e.name:void 0,n=Object(r.a)(t)?t.name:void 0;return Object(r.a)(i)&&Object(r.a)(n)?i+"\n"+n:Object(r.a)(i)?i:n}),this.buttonImageUrl=void 0,c.a.defineProperty(this,"buttonImageUrl",function(){var e=this.selectedImagery;if(Object(r.a)(e))return e.iconUrl}),this.selectedImagery=void 0;var p=c.a.observable();this._currentImageryProviders=[],c.a.defineProperty(this,"selectedImagery",{get:function(){return p()},set:function(e){if(p()===e)return void(this.dropDownVisible=!1);var t,i=this._currentImageryProviders,n=i.length,a=this._globe.imageryLayers,o=!1;for(t=0;t<n;t++)for(var s=a.length,c=0;c<s;c++){var l=a.get(c);if(l.imageryProvider===i[t]){a.remove(l),o=!0;break}}if(Object(r.a)(e)){var u=e.creationCommand();if(Array.isArray(u)){var h=u.length;for(t=h-1;t>=0;t--)a.addImageryProvider(u[t],0);this._currentImageryProviders=u.slice(0)}else if(this._currentImageryProviders=[u],o)a.addImageryProvider(u,0);else{var d=a.get(0);Object(r.a)(d)&&a.remove(d),a.addImageryProvider(u,0)}}p(e),this.dropDownVisible=!1}}),this.selectedTerrain=void 0;var m=c.a.observable();c.a.defineProperty(this,"selectedTerrain",{get:function(){return m()},set:function(e){if(m()===e)return void(this.dropDownVisible=!1);var t;Object(r.a)(e)&&(t=e.creationCommand()),this._globe.depthTestAgainstTerrain=!(t instanceof s.a),this._globe.terrainProvider=t,m(e),this.dropDownVisible=!1}});var g=this;this._toggleDropDown=Object(l.a)(function(){g.dropDownVisible=!g.dropDownVisible}),this.selectedImagery=Object(a.a)(e.selectedImageryProviderViewModel,i[0]),this.selectedTerrain=Object(a.a)(e.selectedTerrainProviderViewModel,n[0])}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("L7/G"),c=i("PKIF"),l=i("E9RU");Object.defineProperties(n.prototype,{toggleDropDown:{get:function(){return this._toggleDropDown}},globe:{get:function(){return this._globe}}}),t.a=n},"9MlZ":function(e,t,i){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),i=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;e[t]=42;for(t in e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},"9QkX":function(e,t,i){"use strict";function n(){this._rs=void 0,this._sp=void 0,this._va=void 0,this._command=void 0,this._mode=void 0,this._useLogDepth=!1}function a(e,t){var i=e.radii,n=t.camera.positionWC,a=o.a.multiplyComponents(e.oneOverRadii,n,E),r=o.a.magnitude(a),s=o.a.normalize(a,T),c=o.a.normalize(o.a.cross(o.a.UNIT_Z,a,A),A),l=o.a.normalize(o.a.cross(s,c,C),C),u=Math.sqrt(o.a.magnitudeSquared(a)-1),h=o.a.multiplyByScalar(s,1/r,E),d=u/r,f=o.a.multiplyByScalar(c,d,T),p=o.a.multiplyByScalar(l,d,A),m=o.a.add(h,p,C);o.a.subtract(m,f,m),o.a.multiplyComponents(i,m,m),o.a.pack(m,x,0);var g=o.a.subtract(h,p,C);o.a.subtract(g,f,g),o.a.multiplyComponents(i,g,g),o.a.pack(g,x,3);var _=o.a.add(h,p,C);o.a.add(_,f,_),o.a.multiplyComponents(i,_,_),o.a.pack(_,x,6);var v=o.a.subtract(h,p,C);return o.a.add(v,f,v),o.a.multiplyComponents(i,v,v),o.a.pack(v,x,9),x}var r=i("lBr9"),o=i("Jj+J"),s=i("YCZg"),c=i("xC6Q"),l=i("gjtw"),u=i("RGAo"),h=i("RYD3"),d=i("nHNe"),f=i("rFKc"),p=i("1mJh"),m=i("M0+0"),g=i("DrvA"),_=i("WUlw"),v=i("x6Ms"),b=i("+0EW"),y=i("zgiT"),O=i("tNct"),w=i("sotJ"),x=l.a.supportsTypedArrays()?new Float32Array(12):[],E=new o.a,T=new o.a,A=new o.a,C=new o.a;n.prototype.update=function(e){if(this._mode=e.mode,e.mode===w.a.SCENE3D){var t=e.context,i=e.mapProjection.ellipsoid,n=e.useLogDepth;if(Object(c.a)(this._command)||(this._rs=g.a.fromCache({cull:{enabled:!0},depthTest:{enabled:!0},colorMask:{red:!1,green:!1,blue:!1,alpha:!1}}),this._command=new p.a({renderState:this._rs,boundingVolume:new r.a(o.a.ZERO,i.maximumRadius),pass:m.a.OPAQUE,owner:this})),!Object(c.a)(this._sp)||this._useLogDepth!==n){this._useLogDepth=n;var l=new v.a({sources:[O.a]}),x=new v.a({sources:[y.a]});if(n){x.sources.push("#ifdef GL_EXT_frag_depth \n#extension GL_EXT_frag_depth : enable \n#endif \n\n"),x.defines.push("LOG_DEPTH"),l.defines.push("LOG_DEPTH")}this._sp=_.a.replaceCache({shaderProgram:this._sp,context:t,vertexShaderSource:l,fragmentShaderSource:x,attributeLocations:{position:0}}),this._command.shaderProgram=this._sp}var E=a(i,e);if(Object(c.a)(this._va))this._va.getAttribute(0).vertexBuffer.copyFromArrayView(E);else{var T=new u.a({attributes:{position:new h.a({componentDatatype:s.a.FLOAT,componentsPerAttribute:3,values:E})},indices:[0,1,2,2,1,3],primitiveType:d.a.TRIANGLES});this._va=b.a.fromGeometry({context:t,geometry:T,attributeLocations:{position:0},bufferUsage:f.a.DYNAMIC_DRAW}),this._command.vertexArray=this._va}}},n.prototype.execute=function(e,t){this._mode===w.a.SCENE3D&&this._command.execute(e,t)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){this._sp=this._sp&&this._sp.destroy(),this._va=this._va&&this._va.destroy()},t.a=n},"9URA":function(e,t,i){"use strict";var n=i("1L1F"),a={ZERO:n.a.ZERO,KEEP:n.a.KEEP,REPLACE:n.a.REPLACE,INCREMENT:n.a.INCR,DECREMENT:n.a.DECR,INVERT:n.a.INVERT,INCREMENT_WRAP:n.a.INCR_WRAP,DECREMENT_WRAP:n.a.DECR_WRAP};t.a=Object.freeze(a)},"9Uqs":function(e,t,i){"use strict";function n(e,t){return c.compare(e.julianDate,t.julianDate)}function a(e){O.julianDate=e;var t=c.leapSeconds,i=Object(u.a)(t,O,n);i<0&&(i=~i),i>=t.length&&(i=t.length-1);var a=t[i].offset;if(i>0){c.secondsDifference(t[i].julianDate,e)>a&&(i--,a=t[i].offset)}c.addSeconds(e,a,e)}function r(e,t){O.julianDate=e;var i=c.leapSeconds,a=Object(u.a)(i,O,n);if(a<0&&(a=~a),0===a)return c.addSeconds(e,-i[0].offset,t);if(a>=i.length)return c.addSeconds(e,-i[a-1].offset,t);var r=c.secondsDifference(i[a].julianDate,e);return 0===r?c.addSeconds(e,-i[a].offset,t):r<=1?void 0:c.addSeconds(e,-i[--a].offset,t)}function o(e,t,i){var n=t/_.a.SECONDS_PER_DAY|0;return e+=n,t-=_.a.SECONDS_PER_DAY*n,t<0&&(e--,t+=_.a.SECONDS_PER_DAY),i.dayNumber=e,i.secondsOfDay=t,i}function s(e,t,i,n,a,r,o){var s=(t-14)/12|0,c=e+4800+s,l=(1461*c/4|0)+(367*(t-2-12*s)/12|0)-(3*((c+100)/100|0)/4|0)+i-32075;(n-=12)<0&&(n+=24);var u=r+(n*_.a.SECONDS_PER_HOUR+a*_.a.SECONDS_PER_MINUTE+o*_.a.SECONDS_PER_MILLISECOND);return u>=43200&&(l-=1),[l,u]}function c(e,t,i){this.dayNumber=void 0,this.secondsOfDay=void 0,e=Object(h.a)(e,0),t=Object(h.a)(t,0),i=Object(h.a)(i,v.a.UTC);var n=0|e;t+=(e-n)*_.a.SECONDS_PER_DAY,o(n,t,this),i===v.a.UTC&&a(this)}var l=i("rhka"),u=i("KPbu"),h=i("5A4e"),d=i("xC6Q"),f=i("PzDm"),p=i("/ZBS"),m=i("r37A"),g=i("IZPL"),_=i("9ZH6"),v=i("Bosk"),b=new p.a,y=[31,28,31,30,31,30,31,31,30,31,30,31],O=new g.a,w=/^(\d{4})$/,x=/^(\d{4})-(\d{2})$/,E=/^(\d{4})-?(\d{3})$/,T=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,A=/^(\d{4})-?(\d{2})-?(\d{2})$/,C=/([Z+\-])?(\d{2})?:?(\d{2})?$/,S=/^(\d{2})(\.\d+)?/.source+C.source,j=/^(\d{2}):?(\d{2})(\.\d+)?/.source+C.source,P=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+C.source,D="Invalid ISO 8601 date.";c.fromGregorianDate=function(e,t){if(!(e instanceof p.a))throw new f.a("date must be a valid GregorianDate.");var i=s(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond);return Object(d.a)(t)?(o(i[0],i[1],t),a(t),t):new c(i[0],i[1],v.a.UTC)},c.fromDate=function(e,t){if(!(e instanceof Date)||isNaN(e.getTime()))throw new f.a("date must be a valid JavaScript Date.");var i=s(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());return Object(d.a)(t)?(o(i[0],i[1],t),a(t),t):new c(i[0],i[1],v.a.UTC)},c.fromIso8601=function(e,t){if("string"!=typeof e)throw new f.a(D);e=e.replace(",",".");var i,n,r,l=e.split("T"),u=1,h=1,p=0,g=0,_=0,b=0,O=l[0],C=l[1];if(!Object(d.a)(O))throw new f.a(D);var I;if(null!==(l=O.match(A))){if((I=O.split("-").length-1)>0&&2!==I)throw new f.a(D);i=+l[1],u=+l[2],h=+l[3]}else if(null!==(l=O.match(x)))i=+l[1],u=+l[2];else if(null!==(l=O.match(w)))i=+l[1];else{var R;if(null!==(l=O.match(E))){if(i=+l[1],R=+l[2],r=Object(m.a)(i),R<1||r&&R>366||!r&&R>365)throw new f.a(D)}else{if(null===(l=O.match(T)))throw new f.a(D);i=+l[1];var M=+l[2],L=+l[3]||0;if((I=O.split("-").length-1)>0&&(!Object(d.a)(l[3])&&1!==I||Object(d.a)(l[3])&&2!==I))throw new f.a(D);var N=new Date(Date.UTC(i,0,4));R=7*M+L-N.getUTCDay()-3}n=new Date(Date.UTC(i,0,1)),n.setUTCDate(R),u=n.getUTCMonth()+1,h=n.getUTCDate()}if(r=Object(m.a)(i),u<1||u>12||h<1||(2!==u||!r)&&h>y[u-1]||r&&2===u&&h>29)throw new f.a(D);var F;if(Object(d.a)(C)){if(null!==(l=C.match(P))){if((I=C.split(":").length-1)>0&&2!==I&&3!==I)throw new f.a(D);p=+l[1],g=+l[2],_=+l[3],b=1e3*+(l[4]||0),F=5}else if(null!==(l=C.match(j))){if((I=C.split(":").length-1)>2)throw new f.a(D);p=+l[1],g=+l[2],_=60*+(l[3]||0),F=4}else{if(null===(l=C.match(S)))throw new f.a(D);p=+l[1],g=60*+(l[2]||0),F=3}if(g>=60||_>=61||p>24||24===p&&(g>0||_>0||b>0))throw new f.a(D);var z=l[F],B=+l[F+1],k=+(l[F+2]||0);switch(z){case"+":p-=B,g-=k;break;case"-":p+=B,g+=k;break;case"Z":break;default:g+=new Date(Date.UTC(i,u-1,h,p,g)).getTimezoneOffset()}}var U=60===_;for(U&&_--;g>=60;)g-=60,p++;for(;p>=24;)p-=24,h++;for(n=r&&2===u?29:y[u-1];h>n;)h-=n,u++,u>12&&(u-=12,i++),n=r&&2===u?29:y[u-1];for(;g<0;)g+=60,p--;for(;p<0;)p+=24,h--;for(;h<1;)u--,u<1&&(u+=12,i--),n=r&&2===u?29:y[u-1],h+=n;var V=s(i,u,h,p,g,_,b);return Object(d.a)(t)?(o(V[0],V[1],t),a(t)):t=new c(V[0],V[1],v.a.UTC),U&&c.addSeconds(t,1,t),t},c.now=function(e){return c.fromDate(new Date,e)};var I=new c(0,0,v.a.TAI);c.toGregorianDate=function(e,t){if(!Object(d.a)(e))throw new f.a("julianDate is required.");var i=!1,n=r(e,I);Object(d.a)(n)||(c.addSeconds(e,-1,I),n=r(I,I),i=!0);var a=n.dayNumber,o=n.secondsOfDay;o>=43200&&(a+=1);var s=a+68569|0,l=4*s/146097|0;s=s-((146097*l+3)/4|0)|0;var u=4e3*(s+1)/1461001|0;s=s-(1461*u/4|0)+31|0;var h=80*s/2447|0,m=s-(2447*h/80|0)|0;s=h/11|0;var g=h+2-12*s|0,v=100*(l-49)+u+s|0,b=o/_.a.SECONDS_PER_HOUR|0,y=o-b*_.a.SECONDS_PER_HOUR,O=y/_.a.SECONDS_PER_MINUTE|0;y-=O*_.a.SECONDS_PER_MINUTE;var w=0|y,x=(y-w)/_.a.SECONDS_PER_MILLISECOND;return b+=12,b>23&&(b-=24),i&&(w+=1),Object(d.a)(t)?(t.year=v,t.month=g,t.day=m,t.hour=b,t.minute=O,t.second=w,t.millisecond=x,t.isLeapSecond=i,t):new p.a(v,g,m,b,O,w,x,i)},c.toDate=function(e){if(!Object(d.a)(e))throw new f.a("julianDate is required.");var t=c.toGregorianDate(e,b),i=t.second;return t.isLeapSecond&&(i-=1),new Date(Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,i,t.millisecond))},c.toIso8601=function(e,t){if(!Object(d.a)(e))throw new f.a("julianDate is required.");var i=c.toGregorianDate(e,b),n=i.year,a=i.month,r=i.day,o=i.hour,s=i.minute,u=i.second,h=i.millisecond;1e4===n&&1===a&&1===r&&0===o&&0===s&&0===u&&0===h&&(n=9999,a=12,r=31,o=24);var p;return Object(d.a)(t)||0===h?Object(d.a)(t)&&0!==t?(p=(.01*h).toFixed(t).replace(".","").slice(0,t),Object(l.a)("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",n,a,r,o,s,u,p)):Object(l.a)("%04d-%02d-%02dT%02d:%02d:%02dZ",n,a,r,o,s,u):(p=(.01*h).toString().replace(".",""),Object(l.a)("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",n,a,r,o,s,u,p))},c.clone=function(e,t){if(Object(d.a)(e))return Object(d.a)(t)?(t.dayNumber=e.dayNumber,t.secondsOfDay=e.secondsOfDay,t):new c(e.dayNumber,e.secondsOfDay,v.a.TAI)},c.compare=function(e,t){if(!Object(d.a)(e))throw new f.a("left is required.");if(!Object(d.a)(t))throw new f.a("right is required.");var i=e.dayNumber-t.dayNumber;return 0!==i?i:e.secondsOfDay-t.secondsOfDay},c.equals=function(e,t){return e===t||Object(d.a)(e)&&Object(d.a)(t)&&e.dayNumber===t.dayNumber&&e.secondsOfDay===t.secondsOfDay},c.equalsEpsilon=function(e,t,i){if(!Object(d.a)(i))throw new f.a("epsilon is required.");return e===t||Object(d.a)(e)&&Object(d.a)(t)&&Math.abs(c.secondsDifference(e,t))<=i},c.totalDays=function(e){if(!Object(d.a)(e))throw new f.a("julianDate is required.");return e.dayNumber+e.secondsOfDay/_.a.SECONDS_PER_DAY},c.secondsDifference=function(e,t){if(!Object(d.a)(e))throw new f.a("left is required.");if(!Object(d.a)(t))throw new f.a("right is required.");return(e.dayNumber-t.dayNumber)*_.a.SECONDS_PER_DAY+(e.secondsOfDay-t.secondsOfDay)},c.daysDifference=function(e,t){if(!Object(d.a)(e))throw new f.a("left is required.");if(!Object(d.a)(t))throw new f.a("right is required.");return e.dayNumber-t.dayNumber+(e.secondsOfDay-t.secondsOfDay)/_.a.SECONDS_PER_DAY},c.computeTaiMinusUtc=function(e){O.julianDate=e;var t=c.leapSeconds,i=Object(u.a)(t,O,n);return i<0&&(i=~i,--i<0&&(i=0)),t[i].offset},c.addSeconds=function(e,t,i){if(!Object(d.a)(e))throw new f.a("julianDate is required.");if(!Object(d.a)(t))throw new f.a("seconds is required.");if(!Object(d.a)(i))throw new f.a("result is required.");return o(e.dayNumber,e.secondsOfDay+t,i)},c.addMinutes=function(e,t,i){if(!Object(d.a)(e))throw new f.a("julianDate is required.");if(!Object(d.a)(t))throw new f.a("minutes is required.");if(!Object(d.a)(i))throw new f.a("result is required.");var n=e.secondsOfDay+t*_.a.SECONDS_PER_MINUTE;return o(e.dayNumber,n,i)},c.addHours=function(e,t,i){if(!Object(d.a)(e))throw new f.a("julianDate is required.");if(!Object(d.a)(t))throw new f.a("hours is required.");if(!Object(d.a)(i))throw new f.a("result is required.");var n=e.secondsOfDay+t*_.a.SECONDS_PER_HOUR;return o(e.dayNumber,n,i)},c.addDays=function(e,t,i){if(!Object(d.a)(e))throw new f.a("julianDate is required.");if(!Object(d.a)(t))throw new f.a("days is required.");if(!Object(d.a)(i))throw new f.a("result is required.");return o(e.dayNumber+t,e.secondsOfDay,i)},c.lessThan=function(e,t){return c.compare(e,t)<0},c.lessThanOrEquals=function(e,t){return c.compare(e,t)<=0},c.greaterThan=function(e,t){return c.compare(e,t)>0},c.greaterThanOrEquals=function(e,t){return c.compare(e,t)>=0},c.prototype.clone=function(e){return c.clone(this,e)},c.prototype.equals=function(e){return c.equals(this,e)},c.prototype.equalsEpsilon=function(e,t){return c.equalsEpsilon(this,e,t)},c.prototype.toString=function(){return c.toIso8601(this)},c.leapSeconds=[new g.a(new c(2441317,43210,v.a.TAI),10),new g.a(new c(2441499,43211,v.a.TAI),11),new g.a(new c(2441683,43212,v.a.TAI),12),new g.a(new c(2442048,43213,v.a.TAI),13),new g.a(new c(2442413,43214,v.a.TAI),14),new g.a(new c(2442778,43215,v.a.TAI),15),new g.a(new c(2443144,43216,v.a.TAI),16),new g.a(new c(2443509,43217,v.a.TAI),17),new g.a(new c(2443874,43218,v.a.TAI),18),new g.a(new c(2444239,43219,v.a.TAI),19),new g.a(new c(2444786,43220,v.a.TAI),20),new g.a(new c(2445151,43221,v.a.TAI),21),new g.a(new c(2445516,43222,v.a.TAI),22),new g.a(new c(2446247,43223,v.a.TAI),23),new g.a(new c(2447161,43224,v.a.TAI),24),new g.a(new c(2447892,43225,v.a.TAI),25),new g.a(new c(2448257,43226,v.a.TAI),26),new g.a(new c(2448804,43227,v.a.TAI),27),new g.a(new c(2449169,43228,v.a.TAI),28),new g.a(new c(2449534,43229,v.a.TAI),29),new g.a(new c(2450083,43230,v.a.TAI),30),new g.a(new c(2450630,43231,v.a.TAI),31),new g.a(new c(2451179,43232,v.a.TAI),32),new g.a(new c(2453736,43233,v.a.TAI),33),new g.a(new c(2454832,43234,v.a.TAI),34),new g.a(new c(2456109,43235,v.a.TAI),35),new g.a(new c(2457204,43236,v.a.TAI),36),new g.a(new c(2457754,43237,v.a.TAI),37)],t.a=c},"9ZH6":function(e,t,i){"use strict";var n={SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5};t.a=Object.freeze(n)},"9ZZ+":function(e,t,i){"use strict";function n(e){this._boxes=e.boxes,this._boxBatchIds=e.boxBatchIds,this._cylinders=e.cylinders,this._cylinderBatchIds=e.cylinderBatchIds,this._ellipsoids=e.ellipsoids,this._ellipsoidBatchIds=e.ellipsoidBatchIds,this._spheres=e.spheres,this._sphereBatchIds=e.sphereBatchIds,this._modelMatrix=e.modelMatrix,this._batchTable=e.batchTable,this._boundingVolume=e.boundingVolume,this._center=e.center,Object(d.a)(this._center)||(Object(d.a)(this._boundingVolume)?this._center=l.a.clone(this._boundingVolume.center):this._center=l.a.clone(l.a.ZERO)),this._boundingVolumes=void 0,this._batchedIndices=void 0,this._indices=void 0,this._indexOffsets=void 0,this._indexCounts=void 0,this._positions=void 0,this._vertexBatchIds=void 0,this._batchIds=void 0,this._batchTableColors=void 0,this._packedBuffer=void 0,this._ready=!1,this._readyPromise=g.a.defer(),this._verticesPromise=void 0,this._primitive=void 0,this.debugWireframe=!1,this.forceRebatch=!1,this.classificationType=_.a.BOTH}function a(e){var t=new Float64Array(p.a.packedLength+l.a.packedLength),i=0;return l.a.pack(e._center,t,i),i+=l.a.packedLength,p.a.pack(e._modelMatrix,t,i),t}function r(e,t){for(var i=0,n=t[i++],a=t[i++],r=e._boundingVolumes=new Array(a),o=0;o<a;++o)r[o]=c.a.unpack(t,i),i+=c.a.packedLength;for(var s=t[i++],l=e._batchedIndices=new Array(s),h=0;h<s;++h){var d=u.a.unpack(t,i);i+=u.a.packedLength;for(var f=t[i++],p=t[i++],m=t[i++],g=new Array(m),_=0;_<m;++_)g[_]=t[i++];l[h]=new v.a({color:d,offset:f,count:p,batchIds:g})}return n}function o(e){if(!Object(d.a)(e._primitive)){if(!Object(d.a)(e._verticesPromise)){var t=e._boxes,i=e._boxBatchIds,n=e._cylinders,o=e._cylinderBatchIds,c=e._ellipsoids,l=e._ellipsoidBatchIds,u=e._spheres,f=e._sphereBatchIds,p=e._batchTableColors,m=e._packedBuffer;if(!Object(d.a)(p)){var g=0;Object(d.a)(e._boxes)&&(t=e._boxes=Object(s.a)(t),i=e._boxBatchIds=Object(s.a)(i),g+=i.length),Object(d.a)(e._cylinders)&&(n=e._cylinders=Object(s.a)(n),o=e._cylinderBatchIds=Object(s.a)(o),g+=o.length),Object(d.a)(e._ellipsoids)&&(c=e._ellipsoids=Object(s.a)(c),l=e._ellipsoidBatchIds=Object(s.a)(l),g+=l.length),Object(d.a)(e._spheres)&&(u=e._sphere=Object(s.a)(u),f=e._sphereBatchIds=Object(s.a)(f),g+=f.length),p=e._batchTableColors=new Uint32Array(g);for(var _=e._batchTable,v=0;v<g;++v){var w=_.getColor(v,O);p[v]=w.toRgba()}m=e._packedBuffer=a(e)}var x=[];Object(d.a)(t)&&x.push(t.buffer,i.buffer),Object(d.a)(n)&&x.push(n.buffer,o.buffer),Object(d.a)(c)&&x.push(c.buffer,l.buffer),Object(d.a)(u)&&x.push(u.buffer,f.buffer),x.push(p.buffer,m.buffer);var E={boxes:Object(d.a)(t)?t.buffer:void 0,boxBatchIds:Object(d.a)(t)?i.buffer:void 0,cylinders:Object(d.a)(n)?n.buffer:void 0,cylinderBatchIds:Object(d.a)(n)?o.buffer:void 0,ellipsoids:Object(d.a)(c)?c.buffer:void 0,ellipsoidBatchIds:Object(d.a)(c)?l.buffer:void 0,spheres:Object(d.a)(u)?u.buffer:void 0,sphereBatchIds:Object(d.a)(u)?f.buffer:void 0,batchTableColors:p.buffer,packedBuffer:m.buffer},T=e._verticesPromise=y.scheduleTask(E,x);if(!Object(d.a)(T))return;T.then(function(t){var i=new Float64Array(t.packedBuffer),n=r(e,i);e._indices=2===n?new Uint16Array(t.indices):new Uint32Array(t.indices),e._indexOffsets=new Uint32Array(t.indexOffsets),e._indexCounts=new Uint32Array(t.indexCounts),e._positions=new Float32Array(t.positions),e._vertexBatchIds=new Uint16Array(t.vertexBatchIds),e._batchIds=new Uint16Array(t.batchIds),e._ready=!0})}e._ready&&!Object(d.a)(e._primitive)&&(e._primitive=new b.a({batchTable:e._batchTable,positions:e._positions,batchIds:e._batchIds,vertexBatchIds:e._vertexBatchIds,indices:e._indices,indexOffsets:e._indexOffsets,indexCounts:e._indexCounts,batchedIndices:e._batchedIndices,boundingVolume:e._boundingVolume,boundingVolumes:e._boundingVolumes,center:e._center,pickObject:Object(h.a)(e._pickObject,e)}),e._boxes=void 0,e._boxBatchIds=void 0,e._cylinders=void 0,e._cylinderBatchIds=void 0,e._ellipsoids=void 0,e._ellipsoidBatchIds=void 0,e._spheres=void 0,e._sphereBatchIds=void 0,e._center=void 0,e._modelMatrix=void 0,e._batchTable=void 0,e._boundingVolume=void 0,e._boundingVolumes=void 0,e._batchedIndices=void 0,e._indices=void 0,e._indexOffsets=void 0,e._indexCounts=void 0,e._positions=void 0,e._vertexBatchIds=void 0,e._batchIds=void 0,e._batchTableColors=void 0,e._packedBuffer=void 0,e._verticesPromise=void 0,e._readyPromise.resolve())}}var s=i("Xku3"),c=i("lBr9"),l=i("Jj+J"),u=i("6F0S"),h=i("5A4e"),d=i("xC6Q"),f=i("6sr8"),p=i("Xjii"),m=i("JlUm"),g=i("S7OP"),_=i("M1dj"),v=i("ixF4"),b=i("jSWP");Object.defineProperties(n.prototype,{trianglesLength:{get:function(){return Object(d.a)(this._primitive)?this._primitive.trianglesLength:0}},geometryByteLength:{get:function(){return Object(d.a)(this._primitive)?this._primitive.geometryByteLength:0}},readyPromise:{get:function(){return this._readyPromise.promise}}}),n.packedBoxLength=p.a.packedLength+l.a.packedLength,n.packedCylinderLength=p.a.packedLength+2,n.packedEllipsoidLength=p.a.packedLength+l.a.packedLength,n.packedSphereLength=l.a.packedLength+1;var y=new m.a("createVectorTileGeometries"),O=new u.a;n.prototype.createFeatures=function(e,t){this._primitive.createFeatures(e,t)},n.prototype.applyDebugSettings=function(e,t){this._primitive.applyDebugSettings(e,t)},n.prototype.applyStyle=function(e,t){this._primitive.applyStyle(e,t)},n.prototype.updateCommands=function(e,t){this._primitive.updateCommands(e,t)},n.prototype.update=function(e){o(this),this._ready&&(this._primitive.debugWireframe=this.debugWireframe,this._primitive.forceRebatch=this.forceRebatch,this._primitive.classificationType=this.classificationType,this._primitive.update(e))},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),Object(f.a)(this)},t.a=n},"9djt":function(e,t,i){"use strict";function n(e,t,i,n,a,r){var o,s,u=a-n+1,h=r-a,d=c,f=l;for(o=0;o<u;++o)d[o]=e[n+o];for(s=0;s<h;++s)f[s]=e[a+s+1];o=0,s=0;for(var p=n;p<=r;++p){var m=d[o],g=f[s];o<u&&(s>=h||t(m,g,i)<=0)?(e[p]=m,++o):s<h&&(e[p]=g,++s)}}function a(e,t,i,r,o){if(!(r>=o)){var s=Math.floor(.5*(r+o));a(e,t,i,r,s),a(e,t,i,s+1,o),n(e,t,i,r,s,o)}}function r(e,t,i){if(!Object(o.a)(e))throw new s.a("array is required.");if(!Object(o.a)(t))throw new s.a("comparator is required.");var n=e.length,r=Math.ceil(.5*n);c.length=r,l.length=r,a(e,t,i,0,n-1),c.length=0,l.length=0}var o=i("xC6Q"),s=i("PzDm"),c=[],l=[];t.a=r},"9lQu":function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT);var t=e.radius;r.a.typeOf.number("radius",t);var i={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,vertexFormat:e.vertexFormat,stRotation:e.stRotation,shadowVolume:e.shadowVolume};this._ellipseGeometry=new c.a(i),this._workerName="createCircleGeometry"}var a=i("Jj+J"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("pH/u"),l=i("y6fO"),u=i("xvTE");n.packedLength=c.a.packedLength,n.pack=function(e,t,i){return r.a.typeOf.object("value",e),c.a.pack(e._ellipseGeometry,t,i)};var h=new c.a({center:new a.a,semiMajorAxis:1,semiMinorAxis:1}),d={center:new a.a,radius:void 0,ellipsoid:l.a.clone(l.a.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,vertexFormat:new u.a,stRotation:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0,shadowVolume:void 0};n.unpack=function(e,t,i){var r=c.a.unpack(e,t,h);return d.center=a.a.clone(r._center,d.center),d.ellipsoid=l.a.clone(r._ellipsoid,d.ellipsoid),d.height=r._height,d.extrudedHeight=r._extrudedHeight,d.granularity=r._granularity,d.vertexFormat=u.a.clone(r._vertexFormat,d.vertexFormat),d.stRotation=r._stRotation,d.shadowVolume=r._shadowVolume,Object(s.a)(i)?(d.semiMajorAxis=r._semiMajorAxis,d.semiMinorAxis=r._semiMinorAxis,i._ellipseGeometry=new c.a(d),i):(d.radius=r._semiMajorAxis,new n(d))},n.createGeometry=function(e){return c.a.createGeometry(e._ellipseGeometry)},n.createShadowVolume=function(e,t,i){var a=e._ellipseGeometry._granularity,r=e._ellipseGeometry._ellipsoid,o=t(a,r),s=i(a,r);return new n({center:e._ellipseGeometry._center,radius:e._ellipseGeometry._semiMajorAxis,ellipsoid:r,stRotation:e._ellipseGeometry._stRotation,granularity:a,extrudedHeight:o,height:s,vertexFormat:u.a.POSITION_ONLY,shadowVolume:!0})},Object.defineProperties(n.prototype,{rectangle:{get:function(){return this._ellipseGeometry.rectangle}},textureCoordinateRotationPoints:{get:function(){return this._ellipseGeometry.textureCoordinateRotationPoints}}})},"9nCK":function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\nuniform sampler2D bloomTexture;\nuniform bool glowOnly;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main(void)\n{\n    vec4 color = texture2D(colorTexture, v_textureCoordinates);\n\n#ifdef CZM_SELECTED_FEATURE\n    if (czm_selected()) {\n        gl_FragColor = color;\n        return;\n    }\n#endif\n\n    vec4 bloom = texture2D(bloomTexture, v_textureCoordinates);\n    gl_FragColor = glowOnly ? bloom : bloom + color;\n}\n"},"9xui":function(e,t,i){"use strict";function n(){c.a.throwInstantiationError()}function a(e,t){var i,n=new Array(t),a=new Array(e),r=new Array(t),o=new Array(e);for(i=0;i<e;++i)o[i]=i,a[i]=e*t-1-i;for(i=0;i<t;++i)r[i]=(i+1)*e-1,n[i]=(t-i-1)*e;return{westIndicesSouthToNorth:n,southIndicesEastToWest:a,eastIndicesNorthToSouth:r,northIndicesWestToEast:o}}function r(e,t,i,n){for(var a=0,r=0;r<t-1;++r){for(var o=0;o<e-1;++o){var s=a,c=s+e,l=c+1,u=s+1;i[n++]=s,i[n++]=c,i[n++]=u,i[n++]=u,i[n++]=c,i[n++]=l,++a}++a}}function o(e,t,i,n){for(var a=e[0],r=e.length,o=1;o<r;++o){var s=e[o];i[n++]=a,i[n++]=s,i[n++]=t,i[n++]=t,i[n++]=s,i[n++]=t+1,a=s,++t}return n}var s=i("xC6Q"),c=i("PzDm"),l=i("oMsT"),u=i("fq+p");Object.defineProperties(n.prototype,{errorEvent:{get:c.a.throwInstantiationError},credit:{get:c.a.throwInstantiationError},tilingScheme:{get:c.a.throwInstantiationError},ready:{get:c.a.throwInstantiationError},readyPromise:{get:c.a.throwInstantiationError},hasWaterMask:{get:c.a.throwInstantiationError},hasVertexNormals:{get:c.a.throwInstantiationError},availability:{get:c.a.throwInstantiationError}});var h=[];n.getRegularGridIndices=function(e,t){if(e*t>=u.a.FOUR_GIGABYTES)throw new c.a("The total number of vertices (width * height) must be less than 4,294,967,296.");var i=h[e];Object(s.a)(i)||(h[e]=i=[]);var n=i[t];return Object(s.a)(n)||(n=e*t<u.a.SIXTY_FOUR_KILOBYTES?i[t]=new Uint16Array((e-1)*(t-1)*6):i[t]=new Uint32Array((e-1)*(t-1)*6),r(e,t,n,0)),n};var d=[];n.getRegularGridIndicesAndEdgeIndices=function(e,t){if(e*t>=u.a.FOUR_GIGABYTES)throw new c.a("The total number of vertices (width * height) must be less than 4,294,967,296.");var i=d[e];Object(s.a)(i)||(d[e]=i=[]);var r=i[t];if(!Object(s.a)(r)){var o=n.getRegularGridIndices(e,t),l=a(e,t),h=l.westIndicesSouthToNorth,f=l.southIndicesEastToWest,p=l.eastIndicesNorthToSouth,m=l.northIndicesWestToEast;r=i[t]={indices:o,westIndicesSouthToNorth:h,southIndicesEastToWest:f,eastIndicesNorthToSouth:p,northIndicesWestToEast:m}}return r};var f=[];n.getRegularGridAndSkirtIndicesAndEdgeIndices=function(e,t){if(e*t>=u.a.FOUR_GIGABYTES)throw new c.a("The total number of vertices (width * height) must be less than 4,294,967,296.");var i=f[e];Object(s.a)(i)||(f[e]=i=[]);var o=i[t];if(!Object(s.a)(o)){var h=e*t,d=(e-1)*(t-1)*6,p=2*e+2*t,m=6*Math.max(0,p-4),g=h+p,_=d+m,v=a(e,t),b=v.westIndicesSouthToNorth,y=v.southIndicesEastToWest,O=v.eastIndicesNorthToSouth,w=v.northIndicesWestToEast,x=l.a.createTypedArray(g,_);r(e,t,x,0),n.addSkirtIndices(b,y,O,w,h,x,d),o=i[t]={indices:x,westIndicesSouthToNorth:b,southIndicesEastToWest:y,eastIndicesNorthToSouth:O,northIndicesWestToEast:w,indexCountWithoutSkirts:d}}return o},n.addSkirtIndices=function(e,t,i,n,a,r,s){var c=a;s=o(e,c,r,s),c+=e.length,s=o(t,c,r,s),c+=t.length,s=o(i,c,r,s),c+=i.length,o(n,c,r,s)},n.heightmapTerrainQuality=.25,n.getEstimatedLevelZeroGeometricErrorForAHeightmap=function(e,t,i){return 2*e.maximumRadius*Math.PI*n.heightmapTerrainQuality/(t*i)},n.prototype.requestTileGeometry=c.a.throwInstantiationError,n.prototype.getLevelMaximumGeometricError=c.a.throwInstantiationError,n.prototype.getTileDataAvailable=c.a.throwInstantiationError,n.prototype.loadTileDataAvailability=c.a.throwInstantiationError,t.a=n},"A+Fs":function(e,t,i){"use strict";t.a="/**\n * Used as input to every material's czm_getMaterial function.\n *\n * @name czm_materialInput\n * @glslStruct\n *\n * @property {float} s 1D texture coordinates.\n * @property {vec2} st 2D texture coordinates.\n * @property {vec3} str 3D texture coordinates.\n * @property {vec3} normalEC Unperturbed surface normal in eye coordinates.\n * @property {mat3} tangentToEyeMatrix Matrix for converting a tangent space normal to eye space.\n * @property {vec3} positionToEyeEC Vector from the fragment to the eye in eye coordinates.  The magnitude is the distance in meters from the fragment to the eye.\n * @property {float} height The height of the terrain in meters above or below the WGS84 ellipsoid.  Only available for globe materials.\n * @property {float} slope The slope of the terrain in radians.  0 is flat; pi/2 is vertical.  Only available for globe materials.\n * @property {float} aspect The aspect of the terrain in radians.  0 is East, pi/2 is North, pi is West, 3pi/2 is South.  Only available for globe materials.\n */\nstruct czm_materialInput\n{\n    float s;\n    vec2 st;\n    vec3 str;\n    vec3 normalEC;\n    mat3 tangentToEyeMatrix;\n    vec3 positionToEyeEC;\n    float height;\n    float slope;\n    float aspect;\n};\n"},A4vh:function(e,t,i){"use strict";t.a="attribute vec3 position;\n\nvarying vec3 v_texCoord;\n\nvoid main()\n{\n    vec3 p = czm_viewRotation * (czm_temeToPseudoFixed * (czm_entireFrustum.y * position));\n    gl_Position = czm_projection * vec4(p, 1.0);\n    v_texCoord = position.xyz;\n}\n"},A5oW:function(e,t,i){"use strict";function n(e,t,i,n,a,o,s){var l=e.scene.mode,u=a.getValue(o,e._lastCartesian);if(Object(c.a)(u)){var p,j,P,D=!1,I=!1;if(l===g.a.SCENE3D){h.a.addSeconds(o,.001,C);var R=a.getValue(C,O);if(Object(c.a)(R)||(h.a.addSeconds(o,-.001,C),R=a.getValue(C,O),I=!0),Object(c.a)(R)){var M,L=m.a.computeFixedToIcrfMatrix(o,_),N=m.a.computeFixedToIcrfMatrix(C,v);Object(c.a)(L)&&Object(c.a)(N)?M=f.a.transpose(L,b):(M=m.a.computeTemeToPseudoFixedMatrix(o,b),L=f.a.transpose(M,_),N=m.a.computeTemeToPseudoFixedMatrix(C,v),f.a.transpose(N,N));var F=f.a.multiplyByVector(L,u,T),z=f.a.multiplyByVector(N,R,A);r.a.subtract(F,z,E);var B=1e3*r.a.magnitude(E),k=d.a.GRAVITATIONALPARAMETER,U=-k/(B*B-2*k/r.a.magnitude(F));U<0||U>S*s.maximumRadius?(p=w,r.a.normalize(u,p),r.a.negate(p,p),P=r.a.clone(r.a.UNIT_Z,x),j=r.a.cross(P,p,O),r.a.magnitude(j)>d.a.EPSILON7&&(r.a.normalize(p,p),r.a.normalize(j,j),P=r.a.cross(p,j,x),r.a.normalize(P,P),D=!0)):r.a.equalsEpsilon(u,R,d.a.EPSILON7)||(P=w,r.a.normalize(F,P),r.a.normalize(z,z),j=r.a.cross(P,z,x),I&&(j=r.a.multiplyByScalar(j,-1,j)),r.a.equalsEpsilon(j,r.a.ZERO,d.a.EPSILON7)||(p=r.a.cross(j,P,O),f.a.multiplyByVector(M,p,p),f.a.multiplyByVector(M,j,j),f.a.multiplyByVector(M,P,P),r.a.normalize(p,p),r.a.normalize(j,j),r.a.normalize(P,P),D=!0))}}Object(c.a)(e.boundingSphere)&&(u=e.boundingSphere.center);var V,H,q;n&&(V=r.a.clone(t.position,E),H=r.a.clone(t.direction,T),q=r.a.clone(t.up,A));var W=y;D?(W[0]=p.x,W[1]=p.y,W[2]=p.z,W[3]=0,W[4]=j.x,W[5]=j.y,W[6]=j.z,W[7]=0,W[8]=P.x,W[9]=P.y,W[10]=P.z,W[11]=0,W[12]=u.x,W[13]=u.y,W[14]=u.z,W[15]=0):m.a.eastNorthUpToFixedFrame(u,s,W),t._setTransform(W),n&&(r.a.clone(V,t.position),r.a.clone(H,t.direction),r.a.clone(q,t.up),r.a.cross(H,q,t.right))}if(i){var G=l===g.a.SCENE2D||r.a.equals(e._offset3D,r.a.ZERO)?void 0:e._offset3D;t.lookAtTransform(t.transform,G)}}function a(e,t,i){o.a.defined("entity",e),o.a.defined("scene",t),this.entity=e,this.scene=t,this.ellipsoid=Object(s.a)(i,l.a.WGS84),this.boundingSphere=void 0,this._lastEntity=void 0,this._mode=void 0,this._lastCartesian=new r.a,this._defaultOffset3D=void 0,this._offset3D=new r.a}var r=i("Jj+J"),o=i("5F4X"),s=i("5A4e"),c=i("xC6Q"),l=i("y6fO"),u=i("ZHSH"),h=i("9Uqs"),d=i("fq+p"),f=i("i3sv"),p=i("Xjii"),m=i("g/FO"),g=i("sotJ"),_=new f.a,v=new f.a,b=new f.a,y=new p.a,O=new r.a,w=new r.a,x=new r.a,E=new r.a,T=new r.a,A=new r.a,C=new h.a,S=1.25;Object.defineProperties(a,{defaultOffset3D:{get:function(){return this._defaultOffset3D},set:function(e){this._defaultOffset3D=r.a.clone(e,new r.a)}}}),a.defaultOffset3D=new r.a(-14e3,3500,3500);var j=new u.a,P=new r.a;a.prototype.update=function(e,t){o.a.defined("time",e);var i=this.scene,s=this.ellipsoid,l=i.mode;if(l!==g.a.MORPHING){var u=this.entity,h=u.position;if(Object(c.a)(h)){var f=u!==this._lastEntity,p=l!==this._mode,m=i.camera,_=f||p,v=!0;if(f){var b=u.viewFrom,y=Object(c.a)(b);if(!y&&Object(c.a)(t)){j.pitch=-d.a.PI_OVER_FOUR,j.range=0;var O=h.getValue(e,P);if(Object(c.a)(O)){var w=2-1/Math.max(1,r.a.magnitude(O)/s.maximumRadius);j.pitch*=w}m.viewBoundingSphere(t,j),this.boundingSphere=t,_=!1,v=!1}else y&&Object(c.a)(b.getValue(e,this._offset3D))||r.a.clone(a._defaultOffset3D,this._offset3D)}else p||this._mode===g.a.SCENE2D||r.a.clone(m.position,this._offset3D);this._lastEntity=u,this._mode=l,n(this,m,_,v,h,e,s)}}},t.a=a},A9Z2:function(e,t,i){"use strict";t.a="attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 normal;\nattribute float batchId;\n\nvarying vec3 v_positionEC;\nvarying vec3 v_normalEC;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n    v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n"},"AP+J":function(e,t,i){"use strict";var n={SCALAR:"SCALAR",VEC2:"VEC2",VEC3:"VEC3",VEC4:"VEC4",MAT2:"MAT2",MAT3:"MAT3",MAT4:"MAT4"};t.a=Object.freeze(n)},ARzC:function(e,t,i){"use strict";var n={DISABLED:0,ENABLED:1,CAST_ONLY:2,RECEIVE_ONLY:3,NUMBER_OF_SHADOW_MODES:4};n.castShadows=function(e){return e===n.ENABLED||e===n.CAST_ONLY},n.receiveShadows=function(e){return e===n.ENABLED||e===n.RECEIVE_ONLY},n.fromCastReceive=function(e,t){return e&&t?n.ENABLED:e?n.CAST_ONLY:t?n.RECEIVE_ONLY:n.DISABLED},t.a=Object.freeze(n)},AYAi:function(e,t,i){"use strict";function n(){}function a(e,t){var i=e.gltf,n=i.buffers,a=i.bufferViews,r=a[t.bufferView],o=n[r.buffer],s=r.byteOffset+t.byteOffset,c=t.count*Object(v.a)(t.type),l=y.test(o.uri)?"":o.uri;return e.cacheKey+"//"+l+"/"+s+"/"+c}function r(e,t,i){return e.cacheKey+"//"+t+"/"+i}function o(e){this._value=e}var s=i("Jj+J"),c=i("YCZg"),l=i("5A4e"),u=i("xC6Q"),h=i("fajW"),d=i("Xjii"),f=i("q/xW"),p=i("rZrK"),m=i("1L1F"),g=i("zf0W"),_=i("dWoC"),v=i("8uSS"),b=i("AP+J"),y=/^data\:/i,O={};n.getAnimationParameterValues=function(e,t){var i=a(e,t),n=O[i];if(!Object(u.a)(n)){var r=e.gltf,o=r.buffers,h=r.bufferViews,d=h[t.bufferView],p=d.buffer,m=o[p],g=m.extras._pipeline.source,b=t.componentType,y=t.type,w=Object(v.a)(y),x=t.count,E=Object(_.a)(r,t);n=new Array(x);for(var T=Object(l.a)(t.byteOffset,0),A=d.byteOffset+T,C=0;C<x;C++){var S=c.a.createArrayBufferView(b,g.buffer,g.byteOffset+A,w);"SCALAR"===y?n[C]=S[0]:"VEC3"===y?n[C]=s.a.fromArray(S):"VEC4"===y&&(n[C]=f.a.unpack(S)),A+=E}Object(u.a)(e.cacheKey)&&(O[i]=n)}return n};var w={};o.prototype.evaluate=function(e,t){return this._value},o.prototype.wrapTime=function(e){return 0},o.prototype.clampTime=function(e){return 0},n.getAnimationSpline=function(e,t,i,n,a,s,c,l){var d=r(e,t,n),f=w[d];if(!Object(u.a)(f)){var m=s,_=l;1===m.length&&1===_.length?f=new o(_[0]):"LINEAR"===a.interpolation&&("translation"===c||"scale"===c?f=new h.a({times:m,points:_}):"rotation"===c?f=new p.a({times:m,points:_}):"weights"===c&&(f=new g.a({times:m,weights:_}))),Object(u.a)(e.cacheKey)&&(w[d]=f)}return f};var x={};n.getSkinInverseBindMatrices=function(e,t){var i=a(e,t),n=x[i];if(!Object(u.a)(n)){var r=e.gltf,o=r.buffers,s=r.bufferViews,l=t.bufferView,h=s[l],f=h.buffer,p=o[f],g=p.extras._pipeline.source,y=t.componentType,O=t.type,w=t.count,E=Object(_.a)(r,t),T=h.byteOffset+t.byteOffset,A=Object(v.a)(O);if(n=new Array(w),y===m.a.FLOAT&&O===b.a.MAT4)for(var C=0;C<w;++C){var S=c.a.createArrayBufferView(y,g.buffer,g.byteOffset+T,A);n[C]=d.a.fromArray(S),T+=E}x[i]=n}return n},t.a=n},Al2o:function(e,t,i){"use strict";function n(){this.previousFramebuffer=void 0,this._previousFramebuffer=void 0,this._texture=void 0,this._classifiedTexture=void 0,this._depthStencilTexture=void 0,this._fbo=void 0,this._fboClassified=void 0,this._rsUnclassified=void 0,this._rsClassified=void 0,this._unclassifiedCommand=void 0,this._classifiedCommand=void 0,this._translucentCommand=void 0,this._clearColorCommand=new c.a({color:new a.a(0,0,0,0),owner:this}),this._clearCommand=new c.a({color:new a.a(0,0,0,0),depth:1,stencil:0});var e=this;this._uniformMap={colorTexture:function(){return e._texture},depthTexture:function(){return e._depthStencilTexture},classifiedTexture:function(){return e._classifiedTexture}}}var a=i("6F0S"),r=i("xC6Q"),o=i("6sr8"),s=i("FhYh"),c=i("/DUn"),l=i("YyWD"),u=i("HvCH"),h=i("DrvA"),d=i("l0BX"),f=i("x6Ms"),p=i("25X5"),m=i("YKq0"),g=i("z2iY"),_=i("L4GL"),v=i("E0+e"),b=i("OtDm"),y=i("x0EE"),O=i("i0h9"),w=i("9URA");Object.defineProperties(n.prototype,{unclassifiedCommand:{get:function(){return this._unclassifiedCommand}}}),n.isTranslucencySupported=function(e){return e.depthTexture&&e.fragmentDepth};var x={depthMask:!1,stencilTest:{enabled:!0,frontFunction:O.a.EQUAL,frontOperation:{fail:w.a.KEEP,zFail:w.a.KEEP,zPass:w.a.KEEP},backFunction:O.a.NEVER,reference:0,mask:y.a.CLASSIFICATION_MASK},blending:b.a.ALPHA_BLEND},E={depthMask:!1,stencilTest:{enabled:!0,frontFunction:O.a.NOT_EQUAL,frontOperation:{fail:w.a.KEEP,zFail:w.a.KEEP,zPass:w.a.KEEP},backFunction:O.a.NEVER,reference:0,mask:y.a.CLASSIFICATION_MASK},blending:b.a.ALPHA_BLEND},T={depthMask:!0,depthTest:{enabled:!0},stencilTest:y.a.setCesium3DTileBit(),stencilMask:y.a.CESIUM_3D_TILE_MASK,blending:b.a.ALPHA_BLEND};n.prototype.update=function(e){var t=this._texture,i=!Object(r.a)(t)||this.previousFramebuffer!==this._previousFramebuffer;this._previousFramebuffer=this.previousFramebuffer;var n=e.drawingBufferWidth,a=e.drawingBufferHeight,o=!Object(r.a)(t)||t.width!==n||t.height!==a;if((o||i)&&(this._texture=this._texture&&this._texture.destroy(),this._classifiedTexture=this._classifiedTexture&&this._classifiedTexture.destroy(),this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),this._texture=new p.a({context:e,width:n,height:a,pixelFormat:s.a.RGBA,pixelDatatype:u.a.UNSIGNED_BYTE,sampler:new d.a({wrapS:_.a.CLAMP_TO_EDGE,wrapT:_.a.CLAMP_TO_EDGE,minificationFilter:g.a.LINEAR,magnificationFilter:m.a.LINEAR})}),Object(r.a)(this._previousFramebuffer)||(this._classifiedTexture=new p.a({context:e,width:n,height:a,pixelFormat:s.a.RGBA,pixelDatatype:u.a.UNSIGNED_BYTE,sampler:new d.a({wrapS:_.a.CLAMP_TO_EDGE,wrapT:_.a.CLAMP_TO_EDGE,minificationFilter:g.a.LINEAR,magnificationFilter:m.a.LINEAR})}),this._depthStencilTexture=new p.a({context:e,width:n,height:a,pixelFormat:s.a.DEPTH_STENCIL,pixelDatatype:u.a.UNSIGNED_INT_24_8}))),!Object(r.a)(this._fbo)||o||i){this._fbo=this._fbo&&this._fbo.destroy(),this._fboClassified=this._fboClassified&&this._fboClassified.destroy();var c,b;Object(r.a)(this._previousFramebuffer)?(c=this._previousFramebuffer.depthStencilTexture,b=this._previousFramebuffer.depthStencilRenderbuffer):c=this._depthStencilTexture,this._fbo=new l.a({context:e,colorTextures:[this._texture],depthStencilTexture:c,depthStencilRenderbuffer:b,destroyAttachments:!1}),Object(r.a)(this._previousFramebuffer)||(this._fboClassified=new l.a({context:e,colorTextures:[this._classifiedTexture],depthStencilTexture:c,destroyAttachments:!1}))}if(Object(r.a)(this._rsUnclassified)||(this._rsUnclassified=h.a.fromCache(x),this._rsClassified=h.a.fromCache(E),this._rsDefault=h.a.fromCache(T)),!Object(r.a)(this._unclassifiedCommand)||i){Object(r.a)(this._unclassifiedCommand)&&(this._unclassifiedCommand.shaderProgram=this._unclassifiedCommand.shaderProgram&&this._unclassifiedCommand.shaderProgram.destroy(),this._classifiedCommand.shaderProgram=this._classifiedCommand.shaderProgram&&this._classifiedCommand.shaderProgram.destroy());var y=Object(r.a)(this._previousFramebuffer)?"uniform sampler2D colorTexture;\nvarying vec2 v_textureCoordinates;\nvoid main()\n{\n    vec4 color = texture2D(colorTexture, v_textureCoordinates);\n    if (color.a == 0.0)\n    {\n        discard;\n    }\n#ifdef UNCLASSIFIED\n    gl_FragColor = color * czm_invertClassificationColor;\n#else\n    gl_FragColor = color;\n#endif\n}\n":"#extension GL_EXT_frag_depth : enable\nuniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nuniform sampler2D classifiedTexture;\nvarying vec2 v_textureCoordinates;\nvoid main()\n{\n    vec4 color = texture2D(colorTexture, v_textureCoordinates);\n    if (color.a == 0.0)\n    {\n        discard;\n    }\n    bool isClassified = all(equal(texture2D(classifiedTexture, v_textureCoordinates), vec4(0.0)));\n#ifdef UNCLASSIFIED\n    vec4 highlightColor = czm_invertClassificationColor;\n    if (isClassified)\n    {\n        discard;\n    }\n#else\n    vec4 highlightColor = vec4(1.0);\n    if (!isClassified)\n    {\n        discard;\n    }\n#endif\n    gl_FragColor = color * highlightColor;\n    gl_FragDepthEXT = texture2D(depthTexture, v_textureCoordinates).r;\n}\n",O=new f.a({defines:["UNCLASSIFIED"],sources:[y]}),w=new f.a({sources:[y]});this._unclassifiedCommand=e.createViewportQuadCommand(O,{renderState:Object(r.a)(this._previousFramebuffer)?this._rsUnclassified:this._rsDefault,uniformMap:this._uniformMap,owner:this}),this._classifiedCommand=e.createViewportQuadCommand(w,{renderState:Object(r.a)(this._previousFramebuffer)?this._rsClassified:this._rsDefault,uniformMap:this._uniformMap,owner:this}),Object(r.a)(this._translucentCommand)&&(this._translucentCommand.shaderProgram=this._translucentCommand.shaderProgram&&this._translucentCommand.shaderProgram.destroy()),Object(r.a)(this._previousFramebuffer)||(this._translucentCommand=e.createViewportQuadCommand(v.a,{renderState:this._rsUnclassified,uniformMap:this._uniformMap,owner:this}))}},n.prototype.clear=function(e,t){var i=t.framebuffer;Object(r.a)(this._previousFramebuffer)?(t.framebuffer=this._fbo,this._clearColorCommand.execute(e,t)):(t.framebuffer=this._fbo,this._clearCommand.execute(e,t),t.framebuffer=this._fboClassified,this._clearCommand.execute(e,t)),t.framebuffer=i},n.prototype.executeClassified=function(e,t){if(!Object(r.a)(this._previousFramebuffer)){var i=t.framebuffer;t.framebuffer=this._fboClassified,this._translucentCommand.execute(e,t),t.framebuffer=i}this._classifiedCommand.execute(e,t)},n.prototype.executeUnclassified=function(e,t){this._unclassifiedCommand.execute(e,t)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._fbo=this._fbo&&this._fbo.destroy(),this._texture=this._texture&&this._texture.destroy(),this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),Object(r.a)(this._unclassifiedCommand)&&(this._unclassifiedCommand.shaderProgram=this._unclassifiedCommand.shaderProgram&&this._unclassifiedCommand.shaderProgram.destroy(),this._classifiedCommand.shaderProgram=this._classifiedCommand.shaderProgram&&this._classifiedCommand.shaderProgram.destroy()),Object(o.a)(this)},t.a=n},"Am+W":function(e,t,i){"use strict";function n(e,t,i,n){var a=new v.a;n.position&&(a.position=new _.a({componentDatatype:u.a.DOUBLE,componentsPerAttribute:3,values:e}));var r,o,c,l,h,d,f=t.length,p=e.length/3,m=(p-2*f)/(2*f),O=x.a.triangulate(t),E=(m-1)*f*6+2*O.length,A=y.a.createTypedArray(p,E),C=2*f,S=0;for(r=0;r<m-1;r++){for(o=0;o<f-1;o++)c=2*o+r*f*2,d=c+C,l=c+1,h=l+C,A[S++]=l,A[S++]=c,A[S++]=h,A[S++]=h,A[S++]=c,A[S++]=d;c=2*f-2+r*f*2,l=c+1,h=l+C,d=c+C,A[S++]=l,A[S++]=c,A[S++]=h,A[S++]=h,A[S++]=c,A[S++]=d}if(n.st||n.tangent||n.bitangent){var j,P,D=new Float32Array(2*p),I=1/(m-1),R=1/i.height,M=i.height/2,L=0;for(r=0;r<m;r++){for(j=r*I,P=R*(t[0].y+M),D[L++]=j,D[L++]=P,o=1;o<f;o++)P=R*(t[o].y+M),D[L++]=j,D[L++]=P,D[L++]=j,D[L++]=P;P=R*(t[0].y+M),D[L++]=j,D[L++]=P}for(o=0;o<f;o++)j=0,P=R*(t[o].y+M),D[L++]=j,D[L++]=P;for(o=0;o<f;o++)j=(m-1)*I,P=R*(t[o].y+M),D[L++]=j,D[L++]=P;a.st=new _.a({componentDatatype:u.a.FLOAT,componentsPerAttribute:2,values:new Float32Array(D)})}var N=p-2*f;for(r=0;r<O.length;r+=3){var F=O[r]+N,z=O[r+1]+N,B=O[r+2]+N;A[S++]=F,A[S++]=z,A[S++]=B,A[S++]=B+f,A[S++]=z+f,A[S++]=F+f}var k=new g.a({attributes:a,indices:A,boundingSphere:s.a.fromVertices(e),primitiveType:T.a.TRIANGLES});if(n.normal&&(k=b.a.computeNormal(k)),n.tangent||n.bitangent){try{k=b.a.computeTangentAndBitangent(k)}catch(e){Object(w.a)("polyline-volume-tangent-bitangent","Unable to compute tangents and bitangents for polyline volume geometry")}n.tangent||(k.attributes.tangent=void 0),n.bitangent||(k.attributes.bitangent=void 0),n.st||(k.attributes.st=void 0)}return k}function a(e){e=Object(d.a)(e,d.a.EMPTY_OBJECT);var t=e.polylinePositions,i=e.shapePositions;if(!Object(f.a)(t))throw new p.a("options.polylinePositions is required.");if(!Object(f.a)(i))throw new p.a("options.shapePositions is required.");this._positions=t,this._shape=i,this._ellipsoid=m.a.clone(Object(d.a)(e.ellipsoid,m.a.WGS84)),this._cornerType=Object(d.a)(e.cornerType,h.a.ROUNDED),this._vertexFormat=A.a.clone(Object(d.a)(e.vertexFormat,A.a.DEFAULT)),this._granularity=Object(d.a)(e.granularity,O.a.RADIANS_PER_DEGREE),this._workerName="createPolylineVolumeGeometry";var n=1+t.length*l.a.packedLength;n+=1+i.length*c.a.packedLength,this.packedLength=n+m.a.packedLength+A.a.packedLength+2}var r=i("6Ilv"),o=i("or8k"),s=i("lBr9"),c=i("Ss9j"),l=i("Jj+J"),u=i("YCZg"),h=i("sEJp"),d=i("5A4e"),f=i("xC6Q"),p=i("PzDm"),m=i("y6fO"),g=i("RGAo"),_=i("RYD3"),v=i("GaJK"),b=i("odWO"),y=i("oMsT"),O=i("fq+p"),w=i("VF2d"),x=i("EDAM"),E=i("VpTN"),T=i("nHNe"),A=i("xvTE"),C=i("+snP");a.pack=function(e,t,i){if(!Object(f.a)(e))throw new p.a("value is required");if(!Object(f.a)(t))throw new p.a("array is required");i=Object(d.a)(i,0);var n,a=e._positions,r=a.length;for(t[i++]=r,n=0;n<r;++n,i+=l.a.packedLength)l.a.pack(a[n],t,i);var o=e._shape;for(r=o.length,t[i++]=r,n=0;n<r;++n,i+=c.a.packedLength)c.a.pack(o[n],t,i);return m.a.pack(e._ellipsoid,t,i),i+=m.a.packedLength,A.a.pack(e._vertexFormat,t,i),i+=A.a.packedLength,t[i++]=e._cornerType,t[i]=e._granularity,t};var S=m.a.clone(m.a.UNIT_SPHERE),j=new A.a,P={polylinePositions:void 0,shapePositions:void 0,ellipsoid:S,vertexFormat:j,cornerType:void 0,granularity:void 0};a.unpack=function(e,t,i){if(!Object(f.a)(e))throw new p.a("array is required");t=Object(d.a)(t,0);var n,r=e[t++],o=new Array(r);for(n=0;n<r;++n,t+=l.a.packedLength)o[n]=l.a.unpack(e,t);r=e[t++];var s=new Array(r);for(n=0;n<r;++n,t+=c.a.packedLength)s[n]=c.a.unpack(e,t);var u=m.a.unpack(e,t,S);t+=m.a.packedLength;var h=A.a.unpack(e,t,j);t+=A.a.packedLength;var g=e[t++],_=e[t];return Object(f.a)(i)?(i._positions=o,i._shape=s,i._ellipsoid=m.a.clone(u,i._ellipsoid),i._vertexFormat=A.a.clone(h,i._vertexFormat),i._cornerType=g,i._granularity=_,i):(P.polylinePositions=o,P.shapePositions=s,P.cornerType=g,P.granularity=_,new a(P))};var D=new o.a;a.createGeometry=function(e){var t=e._positions,i=Object(r.a)(t,l.a.equalsEpsilon),a=e._shape;if(a=E.a.removeDuplicatesFromShape(a),!(i.length<2||a.length<3)){x.a.computeWindingOrder2D(a)===C.a.CLOCKWISE&&a.reverse();var s=o.a.fromPoints(a,D);return n(E.a.computePositions(i,a,s,e,!0),a,s,e._vertexFormat)}},t.a=a},Ao2p:function(e,t,i){"use strict";function n(e){this.entity=e,this.billboard=void 0,this.textureValue=void 0}function a(e,t){if(!Object(h.a)(e))throw new f.a("entityCluster is required.");if(!Object(h.a)(t))throw new f.a("entityCollection is required.");t.collectionChanged.addEventListener(a.prototype._onCollectionChanged,this),this._cluster=e,this._entityCollection=t,this._items=new o.a,this._onCollectionChanged(t,t.values,[],[])}function r(e,t,i){Object(h.a)(e)&&(e.billboard=void 0,i.removeBillboard(t))}var o=i("7uRt"),s=i("or8k"),c=i("Ss9j"),l=i("Jj+J"),u=i("6F0S"),h=i("xC6Q"),d=i("6sr8"),f=i("PzDm"),p=i("2d28"),m=i("UkIP"),g=i("JIo7"),_=i("EwVK"),v=i("H5bb"),b=i("P+tD"),y=i("uhjI"),O=u.a.WHITE,w=l.a.ZERO,x=g.a.NONE,E=c.a.ZERO,T=l.a.ZERO,A=_.a.CENTER,C=v.a.CENTER,S=new l.a,j=new u.a,P=new l.a,D=new c.a,I=new m.a,R=new m.a,M=new m.a,L=new s.a,N=new p.a;a.prototype.update=function(e){if(!Object(h.a)(e))throw new f.a("time is required.");for(var t=this._items.values,i=this._cluster,n=0,a=t.length;n<a;n++){var o,s,c=t[n],l=c.entity,u=l._billboard,d=c.billboard,p=l.isShowing&&l.isAvailable(e)&&y.a.getValueOrDefault(u._show,e,!0);if(p&&(s=y.a.getValueOrUndefined(l._position,e,S),o=y.a.getValueOrUndefined(u._image,e),p=Object(h.a)(s)&&Object(h.a)(o)),p){y.a.isConstant(l._position)||(i._clusterDirty=!0),Object(h.a)(d)||(d=i.getBillboard(l),d.id=l,d.image=void 0,c.billboard=d),d.show=p,Object(h.a)(d.image)&&c.textureValue===o||(d.image=o,c.textureValue=o),d.position=s,d.color=y.a.getValueOrDefault(u._color,e,O,j),d.eyeOffset=y.a.getValueOrDefault(u._eyeOffset,e,w,P),d.heightReference=y.a.getValueOrDefault(u._heightReference,e,x),d.pixelOffset=y.a.getValueOrDefault(u._pixelOffset,e,E,D),d.scale=y.a.getValueOrDefault(u._scale,e,1),d.rotation=y.a.getValueOrDefault(u._rotation,e,0),d.alignedAxis=y.a.getValueOrDefault(u._alignedAxis,e,T),d.horizontalOrigin=y.a.getValueOrDefault(u._horizontalOrigin,e,A),d.verticalOrigin=y.a.getValueOrDefault(u._verticalOrigin,e,C),d.width=y.a.getValueOrUndefined(u._width,e),d.height=y.a.getValueOrUndefined(u._height,e),d.scaleByDistance=y.a.getValueOrUndefined(u._scaleByDistance,e,I),d.translucencyByDistance=y.a.getValueOrUndefined(u._translucencyByDistance,e,R),d.pixelOffsetScaleByDistance=y.a.getValueOrUndefined(u._pixelOffsetScaleByDistance,e,M),d.sizeInMeters=y.a.getValueOrDefault(u._sizeInMeters,e,!1),d.distanceDisplayCondition=y.a.getValueOrUndefined(u._distanceDisplayCondition,e,N),d.disableDepthTestDistance=y.a.getValueOrUndefined(u._disableDepthTestDistance,e);var m=y.a.getValueOrUndefined(u._imageSubRegion,e,L);Object(h.a)(m)&&d.setImageSubRegion(d._imageId,m)}else r(c,l,i)}return!0},a.prototype.getBoundingSphere=function(e,t){if(!Object(h.a)(e))throw new f.a("entity is required.");if(!Object(h.a)(t))throw new f.a("result is required.");var i=this._items.get(e.id);if(!Object(h.a)(i)||!Object(h.a)(i.billboard))return b.a.FAILED;var n=i.billboard;if(n.heightReference===g.a.NONE)t.center=l.a.clone(n.position,t.center);else{if(!Object(h.a)(n._clampedPosition))return b.a.PENDING;t.center=l.a.clone(n._clampedPosition,t.center)}return t.radius=0,b.a.DONE},a.prototype.isDestroyed=function(){return!1},a.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(a.prototype._onCollectionChanged,this);for(var e=this._entityCollection.values,t=0;t<e.length;t++)this._cluster.removeBillboard(e[t]);return Object(d.a)(this)},a.prototype._onCollectionChanged=function(e,t,i,a){var o,s,c=this._items,l=this._cluster;for(o=t.length-1;o>-1;o--)s=t[o],Object(h.a)(s._billboard)&&Object(h.a)(s._position)&&c.set(s.id,new n(s));for(o=a.length-1;o>-1;o--)s=a[o],Object(h.a)(s._billboard)&&Object(h.a)(s._position)?c.contains(s.id)||c.set(s.id,new n(s)):(r(c.get(s.id),s,l),c.remove(s.id));for(o=i.length-1;o>-1;o--)s=i[o],r(c.get(s.id),s,l),c.remove(s.id)},t.a=a},ArLp:function(e,t,i){"use strict";t.a="/**\n * The automatic GLSL constant for {@link Pass#OPAQUE}\n *\n * @name czm_passOpaque\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passOpaque = 7.0;\n"},"Atl/":function(e,t,i){"use strict";function n(e){e=Object(S.a)(e,S.a.EMPTY_OBJECT);var t=e.gltf;if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),!(t instanceof Uint8Array))throw new N.a("Only binary glTF is supported as a classifier.");t=Object(H.a)(t),Object(q.a)(t),Object(B.a)(t),Object(Q.a)(t),Object(J.a)(t),k.a.buffer(t,function(e){if(!Object(j.a)(e.extras._pipeline.source))throw new N.a("Buffer data must be embedded in the binary gltf.")});var i=t.nodes,n=t.meshes,a=i[0],r=a.mesh;if(1!==i.length||!Object(j.a)(r))throw new N.a("Only one node is supported for classification and it must have a mesh.");if(1!==n.length)throw new N.a("Only one mesh is supported when using b3dm for classification.");var o=n[0].primitives;if(1!==o.length)throw new N.a("Only one primitive per mesh is supported when using b3dm for classification.");var s=o[0].attributes.POSITION;if(!Object(j.a)(s))throw new N.a("The mesh must have a position attribute.");var c=o[0].attributes._BATCHID;if(!Object(j.a)(c))throw new N.a("The mesh must have a batch id attribute.");this._gltf=t,this.show=Object(S.a)(e.show,!0),this.modelMatrix=M.a.clone(Object(S.a)(e.modelMatrix,M.a.IDENTITY)),this._modelMatrix=M.a.clone(this.modelMatrix),this._ready=!1,this._readyPromise=W.a.defer(),this.debugShowBoundingVolume=Object(S.a)(e.debugShowBoundingVolume,!1),this._debugShowBoundingVolume=!1,this.debugWireframe=Object(S.a)(e.debugWireframe,!1),this._debugWireframe=!1,this._classificationType=e.classificationType,this._vertexShaderLoaded=e.vertexShaderLoaded,this._classificationShaderLoaded=e.classificationShaderLoaded,this._uniformMapLoaded=e.uniformMapLoaded,this._pickIdLoaded=e.pickIdLoaded,this._ignoreCommands=Object(S.a)(e.ignoreCommands,!1),this._upAxis=Object(S.a)(e.upAxis,G.a.Y),this._batchTable=e.batchTable,this._computedModelMatrix=new M.a,this._initialRadius=void 0,this._boundingSphere=void 0,this._scaledBoundingSphere=new w.a,this._state=te.NEEDS_LOAD,this._loadResources=void 0,this._mode=void 0,this._dirty=!1,this._nodeMatrix=new M.a,this._primitive=void 0,this._extensionsUsed=void 0,this._extensionsRequired=void 0,this._quantizedUniforms=void 0,this._buffers={},this._vertexArray=void 0,this._shaderProgram=void 0,this._uniformMap=void 0,this._geometryByteLength=0,this._trianglesLength=0,this._rtcCenter=void 0,this._rtcCenterEye=void 0,this._rtcCenter3D=void 0,this._rtcCenter2D=void 0}function a(e){var t=e.gltf,i=e._loadResources;k.a.buffer(t,function(e,t){i.buffers[t]=e.extras._pipeline.source})}function r(e){var t=e.gltf.bufferViews,i=e._loadResources.vertexBuffersToCreate;k.a.bufferView(e.gltf,function(e,t){e.target===z.a.ARRAY_BUFFER&&i.enqueue(t)});var n=e._loadResources.indexBuffersToCreate,a={};k.a.accessor(e.gltf,function(e){var i=e.bufferView;t[i].target!==z.a.ELEMENT_ARRAY_BUFFER||Object(j.a)(a[i])||(a[i]=!0,n.enqueue({id:i,componentType:e.componentType}))})}function o(e,t){var i=t._loadResources,n=t.gltf.bufferViews,a=n[e],r=i.getBuffer(a);t._buffers[e]=r,t._geometryByteLength+=r.byteLength}function s(e,t,i){var n=i._loadResources,a=i.gltf.bufferViews,r=a[e],o={typedArray:n.getBuffer(r),indexDatatype:t};i._buffers[e]=o,i._geometryByteLength+=o.typedArray.byteLength}function c(e){var t=e._loadResources;if(0===t.pendingBufferLoads){for(var i=t.vertexBuffersToCreate,n=t.indexBuffersToCreate;i.length>0;)o(i.dequeue(),e);for(;n.length>0;){var a=n.dequeue();s(a.id,a.componentType,e)}}}function l(e,t){var i=t.gltf.meshes[0].primitives[0],n=X.a.modifyShaderForQuantizedAttributes(t.gltf,i,e);return t._quantizedUniforms=n.uniforms,n.shader}function u(e,t){return Object(j.a)(t)&&(e=t(e)),e}function h(e){var t=e.gltf,i=X.a.getAttributeOrUniformBySemantic(t,"POSITION"),n=X.a.getAttributeOrUniformBySemantic(t,"_BATCHID"),a={};a[i]=0,a[n]=1;var r,o,s=X.a.getAttributeOrUniformBySemantic(t,"MODELVIEWPROJECTION");if(Object(j.a)(s))r="uniform mat4 "+s+";\n",o=s+" * vec4("+i+", 1.0)";else{var c=X.a.getAttributeOrUniformBySemantic(t,"PROJECTION"),h=X.a.getAttributeOrUniformBySemantic(t,"MODELVIEW");Object(j.a)(h)||(h=X.a.getAttributeOrUniformBySemantic(t,"CESIUM_RTC_MODELVIEW")),r="uniform mat4 "+h+";\nuniform mat4 "+c+";\n",o=c+" * "+h+" * vec4("+i+", 1.0)"}var d="    vec4 positionInClipCoords = "+o+";\n",f="attribute vec3 "+i+";\nattribute float "+n+";\n"+r+"void main() {\n"+d+"    gl_Position = czm_depthClampFarPlane(positionInClipCoords);\n}\n";e.extensionsUsed.WEB3D_quantized_attributes&&(f=l(f,e));var p=u(f,e._vertexShaderLoaded),m=u("#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n#endif\nvoid main() \n{ \n    gl_FragColor = vec4(1.0); \n    czm_writeDepthClampedToFarPlane();\n}\n",e._classificationShaderLoaded);p=X.a.modifyVertexShaderForLogDepth(p,o),m=X.a.modifyFragmentShaderForLogDepth(m),e._shaderProgram={vertexShaderSource:p,fragmentShaderSource:m,attributeLocations:a}}function d(){return{POSITION:0,_BATCHID:1}}function f(e){if(e._loadResources.finishedBuffersCreation()&&!Object(j.a)(e._vertexArray)){var t=e._buffers,i=e.gltf,n=i.accessors,a=i.meshes,r=a[0].primitives,o=r[0],s=d(),c={};k.a.meshPrimitiveAttribute(o,function(e,a){var r=s[a];if(Object(j.a)(r)){var o=n[e];c[a]={index:r,vertexBuffer:t[o.bufferView],componentsPerAttribute:Object(V.a)(o.type),componentDatatype:o.componentType,offsetInBytes:o.byteOffset,strideInBytes:Object(U.a)(i,o)}}});var l;if(Object(j.a)(o.indices)){var u=n[o.indices];l=t[u.bufferView]}e._vertexArray={attributes:c,indexBuffer:l}}}function p(e,t){if(!Object(j.a)(e._uniformMap)){var i={};k.a.technique(e.gltf,function(n){k.a.techniqueUniform(n,function(n,a){Object(j.a)(n.semantic)&&Object(j.a)(ie[n.semantic])&&(i[a]=ie[n.semantic](t.uniformState,e))})}),e._uniformMap=i}}function m(e,t){return X.a.createUniformsForQuantizedAttributes(e.gltf,t,e._quantizedUniforms)}function g(e,t){switch(e.mode){case L.a.TRIANGLES:return t/3;case L.a.TRIANGLE_STRIP:case L.a.TRIANGLE_FAN:return Math.max(t-2,0);default:return 0}}function _(e){var t,i,n=e._batchTable,a=e._uniformMap,r=e._vertexArray,o=e.gltf,s=o.accessors,c=o.meshes,l=c[0].primitives[0],u=s[l.indices],h=l.attributes.POSITION,d=X.a.getAccessorMinMax(o,h),f=w.a.fromCornerPoints(x.a.fromArray(d.min),x.a.fromArray(d.max));if(Object(j.a)(u))i=u.count,t=u.byteOffset/R.a.getSizeInBytes(u.componentType);else{i=s[l.attributes.POSITION].count,t=0}if(e._trianglesLength+=g(l,i),Object(j.a)(e._uniformMapLoaded)&&(a=e._uniformMapLoaded(a)),e.extensionsUsed.WEB3D_quantized_attributes){var p=m(e,l);a=Object(A.a)(a,p)}var _=r.attributes.POSITION,v=_.componentDatatype,b=_.vertexBuffer,y=b.byteOffset,E=b.byteLength/C.a.getSizeInBytes(v),S=C.a.createArrayBufferView(v,b.buffer,y,E);_=r.attributes._BATCHID,v=_.componentDatatype,b=_.vertexBuffer,y=b.byteOffset,E=b.byteLength/C.a.getSizeInBytes(v);var P,D=C.a.createArrayBufferView(v,b.buffer,y,E),I=r.indexBuffer.typedArray;P=r.indexBuffer.indexDatatype===R.a.UNSIGNED_SHORT?new Uint16Array(I.buffer,I.byteOffset,I.byteLength/Uint16Array.BYTES_PER_ELEMENT):new Uint32Array(I.buffer,I.byteOffset,I.byteLength/Uint32Array.BYTES_PER_ELEMENT),S=Object(O.a)(S),D=Object(O.a)(D),P=Object(O.a)(P,t,t+i);var L=[],N=[],F=[],z=[],B=D[P[0]];L.push(B),F.push(0);for(var k,U,V,H=P.length,q=1;q<H;++q)(k=D[P[q]])!==B&&(U=F[F.length-1],V=q-U,L.push(k),N.push(V),F.push(q),z.push(new K.a({offset:U,count:V,batchIds:[B],color:T.a.WHITE})),B=k);U=F[F.length-1],V=H-U,N.push(V),z.push(new K.a({offset:U,count:V,batchIds:[B],color:T.a.WHITE}));var W=e._shaderProgram,G=W.vertexShaderSource,Y=W.fragmentShaderSource,Q=W.attributeLocations,J=Object(j.a)(e._pickIdLoaded)?e._pickIdLoaded():void 0;e._primitive=new $.a({classificationType:e._classificationType,positions:S,indices:P,indexOffsets:F,indexCounts:N,batchIds:L,vertexBatchIds:D,batchedIndices:z,batchTable:n,boundingVolume:new w.a,_vertexShaderSource:G,_fragmentShaderSource:Y,_attributeLocations:Q,_uniformMap:a,_pickId:J,_modelMatrix:new M.a,_boundingSphere:f}),e._buffers=void 0,e._vertexArray=void 0,e._shaderProgram=void 0,e._uniformMap=void 0}function v(e){if(e._loadResources.finished()&&!Object(j.a)(e._primitive)){var t=e.gltf,i=t.nodes,n=i[0];e._nodeMatrix=X.a.getTransform(n,e._nodeMatrix),_(e)}}function b(e,t){var i=t.context;X.a.checkSupportedGlExtensions(e.gltf.glExtensionsUsed,i),c(e),h(e),f(e),p(e,i),v(e)}function y(e,t,i,n){var a=e._computedModelMatrix;if(e._mode!==Z.a.SCENE3D&&!e._ignoreCommands){var r=M.a.getColumn(a,3,ne);if(E.a.equals(r,E.a.UNIT_W)){var o=e.boundingSphere.center,s=F.a.wgs84To2DModelMatrix(n,o,ae);a=M.a.multiply(s,a,ae),Object(j.a)(e._rtcCenter)&&(M.a.setTranslation(a,E.a.UNIT_W,a),e._rtcCenter=e._rtcCenter2D)}else a=F.a.basisTo2D(n,a,ae),e._rtcCenter=e._rtcCenter3D}var c=e._primitive;(t||i)&&(M.a.multiplyTransformation(a,e._nodeMatrix,c._modelMatrix),w.a.transform(c._boundingSphere,c._modelMatrix,c._boundingVolume),Object(j.a)(e._rtcCenter)&&x.a.add(e._rtcCenter,c._boundingVolume.center,c._boundingVolume.center))}var O=i("Xku3"),w=i("lBr9"),x=i("Jj+J"),E=i("PDkd"),T=i("6F0S"),A=i("ZboF"),C=i("YCZg"),S=i("5A4e"),j=i("xC6Q"),P=i("6sr8"),D=i("PzDm"),I=i("gjtw"),R=i("oMsT"),M=i("Xjii"),L=i("nHNe"),N=i("V22k"),F=i("g/FO"),z=i("1L1F"),B=i("K8l+"),k=i("FJg6"),U=i("dWoC"),V=i("8uSS"),H=i("xc3H"),q=i("d+a7"),W=i("S7OP"),G=i("gsn9"),Y=i("xVcD"),X=i("67ZH"),Q=i("qy4r"),J=i("52/g"),Z=i("sotJ"),K=i("ixF4"),$=i("jSWP"),ee=new x.a,te=X.a.ModelState;Object.defineProperties(n.prototype,{gltf:{get:function(){return this._gltf}},boundingSphere:{get:function(){if(this._state!==te.LOADED)throw new D.a("The model is not loaded.  Use ClassificationModel.readyPromise or wait for ClassificationModel.ready to be true.");var e=this.modelMatrix,t=M.a.getScale(e,ee),i=this._scaledBoundingSphere;return i.center=x.a.multiplyComponents(this._boundingSphere.center,t,i.center),i.radius=x.a.maximumComponent(t)*this._initialRadius,Object(j.a)(this._rtcCenter)&&x.a.add(this._rtcCenter,i.center,i.center),i}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},dirty:{get:function(){return this._dirty}},extensionsUsed:{get:function(){return Object(j.a)(this._extensionsUsed)||(this._extensionsUsed=X.a.getUsedExtensions(this.gltf)),this._extensionsUsed}},extensionsRequired:{get:function(){return Object(j.a)(this._extensionsRequired)||(this._extensionsRequired=X.a.getRequiredExtensions(this.gltf)),this._extensionsRequired}},upAxis:{get:function(){return this._upAxis}},trianglesLength:{get:function(){return this._trianglesLength}},geometryByteLength:{get:function(){return this._geometryByteLength}},texturesByteLength:{get:function(){return 0}},classificationType:{get:function(){return this._classificationType}}});var ie={PROJECTION:function(e,t){return X.a.getGltfSemanticUniforms().PROJECTION(e,t)},MODELVIEW:function(e,t){return X.a.getGltfSemanticUniforms().MODELVIEW(e,t)},CESIUM_RTC_MODELVIEW:function(e,t){return X.a.getGltfSemanticUniforms().CESIUM_RTC_MODELVIEW(e,t)},MODELVIEWPROJECTION:function(e,t){return X.a.getGltfSemanticUniforms().MODELVIEWPROJECTION(e,t)}},ne=new E.a,ae=new M.a;n.prototype.updateCommands=function(e,t){this._primitive.updateCommands(e,t)},n.prototype.update=function(e){if(e.mode!==Z.a.MORPHING){if(!I.a.supportsWebP.initialized)return void I.a.supportsWebP.initialize();var t=I.a.supportsWebP();if(this._state===te.NEEDS_LOAD&&Object(j.a)(this.gltf)&&(this._state=te.LOADING,this._state!==te.FAILED)){var i=this.gltf.extensions;if(Object(j.a)(i)&&Object(j.a)(i.CESIUM_RTC)){var n=x.a.fromArray(i.CESIUM_RTC.center);if(!x.a.equals(n,x.a.ZERO)){this._rtcCenter3D=n;var o=e.mapProjection,s=o.ellipsoid,c=s.cartesianToCartographic(this._rtcCenter3D),l=o.project(c);x.a.fromElements(l.z,l.x,l.y,l),this._rtcCenter2D=l,this._rtcCenterEye=new x.a,this._rtcCenter=this._rtcCenter3D}}this._loadResources=new Y.a,X.a.parseBuffers(this)}var u=this._loadResources,h=!1;this._state===te.LOADING&&(0===u.pendingBufferLoads&&(X.a.checkSupportedExtensions(this.extensionsRequired,t),a(this),r(this),this._boundingSphere=X.a.computeBoundingSphere(this),this._initialRadius=this._boundingSphere.radius,b(this,e)),u.finished()&&(this._state=te.LOADED,h=!0)),Object(j.a)(u)&&this._state===te.LOADED&&(h||b(this,e),u.finished()&&(this._loadResources=void 0));var d=this.show;if(d&&this._state===te.LOADED||h){this._dirty=!1;var f=this.modelMatrix,p=e.mode!==this._mode;this._mode=e.mode;var m=!M.a.equals(this._modelMatrix,f)||p;if(m||h){M.a.clone(f,this._modelMatrix);var g=this._computedModelMatrix;M.a.clone(f,g),this._upAxis===G.a.Y?M.a.multiplyTransformation(g,G.a.Y_UP_TO_Z_UP,g):this._upAxis===G.a.X&&M.a.multiplyTransformation(g,G.a.X_UP_TO_Z_UP,g)}(m||h)&&(y(this,m,h,e.mapProjection),this._dirty=!0)}if(h){var _=this;return void e.afterRender.push(function(){_._ready=!0,_._readyPromise.resolve(_)})}d&&!this._ignoreCommands&&(this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.debugWireframe=this.debugWireframe,this._primitive.update(e))}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),Object(P.a)(this)},t.a=n},Atvd:function(e,t,i){"use strict";var n=i("ow1b"),a=function(){return!!n};a.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=a},AuQs:function(e,t,i){"use strict";function n(){a.a.throwInstantiationError()}var a=i("PzDm");Object.defineProperties(n.prototype,{ellipsoid:{get:a.a.throwInstantiationError}}),n.prototype.project=a.a.throwInstantiationError,n.prototype.unproject=a.a.throwInstantiationError},AyU4:function(e,t,i){"use strict";t.a="/**\n * The automatic GLSL constant for {@link Pass#GLOBE}\n *\n * @name czm_passGlobe\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passGlobe = 2.0;\n"},B1z7:function(e,t,i){"use strict";function n(){this._list=new r.a,this._sentinel=this._list.add(),this._trimTiles=!1}var a=i("xC6Q"),r=i("lo7V");n.prototype.reset=function(){this._list.splice(this._list.tail,this._sentinel)},n.prototype.touch=function(e){var t=e.cacheNode;Object(a.a)(t)&&this._list.splice(this._sentinel,t)},n.prototype.add=function(e){Object(a.a)(e.cacheNode)||(e.cacheNode=this._list.add(e))},n.prototype.unloadTile=function(e,t,i){var n=t.cacheNode;Object(a.a)(n)&&(this._list.remove(n),t.cacheNode=void 0,i(e,t))},n.prototype.unloadTiles=function(e,t){var i=this._trimTiles;this._trimTiles=!1;for(var n=this._list,a=1024*e.maximumMemoryUsage*1024,r=this._sentinel,o=n.head;o!==r&&(e.totalMemoryUsageInBytes>a||i);){var s=o.item;o=o.next,this.unloadTile(e,s,t)}},n.prototype.trim=function(){this._trimTiles=!0},t.a=n},B8W5:function(e,t,i){"use strict";function n(e){e=Object(l.a)(e,l.a.EMPTY_OBJECT),this.center=s.a.clone(Object(l.a)(e.center,s.a.ZERO)),this._center=new s.a,this.radii=s.a.clone(e.radii),this._radii=new s.a,this._oneOverEllipsoidRadiiSquared=new s.a,this._boundingSphere=new r.a,this.modelMatrix=f.a.clone(Object(l.a)(e.modelMatrix,f.a.IDENTITY)),this._modelMatrix=new f.a,this._computedModelMatrix=new f.a,this.show=Object(l.a)(e.show,!0),this.material=Object(l.a)(e.material,A.a.fromType(A.a.ColorType)),this._material=void 0,this._translucent=void 0,this.id=e.id,this._id=void 0,this.debugShowBoundingVolume=Object(l.a)(e.debugShowBoundingVolume,!1),this.onlySunLighting=Object(l.a)(e.onlySunLighting,!1),this._onlySunLighting=!1,this._depthTestEnabled=Object(l.a)(e.depthTestEnabled,!0),this._useLogDepth=!1,this._sp=void 0,this._rs=void 0,this._va=void 0,this._pickSP=void 0,this._pickId=void 0,this._colorCommand=new g.a({owner:Object(l.a)(e._owner,this)}),this._pickCommand=new g.a({owner:Object(l.a)(e._owner,this),pickOnly:!0});var t=this;this._uniforms={u_radii:function(){return t.radii},u_oneOverEllipsoidRadiiSquared:function(){return t._oneOverEllipsoidRadiiSquared}},this._pickUniforms={czm_pickColor:function(){return t._pickId.color}}}function a(e){var t=e.cache.ellipsoidPrimitive_vertexArray;if(Object(u.a)(t))return t;var i=o.a.createGeometry(o.a.fromDimensions({dimensions:new s.a(2,2,2),vertexFormat:p.a.POSITION_ONLY}));return t=O.a.fromGeometry({context:e,geometry:i,attributeLocations:S,bufferUsage:m.a.STATIC_DRAW,interleave:!0}),e.cache.ellipsoidPrimitive_vertexArray=t,t}var r=i("lBr9"),o=i("7snz"),s=i("Jj+J"),c=i("ZboF"),l=i("5A4e"),u=i("xC6Q"),h=i("6sr8"),d=i("PzDm"),f=i("Xjii"),p=i("xvTE"),m=i("rFKc"),g=i("1mJh"),_=i("M0+0"),v=i("DrvA"),b=i("WUlw"),y=i("x6Ms"),O=i("+0EW"),w=i("6BcB"),x=i("E3Re"),E=i("OtDm"),T=i("3fQz"),A=i("5SZ+"),C=i("sotJ"),S={position:0},j="#ifdef GL_EXT_frag_depth \n#extension GL_EXT_frag_depth : enable \n#endif \n\n";n.prototype.update=function(e){if(this.show&&e.mode===C.a.SCENE3D&&Object(u.a)(this.center)&&Object(u.a)(this.radii)){if(!Object(u.a)(this.material))throw new d.a("this.material must be defined.");var t=e.context,i=this.material.isTranslucent(),n=this._translucent!==i;Object(u.a)(this._rs)&&!n||(this._translucent=i,this._rs=v.a.fromCache({cull:{enabled:!0,face:T.a.FRONT},depthTest:{enabled:this._depthTestEnabled},depthMask:!i&&t.fragmentDepth,blending:i?E.a.ALPHA_BLEND:void 0})),Object(u.a)(this._va)||(this._va=a(t));var o=!1,l=this.radii;if(!s.a.equals(this._radii,l)){s.a.clone(l,this._radii);var h=this._oneOverEllipsoidRadiiSquared;h.x=1/(l.x*l.x),h.y=1/(l.y*l.y),h.z=1/(l.z*l.z),o=!0}f.a.equals(this.modelMatrix,this._modelMatrix)&&s.a.equals(this.center,this._center)||(f.a.clone(this.modelMatrix,this._modelMatrix),s.a.clone(this.center,this._center),f.a.multiplyByTranslation(this.modelMatrix,this.center,this._computedModelMatrix),o=!0),o&&(s.a.clone(s.a.ZERO,this._boundingSphere.center),this._boundingSphere.radius=s.a.maximumComponent(l),r.a.transform(this._boundingSphere,this._computedModelMatrix,this._boundingSphere));var p=this._material!==this.material;this._material=this.material,this._material.update(t);var m=this.onlySunLighting!==this._onlySunLighting;this._onlySunLighting=this.onlySunLighting;var g=e.useLogDepth,O=this._useLogDepth!==g;this._useLogDepth=g;var A,P,D=this._colorCommand;(p||m||n||O)&&(A=new y.a({sources:[x.a]}),P=new y.a({sources:[this.material.shaderSource,w.a]}),this.onlySunLighting&&P.defines.push("ONLY_SUN_LIGHTING"),!i&&t.fragmentDepth&&P.defines.push("WRITE_DEPTH"),this._useLogDepth&&(A.defines.push("LOG_DEPTH"),P.defines.push("LOG_DEPTH"),P.sources.push(j)),this._sp=b.a.replaceCache({context:t,shaderProgram:this._sp,vertexShaderSource:A,fragmentShaderSource:P,attributeLocations:S}),D.vertexArray=this._va,D.renderState=this._rs,D.shaderProgram=this._sp,D.uniformMap=Object(c.a)(this._uniforms,this.material._uniforms),D.executeInClosestFrustum=i);var I=e.commandList,R=e.passes;if(R.render&&(D.boundingVolume=this._boundingSphere,D.debugShowBoundingVolume=this.debugShowBoundingVolume,D.modelMatrix=this._computedModelMatrix,D.pass=i?_.a.TRANSLUCENT:_.a.OPAQUE,I.push(D)),R.pick){var M=this._pickCommand;Object(u.a)(this._pickId)&&this._id===this.id||(this._id=this.id,this._pickId=this._pickId&&this._pickId.destroy(),this._pickId=t.createPickId({primitive:this,id:this.id})),(p||m||!Object(u.a)(this._pickSP)||O)&&(A=new y.a({sources:[x.a]}),P=new y.a({sources:[this.material.shaderSource,w.a],pickColorQualifier:"uniform"}),this.onlySunLighting&&P.defines.push("ONLY_SUN_LIGHTING"),!i&&t.fragmentDepth&&P.defines.push("WRITE_DEPTH"),this._useLogDepth&&(A.defines.push("LOG_DEPTH"),P.defines.push("LOG_DEPTH"),P.sources.push(j)),this._pickSP=b.a.replaceCache({context:t,shaderProgram:this._pickSP,vertexShaderSource:A,fragmentShaderSource:P,attributeLocations:S}),M.vertexArray=this._va,M.renderState=this._rs,M.shaderProgram=this._pickSP,M.uniformMap=Object(c.a)(Object(c.a)(this._uniforms,this._pickUniforms),this.material._uniforms),M.executeInClosestFrustum=i),M.boundingVolume=this._boundingSphere,M.modelMatrix=this._computedModelMatrix,M.pass=i?_.a.TRANSLUCENT:_.a.OPAQUE,I.push(M)}}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._sp=this._sp&&this._sp.destroy(),this._pickSP=this._pickSP&&this._pickSP.destroy(),this._pickId=this._pickId&&this._pickId.destroy(),Object(h.a)(this)},t.a=n},BEV1:function(e,t,i){"use strict";var n=i("nzu/"),a=i("lBr9"),r=i("Ss9j"),o=i("Jj+J"),s=i("5A4e"),c=i("xC6Q"),l=i("PzDm"),u=i("y6fO"),h=i("PRoZ"),d=i("fq+p"),f=i("Xjii"),p=i("qBw0"),m=i("Wq1U"),g=i("c/Hq"),_=i("g/FO"),v=i("6AvQ"),b={};b.DEFAULT_STRUCTURE=Object.freeze({heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1});var y=new o.a,O=new f.a,w=new o.a,x=new o.a;b.computeVertices=function(e){if(!Object(c.a)(e)||!Object(c.a)(e.heightmap))throw new l.a("options.heightmap is required.");if(!Object(c.a)(e.width)||!Object(c.a)(e.height))throw new l.a("options.width and options.height are required.");if(!Object(c.a)(e.nativeRectangle))throw new l.a("options.nativeRectangle is required.");if(!Object(c.a)(e.skirtHeight))throw new l.a("options.skirtHeight is required.");var t,i,E,T,A=Math.cos,C=Math.sin,S=Math.sqrt,j=Math.atan,P=Math.exp,D=d.a.PI_OVER_TWO,I=d.a.toRadians,R=e.heightmap,M=e.width,L=e.height,N=e.skirtHeight,F=Object(s.a)(e.isGeographic,!0),z=Object(s.a)(e.ellipsoid,u.a.WGS84),B=1/z.maximumRadius,k=e.nativeRectangle,U=e.rectangle;Object(c.a)(U)?(t=U.west,i=U.south,E=U.east,T=U.north):F?(t=I(k.west),i=I(k.south),E=I(k.east),T=I(k.north)):(t=k.west*B,i=D-2*j(P(-k.south*B)),E=k.east*B,T=D-2*j(P(-k.north*B)));var V=e.relativeToCenter,H=Object(c.a)(V);V=H?V:o.a.ZERO;var q=Object(s.a)(e.exaggeration,1),W=Object(s.a)(e.includeWebMercatorT,!1),G=Object(s.a)(e.structure,b.DEFAULT_STRUCTURE),Y=Object(s.a)(G.heightScale,b.DEFAULT_STRUCTURE.heightScale),X=Object(s.a)(G.heightOffset,b.DEFAULT_STRUCTURE.heightOffset),Q=Object(s.a)(G.elementsPerHeight,b.DEFAULT_STRUCTURE.elementsPerHeight),J=Object(s.a)(G.stride,b.DEFAULT_STRUCTURE.stride),Z=Object(s.a)(G.elementMultiplier,b.DEFAULT_STRUCTURE.elementMultiplier),K=Object(s.a)(G.isBigEndian,b.DEFAULT_STRUCTURE.isBigEndian),$=m.a.computeWidth(k),ee=m.a.computeHeight(k),te=$/(M-1),ie=ee/(L-1);F||($*=B,ee*=B);var ne,ae,re=z.radiiSquared,oe=re.x,se=re.y,ce=re.z,le=65536,ue=-65536,he=_.a.eastNorthUpToFixedFrame(V,z),de=f.a.inverseTransformation(he,O);W&&(ne=v.a.geodeticLatitudeToMercatorAngle(i),ae=1/(v.a.geodeticLatitudeToMercatorAngle(T)-ne));var fe=w;fe.x=Number.POSITIVE_INFINITY,fe.y=Number.POSITIVE_INFINITY,fe.z=Number.POSITIVE_INFINITY;var pe=x;pe.x=Number.NEGATIVE_INFINITY,pe.y=Number.NEGATIVE_INFINITY,pe.z=Number.NEGATIVE_INFINITY;var me=Number.POSITIVE_INFINITY,ge=M*L,_e=N>0?2*M+2*L:0,ve=ge+_e,be=new Array(ve),ye=new Array(ve),Oe=new Array(ve),we=W?new Array(ve):[],xe=0,Ee=L,Te=0,Ae=M;N>0&&(--xe,++Ee,--Te,++Ae);for(var Ce=xe;Ce<Ee;++Ce){var Se=Ce;Se<0&&(Se=0),Se>=L&&(Se=L-1);var je=k.north-ie*Se;je=F?I(je):D-2*j(P(-je*B));var Pe=(je-i)/(T-i);Pe=d.a.clamp(Pe,0,1);var De=Ce===xe,Ie=Ce===Ee-1;N>0&&(De?je+=1e-5*ee:Ie&&(je-=1e-5*ee));var Re,Me=A(je),Le=C(je),Ne=ce*Le;W&&(Re=(v.a.geodeticLatitudeToMercatorAngle(je)-ne)*ae);for(var Fe=Te;Fe<Ae;++Fe){var ze=Fe;ze<0&&(ze=0),ze>=M&&(ze=M-1);var Be,ke=Se*(M*J)+ze*J;if(1===Q)Be=R[ke];else{Be=0;var Ue;if(K)for(Ue=0;Ue<Q;++Ue)Be=Be*Z+R[ke+Ue];else for(Ue=Q-1;Ue>=0;--Ue)Be=Be*Z+R[ke+Ue]}Be=(Be*Y+X)*q,ue=Math.max(ue,Be),le=Math.min(le,Be);var Ve=k.west+te*ze;F?Ve=I(Ve):Ve*=B;var He=(Ve-t)/(E-t);He=d.a.clamp(He,0,1);var qe=Se*M+ze;if(N>0){var We=Fe===Te,Ge=Fe===Ae-1,Ye=De||Ie||We||Ge;if((De||Ie)&&(We||Ge))continue;Ye&&(Be-=N,We?(qe=ge+(L-Se-1),Ve-=1e-5*$):Ie?qe=ge+L+(M-ze-1):Ge?(qe=ge+L+M+Se,Ve+=1e-5*$):De&&(qe=ge+L+M+L+ze))}var Xe=Me*A(Ve),Qe=Me*C(Ve),Je=oe*Xe,Ze=se*Qe,Ke=S(Je*Xe+Ze*Qe+Ne*Le),$e=1/Ke,et=Je*$e,tt=Ze*$e,it=Ne*$e,nt=new o.a;nt.x=et+Xe*Be,nt.y=tt+Qe*Be,nt.z=it+Le*Be,be[qe]=nt,ye[qe]=Be,Oe[qe]=new r.a(He,Pe),W&&(we[qe]=Re),f.a.multiplyByPoint(de,nt,y),o.a.minimumByComponent(y,fe,fe),o.a.maximumByComponent(y,pe,pe),me=Math.min(me,Be)}}var at,rt=a.a.fromPoints(be);Object(c.a)(U)&&(at=p.a.fromRectangle(U,le,ue,z));var ot;if(H){ot=new h.a(z).computeHorizonCullingPointPossiblyUnderEllipsoid(V,be,le)}for(var st=new n.a(fe,pe,V),ct=new g.a(st,me,ue,he,!1,W),lt=new Float32Array(ve*ct.getStride()),ut=0,ht=0;ht<ve;++ht)ut=ct.encode(lt,ut,be[ht],Oe[ht],ye[ht],void 0,we[ht]);return{vertices:lt,maximumHeight:ue,minimumHeight:le,encoding:ct,boundingSphere3D:rt,orientedBoundingBox:at,occludeePointInScaledSpace:ot}},t.a=b},BF5f:function(e,t,i){"use strict";var n={START:0,LOADING:1,READY:2,UPSAMPLED_ONLY:3};Object.freeze(n)},BFuI:function(e,t,i){"use strict";function n(e,t){if(!Object(a.a)(e))throw new o.a("container is required.");if(!Object(a.a)(t))throw new o.a("scene is required.");e=Object(l.a)(e);var i=new u.a(t);i._perspectivePath=h,i._orthographicPath=d;var n=document.createElement("span");n.className="cesium-projectionPicker-wrapper cesium-toolbar-button",e.appendChild(n);var r=document.createElement("button");r.type="button",r.className="cesium-button cesium-toolbar-button",r.setAttribute("data-bind",'css: { "cesium-projectionPicker-buttonPerspective": !_orthographic,       "cesium-projectionPicker-buttonOrthographic": _orthographic,       "cesium-button-disabled" : sceneMode === _sceneMode.SCENE2D || _flightInProgress,        "cesium-projectionPicker-selected": dropDownVisible },attr: { title: selectedTooltip },click: toggleDropDown'),r.innerHTML='\x3c!-- ko cesiumSvgPath: { path: _perspectivePath, width: 64, height: 64, css: "cesium-projectionPicker-iconPerspective" } --\x3e\x3c!-- /ko --\x3e\x3c!-- ko cesiumSvgPath: { path: _orthographicPath, width: 64, height: 64, css: "cesium-projectionPicker-iconOrthographic" } --\x3e\x3c!-- /ko --\x3e',n.appendChild(r);var f=document.createElement("button");f.type="button",f.className="cesium-button cesium-toolbar-button cesium-projectionPicker-dropDown-icon",f.setAttribute("data-bind",'css: { "cesium-projectionPicker-visible" : (dropDownVisible && _orthographic),       "cesium-projectionPicker-none" : !_orthographic,       "cesium-projectionPicker-hidden" : !dropDownVisible },attr: { title: tooltipPerspective },click: switchToPerspective,cesiumSvgPath: { path: _perspectivePath, width: 64, height: 64 }'),n.appendChild(f);var p=document.createElement("button");p.type="button",p.className="cesium-button cesium-toolbar-button cesium-projectionPicker-dropDown-icon",p.setAttribute("data-bind",'css: { "cesium-projectionPicker-visible" : (dropDownVisible && !_orthographic),       "cesium-projectionPicker-none" : _orthographic,       "cesium-projectionPicker-hidden" : !dropDownVisible},attr: { title: tooltipOrthographic },click: switchToOrthographic,cesiumSvgPath: { path: _orthographicPath, width: 64, height: 64 }'),n.appendChild(p),c.a.applyBindings(i,n),this._viewModel=i,this._container=e,this._wrapper=n,this._closeDropDown=function(e){n.contains(e.target)||(i.dropDownVisible=!1)},s.a.supportsPointerEvents()?document.addEventListener("pointerdown",this._closeDropDown,!0):(document.addEventListener("mousedown",this._closeDropDown,!0),document.addEventListener("touchstart",this._closeDropDown,!0))}var a=i("xC6Q"),r=i("6sr8"),o=i("PzDm"),s=i("gjtw"),c=i("PKIF"),l=i("k6tp"),u=i("4WGI"),h="M 28.15625,10.4375 9.125,13.21875 13.75,43.25 41.75,55.09375 50.8125,37 54.5,11.9375 z m 0.125,3 19.976451,0.394265 L 43.03125,16.875 22.6875,14.28125 z M 50.971746,15.705477 47.90625,36.03125 42.53125,46 44.84375,19.3125 z M 12.625,16.03125 l 29.15625,3.6875 -2.65625,31 L 16.4375,41.125 z",d="m 31.560594,6.5254438 -20.75,12.4687502 0.1875,24.5625 22.28125,11.8125 19.5,-12 0.65625,-0.375 0,-0.75 0.0312,-23.21875 z m 0.0625,3.125 16.65625,9.5000002 -16.125,10.28125 -17.34375,-9.71875 z m 18.96875,11.1875002 0.15625,20.65625 -17.46875,10.59375 0.15625,-20.28125 z m -37.0625,1.25 17.21875,9.625 -0.15625,19.21875 -16.9375,-9 z";Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._viewModel.destroy(),s.a.supportsPointerEvents()?document.removeEventListener("pointerdown",this._closeDropDown,!0):(document.removeEventListener("mousedown",this._closeDropDown,!0),document.removeEventListener("touchstart",this._closeDropDown,!0)),c.a.cleanNode(this._wrapper),this._container.removeChild(this._wrapper),Object(r.a)(this)},t.a=n},BMJK:function(e,t,i){"use strict";function n(e){e=Object(s.a)(e,s.a.EMPTY_OBJECT),this.mass=Object(s.a)(e.mass,1),this.position=r.a.clone(Object(s.a)(e.position,r.a.ZERO)),this.velocity=r.a.clone(Object(s.a)(e.velocity,r.a.ZERO)),this.life=Object(s.a)(e.life,Number.MAX_VALUE),this.image=e.image,this.startColor=o.a.clone(Object(s.a)(e.startColor,o.a.WHITE)),this.endColor=o.a.clone(Object(s.a)(e.endColor,o.a.WHITE)),this.startScale=Object(s.a)(e.startScale,1),this.endScale=Object(s.a)(e.endScale,1),this.imageSize=a.a.clone(Object(s.a)(e.imageSize,l)),this._age=0,this._normalizedAge=0,this._billboard=void 0}var a=i("Ss9j"),r=i("Jj+J"),o=i("6F0S"),s=i("5A4e"),c=i("xC6Q"),l=new a.a(1,1);Object.defineProperties(n.prototype,{age:{get:function(){return this._age}},normalizedAge:{get:function(){return this._normalizedAge}}});var u=new r.a;n.prototype.update=function(e,t){return r.a.multiplyByScalar(this.velocity,e,u),r.a.add(this.position,u,this.position),Object(c.a)(t)&&t(this,e),this._age+=e,this.life===Number.MAX_VALUE?this._normalizedAge=0:this._normalizedAge=this._age/this.life,this._age<=this.life},t.a=n},BOF4:function(e,t,i){"use strict";function n(e){this._batchTable=e.batchTable,this._batchIds=e.batchIds,this._positions=e.positions,this._counts=e.counts,this._indices=e.indices,this._indexCounts=e.indexCounts,this._indexOffsets=void 0,this._batchTableColors=void 0,this._packedBuffer=void 0,this._batchedPositions=void 0,this._transferrableBatchIds=void 0,this._vertexBatchIds=void 0,this._ellipsoid=Object(u.a)(e.ellipsoid,f.a.WGS84),this._minimumHeight=e.minimumHeight,this._maximumHeight=e.maximumHeight,this._polygonMinimumHeights=e.polygonMinimumHeights,this._polygonMaximumHeights=e.polygonMaximumHeights,this._center=Object(u.a)(e.center,c.a.ZERO),this._rectangle=e.rectangle,this._center=void 0,this._boundingVolume=e.boundingVolume,this._boundingVolumes=void 0,this._batchedIndices=void 0,this._ready=!1,this._readyPromise=v.a.defer(),this._verticesPromise=void 0,this._primitive=void 0,this.debugWireframe=!1,this.forceRebatch=!1,this.classificationType=b.a.BOTH}function a(e){var t=new Float64Array(3+c.a.packedLength+f.a.packedLength+g.a.packedLength),i=0;return t[i++]=e._indices.BYTES_PER_ELEMENT,t[i++]=e._minimumHeight,t[i++]=e._maximumHeight,c.a.pack(e._center,t,i),i+=c.a.packedLength,f.a.pack(e._ellipsoid,t,i),i+=f.a.packedLength,g.a.pack(e._rectangle,t,i),t}function r(e,t){for(var i=1,n=t[i++],a=e._boundingVolumes=new Array(n),r=0;r<n;++r)a[r]=m.a.unpack(t,i),i+=m.a.packedLength;for(var o=t[i++],s=e._batchedIndices=new Array(o),c=0;c<o;++c){var u=l.a.unpack(t,i);i+=l.a.packedLength;for(var h=t[i++],d=t[i++],f=t[i++],p=new Array(f),g=0;g<f;++g)p[g]=t[i++];s[c]=new y.a({color:u,offset:h,count:d,batchIds:p})}}function o(e){if(!Object(h.a)(e._primitive)){if(!Object(h.a)(e._verticesPromise)){var t=e._positions,i=e._counts,n=e._indexCounts,o=e._indices,c=e._transferrableBatchIds,l=e._batchTableColors,u=e._packedBuffer;if(!Object(h.a)(l)){t=e._positions=Object(s.a)(e._positions),i=e._counts=Object(s.a)(e._counts),n=e._indexCounts=Object(s.a)(e._indexCounts),o=e._indices=Object(s.a)(e._indices),e._center=e._ellipsoid.cartographicToCartesian(g.a.center(e._rectangle)),c=e._transferrableBatchIds=new Uint32Array(e._batchIds),l=e._batchTableColors=new Uint32Array(c.length);for(var d=e._batchTable,f=l.length,m=0;m<f;++m){var _=d.getColor(m,x);l[m]=_.toRgba()}u=e._packedBuffer=a(e)}var b=[t.buffer,i.buffer,n.buffer,o.buffer,c.buffer,l.buffer,u.buffer],y={packedBuffer:u.buffer,positions:t.buffer,counts:i.buffer,indexCounts:n.buffer,indices:o.buffer,batchIds:c.buffer,batchTableColors:l.buffer},E=e._polygonMinimumHeights,T=e._polygonMaximumHeights;Object(h.a)(E)&&Object(h.a)(T)&&(E=Object(s.a)(E),T=Object(s.a)(T),b.push(E.buffer,T.buffer),y.minimumHeights=E,y.maximumHeights=T);var A=e._verticesPromise=w.scheduleTask(y,b);if(!Object(h.a)(A))return;Object(v.a)(A,function(t){e._positions=void 0,e._counts=void 0,e._polygonMinimumHeights=void 0,e._polygonMaximumHeights=void 0;var i=new Float64Array(t.packedBuffer),n=i[0];r(e,i),e._indices=2===p.a.getSizeInBytes(n)?new Uint16Array(t.indices):new Uint32Array(t.indices),e._indexOffsets=new Uint32Array(t.indexOffsets),e._indexCounts=new Uint32Array(t.indexCounts),e._batchedPositions=new Float32Array(t.positions),e._vertexBatchIds=new Uint16Array(t.batchIds),e._ready=!0})}e._ready&&!Object(h.a)(e._primitive)&&(e._primitive=new O.a({batchTable:e._batchTable,positions:e._batchedPositions,batchIds:e._batchIds,vertexBatchIds:e._vertexBatchIds,indices:e._indices,indexOffsets:e._indexOffsets,indexCounts:e._indexCounts,batchedIndices:e._batchedIndices,boundingVolume:e._boundingVolume,boundingVolumes:e._boundingVolumes,center:e._center}),e._batchTable=void 0,e._batchIds=void 0,e._positions=void 0,e._counts=void 0,e._indices=void 0,e._indexCounts=void 0,e._indexOffsets=void 0,e._batchTableColors=void 0,e._packedBuffer=void 0,e._batchedPositions=void 0,e._transferrableBatchIds=void 0,e._vertexBatchIds=void 0,e._ellipsoid=void 0,e._minimumHeight=void 0,e._maximumHeight=void 0,e._polygonMinimumHeights=void 0,e._polygonMaximumHeights=void 0,e._center=void 0,e._rectangle=void 0,e._boundingVolume=void 0,e._boundingVolumes=void 0,e._batchedIndices=void 0,e._verticesPromise=void 0,e._readyPromise.resolve())}}var s=i("Xku3"),c=i("Jj+J"),l=i("6F0S"),u=i("5A4e"),h=i("xC6Q"),d=i("6sr8"),f=i("y6fO"),p=i("oMsT"),m=i("qBw0"),g=i("Wq1U"),_=i("JlUm"),v=i("S7OP"),b=i("M1dj"),y=i("ixF4"),O=i("jSWP");Object.defineProperties(n.prototype,{trianglesLength:{get:function(){return Object(h.a)(this._primitive)?this._primitive.trianglesLength:0}},geometryByteLength:{get:function(){return Object(h.a)(this._primitive)?this._primitive.geometryByteLength:0}},readyPromise:{get:function(){return this._readyPromise.promise}}});var w=new _.a("createVectorTilePolygons"),x=new l.a;n.prototype.createFeatures=function(e,t){this._primitive.createFeatures(e,t)},n.prototype.applyDebugSettings=function(e,t){this._primitive.applyDebugSettings(e,t)},n.prototype.applyStyle=function(e,t){this._primitive.applyStyle(e,t)},n.prototype.updateCommands=function(e,t){this._primitive.updateCommands(e,t)},n.prototype.update=function(e){o(this),this._ready&&(this._primitive.debugWireframe=this.debugWireframe,this._primitive.forceRebatch=this.forceRebatch,this._primitive.classificationType=this.classificationType,this._primitive.update(e))},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),Object(d.a)(this)},t.a=n},BOHs:function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT);var t=e.textureUrl;Object(s.a)(t)||(t=Object(a.a)("Assets/Textures/moonSmall.jpg")),this.show=Object(o.a)(e.show,!0),this.textureUrl=t,this._ellipsoid=Object(o.a)(e.ellipsoid,l.a.MOON),this.onlySunLighting=Object(o.a)(e.onlySunLighting,!0),this._ellipsoidPrimitive=new m.a({radii:this.ellipsoid.radii,material:g.a.fromType(g.a.ImageType),depthTestEnabled:!1,_owner:this}),this._ellipsoidPrimitive.material.translucent=!1,this._axes=new u.a}var a=i("CcV0"),r=i("Jj+J"),o=i("5A4e"),s=i("xC6Q"),c=i("6sr8"),l=i("y6fO"),u=i("WzJ8"),h=i("i3sv"),d=i("Xjii"),f=i("nyDB"),p=i("g/FO"),m=i("B8W5"),g=i("5SZ+");Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}});var _=new h.a,v=new h.a,b=new r.a,y=[];n.prototype.update=function(e){if(this.show){var t=this._ellipsoidPrimitive;t.material.uniforms.image=this.textureUrl,t.onlySunLighting=this.onlySunLighting;var i=e.time;Object(s.a)(p.a.computeIcrfToFixedMatrix(i,_))||p.a.computeTemeToPseudoFixedMatrix(i,_);var n=this._axes.evaluate(i,v);h.a.transpose(n,n),h.a.multiply(_,n,n);var a=f.a.computeMoonPositionInEarthInertialFrame(i,b);h.a.multiplyByVector(_,a,a),d.a.fromRotationTranslation(n,a,t.modelMatrix);var r=e.commandList;return e.commandList=y,y.length=0,t.update(e),e.commandList=r,1===y.length?y[0]:void 0}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._ellipsoidPrimitive=this._ellipsoidPrimitive&&this._ellipsoidPrimitive.destroy(),Object(c.a)(this)},t.a=n},BOJj:function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT);var t=Object(a.a)(e.translucent,!0),i=Object(a.a)(e.closed,!1),r=Object(a.a)(e.flat,!1),h=r?l.a:s.a,d=r?c.a:o.a,f=r?n.FLAT_VERTEX_FORMAT:n.VERTEX_FORMAT;this.material=void 0,this.translucent=t,this._vertexShaderSource=Object(a.a)(e.vertexShaderSource,h),this._fragmentShaderSource=Object(a.a)(e.fragmentShaderSource,d),this._renderState=u.a.getDefaultRenderState(t,i,e.renderState),this._closed=i,this._vertexFormat=f,this._flat=r,this._faceForward=Object(a.a)(e.faceForward,!i)}var a=i("5A4e"),r=i("xvTE"),o=i("aLyO"),s=i("TWe9"),c=i("PZX5"),l=i("b/a4"),u=i("fSWn");Object.defineProperties(n.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return this._vertexFormat}},flat:{get:function(){return this._flat}},faceForward:{get:function(){return this._faceForward}}}),n.VERTEX_FORMAT=r.a.POSITION_AND_NORMAL,n.FLAT_VERTEX_FORMAT=r.a.POSITION_ONLY,n.prototype.getFragmentShaderSource=u.a.prototype.getFragmentShaderSource,n.prototype.isTranslucent=u.a.prototype.isTranslucent,n.prototype.getRenderState=u.a.prototype.getRenderState,t.a=n},BTyi:function(e,t,i){"use strict";function n(){this._framebuffer=void 0,this._depthTexture=void 0,this._textureToCopy=void 0,this._copyDepthCommand=void 0,this._useLogDepth=void 0,this._debugPickDepthViewportCommand=void 0}function a(e,t,i,n){if(!Object(d.a)(e._debugPickDepthViewportCommand)||n!==e._useLogDepth){var a=new v.a({defines:[n?"LOG_DEPTH":""],sources:["uniform sampler2D u_texture;\nvarying vec2 v_textureCoordinates;\nvoid main()\n{\n    float z_window = czm_unpackDepth(texture2D(u_texture, v_textureCoordinates));\n    z_window = czm_reverseLogDepth(z_window); \n    float n_range = czm_depthRange.near;\n    float f_range = czm_depthRange.far;\n    float z_ndc = (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n    float scale = pow(z_ndc * 0.5 + 0.5, 8.0);\n    gl_FragColor = vec4(mix(vec3(0.0), vec3(1.0), scale), 1.0);\n}\n"]});e._debugPickDepthViewportCommand=t.createViewportQuadCommand(a,{uniformMap:{u_texture:function(){return e._depthTexture}},owner:e}),e._useLogDepth=n}e._debugPickDepthViewportCommand.execute(t,i)}function r(e){e._depthTexture=e._depthTexture&&!e._depthTexture.isDestroyed()&&e._depthTexture.destroy()}function o(e){e._framebuffer=e._framebuffer&&!e._framebuffer.isDestroyed()&&e._framebuffer.destroy()}function s(e,t,i,n){e._depthTexture=new b.a({context:t,width:i,height:n,pixelFormat:p.a.RGBA,pixelDatatype:g.a.UNSIGNED_BYTE})}function c(e,t,i,n){r(e),o(e),s(e,t,i,n),e._framebuffer=new m.a({context:t,colorTextures:[e._depthTexture],destroyAttachments:!1})}function l(e,t,i){var n=i.width,a=i.height,r=e._depthTexture,o=!Object(d.a)(r)||r.width!==n||r.height!==a;Object(d.a)(e._framebuffer)&&!o||c(e,t,n,a)}function u(e,t,i){if(!Object(d.a)(e._copyDepthCommand)){e._copyDepthCommand=t.createViewportQuadCommand("uniform sampler2D u_texture;\nvarying vec2 v_textureCoordinates;\nvoid main()\n{\n    gl_FragColor = czm_packDepth(texture2D(u_texture, v_textureCoordinates).r);\n}\n",{renderState:_.a.fromCache(),uniformMap:{u_texture:function(){return e._textureToCopy}},owner:e})}e._textureToCopy=i,e._copyDepthCommand.framebuffer=e._framebuffer}var h=i("PDkd"),d=i("xC6Q"),f=i("6sr8"),p=i("FhYh"),m=i("YyWD"),g=i("HvCH"),_=i("DrvA"),v=i("x6Ms"),b=i("25X5");n.prototype.executeDebugPickDepth=function(e,t,i){a(this,e,t,i)},n.prototype.update=function(e,t){l(this,e,t),u(this,e,t)};var y=new h.a,O=new h.a(1,1/255,1/65025,1/16581375);n.prototype.getDepth=function(e,t,i){var n=e.readPixels({x:t,y:i,width:1,height:1,framebuffer:this._framebuffer}),a=h.a.unpack(n,0,y);return h.a.divideByScalar(a,255,a),h.a.dot(a,O)},n.prototype.executeCopyDepth=function(e,t){this._copyDepthCommand.execute(e,t)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return r(this),o(this),this._copyDepthCommand.shaderProgram=Object(d.a)(this._copyDepthCommand.shaderProgram)&&this._copyDepthCommand.shaderProgram.destroy(),Object(f.a)(this)},t.a=n},Bcuy:function(e,t,i){"use strict";t.a="attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 normal;\nattribute vec2 st;\nattribute float batchId;\n\nvarying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvarying vec2 v_st;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n    v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n    v_st = st;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n"},Be4x:function(e,t,i){"use strict";function n(e,t){var i,o=t.terrainProvider,l=t.mapProjection,u=l.ellipsoid,h=t.camera.getRectangleCameraCoordinates(e);return i=t.mode===c.a.SCENE3D?u.cartesianToCartographic(h):l.unproject(h),Object(a.a)(o)?o.readyPromise.then(function(){var s=o.availability;if(!Object(a.a)(s)||t.mode===c.a.SCENE2D)return i;var l=[r.a.center(e),r.a.southeast(e),r.a.southwest(e),r.a.northeast(e),r.a.northwest(e)];return n._sampleTerrainMostDetailed(o,l).then(function(e){var t=e.reduce(function(e,t){return Math.max(t.height,e)},-Number.MAX_VALUE),n=i;return n.height+=t,n})}):s.a.resolve(i)}var a=i("xC6Q"),r=i("Wq1U"),o=i("QOpN"),s=i("S7OP"),c=i("sotJ");n._sampleTerrainMostDetailed=o.a,t.a=n},BhNW:function(e,t,i){"use strict";t.a="\nuniform vec4 shadowMap_cascadeSplits[2];\n\nvec4 czm_cascadeWeights(float depthEye)\n{\n    // One component is set to 1.0 and all others set to 0.0.\n    vec4 near = step(shadowMap_cascadeSplits[0], vec4(depthEye));\n    vec4 far = step(depthEye, shadowMap_cascadeSplits[1]);\n    return near * far;\n}\n"},Bhjd:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT),this._tilingScheme=Object(o.a)(e.tilingScheme)?e.tilingScheme:new c.a({ellipsoid:e.ellipsoid}),this._color=Object(r.a)(e.color,a.a.YELLOW),this._errorEvent=new s.a,this._tileWidth=Object(r.a)(e.tileWidth,256),this._tileHeight=Object(r.a)(e.tileHeight,256),this._readyPromise=l.a.resolve(!0)}var a=i("6F0S"),r=i("5A4e"),o=i("xC6Q"),s=i("W6xh"),c=i("4MnW"),l=i("S7OP");Object.defineProperties(n.prototype,{proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){}},minimumLevel:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return!0}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){}},hasAlphaChannel:{get:function(){return!0}}}),n.prototype.getTileCredits=function(e,t,i){},n.prototype.requestImage=function(e,t,i,n){var a=document.createElement("canvas");a.width=256,a.height=256;var r=a.getContext("2d"),o=this._color.toCssColorString();return r.strokeStyle=o,r.lineWidth=2,r.strokeRect(1,1,255,255),r.font="bold 25px Arial",r.textAlign="center",r.fillStyle=o,r.fillText("L: "+i,124,86),r.fillText("X: "+e,124,136),r.fillText("Y: "+t,124,186),a},n.prototype.pickFeatures=function(e,t,i,n,a){},t.a=n},Bosk:function(e,t,i){"use strict";var n={UTC:0,TAI:1};t.a=Object.freeze(n)},"BvC/":function(e,t,i){"use strict";function n(e,t,i,n){this[0]=Object(o.a)(e,0),this[1]=Object(o.a)(i,0),this[2]=Object(o.a)(t,0),this[3]=Object(o.a)(n,0)}var a=i("Ss9j"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q");n.packedLength=4,n.pack=function(e,t,i){return r.a.typeOf.object("value",e),r.a.defined("array",t),i=Object(o.a)(i,0),t[i++]=e[0],t[i++]=e[1],t[i++]=e[2],t[i++]=e[3],t},n.unpack=function(e,t,i){return r.a.defined("array",e),t=Object(o.a)(t,0),Object(s.a)(i)||(i=new n),i[0]=e[t++],i[1]=e[t++],i[2]=e[t++],i[3]=e[t++],i},n.clone=function(e,t){if(Object(s.a)(e))return Object(s.a)(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):new n(e[0],e[2],e[1],e[3])},n.fromArray=function(e,t,i){return r.a.defined("array",e),t=Object(o.a)(t,0),Object(s.a)(i)||(i=new n),i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2],i[3]=e[t+3],i},n.fromColumnMajorArray=function(e,t){return r.a.defined("values",e),n.clone(e,t)},n.fromRowMajorArray=function(e,t){return r.a.defined("values",e),Object(s.a)(t)?(t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3],t):new n(e[0],e[1],e[2],e[3])},n.fromScale=function(e,t){return r.a.typeOf.object("scale",e),Object(s.a)(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=e.y,t):new n(e.x,0,0,e.y)},n.fromUniformScale=function(e,t){return r.a.typeOf.number("scale",e),Object(s.a)(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=e,t):new n(e,0,0,e)},n.fromRotation=function(e,t){r.a.typeOf.number("angle",e);var i=Math.cos(e),a=Math.sin(e);return Object(s.a)(t)?(t[0]=i,t[1]=a,t[2]=-a,t[3]=i,t):new n(i,-a,a,i)},n.toArray=function(e,t){return r.a.typeOf.object("matrix",e),Object(s.a)(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):[e[0],e[1],e[2],e[3]]},n.getElementIndex=function(e,t){return r.a.typeOf.number.greaterThanOrEquals("row",t,0),r.a.typeOf.number.lessThanOrEquals("row",t,1),r.a.typeOf.number.greaterThanOrEquals("column",e,0),r.a.typeOf.number.lessThanOrEquals("column",e,1),2*e+t},n.getColumn=function(e,t,i){r.a.typeOf.object("matrix",e),r.a.typeOf.number.greaterThanOrEquals("index",t,0),r.a.typeOf.number.lessThanOrEquals("index",t,1),r.a.typeOf.object("result",i);var n=2*t,a=e[n],o=e[n+1];return i.x=a,i.y=o,i},n.setColumn=function(e,t,i,a){r.a.typeOf.object("matrix",e),r.a.typeOf.number.greaterThanOrEquals("index",t,0),r.a.typeOf.number.lessThanOrEquals("index",t,1),r.a.typeOf.object("cartesian",i),r.a.typeOf.object("result",a),a=n.clone(e,a);var o=2*t;return a[o]=i.x,a[o+1]=i.y,a},n.getRow=function(e,t,i){r.a.typeOf.object("matrix",e),r.a.typeOf.number.greaterThanOrEquals("index",t,0),r.a.typeOf.number.lessThanOrEquals("index",t,1),r.a.typeOf.object("result",i);var n=e[t],a=e[t+2];return i.x=n,i.y=a,i},n.setRow=function(e,t,i,a){return r.a.typeOf.object("matrix",e),r.a.typeOf.number.greaterThanOrEquals("index",t,0),r.a.typeOf.number.lessThanOrEquals("index",t,1),r.a.typeOf.object("cartesian",i),r.a.typeOf.object("result",a),a=n.clone(e,a),a[t]=i.x,a[t+2]=i.y,a};var c=new a.a;n.getScale=function(e,t){return r.a.typeOf.object("matrix",e),r.a.typeOf.object("result",t),t.x=a.a.magnitude(a.a.fromElements(e[0],e[1],c)),t.y=a.a.magnitude(a.a.fromElements(e[2],e[3],c)),t};var l=new a.a;n.getMaximumScale=function(e){return n.getScale(e,l),a.a.maximumComponent(l)},n.multiply=function(e,t,i){r.a.typeOf.object("left",e),r.a.typeOf.object("right",t),r.a.typeOf.object("result",i);var n=e[0]*t[0]+e[2]*t[1],a=e[0]*t[2]+e[2]*t[3],o=e[1]*t[0]+e[3]*t[1],s=e[1]*t[2]+e[3]*t[3];return i[0]=n,i[1]=o,i[2]=a,i[3]=s,i},n.add=function(e,t,i){return r.a.typeOf.object("left",e),r.a.typeOf.object("right",t),r.a.typeOf.object("result",i),i[0]=e[0]+t[0],i[1]=e[1]+t[1],i[2]=e[2]+t[2],i[3]=e[3]+t[3],i},n.subtract=function(e,t,i){return r.a.typeOf.object("left",e),r.a.typeOf.object("right",t),r.a.typeOf.object("result",i),i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],i[3]=e[3]-t[3],i},n.multiplyByVector=function(e,t,i){r.a.typeOf.object("matrix",e),r.a.typeOf.object("cartesian",t),r.a.typeOf.object("result",i);var n=e[0]*t.x+e[2]*t.y,a=e[1]*t.x+e[3]*t.y;return i.x=n,i.y=a,i},n.multiplyByScalar=function(e,t,i){return r.a.typeOf.object("matrix",e),r.a.typeOf.number("scalar",t),r.a.typeOf.object("result",i),i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t,i[3]=e[3]*t,i},n.multiplyByScale=function(e,t,i){return r.a.typeOf.object("matrix",e),r.a.typeOf.object("scale",t),r.a.typeOf.object("result",i),i[0]=e[0]*t.x,i[1]=e[1]*t.x,i[2]=e[2]*t.y,i[3]=e[3]*t.y,i},n.negate=function(e,t){return r.a.typeOf.object("matrix",e),r.a.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},n.transpose=function(e,t){r.a.typeOf.object("matrix",e),r.a.typeOf.object("result",t);var i=e[0],n=e[2],a=e[1],o=e[3];return t[0]=i,t[1]=n,t[2]=a,t[3]=o,t},n.abs=function(e,t){return r.a.typeOf.object("matrix",e),r.a.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t},n.equals=function(e,t){return e===t||Object(s.a)(e)&&Object(s.a)(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},n.equalsArray=function(e,t,i){return e[0]===t[i]&&e[1]===t[i+1]&&e[2]===t[i+2]&&e[3]===t[i+3]},n.equalsEpsilon=function(e,t,i){return r.a.typeOf.number("epsilon",i),e===t||Object(s.a)(e)&&Object(s.a)(t)&&Math.abs(e[0]-t[0])<=i&&Math.abs(e[1]-t[1])<=i&&Math.abs(e[2]-t[2])<=i&&Math.abs(e[3]-t[3])<=i},n.IDENTITY=Object.freeze(new n(1,0,0,1)),n.ZERO=Object.freeze(new n(0,0,0,0)),n.COLUMN0ROW0=0,n.COLUMN0ROW1=1,n.COLUMN1ROW0=2,n.COLUMN1ROW1=3,Object.defineProperties(n.prototype,{length:{get:function(){return n.packedLength}}}),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t){return n.equalsEpsilon(this,e,t)},n.prototype.toString=function(){return"("+this[0]+", "+this[2]+")\n("+this[1]+", "+this[3]+")"},t.a=n},BvZ0:function(e,t,i){"use strict";function n(e){e=Object(T.a)(e,T.a.EMPTY_OBJECT);var t=e.positions;if(!Object(A.a)(t)||t.length<2)throw new C.a("At least two positions are required.");if(Object(A.a)(e.arcType)&&e.arcType!==v.a.GEODESIC&&e.arcType!==v.a.RHUMB)throw new C.a("Valid options for arcType are ArcType.GEODESIC and ArcType.RHUMB.");this.width=Object(T.a)(e.width,1),this._positions=t,this.granularity=Object(T.a)(e.granularity,9999),this.loop=Object(T.a)(e.loop,!1),this.arcType=Object(T.a)(e.arcType,v.a.GEODESIC),this._ellipsoid=S.a.WGS84,this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}function a(e,t,i,n,a){var r=o(n,e,0,X),c=o(n,e,i,Q),l=o(n,t,0,J),u=s(c,r,Q),h=s(l,r,J);return O.a.cross(h,u,a),O.a.normalize(a,a)}function r(e,t,i,n,r,s,c,l,u,h,d){if(0!==r){var f;s===v.a.GEODESIC?f=new j.a(e,t,c):s===v.a.RHUMB&&(f=new P.a(e,t,c));var p=f.surfaceDistance;if(!(p<r))for(var m=a(e,t,n,c,ee),g=Math.ceil(p/r),_=p/g,b=_,y=g-1,w=l.length,x=0;x<y;x++){var E=f.interpolateUsingSurfaceDistance(b,Z),T=o(c,E,i,K),A=o(c,E,n,$);O.a.pack(m,l,w),O.a.pack(T,u,w),O.a.pack(A,h,w),d.push(E.latitude),d.push(E.longitude),w+=3,b+=_}}}function o(e,t,i,n){return w.a.clone(t,te),te.height=i,w.a.toCartesian(te,e,n)}function s(e,t,i){return O.a.subtract(e,t,i),O.a.normalize(i,i),i}function c(e,t,i,n){return n=s(e,t,n),n=O.a.cross(n,i,n),n=O.a.normalize(n,n),n=O.a.cross(i,n,n)}function l(e,t,i,n,a){var r=s(i,t,re),o=c(e,t,r,ie),l=c(n,t,r,ne);if(N.a.equalsEpsilon(O.a.dot(o,l),se,N.a.EPSILON5))return a=O.a.cross(r,o,a),a=O.a.normalize(a,a);a=O.a.add(l,o,a),a=O.a.normalize(a,a);var u=O.a.cross(r,a,ae);return O.a.dot(l,u)<oe&&(a=O.a.negate(a,a)),a}function u(e,t,i,n){var a=s(i,t,ve),r=O.a.dot(a,e);if(r>q||r<W){var o=s(n,i,re),c=r<W?N.a.PI_OVER_TWO:-N.a.PI_OVER_TWO,l=B.a.fromAxisAngle(o,c,ye),u=F.a.fromQuaternion(l,be);return F.a.multiplyByVector(u,e,e),!0}return!1}function h(e,t,i,n,a){var r=w.a.toCartesian(t,e._ellipsoid,we),o=O.a.add(r,i,xe),s=!1,c=e._ellipsoid,l=c.cartesianToCartographic(o,Oe);Math.abs(t.longitude-l.longitude)>N.a.PI_OVER_TWO&&(s=!0,o=O.a.subtract(r,i,xe),l=c.cartesianToCartographic(o,Oe)),l.height=0;var u=e.project(l,a);return a=O.a.subtract(u,n,a),a.z=0,a=O.a.normalize(a,a),s&&O.a.negate(a,a),a}function d(e,t,i,n,a,r){var o=O.a.subtract(t,e,Ee);O.a.normalize(o,o);var s=i-G,c=O.a.multiplyByScalar(o,s,Te);O.a.add(e,c,a);var l=n-Y;c=O.a.multiplyByScalar(o,l,Te),O.a.add(t,c,r)}function f(e,t){var i=z.a.getPointDistance(ce,e),n=z.a.getPointDistance(ce,t),a=Ae;N.a.equalsEpsilon(i,0,N.a.EPSILON2)?(a=s(t,e,a),O.a.multiplyByScalar(a,N.a.EPSILON2,a),O.a.add(e,a,e)):N.a.equalsEpsilon(n,0,N.a.EPSILON2)&&(a=s(e,t,a),O.a.multiplyByScalar(a,N.a.EPSILON2,a),O.a.add(t,a,t))}function p(e,t){var i=Math.abs(e.longitude),n=Math.abs(t.longitude);if(N.a.equalsEpsilon(i,N.a.PI,N.a.EPSILON11)){var a=N.a.sign(t.longitude);return e.longitude=a*(i-N.a.EPSILON11),1}if(N.a.equalsEpsilon(n,N.a.PI,N.a.EPSILON11)){var r=N.a.sign(e.longitude);return t.longitude=r*(n-N.a.EPSILON11),2}return 0}function m(e,t,i,n,a,r,o){var c,l,m,v,b,w,x=t._ellipsoid,T=i.length/3-1,A=8*T,C=4*A,S=36*T,j=A>65535?new Uint32Array(S):new Uint16Array(S),P=new Float64Array(3*A),I=new Float32Array(C),L=new Float32Array(C),F=new Float32Array(C),z=new Float32Array(C),B=new Float32Array(C);o&&(m=new Float32Array(C),v=new Float32Array(C),b=new Float32Array(C),w=new Float32Array(2*A));var U=r.length/2,V=0,H=Ce;H.height=0;var W=Se;W.height=0;var G=je,Y=Pe;if(o)for(l=0,c=1;c<U;c++)H.latitude=r[l],H.longitude=r[l+1],W.latitude=r[l+2],W.longitude=r[l+3],G=t.project(H,G),Y=t.project(W,Y),V+=O.a.distance(G,Y),l+=2;var X=n.length/3;Y=O.a.unpack(n,0,Y);var Q=0;for(l=3,c=1;c<X;c++)G=O.a.clone(Y,G),Y=O.a.unpack(n,l,Y),Q+=O.a.distance(G,Y),l+=3;var J;l=3;var Z=0,K=0,$=0,ee=0,te=!1,ie=O.a.unpack(i,0,Ie),ne=O.a.unpack(n,0,Pe),ae=O.a.unpack(a,0,Me);if(e){u(ae,O.a.unpack(i,i.length-6,De),ie,ne)&&(ae=O.a.negate(ae,ae))}var re=0,oe=0,se=0;for(c=0;c<T;c++){var ce=O.a.clone(ie,De),le=O.a.clone(ne,je),ue=O.a.clone(ae,Re);te&&(ue=O.a.negate(ue,ue)),ie=O.a.unpack(i,l,Ie),ne=O.a.unpack(n,l,Pe),ae=O.a.unpack(a,l,Me),te=u(ae,ce,ie,ne),H.latitude=r[Z],H.longitude=r[Z+1],W.latitude=r[Z+2],W.longitude=r[Z+3];var he,de,fe,pe;if(o){var me=p(H,W);he=t.project(H,Ue),de=t.project(W,Ve);var ge=s(de,he,$e);ge.y=Math.abs(ge.y),fe=He,pe=qe,0===me||O.a.dot(ge,O.a.UNIT_Y)>q?(fe=h(t,H,ue,he,He),pe=h(t,W,ae,de,qe)):1===me?(pe=h(t,W,ae,de,qe),fe.x=0,fe.y=N.a.sign(H.longitude-Math.abs(W.longitude)),fe.z=0):(fe=h(t,H,ue,he,He),pe.x=0,pe.y=N.a.sign(H.longitude-W.longitude),pe.z=0)}var _e=O.a.distance(le,ne),ve=D.a.fromCartesian(ce,Ze),be=O.a.subtract(ie,ce,We),ye=O.a.normalize(be,Xe),Oe=O.a.subtract(le,ce,Ge);Oe=O.a.normalize(Oe,Oe);var we=O.a.cross(ye,Oe,Xe);we=O.a.normalize(we,we);var xe=O.a.cross(Oe,ue,Qe);xe=O.a.normalize(xe,xe);var Ee=O.a.subtract(ne,ie,Ye);Ee=O.a.normalize(Ee,Ee);var Te=O.a.cross(ae,Ee,Je);Te=O.a.normalize(Te,Te);var Ae,rt,ot,st=_e/Q,ct=re/Q,lt=0,ut=0,ht=0;if(o){lt=O.a.distance(he,de),Ae=D.a.fromCartesian(he,Ke),rt=O.a.subtract(de,he,$e),ot=O.a.normalize(rt,et);var dt=ot.x;ot.x=ot.y,ot.y=-dt,ut=lt/V,ht=oe/V}for(J=0;J<8;J++){var ft=ee+4*J,pt=K+2*J,mt=ft+3,gt=J<4?1:-1,_t=2===J||3===J||6===J||7===J?1:-1;O.a.pack(ve.high,I,ft),I[mt]=be.x,O.a.pack(ve.low,L,ft),L[mt]=be.y,O.a.pack(xe,F,ft),F[mt]=be.z,O.a.pack(Te,z,ft),z[mt]=st*gt,O.a.pack(we,B,ft);var vt=ct*_t;0===vt&&_t<0&&(vt=9),B[mt]=vt,o&&(m[ft]=Ae.high.x,m[ft+1]=Ae.high.y,m[ft+2]=Ae.low.x,m[ft+3]=Ae.low.y,b[ft]=-fe.y,b[ft+1]=fe.x,b[ft+2]=pe.y,b[ft+3]=-pe.x,v[ft]=rt.x,v[ft+1]=rt.y,v[ft+2]=ot.x,v[ft+3]=ot.y,w[pt]=ut*gt,vt=ht*_t,0===vt&&_t<0&&(vt=9),w[pt+1]=vt)}var bt=Be,yt=ke,Ot=Fe,wt=ze,xt=k.a.fromCartographicArray(Le,Ne),Et=_.a.getMinimumMaximumHeights(xt,x),Tt=Et.minimumTerrainHeight,At=Et.maximumTerrainHeight;se+=Tt,se+=At,d(ce,le,Tt,At,bt,Ot),d(ie,ne,Tt,At,yt,wt);var Ct=O.a.multiplyByScalar(we,N.a.EPSILON5,tt);O.a.add(bt,Ct,bt),O.a.add(yt,Ct,yt),O.a.add(Ot,Ct,Ot),O.a.add(wt,Ct,wt),f(bt,yt),f(Ot,wt),O.a.pack(bt,P,$),O.a.pack(yt,P,$+3),O.a.pack(wt,P,$+6),O.a.pack(Ot,P,$+9),Ct=O.a.multiplyByScalar(we,-2*N.a.EPSILON5,tt),O.a.add(bt,Ct,bt),O.a.add(yt,Ct,yt),O.a.add(Ot,Ct,Ot),O.a.add(wt,Ct,wt),f(bt,yt),f(Ot,wt),O.a.pack(bt,P,$+12),O.a.pack(yt,P,$+15),O.a.pack(wt,P,$+18),O.a.pack(Ot,P,$+21),Z+=2,l+=3,K+=16,$+=24,ee+=32,re+=_e,oe+=lt}l=0;var St=0;for(c=0;c<T;c++){for(J=0;J<at;J++)j[l+J]=nt[J]+St;St+=8,l+=at}var jt=it;y.a.fromVertices(i,O.a.ZERO,3,jt[0]),y.a.fromVertices(n,O.a.ZERO,3,jt[1]);var Pt=y.a.fromBoundingSpheres(jt);Pt.radius+=se/(2*T);var Dt={position:new M.a({componentDatatype:E.a.DOUBLE,componentsPerAttribute:3,normalize:!1,values:P}),startHiAndForwardOffsetX:g(I),startLoAndForwardOffsetY:g(L),startNormalAndForwardOffsetZ:g(F),endNormalAndTextureCoordinateNormalizationX:g(z),rightNormalAndTextureCoordinateNormalizationY:g(B)};return o&&(Dt.startHiLo2D=g(m),Dt.offsetAndRight2D=g(v),Dt.startEndNormals2D=g(b),Dt.texcoordNormalization2D=new M.a({componentDatatype:E.a.FLOAT,componentsPerAttribute:2,normalize:!1,values:w})),new R.a({attributes:Dt,indices:j,boundingSphere:Pt})}function g(e){return new M.a({componentDatatype:E.a.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}var _=i("DPkk"),v=i("X8rS"),b=i("6Ilv"),y=i("lBr9"),O=i("Jj+J"),w=i("I3GD"),x=i("5F4X"),E=i("YCZg"),T=i("5A4e"),A=i("xC6Q"),C=i("PzDm"),S=i("y6fO"),j=i("MWnf"),P=i("uZf/"),D=i("Is4l"),I=i("eUIW"),R=i("RGAo"),M=i("RYD3"),L=i("Myjj"),N=i("fq+p"),F=i("i3sv"),z=i("kRxM"),B=i("q/xW"),k=i("Wq1U"),U=i("6AvQ"),V=[I.a,U.a],H=V.length,q=Math.cos(N.a.toRadians(30)),W=Math.cos(N.a.toRadians(150)),G=0,Y=1e3;Object.defineProperties(n.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+S.a.packedLength+1+1}}}),n.setProjectionAndEllipsoid=function(e,t){for(var i=0,n=0;n<H;n++)if(t instanceof V[n]){i=n;break}e._projectionIndex=i,e._ellipsoid=t.ellipsoid};var X=new O.a,Q=new O.a,J=new O.a,Z=new w.a,K=new O.a,$=new O.a,ee=new O.a,te=new w.a;n.pack=function(e,t,i){x.a.typeOf.object("value",e),x.a.defined("array",t);var n=Object(T.a)(i,0),a=e._positions,r=a.length;t[n++]=r;for(var o=0;o<r;++o){var s=a[o];O.a.pack(s,t,n),n+=3}return t[n++]=e.granularity,t[n++]=e.loop?1:0,t[n++]=e.arcType,S.a.pack(e._ellipsoid,t,n),n+=S.a.packedLength,t[n++]=e._projectionIndex,t[n++]=e._scene3DOnly?1:0,t},n.unpack=function(e,t,i){x.a.defined("array",e);for(var a=Object(T.a)(t,0),r=e[a++],o=new Array(r),s=0;s<r;s++)o[s]=O.a.unpack(e,a),a+=3;var c=e[a++],l=1===e[a++],u=e[a++],h=S.a.unpack(e,a);a+=S.a.packedLength;var d=e[a++],f=1===e[a++];return Object(A.a)(i)||(i=new n({positions:o})),i._positions=o,i.granularity=c,i.loop=l,i.arcType=u,i._ellipsoid=h,i._projectionIndex=d,i._scene3DOnly=f,i};var ie=new O.a,ne=new O.a,ae=new O.a,re=new O.a,oe=0,se=-1,ce=z.a.fromPointNormal(O.a.ZERO,O.a.UNIT_Y),le=new O.a,ue=new O.a,he=new O.a,de=new O.a,fe=new O.a,pe=new O.a,me=new w.a,ge=new w.a,_e=new w.a;n.createGeometry=function(e){var t,i,n=!e._scene3DOnly,s=e.loop,c=e._ellipsoid,u=e.granularity,h=e.arcType,d=new V[e._projectionIndex](c),f=G,p=Y,g=e._positions,_=g.length;2===_&&(s=!1);var y,x,E,T,C,S,j,D=new P.a(void 0,void 0,c),I=[g[0]];for(i=0;i<_-1;i++)y=g[i],x=g[i+1],C=L.a.lineSegmentPlane(y,x,ce,pe),!Object(A.a)(C)||O.a.equalsEpsilon(C,y,N.a.EPSILON7)||O.a.equalsEpsilon(C,x,N.a.EPSILON7)||(e.arcType===v.a.GEODESIC?I.push(O.a.clone(C)):e.arcType===v.a.RHUMB&&(j=c.cartesianToCartographic(C,me).longitude,E=c.cartesianToCartographic(y,me),T=c.cartesianToCartographic(x,ge),D.setEndPoints(E,T),S=D.findIntersectionWithLongitude(j,_e),C=c.cartographicToCartesian(S,pe),!Object(A.a)(C)||O.a.equalsEpsilon(C,y,N.a.EPSILON7)||O.a.equalsEpsilon(C,x,N.a.EPSILON7)||I.push(O.a.clone(C)))),I.push(x);s&&(y=g[_-1],x=g[0],C=L.a.lineSegmentPlane(y,x,ce,pe),!Object(A.a)(C)||O.a.equalsEpsilon(C,y,N.a.EPSILON7)||O.a.equalsEpsilon(C,x,N.a.EPSILON7)||(e.arcType===v.a.GEODESIC?I.push(O.a.clone(C)):e.arcType===v.a.RHUMB&&(j=c.cartesianToCartographic(C,me).longitude,E=c.cartesianToCartographic(y,me),T=c.cartesianToCartographic(x,ge),D.setEndPoints(E,T),S=D.findIntersectionWithLongitude(j,_e),C=c.cartographicToCartesian(S,pe),!Object(A.a)(C)||O.a.equalsEpsilon(C,y,N.a.EPSILON7)||O.a.equalsEpsilon(C,x,N.a.EPSILON7)||I.push(O.a.clone(C)))));var R=I.length,M=new Array(R);for(i=0;i<R;i++){var F=w.a.fromCartesian(I[i],c);F.height=0,M[i]=F}if(M=Object(b.a)(M,w.a.equalsEpsilon),!((R=M.length)<2)){var z=[],B=[],k=[],U=[],H=le,q=ue,W=he,X=de,Q=fe,J=M[0],Z=M[1],K=M[R-1];for(H=o(c,K,f,H),X=o(c,Z,f,X),q=o(c,J,f,q),W=o(c,J,p,W),Q=s?l(H,q,W,X,Q):a(J,Z,p,c,Q),O.a.pack(Q,B,0),O.a.pack(q,k,0),O.a.pack(W,U,0),z.push(J.latitude),z.push(J.longitude),r(J,Z,f,p,u,h,c,B,k,U,z),i=1;i<R-1;++i){H=O.a.clone(q,H),q=O.a.clone(X,q);var $=M[i];o(c,$,p,W),o(c,M[i+1],f,X),l(H,q,W,X,Q),t=B.length,O.a.pack(Q,B,t),O.a.pack(q,k,t),O.a.pack(W,U,t),z.push($.latitude),z.push($.longitude),r(M[i],M[i+1],f,p,u,h,c,B,k,U,z)}var ee=M[R-1],te=M[R-2];if(q=o(c,ee,f,q),W=o(c,ee,p,W),s){var ie=M[0];H=o(c,te,f,H),X=o(c,ie,f,X),Q=l(H,q,W,X,Q)}else Q=a(te,ee,p,c,Q);if(t=B.length,O.a.pack(Q,B,t),O.a.pack(q,k,t),O.a.pack(W,U,t),z.push(ee.latitude),z.push(ee.longitude),s){for(r(ee,J,f,p,u,h,c,B,k,U,z),t=B.length,i=0;i<3;++i)B[t+i]=B[i],k[t+i]=k[i],U[t+i]=U[i];z.push(J.latitude),z.push(J.longitude)}return m(s,d,k,U,B,z,n)}};var ve=new O.a,be=new F.a,ye=new B.a,Oe=new w.a,we=new O.a,xe=new O.a,Ee=new O.a,Te=new O.a,Ae=new O.a,Ce=new w.a,Se=new w.a,je=new O.a,Pe=new O.a,De=new O.a,Ie=new O.a,Re=new O.a,Me=new O.a,Le=[Ce,Se],Ne=new k.a,Fe=new O.a,ze=new O.a,Be=new O.a,ke=new O.a,Ue=new O.a,Ve=new O.a,He=new O.a,qe=new O.a,We=new O.a,Ge=new O.a,Ye=new O.a,Xe=new O.a,Qe=new O.a,Je=new O.a,Ze=new D.a,Ke=new D.a,$e=new O.a,et=new O.a,tt=new O.a,it=[new y.a,new y.a],nt=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],at=nt.length;n._projectNormal=h,t.a=n},BzNj:function(e,t,i){"use strict";function n(e){if(!Object(a.a)(e))throw new r.a("obj is required.");var t="";for(var i in e)if(e.hasOwnProperty(i)){var n=e[i],o=encodeURIComponent(i)+"=";if(Array.isArray(n))for(var s=0,c=n.length;s<c;++s)t+=o+encodeURIComponent(n[s])+"&";else t+=o+encodeURIComponent(n)+"&"}return t=t.slice(0,-1)}var a=i("xC6Q"),r=i("PzDm");t.a=n},C3wi:function(e,t,i){"use strict";function n(e,t){this._primitives=e,this._orderedGroundPrimitives=t,this._dynamicUpdaters=new a.a}var a=i("7uRt"),r=i("xC6Q"),o=i("P+tD");n.prototype.add=function(e,t){this._dynamicUpdaters.set(t.id,t.createDynamicUpdater(this._primitives,this._orderedGroundPrimitives))},n.prototype.remove=function(e){var t=e.id,i=this._dynamicUpdaters.get(t);Object(r.a)(i)&&(this._dynamicUpdaters.remove(t),i.destroy())},n.prototype.update=function(e){for(var t=this._dynamicUpdaters.values,i=0,n=t.length;i<n;i++)t[i].update(e);return!0},n.prototype.removeAllPrimitives=function(){for(var e=this._dynamicUpdaters.values,t=0,i=e.length;t<i;t++)e[t].destroy();this._dynamicUpdaters.removeAll()},n.prototype.getBoundingSphere=function(e,t){return e=this._dynamicUpdaters.get(e.id),Object(r.a)(e)&&Object(r.a)(e.getBoundingSphere)?e.getBoundingSphere(t):o.a.FAILED},t.a=n},C4wJ:function(e,t,i){"use strict";t.a="/**\n * @private\n */\nvec4 czm_translucentPhong(vec3 toEye, czm_material material, vec3 lightDirectionEC)\n{\n    // Diffuse from directional light sources at eye (for top-down and horizon views)\n    float diffuse = czm_getLambertDiffuse(vec3(0.0, 0.0, 1.0), material.normal);\n\n    if (czm_sceneMode == czm_sceneMode3D) {\n        // (and horizon views in 3D)\n        diffuse += czm_getLambertDiffuse(vec3(0.0, 1.0, 0.0), material.normal);\n    }\n\n    diffuse = clamp(diffuse, 0.0, 1.0);\n\n    float specular = czm_getSpecular(lightDirectionEC, toEye, material.normal, material.shininess);\n\n    // Temporary workaround for adding ambient.\n    vec3 materialDiffuse = material.diffuse * 0.5;\n\n    vec3 ambient = materialDiffuse;\n    vec3 color = ambient + material.emission;\n    color += materialDiffuse * diffuse * czm_lightColor;\n    color += material.specular * specular * czm_lightColor;\n\n    return vec4(color, material.alpha);\n}\n"},C5Kx:function(e,t,i){"use strict";function n(e){this._style={},this._ready=!1,this._show=void 0,this._color=void 0,this._pointSize=void 0,this._pointOutlineColor=void 0,this._pointOutlineWidth=void 0,this._labelColor=void 0,this._labelOutlineColor=void 0,this._labelOutlineWidth=void 0,this._font=void 0,this._labelStyle=void 0,this._labelText=void 0,this._backgroundColor=void 0,this._backgroundPadding=void 0,this._backgroundEnabled=void 0,this._scaleByDistance=void 0,this._translucencyByDistance=void 0,this._distanceDisplayCondition=void 0,this._heightOffset=void 0,this._anchorLineEnabled=void 0,this._anchorLineColor=void 0,this._image=void 0,this._disableDepthTestDistance=void 0,this._horizontalOrigin=void 0,this._verticalOrigin=void 0,this._labelHorizontalOrigin=void 0,this._labelVerticalOrigin=void 0,this._meta=void 0,this._colorShaderFunction=void 0,this._showShaderFunction=void 0,this._pointSizeShaderFunction=void 0,this._colorShaderFunctionReady=!1,this._showShaderFunctionReady=!1,this._pointSizeShaderFunctionReady=!1,this._colorShaderTranslucent=!1;var t;if("string"==typeof e||e instanceof h.a){t=h.a.createIfNeeded(e).fetchJson(e)}else t=d.a.resolve(e);var i=this;this._readyPromise=t.then(function(e){return a(i,e),i})}function a(e,t){t=Object(c.a)(Object(s.a)(t,!0),e._style),e._style=t,e.show=t.show,e.color=t.color,e.pointSize=t.pointSize,e.pointOutlineColor=t.pointOutlineColor,e.pointOutlineWidth=t.pointOutlineWidth,e.labelColor=t.labelColor,e.labelOutlineColor=t.labelOutlineColor,e.labelOutlineWidth=t.labelOutlineWidth,e.labelStyle=t.labelStyle,e.font=t.font,e.labelText=t.labelText,e.backgroundColor=t.backgroundColor,e.backgroundPadding=t.backgroundPadding,e.backgroundEnabled=t.backgroundEnabled,e.scaleByDistance=t.scaleByDistance,e.translucencyByDistance=t.translucencyByDistance,e.distanceDisplayCondition=t.distanceDisplayCondition,e.heightOffset=t.heightOffset,e.anchorLineEnabled=t.anchorLineEnabled,e.anchorLineColor=t.anchorLineColor,e.image=t.image,e.disableDepthTestDistance=t.disableDepthTestDistance,e.horizontalOrigin=t.horizontalOrigin,e.verticalOrigin=t.verticalOrigin,e.labelHorizontalOrigin=t.labelHorizontalOrigin,e.labelVerticalOrigin=t.labelVerticalOrigin;var i={};if(Object(l.a)(t.meta)){var n=t.defines,a=Object(c.a)(t.meta,c.a.EMPTY_OBJECT);for(var r in a)a.hasOwnProperty(r)&&(i[r]=new p.a(a[r],n))}e._meta=i,e._ready=!0}function r(e,t){var i=Object(c.a)(e._style,c.a.EMPTY_OBJECT).defines;if(Object(l.a)(t))return"boolean"==typeof t||"number"==typeof t?new p.a(String(t)):"string"==typeof t?new p.a(t,i):Object(l.a)(t.conditions)?new f.a(t,i):t}function o(e){if(Object(l.a)(e))return Object(l.a)(e.expression)?e.expression:Object(l.a)(e.conditionsExpression)?Object(s.a)(e.conditionsExpression,!0):e}var s=i("wv0P"),c=i("5A4e"),l=i("xC6Q"),u=i("PzDm"),h=i("rMjQ"),d=i("S7OP"),f=i("/1n7"),p=i("ok/U");Object.defineProperties(n.prototype,{style:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._style}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},show:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._show},set:function(e){this._show=r(this,e),this._style.show=o(this._show),this._showShaderFunctionReady=!1}},color:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._color},set:function(e){this._color=r(this,e),this._style.color=o(this._color),this._colorShaderFunctionReady=!1}},pointSize:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._pointSize},set:function(e){this._pointSize=r(this,e),this._style.pointSize=o(this._pointSize),this._pointSizeShaderFunctionReady=!1}},pointOutlineColor:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._pointOutlineColor},set:function(e){this._pointOutlineColor=r(this,e),this._style.pointOutlineColor=o(this._pointOutlineColor)}},pointOutlineWidth:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._pointOutlineWidth},set:function(e){this._pointOutlineWidth=r(this,e),this._style.pointOutlineWidth=o(this._pointOutlineWidth)}},labelColor:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._labelColor},set:function(e){this._labelColor=r(this,e),this._style.labelColor=o(this._labelColor)}},labelOutlineColor:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._labelOutlineColor},set:function(e){this._labelOutlineColor=r(this,e),this._style.labelOutlineColor=o(this._labelOutlineColor)}},labelOutlineWidth:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._labelOutlineWidth},set:function(e){this._labelOutlineWidth=r(this,e),this._style.labelOutlineWidth=o(this._labelOutlineWidth)}},font:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._font},set:function(e){this._font=r(this,e),this._style.font=o(this._font)}},labelStyle:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._labelStyle},set:function(e){this._labelStyle=r(this,e),this._style.labelStyle=o(this._labelStyle)}},labelText:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._labelText},set:function(e){this._labelText=r(this,e),this._style.labelText=o(this._labelText)}},backgroundColor:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._backgroundColor},set:function(e){this._backgroundColor=r(this,e),this._style.backgroundColor=o(this._backgroundColor)}},backgroundPadding:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._backgroundPadding},set:function(e){this._backgroundPadding=r(this,e),this._style.backgroundPadding=o(this._backgroundPadding)}},backgroundEnabled:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._backgroundEnabled},set:function(e){this._backgroundEnabled=r(this,e),this._style.backgroundEnabled=o(this._backgroundEnabled)}},scaleByDistance:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._scaleByDistance},set:function(e){this._scaleByDistance=r(this,e),this._style.scaleByDistance=o(this._scaleByDistance)}},translucencyByDistance:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._translucencyByDistance},set:function(e){this._translucencyByDistance=r(this,e),this._style.translucencyByDistance=o(this._translucencyByDistance)}},distanceDisplayCondition:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._distanceDisplayCondition},set:function(e){this._distanceDisplayCondition=r(this,e),this._style.distanceDisplayCondition=o(this._distanceDisplayCondition)}},heightOffset:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._heightOffset},set:function(e){this._heightOffset=r(this,e),this._style.heightOffset=o(this._heightOffset)}},anchorLineEnabled:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._anchorLineEnabled},set:function(e){this._anchorLineEnabled=r(this,e),this._style.anchorLineEnabled=o(this._anchorLineEnabled)}},anchorLineColor:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._anchorLineColor},set:function(e){this._anchorLineColor=r(this,e),this._style.anchorLineColor=o(this._anchorLineColor)}},image:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._image},set:function(e){this._image=r(this,e),this._style.image=o(this._image)}},disableDepthTestDistance:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._disableDepthTestDistance},set:function(e){this._disableDepthTestDistance=r(this,e),this._style.disableDepthTestDistance=o(this._disableDepthTestDistance)}},horizontalOrigin:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._horizontalOrigin},set:function(e){this._horizontalOrigin=r(this,e),this._style.horizontalOrigin=o(this._horizontalOrigin)}},verticalOrigin:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._verticalOrigin},set:function(e){this._verticalOrigin=r(this,e),this._style.verticalOrigin=o(this._verticalOrigin)}},labelHorizontalOrigin:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._labelHorizontalOrigin},set:function(e){this._labelHorizontalOrigin=r(this,e),this._style.labelHorizontalOrigin=o(this._labelHorizontalOrigin)}},labelVerticalOrigin:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._labelVerticalOrigin},set:function(e){this._labelVerticalOrigin=r(this,e),this._style.labelVerticalOrigin=o(this._labelVerticalOrigin)}},meta:{get:function(){if(!this._ready)throw new u.a("The style is not loaded.  Use Cesium3DTileStyle.readyPromise or wait for Cesium3DTileStyle.ready to be true.");return this._meta},set:function(e){this._meta=e}}}),n.prototype.getColorShaderFunction=function(e,t,i){return this._colorShaderFunctionReady?(i.translucent=this._colorShaderTranslucent,this._colorShaderFunction):(this._colorShaderFunctionReady=!0,this._colorShaderFunction=Object(l.a)(this.color)?this.color.getShaderFunction(e,t,i,"vec4"):void 0,this._colorShaderTranslucent=i.translucent,this._colorShaderFunction)},n.prototype.getShowShaderFunction=function(e,t,i){return this._showShaderFunctionReady?this._showShaderFunction:(this._showShaderFunctionReady=!0,this._showShaderFunction=Object(l.a)(this.show)?this.show.getShaderFunction(e,t,i,"bool"):void 0,this._showShaderFunction)},n.prototype.getPointSizeShaderFunction=function(e,t,i){return this._pointSizeShaderFunctionReady?this._pointSizeShaderFunction:(this._pointSizeShaderFunctionReady=!0,this._pointSizeShaderFunction=Object(l.a)(this.pointSize)?this.pointSize.getShaderFunction(e,t,i,"float"):void 0,this._pointSizeShaderFunction)},t.a=n},CA5F:function(e,t,i){"use strict";t.a="uniform vec4 color;\nuniform vec4 outlineColor;\nuniform float outlineWidth;\n\nvarying float v_width;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 st = materialInput.st;\n    float halfInteriorWidth =  0.5 * (v_width - outlineWidth) / v_width;\n    float b = step(0.5 - halfInteriorWidth, st.t);\n    b *= 1.0 - step(0.5 + halfInteriorWidth, st.t);\n\n    // Find the distance from the closest separator (region between two colors)\n    float d1 = abs(st.t - (0.5 - halfInteriorWidth));\n    float d2 = abs(st.t - (0.5 + halfInteriorWidth));\n    float dist = min(d1, d2);\n\n    vec4 currentColor = mix(outlineColor, color, b);\n    vec4 outColor = czm_antialias(outlineColor, color, currentColor, dist);\n    outColor = czm_gammaCorrect(outColor);\n\n    material.diffuse = outColor.rgb;\n    material.alpha = outColor.a;\n\n    return material;\n}\n"},CAx4:function(e,t,i){"use strict";function n(e){function t(t){Object(r.a)(t.blob)&&(l._missingImageByteLength=t.blob.size);var i=Object(s.a)(t);if(e.disableCheckIfAllPixelsAreTransparent){for(var n=!0,a=t.width,o=e.pixelsToCheck,c=0,u=o.length;n&&c<u;++c){var h=o[c];i[4*h.x+h.y*a+3]>0&&(n=!1)}n&&(i=void 0)}l._missingImagePixels=i,l._isReady=!0}function i(){l._missingImagePixels=void 0,l._isReady=!0}if(e=Object(a.a)(e,a.a.EMPTY_OBJECT),!Object(r.a)(e.missingImageUrl))throw new o.a("options.missingImageUrl is required.");if(!Object(r.a)(e.pixelsToCheck))throw new o.a("options.pixelsToCheck is required.");this._pixelsToCheck=e.pixelsToCheck,this._missingImagePixels=void 0,this._missingImageByteLength=void 0,this._isReady=!1;var n=c.a.createIfNeeded(e.missingImageUrl),l=this;n.fetchImage({preferBlob:!0,preferImageBitmap:!0,flipY:!0}).then(t).otherwise(i)}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("NxCm"),c=i("rMjQ");n.prototype.isReady=function(){return this._isReady},n.prototype.shouldDiscardImage=function(e){if(!this._isReady)throw new o.a("shouldDiscardImage must not be called before the discard policy is ready.");var t=this._pixelsToCheck,i=this._missingImagePixels;if(!Object(r.a)(i))return!1;if(Object(r.a)(e.blob)&&e.blob.size!==this._missingImageByteLength)return!1;for(var n=Object(s.a)(e),a=e.width,c=0,l=t.length;c<l;++c)for(var u=t[c],h=4*u.x+u.y*a,d=0;d<4;++d){var f=h+d;if(n[f]!==i[f])return!1}return!0},t.a=n},CL7l:function(e,t,i){"use strict";t.a="#ifdef QUANTIZATION_BITS12\nattribute vec4 compressed0;\nattribute float compressed1;\n#else\nattribute vec4 position3DAndHeight;\nattribute vec4 textureCoordAndEncodedNormals;\n#endif\n\nuniform vec3 u_center3D;\nuniform mat4 u_modifiedModelView;\nuniform mat4 u_modifiedModelViewProjection;\nuniform vec4 u_tileRectangle;\n\n// Uniforms for 2D Mercator projection\nuniform vec2 u_southAndNorthLatitude;\nuniform vec2 u_southMercatorYAndOneOverHeight;\n\nvarying vec3 v_positionMC;\nvarying vec3 v_positionEC;\n\nvarying vec3 v_textureCoordinates;\nvarying vec3 v_normalMC;\nvarying vec3 v_normalEC;\n\n#ifdef APPLY_MATERIAL\nvarying float v_slope;\nvarying float v_aspect;\nvarying float v_height;\n#endif\n\n#if defined(FOG) || defined(GROUND_ATMOSPHERE)\nvarying float v_distance;\nvarying vec3 v_fogMieColor;\nvarying vec3 v_fogRayleighColor;\n#endif\n\n// These functions are generated at runtime.\nvec4 getPosition(vec3 position, float height, vec2 textureCoordinates);\nfloat get2DYPositionFraction(vec2 textureCoordinates);\n\nvec4 getPosition3DMode(vec3 position, float height, vec2 textureCoordinates)\n{\n    return u_modifiedModelViewProjection * vec4(position, 1.0);\n}\n\nfloat get2DMercatorYPositionFraction(vec2 textureCoordinates)\n{\n    // The width of a tile at level 11, in radians and assuming a single root tile, is\n    //   2.0 * czm_pi / pow(2.0, 11.0)\n    // We want to just linearly interpolate the 2D position from the texture coordinates\n    // when we're at this level or higher.  The constant below is the expression\n    // above evaluated and then rounded up at the 4th significant digit.\n    const float maxTileWidth = 0.003068;\n    float positionFraction = textureCoordinates.y;\n    float southLatitude = u_southAndNorthLatitude.x;\n    float northLatitude = u_southAndNorthLatitude.y;\n    if (northLatitude - southLatitude > maxTileWidth)\n    {\n        float southMercatorY = u_southMercatorYAndOneOverHeight.x;\n        float oneOverMercatorHeight = u_southMercatorYAndOneOverHeight.y;\n\n        float currentLatitude = mix(southLatitude, northLatitude, textureCoordinates.y);\n        currentLatitude = clamp(currentLatitude, -czm_webMercatorMaxLatitude, czm_webMercatorMaxLatitude);\n        positionFraction = czm_latitudeToWebMercatorFraction(currentLatitude, southMercatorY, oneOverMercatorHeight);\n    }\n    return positionFraction;\n}\n\nfloat get2DGeographicYPositionFraction(vec2 textureCoordinates)\n{\n    return textureCoordinates.y;\n}\n\nvec4 getPositionPlanarEarth(vec3 position, float height, vec2 textureCoordinates)\n{\n    float yPositionFraction = get2DYPositionFraction(textureCoordinates);\n    vec4 rtcPosition2D = vec4(height, mix(u_tileRectangle.st, u_tileRectangle.pq, vec2(textureCoordinates.x, yPositionFraction)), 1.0);\n    return u_modifiedModelViewProjection * rtcPosition2D;\n}\n\nvec4 getPosition2DMode(vec3 position, float height, vec2 textureCoordinates)\n{\n    return getPositionPlanarEarth(position, 0.0, textureCoordinates);\n}\n\nvec4 getPositionColumbusViewMode(vec3 position, float height, vec2 textureCoordinates)\n{\n    return getPositionPlanarEarth(position, height, textureCoordinates);\n}\n\nvec4 getPositionMorphingMode(vec3 position, float height, vec2 textureCoordinates)\n{\n    // We do not do RTC while morphing, so there is potential for jitter.\n    // This is unlikely to be noticeable, though.\n    vec3 position3DWC = position + u_center3D;\n    float yPositionFraction = get2DYPositionFraction(textureCoordinates);\n    vec4 position2DWC = vec4(height, mix(u_tileRectangle.st, u_tileRectangle.pq, vec2(textureCoordinates.x, yPositionFraction)), 1.0);\n    vec4 morphPosition = czm_columbusViewMorph(position2DWC, vec4(position3DWC, 1.0), czm_morphTime);\n    return czm_modelViewProjection * morphPosition;\n}\n\n#ifdef QUANTIZATION_BITS12\nuniform vec2 u_minMaxHeight;\nuniform mat4 u_scaleAndBias;\n#endif\n\nvoid main()\n{\n#ifdef QUANTIZATION_BITS12\n    vec2 xy = czm_decompressTextureCoordinates(compressed0.x);\n    vec2 zh = czm_decompressTextureCoordinates(compressed0.y);\n    vec3 position = vec3(xy, zh.x);\n    float height = zh.y;\n    vec2 textureCoordinates = czm_decompressTextureCoordinates(compressed0.z);\n\n    height = height * (u_minMaxHeight.y - u_minMaxHeight.x) + u_minMaxHeight.x;\n    position = (u_scaleAndBias * vec4(position, 1.0)).xyz;\n\n#if (defined(ENABLE_VERTEX_LIGHTING) || defined(GENERATE_POSITION_AND_NORMAL)) && defined(INCLUDE_WEB_MERCATOR_Y)\n    float webMercatorT = czm_decompressTextureCoordinates(compressed0.w).x;\n    float encodedNormal = compressed1;\n#elif defined(INCLUDE_WEB_MERCATOR_Y)\n    float webMercatorT = czm_decompressTextureCoordinates(compressed0.w).x;\n    float encodedNormal = 0.0;\n#elif defined(ENABLE_VERTEX_LIGHTING) || defined(GENERATE_POSITION_AND_NORMAL)\n    float webMercatorT = textureCoordinates.y;\n    float encodedNormal = compressed0.w;\n#else\n    float webMercatorT = textureCoordinates.y;\n    float encodedNormal = 0.0;\n#endif\n\n#else\n    // A single float per element\n    vec3 position = position3DAndHeight.xyz;\n    float height = position3DAndHeight.w;\n    vec2 textureCoordinates = textureCoordAndEncodedNormals.xy;\n\n#if (defined(ENABLE_VERTEX_LIGHTING) || defined(GENERATE_POSITION_AND_NORMAL) || defined(APPLY_MATERIAL)) && defined(INCLUDE_WEB_MERCATOR_Y)\n    float webMercatorT = textureCoordAndEncodedNormals.z;\n    float encodedNormal = textureCoordAndEncodedNormals.w;\n#elif defined(ENABLE_VERTEX_LIGHTING) || defined(GENERATE_POSITION_AND_NORMAL) || defined(APPLY_MATERIAL)\n    float webMercatorT = textureCoordinates.y;\n    float encodedNormal = textureCoordAndEncodedNormals.z;\n#elif defined(INCLUDE_WEB_MERCATOR_Y)\n    float webMercatorT = textureCoordAndEncodedNormals.z;\n    float encodedNormal = 0.0;\n#else\n    float webMercatorT = textureCoordinates.y;\n    float encodedNormal = 0.0;\n#endif\n\n#endif\n\n    vec3 position3DWC = position + u_center3D;\n    gl_Position = getPosition(position, height, textureCoordinates);\n\n    v_textureCoordinates = vec3(textureCoordinates, webMercatorT);\n\n#if defined(ENABLE_VERTEX_LIGHTING) || defined(GENERATE_POSITION_AND_NORMAL) || defined(APPLY_MATERIAL)\n    v_positionEC = (u_modifiedModelView * vec4(position, 1.0)).xyz;\n    v_positionMC = position3DWC;  // position in model coordinates\n    vec3 normalMC = czm_octDecode(encodedNormal);\n    v_normalMC = normalMC;\n    v_normalEC = czm_normal3D * v_normalMC;\n#elif defined(SHOW_REFLECTIVE_OCEAN) || defined(ENABLE_DAYNIGHT_SHADING) || defined(GENERATE_POSITION) || defined(HDR)\n    v_positionEC = (u_modifiedModelView * vec4(position, 1.0)).xyz;\n    v_positionMC = position3DWC;  // position in model coordinates\n#endif\n\n#if defined(FOG) || defined(GROUND_ATMOSPHERE)\n    AtmosphereColor atmosFogColor = computeGroundAtmosphereFromSpace(position3DWC, false, vec3(0.0));\n    v_fogMieColor = atmosFogColor.mie;\n    v_fogRayleighColor = atmosFogColor.rayleigh;\n    v_distance = length((czm_modelView3D * vec4(position3DWC, 1.0)).xyz);\n#endif\n\n#ifdef APPLY_MATERIAL\n    float northPoleZ = czm_ellipsoidRadii.z;\n    vec3 northPolePositionMC = vec3(0.0, 0.0, northPoleZ);\n    vec3 ellipsoidNormal = normalize(v_positionMC); // For a sphere this is correct, but not generally for an ellipsoid.\n    vec3 vectorEastMC = normalize(cross(northPolePositionMC - v_positionMC, ellipsoidNormal));\n    float dotProd = abs(dot(ellipsoidNormal, v_normalMC));\n    v_slope = acos(dotProd);\n    vec3 normalRejected = ellipsoidNormal * dotProd;\n    vec3 normalProjected = v_normalMC - normalRejected;\n    vec3 aspectVector = normalize(normalProjected);\n    v_aspect = acos(dot(aspectVector, vectorEastMC));\n    float determ = dot(cross(vectorEastMC, aspectVector), ellipsoidNormal);\n    v_aspect = czm_branchFreeTernary(determ < 0.0, 2.0 * czm_pi - v_aspect, v_aspect);\n    v_height = height;\n#endif\n}\n"},CPxO:function(e,t,i){"use strict";function n(e){e=Object(g.a)(e,g.a.EMPTY_OBJECT),this.show=Object(g.a)(e.show,!0),this.updateCallback=e.updateCallback,this.loop=Object(g.a)(e.loop,!0),this.image=Object(g.a)(e.image,void 0);var t=e.emitter;Object(_.a)(t)||(t=new E.a(.5)),this._emitter=t,this._bursts=e.bursts,this._modelMatrix=w.a.clone(Object(g.a)(e.modelMatrix,w.a.IDENTITY)),this._emitterModelMatrix=w.a.clone(Object(g.a)(e.emitterModelMatrix,w.a.IDENTITY)),this._matrixDirty=!0,this._combinedMatrix=new w.a,this._startColor=m.a.clone(Object(g.a)(e.color,Object(g.a)(e.startColor,m.a.WHITE))),this._endColor=m.a.clone(Object(g.a)(e.color,Object(g.a)(e.endColor,m.a.WHITE))),this._startScale=Object(g.a)(e.scale,Object(g.a)(e.startScale,1)),this._endScale=Object(g.a)(e.scale,Object(g.a)(e.endScale,1)),this._emissionRate=Object(g.a)(e.emissionRate,5),this._minimumSpeed=Object(g.a)(e.speed,Object(g.a)(e.minimumSpeed,1)),this._maximumSpeed=Object(g.a)(e.speed,Object(g.a)(e.maximumSpeed,1)),this._minimumParticleLife=Object(g.a)(e.particleLife,Object(g.a)(e.minimumParticleLife,5)),this._maximumParticleLife=Object(g.a)(e.particleLife,Object(g.a)(e.maximumParticleLife,5)),this._minimumMass=Object(g.a)(e.mass,Object(g.a)(e.minimumMass,1)),this._maximumMass=Object(g.a)(e.mass,Object(g.a)(e.maximumMass,1)),this._minimumImageSize=d.a.clone(Object(g.a)(e.imageSize,Object(g.a)(e.minimumImageSize,A))),this._maximumImageSize=d.a.clone(Object(g.a)(e.imageSize,Object(g.a)(e.maximumImageSize,A))),this._sizeInMeters=Object(g.a)(e.sizeInMeters,!1),this._lifetime=Object(g.a)(e.lifetime,Number.MAX_VALUE),this._billboardCollection=void 0,this._particles=[],this._particlePool=[],this._previousTime=void 0,this._currentTime=0,this._carryOver=0,this._complete=new b.a,this._isComplete=!1,this._updateParticlePool=!0,this._particleEstimate=0}function a(e){var t=e._emissionRate,i=e._maximumParticleLife,n=0,a=e._bursts;if(Object(_.a)(a))for(var r=a.length,o=0;o<r;++o)n+=a[o].maximum;for(var s=e._billboardCollection,c=e.image,l=Math.ceil(t*i+n),u=e._particles,h=e._particlePool,d=Math.max(l-u.length-h.length,0),f=0;f<d;++f){var p=new T.a;p._billboard=s.add({image:c}),h.push(p)}e._particleEstimate=l}function r(e){var t=e._particlePool.pop();return Object(_.a)(t)||(t=new T.a),t}function o(e,t){e._particlePool.push(t)}function s(e){for(var t=e._particles,i=e._particlePool,n=e._billboardCollection,a=t.length,r=i.length,o=e._particleEstimate,s=r-Math.max(o-a-r,0),c=s;c<r;++c){var l=i[c];n.remove(l._billboard)}i.length=s}function c(e){Object(_.a)(e._billboard)&&(e._billboard.show=!1)}function l(e,t){var i=t._billboard;Object(_.a)(i)||(i=t._billboard=e._billboardCollection.add({image:t.image})),i.width=t.imageSize.x,i.height=t.imageSize.y,i.position=t.position,i.sizeInMeters=e.sizeInMeters,i.show=!0;var n=O.a.lerp(t.startColor.red,t.endColor.red,t.normalizedAge),a=O.a.lerp(t.startColor.green,t.endColor.green,t.normalizedAge),r=O.a.lerp(t.startColor.blue,t.endColor.blue,t.normalizedAge),o=O.a.lerp(t.startColor.alpha,t.endColor.alpha,t.normalizedAge);i.color=new m.a(n,a,r,o),i.scale=O.a.lerp(t.startScale,t.endScale,t.normalizedAge)}function u(e,t){t.startColor=m.a.clone(e._startColor,t.startColor),t.endColor=m.a.clone(e._endColor,t.endColor),t.startScale=e._startScale,t.endScale=e._endScale,t.image=e.image,t.life=O.a.randomBetween(e._minimumParticleLife,e._maximumParticleLife),t.mass=O.a.randomBetween(e._minimumMass,e._maximumMass),t.imageSize.x=O.a.randomBetween(e._minimumImageSize.x,e._maximumImageSize.x),t.imageSize.y=O.a.randomBetween(e._minimumImageSize.y,e._maximumImageSize.y),t._normalizedAge=0,t._age=0;var i=O.a.randomBetween(e._minimumSpeed,e._maximumSpeed);f.a.multiplyByScalar(t.velocity,i,t.velocity),e._particles.push(t)}function h(e,t){if(e._isComplete)return 0;t=O.a.mod(t,e._lifetime);var i=t*e._emissionRate,n=Math.floor(i);if(e._carryOver+=i-n,e._carryOver>1&&(n++,e._carryOver-=1),Object(_.a)(e.bursts))for(var a=e.bursts.length,r=0;r<a;r++){var o=e.bursts[r],s=e._currentTime;Object(_.a)(o)&&!o._complete&&s>o.time&&(n+=O.a.randomBetween(o.minimum,o.maximum),o._complete=!0)}return n}var d=i("Ss9j"),f=i("Jj+J"),p=i("5F4X"),m=i("6F0S"),g=i("5A4e"),_=i("xC6Q"),v=i("6sr8"),b=i("W6xh"),y=i("9Uqs"),O=i("fq+p"),w=i("Xjii"),x=i("Hwbb"),E=i("/Mfz"),T=i("BMJK"),A=new d.a(1,1);Object.defineProperties(n.prototype,{emitter:{get:function(){return this._emitter},set:function(e){p.a.defined("value",e),this._emitter=e}},bursts:{get:function(){return this._bursts},set:function(e){this._bursts=e,this._updateParticlePool=!0}},modelMatrix:{get:function(){return this._modelMatrix},set:function(e){p.a.defined("value",e),this._matrixDirty=this._matrixDirty||!w.a.equals(this._modelMatrix,e),w.a.clone(e,this._modelMatrix)}},emitterModelMatrix:{get:function(){return this._emitterModelMatrix},set:function(e){p.a.defined("value",e),this._matrixDirty=this._matrixDirty||!w.a.equals(this._emitterModelMatrix,e),w.a.clone(e,this._emitterModelMatrix)}},startColor:{get:function(){return this._startColor},set:function(e){p.a.defined("value",e),m.a.clone(e,this._startColor)}},endColor:{get:function(){return this._endColor},set:function(e){p.a.defined("value",e),m.a.clone(e,this._endColor)}},startScale:{get:function(){return this._startScale},set:function(e){p.a.typeOf.number.greaterThanOrEquals("value",e,0),this._startScale=e}},endScale:{get:function(){return this._endScale},set:function(e){p.a.typeOf.number.greaterThanOrEquals("value",e,0),this._endScale=e}},emissionRate:{get:function(){return this._emissionRate},set:function(e){p.a.typeOf.number.greaterThanOrEquals("value",e,0),this._emissionRate=e,this._updateParticlePool=!0}},minimumSpeed:{get:function(){return this._minimumSpeed},set:function(e){p.a.typeOf.number.greaterThanOrEquals("value",e,0),this._minimumSpeed=e}},maximumSpeed:{get:function(){return this._maximumSpeed},set:function(e){p.a.typeOf.number.greaterThanOrEquals("value",e,0),this._maximumSpeed=e}},minimumParticleLife:{get:function(){return this._minimumParticleLife},set:function(e){p.a.typeOf.number.greaterThanOrEquals("value",e,0),this._minimumParticleLife=e}},maximumParticleLife:{get:function(){return this._maximumParticleLife},set:function(e){p.a.typeOf.number.greaterThanOrEquals("value",e,0),this._maximumParticleLife=e,this._updateParticlePool=!0}},minimumMass:{get:function(){return this._minimumMass},set:function(e){p.a.typeOf.number.greaterThanOrEquals("value",e,0),this._minimumMass=e}},maximumMass:{get:function(){return this._maximumMass},set:function(e){p.a.typeOf.number.greaterThanOrEquals("value",e,0),this._maximumMass=e}},minimumImageSize:{get:function(){return this._minimumImageSize},set:function(e){p.a.typeOf.object("value",e),p.a.typeOf.number.greaterThanOrEquals("value.x",e.x,0),p.a.typeOf.number.greaterThanOrEquals("value.y",e.y,0),this._minimumImageSize=e}},maximumImageSize:{get:function(){return this._maximumImageSize},set:function(e){p.a.typeOf.object("value",e),p.a.typeOf.number.greaterThanOrEquals("value.x",e.x,0),p.a.typeOf.number.greaterThanOrEquals("value.y",e.y,0),this._maximumImageSize=e}},sizeInMeters:{get:function(){return this._sizeInMeters},set:function(e){p.a.typeOf.bool("value",e),this._sizeInMeters=e}},lifetime:{get:function(){return this._lifetime},set:function(e){p.a.typeOf.number.greaterThanOrEquals("value",e,0),this._lifetime=e}},complete:{get:function(){return this._complete}},isComplete:{get:function(){return this._isComplete}}});var C=new f.a;n.prototype.update=function(e){if(this.show){Object(_.a)(this._billboardCollection)||(this._billboardCollection=new x.a),this._updateParticlePool&&(a(this),this._updateParticlePool=!1);var t=0;this._previousTime&&(t=y.a.secondsDifference(e.time,this._previousTime)),t<0&&(t=0);var i,n,d=this._particles,p=this._emitter,m=this.updateCallback,g=d.length;for(i=0;i<g;++i)n=d[i],n.update(t,m)?l(this,n):(c(n),o(this,n),d[i]=d[g-1],--i,--g);d.length=g;var v=h(this,t);if(v>0&&Object(_.a)(p)){this._matrixDirty&&(this._combinedMatrix=w.a.multiply(this.modelMatrix,this.emitterModelMatrix,this._combinedMatrix),this._matrixDirty=!1);var b=this._combinedMatrix;for(i=0;i<v;i++)n=r(this),this._emitter.emit(n),f.a.add(n.position,n.velocity,C),w.a.multiplyByPoint(b,C,C),n.position=w.a.multiplyByPoint(b,n.position,n.position),f.a.subtract(C,n.position,n.velocity),f.a.normalize(n.velocity,n.velocity),u(this,n),l(this,n)}if(this._billboardCollection.update(e),this._previousTime=y.a.clone(e.time,this._previousTime),this._currentTime+=t,this._lifetime!==Number.MAX_VALUE&&this._currentTime>this._lifetime)if(this.loop){if(this._currentTime=O.a.mod(this._currentTime,this._lifetime),this.bursts){var E=this.bursts.length;for(i=0;i<E;i++)this.bursts[i]._complete=!1}}else this._isComplete=!0,this._complete.raiseEvent(this);e.frameNumber%120==0&&s(this)}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._billboardCollection=this._billboardCollection&&this._billboardCollection.destroy(),Object(v.a)(this)}},CWGf:function(e,t,i){"use strict";var n={NONE:0,BITS12:1};t.a=Object.freeze(n)},CWVY:function(e,t,i){"use strict";e.exports=URIError},CXxX:function(e,t,i){"use strict";function n(e){e=Object(O.a)(e,O.a.EMPTY_OBJECT);var t=e.fragmentShader,i=Object(O.a)(e.textureScale,1),n=Object(O.a)(e.pixelFormat,T.a.RGBA);if(_.a.typeOf.string("options.fragmentShader",t),_.a.typeOf.number.greaterThan("options.textureScale",i,0),_.a.typeOf.number.lessThanOrEquals("options.textureScale",i,1),!T.a.isColorFormat(n))throw new E.a("options.pixelFormat must be a color format.");this._fragmentShader=t,this._uniforms=e.uniforms,this._textureScale=i,this._forcePowerOfTwo=Object(O.a)(e.forcePowerOfTwo,!1),this._sampleMode=Object(O.a)(e.sampleMode,F.a.NEAREST),this._pixelFormat=n,this._pixelDatatype=Object(O.a)(e.pixelDatatype,S.a.UNSIGNED_BYTE),this._clearColor=Object(O.a)(e.clearColor,v.a.BLACK),this._uniformMap=void 0,this._command=void 0,this._colorTexture=void 0,this._depthTexture=void 0,this._idTexture=void 0,this._actualUniforms={},this._dirtyUniforms=[],this._texturesToRelease=[],this._texturesToCreate=[],this._texturePromise=void 0;var a=new C.a;a.scissorTest={enabled:!0,rectangle:Object(w.a)(e.scissorRectangle)?g.a.clone(e.scissorRectangle):new g.a},this._passState=a,this._ready=!1;var r=e.name;Object(w.a)(r)||(r=Object(y.a)()),this._name=r,this._logDepthChanged=void 0,this._useLogDepth=void 0,this._selectedIdTexture=void 0,this._selected=void 0,this._selectedShadow=void 0,this._parentSelected=void 0,this._parentSelectedShadow=void 0,this._combinedSelected=void 0,this._combinedSelectedShadow=void 0,this._selectedLength=0,this._parentSelectedLength=0,this._selectedDirty=!0,this._textureCache=void 0,this._index=void 0,this.enabled=!0,this._enabled=!0}function a(e,t,i){var n=t[i];return("string"==typeof n||n instanceof HTMLCanvasElement||n instanceof HTMLImageElement||n instanceof HTMLVideoElement||n instanceof ImageData)&&e._dirtyUniforms.push(i),{get:function(){return t[i]},set:function(n){var a=t[i];t[i]=n;var r=e._actualUniforms,o=r[i];Object(w.a)(o)&&o!==a&&o instanceof I.a&&!Object(w.a)(e._textureCache.getStageByName(i))&&(e._texturesToRelease.push(o),delete r[i],delete r[i+"Dimensions"]),a instanceof I.a&&e._texturesToRelease.push(a),"string"==typeof n||n instanceof HTMLCanvasElement||n instanceof HTMLImageElement||n instanceof HTMLVideoElement||n instanceof ImageData?e._dirtyUniforms.push(i):r[i]=n}}}function r(e,t){return function(){var i=e._actualUniforms[t];return"function"==typeof i?i():i}}function o(e,t){return function(){var i=e[t]();if(Object(w.a)(i))return i.dimensions}}function s(e){if(!Object(w.a)(e._uniformMap)){var t={},i={},n=e._uniforms,s=e._actualUniforms;for(var c in n)if(n.hasOwnProperty(c)){"function"!=typeof n[c]?(t[c]=r(e,c),i[c]=a(e,n,c)):(t[c]=n[c],i[c]=n[c]),s[c]=n[c];var l=t[c]();("string"==typeof l||l instanceof I.a||l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement)&&(t[c+"Dimensions"]=o(t,c))}e._uniforms={},Object.defineProperties(e._uniforms,i),e._uniformMap=Object(b.a)(t,{colorTexture:function(){return e._colorTexture},colorTextureDimensions:function(){return e._colorTexture.dimensions},depthTexture:function(){return e._depthTexture},depthTextureDimensions:function(){return e._depthTexture.dimensions},czm_idTexture:function(){return e._idTexture},czm_selectedIdTexture:function(){return e._selectedIdTexture},czm_selectedIdTextureStep:function(){return 1/e._selectedIdTexture.width}})}}function c(e,t){if(!Object(w.a)(e._command)||e._logDepthChanged||e._selectedDirty){var i=e._fragmentShader;if(Object(w.a)(e._selectedIdTexture)){var n=e._selectedIdTexture.width;i=i.replace(/varying\s+vec2\s+v_textureCoordinates;/g,""),i="#define CZM_SELECTED_FEATURE \nuniform sampler2D czm_idTexture; \nuniform sampler2D czm_selectedIdTexture; \nuniform float czm_selectedIdTextureStep; \nvarying vec2 v_textureCoordinates; \nbool czm_selected(vec2 offset) \n{ \n    bool selected = false;\n    vec4 id = texture2D(czm_idTexture, v_textureCoordinates + offset); \n    for (int i = 0; i < "+n+"; ++i) \n    { \n        vec4 selectedId = texture2D(czm_selectedIdTexture, vec2((float(i) + 0.5) * czm_selectedIdTextureStep, 0.5)); \n        if (all(equal(id, selectedId))) \n        { \n            return true; \n        } \n    } \n    return false; \n} \n\nbool czm_selected() \n{ \n    return czm_selected(vec2(0.0)); \n} \n\n"+i}var a=new D.a({defines:[e._useLogDepth?"LOG_DEPTH":""],sources:[i]});e._command=t.createViewportQuadCommand(a,{uniformMap:e._uniformMap,owner:e})}}function l(e){var t,i,n=e._sampleMode;n===F.a.LINEAR?(t=M.a.LINEAR,i=R.a.LINEAR):(t=M.a.NEAREST,i=R.a.NEAREST);var a=e._sampler;Object(w.a)(a)&&a.minificationFilter===t&&a.magnificationFilter===i||(e._sampler=new P.a({wrapS:L.a.CLAMP_TO_EDGE,wrapT:L.a.CLAMP_TO_EDGE,minificationFilter:t,magnificationFilter:i}))}function u(e,t){return function(i){e._texturesToCreate.push({name:t,source:i})}}function h(e,t){return function(){return e._textureCache.getOutputTexture(t)}}function d(e,t){var i,n,a,r=e._texturesToRelease,o=r.length;for(i=0;i<o;++i)n=r[i],n=n&&n.destroy();r.length=0;var s=e._texturesToCreate;for(o=s.length,i=0;i<o;++i){var c=s[i];a=c.name;var l=c.source;e._actualUniforms[a]=new I.a({context:t,source:l})}s.length=0;var d=e._dirtyUniforms;if(0===d.length&&!Object(w.a)(e._texturePromise))return void(e._ready=!0);if(0!==d.length&&!Object(w.a)(e._texturePromise)){o=d.length;var f=e._uniforms,p=[];for(i=0;i<o;++i){a=d[i];var m=f[a],g=e._textureCache.getStageByName(m);if(Object(w.a)(g))e._actualUniforms[a]=h(e,m);else if("string"==typeof m){var _=new A.a({url:m});p.push(_.fetchImage().then(u(e,a)))}else e._texturesToCreate.push({name:a,source:m})}d.length=0,p.length>0?(e._ready=!1,e._texturePromise=N.a.all(p).then(function(){e._ready=!0,e._texturePromise=void 0})):e._ready=!0}}function f(e){Object(w.a)(e._command)&&(e._command.shaderProgram=e._command.shaderProgram&&e._command.shaderProgram.destroy(),e._command=void 0),e._selectedIdTexture=e._selectedIdTexture&&e._selectedIdTexture.destroy();var t=e._textureCache;if(Object(w.a)(t)){var i=e._uniforms,n=e._actualUniforms;for(var a in n)n.hasOwnProperty(a)&&n[a]instanceof I.a&&(Object(w.a)(t.getStageByName(i[a]))||n[a].destroy(),e._dirtyUniforms.push(a))}}function p(e){var t=Object(w.a)(e._selected)?e._selected.length:0,i=Object(w.a)(e._parentSelected)?e._parentSelected:0,n=e._selected!==e._selectedShadow||t!==e._selectedLength;if(n=n||e._parentSelected!==e._parentSelectedShadow||i!==e._parentSelectedLength,Object(w.a)(e._selected)&&Object(w.a)(e._parentSelected)?e._combinedSelected=e._selected.concat(e._parentSelected):Object(w.a)(e._parentSelected)?e._combinedSelected=e._parentSelected:e._combinedSelected=e._selected,!n&&Object(w.a)(e._combinedSelected)){if(!Object(w.a)(e._combinedSelectedShadow))return!0;t=e._combinedSelected.length;for(var a=0;a<t;++a)if(e._combinedSelected[a]!==e._combinedSelectedShadow[a])return!0}return n}function m(e,t){if(e._selectedDirty){e._selectedIdTexture=e._selectedIdTexture&&e._selectedIdTexture.destroy(),e._selectedIdTexture=void 0;var i=e._combinedSelected;if(Object(w.a)(i)){var n,a,r=0,o=i.length;for(n=0;n<o;++n)a=i[n],Object(w.a)(a.pickIds)?r+=a.pickIds.length:Object(w.a)(a.pickId)&&++r;if(0===o||0===r){var s=new Uint8Array(4);return s[0]=255,s[1]=255,s[2]=255,s[3]=255,void(e._selectedIdTexture=new I.a({context:t,pixelFormat:T.a.RGBA,pixelDatatype:S.a.UNSIGNED_BYTE,source:{arrayBufferView:s,width:1,height:1},sampler:new P.a({wrapS:L.a.CLAMP_TO_EDGE,wrapT:L.a.CLAMP_TO_EDGE,minificationFilter:M.a.NEAREST,magnificationFilter:R.a.NEAREST})}))}var c,l=0,u=new Uint8Array(4*r);for(n=0;n<o;++n)if(a=i[n],Object(w.a)(a.pickIds))for(var h=a.pickIds,d=h.length,f=0;f<d;++f)c=h[f].color,u[l]=v.a.floatToByte(c.red),u[l+1]=v.a.floatToByte(c.green),u[l+2]=v.a.floatToByte(c.blue),u[l+3]=v.a.floatToByte(c.alpha),l+=4;else Object(w.a)(a.pickId)&&(c=a.pickId.color,u[l]=v.a.floatToByte(c.red),u[l+1]=v.a.floatToByte(c.green),u[l+2]=v.a.floatToByte(c.blue),u[l+3]=v.a.floatToByte(c.alpha),l+=4);e._selectedIdTexture=new I.a({context:t,pixelFormat:T.a.RGBA,pixelDatatype:S.a.UNSIGNED_BYTE,source:{arrayBufferView:u,width:r,height:1},sampler:new P.a({wrapS:L.a.CLAMP_TO_EDGE,wrapT:L.a.CLAMP_TO_EDGE,minificationFilter:M.a.NEAREST,magnificationFilter:R.a.NEAREST})})}}}var g=i("or8k"),_=i("5F4X"),v=i("6F0S"),b=i("ZboF"),y=i("ed27"),O=i("5A4e"),w=i("xC6Q"),x=i("6sr8"),E=i("PzDm"),T=i("FhYh"),A=i("rMjQ"),C=i("o12a"),S=i("HvCH"),j=i("DrvA"),P=i("l0BX"),D=i("x6Ms"),I=i("25X5"),R=i("YKq0"),M=i("z2iY"),L=i("L4GL"),N=i("S7OP"),F=i("zMyv");Object.defineProperties(n.prototype,{ready:{get:function(){return this._ready}},name:{get:function(){return this._name}},fragmentShader:{get:function(){return this._fragmentShader}},uniforms:{get:function(){return this._uniforms}},textureScale:{get:function(){return this._textureScale}},forcePowerOfTwo:{get:function(){return this._forcePowerOfTwo}},sampleMode:{get:function(){return this._sampleMode}},pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},clearColor:{get:function(){return this._clearColor}},scissorRectangle:{get:function(){return this._passState.scissorTest.rectangle}},outputTexture:{get:function(){if(Object(w.a)(this._textureCache)){var e=this._textureCache.getFramebuffer(this._name);if(Object(w.a)(e))return e.getColorTexture(0)}}},selected:{get:function(){return this._selected},set:function(e){this._selected=e}},parentSelected:{get:function(){return this._parentSelected},set:function(e){this._parentSelected=e}}});var z=/uniform\s+sampler2D\s+depthTexture/g;n.prototype._isSupported=function(e){return!z.test(this._fragmentShader)||e.depthTexture},n.prototype.update=function(e,t){if(this.enabled===this._enabled||this.enabled||f(this),this._enabled=this.enabled,this._enabled&&(this._logDepthChanged=t!==this._useLogDepth,this._useLogDepth=t,this._selectedDirty=p(this),this._selectedShadow=this._selected,this._parentSelectedShadow=this._parentSelected,this._combinedSelectedShadow=this._combinedSelected,this._selectedLength=Object(w.a)(this._selected)?this._selected.length:0,this._parentSelectedLength=Object(w.a)(this._parentSelected)?this._parentSelected.length:0,m(this,e),s(this),d(this,e),c(this,e),l(this),this._selectedDirty=!1,this._ready)){var i=this._textureCache.getFramebuffer(this._name);if(this._command.framebuffer=i,Object(w.a)(i)){var n,a=i.getColorTexture(0);a.width===e.drawingBufferWidth&&a.height===e.drawingBufferHeight||(n=this._renderState,Object(w.a)(n)&&a.width===n.viewport.width&&a.height===n.viewport.height||(this._renderState=j.a.fromCache({viewport:new g.a(0,0,a.width,a.height)}))),this._command.renderState=n}}},n.prototype.execute=function(e,t,i,n){if(Object(w.a)(this._command)&&Object(w.a)(this._command.framebuffer)&&this._ready&&this._enabled){this._colorTexture=t,this._depthTexture=i,this._idTexture=n,P.a.equals(this._colorTexture.sampler,this._sampler)||(this._colorTexture.sampler=this._sampler);var a=this.scissorRectangle.width>0&&this.scissorRectangle.height>0?this._passState:void 0;Object(w.a)(a)&&(a.context=e),this._command.execute(e,a)}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return f(this),Object(x.a)(this)},t.a=n},CcV0:function(e,t,i){"use strict";function n(){for(var e=document.getElementsByTagName("script"),t=0,i=e.length;t<i;++t){var n=e[t].getAttribute("src"),a=g.exec(n);if(null!==a)return a[1]}}function a(e){return"undefined"==typeof document?e:(Object(d.a)(l)||(l=document.createElement("a")),l.href=e,l.href=l.href,l.href)}function r(){if(Object(d.a)(u))return u;var e;if(e="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:"object"==typeof define&&Object(d.a)(i("nErl"))&&!i("nErl").toUrlUndefined&&Object(d.a)(!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}().toUrl)?Object(p.a)("..",c("Core/buildModuleUrl.js")):n(),!Object(d.a)(e))throw new f.a("Unable to determine Cesium base URL automatically, try defining a global variable called CESIUM_BASE_URL.");return u=new m.a({url:a(e)}),u.appendForwardSlash(),u}function o(e){return a(!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}().toUrl("../"+e))}function s(e){return r().getDerivedResource({url:e}).url}function c(e){return Object(d.a)(h)||(h="object"==typeof define&&Object(d.a)(i("nErl"))&&!i("nErl").toUrlUndefined&&Object(d.a)(!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}().toUrl)?o:s),h(e)}var l,u,h,d=i("xC6Q"),f=i("PzDm"),p=i("u44x"),m=i("rMjQ"),g=/((?:.*\/)|^)Cesium\.js$/;c._cesiumScriptRegex=g,c._buildModuleUrlFromBaseUrl=s,c._clearBaseResource=function(){u=void 0},c.setBaseUrl=function(e){u=m.a.DEFAULT.getDerivedResource({url:e})},c.getCesiumBaseUrl=r,t.a=c},Cm66:function(e,t,i){"use strict";/**
@license
mersenne-twister.js - https://gist.github.com/banksean/300494

   Copyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura,
   All rights reserved.

   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:

     1. Redistributions of source code must retain the above copyright
        notice, this list of conditions and the following disclaimer.

     2. Redistributions in binary form must reproduce the above copyright
        notice, this list of conditions and the following disclaimer in the
        documentation and/or other materials provided with the distribution.

     3. The names of its contributors may not be used to endorse or promote
        products derived from this software without specific prior written
        permission.

   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
   "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
   A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
   CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
   EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
   PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
var n=function(e){void 0==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e)};n.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){var e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},n.prototype.genrand_int32=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var i;for(this.mti==this.N+1&&this.init_genrand(5489),i=0;i<this.N-this.M;i++)e=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+this.M]^e>>>1^t[1&e];for(;i<this.N-1;i++)e=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},n.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},t.a=n},CsKk:function(e,t,i){"use strict";var n={};!function(e){var t=function(e,t){var i=new Error(e+" at character "+t);throw i.index=t,i.description=e,i},i={"-":!0,"!":!0,"~":!0,"+":!0},n={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},a=function(e){var t,i=0;for(var n in e)(t=n.length)>i&&e.hasOwnProperty(n)&&(i=t);return i},r=a(i),o=a(n),s={true:!0,false:!1,null:null},c=function(e){return n[e]||0},l=function(e,t,i){return{type:"||"===e||"&&"===e?"LogicalExpression":"BinaryExpression",operator:e,left:t,right:i}},u=function(e){return e>=48&&e<=57},h=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=128&&!n[String.fromCharCode(e)]},d=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e>=128&&!n[String.fromCharCode(e)]},f=function(e){for(var a,f,p=0,m=e.charAt,g=e.charCodeAt,_=function(t){return m.call(e,t)},v=function(t){return g.call(e,t)},b=e.length,y=function(){for(var e=v(p);32===e||9===e;)e=v(++p)},O=function(){var e,i,n=x();return y(),63!==v(p)?n:(p++,e=O(),e||t("Expected expression",p),y(),58===v(p)?(p++,i=O(),i||t("Expected expression",p),{type:"ConditionalExpression",test:n,consequent:e,alternate:i}):void t("Expected :",p))},w=function(){y();for(var t=e.substr(p,o),i=t.length;i>0;){if(n.hasOwnProperty(t))return p+=i,t;t=t.substr(0,--i)}return!1},x=function(){var e,i,n,a,r,o,s,u;if(o=E(),!(i=w()))return o;for(r={value:i,prec:c(i)},s=E(),s||t("Expected expression after "+i,p),a=[o,r,s];(i=w())&&0!==(n=c(i));){for(r={value:i,prec:n};a.length>2&&n<=a[a.length-2].prec;)s=a.pop(),i=a.pop().value,o=a.pop(),e=l(i,o,s),a.push(e);e=E(),e||t("Expected expression after "+i,p),a.push(r,e)}for(u=a.length-1,e=a[u];u>1;)e=l(a[u-1].value,a[u-2],e),u-=2;return e},E=function(){var t,n,a;if(y(),t=v(p),u(t)||46===t)return T();if(39===t||34===t)return A();if(h(t)||40===t)return j();if(91===t)return D();for(n=e.substr(p,r),a=n.length;a>0;){if(i.hasOwnProperty(n))return p+=a,{type:"UnaryExpression",operator:n,argument:E(),prefix:!0};n=n.substr(0,--a)}return!1},T=function(){for(var e,i,n="";u(v(p));)n+=_(p++);if(46===v(p))for(n+=_(p++);u(v(p));)n+=_(p++);if("e"===(e=_(p))||"E"===e){for(n+=_(p++),e=_(p),"+"!==e&&"-"!==e||(n+=_(p++));u(v(p));)n+=_(p++);u(v(p-1))||t("Expected exponent ("+n+_(p)+")",p)}return i=v(p),h(i)?t("Variable names cannot start with a number ("+n+_(p)+")",p):46===i&&t("Unexpected period",p),{type:"Literal",value:parseFloat(n),raw:n}},A=function(){for(var e,i="",n=_(p++),a=!1;p<b;){if((e=_(p++))===n){a=!0;break}if("\\"===e)switch(e=_(p++)){case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:i+="\\"+e}else i+=e}return a||t('Unclosed quote after "'+i+'"',p),{type:"Literal",value:i,raw:n+i+n}},C=function(){var i,n=v(p),a=p;for(h(n)?p++:t("Unexpected "+_(p),p);p<b&&(n=v(p),d(n));)p++;return i=e.slice(a,p),s.hasOwnProperty(i)?{type:"Literal",value:s[i],raw:i}:"this"===i?{type:"ThisExpression"}:{type:"Identifier",name:i}},S=function(e){for(var i,n,a=[],r=!1;p<b;){if(y(),(i=v(p))===e){r=!0,p++;break}44===i?p++:(n=O(),n&&"Compound"!==n.type||t("Expected comma",p),a.push(n))}return r||t("Expected "+String.fromCharCode(e),p),a},j=function(){var e,i;for(e=v(p),i=40===e?P():C(),y(),e=v(p);46===e||91===e||40===e;)p++,46===e?(y(),i={type:"MemberExpression",computed:!1,object:i,property:C()}):91===e?(i={type:"MemberExpression",computed:!0,object:i,property:O()},y(),e=v(p),93!==e&&t("Unclosed [",p),p++):40===e&&(i={type:"CallExpression",arguments:S(41),callee:i}),y(),e=v(p);return i},P=function(){p++;var e=O();if(y(),41===v(p))return p++,e;t("Unclosed (",p)},D=function(){return p++,{type:"ArrayExpression",elements:S(93)}},I=[];p<b;)a=v(p),59===a||44===a?p++:(f=O())?I.push(f):p<b&&t('Unexpected "'+_(p)+'"',p);return 1===I.length?I[0]:{type:"Compound",body:I}};f.version="0.3.1",f.toString=function(){return"JavaScript Expression Parser (JSEP) v"+f.version},f.addUnaryOp=function(e){return r=Math.max(e.length,r),i[e]=!0,this},f.addBinaryOp=function(e,t){return o=Math.max(e.length,o),n[e]=t,this},f.addLiteral=function(e,t){return s[e]=t,this},f.removeUnaryOp=function(e){return delete i[e],e.length===r&&(r=a(i)),this},f.removeAllUnaryOps=function(){return i={},r=0,this},f.removeBinaryOp=function(e){return delete n[e],e.length===o&&(o=a(n)),this},f.removeAllBinaryOps=function(){return n={},o=0,this},f.removeLiteral=function(e){return delete s[e],this},f.removeAllLiterals=function(){return s={},this},e.jsep=f}(n),t.a=n.jsep},D1Va:function(e,t,i){"use strict";function n(e,t){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);s.call(this,e),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",r)}function r(){var e=this;"function"==typeof this._flush?this._flush(function(t,i){o(e,t,i)}):o(this,null,null)}function o(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=a;var s=i("DsFX"),c=Object.create(i("jOgh"));c.inherits=i("LC74"),c.inherits(a,s),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,i){var n=this._transformState;if(n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var i=this;s.prototype._destroy.call(this,e,function(e){t(e),i.emit("close")})}},D2L2:function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},D2nr:function(e,t,i){"use strict";function n(e,t,i,n){var a=i.viewMatrix,r=d.a.multiplyByVector(a,s.a.fromElements(e.x,e.y,e.z,1,x),x),c=o.a.multiplyComponents(t,o.a.normalize(r,E),E);return r.x+=t.x+c.x,r.y+=t.y+c.y,r.z+=c.z,d.a.multiplyByVector(i.frustum.projectionMatrix,r,n)}var a=i("or8k"),r=i("Ss9j"),o=i("Jj+J"),s=i("PDkd"),c=i("I3GD"),l=i("xC6Q"),u=i("PzDm"),h=i("fq+p"),d=i("Xjii"),f=i("ku5u"),p=i("rpO5"),m=i("g/FO"),g=i("sotJ"),_={},v=new s.a(0,0,0,1),b=new s.a,y=new a.a,O=new r.a,w=new r.a;_.wgs84ToWindowCoordinates=function(e,t,i){return _.wgs84WithEyeOffsetToWindowCoordinates(e,t,o.a.ZERO,i)};var x=new s.a,E=new o.a,T=new c.a(Math.PI,h.a.PI_OVER_TWO),A=new o.a,C=new o.a;_.wgs84WithEyeOffsetToWindowCoordinates=function(e,t,i,a){if(!Object(l.a)(e))throw new u.a("scene is required.");if(!Object(l.a)(t))throw new u.a("position is required.");var s=e.frameState,c=_.computeActualWgs84Position(s,t,v);if(Object(l.a)(c)){var x=e.canvas,E=y;E.x=0,E.y=0,E.width=x.clientWidth,E.height=x.clientHeight;var S=e.camera,j=!1;if(s.mode===g.a.SCENE2D){var P=e.mapProjection,D=T,I=P.project(D,A),R=o.a.clone(S.position,C),M=S.frustum.clone(),L=d.a.computeViewportTransformation(E,0,1,new d.a),N=S.frustum.projectionMatrix,F=S.positionWC.y,z=o.a.fromElements(h.a.sign(F)*I.x-F,0,-S.positionWC.x),B=m.a.pointToGLWindowCoordinates(N,L,z);if(0===F||B.x<=0||B.x>=x.clientWidth)j=!0;else{if(B.x>.5*x.clientWidth){E.width=B.x,S.frustum.right=I.x-F,b=n(c,i,S,b),_.clipToGLWindowCoordinates(E,b,O),E.x+=B.x,S.position.x=-S.position.x;var k=S.frustum.right;S.frustum.right=-S.frustum.left,S.frustum.left=-k,b=n(c,i,S,b),_.clipToGLWindowCoordinates(E,b,w)}else{E.x+=B.x,E.width-=B.x,S.frustum.left=-I.x-F,b=n(c,i,S,b),_.clipToGLWindowCoordinates(E,b,O),E.x=E.x-E.width,S.position.x=-S.position.x;var U=S.frustum.left;S.frustum.left=-S.frustum.right,S.frustum.right=-U,b=n(c,i,S,b),_.clipToGLWindowCoordinates(E,b,w)}o.a.clone(R,S.position),S.frustum=M.clone(),a=r.a.clone(O,a),(a.x<0||a.x>x.clientWidth)&&(a.x=w.x)}}if(s.mode!==g.a.SCENE2D||j){if(b=n(c,i,S,b),b.z<0&&!(S.frustum instanceof f.a)&&!(S.frustum instanceof p.a))return;a=_.clipToGLWindowCoordinates(E,b,a)}return a.y=x.clientHeight-a.y,a}},_.wgs84ToDrawingBufferCoordinates=function(e,t,i){if(i=_.wgs84ToWindowCoordinates(e,t,i),Object(l.a)(i))return _.transformWindowToDrawingBuffer(e,i,i)};var S=new o.a,j=new c.a;_.computeActualWgs84Position=function(e,t,i){var n=e.mode;if(n===g.a.SCENE3D)return o.a.clone(t,i);var a=e.mapProjection,r=a.ellipsoid.cartesianToCartographic(t,j);if(Object(l.a)(r)){if(a.project(r,S),n===g.a.COLUMBUS_VIEW)return o.a.fromElements(S.z,S.x,S.y,i);if(n===g.a.SCENE2D)return o.a.fromElements(0,S.x,S.y,i);var s=e.morphTime;return o.a.fromElements(h.a.lerp(S.z,t.x,s),h.a.lerp(S.x,t.y,s),h.a.lerp(S.y,t.z,s),i)}};var P=new o.a,D=new o.a,I=new d.a;_.clipToGLWindowCoordinates=function(e,t,i){return o.a.divideByScalar(t,t.w,P),d.a.computeViewportTransformation(e,0,1,I),d.a.multiplyByPoint(I,P,D),r.a.fromCartesian3(D,i)},_.transformWindowToDrawingBuffer=function(e,t,i){var n=e.canvas,a=e.drawingBufferWidth/n.clientWidth,o=e.drawingBufferHeight/n.clientHeight;return r.a.fromElements(t.x*a,t.y*o,i)};var R=new s.a,M=new s.a;_.drawingBufferToWgs84Coordinates=function(e,t,i,n){var a=e.context,r=a.uniformState,c=r.currentFrustum,u=c.x,h=c.y;if(e.frameState.useLogDepth){var f=i*r.log2FarDepthFromNearPlusOne;i=h*(1-u/(Math.pow(2,f)-1+u))/(h-u)}var p=e.view.passState.viewport,m=s.a.clone(s.a.UNIT_W,R);m.x=(t.x-p.x)/p.width*2-1,m.y=(t.y-p.y)/p.height*2-1,m.z=2*i-1,m.w=1;var g,_=e.camera.frustum;if(Object(l.a)(_.fovy)){g=d.a.multiplyByVector(r.inverseViewProjection,m,M);var v=1/g.w;o.a.multiplyByScalar(g,v,g)}else Object(l.a)(_._offCenterFrustum)&&(_=_._offCenterFrustum),g=M,g.x=.5*(m.x*(_.right-_.left)+_.left+_.right),g.y=.5*(m.y*(_.top-_.bottom)+_.bottom+_.top),g.z=.5*(m.z*(u-h)-u-h),g.w=1,g=d.a.multiplyByVector(r.inverseView,g,g);return o.a.fromCartesian4(g,n)},t.a=_},D98s:function(e,t,i){"use strict";function n(e,t,i){if(!Object(o.a)(e))throw new s.a("scene is required.");if(!Object(o.a)(t))throw new s.a("selectionIndicatorElement is required.");if(!Object(o.a)(i))throw new s.a("container is required.");this._scene=e,this._screenPositionX=d,this._screenPositionY=d,this._tweens=e.tweens,this._container=Object(r.a)(i,document.body),this._selectionIndicatorElement=t,this._scale=1,this.position=void 0,this.showSelection=!1,u.a.track(this,["position","_screenPositionX","_screenPositionY","_scale","showSelection"]),this.isVisible=void 0,u.a.defineProperty(this,"isVisible",{get:function(){return this.showSelection&&Object(o.a)(this.position)}}),u.a.defineProperty(this,"_transform",{get:function(){return"scale("+this._scale+")"}}),this.computeScreenSpacePosition=function(t,i){return l.a.wgs84ToWindowCoordinates(e,t,i)}}var a=i("Ss9j"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("jxrD"),l=i("D2nr"),u=i("PKIF"),h=new a.a,d="-1000px";n.prototype.update=function(){if(this.showSelection&&Object(o.a)(this.position)){var e=this.computeScreenSpacePosition(this.position,h);if(Object(o.a)(e)){var t=this._container,i=t.parentNode.clientWidth,n=t.parentNode.clientHeight,a=this._selectionIndicatorElement.clientWidth,r=.5*a;e.x=Math.min(Math.max(e.x,-a),i+a)-r,e.y=Math.min(Math.max(e.y,-a),n+a)-r,this._screenPositionX=Math.floor(e.x+.25)+"px",this._screenPositionY=Math.floor(e.y+.25)+"px"}else this._screenPositionX=d,this._screenPositionY=d}},n.prototype.animateAppear=function(){this._tweens.addProperty({object:this,property:"_scale",startValue:2,stopValue:1,duration:.8,easingFunction:c.a.EXPONENTIAL_OUT})},n.prototype.animateDepart=function(){this._tweens.addProperty({object:this,property:"_scale",startValue:this._scale,stopValue:1.5,duration:.8,easingFunction:c.a.EXPONENTIAL_OUT})},Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},selectionIndicatorElement:{get:function(){return this._selectionIndicatorElement}},scene:{get:function(){return this._scene}}}),t.a=n},DB3y:function(e,t,i){"use strict";t.a="uniform vec4 color;\nuniform vec4 gapColor;\nuniform float dashLength;\nuniform float dashPattern;\nvarying float v_polylineAngle;\n\nconst float maskLength = 16.0;\n\nmat2 rotate(float rad) {\n    float c = cos(rad);\n    float s = sin(rad);\n    return mat2(\n        c, s,\n        -s, c\n    );\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 pos = rotate(v_polylineAngle) * gl_FragCoord.xy;\n\n    // Get the relative position within the dash from 0 to 1\n    float dashPosition = fract(pos.x / (dashLength * czm_pixelRatio));\n    // Figure out the mask index.\n    float maskIndex = floor(dashPosition * maskLength);\n    // Test the bit mask.\n    float maskTest = floor(dashPattern / pow(2.0, maskIndex));\n    vec4 fragColor = (mod(maskTest, 2.0) < 1.0) ? gapColor : color;\n    if (fragColor.a < 0.005) {   // matches 0/255 and 1/255\n        discard;\n    }\n\n    fragColor = czm_gammaCorrect(fragColor);\n    material.emission = fragColor.rgb;\n    material.alpha = fragColor.a;\n    return material;\n}\n"},DIpd:function(e,t,i){"use strict";t.a='attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute float batchId;\n\n#ifdef EXTRUDED_GEOMETRY\nattribute vec3 extrudeDirection;\n\nuniform float u_globeMinimumAltitude;\n#endif // EXTRUDED_GEOMETRY\n\n#ifdef PER_INSTANCE_COLOR\nvarying vec4 v_color;\n#endif // PER_INSTANCE_COLOR\n\n#ifdef TEXTURE_COORDINATES\n#ifdef SPHERICAL\nvarying vec4 v_sphericalExtents;\n#else // SPHERICAL\nvarying vec2 v_inversePlaneExtents;\nvarying vec4 v_westPlane;\nvarying vec4 v_southPlane;\n#endif // SPHERICAL\nvarying vec3 v_uvMinAndSphericalLongitudeRotation;\nvarying vec3 v_uMaxAndInverseDistance;\nvarying vec3 v_vMaxAndInverseDistance;\n#endif // TEXTURE_COORDINATES\n\n#if defined(TEXTURE_COORDINATES) && !defined(SPHERICAL) && defined(UINT8_PACKING)\nvec4 clampAndMagnitude(vec4 sd)\n{\n    vec4 d = sd;\n    d.x = czm_branchFreeTernary(sd.x < 128.0, d.x, (255.0 - sd.x));\n    d.x = floor(0.5 + d.x);\n    d.y = floor(0.5 + d.y);\n    d.z = floor(0.5 + d.z);\n    d.w = floor(0.5 + d.w);\n    return d;\n}\n\nfloat unpackLowLessThan100k(vec4 sd)\n{\n    vec4 d = clampAndMagnitude(sd);\n    return (1000.0 * d.x + 10.0 * d.y + 0.1 * d.z + 0.001 * d.w) * czm_branchFreeTernary(sd.x < 128.0, 1.0, -1.0);\n}\n\nvec3 southwest_LOW(vec4 x, vec4 y, vec4 z)\n{\n    vec3 value;\n    value.x = unpackLowLessThan100k(x);\n    value.y = unpackLowLessThan100k(y);\n    value.z = unpackLowLessThan100k(z);\n    return value;\n}\n\nfloat unpackHighMagLessThan100Million(vec4 sd)\n{\n    vec4 d = clampAndMagnitude(sd);\n    return (1000000.0 * d.x + 10000.0 * d.y + 100.0 * d.z + d.w) * czm_branchFreeTernary(sd.x < 128.0, 1.0, -1.0);\n}\n\nvec3 southwest_HIGH(vec4 x, vec4 y, vec4 z)\n{\n    vec3 value;\n    value.x = unpackHighMagLessThan100Million(x);\n    value.y = unpackHighMagLessThan100Million(y);\n    value.z = unpackHighMagLessThan100Million(z);\n    return value;\n}\n\n#ifdef COLUMBUS_VIEW_2D\nvec4 unpackPlanes2D_HIGH(vec4 x, vec4 y, vec4 z, vec4 w)\n{\n    vec4 value;\n    value.x = unpackHighMagLessThan100Million(x);\n    value.y = unpackHighMagLessThan100Million(y);\n    value.z = unpackHighMagLessThan100Million(z);\n    value.w = unpackHighMagLessThan100Million(w);\n    return value;\n}\n\nvec4 unpackPlanes2D_LOW(vec4 x, vec4 y, vec4 z, vec4 w)\n{\n    vec4 value;\n    value.x = unpackLowLessThan100k(x);\n    value.y = unpackLowLessThan100k(y);\n    value.z = unpackLowLessThan100k(z);\n    value.w = unpackLowLessThan100k(w);\n    return value;\n}\n\n#else\nfloat unpackLowLessThan1000k(vec4 sd)\n{\n    vec4 d = clampAndMagnitude(sd);\n    return (10000.0 * d.x + 100.0 * d.y + d.z + 0.01 * d.w) * czm_branchFreeTernary(sd.x < 128.0, 1.0, -1.0);\n}\n\nvec3 unpackExtent(vec4 x, vec4 y, vec4 z)\n{\n    vec3 value;\n    value.x = unpackLowLessThan1000k(x);\n    value.y = unpackLowLessThan1000k(y);\n    value.z = unpackLowLessThan1000k(z);\n    return value;\n}\n\n#endif\n#endif\n\nvoid main()\n{\n    vec4 position = czm_computePosition();\n\n#ifdef EXTRUDED_GEOMETRY\n    float delta = min(u_globeMinimumAltitude, czm_geometricToleranceOverMeter * length(position.xyz));\n    delta *= czm_sceneMode == czm_sceneMode3D ? 1.0 : 0.0;\n\n    //extrudeDirection is zero for the top layer\n    position = position + vec4(extrudeDirection * delta, 0.0);\n#endif\n\n#ifdef TEXTURE_COORDINATES\n#ifdef SPHERICAL\n    v_sphericalExtents = czm_batchTable_sphericalExtents(batchId);\n    v_uvMinAndSphericalLongitudeRotation.z = czm_batchTable_longitudeRotation(batchId);\n#else // SPHERICAL\n#ifdef COLUMBUS_VIEW_2D\n#ifdef UINT8_PACKING\n    vec4 planes2D_high = unpackPlanes2D_HIGH(czm_batchTable_planes2D_HIGH_x(batchId),\n        czm_batchTable_planes2D_HIGH_y(batchId),\n        czm_batchTable_planes2D_HIGH_z(batchId),\n        czm_batchTable_planes2D_HIGH_w(batchId));\n    vec4 planes2D_low = unpackPlanes2D_LOW(czm_batchTable_planes2D_LOW_x(batchId),\n        czm_batchTable_planes2D_LOW_y(batchId),\n        czm_batchTable_planes2D_LOW_z(batchId),\n        czm_batchTable_planes2D_LOW_w(batchId));\n#else // UINT8_PACKING\n    vec4 planes2D_high = czm_batchTable_planes2D_HIGH(batchId);\n    vec4 planes2D_low = czm_batchTable_planes2D_LOW(batchId);\n#endif // UINT8_PACKING\n\n    // If the primitive is split across the IDL (planes2D_high.x > planes2D_high.w):\n    // - If this vertex is on the east side of the IDL (position3DLow.y > 0.0, comparison with position3DHigh may produce artifacts)\n    // - existing "east" is on the wrong side of the world, far away (planes2D_high/low.w)\n    // - so set "east" as beyond the eastmost extent of the projection (idlSplitNewPlaneHiLow)\n    vec2 idlSplitNewPlaneHiLow = vec2(EAST_MOST_X_HIGH - (WEST_MOST_X_HIGH - planes2D_high.w), EAST_MOST_X_LOW - (WEST_MOST_X_LOW - planes2D_low.w));\n    bool idlSplit = planes2D_high.x > planes2D_high.w && position3DLow.y > 0.0;\n    planes2D_high.w = czm_branchFreeTernary(idlSplit, idlSplitNewPlaneHiLow.x, planes2D_high.w);\n    planes2D_low.w = czm_branchFreeTernary(idlSplit, idlSplitNewPlaneHiLow.y, planes2D_low.w);\n\n    // - else, if this vertex is on the west side of the IDL (position3DLow.y < 0.0)\n    // - existing "west" is on the wrong side of the world, far away (planes2D_high/low.x)\n    // - so set "west" as beyond the westmost extent of the projection (idlSplitNewPlaneHiLow)\n    idlSplit = planes2D_high.x > planes2D_high.w && position3DLow.y < 0.0;\n    idlSplitNewPlaneHiLow = vec2(WEST_MOST_X_HIGH - (EAST_MOST_X_HIGH - planes2D_high.x), WEST_MOST_X_LOW - (EAST_MOST_X_LOW - planes2D_low.x));\n    planes2D_high.x = czm_branchFreeTernary(idlSplit, idlSplitNewPlaneHiLow.x, planes2D_high.x);\n    planes2D_low.x = czm_branchFreeTernary(idlSplit, idlSplitNewPlaneHiLow.y, planes2D_low.x);\n\n    vec3 southWestCorner = (czm_modelViewRelativeToEye * czm_translateRelativeToEye(vec3(0.0, planes2D_high.xy), vec3(0.0, planes2D_low.xy))).xyz;\n    vec3 northWestCorner = (czm_modelViewRelativeToEye * czm_translateRelativeToEye(vec3(0.0, planes2D_high.x, planes2D_high.z), vec3(0.0, planes2D_low.x, planes2D_low.z))).xyz;\n    vec3 southEastCorner = (czm_modelViewRelativeToEye * czm_translateRelativeToEye(vec3(0.0, planes2D_high.w, planes2D_high.y), vec3(0.0, planes2D_low.w, planes2D_low.y))).xyz;\n#else // COLUMBUS_VIEW_2D\n    // 3D case has smaller "plane extents," so planes encoded as a 64 bit position and 2 vec3s for distances/direction\n#ifdef UINT8_PACKING\n    vec3 low = southwest_LOW(czm_batchTable_southWest_LOW_x(batchId), czm_batchTable_southWest_LOW_y(batchId), czm_batchTable_southWest_LOW_z(batchId));\n    vec3 high = southwest_HIGH(czm_batchTable_southWest_HIGH_x(batchId), czm_batchTable_southWest_HIGH_y(batchId), czm_batchTable_southWest_HIGH_z(batchId));\n    vec3 southWestCorner = (czm_modelViewRelativeToEye * czm_translateRelativeToEye(high, low)).xyz;\n    vec3 northWestCorner = czm_normal * unpackExtent(\n        czm_batchTable_northward_x(batchId),\n        czm_batchTable_northward_y(batchId),\n        czm_batchTable_northward_z(batchId)) + southWestCorner;\n\n    vec3 southEastCorner = czm_normal * unpackExtent(\n        czm_batchTable_eastward_x(batchId),\n        czm_batchTable_eastward_y(batchId),\n        czm_batchTable_eastward_z(batchId)) + southWestCorner;\n#else // UINT8_PACKING\n    vec3 southWestCorner = (czm_modelViewRelativeToEye * czm_translateRelativeToEye(czm_batchTable_southWest_HIGH(batchId), czm_batchTable_southWest_LOW(batchId))).xyz;\n    vec3 northWestCorner = czm_normal * czm_batchTable_northward(batchId) + southWestCorner;\n    vec3 southEastCorner = czm_normal * czm_batchTable_eastward(batchId) + southWestCorner;\n#endif // UINT8_PACKING\n#endif // COLUMBUS_VIEW_2D\n\n    vec3 eastWard = southEastCorner - southWestCorner;\n    float eastExtent = length(eastWard);\n    eastWard /= eastExtent;\n\n    vec3 northWard = northWestCorner - southWestCorner;\n    float northExtent = length(northWard);\n    northWard /= northExtent;\n\n    v_westPlane = vec4(eastWard, -dot(eastWard, southWestCorner));\n    v_southPlane = vec4(northWard, -dot(northWard, southWestCorner));\n    v_inversePlaneExtents = vec2(1.0 / eastExtent, 1.0 / northExtent);\n#endif // SPHERICAL\n    vec4 uvMinAndExtents = czm_batchTable_uvMinAndExtents(batchId);\n    vec4 uMaxVmax = czm_batchTable_uMaxVmax(batchId);\n\n    v_uMaxAndInverseDistance = vec3(uMaxVmax.xy, uvMinAndExtents.z);\n    v_vMaxAndInverseDistance = vec3(uMaxVmax.zw, uvMinAndExtents.w);\n    v_uvMinAndSphericalLongitudeRotation.xy = uvMinAndExtents.xy;\n#endif // TEXTURE_COORDINATES\n\n#ifdef PER_INSTANCE_COLOR\n    v_color = czm_batchTable_color(batchId);\n#endif\n\n    gl_Position = czm_depthClampFarPlane(czm_modelViewProjectionRelativeToEye * position);\n}\n'},DPkk:function(e,t,i){"use strict";function n(e){c.a.fromRadians(e.east,e.north,0,E[0]),c.a.fromRadians(e.west,e.north,0,E[1]),c.a.fromRadians(e.east,e.south,0,E[2]),c.a.fromRadians(e.west,e.south,0,E[3]);var t,i=0,n=0,a=0,r=0,o=A._terrainHeightsMaxLevel;for(t=0;t<=o;++t){for(var s=!1,l=0;l<4;++l){var u=E[l];if(x.positionToTileXY(u,t,T),0===l)a=T.x,r=T.y;else if(a!==T.x||r!==T.y){s=!0;break}}if(s)break;i=a,n=r}if(0!==t)return{x:i,y:n,level:t>o?o:t-1}}var a=i("lBr9"),r=i("CcV0"),o=i("Ss9j"),s=i("Jj+J"),c=i("I3GD"),l=i("5F4X"),u=i("5A4e"),h=i("xC6Q"),d=i("PzDm"),f=i("y6fO"),p=i("4MnW"),m=i("Wq1U"),g=i("rMjQ"),_=new s.a,v=new s.a,b=new c.a,y=new s.a,O=new s.a,w=new a.a,x=new p.a,E=[new c.a,new c.a,new c.a,new c.a],T=new o.a,A={};A.initialize=function(){var e=A._initPromise;return Object(h.a)(e)?e:(e=g.a.fetchJson(Object(r.a)("Assets/approximateTerrainHeights.json")).then(function(e){A._terrainHeights=e}),A._initPromise=e,e)},A.getMinimumMaximumHeights=function(e,t){if(l.a.defined("rectangle",e),!Object(h.a)(A._terrainHeights))throw new d.a("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");t=Object(u.a)(t,f.a.WGS84);var i=n(e),a=A._defaultMinTerrainHeight,r=A._defaultMaxTerrainHeight;if(Object(h.a)(i)){var o=i.level+"-"+i.x+"-"+i.y,c=A._terrainHeights[o];Object(h.a)(c)&&(a=c[0],r=c[1]),t.cartographicToCartesian(m.a.northeast(e,b),_),t.cartographicToCartesian(m.a.southwest(e,b),v),s.a.midpoint(v,_,y);var p=t.scaleToGeodeticSurface(y,O);if(Object(h.a)(p)){var g=s.a.distance(y,p);a=Math.min(a,-g)}else a=A._defaultMinTerrainHeight}return a=Math.max(A._defaultMinTerrainHeight,a),{minimumTerrainHeight:a,maximumTerrainHeight:r}},A.getBoundingSphere=function(e,t){if(l.a.defined("rectangle",e),!Object(h.a)(A._terrainHeights))throw new d.a("You must call ApproximateTerrainHeights.initialize and wait for the promise to resolve before using this function");t=Object(u.a)(t,f.a.WGS84);var i=n(e),r=A._defaultMaxTerrainHeight;if(Object(h.a)(i)){var o=i.level+"-"+i.x+"-"+i.y,s=A._terrainHeights[o];Object(h.a)(s)&&(r=s[1])}var c=a.a.fromRectangle3D(e,t,0);return a.a.fromRectangle3D(e,t,r,w),a.a.union(c,w,c)},A._terrainHeightsMaxLevel=6,A._defaultMaxTerrainHeight=9e3,A._defaultMinTerrainHeight=-1e5,A._terrainHeights=void 0,A._initPromise=void 0,Object.defineProperties(A,{initialized:{get:function(){return Object(h.a)(A._terrainHeights)}}}),t.a=A},DPpe:function(e,t,i){"use strict";function n(e){var t=e.uint8Array,i=e.format,n=e.request,l=Object(o.a)(e.flipY,!1);r.a.typeOf.object("uint8Array",t),r.a.typeOf.string("format",i);var u,h=new Blob([t],{type:i});return c.a.supportsImageBitmapOptions().then(function(e){return e?Object(a.a)(c.a.createImageBitmapFromBlob(h,{flipY:l,premultiplyAlpha:!1})):(u=window.URL.createObjectURL(h),new c.a({url:u,request:n}).fetchImage({flipY:l}))}).then(function(e){return Object(s.a)(u)&&window.URL.revokeObjectURL(u),e}).otherwise(function(e){return Object(s.a)(u)&&window.URL.revokeObjectURL(u),a.a.reject(e)})}var a=i("S7OP"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("rMjQ");t.a=n},DWwl:function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT);var t=Object(a.a)(e.translucent,!0),i=n.VERTEX_FORMAT;this.material=void 0,this.translucent=t,this._vertexShaderSource=Object(a.a)(e.vertexShaderSource,h),this._fragmentShaderSource=Object(a.a)(e.fragmentShaderSource,d),this._renderState=u.a.getDefaultRenderState(t,!1,e.renderState),this._closed=!1,this._vertexFormat=i}var a=i("5A4e"),r=i("gjtw"),o=i("xvTE"),s=i("PZX5"),c=i("PzuF"),l=i("6fa5"),u=i("fSWn"),h=l.a+"\n"+c.a,d=s.a;r.a.isInternetExplorer()||(h="#define CLIP_POLYLINE \n"+h),Object.defineProperties(n.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return this._vertexFormat}}}),n.VERTEX_FORMAT=o.a.POSITION_ONLY,n.prototype.getFragmentShaderSource=u.a.prototype.getFragmentShaderSource,n.prototype.isTranslucent=u.a.prototype.isTranslucent,n.prototype.getRenderState=u.a.prototype.getRenderState,t.a=n},Dd8w:function(e,t,i){"use strict";t.__esModule=!0;var n=i("woOf"),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=a.default||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}},Dg5Q:function(e,t,i){"use strict";function n(e,t,i,a,o,s){this.primitives=e,this.classificationType=t,this.appearanceType=i,this.materialProperty=a,this.updaters=new r.a,this.createPrimitive=!0,this.primitive=void 0,this.oldPrimitive=void 0,this.geometry=new r.a,this.material=void 0,this.updatersWithAttributes=new r.a,this.attributes=new r.a,this.invalidated=!1,this.removeMaterialSubscription=a.definitionChanged.addEventListener(n.prototype.onMaterialChanged,this),this.subscriptions=new r.a,this.showsUpdated=new r.a,this.usingSphericalTextureCoordinates=o,this.zIndex=s,this.rectangleCollisionCheck=new l.a}function a(e,t,i){this._items=[],this._primitives=e,this._classificationType=t,this._appearanceType=i}var r=i("7uRt"),o=i("xC6Q"),s=i("2d28"),c=i("2kyc"),l=i("1+Ai"),u=i("zSqc"),h=i("zGMv"),d=i("W66u"),f=i("P+tD"),p=i("I5FW"),m=i("7xsx"),g=i("uhjI"),_=new s.a,v=new s.a;n.prototype.onMaterialChanged=function(){this.invalidated=!0},n.prototype.overlapping=function(e){return this.rectangleCollisionCheck.collides(e)},n.prototype.isMaterial=function(e){var t=this.materialProperty,i=e.fillMaterialProperty;return i===t||i instanceof p.a&&t instanceof p.a||Object(o.a)(t)&&t.equals(i)},n.prototype.add=function(e,t,i){var n=t.id;if(this.updaters.set(n,t),this.geometry.set(n,i),this.rectangleCollisionCheck.insert(n,i.geometry.rectangle),t.hasConstantFill&&t.fillMaterialProperty.isConstant&&g.a.isConstant(t.distanceDisplayConditionProperty)){var a=this;this.subscriptions.set(n,t.entity.definitionChanged.addEventListener(function(e,i,n,r){"isShowing"===i&&a.showsUpdated.set(t.id,t)}))}else this.updatersWithAttributes.set(n,t);this.createPrimitive=!0},n.prototype.remove=function(e){var t=e.id,i=this.geometry.get(t);if(this.createPrimitive=this.geometry.remove(t)||this.createPrimitive,this.updaters.remove(t)){this.rectangleCollisionCheck.remove(t,i.geometry.rectangle),this.updatersWithAttributes.remove(t);var n=this.subscriptions.get(t);return Object(o.a)(n)&&(n(),this.subscriptions.remove(t)),!0}return!1},n.prototype.update=function(e){var t,i=!0,n=this.primitive,a=this.primitives,r=this.geometry.values;if(this.createPrimitive){if(r.length>0)Object(o.a)(n)&&(Object(o.a)(this.oldPrimitive)?a.remove(n):this.oldPrimitive=n),this.material=m.a.getValue(e,this.materialProperty,this.material),n=new h.a({show:!1,asynchronous:!0,geometryInstances:r.slice(),appearance:new this.appearanceType({material:this.material}),classificationType:this.classificationType}),a.add(n,this.zIndex),i=!1;else{Object(o.a)(n)&&(a.remove(n),n=void 0);var l=this.oldPrimitive;Object(o.a)(l)&&(a.remove(l),this.oldPrimitive=void 0)}this.attributes.removeAll(),this.primitive=n,this.createPrimitive=!1}else if(Object(o.a)(n)&&n.ready){n.show=!0,Object(o.a)(this.oldPrimitive)&&(a.remove(this.oldPrimitive),this.oldPrimitive=void 0),this.material=m.a.getValue(e,this.materialProperty,this.material),this.primitive.appearance.material=this.material;var d=this.updatersWithAttributes.values,f=d.length;for(t=0;t<f;t++){var p=d[t],b=p.entity,y=this.geometry.get(p.id),O=this.attributes.get(y.id.id);Object(o.a)(O)||(O=n.getGeometryInstanceAttributes(y.id),this.attributes.set(y.id.id,O));var w=b.isShowing&&(p.hasConstantFill||p.isFilled(e)),x=1===O.show[0];w!==x&&(O.show=u.a.toValue(w,O.show));var E=p.distanceDisplayConditionProperty;if(!g.a.isConstant(E)){var T=g.a.getValueOrDefault(E,e,v,_);s.a.equals(T,O._lastDistanceDisplayCondition)||(O._lastDistanceDisplayCondition=s.a.clone(T,O._lastDistanceDisplayCondition),O.distanceDisplayCondition=c.a.toValue(T,O.distanceDisplayCondition))}}this.updateShows(n)}else Object(o.a)(n)&&!n.ready&&(i=!1);return i},n.prototype.updateShows=function(e){for(var t=this.showsUpdated.values,i=t.length,n=0;n<i;n++){var a=t[n],r=a.entity,s=this.geometry.get(a.id),c=this.attributes.get(s.id.id);Object(o.a)(c)||(c=e.getGeometryInstanceAttributes(s.id),this.attributes.set(s.id.id,c));var l=r.isShowing;l!==(1===c.show[0])&&(c.show=u.a.toValue(l,c.show),s.attributes.show.value[0]=c.show[0])}this.showsUpdated.removeAll()},n.prototype.contains=function(e){return this.updaters.contains(e.id)},n.prototype.getBoundingSphere=function(e,t){var i=this.primitive;if(!i.ready)return f.a.PENDING;var n=i.getGeometryInstanceAttributes(e.entity);return!Object(o.a)(n)||!Object(o.a)(n.boundingSphere)||Object(o.a)(n.show)&&0===n.show[0]?f.a.FAILED:(n.boundingSphere.clone(t),f.a.DONE)},n.prototype.destroy=function(){var e=this.primitive,t=this.primitives;Object(o.a)(e)&&t.remove(e);var i=this.oldPrimitive;Object(o.a)(i)&&t.remove(i),this.removeMaterialSubscription()},a.prototype.add=function(e,t){for(var i=this._items,a=i.length,r=t.createFillGeometryInstance(e),o=d.a.shouldUseSphericalCoordinates(r.geometry.rectangle),s=g.a.getValueOrDefault(t.zIndex,0),c=0;c<a;++c){var l=i[c];if(l.isMaterial(t)&&l.usingSphericalTextureCoordinates===o&&l.zIndex===s&&!l.overlapping(r.geometry.rectangle))return void l.add(e,t,r)}var u=new n(this._primitives,this._classificationType,this._appearanceType,t.fillMaterialProperty,o,s);u.add(e,t,r),i.push(u)},a.prototype.remove=function(e){for(var t=this._items,i=t.length,n=i-1;n>=0;n--){var a=t[n];if(a.remove(e)){0===a.updaters.length&&(t.splice(n,1),a.destroy());break}}},a.prototype.update=function(e){var t,i=this._items,n=i.length;for(t=n-1;t>=0;t--){var a=i[t];if(a.invalidated){i.splice(t,1);for(var r=a.updaters.values,o=r.length,s=0;s<o;s++)this.add(e,r[s]);a.destroy()}}var c=!0;for(t=0;t<i.length;t++)c=i[t].update(e)&&c;return c},a.prototype.getBoundingSphere=function(e,t){for(var i=this._items,n=i.length,a=0;a<n;a++){var r=i[a];if(r.contains(e))return r.getBoundingSphere(e,t)}return f.a.FAILED},a.prototype.removeAllPrimitives=function(){for(var e=this._items,t=e.length,i=0;i<t;i++)e[i].destroy();this._items.length=0},t.a=a},DrvA:function(e,t,i){"use strict";function n(e){return e===I.a.FUNC_ADD||e===I.a.FUNC_SUBTRACT||e===I.a.FUNC_REVERSE_SUBTRACT||e===I.a.MIN||e===I.a.MAX}function a(e){return e===I.a.ZERO||e===I.a.ONE||e===I.a.SRC_COLOR||e===I.a.ONE_MINUS_SRC_COLOR||e===I.a.DST_COLOR||e===I.a.ONE_MINUS_DST_COLOR||e===I.a.SRC_ALPHA||e===I.a.ONE_MINUS_SRC_ALPHA||e===I.a.DST_ALPHA||e===I.a.ONE_MINUS_DST_ALPHA||e===I.a.CONSTANT_COLOR||e===I.a.ONE_MINUS_CONSTANT_COLOR||e===I.a.CONSTANT_ALPHA||e===I.a.ONE_MINUS_CONSTANT_ALPHA||e===I.a.SRC_ALPHA_SATURATE}function r(e){return e===I.a.FRONT||e===I.a.BACK||e===I.a.FRONT_AND_BACK}function o(e){return e===I.a.NEVER||e===I.a.LESS||e===I.a.EQUAL||e===I.a.LEQUAL||e===I.a.GREATER||e===I.a.NOTEQUAL||e===I.a.GEQUAL||e===I.a.ALWAYS}function s(e){return e===I.a.NEVER||e===I.a.LESS||e===I.a.EQUAL||e===I.a.LEQUAL||e===I.a.GREATER||e===I.a.NOTEQUAL||e===I.a.GEQUAL||e===I.a.ALWAYS}function c(e){return e===I.a.ZERO||e===I.a.KEEP||e===I.a.REPLACE||e===I.a.INCR||e===I.a.DECR||e===I.a.INVERT||e===I.a.INCR_WRAP||e===I.a.DECR_WRAP}function l(e){var t=Object(j.a)(e,j.a.EMPTY_OBJECT),i=Object(j.a)(t.cull,j.a.EMPTY_OBJECT),l=Object(j.a)(t.polygonOffset,j.a.EMPTY_OBJECT),u=Object(j.a)(t.scissorTest,j.a.EMPTY_OBJECT),h=Object(j.a)(u.rectangle,j.a.EMPTY_OBJECT),d=Object(j.a)(t.depthRange,j.a.EMPTY_OBJECT),f=Object(j.a)(t.depthTest,j.a.EMPTY_OBJECT),p=Object(j.a)(t.colorMask,j.a.EMPTY_OBJECT),m=Object(j.a)(t.blending,j.a.EMPTY_OBJECT),g=Object(j.a)(m.color,j.a.EMPTY_OBJECT),_=Object(j.a)(t.stencilTest,j.a.EMPTY_OBJECT),v=Object(j.a)(_.frontOperation,j.a.EMPTY_OBJECT),b=Object(j.a)(_.backOperation,j.a.EMPTY_OBJECT),y=Object(j.a)(t.sampleCoverage,j.a.EMPTY_OBJECT),O=t.viewport;if(this.frontFace=Object(j.a)(t.frontFace,R.a.COUNTER_CLOCKWISE),this.cull={enabled:Object(j.a)(i.enabled,!1),face:Object(j.a)(i.face,I.a.BACK)},this.lineWidth=Object(j.a)(t.lineWidth,1),this.polygonOffset={enabled:Object(j.a)(l.enabled,!1),factor:Object(j.a)(l.factor,0),units:Object(j.a)(l.units,0)},this.scissorTest={enabled:Object(j.a)(u.enabled,!1),rectangle:C.a.clone(h)},this.depthRange={near:Object(j.a)(d.near,0),far:Object(j.a)(d.far,1)},this.depthTest={enabled:Object(j.a)(f.enabled,!1),func:Object(j.a)(f.func,I.a.LESS)},this.colorMask={red:Object(j.a)(p.red,!0),green:Object(j.a)(p.green,!0),blue:Object(j.a)(p.blue,!0),alpha:Object(j.a)(p.alpha,!0)},this.depthMask=Object(j.a)(t.depthMask,!0),this.stencilMask=Object(j.a)(t.stencilMask,-1),this.blending={enabled:Object(j.a)(m.enabled,!1),color:new S.a(Object(j.a)(g.red,0),Object(j.a)(g.green,0),Object(j.a)(g.blue,0),Object(j.a)(g.alpha,0)),equationRgb:Object(j.a)(m.equationRgb,I.a.FUNC_ADD),equationAlpha:Object(j.a)(m.equationAlpha,I.a.FUNC_ADD),functionSourceRgb:Object(j.a)(m.functionSourceRgb,I.a.ONE),functionSourceAlpha:Object(j.a)(m.functionSourceAlpha,I.a.ONE),functionDestinationRgb:Object(j.a)(m.functionDestinationRgb,I.a.ZERO),functionDestinationAlpha:Object(j.a)(m.functionDestinationAlpha,I.a.ZERO)},this.stencilTest={enabled:Object(j.a)(_.enabled,!1),frontFunction:Object(j.a)(_.frontFunction,I.a.ALWAYS),backFunction:Object(j.a)(_.backFunction,I.a.ALWAYS),reference:Object(j.a)(_.reference,0),mask:Object(j.a)(_.mask,-1),frontOperation:{fail:Object(j.a)(v.fail,I.a.KEEP),zFail:Object(j.a)(v.zFail,I.a.KEEP),zPass:Object(j.a)(v.zPass,I.a.KEEP)},backOperation:{fail:Object(j.a)(b.fail,I.a.KEEP),zFail:Object(j.a)(b.zFail,I.a.KEEP),zPass:Object(j.a)(b.zPass,I.a.KEEP)}},this.sampleCoverage={enabled:Object(j.a)(y.enabled,!1),value:Object(j.a)(y.value,1),invert:Object(j.a)(y.invert,!1)},this.viewport=Object(P.a)(O)?new C.a(O.x,O.y,O.width,O.height):void 0,this.lineWidth<M.a.minimumAliasedLineWidth||this.lineWidth>M.a.maximumAliasedLineWidth)throw new D.a("renderState.lineWidth is out of range.  Check minimumAliasedLineWidth and maximumAliasedLineWidth.");if(!R.a.validate(this.frontFace))throw new D.a("Invalid renderState.frontFace.");if(!r(this.cull.face))throw new D.a("Invalid renderState.cull.face.");if(this.scissorTest.rectangle.width<0||this.scissorTest.rectangle.height<0)throw new D.a("renderState.scissorTest.rectangle.width and renderState.scissorTest.rectangle.height must be greater than or equal to zero.");if(this.depthRange.near>this.depthRange.far)throw new D.a("renderState.depthRange.near can not be greater than renderState.depthRange.far.");if(this.depthRange.near<0)throw new D.a("renderState.depthRange.near must be greater than or equal to zero.");if(this.depthRange.far>1)throw new D.a("renderState.depthRange.far must be less than or equal to one.");if(!o(this.depthTest.func))throw new D.a("Invalid renderState.depthTest.func.");if(this.blending.color.red<0||this.blending.color.red>1||this.blending.color.green<0||this.blending.color.green>1||this.blending.color.blue<0||this.blending.color.blue>1||this.blending.color.alpha<0||this.blending.color.alpha>1)throw new D.a("renderState.blending.color components must be greater than or equal to zero and less than or equal to one.");if(!n(this.blending.equationRgb))throw new D.a("Invalid renderState.blending.equationRgb.");if(!n(this.blending.equationAlpha))throw new D.a("Invalid renderState.blending.equationAlpha.");if(!a(this.blending.functionSourceRgb))throw new D.a("Invalid renderState.blending.functionSourceRgb.");if(!a(this.blending.functionSourceAlpha))throw new D.a("Invalid renderState.blending.functionSourceAlpha.");if(!a(this.blending.functionDestinationRgb))throw new D.a("Invalid renderState.blending.functionDestinationRgb.");if(!a(this.blending.functionDestinationAlpha))throw new D.a("Invalid renderState.blending.functionDestinationAlpha.");if(!s(this.stencilTest.frontFunction))throw new D.a("Invalid renderState.stencilTest.frontFunction.");if(!s(this.stencilTest.backFunction))throw new D.a("Invalid renderState.stencilTest.backFunction.");if(!c(this.stencilTest.frontOperation.fail))throw new D.a("Invalid renderState.stencilTest.frontOperation.fail.");if(!c(this.stencilTest.frontOperation.zFail))throw new D.a("Invalid renderState.stencilTest.frontOperation.zFail.");if(!c(this.stencilTest.frontOperation.zPass))throw new D.a("Invalid renderState.stencilTest.frontOperation.zPass.");if(!c(this.stencilTest.backOperation.fail))throw new D.a("Invalid renderState.stencilTest.backOperation.fail.");if(!c(this.stencilTest.backOperation.zFail))throw new D.a("Invalid renderState.stencilTest.backOperation.zFail.");if(!c(this.stencilTest.backOperation.zPass))throw new D.a("Invalid renderState.stencilTest.backOperation.zPass.");if(Object(P.a)(this.viewport)){if(this.viewport.width<0)throw new D.a("renderState.viewport.width must be greater than or equal to zero.");if(this.viewport.height<0)throw new D.a("renderState.viewport.height must be greater than or equal to zero.");if(this.viewport.width>M.a.maximumViewportWidth)throw new D.a("renderState.viewport.width must be less than or equal to the maximum viewport width ("+M.a.maximumViewportWidth.toString()+").  Check maximumViewportWidth.");if(this.viewport.height>M.a.maximumViewportHeight)throw new D.a("renderState.viewport.height must be less than or equal to the maximum viewport height ("+M.a.maximumViewportHeight.toString()+").  Check maximumViewportHeight.")}this.id=0,this._applyFunctions=[]}function u(e,t,i){i?e.enable(t):e.disable(t)}function h(e,t){e.frontFace(t.frontFace)}function d(e,t){var i=t.cull,n=i.enabled;u(e,e.CULL_FACE,n),n&&e.cullFace(i.face)}function f(e,t){e.lineWidth(t.lineWidth)}function p(e,t){var i=t.polygonOffset,n=i.enabled;u(e,e.POLYGON_OFFSET_FILL,n),n&&e.polygonOffset(i.factor,i.units)}function m(e,t,i){var n=t.scissorTest,a=Object(P.a)(i.scissorTest)?i.scissorTest.enabled:n.enabled;if(u(e,e.SCISSOR_TEST,a),a){var r=Object(P.a)(i.scissorTest)?i.scissorTest.rectangle:n.rectangle;e.scissor(r.x,r.y,r.width,r.height)}}function g(e,t){var i=t.depthRange;e.depthRange(i.near,i.far)}function _(e,t){var i=t.depthTest,n=i.enabled;u(e,e.DEPTH_TEST,n),n&&e.depthFunc(i.func)}function v(e,t){var i=t.colorMask;e.colorMask(i.red,i.green,i.blue,i.alpha)}function b(e,t){e.depthMask(t.depthMask)}function y(e,t){e.stencilMask(t.stencilMask)}function O(e,t){e.blendColor(t.red,t.green,t.blue,t.alpha)}function w(e,t,i){var n=t.blending,a=Object(P.a)(i.blendingEnabled)?i.blendingEnabled:n.enabled;u(e,e.BLEND,a),a&&(O(e,n.color),e.blendEquationSeparate(n.equationRgb,n.equationAlpha),e.blendFuncSeparate(n.functionSourceRgb,n.functionDestinationRgb,n.functionSourceAlpha,n.functionDestinationAlpha))}function x(e,t){var i=t.stencilTest,n=i.enabled;if(u(e,e.STENCIL_TEST,n),n){var a=i.frontFunction,r=i.backFunction,o=i.reference,s=i.mask;e.stencilFunc(a,o,s),e.stencilFuncSeparate(e.BACK,r,o,s),e.stencilFuncSeparate(e.FRONT,a,o,s);var c=i.frontOperation,l=c.fail,h=c.zFail,d=c.zPass;e.stencilOpSeparate(e.FRONT,l,h,d);var f=i.backOperation,p=f.fail,m=f.zFail,g=f.zPass;e.stencilOpSeparate(e.BACK,p,m,g)}}function E(e,t){var i=t.sampleCoverage,n=i.enabled;u(e,e.SAMPLE_COVERAGE,n),n&&e.sampleCoverage(i.value,i.invert)}function T(e,t,i){var n=Object(j.a)(t.viewport,i.viewport);Object(P.a)(n)||(n=z,n.width=i.context.drawingBufferWidth,n.height=i.context.drawingBufferHeight),i.context.uniformState.viewport=n,e.viewport(n.x,n.y,n.width,n.height)}function A(e,t){var i=[];return e.frontFace!==t.frontFace&&i.push(h),e.cull.enabled===t.cull.enabled&&e.cull.face===t.cull.face||i.push(d),e.lineWidth!==t.lineWidth&&i.push(f),e.polygonOffset.enabled===t.polygonOffset.enabled&&e.polygonOffset.factor===t.polygonOffset.factor&&e.polygonOffset.units===t.polygonOffset.units||i.push(p),e.depthRange.near===t.depthRange.near&&e.depthRange.far===t.depthRange.far||i.push(g),e.depthTest.enabled===t.depthTest.enabled&&e.depthTest.func===t.depthTest.func||i.push(_),e.colorMask.red===t.colorMask.red&&e.colorMask.green===t.colorMask.green&&e.colorMask.blue===t.colorMask.blue&&e.colorMask.alpha===t.colorMask.alpha||i.push(v),e.depthMask!==t.depthMask&&i.push(b),e.stencilMask!==t.stencilMask&&i.push(y),e.stencilTest.enabled===t.stencilTest.enabled&&e.stencilTest.frontFunction===t.stencilTest.frontFunction&&e.stencilTest.backFunction===t.stencilTest.backFunction&&e.stencilTest.reference===t.stencilTest.reference&&e.stencilTest.mask===t.stencilTest.mask&&e.stencilTest.frontOperation.fail===t.stencilTest.frontOperation.fail&&e.stencilTest.frontOperation.zFail===t.stencilTest.frontOperation.zFail&&e.stencilTest.backOperation.fail===t.stencilTest.backOperation.fail&&e.stencilTest.backOperation.zFail===t.stencilTest.backOperation.zFail&&e.stencilTest.backOperation.zPass===t.stencilTest.backOperation.zPass||i.push(x),e.sampleCoverage.enabled===t.sampleCoverage.enabled&&e.sampleCoverage.value===t.sampleCoverage.value&&e.sampleCoverage.invert===t.sampleCoverage.invert||i.push(E),i}var C=i("or8k"),S=i("6F0S"),j=i("5A4e"),P=i("xC6Q"),D=i("PzDm"),I=i("1L1F"),R=i("+snP"),M=i("J1no"),L=i("00Ds"),N=0,F={};l.fromCache=function(e){var t=JSON.stringify(e),i=F[t];if(Object(P.a)(i))return++i.referenceCount,i.state;var n=new l(e),a=JSON.stringify(n);return i=F[a],Object(P.a)(i)||(n.id=N++,n=Object(L.a)(n),i={referenceCount:0,state:n},F[a]=i),++i.referenceCount,F[t]={referenceCount:1,state:i.state},i.state},l.removeFromCache=function(e){var t=new l(e),i=JSON.stringify(t),n=F[i],a=JSON.stringify(e),r=F[a];Object(P.a)(r)&&0===--r.referenceCount&&(delete F[a],Object(P.a)(n)&&--n.referenceCount),Object(P.a)(n)&&0===n.referenceCount&&delete F[i]},l.getCache=function(){return F},l.clearCache=function(){F={}};var z=new C.a;l.apply=function(e,t,i){h(e,t),d(e,t),f(e,t),p(e,t),g(e,t),_(e,t),v(e,t),b(e,t),y(e,t),x(e,t),E(e,t),m(e,t,i),w(e,t,i),T(e,t,i)},l.partialApply=function(e,t,i,n,a,r){if(t!==i){var o=i._applyFunctions[t.id];Object(P.a)(o)||(o=A(t,i),i._applyFunctions[t.id]=o);for(var s=o.length,c=0;c<s;++c)o[c](e,i)}((Object(P.a)(n.scissorTest)?n.scissorTest:t.scissorTest)!==(Object(P.a)(a.scissorTest)?a.scissorTest:i.scissorTest)||r)&&m(e,i,a);var l=Object(P.a)(n.blendingEnabled)?n.blendingEnabled:t.blending.enabled,u=Object(P.a)(a.blendingEnabled)?a.blendingEnabled:i.blending.enabled;(l!==u||u&&t.blending!==i.blending)&&w(e,i,a),t===i&&n===a&&n.context===a.context||T(e,i,a)},l.getState=function(e){if(!Object(P.a)(e))throw new D.a("renderState is required.");return{frontFace:e.frontFace,cull:{enabled:e.cull.enabled,face:e.cull.face},lineWidth:e.lineWidth,polygonOffset:{enabled:e.polygonOffset.enabled,factor:e.polygonOffset.factor,units:e.polygonOffset.units},scissorTest:{enabled:e.scissorTest.enabled,rectangle:C.a.clone(e.scissorTest.rectangle)},depthRange:{near:e.depthRange.near,far:e.depthRange.far},depthTest:{enabled:e.depthTest.enabled,func:e.depthTest.func},colorMask:{red:e.colorMask.red,green:e.colorMask.green,blue:e.colorMask.blue,alpha:e.colorMask.alpha},depthMask:e.depthMask,stencilMask:e.stencilMask,blending:{enabled:e.blending.enabled,color:S.a.clone(e.blending.color),equationRgb:e.blending.equationRgb,equationAlpha:e.blending.equationAlpha,functionSourceRgb:e.blending.functionSourceRgb,functionSourceAlpha:e.blending.functionSourceAlpha,functionDestinationRgb:e.blending.functionDestinationRgb,functionDestinationAlpha:e.blending.functionDestinationAlpha},stencilTest:{enabled:e.stencilTest.enabled,frontFunction:e.stencilTest.frontFunction,backFunction:e.stencilTest.backFunction,reference:e.stencilTest.reference,mask:e.stencilTest.mask,frontOperation:{fail:e.stencilTest.frontOperation.fail,zFail:e.stencilTest.frontOperation.zFail,zPass:e.stencilTest.frontOperation.zPass},backOperation:{fail:e.stencilTest.backOperation.fail,zFail:e.stencilTest.backOperation.zFail,zPass:e.stencilTest.backOperation.zPass}},sampleCoverage:{enabled:e.sampleCoverage.enabled,value:e.sampleCoverage.value,invert:e.sampleCoverage.invert},viewport:Object(P.a)(e.viewport)?C.a.clone(e.viewport):void 0}},t.a=l},DsDe:function(e,t,i){"use strict";var n=i("9Uqs"),a=i("tQPh"),r=Object.freeze(n.a.fromIso8601("0000-01-01T00:00:00Z")),o=Object.freeze(n.a.fromIso8601("9999-12-31T24:00:00Z")),s=Object.freeze(new a.a({start:r,stop:o})),c={MINIMUM_VALUE:r,MAXIMUM_VALUE:o,MAXIMUM_INTERVAL:s};t.a=c},DsFX:function(e,t,i){"use strict";function n(e){if(!(this instanceof n))return new n(e);l.call(this,e),u.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",a)}function a(){this.allowHalfOpen||this._writableState.ended||o.nextTick(r,this)}function r(e){e.end()}var o=i("ypnx"),s=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=n;var c=Object.create(i("jOgh"));c.inherits=i("LC74");var l=i("Rt1F"),u=i("7dSG");c.inherits(n,l);for(var h=s(u.prototype),d=0;d<h.length;d++){var f=h[d];n.prototype[f]||(n.prototype[f]=u.prototype[f])}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),n.prototype._destroy=function(e,t){this.push(null),this.end(),o.nextTick(t,e)}},DuR2:function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},Dw7b:function(e,t,i){"use strict";function n(e,t,i){i=i||2;var n=t&&t.length,r=n?t[0]*i:e.length,s=a(e,0,r,i,!0),c=[];if(!s||s.next===s.prev)return c;var l,u,d,f,p,m,g;if(n&&(s=h(e,t,s,i)),e.length>80*i){l=d=e[0],u=f=e[1];for(var _=i;_<r;_+=i)p=e[_],m=e[_+1],p<l&&(l=p),m<u&&(u=m),p>d&&(d=p),m>f&&(f=m);g=Math.max(d-l,f-u),g=0!==g?1/g:0}return o(s,c,i,l,u,g),c}function a(e,t,i,n,a){var r,o;if(a===M(e,t,i,n)>0)for(r=t;r<i;r+=n)o=D(r,e[r],e[r+1],o);else for(r=i-n;r>=t;r-=n)o=D(r,e[r],e[r+1],o);return o&&x(o,o.next)&&(I(o),o=o.next),o}function r(e,t){if(!e)return e;t||(t=e);var i,n=e;do{if(i=!1,n.steiner||!x(n,n.next)&&0!==w(n.prev,n,n.next))n=n.next;else{if(I(n),(n=t=n.prev)===n.next)break;i=!0}}while(i||n!==t);return t}function o(e,t,i,n,a,h,d){if(e){!d&&h&&g(e,n,a,h);for(var f,p,m=e;e.prev!==e.next;)if(f=e.prev,p=e.next,h?c(e,n,a,h):s(e))t.push(f.i/i),t.push(e.i/i),t.push(p.i/i),I(e),e=p.next,m=p.next;else if((e=p)===m){d?1===d?(e=l(r(e),t,i),o(e,t,i,n,a,h,2)):2===d&&u(e,t,i,n,a,h):o(r(e),t,i,n,a,h,1);break}}}function s(e){var t=e.prev,i=e,n=e.next;if(w(t,i,n)>=0)return!1;for(var a=e.next.next;a!==e.prev;){if(y(t.x,t.y,i.x,i.y,n.x,n.y,a.x,a.y)&&w(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function c(e,t,i,n){var a=e.prev,r=e,o=e.next;if(w(a,r,o)>=0)return!1;for(var s=a.x<r.x?a.x<o.x?a.x:o.x:r.x<o.x?r.x:o.x,c=a.y<r.y?a.y<o.y?a.y:o.y:r.y<o.y?r.y:o.y,l=a.x>r.x?a.x>o.x?a.x:o.x:r.x>o.x?r.x:o.x,u=a.y>r.y?a.y>o.y?a.y:o.y:r.y>o.y?r.y:o.y,h=v(s,c,t,i,n),d=v(l,u,t,i,n),f=e.prevZ,p=e.nextZ;f&&f.z>=h&&p&&p.z<=d;){if(f!==e.prev&&f!==e.next&&y(a.x,a.y,r.x,r.y,o.x,o.y,f.x,f.y)&&w(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&y(a.x,a.y,r.x,r.y,o.x,o.y,p.x,p.y)&&w(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=h;){if(f!==e.prev&&f!==e.next&&y(a.x,a.y,r.x,r.y,o.x,o.y,f.x,f.y)&&w(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&y(a.x,a.y,r.x,r.y,o.x,o.y,p.x,p.y)&&w(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function l(e,t,i){var n=e;do{var a=n.prev,o=n.next.next;!x(a,o)&&E(a,n,n.next,o)&&S(a,o)&&S(o,a)&&(t.push(a.i/i),t.push(n.i/i),t.push(o.i/i),I(n),I(n.next),n=e=o),n=n.next}while(n!==e);return r(n)}function u(e,t,i,n,a,s){var c=e;do{for(var l=c.next.next;l!==c.prev;){if(c.i!==l.i&&O(c,l)){var u=P(c,l);return c=r(c,c.next),u=r(u,u.next),o(c,t,i,n,a,s),void o(u,t,i,n,a,s)}l=l.next}c=c.next}while(c!==e)}function h(e,t,i,n){var o,s,c,l,u,h=[];for(o=0,s=t.length;o<s;o++)c=t[o]*n,l=o<s-1?t[o+1]*n:e.length,u=a(e,c,l,n,!1),u===u.next&&(u.steiner=!0),h.push(b(u));for(h.sort(d),o=0;o<h.length;o++)f(h[o],i),i=r(i,i.next);return i}function d(e,t){return e.x-t.x}function f(e,t){if(t=p(e,t)){var i=P(t,e);r(i,i.next)}}function p(e,t){var i,n=t,a=e.x,r=e.y,o=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){var s=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=a&&s>o){if(o=s,s===a){if(r===n.y)return n;if(r===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!i)return null;if(a===o)return i;var c,l=i,u=i.x,h=i.y,d=1/0;n=i;do{a>=n.x&&n.x>=u&&a!==n.x&&y(r<h?a:o,r,u,h,r<h?o:a,r,n.x,n.y)&&(c=Math.abs(r-n.y)/(a-n.x),S(n,e)&&(c<d||c===d&&(n.x>i.x||n.x===i.x&&m(i,n)))&&(i=n,d=c)),n=n.next}while(n!==l);return i}function m(e,t){return w(e.prev,e,t.prev)<0&&w(t.next,e,e.next)<0}function g(e,t,i,n){var a=e;do{null===a.z&&(a.z=v(a.x,a.y,t,i,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,_(a)}function _(e){var t,i,n,a,r,o,s,c,l=1;do{for(i=e,e=null,r=null,o=0;i;){for(o++,n=i,s=0,t=0;t<l&&(s++,n=n.nextZ);t++);for(c=l;s>0||c>0&&n;)0!==s&&(0===c||!n||i.z<=n.z)?(a=i,i=i.nextZ,s--):(a=n,n=n.nextZ,c--),r?r.nextZ=a:e=a,a.prevZ=r,r=a;i=n}r.nextZ=null,l*=2}while(o>1);return e}function v(e,t,i,n,a){return e=32767*(e-i)*a,t=32767*(t-n)*a,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function b(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function y(e,t,i,n,a,r,o,s){return(a-o)*(t-s)-(e-o)*(r-s)>=0&&(e-o)*(n-s)-(i-o)*(t-s)>=0&&(i-o)*(r-s)-(a-o)*(n-s)>=0}function O(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!C(e,t)&&(S(e,t)&&S(t,e)&&j(e,t)&&(w(e.prev,e,t.prev)||w(e,t.prev,t))||x(e,t)&&w(e.prev,e,e.next)>0&&w(t.prev,t,t.next)>0)}function w(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function x(e,t){return e.x===t.x&&e.y===t.y}function E(e,t,i,n){var a=A(w(e,t,i)),r=A(w(e,t,n)),o=A(w(i,n,e)),s=A(w(i,n,t));return a!==r&&o!==s||(!(0!==a||!T(e,i,t))||(!(0!==r||!T(e,n,t))||(!(0!==o||!T(i,e,n))||!(0!==s||!T(i,t,n)))))}function T(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function A(e){return e>0?1:e<0?-1:0}function C(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&E(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}function S(e,t){return w(e.prev,e,e.next)<0?w(e,t,e.next)>=0&&w(e,e.prev,t)>=0:w(e,t,e.prev)<0||w(e,e.next,t)<0}function j(e,t){var i=e,n=!1,a=(e.x+t.x)/2,r=(e.y+t.y)/2;do{i.y>r!=i.next.y>r&&i.next.y!==i.y&&a<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==e);return n}function P(e,t){var i=new R(e.i,e.x,e.y),n=new R(t.i,t.x,t.y),a=e.next,r=t.prev;return e.next=t,t.prev=e,i.next=a,a.prev=i,n.next=i,i.prev=n,r.next=n,n.prev=r,n}function D(e,t,i,n){var a=new R(e,t,i);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function I(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function R(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function M(e,t,i,n){for(var a=0,r=t,o=i-n;r<i;r+=n)a+=(e[o]-e[r])*(e[r+1]+e[o+1]),o=r;return a}n.deviation=function(e,t,i,n){var a=t&&t.length,r=a?t[0]*i:e.length,o=Math.abs(M(e,0,r,i));if(a)for(var s=0,c=t.length;s<c;s++){var l=t[s]*i,u=s<c-1?t[s+1]*i:e.length;o-=Math.abs(M(e,l,u,i))}var h=0;for(s=0;s<n.length;s+=3){var d=n[s]*i,f=n[s+1]*i,p=n[s+2]*i;h+=Math.abs((e[d]-e[p])*(e[f+1]-e[d+1])-(e[d]-e[f])*(e[p+1]-e[d+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},n.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},n=0,a=0;a<e.length;a++){for(var r=0;r<e[a].length;r++)for(var o=0;o<t;o++)i.vertices.push(e[a][r][o]);a>0&&(n+=e[a-1].length,i.holes.push(n))}return i},t.a=n},"E+a9":function(e,t,i){"use strict";function n(e){e=Object(K.a)(e,K.a.EMPTY_OBJECT);var t=e.canvas,i=e.creditContainer,n=e.creditViewport,a=Object(Y.a)(e.contextOptions);if(Object($.a)(a)||(a={}),Object($.a)(a.webgl)||(a.webgl={}),a.webgl.powerPreference=Object(K.a)(a.webgl.powerPreference,"high-performance"),!Object($.a)(t))throw new ie.a("options and options.canvas are required.");var r=Object($.a)(i),o=new xe.a(t,a);r||(i=document.createElement("div"),i.style.position="absolute",i.style.bottom="0",i.style["text-shadow"]="0 0 2px #000000",i.style.color="#ffffff",i.style["font-size"]="10px",i.style["padding-right"]="5px",t.parentNode.appendChild(i)),Object($.a)(n)||(n=t.parentNode),this._id=Object(J.a)(),this._jobScheduler=new He.a,this._frameState=new ke.a(o,new Me.a(i," • ",n),this._jobScheduler),this._frameState.scene3DOnly=Object(K.a)(e.scene3DOnly,!1),this._removeCreditContainer=!r,this._creditContainer=i,this._canvas=t,this._context=o,this._computeEngine=new we.a(o),this._globe=void 0,this._primitives=new Ze.a,this._groundPrimitives=new Ze.a,this._logDepthBuffer=o.fragmentDepth,this._logDepthBufferDirty=!0,this._tweens=new ot.a,this._shaderFrameCount=0,this._sunPostProcess=void 0,this._computeCommandList=[],this._overlayCommandList=[],this._useOIT=Object(K.a)(e.orderIndependentTranslucency,!0),this._executeOITFunction=void 0,this._depthPlane=new Ne.a,this._clearColorCommand=new Oe.a({color:new X.a,stencil:0,owner:this}),this._depthClearCommand=new Oe.a({depth:1,owner:this}),this._stencilClearCommand=new Oe.a({stencil:0}),this._classificationStencilClearCommand=new Oe.a({stencil:0,renderState:Ce.a.fromCache({stencilMask:nt.a.CLASSIFICATION_MASK})}),this._depthOnlyRenderStateCache={},this._transitioner=new et.a(this),this._preUpdate=new ae.a,this._postUpdate=new ae.a,this._renderError=new ae.a,this._preRender=new ae.a,this._postRender=new ae.a,this._minimumDisableDepthTestDistance=0,this.rethrowRenderErrors=!1,this.completeMorphOnUserInput=!0,this.morphStart=new ae.a,this.morphComplete=new ae.a,this.skyBox=void 0,this.skyAtmosphere=void 0,this.sun=void 0,this.sunBloom=!0,this._sunBloom=void 0,this.moon=void 0,this.backgroundColor=X.a.clone(X.a.BLACK),this._mode=Ke.a.SCENE3D,this._mapProjection=Object($.a)(e.mapProjection)?e.mapProjection:new re.a,this.morphTime=1,this.farToNearRatio=1e3,this.logarithmicDepthFarToNearRatio=1e9,this.nearToFarDistance2D=175e4,this.debugCommandFilter=void 0,this.debugShowCommands=!1,this.debugShowFrustums=!1,this.debugShowFramesPerSecond=!1,this.debugShowGlobeDepth=!1,this.debugShowDepthFrustum=1,this.debugShowFrustumPlanes=!1,this._debugShowFrustumPlanes=!1,this._debugFrustumPlanes=void 0,this.useDepthPicking=!0,this.pickTranslucentDepth=!1,this.cameraEventWaitTime=500,this.fog=new Be.a,this._shadowMapCamera=new De.a(this),this.shadowMap=new it.a({context:o,lightCamera:this._shadowMapCamera,enabled:Object(K.a)(e.shadows,!1)}),this.invertClassification=!1,this.invertClassificationColor=X.a.clone(X.a.WHITE),this._actualInvertClassificationColor=X.a.clone(this._invertClassificationColor),this._invertClassification=new Ve.a,this.focalLength=void 0,this.eyeSeparation=void 0,this.postProcessStages=new Qe.a,this._brdfLutGenerator=new Pe.a,this._terrainExaggeration=Object(K.a)(e.terrainExaggeration,1),this._performanceDisplay=void 0,this._debugVolume=void 0,this._screenSpaceCameraController=new tt.a(this),this._mapMode2D=Object(K.a)(e.mapMode2D,qe.a.INFINITE_SCROLL),this._environmentState={skyBoxCommand:void 0,skyAtmosphereCommand:void 0,sunDrawCommand:void 0,sunComputeCommand:void 0,moonCommand:void 0,isSunVisible:!1,isMoonVisible:!1,isReadyForAtmosphere:!1,isSkyAtmosphereVisible:!1,clearGlobeDepth:!1,useDepthPlane:!1,renderTranslucentDepthForPick:!1,originalFramebuffer:void 0,useGlobeDepthFramebuffer:!1,separatePrimitiveFramebuffer:!1,useOIT:!1,useInvertClassification:!1,usePostProcess:!1,usePostProcessSelected:!1,useWebVR:!1},this._useWebVR=!1,this._cameraVR=void 0,this._aspectRatioVR=void 0,this.requestRenderMode=Object(K.a)(e.requestRenderMode,!1),this._renderRequested=!0,this.maximumRenderTimeChange=Object(K.a)(e.maximumRenderTimeChange,0),this._lastRenderTime=void 0,this._frameRateMonitor=void 0,this._removeRequestListenerCallback=ve.a.requestCompletedEvent.addEventListener(ct(this)),this._removeTaskProcessorListenerCallback=be.a.taskCompletedEvent.addEventListener(ct(this)),this._removeGlobeCallbacks=[];var c=new U.a(0,0,o.drawingBufferWidth,o.drawingBufferHeight),l=new De.a(this);this._logDepthBuffer&&(l.frustum.near=.1,l.frustum.far=1e10),this.preloadFlightCamera=new De.a(this),this.preloadFlightCullingVolume=void 0,this._picking=new Xe.a(this),this._defaultView=new st.a(this,l,c),this._view=this._defaultView,this._hdr=void 0,this._hdrDirty=void 0,this.highDynamicRange=!1,this.gamma=2.2,this.sphericalHarmonicCoefficients=void 0,this.specularEnvironmentMaps=void 0,this._specularEnvironmentMapAtlas=void 0,this.light=new at.a,s(this,0,le.a.now()),this.updateFrameState(),this.initializeFrame()}function a(e,t){for(var i=0;i<e._removeGlobeCallbacks.length;++i)e._removeGlobeCallbacks[i]();e._removeGlobeCallbacks.length=0;var n=[];Object($.a)(t)&&(n.push(t.imageryLayersUpdatedEvent.addEventListener(ct(e))),n.push(t.terrainProviderChanged.addEventListener(ct(e)))),e._removeGlobeCallbacks=n}function r(e,t,i){var n=e._frameState,a=e._context,r=e._view.oit,o=n.shadowState.lightShadowMaps,s=n.shadowState.lightShadowsEnabled,c=t.derivedCommands;Object($.a)(t.pickId)&&(c.picking=Fe.a.createPickDerivedCommand(e,t,a,c.picking)),t.pickOnly||(c.depth=Fe.a.createDepthOnlyDerivedCommand(e,t,a,c.depth)),c.originalCommand=t,e._hdr&&(c.hdr=Fe.a.createHdrCommand(t,a,c.hdr),t=c.hdr.command,c=t.derivedCommands),s&&t.receiveShadows&&(c.shadows=it.a.createReceiveDerivedCommand(o,t,i,a,c.shadows)),t.pass===Ae.a.TRANSLUCENT&&Object($.a)(r)&&r.isSupported()&&(s&&t.receiveShadows?(c.oit=Object($.a)(c.oit)?c.oit:{},c.oit.shadows=r.createDerivedCommands(c.shadows.receiveCommand,a,c.oit.shadows)):c.oit=r.createDerivedCommands(t,a,c.oit))}function o(e){var t=e.globe;if(e._mode===Ke.a.SCENE3D&&Object($.a)(t)&&t.show){var i=t.ellipsoid,n=e.frameState.minimumTerrainHeight;return mt.radius=i.minimumRadius+n,ut=fe.a.fromBoundingSphere(mt,e.camera.positionWC,ut)}}function s(e,t,i){var n=e._frameState;n.frameNumber=t,n.time=le.a.clone(i,n.time)}function c(e){var t={},i=e.vertexAttributes;for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n].index);return t}function l(e,t,i){var n=t.context,a=Object(K.a)(i,e.shaderProgram),r=a.fragmentShaderSource.clone(),o=[];r.sources=r.sources.map(function(e){e=je.a.replaceMain(e,"czm_Debug_main");for(var t,i=/gl_FragData\[(\d+)\]/g;null!==(t=i.exec(e));)-1===o.indexOf(t[1])&&o.push(t[1]);return e});var s,l=o.length,u="void main() \n{ \n    czm_Debug_main(); \n";if(t.debugShowCommands){Object($.a)(e._debugColor)||(e._debugColor=X.a.fromRandom());var h=e._debugColor;if(l>0)for(s=0;s<l;++s)u+="    gl_FragData["+o[s]+"].rgb *= vec3("+h.red+", "+h.green+", "+h.blue+"); \n";else u+="    gl_FragColor.rgb *= vec3("+h.red+", "+h.green+", "+h.blue+"); \n"}if(t.debugShowFrustums){var d=1&e.debugOverlappingFrustums?"1.0":"0.0",f=2&e.debugOverlappingFrustums?"1.0":"0.0",p=4&e.debugOverlappingFrustums?"1.0":"0.0";if(l>0)for(s=0;s<l;++s)u+="    gl_FragData["+o[s]+"].rgb *= vec3("+d+", "+f+", "+p+"); \n";else u+="    gl_FragColor.rgb *= vec3("+d+", "+f+", "+p+"); \n"}u+="}",r.sources.push(u);var m=c(a);return Se.a.fromCache({context:n,vertexShaderSource:a.vertexShaderSource,fragmentShaderSource:r,attributeLocations:m})}function u(e,t,i){var n=Te.a.shallowClone(e);n.shaderProgram=l(e,t),n.execute(t.context,i),n.shaderProgram.destroy()}function h(e,t,i,n){var a=t._frameState,r=a.context,o=e.boundingVolume;Object($.a)(t._debugVolume)&&t._debugVolume.destroy();var s,c=q.a.clone(o.center);if(a.mode!==Ke.a.SCENE3D){c=he.a.multiplyByPoint(gt,c,c);var l=a.mapProjection,u=l.unproject(c);c=l.ellipsoid.cartographicToCartesian(u)}if(Object($.a)(o.radius)){var h=o.radius;s=se.a.toWireframe(ne.a.createGeometry(new ne.a({radii:new q.a(h,h,h),vertexFormat:Ye.a.FLAT_VERTEX_FORMAT}))),t._debugVolume=new Je.a({geometryInstances:new oe.a({geometry:s,modelMatrix:he.a.fromTranslation(c),attributes:{color:new Q.a(1,0,0,1)}}),appearance:new Ye.a({flat:!0,translucent:!1}),asynchronous:!1})}else{var d=o.halfAxes;s=se.a.toWireframe(H.a.createGeometry(H.a.fromDimensions({dimensions:new q.a(2,2,2),vertexFormat:Ye.a.FLAT_VERTEX_FORMAT}))),t._debugVolume=new Je.a({geometryInstances:new oe.a({geometry:s,modelMatrix:he.a.fromRotationTranslation(d,c,new he.a),attributes:{color:new Q.a(1,0,0,1)}}),appearance:new Ye.a({flat:!0,translucent:!1}),asynchronous:!1})}var f=a.commandList,p=a.commandList=[];if(t._debugVolume.update(a),e=p[0],a.useLogDepth){e=Fe.a.createLogDepthCommand(e,r).command}var m;Object($.a)(n)&&(m=i.framebuffer,i.framebuffer=n),e.execute(r,i),Object($.a)(m)&&(i.framebuffer=m),a.commandList=f}function d(e,t,i,n,a){var r=t._frameState;if(!Object($.a)(t.debugCommandFilter)||t.debugCommandFilter(e)){if(e instanceof Oe.a)return void e.execute(i,n);e.debugShowBoundingVolume&&Object($.a)(e.boundingVolume)&&h(e,t,n,a),r.useLogDepth&&Object($.a)(e.derivedCommands.logDepth)&&(e=e.derivedCommands.logDepth.command);var o=r.passes;if(!o.pick&&t._hdr&&Object($.a)(e.derivedCommands)&&Object($.a)(e.derivedCommands.hdr)&&(e=e.derivedCommands.hdr.command),o.pick||o.depth){if(o.pick&&!o.depth&&Object($.a)(e.derivedCommands.picking))return e=e.derivedCommands.picking.pickCommand,void e.execute(i,n);if(Object($.a)(e.derivedCommands.depth))return e=e.derivedCommands.depth.depthOnlyCommand,void e.execute(i,n)}if(t.debugShowCommands||t.debugShowFrustums)return void u(e,t,n);r.shadowState.lightShadowsEnabled&&e.receiveShadows&&Object($.a)(e.derivedCommands.shadows)?e.derivedCommands.shadows.receiveCommand.execute(i,n):e.execute(i,n)}}function f(e,t,i,n){var a=t._frameState,r=e.derivedCommands;Object($.a)(r)&&(a.useLogDepth&&Object($.a)(r.logDepth)&&(e=r.logDepth.command),r=e.derivedCommands,Object($.a)(r.picking)?(e=r.picking.pickCommand,e.execute(i,n)):Object($.a)(r.depth)&&(e=r.depth.depthOnlyCommand,e.execute(i,n)))}function p(e,t,i){return t.boundingVolume.distanceSquaredTo(i)-e.boundingVolume.distanceSquaredTo(i)}function m(e,t,i){return e.boundingVolume.distanceSquaredTo(i)-t.boundingVolume.distanceSquaredTo(i)+ue.a.EPSILON12}function g(e,t,i,n,a){var r=e.context;Object(de.a)(n,p,e.camera.positionWC),Object($.a)(a)&&t(a.unclassifiedCommand,e,r,i);for(var o=n.length,s=0;s<o;++s)t(n[s],e,r,i)}function _(e,t,i,n,a){var r=e.context;Object(de.a)(n,m,e.camera.positionWC),Object($.a)(a)&&t(a.unclassifiedCommand,e,r,i);for(var o=n.length,s=0;s<o;++s)t(n[s],e,r,i)}function v(e,t){var i=e._view.debugGlobeDepths,n=i[t];return!Object($.a)(n)&&e.context.depthTexture&&(n=new Ue.a,i[t]=n),n}function b(e,t){var i=e.camera,n=e.context,a=n.uniformState;a.updateCamera(i);var r;r=Object($.a)(i.frustum.fov)?i.frustum.clone(_t):Object($.a)(i.frustum.infiniteProjectionMatrix)?i.frustum.clone(vt):Object($.a)(i.frustum.width)?i.frustum.clone(bt):i.frustum.clone(yt),r.near=i.frustum.near,r.far=i.frustum.far,a.updateFrustum(r),a.updatePass(Ae.a.ENVIRONMENT);var o=e._frameState.passes,s=o.pick,c=e._environmentState,l=e._view,u=c.renderTranslucentDepthForPick,h=c.useWebVR;if(!s){var p=c.skyBoxCommand;if(Object($.a)(p)&&d(p,e,n,t),c.isSkyAtmosphereVisible&&d(c.skyAtmosphereCommand,e,n,t),c.isSunVisible&&(c.sunDrawCommand.execute(n,t),e.sunBloom&&!h)){var m;m=c.useGlobeDepthFramebuffer?l.globeDepth.framebuffer:c.usePostProcess?l.sceneFramebuffer.getFramebuffer():c.originalFramebuffer,e._sunPostProcess.execute(n),e._sunPostProcess.copy(n,m),t.framebuffer=m}c.isMoonVisible&&c.moonCommand.execute(n,t)}var b;c.useOIT?(Object($.a)(e._executeOITFunction)||(e._executeOITFunction=function(e,t,i,n,a){l.oit.executeCommands(e,t,i,n,a)}),b=e._executeOITFunction):b=o.render?g:_;for(var y,O=l.frustumCommandsList,w=O.length,x=c.clearGlobeDepth,E=c.useDepthPlane,T=c.separatePrimitiveFramebuffer=!1,A=e._depthClearCommand,C=e._stencilClearCommand,S=e._classificationStencilClearCommand,j=e._depthPlane,P=c.usePostProcessSelected,D=i.position.z,I=0;I<w;++I){var R=w-I-1,M=O[R];e.mode===Ke.a.SCENE2D?(i.position.z=D-M.near+1,r.far=Math.max(1,M.far-M.near),r.near=1,a.update(e.frameState),a.updateFrustum(r)):(r.near=0!==R?M.near*e.opaqueFrustumNearOffset:M.near,r.far=M.far,a.updateFrustum(r));var L=e.debugShowGlobeDepth?v(e,R):l.globeDepth;T&&(t.framebuffer=L.framebuffer);var N;e.debugShowGlobeDepth&&Object($.a)(L)&&c.useGlobeDepthFramebuffer&&(L.update(n,t,l.viewport,e._hdr,x),L.clear(n,t,e._clearColorCommand.color),N=t.framebuffer,t.framebuffer=L.framebuffer),A.execute(n,t),n.stencilBuffer&&C.execute(n,t),a.updatePass(Ae.a.GLOBE);var F=M.commands[Ae.a.GLOBE],z=M.indices[Ae.a.GLOBE];for(y=0;y<z;++y)d(F[y],e,n,t);for(Object($.a)(L)&&c.useGlobeDepthFramebuffer&&L.executeCopyDepth(n,t),e.debugShowGlobeDepth&&Object($.a)(L)&&c.useGlobeDepthFramebuffer&&(t.framebuffer=N),a.updatePass(Ae.a.TERRAIN_CLASSIFICATION),F=M.commands[Ae.a.TERRAIN_CLASSIFICATION],z=M.indices[Ae.a.TERRAIN_CLASSIFICATION],y=0;y<z;++y)d(F[y],e,n,t);if(x&&(A.execute(n,t),E&&j.execute(n,t)),T&&(t.framebuffer=L.primitiveFramebuffer),!c.useInvertClassification||s){for(a.updatePass(Ae.a.CESIUM_3D_TILE),F=M.commands[Ae.a.CESIUM_3D_TILE],z=M.indices[Ae.a.CESIUM_3D_TILE],y=0;y<z;++y)d(F[y],e,n,t);if(z>0)for(Object($.a)(L)&&c.useGlobeDepthFramebuffer&&L.executeUpdateDepth(n,t,x),a.updatePass(Ae.a.CESIUM_3D_TILE_CLASSIFICATION),F=M.commands[Ae.a.CESIUM_3D_TILE_CLASSIFICATION],z=M.indices[Ae.a.CESIUM_3D_TILE_CLASSIFICATION],y=0;y<z;++y)d(F[y],e,n,t)}else{e._invertClassification.clear(n,t);var B=t.framebuffer;for(t.framebuffer=e._invertClassification._fbo,a.updatePass(Ae.a.CESIUM_3D_TILE),F=M.commands[Ae.a.CESIUM_3D_TILE],z=M.indices[Ae.a.CESIUM_3D_TILE],y=0;y<z;++y)d(F[y],e,n,t);for(Object($.a)(L)&&c.useGlobeDepthFramebuffer&&L.executeUpdateDepth(n,t,x),a.updatePass(Ae.a.CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW),F=M.commands[Ae.a.CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW],z=M.indices[Ae.a.CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW],y=0;y<z;++y)d(F[y],e,n,t);for(t.framebuffer=B,e._invertClassification.executeClassified(n,t),1===e.frameState.invertClassificationColor.alpha&&e._invertClassification.executeUnclassified(n,t),z>0&&n.stencilBuffer&&S.execute(n,t),a.updatePass(Ae.a.CESIUM_3D_TILE_CLASSIFICATION),F=M.commands[Ae.a.CESIUM_3D_TILE_CLASSIFICATION],z=M.indices[Ae.a.CESIUM_3D_TILE_CLASSIFICATION],y=0;y<z;++y)d(F[y],e,n,t)}for(z>0&&n.stencilBuffer&&C.execute(n,t),a.updatePass(Ae.a.OPAQUE),F=M.commands[Ae.a.OPAQUE],z=M.indices[Ae.a.OPAQUE],y=0;y<z;++y)d(F[y],e,n,t);0!==R&&e.mode!==Ke.a.SCENE2D&&(r.near=M.near,a.updateFrustum(r));var k;if(!s&&c.useInvertClassification&&e.frameState.invertClassificationColor.alpha<1&&(k=e._invertClassification),a.updatePass(Ae.a.TRANSLUCENT),F=M.commands[Ae.a.TRANSLUCENT],F.length=M.indices[Ae.a.TRANSLUCENT],b(e,d,t,F,k),n.depthTexture&&e.useDepthPicking&&(c.useGlobeDepthFramebuffer||u)){var U=u?t.framebuffer.depthStencilTexture:L.framebuffer.depthStencilTexture,V=e._picking.getPickDepth(e,R);V.update(n,U),V.executeCopyDepth(n,t)}if(T&&(t.framebuffer=L.framebuffer),!s&&P){var H=t.framebuffer;for(t.framebuffer=l.sceneFramebuffer.getIdFramebuffer(),r.near=0!==R?M.near*e.opaqueFrustumNearOffset:M.near,r.far=M.far,a.updateFrustum(r),a.updatePass(Ae.a.GLOBE),F=M.commands[Ae.a.GLOBE],z=M.indices[Ae.a.GLOBE],y=0;y<z;++y)f(F[y],e,n,t);for(x&&(A.framebuffer=t.framebuffer,A.execute(n,t),A.framebuffer=void 0),x&&E&&j.execute(n,t),a.updatePass(Ae.a.CESIUM_3D_TILE),F=M.commands[Ae.a.CESIUM_3D_TILE],z=M.indices[Ae.a.CESIUM_3D_TILE],y=0;y<z;++y)f(F[y],e,n,t);for(a.updatePass(Ae.a.OPAQUE),F=M.commands[Ae.a.OPAQUE],z=M.indices[Ae.a.OPAQUE],y=0;y<z;++y)f(F[y],e,n,t);for(a.updatePass(Ae.a.TRANSLUCENT),F=M.commands[Ae.a.TRANSLUCENT],z=M.indices[Ae.a.TRANSLUCENT],y=0;y<z;++y)f(F[y],e,n,t);t.framebuffer=H}}}function y(e){e.context.uniformState.updatePass(Ae.a.COMPUTE);var t=e._environmentState.sunComputeCommand;Object($.a)(t)&&t.execute(e._computeEngine);for(var i=e._computeCommandList,n=i.length,a=0;a<n;++a)i[a].execute(e._computeEngine)}function O(e,t){e.context.uniformState.updatePass(Ae.a.OVERLAY);for(var i=e.context,n=e._overlayCommandList,a=n.length,r=0;r<a;++r)n[r].execute(i,t)}function w(e,t,i){for(var n=i.shadowMapCullingVolume,a=i.isPointLight,r=i.passes,o=r.length,s=t.length,c=0;c<s;++c){var l=t[c];if(e.updateDerivedCommands(l),l.castShadows&&(l.pass===Ae.a.GLOBE||l.pass===Ae.a.CESIUM_3D_TILE||l.pass===Ae.a.OPAQUE||l.pass===Ae.a.TRANSLUCENT)&&e.isVisible(l,n))if(a)for(var u=0;u<o;++u)r[u].commandList.push(l);else if(1===o)r[0].commandList.push(l);else for(var h=!1,d=o-1;d>=0;--d){var f=r[d].cullingVolume;if(e.isVisible(l,f))r[d].commandList.push(l),h=!0;else if(h)break}}}function x(e){var t=e.frameState,i=t.shadowState.shadowMaps,n=i.length;if(t.shadowState.shadowsEnabled)for(var a=e.context,r=a.uniformState,o=0;o<n;++o){var s=i[o];if(!s.outOfView){var c,l=s.passes,u=l.length;for(c=0;c<u;++c)l[c].commandList.length=0;var h=e.frameState.commandList;for(w(e,h,s),c=0;c<u;++c){var f=s.passes[c];r.updateCamera(f.camera),s.updatePass(a,c);for(var p=f.commandList.length,m=0;m<p;++m){var g=f.commandList[m];r.updatePass(g.pass),d(g.derivedCommands.shadows.castCommands[o],e,a,f.passState)}}}}}function E(e,t,i){var n=e._view,a=n.camera,r=e._environmentState,o=r.renderTranslucentDepthForPick;P(e,t,i),o||j(e),n.createPotentiallyVisibleSet(e),o||(y(e),x(e));var s=t.viewport;s.x=0,s.y=0,s.width=.5*s.width;var c=De.a.clone(a,e._cameraVR);c.frustum=a.frustum;var l=a.frustum.near,u=l*Object(K.a)(e.focalLength,5),h=Object(K.a)(e.eyeSeparation,u/30),d=q.a.multiplyByScalar(c.right,.5*h,Ot);a.frustum.aspectRatio=s.width/s.height;var f=.5*h*l/u;q.a.add(c.position,d,a.position),a.frustum.xOffset=f,b(e,t),s.x=s.width,q.a.subtract(c.position,d,a.position),a.frustum.xOffset=-f,b(e,t),De.a.clone(c,a)}function T(e,t){var i=e.context,n=e.frameState,a=e.camera,r=t.viewport,o=U.a.clone(r,jt);t.viewport=o;var s=wt,c=xt;e.mapProjection.project(s,c);var l=q.a.clone(a.position,Et),u=he.a.clone(a.transform,At),h=a.frustum.clone();a._setTransform(he.a.IDENTITY);var d=he.a.computeViewportTransformation(o,0,1,Tt),f=a.frustum.projectionMatrix,p=a.positionWC.y,m=q.a.fromElements(ue.a.sign(p)*c.x-p,0,-a.positionWC.x,Ct),g=ye.a.pointToGLWindowCoordinates(f,d,m,St);g.x=Math.floor(g.x);var _=o.x,v=o.width;if(0===p||g.x<=_||g.x>=_+v)A(!0,e,t);else if(Math.abs(_+.5*v-g.x)<1)o.width=g.x-o.x,a.position.x*=ue.a.sign(a.position.x),a.frustum.right=0,n.cullingVolume=a.frustum.computeCullingVolume(a.positionWC,a.directionWC,a.upWC),i.uniformState.update(n),A(!0,e,t),o.x=g.x,a.position.x=-a.position.x,a.frustum.right=-a.frustum.left,a.frustum.left=0,n.cullingVolume=a.frustum.computeCullingVolume(a.positionWC,a.directionWC,a.upWC),i.uniformState.update(n),A(!1,e,t);else if(g.x>_+.5*v){o.width=g.x-_;var b=a.frustum.right;a.frustum.right=c.x-p,n.cullingVolume=a.frustum.computeCullingVolume(a.positionWC,a.directionWC,a.upWC),i.uniformState.update(n),A(!0,e,t),o.x=g.x,o.width=_+v-g.x,a.position.x=-a.position.x,a.frustum.left=-a.frustum.right,a.frustum.right=b-2*a.frustum.right,n.cullingVolume=a.frustum.computeCullingVolume(a.positionWC,a.directionWC,a.upWC),i.uniformState.update(n),A(!1,e,t)}else{o.x=g.x,o.width=_+v-g.x;var y=a.frustum.left;a.frustum.left=-c.x-p,n.cullingVolume=a.frustum.computeCullingVolume(a.positionWC,a.directionWC,a.upWC),i.uniformState.update(n),A(!0,e,t),o.x=_,o.width=g.x-_,a.position.x=-a.position.x,a.frustum.right=-a.frustum.left,a.frustum.left=y-2*a.frustum.left,n.cullingVolume=a.frustum.computeCullingVolume(a.positionWC,a.directionWC,a.upWC),i.uniformState.update(n),A(!1,e,t)}a._setTransform(u),q.a.clone(l,a.position),a.frustum=h.clone(),t.viewport=r}function A(e,t,i,n){var a=t._environmentState,r=t._view,o=a.renderTranslucentDepthForPick;e||o||(t.frameState.commandList.length=0),o||j(t),r.createPotentiallyVisibleSet(t),e&&(Object($.a)(n)&&P(t,i,n),o||(y(t),x(t))),b(t,i)}function C(e){var t=e._frameState;e.debugShowFrustumPlanes!==e._debugShowFrustumPlanes&&(e.debugShowFrustumPlanes?e._debugFrustumPlanes=new Le.a({camera:e.camera,updateOnChange:!1}):e._debugFrustumPlanes=e._debugFrustumPlanes&&e._debugFrustumPlanes.destroy(),e._debugShowFrustumPlanes=e.debugShowFrustumPlanes),Object($.a)(e._debugFrustumPlanes)&&e._debugFrustumPlanes.update(t)}function S(e){var t=e._frameState,i=t.shadowMaps,n=i.length,a=n>0&&!t.passes.pick&&e.mode===Ke.a.SCENE3D;if(a!==t.shadowState.shadowsEnabled&&(++t.shadowState.lastDirtyTime,t.shadowState.shadowsEnabled=a),t.shadowState.lightShadowsEnabled=!1,a){for(var r=0;r<n;++r)if(i[r]!==t.shadowState.shadowMaps[r]){++t.shadowState.lastDirtyTime;break}t.shadowState.shadowMaps.length=0,t.shadowState.lightShadowMaps.length=0;for(var o=0;o<n;++o){var s=i[o];s.update(t),t.shadowState.shadowMaps.push(s),s.fromLightSource&&(t.shadowState.lightShadowMaps.push(s),t.shadowState.lightShadowsEnabled=!0),s.dirty&&(++t.shadowState.lastDirtyTime,s.dirty=!1)}}}function j(e){var t=e._frameState;e._groundPrimitives.update(t),e._primitives.update(t),C(e),S(e),e._globe&&e._globe.render(t)}function P(e,t,i){var n=e._context,a=e._frameState,r=e._environmentState,o=e._view,s=e._frameState.passes,c=s.pick,l=r.useWebVR;r.originalFramebuffer=t.framebuffer,Object($.a)(e.sun)&&e.sunBloom!==e._sunBloom?(e.sunBloom&&!l?e._sunPostProcess=new rt.a:Object($.a)(e._sunPostProcess)&&(e._sunPostProcess=e._sunPostProcess.destroy()),e._sunBloom=e.sunBloom):!Object($.a)(e.sun)&&Object($.a)(e._sunPostProcess)&&(e._sunPostProcess=e._sunPostProcess.destroy(),e._sunBloom=!1);var u=e._clearColorCommand;X.a.clone(i,u.color),u.execute(n,t);var h=r.useGlobeDepthFramebuffer=Object($.a)(o.globeDepth);h&&(o.globeDepth.update(n,t,o.viewport,e._hdr,r.clearGlobeDepth),o.globeDepth.clear(n,t,i));var d=o.oit,f=r.useOIT=!c&&Object($.a)(d)&&d.isSupported();f&&(d.update(n,t,o.globeDepth.framebuffer,e._hdr),d.clear(n,t,i),r.useOIT=d.isSupported());var p=e.postProcessStages,m=r.usePostProcess=!c&&(e._hdr||p.length>0||p.ambientOcclusion.enabled||p.fxaa.enabled||p.bloom.enabled);if(r.usePostProcessSelected=!1,m&&(o.sceneFramebuffer.update(n,o.viewport,e._hdr),o.sceneFramebuffer.clear(n,t,i),p.update(n,a.useLogDepth,e._hdr),p.clear(n),m=r.usePostProcess=p.ready,r.usePostProcessSelected=m&&p.hasSelected),r.isSunVisible&&e.sunBloom&&!l?(t.framebuffer=e._sunPostProcess.update(t),e._sunPostProcess.clear(n,t,i)):h?t.framebuffer=o.globeDepth.framebuffer:m&&(t.framebuffer=o.sceneFramebuffer.getFramebuffer()),Object($.a)(t.framebuffer)&&u.execute(n,t),r.useInvertClassification=!c&&Object($.a)(t.framebuffer)&&e.invertClassification){var g;if(1===e.frameState.invertClassificationColor.alpha&&r.useGlobeDepthFramebuffer&&(g=o.globeDepth.framebuffer),Object($.a)(g)||n.depthTexture){if(e._invertClassification.previousFramebuffer=g,e._invertClassification.update(n),e._invertClassification.clear(n,t),e.frameState.invertClassificationColor.alpha<1&&f){var _=e._invertClassification.unclassifiedCommand,v=_.derivedCommands;v.oit=d.createDerivedCommands(_,n,v.oit)}}else r.useInvertClassification=!1}}function D(e){for(var t=e._frameState.afterRender,i=0,n=t.length;i<n;++i)t[i](),e.requestRender();t.length=0}function I(e,t){if(e.debugShowFramesPerSecond){if(!Object($.a)(e._performanceDisplay)){var i=document.createElement("div");i.className="cesium-performanceDisplay-defaultContainer";e._canvas.parentNode.appendChild(i);var n=new Ge.a({container:i});e._performanceDisplay=n,e._performanceContainer=i}e._performanceDisplay.throttled=e.requestRenderMode,e._performanceDisplay.update(t)}else Object($.a)(e._performanceDisplay)&&(e._performanceDisplay=e._performanceDisplay&&e._performanceDisplay.destroy(),e._performanceContainer.parentNode.removeChild(e._performanceContainer))}function R(e){e._jobScheduler.resetBudgets();var t=e._frameState;e.primitives.prePassesUpdate(t),Object($.a)(e.globe)&&e.globe.update(t),e._picking.update(),t.creditDisplay.update()}function M(e){var t=e._frameState;e.primitives.postPassesUpdate(t),ve.a.update()}function L(e){var t=e._frameState,i=e.context,n=i.uniformState,a=e._defaultView;e._view=a,e.updateFrameState(),t.passes.render=!0,t.passes.postProcess=e.postProcessStages.hasSelected,t.tilesetPassState=ht;var r=Object(K.a)(e.backgroundColor,X.a.BLACK);e._hdr&&(r=X.a.clone(r,Dt),r.red=Math.pow(r.red,e.gamma),r.green=Math.pow(r.green,e.gamma),r.blue=Math.pow(r.blue,e.gamma)),t.backgroundColor=r,e.fog.update(t),n.update(t);var o=e.shadowMap;Object($.a)(o)&&o.enabled&&(!Object($.a)(e.light)||e.light instanceof at.a?q.a.negate(n.sunDirectionWC,e._shadowMapCamera.direction):q.a.clone(e.light.direction,e._shadowMapCamera.direction),t.shadowMaps.push(o)),e._computeCommandList.length=0,e._overlayCommandList.length=0;var s=a.viewport;s.x=0,s.y=0,s.width=i.drawingBufferWidth,s.height=i.drawingBufferHeight;var c=a.passState;c.framebuffer=void 0,c.blendingEnabled=void 0,c.scissorTest=void 0,c.viewport=U.a.clone(s,c.viewport),Object($.a)(e.globe)&&e.globe.beginFrame(t),e.updateEnvironment(),e.updateAndExecuteCommands(c,r),e.resolveFramebuffers(c),c.framebuffer=void 0,O(e,c),Object($.a)(e.globe)&&(e.globe.endFrame(t),e.globe.tilesLoaded||(e._renderRequested=!0)),i.endFrame()}function N(e,t){try{t(e)}catch(t){if(e._renderError.raiseEvent(e,t),e.rethrowRenderErrors)throw t}}function F(e){return e._picking.updateMostDetailedRayPicks(e)}function z(e){var t=e._frameState;dt.camera=t.camera,dt.cullingVolume=t.cullingVolume,e.primitives.updateForPass(t,dt)}function B(e){var t=e._frameState;t.camera.canPreloadFlight()&&(ft.camera=e.preloadFlightCamera,ft.cullingVolume=e.preloadFlightCullingVolume,e.primitives.updateForPass(t,ft))}function k(e){e.primitives.updateForPass(e._frameState,pt)}var U=i("or8k"),V=i("lBr9"),H=i("7snz"),q=i("Jj+J"),W=i("PDkd"),G=i("I3GD"),Y=i("wv0P"),X=i("6F0S"),Q=i("devy"),J=i("ed27"),Z=i("XHlg"),K=i("5A4e"),$=i("xC6Q"),ee=i("49Ew"),te=i("6sr8"),ie=i("PzDm"),ne=i("KjOc"),ae=i("W6xh"),re=i("eUIW"),oe=i("izcu"),se=i("odWO"),ce=i("u909"),le=i("9Uqs"),ue=i("fq+p"),he=i("Xjii"),de=i("9djt"),fe=i("MTwh"),pe=i("ku5u"),me=i("rpO5"),ge=i("MYGk"),_e=i("IPrE"),ve=i("Y45Y"),be=i("JlUm"),ye=i("g/FO"),Oe=i("/DUn"),we=i("5kJD"),xe=i("d+Fs"),Ee=i("J1no"),Te=i("1mJh"),Ae=i("M0+0"),Ce=i("DrvA"),Se=i("WUlw"),je=i("x6Ms"),Pe=i("bOmZ"),De=i("St4O"),Ie=i("2Fo0"),Re=i("GrLQ"),Me=i("QcB4"),Le=i("oiLF"),Ne=i("9QkX"),Fe=i("Rpsb"),ze=i("0BQ9"),Be=i("PDf1"),ke=i("Exau"),Ue=i("v62d"),Ve=i("Al2o"),He=i("S0lh"),qe=i("6Euq"),We=i("pfpV"),Ge=i("/Yk1"),Ye=i("BOJj"),Xe=i("yjNj"),Qe=i("Ov8w"),Je=i("0df4"),Ze=i("ebOZ"),Ke=i("sotJ"),$e=i("D2nr"),et=i("Zj43"),tt=i("lovY"),it=i("7IeB"),nt=i("x0EE"),at=i("WZiu"),rt=i("Otme"),ot=i("oQwc"),st=i("4xuv"),ct=function(e){return function(){e.frameState.afterRender.push(function(){e.requestRender()})}},lt=new W.a;Object.defineProperties(n.prototype,{canvas:{get:function(){return this._canvas}},drawingBufferHeight:{get:function(){return this._context.drawingBufferHeight}},drawingBufferWidth:{get:function(){return this._context.drawingBufferWidth}},maximumAliasedLineWidth:{get:function(){return Ee.a.maximumAliasedLineWidth}},maximumCubeMapSize:{get:function(){return Ee.a.maximumCubeMapSize}},pickPositionSupported:{get:function(){return this._context.depthTexture}},sampleHeightSupported:{get:function(){return this._context.depthTexture}},clampToHeightSupported:{get:function(){return this._context.depthTexture}},invertClassificationSupported:{get:function(){return this._context.depthTexture}},specularEnvironmentMapsSupported:{get:function(){return We.a.isSupported(this._context)}},globe:{get:function(){return this._globe},set:function(e){this._globe=this._globe&&this._globe.destroy(),this._globe=e,a(this,e)}},primitives:{get:function(){return this._primitives}},groundPrimitives:{get:function(){return this._groundPrimitives}},camera:{get:function(){return this._view.camera},set:function(e){this._view.camera=e}},view:{get:function(){return this._view},set:function(e){this._view=e}},defaultView:{get:function(){return this._defaultView}},picking:{get:function(){return this._picking}},screenSpaceCameraController:{get:function(){return this._screenSpaceCameraController}},mapProjection:{get:function(){return this._mapProjection}},jobScheduler:{get:function(){return this._jobScheduler}},frameState:{get:function(){return this._frameState}},environmentState:{get:function(){return this._environmentState}},tweens:{get:function(){return this._tweens}},imageryLayers:{get:function(){if(Object($.a)(this.globe))return this.globe.imageryLayers}},terrainProvider:{get:function(){if(Object($.a)(this.globe))return this.globe.terrainProvider},set:function(e){Object($.a)(this.globe)&&(this.globe.terrainProvider=e)}},terrainProviderChanged:{get:function(){if(Object($.a)(this.globe))return this.globe.terrainProviderChanged}},preUpdate:{get:function(){return this._preUpdate}},postUpdate:{get:function(){return this._postUpdate}},renderError:{get:function(){return this._renderError}},preRender:{get:function(){return this._preRender}},postRender:{get:function(){return this._postRender}},lastRenderTime:{get:function(){return this._lastRenderTime}},context:{get:function(){return this._context}},debugFrustumStatistics:{get:function(){return this._view.debugFrustumStatistics}},scene3DOnly:{get:function(){return this._frameState.scene3DOnly}},orderIndependentTranslucency:{get:function(){return this._useOIT}},id:{get:function(){return this._id}},mode:{get:function(){return this._mode},set:function(e){if(this.scene3DOnly&&e!==Ke.a.SCENE3D)throw new ie.a("Only SceneMode.SCENE3D is valid when scene3DOnly is true.");if(e===Ke.a.SCENE2D)this.morphTo2D(0);else if(e===Ke.a.SCENE3D)this.morphTo3D(0);else{if(e!==Ke.a.COLUMBUS_VIEW)throw new ie.a("value must be a valid SceneMode enumeration.");this.morphToColumbusView(0)}this._mode=e}},frustumCommandsList:{get:function(){return this._view.frustumCommandsList}},numberOfFrustums:{get:function(){return this._view.frustumCommandsList.length}},terrainExaggeration:{get:function(){return this._terrainExaggeration}},useWebVR:{get:function(){return this._useWebVR},set:function(e){if(this.camera.frustum instanceof pe.a)throw new ie.a("VR is unsupported with an orthographic projection.");this._useWebVR=e,this._useWebVR?(this._frameState.creditDisplay.container.style.visibility="hidden",this._cameraVR=new De.a(this),Object($.a)(this._deviceOrientationCameraController)||(this._deviceOrientationCameraController=new ze.a(this)),this._aspectRatioVR=this.camera.frustum.aspectRatio):(this._frameState.creditDisplay.container.style.visibility="visible",this._cameraVR=void 0,this._deviceOrientationCameraController=this._deviceOrientationCameraController&&!this._deviceOrientationCameraController.isDestroyed()&&this._deviceOrientationCameraController.destroy(),this.camera.frustum.aspectRatio=this._aspectRatioVR,this.camera.frustum.xOffset=0)}},mapMode2D:{get:function(){return this._mapMode2D}},imagerySplitPosition:{get:function(){return this._frameState.imagerySplitPosition},set:function(e){this._frameState.imagerySplitPosition=e}},minimumDisableDepthTestDistance:{get:function(){return this._minimumDisableDepthTestDistance},set:function(e){if(!Object($.a)(e)||e<0)throw new ie.a("minimumDisableDepthTestDistance must be greater than or equal to 0.0.");this._minimumDisableDepthTestDistance=e}},logarithmicDepthBuffer:{get:function(){return this._logDepthBuffer},set:function(e){e=this._context.fragmentDepth&&e,this._logDepthBuffer!==e&&(this._logDepthBuffer=e,this._logDepthBufferDirty=!0,this._defaultView.updateFrustums=!0)}},gamma:{get:function(){return this._context.uniformState.gamma},set:function(e){this._context.uniformState.gamma=e}},highDynamicRange:{get:function(){return this._hdr},set:function(e){var t=this._context,i=e&&t.depthTexture&&(t.colorBufferFloat||t.colorBufferHalfFloat);this._hdrDirty=i!==this._hdr,this._hdr=i}},highDynamicRangeSupported:{get:function(){var e=this._context;return e.depthTexture&&(e.colorBufferFloat||e.colorBufferHalfFloat)}},sunColor:{get:function(){return Object(ee.a)("sun-color-removed","scene.sunColor will be removed in Cesium 1.69. Use scene.light.color and scene.light.intensity instead."),this.light.color},set:function(e){Object(ee.a)("sun-color-removed","scene.sunColor will be removed in Cesium 1.69. Use scene.light.color and scene.light.intensity instead.");var t=q.a.maximumComponent(e),i=W.a.fromElements(e.x,e.y,e.z,1,lt),n=1;t>1&&(q.a.divideByScalar(i,t,i),n=t),this.light.color=X.a.fromCartesian4(i,this.light.color),this.light.intensity=n}},pixelRatio:{get:function(){return this._frameState.pixelRatio},set:function(e){this._frameState.pixelRatio=e}},opaqueFrustumNearOffset:{get:function(){return this._frameState.useLogDepth?.9:.9999}}}),n.prototype.getCompressedTextureFormatSupported=function(e){var t=this.context;return("WEBGL_compressed_texture_s3tc"===e||"s3tc"===e)&&t.s3tc||("WEBGL_compressed_texture_pvrtc"===e||"pvrtc"===e)&&t.pvrtc||("WEBGL_compressed_texture_etc1"===e||"etc1"===e)&&t.etc1},n.prototype.updateDerivedCommands=function(e){if(Object($.a)(e.derivedCommands)){var t=this._frameState,i=this._context,n=!1,a=t.shadowState.lastDirtyTime;e.lastDirtyTime!==a&&(e.lastDirtyTime=a,e.dirty=!0,n=!0);var o=t.useLogDepth,s=this._hdr,c=e.derivedCommands,l=Object($.a)(c.logDepth),u=Object($.a)(c.hdr),h=Object($.a)(c.originalCommand),d=o&&!l,f=s&&!u,p=!(o&&s||h);if(e.dirty=e.dirty||d||f||p,e.dirty){e.dirty=!1;var m=t.shadowState.shadowMaps;t.shadowState.shadowsEnabled&&e.castShadows&&(c.shadows=it.a.createCastDerivedCommand(m,e,n,i,c.shadows)),(l||d)&&(c.logDepth=Fe.a.createLogDepthCommand(e,i,c.logDepth),r(this,c.logDepth.command,n)),(h||p)&&r(this,e,n)}}};var ut,ht=new Re.a({pass:Ie.a.RENDER}),dt=new Re.a({pass:Ie.a.PRELOAD}),ft=new Re.a({pass:Ie.a.PRELOAD_FLIGHT}),pt=new Re.a({pass:Ie.a.REQUEST_RENDER_MODE_DEFER_CHECK}),mt=new V.a;n.prototype.clearPasses=function(e){e.render=!1,e.pick=!1,e.depth=!1,e.postProcess=!1,e.offscreen=!1},n.prototype.updateFrameState=function(){var e=this.camera,t=this._frameState;t.commandList.length=0,t.shadowMaps.length=0,t.brdfLutGenerator=this._brdfLutGenerator,t.environmentMap=this.skyBox&&this.skyBox._cubeMap,t.mode=this._mode,t.morphTime=this.morphTime,t.mapProjection=this.mapProjection,t.camera=e,t.cullingVolume=e.frustum.computeCullingVolume(e.positionWC,e.directionWC,e.upWC),t.occluder=o(this),t.terrainExaggeration=this._terrainExaggeration,t.minimumTerrainHeight=0,t.minimumDisableDepthTestDistance=this._minimumDisableDepthTestDistance,t.invertClassification=this.invertClassification,t.useLogDepth=this._logDepthBuffer&&!(this.camera.frustum instanceof pe.a||this.camera.frustum instanceof me.a),t.light=this.light,Object($.a)(this._specularEnvironmentMapAtlas)&&this._specularEnvironmentMapAtlas.ready?(t.specularEnvironmentMaps=this._specularEnvironmentMapAtlas.texture,t.specularEnvironmentMapsMaximumLOD=this._specularEnvironmentMapAtlas.maximumMipmapLevel):(t.specularEnvironmentMaps=void 0,t.specularEnvironmentMapsMaximumLOD=void 0),t.sphericalHarmonicCoefficients=this.sphericalHarmonicCoefficients,this._actualInvertClassificationColor=X.a.clone(this.invertClassificationColor,this._actualInvertClassificationColor),Ve.a.isTranslucencySupported(this._context)||(this._actualInvertClassificationColor.alpha=1),t.invertClassificationColor=this._actualInvertClassificationColor,Object($.a)(this.globe)?t.maximumScreenSpaceError=this.globe.maximumScreenSpaceError:t.maximumScreenSpaceError=2,this.clearPasses(t.passes),t.tilesetPassState=void 0},n.prototype.isVisible=function(e,t,i){return Object($.a)(e)&&(!Object($.a)(e.boundingVolume)||!e.cull||t.computeVisibility(e.boundingVolume)!==ce.a.OUTSIDE&&(!Object($.a)(i)||!e.occlude||!e.boundingVolume.isOccluded(i)))};var gt=new he.a(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1);gt=he.a.inverseTransformation(gt,gt);var _t=new ge.a,vt=new _e.a,bt=new pe.a,yt=new me.a,Ot=new q.a;n.prototype.updateAndExecuteCommands=function(e,t){var i=this._frameState,n=i.mode;this._environmentState.useWebVR?E(this,e,t):n!==Ke.a.SCENE2D||this._mapMode2D===qe.a.ROTATE?A(!0,this,e,t):(P(this,e,t),T(this,e))};var wt=new G.a(Math.PI,ue.a.PI_OVER_TWO),xt=new q.a,Et=new q.a,Tt=new he.a,At=new he.a,Ct=new q.a,St=new q.a,jt=new U.a,Pt=new Z.a;n.prototype.updateEnvironment=function(){var e=this._frameState,t=this._view,i=this._environmentState,n=e.passes.render,a=e.passes.offscreen,r=this.skyAtmosphere,o=this.globe;if(!n||this._mode!==Ke.a.SCENE2D&&t.camera.frustum instanceof pe.a)i.skyAtmosphereCommand=void 0,i.skyBoxCommand=void 0,i.sunDrawCommand=void 0,i.sunComputeCommand=void 0,i.moonCommand=void 0;else{Object($.a)(r)?(Object($.a)(o)&&(r.setDynamicAtmosphereColor(o.enableLighting&&o.dynamicAtmosphereLighting,o.dynamicAtmosphereLightingFromSun),i.isReadyForAtmosphere=i.isReadyForAtmosphere||o._surface._tilesToRender.length>0),i.skyAtmosphereCommand=r.update(e),Object($.a)(i.skyAtmosphereCommand)&&this.updateDerivedCommands(i.skyAtmosphereCommand)):i.skyAtmosphereCommand=void 0,i.skyBoxCommand=Object($.a)(this.skyBox)?this.skyBox.update(e,this._hdr):void 0;var s=Object($.a)(this.sun)?this.sun.update(e,t.passState,this._hdr):void 0;i.sunDrawCommand=Object($.a)(s)?s.drawCommand:void 0,i.sunComputeCommand=Object($.a)(s)?s.computeCommand:void 0,i.moonCommand=Object($.a)(this.moon)?this.moon.update(e):void 0}var c=i.clearGlobeDepth=Object($.a)(o)&&(!o.depthTestAgainstTerrain||this.mode===Ke.a.SCENE2D);(i.useDepthPlane=c&&this.mode===Ke.a.SCENE3D)&&this._depthPlane.update(e),i.renderTranslucentDepthForPick=!1,i.useWebVR=this._useWebVR&&this.mode!==Ke.a.SCENE2D&&!a;for(var l=e.mode===Ke.a.SCENE3D?e.occluder:void 0,u=e.cullingVolume,h=Pt.planes,d=0;d<5;++d)h[d]=u.planes[d];u=Pt,i.isSkyAtmosphereVisible=Object($.a)(i.skyAtmosphereCommand)&&i.isReadyForAtmosphere,i.isSunVisible=this.isVisible(i.sunDrawCommand,u,l),i.isMoonVisible=this.isVisible(i.moonCommand,u,l);var f=this.specularEnvironmentMaps,p=this._specularEnvironmentMapAtlas;!Object($.a)(f)||Object($.a)(p)&&p.url===f?!Object($.a)(f)&&Object($.a)(p)&&(p.destroy(),this._specularEnvironmentMapAtlas=void 0):(p=p&&p.destroy(),this._specularEnvironmentMapAtlas=new We.a(f)),Object($.a)(this._specularEnvironmentMapAtlas)&&this._specularEnvironmentMapAtlas.update(e)},n.prototype.resolveFramebuffers=function(e){var t=this._context,i=this._frameState,n=this._environmentState,a=this._view,r=a.globeDepth,o=n.useOIT,s=n.useGlobeDepthFramebuffer,c=n.usePostProcess,l=n.originalFramebuffer,u=s?r.framebuffer:void 0,h=a.sceneFramebuffer.getFramebuffer(),d=a.sceneFramebuffer.getIdFramebuffer();if(n.separatePrimitiveFramebuffer&&r.executeMergeColor(t,e),o&&(e.framebuffer=c?h:l,a.oit.execute(t,e)),c){var f=h;s&&!o&&(f=u);var p=this.postProcessStages,m=f.getColorTexture(0),g=d.getColorTexture(0),_=Object(K.a)(u,h).depthStencilTexture;p.execute(t,m,_,g),p.copy(t,l)}o||c||!s||(e.framebuffer=l,r.executeCopyColor(t,e));var b=i.useLogDepth;if(this.debugShowGlobeDepth&&s){v(this,this.debugShowDepthFrustum-1).executeDebugGlobeDepth(t,e,b)}if(this.debugShowPickDepth&&s){this._picking.getPickDepth(this,this.debugShowDepthFrustum-1).executeDebugPickDepth(t,e,b)}},n.prototype.initializeFrame=function(){120==this._shaderFrameCount++&&(this._shaderFrameCount=0,this._context.shaderCache.destroyReleasedShaderPrograms(),this._context.textureCache.destroyReleasedTextures()),this._tweens.update(),this._screenSpaceCameraController.update(),Object($.a)(this._deviceOrientationCameraController)&&this._deviceOrientationCameraController.update(),this.camera.update(this._mode),this.camera._updateCameraChanged()};var Dt=new X.a;n.prototype.render=function(e){this._preUpdate.raiseEvent(this,e);var t=this._frameState;t.newFrame=!1,Object($.a)(e)||(e=le.a.now());var i=this._view.checkForCameraUpdates(this),n=!this.requestRenderMode||this._renderRequested||i||this._logDepthBufferDirty||this._hdrDirty||this.mode===Ke.a.MORPHING;if(!n&&Object($.a)(this.maximumRenderTimeChange)&&Object($.a)(this._lastRenderTime)){var a=Math.abs(le.a.secondsDifference(this._lastRenderTime,e));n=n||a>this.maximumRenderTimeChange}if(n){this._lastRenderTime=le.a.clone(e,this._lastRenderTime),this._renderRequested=!1,this._logDepthBufferDirty=!1,this._hdrDirty=!1;s(this,ue.a.incrementWrap(t.frameNumber,15e6,1),e),t.newFrame=!0}N(this,R),this.primitives.show&&(N(this,F),N(this,z),N(this,B),n||N(this,k)),this._postUpdate.raiseEvent(this,e),n&&(this._preRender.raiseEvent(this,e),t.creditDisplay.beginFrame(),N(this,L)),I(this,n),N(this,M),D(this),n&&(this._postRender.raiseEvent(this,e),t.creditDisplay.endFrame())},n.prototype.forceRender=function(e){this._renderRequested=!0,this.render(e)},n.prototype.requestRender=function(){this._renderRequested=!0},n.prototype.clampLineWidth=function(e){return Math.max(Ee.a.minimumAliasedLineWidth,Math.min(e,Ee.a.maximumAliasedLineWidth))},n.prototype.pick=function(e,t,i){return this._picking.pick(this,e,t,i)},n.prototype.pickPositionWorldCoordinates=function(e,t){return this._picking.pickPositionWorldCoordinates(this,e,t)},n.prototype.pickPosition=function(e,t){return this._picking.pickPosition(this,e,t)},n.prototype.drillPick=function(e,t,i,n){return this._picking.drillPick(this,e,t,i,n)},n.prototype.pickFromRay=function(e,t,i){return this._picking.pickFromRay(this,e,t,i)},n.prototype.drillPickFromRay=function(e,t,i,n){return this._picking.drillPickFromRay(this,e,t,i,n)},n.prototype.pickFromRayMostDetailed=function(e,t,i){return this._picking.pickFromRayMostDetailed(this,e,t,i)},n.prototype.drillPickFromRayMostDetailed=function(e,t,i,n){return this._picking.drillPickFromRayMostDetailed(this,e,t,i,n)},n.prototype.sampleHeight=function(e,t,i){return this._picking.sampleHeight(this,e,t,i)},n.prototype.clampToHeight=function(e,t,i,n){return this._picking.clampToHeight(this,e,t,i,n)},n.prototype.sampleHeightMostDetailed=function(e,t,i){return this._picking.sampleHeightMostDetailed(this,e,t,i)},n.prototype.clampToHeightMostDetailed=function(e,t,i){return this._picking.clampToHeightMostDetailed(this,e,t,i)},n.prototype.cartesianToCanvasCoordinates=function(e,t){return $e.a.wgs84ToWindowCoordinates(this,e,t)},n.prototype.completeMorph=function(){this._transitioner.completeMorph()},n.prototype.morphTo2D=function(e){var t,i=this.globe;t=Object($.a)(i)?i.ellipsoid:this.mapProjection.ellipsoid,e=Object(K.a)(e,2),this._transitioner.morphTo2D(e,t)},n.prototype.morphToColumbusView=function(e){var t,i=this.globe;t=Object($.a)(i)?i.ellipsoid:this.mapProjection.ellipsoid,e=Object(K.a)(e,2),this._transitioner.morphToColumbusView(e,t)},n.prototype.morphTo3D=function(e){var t,i=this.globe;t=Object($.a)(i)?i.ellipsoid:this.mapProjection.ellipsoid,e=Object(K.a)(e,2),this._transitioner.morphTo3D(e,t)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){this._tweens.removeAll(),this._computeEngine=this._computeEngine&&this._computeEngine.destroy(),this._screenSpaceCameraController=this._screenSpaceCameraController&&this._screenSpaceCameraController.destroy(),this._deviceOrientationCameraController=this._deviceOrientationCameraController&&!this._deviceOrientationCameraController.isDestroyed()&&this._deviceOrientationCameraController.destroy(),this._primitives=this._primitives&&this._primitives.destroy(),this._groundPrimitives=this._groundPrimitives&&this._groundPrimitives.destroy(),this._globe=this._globe&&this._globe.destroy(),this.skyBox=this.skyBox&&this.skyBox.destroy(),this.skyAtmosphere=this.skyAtmosphere&&this.skyAtmosphere.destroy(),this._debugSphere=this._debugSphere&&this._debugSphere.destroy(),this.sun=this.sun&&this.sun.destroy(),this._sunPostProcess=this._sunPostProcess&&this._sunPostProcess.destroy(),this._depthPlane=this._depthPlane&&this._depthPlane.destroy(),this._transitioner=this._transitioner&&this._transitioner.destroy(),this._debugFrustumPlanes=this._debugFrustumPlanes&&this._debugFrustumPlanes.destroy(),this._brdfLutGenerator=this._brdfLutGenerator&&this._brdfLutGenerator.destroy(),this._picking=this._picking&&this._picking.destroy(),this._defaultView=this._defaultView&&this._defaultView.destroy(),this._view=void 0,this._removeCreditContainer&&this._canvas.parentNode.removeChild(this._creditContainer),this.postProcessStages=this.postProcessStages&&this.postProcessStages.destroy(),this._context=this._context&&this._context.destroy(),this._frameState.creditDisplay=this._frameState.creditDisplay&&this._frameState.creditDisplay.destroy(),Object($.a)(this._performanceDisplay)&&(this._performanceDisplay=this._performanceDisplay&&this._performanceDisplay.destroy(),this._performanceContainer.parentNode.removeChild(this._performanceContainer)),this._removeRequestListenerCallback(),this._removeTaskProcessorListenerCallback();for(var e=0;e<this._removeGlobeCallbacks.length;++e)this._removeGlobeCallbacks[e]();return this._removeGlobeCallbacks.length=0,Object(te.a)(this)},t.a=n},"E0+e":function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main()\n{\n    gl_FragColor = texture2D(colorTexture, v_textureCoordinates);\n}\n"},E3Re:function(e,t,i){"use strict";t.a="attribute vec3 position;\n\nuniform vec3 u_radii;\n\nvarying vec3 v_positionEC;\n\nvoid main()\n{\n    // In the vertex data, the cube goes from (-1.0, -1.0, -1.0) to (1.0, 1.0, 1.0) in model coordinates.\n    // Scale to consider the radii.  We could also do this once on the CPU when using the BoxGeometry,\n    // but doing it here allows us to change the radii without rewriting the vertex data, and\n    // allows all ellipsoids to reuse the same vertex data.\n    vec4 p = vec4(u_radii * position, 1.0);\n\n    v_positionEC = (czm_modelView * p).xyz;     // position in eye coordinates\n    gl_Position = czm_modelViewProjection * p;  // position in clip coordinates\n\n    // With multi-frustum, when the ellipsoid primitive is positioned on the intersection of two frustums\n    // and close to terrain, the terrain (writes depth) in the closest frustum can overwrite part of the\n    // ellipsoid (does not write depth) that was rendered in the farther frustum.\n    //\n    // Here, we clamp the depth in the vertex shader to avoid being overwritten; however, this creates\n    // artifacts since some fragments can be alpha blended twice.  This is solved by only rendering\n    // the ellipsoid in the closest frustum to the viewer.\n    gl_Position.z = clamp(gl_Position.z, czm_depthRange.near, czm_depthRange.far);\n\n    czm_vertexLogDepth();\n}\n"},E9RU:function(e,t,i){"use strict";function n(e,t){function i(){if(!i.canExecute)throw new o.a("Cannot execute command, canExecute is false.");var t,a={args:arguments,cancel:!1};return n.raiseEvent(a),a.cancel||(t=e.apply(null,arguments),l.raiseEvent(t)),t}if(!Object(r.a)(e))throw new o.a("func is required.");t=Object(a.a)(t,!0);var n=new s.a,l=new s.a;return i.canExecute=t,c.a.track(i,["canExecute"]),Object.defineProperties(i,{beforeExecute:{value:n},afterExecute:{value:l}}),i}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("PKIF");t.a=n},EBXK:function(e,t,i){"use strict";t.a="/**\n * The constant identifier for the 2D {@link SceneMode}\n *\n * @name czm_sceneMode2D\n * @glslConstant\n * @see czm_sceneMode\n * @see czm_sceneModeColumbusView\n * @see czm_sceneMode3D\n * @see czm_sceneModeMorphing\n */\nconst float czm_sceneMode2D = 2.0;\n"},EDAM:function(e,t,i){"use strict";var n=i("Dw7b"),a=i("Ss9j"),r=i("Jj+J"),o=i("I3GD"),s=i("5F4X"),c=i("YCZg"),l=i("5A4e"),u=i("xC6Q"),h=i("y6fO"),d=i("uZf/"),f=i("RGAo"),p=i("RYD3"),m=i("fq+p"),g=i("nHNe"),_=i("+snP"),v=new r.a,b=new r.a,y={};y.computeArea2D=function(e){s.a.defined("positions",e),s.a.typeOf.number.greaterThanOrEquals("positions.length",e.length,3);for(var t=e.length,i=0,n=t-1,a=0;a<t;n=a++){var r=e[n],o=e[a];i+=r.x*o.y-o.x*r.y}return.5*i},y.computeWindingOrder2D=function(e){return y.computeArea2D(e)>0?_.a.COUNTER_CLOCKWISE:_.a.CLOCKWISE},y.triangulate=function(e,t){s.a.defined("positions",e);var i=a.a.packArray(e);return Object(n.a)(i,t,2)};var O=new r.a,w=new r.a,x=new r.a,E=new r.a,T=new r.a,A=new r.a,C=new r.a;y.computeSubdivision=function(e,t,i,n){n=Object(l.a)(n,m.a.RADIANS_PER_DEGREE),s.a.typeOf.object("ellipsoid",e),s.a.defined("positions",t),s.a.defined("indices",i),s.a.typeOf.number.greaterThanOrEquals("indices.length",i.length,3),s.a.typeOf.number.equals("indices.length % 3","0",i.length%3,0),s.a.typeOf.number.greaterThan("granularity",n,0);var a,o=i.slice(0),h=t.length,d=new Array(3*h),_=0;for(a=0;a<h;a++){var v=t[a];d[_++]=v.x,d[_++]=v.y,d[_++]=v.z}for(var b=[],y={},S=e.maximumRadius,j=m.a.chordLength(n,S),P=j*j;o.length>0;){var D,I,R=o.pop(),M=o.pop(),L=o.pop(),N=r.a.fromArray(d,3*L,O),F=r.a.fromArray(d,3*M,w),z=r.a.fromArray(d,3*R,x),B=r.a.multiplyByScalar(r.a.normalize(N,E),S,E),k=r.a.multiplyByScalar(r.a.normalize(F,T),S,T),U=r.a.multiplyByScalar(r.a.normalize(z,A),S,A),V=r.a.magnitudeSquared(r.a.subtract(B,k,C)),H=r.a.magnitudeSquared(r.a.subtract(k,U,C)),q=r.a.magnitudeSquared(r.a.subtract(U,B,C)),W=Math.max(V,H,q);W>P?V===W?(D=Math.min(L,M)+" "+Math.max(L,M),a=y[D],Object(u.a)(a)||(I=r.a.add(N,F,C),r.a.multiplyByScalar(I,.5,I),d.push(I.x,I.y,I.z),a=d.length/3-1,y[D]=a),o.push(L,a,R),o.push(a,M,R)):H===W?(D=Math.min(M,R)+" "+Math.max(M,R),a=y[D],Object(u.a)(a)||(I=r.a.add(F,z,C),r.a.multiplyByScalar(I,.5,I),d.push(I.x,I.y,I.z),a=d.length/3-1,y[D]=a),o.push(M,a,L),o.push(a,R,L)):q===W&&(D=Math.min(R,L)+" "+Math.max(R,L),a=y[D],Object(u.a)(a)||(I=r.a.add(z,N,C),r.a.multiplyByScalar(I,.5,I),d.push(I.x,I.y,I.z),a=d.length/3-1,y[D]=a),o.push(R,a,M),o.push(a,L,M)):(b.push(L),b.push(M),b.push(R))}return new f.a({attributes:{position:new p.a({componentDatatype:c.a.DOUBLE,componentsPerAttribute:3,values:d})},indices:b,primitiveType:g.a.TRIANGLES})};var S=new o.a,j=new o.a,P=new o.a,D=new o.a;y.computeRhumbLineSubdivision=function(e,t,i,n){n=Object(l.a)(n,m.a.RADIANS_PER_DEGREE),s.a.typeOf.object("ellipsoid",e),s.a.defined("positions",t),s.a.defined("indices",i),s.a.typeOf.number.greaterThanOrEquals("indices.length",i.length,3),s.a.typeOf.number.equals("indices.length % 3","0",i.length%3,0),s.a.typeOf.number.greaterThan("granularity",n,0);var a,o=i.slice(0),h=t.length,_=new Array(3*h),v=0;for(a=0;a<h;a++){var b=t[a];_[v++]=b.x,_[v++]=b.y,_[v++]=b.z}for(var y=[],E={},T=e.maximumRadius,A=m.a.chordLength(n,T),I=new d.a(void 0,void 0,e),R=new d.a(void 0,void 0,e),M=new d.a(void 0,void 0,e);o.length>0;){var L=o.pop(),N=o.pop(),F=o.pop(),z=r.a.fromArray(_,3*F,O),B=r.a.fromArray(_,3*N,w),k=r.a.fromArray(_,3*L,x),U=e.cartesianToCartographic(z,S),V=e.cartesianToCartographic(B,j),H=e.cartesianToCartographic(k,P);I.setEndPoints(U,V);var q=I.surfaceDistance;R.setEndPoints(V,H);var W=R.surfaceDistance;M.setEndPoints(H,U);var G,Y,X,Q,J=M.surfaceDistance,Z=Math.max(q,W,J);Z>A?q===Z?(G=Math.min(F,N)+" "+Math.max(F,N),a=E[G],Object(u.a)(a)||(Y=I.interpolateUsingFraction(.5,D),X=.5*(U.height+V.height),Q=r.a.fromRadians(Y.longitude,Y.latitude,X,e,C),_.push(Q.x,Q.y,Q.z),a=_.length/3-1,E[G]=a),o.push(F,a,L),o.push(a,N,L)):W===Z?(G=Math.min(N,L)+" "+Math.max(N,L),a=E[G],Object(u.a)(a)||(Y=R.interpolateUsingFraction(.5,D),X=.5*(V.height+H.height),Q=r.a.fromRadians(Y.longitude,Y.latitude,X,e,C),_.push(Q.x,Q.y,Q.z),a=_.length/3-1,E[G]=a),o.push(N,a,F),o.push(a,L,F)):J===Z&&(G=Math.min(L,F)+" "+Math.max(L,F),a=E[G],Object(u.a)(a)||(Y=M.interpolateUsingFraction(.5,D),X=.5*(H.height+U.height),Q=r.a.fromRadians(Y.longitude,Y.latitude,X,e,C),_.push(Q.x,Q.y,Q.z),a=_.length/3-1,E[G]=a),o.push(L,a,N),o.push(a,F,N)):(y.push(F),y.push(N),y.push(L))}return new f.a({attributes:{position:new p.a({componentDatatype:c.a.DOUBLE,componentsPerAttribute:3,values:_})},indices:y,primitiveType:g.a.TRIANGLES})},y.scaleToGeodeticHeight=function(e,t,i,n){i=Object(l.a)(i,h.a.WGS84);var a=v,o=b;if(t=Object(l.a)(t,0),n=Object(l.a)(n,!0),Object(u.a)(e))for(var s=e.length,c=0;c<s;c+=3)r.a.fromArray(e,c,o),n&&(o=i.scaleToGeodeticSurface(o,o)),0!==t&&(a=i.geodeticSurfaceNormal(o,a),r.a.multiplyByScalar(a,t,a),r.a.add(o,a,o)),e[c]=o.x,e[c+1]=o.y,e[c+2]=o.z;return e},t.a=y},EFEs:function(e,t,i){"use strict";function n(e,t){if(!Object(c.a)(e))throw new l.a("text is required.");if(""!==e){t=Object(s.a)(t,s.a.EMPTY_OBJECT);var i=Object(s.a)(t.font,"10px sans-serif"),n=Object(s.a)(t.stroke,!1),u=Object(s.a)(t.fill,!0),h=Object(s.a)(t.strokeWidth,1),d=Object(s.a)(t.backgroundColor,o.a.TRANSPARENT),f=Object(s.a)(t.padding,0),p=2*f,m=document.createElement("canvas");m.width=1,m.height=1,m.style.font=i;var g=m.getContext("2d");Object(c.a)(a)||(Object(c.a)(g.imageSmoothingEnabled)?a="imageSmoothingEnabled":Object(c.a)(g.mozImageSmoothingEnabled)?a="mozImageSmoothingEnabled":Object(c.a)(g.webkitImageSmoothingEnabled)?a="webkitImageSmoothingEnabled":Object(c.a)(g.msImageSmoothingEnabled)&&(a="msImageSmoothingEnabled")),g.font=i,g.lineJoin="round",g.lineWidth=h,g[a]=!1,g.textBaseline=Object(s.a)(t.textBaseline,"bottom"),m.style.visibility="hidden",document.body.appendChild(m);var _=Object(r.a)(g,e,n,u);m.dimensions=_,document.body.removeChild(m),m.style.visibility="";var v=-_.bounds.minx,b=Math.ceil(_.width)+v+p,y=_.height+p,O=y-_.ascent+f,w=y-O+p;if(m.width=b,m.height=y,g.font=i,g.lineJoin="round",g.lineWidth=h,g[a]=!1,d!==o.a.TRANSPARENT&&(g.fillStyle=d.toCssColorString(),g.fillRect(0,0,m.width,m.height)),n){var x=Object(s.a)(t.strokeColor,o.a.BLACK);g.strokeStyle=x.toCssColorString(),g.strokeText(e,v+f,w)}if(u){var E=Object(s.a)(t.fillColor,o.a.WHITE);g.fillStyle=E.toCssColorString(),g.fillText(e,v+f,w)}return m}}var a,r=i("j43V"),o=i("6F0S"),s=i("5A4e"),c=i("xC6Q"),l=i("PzDm");t.a=n},EFIo:function(e,t,i){"use strict";var n=i("swJc"),a=Object.prototype.hasOwnProperty,r=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e){for(;e.length>1;){var t=e.pop(),i=t.obj[t.prop];if(r(i)){for(var n=[],a=0;a<i.length;++a)void 0!==i[a]&&n.push(i[a]);t.obj[t.prop]=n}}},c=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(i[n]=e[n]);return i},l=function e(t,i,n){if(!i)return t;if("object"!=typeof i){if(r(t))t.push(i);else{if(!t||"object"!=typeof t)return[t,i];(n&&(n.plainObjects||n.allowPrototypes)||!a.call(Object.prototype,i))&&(t[i]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(i);var o=t;return r(t)&&!r(i)&&(o=c(t,n)),r(t)&&r(i)?(i.forEach(function(i,r){if(a.call(t,r)){var o=t[r];o&&"object"==typeof o&&i&&"object"==typeof i?t[r]=e(o,i,n):t.push(i)}else t[r]=i}),t):Object.keys(i).reduce(function(t,r){var o=i[r];return a.call(t,r)?t[r]=e(t[r],o,n):t[r]=o,t},o)},u=function(e,t){return Object.keys(t).reduce(function(e,i){return e[i]=t[i],e},e)},h=function(e,t,i){var n=e.replace(/\+/g," ");if("iso-8859-1"===i)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},d=function(e,t,i,a,r){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===i)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var c="",l=0;l<s.length;++l){var u=s.charCodeAt(l);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||r===n.RFC1738&&(40===u||41===u)?c+=s.charAt(l):u<128?c+=o[u]:u<2048?c+=o[192|u>>6]+o[128|63&u]:u<55296||u>=57344?c+=o[224|u>>12]+o[128|u>>6&63]+o[128|63&u]:(l+=1,u=65536+((1023&u)<<10|1023&s.charCodeAt(l)),c+=o[240|u>>18]+o[128|u>>12&63]+o[128|u>>6&63]+o[128|63&u])}return c},f=function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],n=0;n<t.length;++n)for(var a=t[n],r=a.obj[a.prop],o=Object.keys(r),c=0;c<o.length;++c){var l=o[c],u=r[l];"object"==typeof u&&null!==u&&-1===i.indexOf(u)&&(t.push({obj:r,prop:l}),i.push(u))}return s(t),e},p=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},m=function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},g=function(e,t){return[].concat(e,t)},_=function(e,t){if(r(e)){for(var i=[],n=0;n<e.length;n+=1)i.push(t(e[n]));return i}return t(e)};e.exports={arrayToObject:c,assign:u,combine:g,compact:f,decode:h,encode:d,isBuffer:m,isRegExp:p,maybeMap:_,merge:l}},EH9U:function(e,t,i){"use strict";function n(e,t,i,n,r){this._model=e,this._runtimeNode=i,this._name=t.name,this._id=n,this.useMatrix=!1,this._show=!0,this._matrix=a.a.clone(r),this._originalMatrix=a.a.clone(r)}var a=i("Xjii");Object.defineProperties(n.prototype,{name:{get:function(){return this._name}},id:{get:function(){return this._id}},show:{get:function(){return this._show},set:function(e){this._show!==e&&(this._show=e,this._model._perNodeShowDirty=!0)}},matrix:{get:function(){return this._matrix},set:function(e){this._matrix=a.a.clone(e,this._matrix),this.useMatrix=!0;var t=this._model;t._cesiumAnimationsDirty=!0,this._runtimeNode.dirtyNumber=t._maxDirtyNumber}},originalMatrix:{get:function(){return this._originalMatrix}}}),n.prototype.setMatrix=function(e){a.a.clone(e,this._matrix)},t.a=n},EKta:function(e,t,i){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function a(e){var t=n(e),i=t[0],a=t[1];return 3*(i+a)/4-a}function r(e,t,i){return 3*(t+i)/4-i}function o(e){var t,i,a=n(e),o=a[0],s=a[1],c=new d(r(e,o,s)),l=0,u=s>0?o-4:o;for(i=0;i<u;i+=4)t=h[e.charCodeAt(i)]<<18|h[e.charCodeAt(i+1)]<<12|h[e.charCodeAt(i+2)]<<6|h[e.charCodeAt(i+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=h[e.charCodeAt(i)]<<2|h[e.charCodeAt(i+1)]>>4,c[l++]=255&t),1===s&&(t=h[e.charCodeAt(i)]<<10|h[e.charCodeAt(i+1)]<<4|h[e.charCodeAt(i+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c}function s(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function c(e,t,i){for(var n,a=[],r=t;r<i;r+=3)n=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]),a.push(s(n));return a.join("")}function l(e){for(var t,i=e.length,n=i%3,a=[],r=0,o=i-n;r<o;r+=16383)a.push(c(e,r,r+16383>o?o:r+16383));return 1===n?(t=e[i-1],a.push(u[t>>2]+u[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],a.push(u[t>>10]+u[t>>4&63]+u[t<<2&63]+"=")),a.join("")}t.byteLength=a,t.toByteArray=o,t.fromByteArray=l;for(var u=[],h=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,m=f.length;p<m;++p)u[p]=f[p],h[f.charCodeAt(p)]=p;h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},EQyj:function(e,t,i){"use strict";(function(e,n){function a(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}var r=i("N+Om"),o=i("h95s"),s=i("VOug"),c=i("fkix"),l=i("0jOE");for(var u in l)t[u]=l[u];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;a.prototype.close=function(){if(this.write_in_progress)return void(this.pending_close=!0);this.pending_close=!1,r(this.init_done,"close before init"),r(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||c.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null},a.prototype.write=function(e,t,i,n,a,r,o){return this._write(!0,e,t,i,n,a,r,o)},a.prototype.writeSync=function(e,t,i,n,a,r,o){return this._write(!1,e,t,i,n,a,r,o)},a.prototype._write=function(i,a,o,s,c,l,u,h){if(r.equal(arguments.length,8),r(this.init_done,"write before init"),r(this.mode!==t.NONE,"already finalized"),r.equal(!1,this.write_in_progress,"write already in progress"),r.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,r.equal(!1,void 0===a,"must provide flush value"),this.write_in_progress=!0,a!==t.Z_NO_FLUSH&&a!==t.Z_PARTIAL_FLUSH&&a!==t.Z_SYNC_FLUSH&&a!==t.Z_FULL_FLUSH&&a!==t.Z_FINISH&&a!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=e.alloc(0),c=0,s=0),this.strm.avail_in=c,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=h,this.strm.output=l,this.strm.next_out=u,this.flush=a,i){var d=this;return n.nextTick(function(){d._process(),d._after()}),this}if(this._process(),this._checkError())return this._afterSync()},a.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},a.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=c.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=c.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=c.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=c.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},a.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},a.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},a.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},a.prototype.init=function(e,i,n,a,o){r(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),r(e>=8&&e<=15,"invalid windowBits"),r(i>=-1&&i<=9,"invalid compression level"),r(n>=1&&n<=9,"invalid memlevel"),r(a===t.Z_FILTERED||a===t.Z_HUFFMAN_ONLY||a===t.Z_RLE||a===t.Z_FIXED||a===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(i,e,n,a,o),this._setDictionary()},a.prototype.params=function(){throw new Error("deflateParams Not supported")},a.prototype.reset=function(){this._reset(),this._setDictionary()},a.prototype._init=function(e,i,n,a,r){switch(this.level=e,this.windowBits=i,this.memLevel=n,this.strategy=a,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=c.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=r,this.write_in_progress=!1,this.init_done=!0},a.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},a.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=s.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=c.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=a}).call(t,i("EuP9").Buffer,i("W2nU"))},ERAX:function(e,t,i){"use strict";function n(e,t,i,n,a){this.bottomLeft=Object(h.a)(e,l.a.ZERO),this.topRight=Object(h.a)(t,l.a.ZERO),this.childNode1=i,this.childNode2=n,this.imageIndex=a}function a(e){e=Object(h.a)(e,h.a.EMPTY_OBJECT);var t=Object(h.a)(e.borderWidthInPixels,1),i=Object(h.a)(e.initialSize,O);if(!Object(d.a)(e.context))throw new p.a("context is required.");if(t<0)throw new p.a("borderWidthInPixels must be greater than or equal to zero.");if(i.x<1||i.y<1)throw new p.a("initialSize must be greater than zero.");this._context=e.context,this._pixelFormat=Object(h.a)(e.pixelFormat,m.a.RGBA),this._borderWidthInPixels=t,this._textureCoordinates=[],this._guid=Object(u.a)(),this._idHash={},this._initialSize=i,this._root=void 0}function r(e,t){var i=e._context,a=e.numberOfImages,r=e._borderWidthInPixels;if(a>0){for(var o=e._texture.width,s=e._texture.height,c=2*(o+t.width+r),u=2*(s+t.height+r),h=o/c,f=s/u,p=new n(new l.a(o+r,r),new l.a(c,s)),m=new n(new l.a,new l.a(c,s),e._root,p),g=new n(new l.a(r,s+r),new l.a(c,u)),_=new n(new l.a,new l.a(c,u),m,g),y=0;y<e._textureCoordinates.length;y++){var O=e._textureCoordinates[y];Object(d.a)(O)&&(O.x*=h,O.y*=f,O.width*=h,O.height*=f)}var w=new b.a({context:e._context,width:c,height:u,pixelFormat:e._pixelFormat}),x=new v.a({context:i,colorTextures:[e._texture],destroyAttachments:!1});x._bind(),w.copyFromFramebuffer(0,0,0,0,c,u),x._unBind(),x.destroy(),e._texture=e._texture&&e._texture.destroy(),e._texture=w,e._root=_}else{var E=2*(t.width+2*r),T=2*(t.height+2*r);E<e._initialSize.x&&(E=e._initialSize.x),T<e._initialSize.y&&(T=e._initialSize.y),e._texture=e._texture&&e._texture.destroy(),e._texture=new b.a({context:e._context,width:E,height:T,pixelFormat:e._pixelFormat}),e._root=new n(new l.a(r,r),new l.a(E,T))}}function o(e,t,i){if(Object(d.a)(t)){if(!Object(d.a)(t.childNode1)&&!Object(d.a)(t.childNode2)){if(Object(d.a)(t.imageIndex))return;var a=t.topRight.x-t.bottomLeft.x,r=t.topRight.y-t.bottomLeft.y,s=a-i.width,c=r-i.height;if(s<0||c<0)return;if(0===s&&0===c)return t;if(s>c){t.childNode1=new n(new l.a(t.bottomLeft.x,t.bottomLeft.y),new l.a(t.bottomLeft.x+i.width,t.topRight.y));var u=t.bottomLeft.x+i.width+e._borderWidthInPixels;u<t.topRight.x&&(t.childNode2=new n(new l.a(u,t.bottomLeft.y),new l.a(t.topRight.x,t.topRight.y)))}else{t.childNode1=new n(new l.a(t.bottomLeft.x,t.bottomLeft.y),new l.a(t.topRight.x,t.bottomLeft.y+i.height));var h=t.bottomLeft.y+i.height+e._borderWidthInPixels;h<t.topRight.y&&(t.childNode2=new n(new l.a(t.bottomLeft.x,h),new l.a(t.topRight.x,t.topRight.y)))}return o(e,t.childNode1,i)}return o(e,t.childNode1,i)||o(e,t.childNode2,i)}}function s(e,t,i){var n=o(e,e._root,t);if(Object(d.a)(n)){n.imageIndex=i;var a=e._texture.width,l=e._texture.height,h=n.topRight.x-n.bottomLeft.x,f=n.topRight.y-n.bottomLeft.y,p=n.bottomLeft.x/a,m=n.bottomLeft.y/l,g=h/a,_=f/l;e._textureCoordinates[i]=new c.a(p,m,g,_),e._texture.copyFrom(t,n.bottomLeft.x,n.bottomLeft.y)}else r(e,t),s(e,t,i);e._guid=Object(u.a)()}var c=i("or8k"),l=i("Ss9j"),u=i("ed27"),h=i("5A4e"),d=i("xC6Q"),f=i("6sr8"),p=i("PzDm"),m=i("FhYh"),g=i("rMjQ"),_=i("V22k"),v=i("YyWD"),b=i("25X5"),y=i("S7OP"),O=new l.a(16,16);Object.defineProperties(a.prototype,{borderWidthInPixels:{get:function(){return this._borderWidthInPixels}},textureCoordinates:{get:function(){return this._textureCoordinates}},texture:{get:function(){return Object(d.a)(this._texture)||(this._texture=new b.a({context:this._context,width:this._initialSize.x,height:this._initialSize.y,pixelFormat:this._pixelFormat})),this._texture}},numberOfImages:{get:function(){return this._textureCoordinates.length}},guid:{get:function(){return this._guid}}}),a.prototype.addImage=function(e,t){if(!Object(d.a)(e))throw new p.a("id is required.");if(!Object(d.a)(t))throw new p.a("image is required.");var i=this._idHash[e];if(Object(d.a)(i))return i;if("function"==typeof t){if(t=t(e),!Object(d.a)(t))throw new p.a("image is required.")}else if("string"==typeof t||t instanceof g.a){var n=g.a.createIfNeeded(t);t=n.fetchImage()}var a=this;return i=Object(y.a)(t,function(e){if(a.isDestroyed())return-1;var t=a.numberOfImages;return s(a,e,t),t}),this._idHash[e]=i,i},a.prototype.addSubRegion=function(e,t){if(!Object(d.a)(e))throw new p.a("id is required.");if(!Object(d.a)(t))throw new p.a("subRegion is required.");var i=this._idHash[e];if(!Object(d.a)(i))throw new _.a('image with id "'+e+'" not found in the atlas.');var n=this;return Object(y.a)(i,function(e){if(-1===e)return-1;var i=n._texture.width,a=n._texture.height,r=n.numberOfImages,o=n._textureCoordinates[e],s=o.x+t.x/i,l=o.y+t.y/a,h=t.width/i,d=t.height/a;return n._textureCoordinates.push(new c.a(s,l,h,d)),n._guid=Object(u.a)(),r})},a.prototype.isDestroyed=function(){return!1},a.prototype.destroy=function(){return this._texture=this._texture&&this._texture.destroy(),Object(f.a)(this)},t.a=a},EShY:function(e,t,i){"use strict";function n(e,t,i){var n=m,a=_,r=g,s=v;n.length=a.length=e.length-1,r.length=s.length=e.length;var c;n[0]=r[0]=1,a[0]=0;var u=s[0];for(Object(l.a)(u)||(u=s[0]=new o.a),o.a.clone(t,u),c=1;c<n.length-1;++c)n[c]=a[c]=1,r[c]=4,u=s[c],Object(l.a)(u)||(u=s[c]=new o.a),o.a.subtract(e[c+1],e[c-1],u),o.a.multiplyByScalar(u,3,u);return n[c]=0,a[c]=1,r[c]=4,u=s[c],Object(l.a)(u)||(u=s[c]=new o.a),o.a.subtract(e[c+1],e[c-1],u),o.a.multiplyByScalar(u,3,u),r[c+1]=1,u=s[c+1],Object(l.a)(u)||(u=s[c+1]=new o.a),o.a.clone(i,u),p.a.solve(n,r,a,s)}function a(e){var t=m,i=_,n=g,a=v;t.length=i.length=e.length-1,n.length=a.length=e.length;var r;t[0]=i[0]=1,n[0]=2;var s=a[0];for(Object(l.a)(s)||(s=a[0]=new o.a),o.a.subtract(e[1],e[0],s),o.a.multiplyByScalar(s,3,s),r=1;r<t.length;++r)t[r]=i[r]=1,n[r]=4,s=a[r],Object(l.a)(s)||(s=a[r]=new o.a),o.a.subtract(e[r+1],e[r-1],s),o.a.multiplyByScalar(s,3,s);return n[r]=2,s=a[r],Object(l.a)(s)||(s=a[r]=new o.a),o.a.subtract(e[r],e[r-1],s),o.a.multiplyByScalar(s,3,s),p.a.solve(t,n,i,a)}function r(e){e=Object(c.a)(e,c.a.EMPTY_OBJECT);var t=e.points,i=e.times,n=e.inTangents,a=e.outTangents;if(!(Object(l.a)(t)&&Object(l.a)(i)&&Object(l.a)(n)&&Object(l.a)(a)))throw new u.a("times, points, inTangents, and outTangents are required.");if(t.length<2)throw new u.a("points.length must be greater than or equal to 2.");if(i.length!==t.length)throw new u.a("times.length must be equal to points.length.");if(n.length!==a.length||n.length!==t.length-1)throw new u.a("inTangents and outTangents must have a length equal to points.length - 1.");this._times=i,this._points=t,this._inTangents=n,this._outTangents=a,this._lastTimeIndex=0}var o=i("Jj+J"),s=i("PDkd"),c=i("5A4e"),l=i("xC6Q"),u=i("PzDm"),h=i("fajW"),d=i("Xjii"),f=i("Jn+X"),p=i("fu8w"),m=[],g=[],_=[],v=[];Object.defineProperties(r.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}},inTangents:{get:function(){return this._inTangents}},outTangents:{get:function(){return this._outTangents}}}),r.createC1=function(e){e=Object(c.a)(e,c.a.EMPTY_OBJECT);var t=e.times,i=e.points,n=e.tangents;if(!Object(l.a)(i)||!Object(l.a)(t)||!Object(l.a)(n))throw new u.a("points, times and tangents are required.");if(i.length<2)throw new u.a("points.length must be greater than or equal to 2.");if(t.length!==i.length||t.length!==n.length)throw new u.a("times, points and tangents must have the same length.");var a=n.slice(0,n.length-1);return new r({times:t,points:i,inTangents:n.slice(1,n.length),outTangents:a})},r.createNaturalCubic=function(e){e=Object(c.a)(e,c.a.EMPTY_OBJECT);var t=e.times,i=e.points;if(!Object(l.a)(i)||!Object(l.a)(t))throw new u.a("points and times are required.");if(i.length<2)throw new u.a("points.length must be greater than or equal to 2.");if(t.length!==i.length)throw new u.a("times.length must be equal to points.length.");if(i.length<3)return new h.a({points:i,times:t});var n=a(i),o=n.slice(0,n.length-1);return new r({times:t,points:i,inTangents:n.slice(1,n.length),outTangents:o})},r.createClampedCubic=function(e){e=Object(c.a)(e,c.a.EMPTY_OBJECT);var t=e.times,i=e.points,a=e.firstTangent,o=e.lastTangent;if(!(Object(l.a)(i)&&Object(l.a)(t)&&Object(l.a)(a)&&Object(l.a)(o)))throw new u.a("points, times, firstTangent and lastTangent are required.");if(i.length<2)throw new u.a("points.length must be greater than or equal to 2.");if(t.length!==i.length)throw new u.a("times.length must be equal to points.length.");if(i.length<3)return new h.a({points:i,times:t});var s=n(i,a,o),d=s.slice(0,s.length-1);return new r({times:t,points:i,inTangents:s.slice(1,s.length),outTangents:d})},r.hermiteCoefficientMatrix=new d.a(2,-3,0,1,-2,3,0,0,1,-2,1,0,1,-1,0,0),r.prototype.findTimeInterval=f.a.prototype.findTimeInterval;var b=new s.a,y=new o.a;r.prototype.wrapTime=f.a.prototype.wrapTime,r.prototype.clampTime=f.a.prototype.clampTime,r.prototype.evaluate=function(e,t){Object(l.a)(t)||(t=new o.a);var i=this.points,n=this.times,a=this.inTangents,s=this.outTangents,c=this._lastTimeIndex=this.findTimeInterval(e,this._lastTimeIndex),u=(e-n[c])/(n[c+1]-n[c]),h=b;h.z=u,h.y=u*u,h.x=h.y*u,h.w=1;var f=d.a.multiplyByVector(r.hermiteCoefficientMatrix,h,h);return t=o.a.multiplyByScalar(i[c],f.x,t),o.a.multiplyByScalar(i[c+1],f.y,y),o.a.add(t,y,t),o.a.multiplyByScalar(s[c],f.z,y),o.a.add(t,y,t),o.a.multiplyByScalar(a[c],f.w,y),o.a.add(t,y,t)},t.a=r},EaVv:function(e,t,i){"use strict";function n(e,t){var i=/#define OUTPUT_DECLARATION/,n=e.split("\n");if(/#version 300 es/g.test(e))return e;var r,h,f=-1;for(r=0;r<n.length;++r)if(h=n[r],i.test(h)){f=r;break}if(-1===f)throw new d.a("Could not find a #define OUTPUT_DECLARATION!");var p=[];for(r=0;r<10;r++){var m="gl_FragData\\["+r+"\\]",g="czm_out"+r;new RegExp(m,"g").test(e)&&(c(g,p),a(m,g,n),n.splice(f,0,"layout(location = "+r+") out vec4 "+g+";"),f+=1)}o("gl_FragColor",n)&&(c("czm_fragColor",p),a("gl_FragColor","czm_fragColor",n),n.splice(f,0,"layout(location = 0) out vec4 czm_fragColor;"),f+=1);var _=l(p,n),v={};for(r=0;r<n.length;r++){h=n[r];for(var b in _)if(_.hasOwnProperty(b)){var y=new RegExp("(layout)[^]+(out)[^]+("+b+")[^]+","g");y.test(h)&&(v[h]=b)}}for(var O in v)if(v.hasOwnProperty(O)){var w,x=v[O],E=n.indexOf(O),T=_[x],A=T.length;for(w=0;w<A;w++)n.splice(E,0,T[w]);for(E+=A+1,w=A-1;w>=0;w--)n.splice(E,0,"#endif //"+T[w])}var C=!1;for(r=0;r<n.length;r++)/#version/.test(n[r])&&(n[r]="#version 300 es",C=!0);return C||n.splice(0,0,"#version 300 es"),u("EXT_draw_buffers",n),u("EXT_frag_depth",n),a("texture2D","texture",n),a("texture3D","texture",n),a("textureCube","texture",n),a("gl_FragDepthEXT","gl_FragDepth",n),t?a("varying","in",n):(a("attribute","in",n),a("varying","out",n)),s(n)}function a(e,t,i){for(var n="(^|[^\\w])("+e+")($|[^\\w])",a=new RegExp(n,"g"),r=i.length,o=0;o<r;++o){var s=i[o];i[o]=s.replace(a,"$1"+t+"$3")}}function r(e,t,i){for(var n=i.length,a=0;a<n;++a){var r=i[a];i[a]=r.replace(e,t)}}function o(e,t){for(var i="(^|[^\\w])("+e+")($|[^\\w])",n=new RegExp(i,"g"),a=t.length,r=0;r<a;++r){var o=t[r];if(n.test(o))return!0}return!1}function s(e){for(var t="",i=e.length,n=0;n<i;++n)t+=e[n]+"\n";return t}function c(e,t){-1===t.indexOf(e)&&t.push(e)}function l(e,t){for(var i={},n=e.length,a=[],r=0;r<t.length;++r){var o=t[r],s=/(#ifdef|#if)/g.test(o),c=/#else/g.test(o),l=/#endif/g.test(o);if(s)a.push(o);else if(c){var u=a[a.length-1],d=u.replace("ifdef","ifndef");/if/g.test(d)&&(d=d.replace(/(#if\s+)(\S*)([^]*)/,"$1!($2)$3")),a.pop(),a.push(d)}else if(l)a.pop();else if(!/layout/g.test(o))for(var f=0;f<n;++f){var p=e[f];-1!==o.indexOf(p)&&(Object(h.a)(i[p])?i[p]=i[p].filter(function(e){return a.indexOf(e)>=0}):i[p]=a.slice())}}return i}function u(e,t){var i="#extension\\s+GL_"+e+"\\s+:\\s+[a-zA-Z0-9]+\\s*$";r(new RegExp(i,"g"),"",t)}var h=i("xC6Q"),d=i("PzDm");t.a=n},EnGv:function(e,t,i){"use strict";t.a="/**\n * 0.01\n *\n * @name czm_epsilon2\n * @glslConstant\n */\nconst float czm_epsilon2 = 0.01;\n"},EqjI:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},EquO:function(e,t,i){"use strict";function n(e){r.a.defined("url",e),this._url=l.a.createIfNeeded(e),this._url.appendForwardSlash()}var a=i("Jj+J"),r=i("5F4X"),o=i("xC6Q"),s=i("lVfo"),c=i("Wq1U"),l=i("rMjQ");Object.defineProperties(n.prototype,{url:{get:function(){return this._url}}}),n.prototype.geocode=function(e,t){return r.a.typeOf.string("query",e),this._url.getDerivedResource({url:t===s.a.AUTOCOMPLETE?"autocomplete":"search",queryParameters:{text:e}}).fetchJson().then(function(e){return e.features.map(function(e){var t,i=e.bbox;if(Object(o.a)(i))t=c.a.fromDegrees(i[0],i[1],i[2],i[3]);else{var n=e.geometry.coordinates[0],r=e.geometry.coordinates[1];t=a.a.fromDegrees(n,r)}return{displayName:e.properties.label,destination:t}})})},t.a=n},EuP9:function(e,t,i){"use strict";(function(e){function n(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=r.prototype):(null===e&&(e=new r(t)),e.length=t),e}function r(e,t,i){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return o(this,e,t,i)}function o(e,t,i,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,i,n):"string"==typeof t?u(e,t,i):f(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,i,n){return s(t),t<=0?a(e,t):void 0!==i?"string"==typeof n?a(e,t).fill(i,n):a(e,t).fill(i):a(e,t)}function l(e,t){if(s(t),e=a(e,t<0?0:0|p(t)),!r.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function u(e,t,i){if("string"==typeof i&&""!==i||(i="utf8"),!r.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(t,i);e=a(e,n);var o=e.write(t,i);return o!==n&&(e=e.slice(0,o)),e}function h(e,t){var i=t.length<0?0:0|p(t.length);e=a(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function d(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n),r.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=r.prototype):e=h(e,t),e}function f(e,t){if(r.isBuffer(t)){var i=0|p(t.length);return e=a(e,i),0===e.length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Q(t.length)?a(e,0):h(e,t);if("Buffer"===t.type&&K(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),r.alloc(+e)}function g(e,t){if(r.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Y(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function _(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,t>>>=0,i<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,i);case"utf8":case"utf-8":return S(this,t,i);case"ascii":return P(this,t,i);case"latin1":case"binary":return D(this,t,i);case"base64":return C(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function b(e,t,i,n,a){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=a?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(a)return-1;i=e.length-1}else if(i<0){if(!a)return-1;i=0}if("string"==typeof t&&(t=r.from(t,n)),r.isBuffer(t))return 0===t.length?-1:y(e,t,i,n,a);if("number"==typeof t)return t&=255,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):y(e,[t],i,n,a);throw new TypeError("val must be string, number or Buffer")}function y(e,t,i,n,a){function r(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,i/=2}var l;if(a){var u=-1;for(l=i;l<s;l++)if(r(e,l)===r(t,-1===u?0:l-u)){if(-1===u&&(u=l),l-u+1===c)return u*o}else-1!==u&&(l-=l-u),u=-1}else for(i+c>s&&(i=s-c),l=i;l>=0;l--){for(var h=!0,d=0;d<c;d++)if(r(e,l+d)!==r(t,d)){h=!1;break}if(h)return l}return-1}function O(e,t,i,n){i=Number(i)||0;var a=e.length-i;n?(n=Number(n))>a&&(n=a):n=a;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");n>r/2&&(n=r/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[i+o]=s}return o}function w(e,t,i,n){return X(q(t,e.length-i),e,i,n)}function x(e,t,i,n){return X(W(t),e,i,n)}function E(e,t,i,n){return x(e,t,i,n)}function T(e,t,i,n){return X(Y(t),e,i,n)}function A(e,t,i,n){return X(G(t,e.length-i),e,i,n)}function C(e,t,i){return 0===t&&i===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,i))}function S(e,t,i){i=Math.min(e.length,i);for(var n=[],a=t;a<i;){var r=e[a],o=null,s=r>239?4:r>223?3:r>191?2:1;if(a+s<=i){var c,l,u,h;switch(s){case 1:r<128&&(o=r);break;case 2:c=e[a+1],128==(192&c)&&(h=(31&r)<<6|63&c)>127&&(o=h);break;case 3:c=e[a+1],l=e[a+2],128==(192&c)&&128==(192&l)&&(h=(15&r)<<12|(63&c)<<6|63&l)>2047&&(h<55296||h>57343)&&(o=h);break;case 4:c=e[a+1],l=e[a+2],u=e[a+3],128==(192&c)&&128==(192&l)&&128==(192&u)&&(h=(15&r)<<18|(63&c)<<12|(63&l)<<6|63&u)>65535&&h<1114112&&(o=h)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),a+=s}return j(n)}function j(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=$));return i}function P(e,t,i){var n="";i=Math.min(e.length,i);for(var a=t;a<i;++a)n+=String.fromCharCode(127&e[a]);return n}function D(e,t,i){var n="";i=Math.min(e.length,i);for(var a=t;a<i;++a)n+=String.fromCharCode(e[a]);return n}function I(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var a="",r=t;r<i;++r)a+=H(e[r]);return a}function R(e,t,i){for(var n=e.slice(t,i),a="",r=0;r<n.length;r+=2)a+=String.fromCharCode(n[r]+256*n[r+1]);return a}function M(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,i,n,a,o){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function N(e,t,i,n){t<0&&(t=65535+t+1);for(var a=0,r=Math.min(e.length-i,2);a<r;++a)e[i+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function F(e,t,i,n){t<0&&(t=4294967295+t+1);for(var a=0,r=Math.min(e.length-i,4);a<r;++a)e[i+a]=t>>>8*(n?a:3-a)&255}function z(e,t,i,n,a,r){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function B(e,t,i,n,a){return a||z(e,t,i,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,i,n,23,4),i+4}function k(e,t,i,n,a){return a||z(e,t,i,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,i,n,52,8),i+8}function U(e){if(e=V(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var i,n=e.length,a=null,r=[],o=0;o<n;++o){if((i=e.charCodeAt(o))>55295&&i<57344){if(!a){if(i>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&r.push(239,191,189);continue}a=i;continue}if(i<56320){(t-=3)>-1&&r.push(239,191,189),a=i;continue}i=65536+(a-55296<<10|i-56320)}else a&&(t-=3)>-1&&r.push(239,191,189);if(a=null,i<128){if((t-=1)<0)break;r.push(i)}else if(i<2048){if((t-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function W(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function G(e,t){for(var i,n,a,r=[],o=0;o<e.length&&!((t-=2)<0);++o)i=e.charCodeAt(o),n=i>>8,a=i%256,r.push(a),r.push(n);return r}function Y(e){return J.toByteArray(U(e))}function X(e,t,i,n){for(var a=0;a<n&&!(a+i>=t.length||a>=e.length);++a)t[a+i]=e[a];return a}function Q(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var J=i("EKta"),Z=i("ujcs"),K=i("Ht8P");t.Buffer=r,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=n(),r.poolSize=8192,r._augment=function(e){return e.__proto__=r.prototype,e},r.from=function(e,t,i){return o(null,e,t,i)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(e,t,i){return c(null,e,t,i)},r.allocUnsafe=function(e){return l(null,e)},r.allocUnsafeSlow=function(e){return l(null,e)},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,a=0,o=Math.min(i,n);a<o;++a)if(e[a]!==t[a]){i=e[a],n=t[a];break}return i<n?-1:n<i?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!K(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=r.allocUnsafe(t),a=0;for(i=0;i<e.length;++i){var o=e[i];if(!r.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,a),a+=o.length}return n},r.byteLength=g,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},r.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):_.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e,t,i,n,a){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||i>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=i)return 0;if(n>=a)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,a>>>=0,this===e)return 0;for(var o=a-n,s=i-t,c=Math.min(o,s),l=this.slice(n,a),u=e.slice(t,i),h=0;h<c;++h)if(l[h]!==u[h]){o=l[h],s=u[h];break}return o<s?-1:s<o?1:0},r.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},r.prototype.indexOf=function(e,t,i){return b(this,e,t,i,!0)},r.prototype.lastIndexOf=function(e,t,i){return b(this,e,t,i,!1)},r.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var a=this.length-t;if((void 0===i||i>a)&&(i=a),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return O(this,e,t,i);case"utf8":case"utf-8":return w(this,e,t,i);case"ascii":return x(this,e,t,i);case"latin1":case"binary":return E(this,e,t,i);case"base64":return T(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;r.prototype.slice=function(e,t){var i=this.length;e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var n;if(r.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=r.prototype;else{var a=t-e;n=new r(a,void 0);for(var o=0;o<a;++o)n[o]=this[o+e]}return n},r.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||M(e,t,this.length);for(var n=this[e],a=1,r=0;++r<t&&(a*=256);)n+=this[e+r]*a;return n},r.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||M(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},r.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||M(e,t,this.length);for(var n=this[e],a=1,r=0;++r<t&&(a*=256);)n+=this[e+r]*a;return a*=128,n>=a&&(n-=Math.pow(2,8*t)),n},r.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||M(e,t,this.length);for(var n=t,a=1,r=this[e+--n];n>0&&(a*=256);)r+=this[e+--n]*a;return a*=128,r>=a&&(r-=Math.pow(2,8*t)),r},r.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},r.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},r.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),Z.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),Z.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),Z.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),Z.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t|=0,i|=0,!n){L(this,e,t,i,Math.pow(2,8*i)-1,0)}var a=1,r=0;for(this[t]=255&e;++r<i&&(a*=256);)this[t+r]=e/a&255;return t+i},r.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t|=0,i|=0,!n){L(this,e,t,i,Math.pow(2,8*i)-1,0)}var a=i-1,r=1;for(this[t+a]=255&e;--a>=0&&(r*=256);)this[t+a]=e/r&255;return t+i},r.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*i-1);L(this,e,t,i,a-1,-a)}var r=0,o=1,s=0;for(this[t]=255&e;++r<i&&(o*=256);)e<0&&0===s&&0!==this[t+r-1]&&(s=1),this[t+r]=(e/o>>0)-s&255;return t+i},r.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*i-1);L(this,e,t,i,a-1,-a)}var r=i-1,o=1,s=0;for(this[t+r]=255&e;--r>=0&&(o*=256);)e<0&&0===s&&0!==this[t+r+1]&&(s=1),this[t+r]=(e/o>>0)-s&255;return t+i},r.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,i){return B(this,e,t,!0,i)},r.prototype.writeFloatBE=function(e,t,i){return B(this,e,t,!1,i)},r.prototype.writeDoubleLE=function(e,t,i){return k(this,e,t,!0,i)},r.prototype.writeDoubleBE=function(e,t,i){return k(this,e,t,!1,i)},r.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var a,o=n-i;if(this===e&&i<t&&t<n)for(a=o-1;a>=0;--a)e[a+t]=this[a+i];else if(o<1e3||!r.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},r.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!r.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{var s=r.isBuffer(e)?e:q(new r(e,n).toString()),c=s.length;for(o=0;o<i-t;++o)this[o+t]=s[o%c]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,i("DuR2"))},EwVK:function(e,t,i){"use strict";var n={CENTER:0,LEFT:1,RIGHT:-1};t.a=Object.freeze(n)},Exau:function(e,t,i){"use strict";function n(e,t,i){this.context=e,this.commandList=[],this.shadowMaps=[],this.brdfLutGenerator=void 0,this.environmentMap=void 0,this.sphericalHarmonicCoefficients=void 0,this.specularEnvironmentMaps=void 0,this.specularEnvironmentMapsMaximumLOD=void 0,this.mode=a.a.SCENE3D,this.morphTime=a.a.getMorphTime(a.a.SCENE3D),this.frameNumber=0,this.newFrame=!1,this.time=void 0,this.jobScheduler=i,this.mapProjection=void 0,this.camera=void 0,this.cullingVolume=void 0,this.occluder=void 0,this.maximumScreenSpaceError=void 0,this.pixelRatio=1,this.passes={render:!1,pick:!1,depth:!1,postProcess:!1,offscreen:!1},this.creditDisplay=t,this.afterRender=[],this.scene3DOnly=!1,this.fog={enabled:!1,density:void 0,sse:void 0,minimumBrightness:void 0},this.terrainExaggeration=1,this.shadowState={shadowsEnabled:!0,lightShadowsEnabled:!0,shadowMaps:[],lightShadowMaps:[],nearPlane:1,farPlane:5e3,closestObjectSize:1e3,lastDirtyTime:0,outOfView:!0},this.imagerySplitPosition=0,this.frustumSplits=[],this.backgroundColor=void 0,this.light=void 0,this.minimumDisableDepthTestDistance=void 0,this.invertClassification=!1,this.invertClassificationColor=void 0,this.useLogDepth=!1,this.tilesetPassState=void 0,this.minimumTerrainHeight=0}var a=i("sotJ");t.a=n},F0u8:function(e,t,i){"use strict";t.a="#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n#endif\n\n#ifdef VECTOR_TILE\nuniform vec4 u_highlightColor;\n#endif\n\nvoid main(void)\n{\n#ifdef VECTOR_TILE\n    gl_FragColor = czm_gammaCorrect(u_highlightColor);\n#else\n    gl_FragColor = vec4(1.0);\n#endif\n    czm_writeDepthClampedToFarPlane();\n}\n"},"F6/P":function(e,t,i){"use strict";var n={NONE:0,HOLD:1,EXTRAPOLATE:2};t.a=Object.freeze(n)},F8sz:function(e,t,i){"use strict";function n(e,t){0===t&&(t=l.a.EPSILON7),this._boundingSphere=new a.a(e,t)}var a=i("lBr9"),r=i("Jj+J"),o=i("5F4X"),s=i("devy"),c=i("izcu"),l=i("fq+p"),u=i("Xjii"),h=i("+VVU"),d=i("BOJj"),f=i("0df4");Object.defineProperties(n.prototype,{center:{get:function(){return this._boundingSphere.center}},radius:{get:function(){return this._boundingSphere.radius}},boundingVolume:{get:function(){return this._boundingSphere}},boundingSphere:{get:function(){return this._boundingSphere}}}),n.prototype.distanceToCamera=function(e){o.a.defined("frameState",e);var t=this._boundingSphere;return Math.max(0,r.a.distance(t.center,e.camera.positionWC)-t.radius)},n.prototype.intersectPlane=function(e){return o.a.defined("plane",e),a.a.intersectPlane(this._boundingSphere,e)},n.prototype.update=function(e,t){r.a.clone(e,this._boundingSphere.center),this._boundingSphere.radius=t},n.prototype.createDebugVolume=function(e){o.a.defined("color",e);var t=new h.a({radius:this.radius}),i=u.a.fromTranslation(this.center,new u.a.clone(u.a.IDENTITY)),n=new c.a({geometry:t,id:"outline",modelMatrix:i,attributes:{color:s.a.fromColor(e)}});return new f.a({geometryInstances:n,appearance:new d.a({translucent:!1,flat:!0}),asynchronous:!1})},t.a=n},FB01:function(e,t,i){"use strict";function n(e){e=Object(s.a)(e,s.a.EMPTY_OBJECT),this.length=Object(s.a)(e.length,1e7),this._length=void 0,this.width=Object(s.a)(e.width,2),this._width=void 0,this.show=Object(s.a)(e.show,!0),this.modelMatrix=h.a.clone(Object(s.a)(e.modelMatrix,h.a.IDENTITY)),this._modelMatrix=new h.a,this.id=e.id,this._id=void 0,this._primitive=void 0}var a=i("X8rS"),r=i("Jj+J"),o=i("6F0S"),s=i("5A4e"),c=i("xC6Q"),l=i("6sr8"),u=i("izcu"),h=i("Xjii"),d=i("jo6B"),f=i("DWwl"),p=i("0df4");n.prototype.update=function(e){if(this.show){if(!Object(c.a)(this._primitive)||!h.a.equals(this._modelMatrix,this.modelMatrix)||this._length!==this.length||this._width!==this.width||this._id!==this.id){this._modelMatrix=h.a.clone(this.modelMatrix,this._modelMatrix),this._length=this.length,this._width=this.width,this._id=this.id,Object(c.a)(this._primitive)&&this._primitive.destroy(),0===this.modelMatrix[12]&&0===this.modelMatrix[13]&&0===this.modelMatrix[14]&&(this.modelMatrix[14]=.01);var t=new u.a({geometry:new d.a({positions:[r.a.ZERO,r.a.UNIT_X],width:this.width,vertexFormat:f.a.VERTEX_FORMAT,colors:[o.a.RED,o.a.RED],arcType:a.a.NONE}),modelMatrix:h.a.multiplyByUniformScale(this.modelMatrix,this.length,new h.a),id:this.id,pickPrimitive:this}),i=new u.a({geometry:new d.a({positions:[r.a.ZERO,r.a.UNIT_Y],width:this.width,vertexFormat:f.a.VERTEX_FORMAT,colors:[o.a.GREEN,o.a.GREEN],arcType:a.a.NONE}),modelMatrix:h.a.multiplyByUniformScale(this.modelMatrix,this.length,new h.a),id:this.id,pickPrimitive:this}),n=new u.a({geometry:new d.a({positions:[r.a.ZERO,r.a.UNIT_Z],width:this.width,vertexFormat:f.a.VERTEX_FORMAT,colors:[o.a.BLUE,o.a.BLUE],arcType:a.a.NONE}),modelMatrix:h.a.multiplyByUniformScale(this.modelMatrix,this.length,new h.a),id:this.id,pickPrimitive:this});this._primitive=new p.a({geometryInstances:[t,i,n],appearance:new f.a,asynchronous:!1})}this._primitive.update(e)}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),Object(l.a)(this)},t.a=n},FBxm:function(e,t,i){"use strict";function n(e){this._name=e,this._clock=void 0,this._changed=new o.a,this._error=new o.a,this._isLoading=!1,this._loading=new o.a,this._entityCollection=new l.a(this),this._entityCluster=new c.a}var a=i("xC6Q"),r=i("PzDm"),o=i("W6xh"),s=i("jjt3"),c=i("eZY8"),l=i("K+QI");Object.defineProperties(n.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{get:function(){return this._clock},set:function(e){this._clock!==e&&(this._clock=e,this._changed.raiseEvent(this))}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading},set:function(e){s.a.setLoading(this,e)}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!Object(a.a)(e))throw new r.a("value must be defined.");this._entityCluster=e}}}),t.a=n},FJg6:function(e,t,i){"use strict";function n(){}var a=i("dnpE"),r=i("xC6Q");n.objectLegacy=function(e,t){if(Object(r.a)(e))for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=e[i],a=t(n,i);if(Object(r.a)(a))return a}},n.object=function(e,t){if(Object(r.a)(e))for(var i=e.length,n=0;n<i;n++){var a=e[n],o=t(a,n);if(Object(r.a)(o))return o}},n.topLevel=function(e,t,i){var a=e[t];return Object(r.a)(a)&&!Array.isArray(a)?n.objectLegacy(a,i):n.object(a,i)},n.accessor=function(e,t){return n.topLevel(e,"accessors",t)},n.accessorWithSemantic=function(e,t,i){var a={};return n.mesh(e,function(e){return n.meshPrimitive(e,function(e){var o=n.meshPrimitiveAttribute(e,function(e,n){if(0===n.indexOf(t)&&!Object(r.a)(a[e])){a[e]=!0;var o=i(e);if(Object(r.a)(o))return o}});return Object(r.a)(o)?o:n.meshPrimitiveTarget(e,function(e){return n.meshPrimitiveTargetAttribute(e,function(e,n){if(0===n.indexOf(t)&&!Object(r.a)(a[e])){a[e]=!0;var o=i(e);if(Object(r.a)(o))return o}})})})})},n.accessorContainingVertexAttributeData=function(e,t){var i={};return n.mesh(e,function(e){return n.meshPrimitive(e,function(e){var a=n.meshPrimitiveAttribute(e,function(e){if(!Object(r.a)(i[e])){i[e]=!0;var n=t(e);if(Object(r.a)(n))return n}});return Object(r.a)(a)?a:n.meshPrimitiveTarget(e,function(e){return n.meshPrimitiveTargetAttribute(e,function(e){if(!Object(r.a)(i[e])){i[e]=!0;var n=t(e);if(Object(r.a)(n))return n}})})})})},n.accessorContainingIndexData=function(e,t){var i={};return n.mesh(e,function(e){return n.meshPrimitive(e,function(e){var n=e.indices;if(Object(r.a)(n)&&!Object(r.a)(i[n])){i[n]=!0;var a=t(n);if(Object(r.a)(a))return a}})})},n.animation=function(e,t){return n.topLevel(e,"animations",t)},n.animationChannel=function(e,t){var i=e.channels;return n.object(i,t)},n.animationSampler=function(e,t){var i=e.samplers;return n.object(i,t)},n.buffer=function(e,t){return n.topLevel(e,"buffers",t)},n.bufferView=function(e,t){return n.topLevel(e,"bufferViews",t)},n.camera=function(e,t){return n.topLevel(e,"cameras",t)},n.image=function(e,t){return n.topLevel(e,"images",t)},n.compressedImage=function(e,t){if(Object(r.a)(e.extras)){var i=e.extras.compressedImage3DTiles;for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var a=i[n],o=t(a,n);if(Object(r.a)(o))return o}}},n.material=function(e,t){return n.topLevel(e,"materials",t)},n.materialValue=function(e,t){var i=e.values;Object(r.a)(e.extensions)&&Object(r.a)(e.extensions.KHR_techniques_webgl)&&(i=e.extensions.KHR_techniques_webgl.values);for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var a=t(i[n],n);if(Object(r.a)(a))return a}},n.mesh=function(e,t){return n.topLevel(e,"meshes",t)},n.meshPrimitive=function(e,t){var i=e.primitives;if(Object(r.a)(i))for(var n=i.length,a=0;a<n;a++){var o=i[a],s=t(o,a);if(Object(r.a)(s))return s}},n.meshPrimitiveAttribute=function(e,t){var i=e.attributes;for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var a=t(i[n],n);if(Object(r.a)(a))return a}},n.meshPrimitiveTarget=function(e,t){var i=e.targets;if(Object(r.a)(i))for(var n=i.length,a=0;a<n;++a){var o=t(i[a],a);if(Object(r.a)(o))return o}},n.meshPrimitiveTargetAttribute=function(e,t){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=e[i],a=t(n,i);if(Object(r.a)(a))return a}},n.node=function(e,t){return n.topLevel(e,"nodes",t)},n.nodeInTree=function(e,t,i){var a=e.nodes;if(Object(r.a)(a))for(var o=t.length,s=0;s<o;s++){var c=t[s],l=a[c];if(Object(r.a)(l)){var u=i(l,c);if(Object(r.a)(u))return u;var h=l.children;if(Object(r.a)(h)&&(u=n.nodeInTree(e,h,i),Object(r.a)(u)))return u}}},n.nodeInScene=function(e,t,i){var a=t.nodes;if(Object(r.a)(a))return n.nodeInTree(e,a,i)},n.program=function(e,t){return Object(a.a)(e,"KHR_techniques_webgl")?n.object(e.extensions.KHR_techniques_webgl.programs,t):n.topLevel(e,"programs",t)},n.sampler=function(e,t){return n.topLevel(e,"samplers",t)},n.scene=function(e,t){return n.topLevel(e,"scenes",t)},n.shader=function(e,t){return Object(a.a)(e,"KHR_techniques_webgl")?n.object(e.extensions.KHR_techniques_webgl.shaders,t):n.topLevel(e,"shaders",t)},n.skin=function(e,t){return n.topLevel(e,"skins",t)},n.skinJoint=function(e,t){var i=e.joints;if(Object(r.a)(i))for(var n=i.length,a=0;a<n;a++){var o=i[a],s=t(o);if(Object(r.a)(s))return s}},n.techniqueAttribute=function(e,t){var i=e.attributes;for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var a=t(i[n],n);if(Object(r.a)(a))return a}},n.techniqueUniform=function(e,t){var i=e.uniforms;for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var a=t(i[n],n);if(Object(r.a)(a))return a}},n.techniqueParameter=function(e,t){var i=e.parameters;for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var a=t(i[n],n);if(Object(r.a)(a))return a}},n.technique=function(e,t){return Object(a.a)(e,"KHR_techniques_webgl")?n.object(e.extensions.KHR_techniques_webgl.techniques,t):n.topLevel(e,"techniques",t)},n.texture=function(e,t){return n.topLevel(e,"textures",t)},t.a=n},FQmP:function(e,t,i){"use strict";t.a="/**\n * A built-in GLSL floating-point constant for <code>1/pi</code>.\n *\n * @alias czm_oneOverPi\n * @glslConstant\n *\n * @see CesiumMath.ONE_OVER_PI\n *\n * @example\n * // GLSL declaration\n * const float czm_oneOverPi = ...;\n *\n * // Example\n * float pi = 1.0 / czm_oneOverPi;\n */\nconst float czm_oneOverPi = 0.3183098861837907;\n"},FRQM:function(e,t,i){"use strict";t.a="/**\n * DOC_TBA\n *\n * @name czm_raySegment\n * @glslStruct\n */\nstruct czm_raySegment\n{\n    float start;\n    float stop;\n};\n\n/**\n * DOC_TBA\n *\n * @name czm_emptyRaySegment\n * @glslConstant \n */\nconst czm_raySegment czm_emptyRaySegment = czm_raySegment(-czm_infinity, -czm_infinity);\n\n/**\n * DOC_TBA\n *\n * @name czm_fullRaySegment\n * @glslConstant \n */\nconst czm_raySegment czm_fullRaySegment = czm_raySegment(0.0, czm_infinity);\n"},"FZ+f":function(e,t){function i(e,t){var i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var r=n(a);return[i].concat(a.sources.map(function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"})).concat([r]).join("\n")}return[i].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=i(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},a=0;a<this.length;a++){var r=this[a][0];"number"==typeof r&&(n[r]=!0)}for(a=0;a<e.length;a++){var o=e[a];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},Fd8u:function(e,t,i){"use strict";function n(){this._cache={}}function a(e,t,i){e.save(),e.scale(i/24,i/24),e.fillStyle=t.toCssColorString(),e.strokeStyle=t.brighten(.6,f).toCssColorString(),e.lineWidth=.846,e.beginPath(),e.moveTo(6.72,.422),e.lineTo(17.28,.422),e.bezierCurveTo(18.553,.422,19.577,1.758,19.577,3.415),e.lineTo(19.577,10.973),e.bezierCurveTo(19.577,12.63,18.553,13.966,17.282,13.966),e.lineTo(14.386,14.008),e.lineTo(11.826,23.578),e.lineTo(9.614,14.008),e.lineTo(6.719,13.965),e.bezierCurveTo(5.446,13.983,4.422,12.629,4.422,10.972),e.lineTo(4.422,3.416),e.bezierCurveTo(4.423,1.76,5.447,.423,6.718,.423),e.closePath(),e.fill(),e.stroke(),e.restore()}function r(e,t,i){var n=i/2.5,a=n,r=n;t.width>t.height?r=n*(t.height/t.width):t.width<t.height&&(a=n*(t.width/t.height));var o=Math.round((i-a)/2),s=Math.round(7/24*i-r/2);e.globalCompositeOperation="destination-out",e.drawImage(t,o-1,s,a,r),e.drawImage(t,o,s-1,a,r),e.drawImage(t,o+1,s,a,r),e.drawImage(t,o,s+1,a,r),e.globalCompositeOperation="destination-over",e.fillStyle=c.a.BLACK.toCssColorString(),e.fillRect(o-1,s-1,a+2,r+2),e.globalCompositeOperation="destination-out",e.drawImage(t,o,s,a,r),e.globalCompositeOperation="destination-over",e.fillStyle=c.a.WHITE.toCssColorString(),e.fillRect(o-1,s-2,a+2,r+2)}function o(e,t,i,n,o){p[0]=e,p[1]=t,p[2]=i,p[3]=n;var s=JSON.stringify(p),c=o[s];if(Object(l.a)(c))return c;var u=document.createElement("canvas");u.width=n,u.height=n;var f=u.getContext("2d");if(a(f,i,n),Object(l.a)(e)){var m=h.a.createIfNeeded(e),g=m.fetchImage().then(function(e){return r(f,e,n),o[s]=u,u});return o[s]=g,g}if(Object(l.a)(t)){var _=Object(d.a)(t,{font:"bold "+n+"px sans-serif"});r(f,_,n)}return o[s]=u,u}var s=i("CcV0"),c=i("6F0S"),l=i("xC6Q"),u=i("PzDm"),h=i("rMjQ"),d=i("EFEs");n.prototype.fromColor=function(e,t){if(!Object(l.a)(e))throw new u.a("color is required");if(!Object(l.a)(t))throw new u.a("size is required");return o(void 0,void 0,e,t,this._cache)},n.prototype.fromUrl=function(e,t,i){if(!Object(l.a)(e))throw new u.a("url is required");if(!Object(l.a)(t))throw new u.a("color is required");if(!Object(l.a)(i))throw new u.a("size is required");return o(e,void 0,t,i,this._cache)},n.prototype.fromMakiIconId=function(e,t,i){if(!Object(l.a)(e))throw new u.a("id is required");if(!Object(l.a)(t))throw new u.a("color is required");if(!Object(l.a)(i))throw new u.a("size is required");return o(Object(s.a)("Assets/Textures/maki/"+encodeURIComponent(e)+".png"),void 0,t,i,this._cache)},n.prototype.fromText=function(e,t,i){if(!Object(l.a)(e))throw new u.a("text is required");if(!Object(l.a)(t))throw new u.a("color is required");if(!Object(l.a)(i))throw new u.a("size is required");return o(void 0,e,t,i,this._cache)};var f=new c.a,p=new Array(4);t.a=n},FeBl:function(e,t){var i=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=i)},FeGa:function(e,t,i){"use strict";function n(){}var a=i("xC6Q"),r=i("x6Ms");n.getShadowCastShaderKeyword=function(e,t,i,n){return"castShadow "+e+" "+t+" "+i+" "+n},n.createShadowCastVertexShader=function(e,t,i){var n=e.defines.slice(0),o=e.sources.slice(0);n.push("SHADOW_MAP"),i&&n.push("GENERATE_POSITION");var s=r.a.findPositionVarying(e),c=Object(a.a)(s);if(t&&!c){for(var l=o.length,u=0;u<l;++u)o[u]=r.a.replaceMain(o[u],"czm_shadow_cast_main");o.push("varying vec3 v_positionEC; \nvoid main() \n{ \n    czm_shadow_cast_main(); \n    v_positionEC = (czm_inverseProjection * gl_Position).xyz; \n}")}return new r.a({defines:n,sources:o})},n.createShadowCastFragmentShader=function(e,t,i,n){var o=e.defines.slice(0),s=e.sources.slice(0),c=r.a.findPositionVarying(e),l=Object(a.a)(c);l||(c="v_positionEC");for(var u=s.length,h=0;h<u;++h)s[h]=r.a.replaceMain(s[h],"czm_shadow_cast_main");var d="";return t&&(l||(d+="varying vec3 v_positionEC; \n"),d+="uniform vec4 shadowMap_lightPositionEC; \n"),d+=n?"void main() \n{ \n":"void main() \n{ \n    czm_shadow_cast_main(); \n    if (gl_FragColor.a == 0.0) \n    { \n       discard; \n    } \n",d+=t?"    float distance = length("+c+"); \n    if (distance >= shadowMap_lightPositionEC.w) \n    { \n        discard; \n    } \n    distance /= shadowMap_lightPositionEC.w; // radius \n    gl_FragColor = czm_packDepth(distance); \n":i?"    gl_FragColor = vec4(1.0); \n":"    gl_FragColor = czm_packDepth(gl_FragCoord.z); \n",d+="} \n",s.push(d),new r.a({defines:o,sources:s})},n.getShadowReceiveShaderKeyword=function(e,t,i,n){return"receiveShadow "+e._usesDepthTexture+e._polygonOffsetSupported+e._isPointLight+e._isSpotLight+(e._numberOfCascades>1)+e.debugCascadeColors+e.softShadows+t+i+n},n.createShadowReceiveVertexShader=function(e,t,i){var n=e.defines.slice(0),a=e.sources.slice(0);return n.push("SHADOW_MAP"),t&&(i?n.push("GENERATE_POSITION_AND_NORMAL"):n.push("GENERATE_POSITION")),new r.a({defines:n,sources:a})},n.createShadowReceiveFragmentShader=function(e,t,i,n,o){for(var s=r.a.findNormalVarying(e),c=!n&&Object(a.a)(s)||n&&o,l=r.a.findPositionVarying(e),u=Object(a.a)(l),h=t._usesDepthTexture,d=t._polygonOffsetSupported,f=t._isPointLight,p=t._isSpotLight,m=t._numberOfCascades>1,g=t.debugCascadeColors,_=t.softShadows,v=f?t._pointBias:n?t._terrainBias:t._primitiveBias,b=e.defines.slice(0),y=e.sources.slice(0),O=y.length,w=0;w<O;++w)y[w]=r.a.replaceMain(y[w],"czm_shadow_receive_main");f?b.push("USE_CUBE_MAP_SHADOW"):h&&b.push("USE_SHADOW_DEPTH_TEXTURE"),_&&!f&&b.push("USE_SOFT_SHADOWS"),m&&i&&n&&(c?b.push("ENABLE_VERTEX_LIGHTING"):b.push("ENABLE_DAYNIGHT_SHADING")),i&&v.normalShading&&c&&(b.push("USE_NORMAL_SHADING"),v.normalShadingSmooth>0&&b.push("USE_NORMAL_SHADING_SMOOTH"));var x="";x+=f?"uniform samplerCube shadowMap_textureCube; \n":"uniform sampler2D shadowMap_texture; \n";var E;return E=u?"    return vec4("+l+", 1.0); \n":"#ifndef LOG_DEPTH \n    return czm_windowToEyeCoordinates(gl_FragCoord); \n#else \n    return vec4(v_logPositionEC, 1.0); \n#endif \n",x+="uniform mat4 shadowMap_matrix; \nuniform vec3 shadowMap_lightDirectionEC; \nuniform vec4 shadowMap_lightPositionEC; \nuniform vec4 shadowMap_normalOffsetScaleDistanceMaxDistanceAndDarkness; \nuniform vec4 shadowMap_texelSizeDepthBiasAndNormalShadingSmooth; \n#ifdef LOG_DEPTH \nvarying vec3 v_logPositionEC; \n#endif \nvec4 getPositionEC() \n{ \n"+E+"} \nvec3 getNormalEC() \n{ \n"+(c?"    return normalize("+s+"); \n":"    return vec3(1.0); \n")+"} \nvoid applyNormalOffset(inout vec4 positionEC, vec3 normalEC, float nDotL) \n{ \n"+(v.normalOffset&&c?"    float normalOffset = shadowMap_normalOffsetScaleDistanceMaxDistanceAndDarkness.x; \n    float normalOffsetScale = 1.0 - nDotL; \n    vec3 offset = normalOffset * normalOffsetScale * normalEC; \n    positionEC.xyz += offset; \n":"")+"} \n",x+="void main() \n{ \n    czm_shadow_receive_main(); \n    vec4 positionEC = getPositionEC(); \n    vec3 normalEC = getNormalEC(); \n    float depth = -positionEC.z; \n",x+="    czm_shadowParameters shadowParameters; \n    shadowParameters.texelStepSize = shadowMap_texelSizeDepthBiasAndNormalShadingSmooth.xy; \n    shadowParameters.depthBias = shadowMap_texelSizeDepthBiasAndNormalShadingSmooth.z; \n    shadowParameters.normalShadingSmooth = shadowMap_texelSizeDepthBiasAndNormalShadingSmooth.w; \n    shadowParameters.darkness = shadowMap_normalOffsetScaleDistanceMaxDistanceAndDarkness.w; \n",n?x+="    shadowParameters.depthBias *= max(depth * 0.01, 1.0); \n":d||(x+="    shadowParameters.depthBias *= mix(1.0, 100.0, depth * 0.0015); \n"),x+=f?"    vec3 directionEC = positionEC.xyz - shadowMap_lightPositionEC.xyz; \n    float distance = length(directionEC); \n    directionEC = normalize(directionEC); \n    float radius = shadowMap_lightPositionEC.w; \n    // Stop early if the fragment is beyond the point light radius \n    if (distance > radius) \n    { \n        return; \n    } \n    vec3 directionWC  = czm_inverseViewRotation * directionEC; \n    shadowParameters.depth = distance / radius; \n    shadowParameters.nDotL = clamp(dot(normalEC, -directionEC), 0.0, 1.0); \n    shadowParameters.texCoords = directionWC; \n    float visibility = czm_shadowVisibility(shadowMap_textureCube, shadowParameters); \n":p?"    vec3 directionEC = normalize(positionEC.xyz - shadowMap_lightPositionEC.xyz); \n    float nDotL = clamp(dot(normalEC, -directionEC), 0.0, 1.0); \n    applyNormalOffset(positionEC, normalEC, nDotL); \n    vec4 shadowPosition = shadowMap_matrix * positionEC; \n    // Spot light uses a perspective projection, so perform the perspective divide \n    shadowPosition /= shadowPosition.w; \n    // Stop early if the fragment is not in the shadow bounds \n    if (any(lessThan(shadowPosition.xyz, vec3(0.0))) || any(greaterThan(shadowPosition.xyz, vec3(1.0)))) \n    { \n        return; \n    } \n    shadowParameters.texCoords = shadowPosition.xy; \n    shadowParameters.depth = shadowPosition.z; \n    shadowParameters.nDotL = nDotL; \n    float visibility = czm_shadowVisibility(shadowMap_texture, shadowParameters); \n":m?"    float maxDepth = shadowMap_cascadeSplits[1].w; \n    // Stop early if the eye depth exceeds the last cascade \n    if (depth > maxDepth) \n    { \n        return; \n    } \n    // Get the cascade based on the eye-space depth \n    vec4 weights = czm_cascadeWeights(depth); \n    // Apply normal offset \n    float nDotL = clamp(dot(normalEC, shadowMap_lightDirectionEC), 0.0, 1.0); \n    applyNormalOffset(positionEC, normalEC, nDotL); \n    // Transform position into the cascade \n    vec4 shadowPosition = czm_cascadeMatrix(weights) * positionEC; \n    // Get visibility \n    shadowParameters.texCoords = shadowPosition.xy; \n    shadowParameters.depth = shadowPosition.z; \n    shadowParameters.nDotL = nDotL; \n    float visibility = czm_shadowVisibility(shadowMap_texture, shadowParameters); \n    // Fade out shadows that are far away \n    float shadowMapMaximumDistance = shadowMap_normalOffsetScaleDistanceMaxDistanceAndDarkness.z; \n    float fade = max((depth - shadowMapMaximumDistance * 0.8) / (shadowMapMaximumDistance * 0.2), 0.0); \n    visibility = mix(visibility, 1.0, fade); \n"+(g?"    // Draw cascade colors for debugging \n    gl_FragColor *= czm_cascadeColor(weights); \n":""):"    float nDotL = clamp(dot(normalEC, shadowMap_lightDirectionEC), 0.0, 1.0); \n    applyNormalOffset(positionEC, normalEC, nDotL); \n    vec4 shadowPosition = shadowMap_matrix * positionEC; \n    // Stop early if the fragment is not in the shadow bounds \n    if (any(lessThan(shadowPosition.xyz, vec3(0.0))) || any(greaterThan(shadowPosition.xyz, vec3(1.0)))) \n    { \n        return; \n    } \n    shadowParameters.texCoords = shadowPosition.xy; \n    shadowParameters.depth = shadowPosition.z; \n    shadowParameters.nDotL = nDotL; \n    float visibility = czm_shadowVisibility(shadowMap_texture, shadowParameters); \n",x+="    gl_FragColor.rgb *= visibility; \n} \n",y.push(x),new r.a({defines:b,sources:y})},t.a=n},FhYh:function(e,t,i){"use strict";var n=i("HvCH"),a=i("1L1F"),r={DEPTH_COMPONENT:a.a.DEPTH_COMPONENT,DEPTH_STENCIL:a.a.DEPTH_STENCIL,ALPHA:a.a.ALPHA,RGB:a.a.RGB,RGBA:a.a.RGBA,LUMINANCE:a.a.LUMINANCE,LUMINANCE_ALPHA:a.a.LUMINANCE_ALPHA,RGB_DXT1:a.a.COMPRESSED_RGB_S3TC_DXT1_EXT,RGBA_DXT1:a.a.COMPRESSED_RGBA_S3TC_DXT1_EXT,RGBA_DXT3:a.a.COMPRESSED_RGBA_S3TC_DXT3_EXT,RGBA_DXT5:a.a.COMPRESSED_RGBA_S3TC_DXT5_EXT,RGB_PVRTC_4BPPV1:a.a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,RGB_PVRTC_2BPPV1:a.a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,RGBA_PVRTC_4BPPV1:a.a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,RGBA_PVRTC_2BPPV1:a.a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,RGB_ETC1:a.a.COMPRESSED_RGB_ETC1_WEBGL,componentsLength:function(e){switch(e){case r.RGB:return 3;case r.RGBA:return 4;case r.LUMINANCE_ALPHA:return 2;case r.ALPHA:case r.LUMINANCE:default:return 1}},validate:function(e){return e===r.DEPTH_COMPONENT||e===r.DEPTH_STENCIL||e===r.ALPHA||e===r.RGB||e===r.RGBA||e===r.LUMINANCE||e===r.LUMINANCE_ALPHA||e===r.RGB_DXT1||e===r.RGBA_DXT1||e===r.RGBA_DXT3||e===r.RGBA_DXT5||e===r.RGB_PVRTC_4BPPV1||e===r.RGB_PVRTC_2BPPV1||e===r.RGBA_PVRTC_4BPPV1||e===r.RGBA_PVRTC_2BPPV1||e===r.RGB_ETC1},isColorFormat:function(e){return e===r.ALPHA||e===r.RGB||e===r.RGBA||e===r.LUMINANCE||e===r.LUMINANCE_ALPHA},isDepthFormat:function(e){return e===r.DEPTH_COMPONENT||e===r.DEPTH_STENCIL},isCompressedFormat:function(e){return e===r.RGB_DXT1||e===r.RGBA_DXT1||e===r.RGBA_DXT3||e===r.RGBA_DXT5||e===r.RGB_PVRTC_4BPPV1||e===r.RGB_PVRTC_2BPPV1||e===r.RGBA_PVRTC_4BPPV1||e===r.RGBA_PVRTC_2BPPV1||e===r.RGB_ETC1},isDXTFormat:function(e){return e===r.RGB_DXT1||e===r.RGBA_DXT1||e===r.RGBA_DXT3||e===r.RGBA_DXT5},isPVRTCFormat:function(e){return e===r.RGB_PVRTC_4BPPV1||e===r.RGB_PVRTC_2BPPV1||e===r.RGBA_PVRTC_4BPPV1||e===r.RGBA_PVRTC_2BPPV1},isETC1Format:function(e){return e===r.RGB_ETC1},compressedTextureSizeInBytes:function(e,t,i){switch(e){case r.RGB_DXT1:case r.RGBA_DXT1:case r.RGB_ETC1:return Math.floor((t+3)/4)*Math.floor((i+3)/4)*8;case r.RGBA_DXT3:case r.RGBA_DXT5:return Math.floor((t+3)/4)*Math.floor((i+3)/4)*16;case r.RGB_PVRTC_4BPPV1:case r.RGBA_PVRTC_4BPPV1:return Math.floor((Math.max(t,8)*Math.max(i,8)*4+7)/8);case r.RGB_PVRTC_2BPPV1:case r.RGBA_PVRTC_2BPPV1:return Math.floor((Math.max(t,16)*Math.max(i,8)*2+7)/8);default:return 0}},textureSizeInBytes:function(e,t,i,a){var o=r.componentsLength(e);return n.a.isPacked(t)&&(o=1),o*n.a.sizeInBytes(t)*i*a},alignmentInBytes:function(e,t,i){var n=r.textureSizeInBytes(e,t,i,1)%4;return 0===n?4:2===n?2:1},createTypedArray:function(e,t,i,a){var o=n.a.sizeInBytes(t);return new(o===Uint8Array.BYTES_PER_ELEMENT?Uint8Array:o===Uint16Array.BYTES_PER_ELEMENT?Uint16Array:o===Float32Array.BYTES_PER_ELEMENT&&t===n.a.FLOAT?Float32Array:Uint32Array)(r.componentsLength(e)*i*a)},flipY:function(e,t,i,n,a){if(1===a)return e;for(var o=r.createTypedArray(t,i,n,a),s=r.componentsLength(t),c=n*s,l=0;l<a;++l)for(var u=l*a*s,h=(a-l-1)*a*s,d=0;d<c;++d)o[h+d]=e[u+d];return o}};t.a=Object.freeze(r)},Fib7:function(e,t,i){"use strict";function n(){this._depthStencilTexture=void 0,this._framebuffer=void 0,this._passState=void 0}function a(e){e._framebuffer=e._framebuffer&&e._framebuffer.destroy(),e._depthStencilTexture=e._depthStencilTexture&&e._depthStencilTexture.destroy()}function r(e,t){var i=t.drawingBufferWidth,n=t.drawingBufferHeight;e._depthStencilTexture=new f.a({context:t,width:i,height:n,pixelFormat:l.a.DEPTH_STENCIL,pixelDatatype:d.a.UNSIGNED_INT_24_8}),e._framebuffer=new u.a({context:t,depthStencilTexture:e._depthStencilTexture,destroyAttachments:!1});var a=new h.a(t);a.blendingEnabled=!1,a.scissorTest={enabled:!0,rectangle:new o.a},a.viewport=new o.a,e._passState=a}var o=i("or8k"),s=i("xC6Q"),c=i("6sr8"),l=i("FhYh"),u=i("YyWD"),h=i("o12a"),d=i("HvCH"),f=i("25X5");n.prototype.update=function(e,t,i){var n=i.width,o=i.height;Object(s.a)(this._framebuffer)&&n===this._depthStencilTexture.width&&o===this._depthStencilTexture.height||(a(this),r(this,e));var c=this._framebuffer,l=this._passState;return l.framebuffer=c,l.viewport.width=n,l.viewport.height=o,l.scissorTest.rectangle.x=t.x,l.scissorTest.rectangle.y=o-t.y,l.scissorTest.rectangle.width=1,l.scissorTest.rectangle.height=1,l},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return a(this),Object(c.a)(this)},t.a=n},"Fp/y":function(e,t,i){"use strict";function n(e,t,i,n,a){this.numberOfDayTextures=e,this.flags=t,this.material=i,this.shaderProgram=n,this.clippingShaderState=a}function a(){this.baseVertexShaderSource=void 0,this.baseFragmentShaderSource=void 0,this._shadersByTexturesFlags=[],this.material=void 0}function r(e){var t;switch(e){case d.a.SCENE3D:t="vec4 getPosition(vec3 position, float height, vec2 textureCoordinates) { return getPosition3DMode(position, height, textureCoordinates); }";break;case d.a.SCENE2D:case d.a.COLUMBUS_VIEW:t="vec4 getPosition(vec3 position, float height, vec2 textureCoordinates) { return getPositionColumbusViewMode(position, height, textureCoordinates); }";break;case d.a.MORPHING:t="vec4 getPosition(vec3 position, float height, vec2 textureCoordinates) { return getPositionMorphingMode(position, height, textureCoordinates); }"}return t}function o(e){return e?"float get2DYPositionFraction(vec2 textureCoordinates) { return get2DMercatorYPositionFraction(textureCoordinates); }":"float get2DYPositionFraction(vec2 textureCoordinates) { return get2DGeographicYPositionFraction(textureCoordinates); }"}var s=i("xC6Q"),c=i("6sr8"),l=i("CWGf"),u=i("WUlw"),h=i("YC0M"),d=i("sotJ");a.prototype.getShaderProgram=function(e){var t=e.frameState,i=e.surfaceTile,a=e.numberOfDayTextures,c=e.applyBrightness,d=e.applyContrast,f=e.applyHue,p=e.applySaturation,m=e.applyGamma,g=e.applyAlpha,_=e.applySplit,v=e.showReflectiveOcean,b=e.showOceanWaves,y=e.enableLighting,O=e.dynamicAtmosphereLighting,w=e.dynamicAtmosphereLightingFromSun,x=e.showGroundAtmosphere,E=e.perFragmentGroundAtmosphere,T=e.hasVertexNormals,A=e.useWebMercatorProjection,C=e.enableFog,S=e.enableClippingPlanes,j=e.clippingPlanes,P=e.clippedByBoundaries,D=e.hasImageryLayerCutout,I=e.colorCorrect,R=e.highlightFillTile,M=e.colorToAlpha,L=0,N="",F=i.renderedMesh,z=F.encoding;z.quantization===l.a.BITS12&&(L=1,N="QUANTIZATION_BITS12");var B=0,k="";P&&(B=1,k="TILE_LIMIT_RECTANGLE");var U=0,V="";D&&(U=1,V="APPLY_IMAGERY_CUTOUT");var H=t.mode,q=H|c<<2|d<<3|f<<4|p<<5|m<<6|g<<7|v<<8|b<<9|y<<10|O<<11|w<<12|x<<13|E<<14|T<<15|A<<16|C<<17|L<<18|_<<19|S<<20|B<<21|U<<22|I<<23|R<<24|M<<25,W=0;Object(s.a)(j)&&j.length>0&&(W=S?j.clippingPlanesState:0);var G=i.surfaceShader;if(Object(s.a)(G)&&G.numberOfDayTextures===a&&G.flags===q&&G.material===this.material&&G.clippingShaderState===W)return G.shaderProgram;var Y=this._shadersByTexturesFlags[a];if(Object(s.a)(Y)||(Y=this._shadersByTexturesFlags[a]=[]),G=Y[q],!Object(s.a)(G)||G.material!==this.material||G.clippingShaderState!==W){var X=this.baseVertexShaderSource.clone(),Q=this.baseFragmentShaderSource.clone();0!==W&&Q.sources.unshift(Object(h.a)(j,t.context)),X.defines.push(N),Q.defines.push("TEXTURE_UNITS "+a,k,V),c&&Q.defines.push("APPLY_BRIGHTNESS"),d&&Q.defines.push("APPLY_CONTRAST"),f&&Q.defines.push("APPLY_HUE"),p&&Q.defines.push("APPLY_SATURATION"),m&&Q.defines.push("APPLY_GAMMA"),g&&Q.defines.push("APPLY_ALPHA"),v&&(Q.defines.push("SHOW_REFLECTIVE_OCEAN"),X.defines.push("SHOW_REFLECTIVE_OCEAN")),b&&Q.defines.push("SHOW_OCEAN_WAVES"),M&&Q.defines.push("APPLY_COLOR_TO_ALPHA"),y&&(T?(X.defines.push("ENABLE_VERTEX_LIGHTING"),Q.defines.push("ENABLE_VERTEX_LIGHTING")):(X.defines.push("ENABLE_DAYNIGHT_SHADING"),Q.defines.push("ENABLE_DAYNIGHT_SHADING"))),O&&(Q.defines.push("DYNAMIC_ATMOSPHERE_LIGHTING"),w&&Q.defines.push("DYNAMIC_ATMOSPHERE_LIGHTING_FROM_SUN")),x&&(X.defines.push("GROUND_ATMOSPHERE"),Q.defines.push("GROUND_ATMOSPHERE"),E&&Q.defines.push("PER_FRAGMENT_GROUND_ATMOSPHERE")),X.defines.push("INCLUDE_WEB_MERCATOR_Y"),Q.defines.push("INCLUDE_WEB_MERCATOR_Y"),C&&(X.defines.push("FOG"),Q.defines.push("FOG")),_&&Q.defines.push("APPLY_SPLIT"),S&&Q.defines.push("ENABLE_CLIPPING_PLANES"),I&&Q.defines.push("COLOR_CORRECT"),R&&Q.defines.push("HIGHLIGHT_FILL_TILE");var J="    vec4 computeDayColor(vec4 initialColor, vec3 textureCoordinates)\n    {\n        vec4 color = initialColor;\n";D&&(J+="        vec4 cutoutAndColorResult;\n        bool texelUnclipped;\n");for(var Z=0;Z<a;++Z)J+=D?"        cutoutAndColorResult = u_dayTextureCutoutRectangles["+Z+"];\n        texelUnclipped = v_textureCoordinates.x < cutoutAndColorResult.x || cutoutAndColorResult.z < v_textureCoordinates.x || v_textureCoordinates.y < cutoutAndColorResult.y || cutoutAndColorResult.w < v_textureCoordinates.y;\n        cutoutAndColorResult = sampleAndBlend(\n":"        color = sampleAndBlend(\n",J+="            color,\n            u_dayTextures["+Z+"],\n            u_dayTextureUseWebMercatorT["+Z+"] ? textureCoordinates.xz : textureCoordinates.xy,\n            u_dayTextureTexCoordsRectangle["+Z+"],\n            u_dayTextureTranslationAndScale["+Z+"],\n            "+(g?"u_dayTextureAlpha["+Z+"]":"1.0")+",\n            "+(c?"u_dayTextureBrightness["+Z+"]":"0.0")+",\n            "+(d?"u_dayTextureContrast["+Z+"]":"0.0")+",\n            "+(f?"u_dayTextureHue["+Z+"]":"0.0")+",\n            "+(p?"u_dayTextureSaturation["+Z+"]":"0.0")+",\n            "+(m?"u_dayTextureOneOverGamma["+Z+"]":"0.0")+",\n            "+(_?"u_dayTextureSplit["+Z+"]":"0.0")+",\n            "+(M?"u_colorsToAlpha["+Z+"]":"vec4(0.0)")+"\n        );\n",D&&(J+="        color = czm_branchFreeTernary(texelUnclipped, cutoutAndColorResult, color);\n");J+="        return color;\n    }",Q.sources.push(J),X.sources.push(r(H)),X.sources.push(o(A));var K=u.a.fromCache({context:t.context,vertexShaderSource:X,fragmentShaderSource:Q,attributeLocations:z.getAttributeLocations()});G=Y[q]=new n(a,q,this.material,K,W)}return i.surfaceShader=G,G.shaderProgram},a.prototype.destroy=function(){var e,t,i=this._shadersByTexturesFlags;for(var n in i)if(i.hasOwnProperty(n)){var a=i[n];if(!Object(s.a)(a))continue;for(e in a)a.hasOwnProperty(e)&&(t=a[e],Object(s.a)(t)&&t.shaderProgram.destroy())}return Object(c.a)(this)},t.a=a},FuYn:function(e,t,i){"use strict";var n=i("1L1F"),a={ADD:n.a.FUNC_ADD,SUBTRACT:n.a.FUNC_SUBTRACT,REVERSE_SUBTRACT:n.a.FUNC_REVERSE_SUBTRACT,MIN:n.a.MIN,MAX:n.a.MAX};t.a=Object.freeze(a)},G29O:function(e,t,i){"use strict";function n(e){var t=e._targetProperty;if(!Object(r.a)(t)){var i=e._targetEntity;if(!Object(r.a)(i)){if(i=e._targetCollection.getById(e._targetId),!Object(r.a)(i))return void(e._targetEntity=e._targetProperty=void 0);i.definitionChanged.addEventListener(a.prototype._onTargetEntityDefinitionChanged,e),e._targetEntity=i}var n=e._targetPropertyNames;t=e._targetEntity;for(var o=0,s=n.length;o<s&&Object(r.a)(t);++o)t=t[n[o]];e._targetProperty=t}return t}function a(e,t,i){if(!Object(r.a)(e))throw new o.a("targetCollection is required.");if(!Object(r.a)(t)||""===t)throw new o.a("targetId is required.");if(!Object(r.a)(i)||0===i.length)throw new o.a("targetPropertyNames is required.");for(var n=0;n<i.length;n++){var c=i[n];if(!Object(r.a)(c)||""===c)throw new o.a("reference contains invalid properties.")}this._targetCollection=e,this._targetId=t,this._targetPropertyNames=i,this._targetProperty=void 0,this._targetEntity=void 0,this._definitionChanged=new s.a,e.collectionChanged.addEventListener(a.prototype._onCollectionChanged,this)}var r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("uhjI");Object.defineProperties(a.prototype,{isConstant:{get:function(){return c.a.isConstant(n(this))}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){var e=n(this);return Object(r.a)(e)?e.referenceFrame:void 0}},targetId:{get:function(){return this._targetId}},targetCollection:{get:function(){return this._targetCollection}},targetPropertyNames:{get:function(){return this._targetPropertyNames}},resolvedProperty:{get:function(){return n(this)}}}),a.fromString=function(e,t){if(!Object(r.a)(e))throw new o.a("targetCollection is required.");if(!Object(r.a)(t))throw new o.a("referenceString is required.");for(var i,n=[],s=!0,c=!1,l="",u=0;u<t.length;++u){var h=t.charAt(u);c?(l+=h,c=!1):"\\"===h?c=!0:s&&"#"===h?(i=l,s=!1,l=""):s||"."!==h?l+=h:(n.push(l),l="")}return n.push(l),new a(e,i,n)},a.prototype.getValue=function(e,t){var i=n(this);return Object(r.a)(i)?i.getValue(e,t):void 0},a.prototype.getValueInReferenceFrame=function(e,t,i){var a=n(this);return Object(r.a)(a)?a.getValueInReferenceFrame(e,t,i):void 0},a.prototype.getType=function(e){var t=n(this);return Object(r.a)(t)?t.getType(e):void 0},a.prototype.equals=function(e){if(this===e)return!0;var t=this._targetPropertyNames,i=e._targetPropertyNames;if(this._targetCollection!==e._targetCollection||this._targetId!==e._targetId||t.length!==i.length)return!1;for(var n=this._targetPropertyNames.length,a=0;a<n;a++)if(t[a]!==i[a])return!1;return!0},a.prototype._onTargetEntityDefinitionChanged=function(e,t,i,n){Object(r.a)(this._targetProperty)&&this._targetPropertyNames[0]===t&&(this._targetProperty=void 0,this._definitionChanged.raiseEvent(this))},a.prototype._onCollectionChanged=function(e,t,i){var o=this._targetEntity;Object(r.a)(o)&&-1!==i.indexOf(o)?(o.definitionChanged.removeEventListener(a.prototype._onTargetEntityDefinitionChanged,this),this._targetEntity=this._targetProperty=void 0):Object(r.a)(o)||(o=n(this),Object(r.a)(o)&&this._definitionChanged.raiseEvent(this))},t.a=a},GPPq:function(e,t,i){"use strict";var n={TEXTURE:0,PROGRAM:1,BUFFER:2,NUMBER_OF_JOB_TYPES:3};t.a=Object.freeze(n)},GaJK:function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT),this.position=e.position,this.normal=e.normal,this.st=e.st,this.bitangent=e.bitangent,this.tangent=e.tangent,this.color=e.color}var a=i("5A4e");t.a=n},GiV9:function(e,t,i){"use strict";function n(e){u.a.defined("resourceOrUrl",e);var t=e;"string"==typeof t||t instanceof b.a||(u.a.typeOf.string("resourceOrUrl.url",e.url),t=e.url);var i=b.a.createIfNeeded(t);i.appendForwardSlash(),this._resource=i,this.imageryPresent=!0,this.protoImagery=void 0,this.terrainPresent=!0,this.negativeAltitudeExponentBias=32,this.negativeAltitudeThreshold=_.a.EPSILON12,this.providers={},this.key=void 0,this._quadPacketVersion=1,this._tileInfo={},this._subtreePromises={};var n=this;this._readyPromise=o(this).then(function(){return n.getQuadTreePacket("",n._quadPacketVersion)}).then(function(){return!0}).otherwise(function(e){var t="An error occurred while accessing "+r(n,"",1).url+".";return c.a.reject(new y.a(t))})}function a(e,t,i){var n=e._tileInfo,r=t,o=n[r];if(Object(f.a)(o)&&(!o.hasSubtree()||o.hasChildren()))return o;for(;void 0===o&&r.length>1;)r=r.substring(0,r.length-1),o=n[r];var s,l=e._subtreePromises,u=l[r];return Object(f.a)(u)?u.then(function(){return s=new v.a({throttle:i.throttle,throttleByServer:i.throttleByServer,type:i.type,priorityFunction:i.priorityFunction}),a(e,t,s)}):Object(f.a)(o)&&o.hasSubtree()?(u=e.getQuadTreePacket(r,o.cnodeVersion,i),Object(f.a)(u)?(l[r]=u,u.then(function(){return s=new v.a({throttle:i.throttle,throttleByServer:i.throttleByServer,type:i.type,priorityFunction:i.priorityFunction}),a(e,t,s)}).always(function(){delete l[r]})):void 0):c.a.reject(new y.a("Couldn't load metadata for tile "+t))}function r(e,t,i,n){return e._resource.getDerivedResource({url:"flatfile?q2-0"+t+"-q."+i.toString(),request:n})}function o(e){var t=e._resource.getDerivedResource({url:"dbRoot.v5",queryParameters:{output:"proto"}});if(!Object(f.a)(T)){var i=Object(l.a)("ThirdParty/google-earth-dbroot-parser.js"),n=window.cesiumGoogleEarthDbRootParser;T=Object(g.a)(i).then(function(){E=window.cesiumGoogleEarthDbRootParser(s.a),Object(f.a)(n)?window.cesiumGoogleEarthDbRootParser=n:delete window.cesiumGoogleEarthDbRootParser})}return T.then(function(){return t.fetchArrayBuffer()}).then(function(t){var i=E.EncryptedDbRootProto.decode(new Uint8Array(t)),n=i.encryptionData,a=n.byteOffset,r=a+n.byteLength,o=e.key=n.buffer.slice(a,r);n=i.dbrootData,a=n.byteOffset,r=a+n.byteLength;var s=n.buffer.slice(a,r);return x.scheduleTask({buffer:s,type:"DbRoot",key:o},[s])}).then(function(t){var i=E.DbRootProto.decode(new Uint8Array(t.buffer));if(e.imageryPresent=Object(d.a)(i.imageryPresent,e.imageryPresent),e.protoImagery=i.protoImagery,e.terrainPresent=Object(d.a)(i.terrainPresent,e.terrainPresent),Object(f.a)(i.endSnippet)&&Object(f.a)(i.endSnippet.model)){var n=i.endSnippet.model;e.negativeAltitudeExponentBias=Object(d.a)(n.negativeAltitudeExponentBias,e.negativeAltitudeExponentBias),e.negativeAltitudeThreshold=Object(d.a)(n.compressedNegativeAltitudeThreshold,e.negativeAltitudeThreshold)}Object(f.a)(i.databaseVersion)&&(e._quadPacketVersion=Object(d.a)(i.databaseVersion.quadtreeVersion,e._quadPacketVersion));for(var a=e.providers,r=Object(d.a)(i.providerInfo,[]),o=r.length,s=0;s<o;++s){var c=r[s],l=c.copyrightString;Object(f.a)(l)&&(a[c.providerId]=new h.a(l.value))}}).otherwise(function(){console.log("Failed to retrieve "+t.url+". Using defaults."),e.key=w})}var s=i("gHot"),c=i("S7OP"),l=i("CcV0"),u=i("5F4X"),h=i("ODTd"),d=i("5A4e"),f=i("xC6Q"),p=i("gx6D"),m=i("1eJt"),g=i("eMEA"),_=i("fq+p"),v=i("dI/G"),b=i("rMjQ"),y=i("V22k"),O=i("JlUm"),w=function(e){for(var t=e.length,i=new ArrayBuffer(t),n=new Uint8Array(i),a=0;a<t;++a)n[a]=e.charCodeAt(a);return i}('Eô½\vyâjE",ÍqøIFgQ\0B%Æèa,f)\bÆ4Üjb%y\nwmiÖðk¡½NuàA[ß@V\fÙ»r|3SîOlÔq°{ÀEVZ­wUe\v3*¬l5Å0sø3>mF8J´Ýð.ÝuÚDt"úa"\f3"So¯9D\v9Ù9L¹¿«\\P_"uxéqh;ÁÄð<VqH\'UfYNeu£aF}a?A\0×´4MÎF°Õ¸\'{Ü+»Mg0ÈÑö\\Pú[/Fn5/\'C.ë\n\f^¥se4ål.jC\'c#U©?q{gC}:¯ÍâTUýKÆâ/(íË\\Æ-f§;/*"N°k.Ý\r}}GºC²²+>Mª>}æÎIÆæx\fa1-¤O¥~q ì\r1èN\v\0nPh}=\b\r¦n£h$[kó#ó¶s³\r\v@ÀØQ]ú".jßI\0¹ wUÆïj¿{GLîÜÜF©­S+S4ÿYä8è1N¹XFkË-#p\x005"Ï1²&/çÃu-6,rt°#G·ÓÑ&7râ\0DÏÚ3-Þ`i#i*|ÍKQ\rT9w.)ê¦P¢joP\\>TûïP[\vEm(w7ÛJfJo åpâ¹q~\fmI-zþrÇòY0»]såÉ êxì ðB|G`°½&·q¶ÇÑ3=Ó«îcÈ+S D\\qÆÌD2O<ÊÀ)=RÓaX©}e´ÜÏ\rô=ñ\b©BÚ#\tØ¿^PIøMÀËGLO÷{+ØÅ1;µoÜl\rÑÛ?âéÚ_ÔâFaZÞUÏ¤\0¾ýÎgñJiæ HØ]~®q N®ÀV©<rçvì)IÖ]-ãÛ6©;fjÕ¶=P^R¹KÇsWxÉô.YoÐKW>\'\'Ç`Û;íSD>?mw¢\në?R¨ÆU^1I7ôÅ&-©¿\'TÚÃj å*x°Öprªh½÷_H±~ÀXL?fù>áeÀp§Ï8i¯ðVldI\'­xtOÂÞV9\0Úw\vË-û5Oõ\bQ`Á\nZGM&30xÚÀFGâ[y`In7gS\n>éìF9²ñ4\rÆSuná\fYÙÞ){II¥wy¾IV.6ç\v:»Ob{ÒM1/½8{¨O!áìFpv})"x\nÝ\\ÚÞQÏðüYRe|3ßóHÚ»*uÛ`²Ôüíì5¨ÿ(1-ÈÜF|["');Object.defineProperties(n.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},resource:{get:function(){return this._resource}},readyPromise:{get:function(){return this._readyPromise}}}),n.tileXYToQuadKey=function(e,t,i){for(var n="",a=i;a>=0;--a){var r=1<<a,o=0;Object(m.a)(t,r)?Object(m.a)(e,r)&&(o|=1):(o|=2,Object(m.a)(e,r)||(o|=1)),n+=o}return n},n.quadKeyToTileXY=function(e){for(var t=0,i=0,n=e.length-1,a=n;a>=0;--a){var r=1<<a,o=+e[n-a];Object(m.a)(o,2)?Object(m.a)(o,1)||(t|=r):(i|=r,Object(m.a)(o,1)&&(t|=r))}return{x:t,y:i,level:n}},n.prototype.isValid=function(e){var t=this.getTileInformationFromQuadKey(e);if(Object(f.a)(t))return null!==t;for(var i,n=!0,a=e;a.length>1;){if(i=a.substring(a.length-1),a=a.substring(0,a.length-1),t=this.getTileInformationFromQuadKey(a),Object(f.a)(t)){t.hasSubtree()||t.hasChild(parseInt(i))||(n=!1);break}if(null===t){n=!1;break}}return n};var x=new O.a("decodeGoogleEarthEnterprisePacket",Number.POSITIVE_INFINITY);n.prototype.getQuadTreePacket=function(e,t,i){t=Object(d.a)(t,1),e=Object(d.a)(e,"");var n=r(this,e,t,i),a=n.fetchArrayBuffer();if(Object(f.a)(a)){var o=this._tileInfo,s=this.key;return a.then(function(t){return x.scheduleTask({buffer:t,quadKey:e,type:"Metadata",key:s},[t]).then(function(t){var i,n=-1;if(""!==e){n=e.length+1;var a=t[e];i=o[e],i._bits|=a._bits,delete t[e]}var r=Object.keys(t);r.sort(function(e,t){return e.length-t.length});for(var s=r.length,c=0;c<s;++c){var l=r[c];if(null!==t[l]){var u=p.a.clone(t[l]),h=l.length;if(h===n)u.setParent(i);else if(h>1){var d=o[l.substring(0,l.length-1)];u.setParent(d)}o[l]=u}else o[l]=null}})})}},n.prototype.populateSubtree=function(e,t,i,r){return a(this,n.tileXYToQuadKey(e,t,i),r)},n.prototype.getTileInformation=function(e,t,i){var a=n.tileXYToQuadKey(e,t,i);return this._tileInfo[a]},n.prototype.getTileInformationFromQuadKey=function(e){return this._tileInfo[e]};var E,T;t.a=n},GmON:function(e,t,i){"use strict";function n(e,t){if(c.a.defined("origin",e),t=Object(l.a)(t,d.a.WGS84),e=t.scaleToGeodeticSurface(e),!Object(u.a)(e))throw new h.a("origin must not be at the center of the ellipsoid.");var i=_.a.eastNorthUpToFixedFrame(e,t);this._ellipsoid=t,this._origin=e,this._xAxis=o.a.fromCartesian4(p.a.getColumn(i,0,v)),this._yAxis=o.a.fromCartesian4(p.a.getColumn(i,1,v));var n=o.a.fromCartesian4(p.a.getColumn(i,2,v));this._plane=m.a.fromPointNormal(e,n)}var a=i("nzu/"),r=i("Ss9j"),o=i("Jj+J"),s=i("PDkd"),c=i("5F4X"),l=i("5A4e"),u=i("xC6Q"),h=i("PzDm"),d=i("y6fO"),f=i("Myjj"),p=i("Xjii"),m=i("kRxM"),g=i("/++d"),_=i("g/FO"),v=new s.a;Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},origin:{get:function(){return this._origin}},plane:{get:function(){return this._plane}},xAxis:{get:function(){return this._xAxis}},yAxis:{get:function(){return this._yAxis}},zAxis:{get:function(){return this._plane.normal}}});var b=new a.a;n.fromPoints=function(e,t){return c.a.defined("cartesians",e),new n(a.a.fromPoints(e,b).center,t)};var y=new g.a,O=new o.a;n.prototype.projectPointOntoPlane=function(e,t){c.a.defined("cartesian",e);var i=y;i.origin=e,o.a.normalize(e,i.direction);var n=f.a.rayPlane(i,this._plane,O);if(Object(u.a)(n)||(o.a.negate(i.direction,i.direction),n=f.a.rayPlane(i,this._plane,O)),Object(u.a)(n)){var a=o.a.subtract(n,this._origin,n),s=o.a.dot(this._xAxis,a),l=o.a.dot(this._yAxis,a);return Object(u.a)(t)?(t.x=s,t.y=l,t):new r.a(s,l)}},n.prototype.projectPointsOntoPlane=function(e,t){c.a.defined("cartesians",e),Object(u.a)(t)||(t=[]);for(var i=0,n=e.length,a=0;a<n;a++){var r=this.projectPointOntoPlane(e[a],t[i]);Object(u.a)(r)&&(t[i]=r,i++)}return t.length=i,t},n.prototype.projectPointToNearestOnPlane=function(e,t){c.a.defined("cartesian",e),Object(u.a)(t)||(t=new r.a);var i=y;i.origin=e,o.a.clone(this._plane.normal,i.direction);var n=f.a.rayPlane(i,this._plane,O);Object(u.a)(n)||(o.a.negate(i.direction,i.direction),n=f.a.rayPlane(i,this._plane,O));var a=o.a.subtract(n,this._origin,n),s=o.a.dot(this._xAxis,a),l=o.a.dot(this._yAxis,a);return t.x=s,t.y=l,t},n.prototype.projectPointsToNearestOnPlane=function(e,t){c.a.defined("cartesians",e),Object(u.a)(t)||(t=[]);var i=e.length;t.length=i;for(var n=0;n<i;n++)t[n]=this.projectPointToNearestOnPlane(e[n],t[n]);return t};var w=new o.a;n.prototype.projectPointOntoEllipsoid=function(e,t){c.a.defined("cartesian",e),Object(u.a)(t)||(t=new o.a);var i=this._ellipsoid,n=this._origin,a=this._xAxis,r=this._yAxis,s=w;return o.a.multiplyByScalar(a,e.x,s),t=o.a.add(n,s,t),o.a.multiplyByScalar(r,e.y,s),o.a.add(t,s,t),i.scaleToGeocentricSurface(t,t),t},n.prototype.projectPointsOntoEllipsoid=function(e,t){c.a.defined("cartesians",e);var i=e.length;Object(u.a)(t)?t.length=i:t=new Array(i);for(var n=0;n<i;++n)t[n]=this.projectPointOntoEllipsoid(e[n],t[n]);return t},t.a=n},GpnP:function(e,t,i){"use strict";var n={WEST:0,NORTH:1,EAST:2,SOUTH:3,NORTHWEST:4,NORTHEAST:5,SOUTHWEST:6,SOUTHEAST:7};t.a=n},GrLQ:function(e,t,i){"use strict";function n(e){a.a.typeOf.object("options",e),a.a.typeOf.number("options.pass",e.pass),this.pass=e.pass,this.commandList=e.commandList,this.camera=e.camera,this.cullingVolume=e.cullingVolume,this.ready=!1}var a=i("5F4X");t.a=n},GySV:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT),this._definitionChanged=new s.a,this._color=void 0,this._colorSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this.color=e.color,this.outlineColor=e.outlineColor,this.outlineWidth=e.outlineWidth}var a=i("6F0S"),r=i("5A4e"),o=i("xC6Q"),s=i("W6xh"),c=i("7687"),l=i("uhjI"),u=a.a.WHITE,h=a.a.BLACK;Object.defineProperties(n.prototype,{isConstant:{get:function(){return l.a.isConstant(this._color)&&l.a.isConstant(this._outlineColor)&&l.a.isConstant(this._outlineWidth)}},definitionChanged:{get:function(){return this._definitionChanged}},color:Object(c.a)("color"),outlineColor:Object(c.a)("outlineColor"),outlineWidth:Object(c.a)("outlineWidth")}),n.prototype.getType=function(e){return"PolylineOutline"},n.prototype.getValue=function(e,t){return Object(o.a)(t)||(t={}),t.color=l.a.getValueOrClonedDefault(this._color,e,u,t.color),t.outlineColor=l.a.getValueOrClonedDefault(this._outlineColor,e,h,t.outlineColor),t.outlineWidth=l.a.getValueOrDefault(this._outlineWidth,e,1),t},n.prototype.equals=function(e){return this===e||e instanceof n&&l.a.equals(this._color,e._color)&&l.a.equals(this._outlineColor,e._outlineColor)&&l.a.equals(this._outlineWidth,e._outlineWidth)},t.a=n},GybJ:function(e,t,i){(function(t){function n(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||ie.call(/e/,t))return t;var i=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-oe(-e):oe(e);if(n!==e){var a=String(n),r=K.call(t,a.length+1);return $.call(a,i,"$&_")+"."+$.call($.call(r,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $.call(t,i,"$&_")}function a(e,t,i){var n="double"===(i.quoteStyle||t)?'"':"'";return n+e+n}function r(e){return $.call(String(e),/"/g,"&quot;")}function o(e){return!("[object Array]"!==g(e)||he&&"object"==typeof e&&he in e)}function s(e){return!("[object Date]"!==g(e)||he&&"object"==typeof e&&he in e)}function c(e){return!("[object RegExp]"!==g(e)||he&&"object"==typeof e&&he in e)}function l(e){return!("[object Error]"!==g(e)||he&&"object"==typeof e&&he in e)}function u(e){return!("[object String]"!==g(e)||he&&"object"==typeof e&&he in e)}function h(e){return!("[object Number]"!==g(e)||he&&"object"==typeof e&&he in e)}function d(e){return!("[object Boolean]"!==g(e)||he&&"object"==typeof e&&he in e)}function f(e){if(ue)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!le)return!1;try{return le.call(e),!0}catch(e){}return!1}function p(e){if(!e||"object"!=typeof e||!se)return!1;try{return se.call(e),!0}catch(e){}return!1}function m(e,t){return _e.call(e,t)}function g(e){return Q.call(e)}function _(e){if(e.name)return e.name;var t=Z.call(J.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function v(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function b(e){if(!N||!e||"object"!=typeof e)return!1;try{N.call(e);try{k.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}function y(e){if(!H||!e||"object"!=typeof e)return!1;try{H.call(e,H);try{W.call(e,W)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}function O(e){if(!Y||!e||"object"!=typeof e)return!1;try{return Y.call(e),!0}catch(e){}return!1}function w(e){if(!k||!e||"object"!=typeof e)return!1;try{k.call(e);try{N.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}function x(e){if(!W||!e||"object"!=typeof e)return!1;try{W.call(e,W);try{H.call(e,H)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}function E(e){return!(!e||"object"!=typeof e)&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}function T(e,t){if(e.length>t.maxStringLength){var i=e.length-t.maxStringLength,n="... "+i+" more character"+(i>1?"s":"");return T(K.call(e,0,t.maxStringLength),t)+n}return a($.call($.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,A),"single",t)}function A(e){var t=e.charCodeAt(0),i={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return i?"\\"+i:"\\x"+(t<16?"0":"")+ee.call(t.toString(16))}function C(e){return"Object("+e+")"}function S(e){return e+" { ? }"}function j(e,t,i,n){return e+" ("+t+") {"+(n?I(i,n):ae.call(i,", "))+"}"}function P(e){for(var t=0;t<e.length;t++)if(v(e[t],"\n")>=0)return!1;return!0}function D(e,t){var i;if("\t"===e.indent)i="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;i=ae.call(Array(e.indent+1)," ")}return{base:i,prev:ae.call(Array(t+1),i)}}function I(e,t){if(0===e.length)return"";var i="\n"+t.prev+t.base;return i+ae.call(e,","+i)+"\n"+t.prev}function R(e,t){var i=o(e),n=[];if(i){n.length=e.length;for(var a=0;a<e.length;a++)n[a]=m(e,a)?t(e[a],e):""}var r,s="function"==typeof ce?ce(e):[];if(ue){r={};for(var c=0;c<s.length;c++)r["$"+s[c]]=s[c]}for(var l in e)m(e,l)&&(i&&String(Number(l))===l&&l<e.length||ue&&r["$"+l]instanceof Symbol||(ie.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if("function"==typeof ce)for(var u=0;u<s.length;u++)de.call(e,s[u])&&n.push("["+t(s[u])+"]: "+t(e[s[u]],e));return n}var M="function"==typeof Map&&Map.prototype,L=Object.getOwnPropertyDescriptor&&M?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,N=M&&L&&"function"==typeof L.get?L.get:null,F=M&&Map.prototype.forEach,z="function"==typeof Set&&Set.prototype,B=Object.getOwnPropertyDescriptor&&z?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,k=z&&B&&"function"==typeof B.get?B.get:null,U=z&&Set.prototype.forEach,V="function"==typeof WeakMap&&WeakMap.prototype,H=V?WeakMap.prototype.has:null,q="function"==typeof WeakSet&&WeakSet.prototype,W=q?WeakSet.prototype.has:null,G="function"==typeof WeakRef&&WeakRef.prototype,Y=G?WeakRef.prototype.deref:null,X=Boolean.prototype.valueOf,Q=Object.prototype.toString,J=Function.prototype.toString,Z=String.prototype.match,K=String.prototype.slice,$=String.prototype.replace,ee=String.prototype.toUpperCase,te=String.prototype.toLowerCase,ie=RegExp.prototype.test,ne=Array.prototype.concat,ae=Array.prototype.join,re=Array.prototype.slice,oe=Math.floor,se="function"==typeof BigInt?BigInt.prototype.valueOf:null,ce=Object.getOwnPropertySymbols,le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ue="function"==typeof Symbol&&"object"==typeof Symbol.iterator,he="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ue?"object":"symbol")?Symbol.toStringTag:null,de=Object.prototype.propertyIsEnumerable,fe=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),pe=i(0),me=pe.custom,ge=f(me)?me:null;e.exports=function e(i,A,M,L){function z(t,i,n){if(i&&(L=re.call(L),L.push(i)),n){var a={depth:B.depth};return m(B,"quoteStyle")&&(a.quoteStyle=B.quoteStyle),e(t,a,M+1,L)}return e(t,B,M+1,L)}var B=A||{};if(m(B,"quoteStyle")&&"single"!==B.quoteStyle&&"double"!==B.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(m(B,"maxStringLength")&&("number"==typeof B.maxStringLength?B.maxStringLength<0&&B.maxStringLength!==1/0:null!==B.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var V=!m(B,"customInspect")||B.customInspect;if("boolean"!=typeof V&&"symbol"!==V)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(m(B,"indent")&&null!==B.indent&&"\t"!==B.indent&&!(parseInt(B.indent,10)===B.indent&&B.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(m(B,"numericSeparator")&&"boolean"!=typeof B.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var H=B.numericSeparator;if(void 0===i)return"undefined";if(null===i)return"null";if("boolean"==typeof i)return i?"true":"false";if("string"==typeof i)return T(i,B);if("number"==typeof i){if(0===i)return 1/0/i>0?"0":"-0";var q=String(i);return H?n(i,q):q}if("bigint"==typeof i){var W=String(i)+"n";return H?n(i,W):W}var G=void 0===B.depth?5:B.depth;if(void 0===M&&(M=0),M>=G&&G>0&&"object"==typeof i)return o(i)?"[Array]":"[Object]";var Y=D(B,M);if(void 0===L)L=[];else if(v(L,i)>=0)return"[Circular]";if("function"==typeof i&&!c(i)){var Q=_(i),J=R(i,z);return"[Function"+(Q?": "+Q:" (anonymous)")+"]"+(J.length>0?" { "+ae.call(J,", ")+" }":"")}if(f(i)){var Z=ue?$.call(String(i),/^(Symbol\(.*\))_[^)]*$/,"$1"):le.call(i);return"object"!=typeof i||ue?Z:C(Z)}if(E(i)){for(var ee="<"+te.call(String(i.nodeName)),ie=i.attributes||[],oe=0;oe<ie.length;oe++)ee+=" "+ie[oe].name+"="+a(r(ie[oe].value),"double",B);return ee+=">",i.childNodes&&i.childNodes.length&&(ee+="..."),ee+="</"+te.call(String(i.nodeName))+">"}if(o(i)){if(0===i.length)return"[]";var ce=R(i,z);return Y&&!P(ce)?"["+I(ce,Y)+"]":"[ "+ae.call(ce,", ")+" ]"}if(l(i)){var me=R(i,z);return"cause"in Error.prototype||!("cause"in i)||de.call(i,"cause")?0===me.length?"["+String(i)+"]":"{ ["+String(i)+"] "+ae.call(me,", ")+" }":"{ ["+String(i)+"] "+ae.call(ne.call("[cause]: "+z(i.cause),me),", ")+" }"}if("object"==typeof i&&V){if(ge&&"function"==typeof i[ge]&&pe)return pe(i,{depth:G-M});if("symbol"!==V&&"function"==typeof i.inspect)return i.inspect()}if(b(i)){var _e=[];return F&&F.call(i,function(e,t){_e.push(z(t,i,!0)+" => "+z(e,i))}),j("Map",N.call(i),_e,Y)}if(w(i)){var ve=[];return U&&U.call(i,function(e){ve.push(z(e,i))}),j("Set",k.call(i),ve,Y)}if(y(i))return S("WeakMap");if(x(i))return S("WeakSet");if(O(i))return S("WeakRef");if(h(i))return C(z(Number(i)));if(p(i))return C(z(se.call(i)));if(d(i))return C(X.call(i));if(u(i))return C(z(String(i)));if("undefined"!=typeof window&&i===window)return"{ [object Window] }";if(i===t)return"{ [object globalThis] }";if(!s(i)&&!c(i)){var be=R(i,z),ye=fe?fe(i)===Object.prototype:i instanceof Object||i.constructor===Object,Oe=i instanceof Object?"":"null prototype",we=!ye&&he&&Object(i)===i&&he in i?K.call(g(i),8,-1):Oe?"Object":"",xe=ye||"function"!=typeof i.constructor?"":i.constructor.name?i.constructor.name+" ":"",Ee=xe+(we||Oe?"["+ae.call(ne.call([],we||[],Oe||[]),": ")+"] ":"");return 0===be.length?Ee+"{}":Y?Ee+"{"+I(be,Y)+"}":Ee+"{ "+ae.call(be,", ")+" }"}return String(i)};var _e=Object.prototype.hasOwnProperty||function(e){return e in this}}).call(t,i("DuR2"))},H5bb:function(e,t,i){"use strict";var n={CENTER:0,BOTTOM:1,BASELINE:2,TOP:-1};t.a=Object.freeze(n)},H7f0:function(e,t,i){"use strict";t.a="/**\n * Packs a depth value into a vec3 that can be represented by unsigned bytes.\n *\n * @name czm_packDepth\n * @glslFunction\n *\n * @param {float} depth The floating-point depth.\n * @returns {vec3} The packed depth.\n */\nvec4 czm_packDepth(float depth)\n{\n    // See Aras Pranckevičius' post Encoding Floats to RGBA\n    // http://aras-p.info/blog/2009/07/30/encoding-floats-to-rgba-the-final/\n    vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * depth;\n    enc = fract(enc);\n    enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\n    return enc;\n}\n"},H8oQ:function(e,t,i){"use strict";t.a="float czm_reverseLogDepth(float logZ)\n{\n#ifdef LOG_DEPTH\n    float near = czm_currentFrustum.x;\n    float far = czm_currentFrustum.y;\n    float log2Depth = logZ * czm_log2FarDepthFromNearPlusOne;\n    float depthFromNear = pow(2.0, log2Depth) - 1.0;\n    return far * (1.0 - near / (depthFromNear + near)) / (far - near);\n#endif\n    return logZ;\n}\n"},HDPB:function(e,t,i){"use strict";function n(e){return p.a.fromCssColorString(window.getComputedStyle(e).getPropertyValue("color"))}function a(e){var t=document.createElementNS(y,e.tagName);for(var i in e)if(e.hasOwnProperty(i)&&"tagName"!==i)if("children"===i){var n,r=e.children.length;for(n=0;n<r;++n)t.appendChild(a(e.children[n]))}else 0===i.indexOf("xlink:")?t.setAttributeNS(O,i.substring(6),e[i]):"textContent"===i?t.textContent=e[i]:t.setAttribute(i,e[i]);return t}function r(e,t,i){var n=document.createElementNS(y,"text");n.setAttribute("x",e),n.setAttribute("y",t),n.setAttribute("class","cesium-animation-svgText");var a=document.createElementNS(y,"tspan");return a.textContent=i,n.appendChild(a),n}function o(e,t,i){e.setAttribute("transform","translate(100,100) rotate("+i+")"),t.setAttribute("transform","rotate("+i+")")}function s(e,t){var i=t.alpha,n=1-i;return P.red=e.red*n+t.red*i,P.green=e.green*n+t.green*i,P.blue=e.blue*n+t.blue*i,P.toCssColorString()}function c(e,t,i){return a({tagName:"g",class:"cesium-animation-rectButton",transform:"translate("+e+","+t+")",children:[{tagName:"rect",class:"cesium-animation-buttonGlow",width:32,height:32,rx:2,ry:2},{tagName:"rect",class:"cesium-animation-buttonMain",width:32,height:32,rx:4,ry:4},{tagName:"use",class:"cesium-animation-buttonPath","xlink:href":i},{tagName:"title",textContent:""}]})}function l(e,t,i){return a({tagName:"g",class:"cesium-animation-rectButton",transform:"translate("+e+","+t+")",children:[{tagName:"use",class:"cesium-animation-buttonGlow","xlink:href":"#animation_pathWingButton"},{tagName:"use",class:"cesium-animation-buttonMain","xlink:href":"#animation_pathWingButton"},{tagName:"use",class:"cesium-animation-buttonPath","xlink:href":i},{tagName:"title",textContent:""}]})}function u(e,t){var i=e._viewModel,n=i.shuttleRingDragging;if(!n||f===e)if("mousedown"===t.type||n&&"mousemove"===t.type||"touchstart"===t.type&&1===t.touches.length||n&&"touchmove"===t.type&&1===t.touches.length){var a,r,o=e._centerX,s=e._centerY,c=e._svgNode,l=c.getBoundingClientRect();if("touchstart"===t.type||"touchmove"===t.type?(a=t.touches[0].clientX,r=t.touches[0].clientY):(a=t.clientX,r=t.clientY),!n&&(a>l.right||a<l.left||r<l.top||r>l.bottom))return;var u=e._shuttleRingPointer.getBoundingClientRect(),h=a-o-l.left,d=r-s-l.top,p=180*Math.atan2(d,h)/Math.PI+90;p>180&&(p-=360);var m=i.shuttleRingAngle;n||a<u.right&&a>u.left&&r>u.top&&r<u.bottom?(f=e,i.shuttleRingDragging=!0,i.shuttleRingAngle=p):p<m?i.slower():p>m&&i.faster(),t.preventDefault()}else e===f&&(f=void 0),i.shuttleRingDragging=!1}function h(e,t){this._viewModel=t,this.svgElement=e,this._enabled=void 0,this._toggled=void 0;var i=this;this._clickFunction=function(){var e=i._viewModel.command;e.canExecute&&e()},e.addEventListener("click",this._clickFunction,!0),this._subscriptions=[Object(b.a)(t,"toggled",this.setToggled,this),Object(b.a)(t,"tooltip",this.setTooltip,this),Object(b.a)(t.command,"canExecute",this.setEnabled,this)]}function d(e,t){function i(e){u(C,e)}if(!Object(m.a)(e))throw new _.a("container is required.");if(!Object(m.a)(t))throw new _.a("viewModel is required.");e=Object(v.a)(e),this._viewModel=t,this._container=e,this._centerX=0,this._centerY=0,this._defsElement=void 0,this._svgNode=void 0,this._topG=void 0,this._lastHeight=void 0,this._lastWidth=void 0;var n=document.createElement("style");n.textContent=".cesium-animation-rectButton .cesium-animation-buttonGlow { filter: url(#animation_blurred); }.cesium-animation-rectButton .cesium-animation-buttonMain { fill: url(#animation_buttonNormal); }.cesium-animation-buttonToggled .cesium-animation-buttonMain { fill: url(#animation_buttonToggled); }.cesium-animation-rectButton:hover .cesium-animation-buttonMain { fill: url(#animation_buttonHovered); }.cesium-animation-buttonDisabled .cesium-animation-buttonMain { fill: url(#animation_buttonDisabled); }.cesium-animation-shuttleRingG .cesium-animation-shuttleRingSwoosh { fill: url(#animation_shuttleRingSwooshGradient); }.cesium-animation-shuttleRingG:hover .cesium-animation-shuttleRingSwoosh { fill: url(#animation_shuttleRingSwooshHovered); }.cesium-animation-shuttleRingPointer { fill: url(#animation_shuttleRingPointerGradient); }.cesium-animation-shuttleRingPausePointer { fill: url(#animation_shuttleRingPointerPaused); }.cesium-animation-knobOuter { fill: url(#animation_knobOuter); }.cesium-animation-knobInner { fill: url(#animation_knobInner); }",document.head.insertBefore(n,document.head.childNodes[0]);var s=document.createElement("div");s.className="cesium-animation-theme",s.innerHTML='<div class="cesium-animation-themeNormal"></div><div class="cesium-animation-themeHover"></div><div class="cesium-animation-themeSelect"></div><div class="cesium-animation-themeDisabled"></div><div class="cesium-animation-themeKnob"></div><div class="cesium-animation-themePointer"></div><div class="cesium-animation-themeSwoosh"></div><div class="cesium-animation-themeSwooshHover"></div>',this._theme=s,this._themeNormal=s.childNodes[0],this._themeHover=s.childNodes[1],this._themeSelect=s.childNodes[2],this._themeDisabled=s.childNodes[3],this._themeKnob=s.childNodes[4],this._themePointer=s.childNodes[5],this._themeSwoosh=s.childNodes[6],this._themeSwooshHover=s.childNodes[7];var d=document.createElementNS(y,"svg:svg");this._svgNode=d,d.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",O);var f=document.createElementNS(y,"g");this._topG=f,this._realtimeSVG=new h(l(3,4,"#animation_pathClock"),t.playRealtimeViewModel),this._playReverseSVG=new h(c(44,99,"#animation_pathPlayReverse"),t.playReverseViewModel),this._playForwardSVG=new h(c(124,99,"#animation_pathPlay"),t.playForwardViewModel),this._pauseSVG=new h(c(84,99,"#animation_pathPause"),t.pauseViewModel);var p=document.createElementNS(y,"g");p.appendChild(this._realtimeSVG.svgElement),p.appendChild(this._playReverseSVG.svgElement),p.appendChild(this._playForwardSVG.svgElement),p.appendChild(this._pauseSVG.svgElement);var g=a({tagName:"circle",class:"cesium-animation-shuttleRingBack",cx:100,cy:100,r:99});this._shuttleRingBackPanel=g;var w=a({tagName:"g",class:"cesium-animation-shuttleRingSwoosh",children:[{tagName:"use",transform:"translate(100,97) scale(-1,1)","xlink:href":"#animation_pathSwooshFX"},{tagName:"use",transform:"translate(100,97)","xlink:href":"#animation_pathSwooshFX"},{tagName:"line",x1:100,y1:8,x2:100,y2:22}]});this._shuttleRingSwooshG=w,this._shuttleRingPointer=a({tagName:"use",class:"cesium-animation-shuttleRingPointer","xlink:href":"#animation_pathPointer"});var x=a({tagName:"g",transform:"translate(100,100)"});this._knobOuter=a({tagName:"circle",class:"cesium-animation-knobOuter",cx:0,cy:0,r:71});var E=a({tagName:"circle",class:"cesium-animation-knobInner",cx:0,cy:0,r:61});this._knobDate=r(0,-24,""),this._knobTime=r(0,-7,""),this._knobStatus=r(0,-41,"");var T=a({tagName:"circle",class:"cesium-animation-blank",cx:0,cy:0,r:61}),A=document.createElementNS(y,"g");A.setAttribute("class","cesium-animation-shuttleRingG"),e.appendChild(s),f.appendChild(A),f.appendChild(x),f.appendChild(p),A.appendChild(g),A.appendChild(w),A.appendChild(this._shuttleRingPointer),x.appendChild(this._knobOuter),x.appendChild(E),x.appendChild(this._knobDate),x.appendChild(this._knobTime),x.appendChild(this._knobStatus),x.appendChild(T),d.appendChild(f),e.appendChild(d);var C=this;this._mouseCallback=i,g.addEventListener("mousedown",i,!0),g.addEventListener("touchstart",i,!0),w.addEventListener("mousedown",i,!0),w.addEventListener("touchstart",i,!0),document.addEventListener("mousemove",i,!0),document.addEventListener("touchmove",i,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("touchend",i,!0),document.addEventListener("touchcancel",i,!0),this._shuttleRingPointer.addEventListener("mousedown",i,!0),this._shuttleRingPointer.addEventListener("touchstart",i,!0),this._knobOuter.addEventListener("mousedown",i,!0),this._knobOuter.addEventListener("touchstart",i,!0);var S,j=this._knobTime.childNodes[0],P=this._knobDate.childNodes[0],D=this._knobStatus.childNodes[0];this._subscriptions=[Object(b.a)(t.pauseViewModel,"toggled",function(e){S!==e&&(S=e,S?C._shuttleRingPointer.setAttribute("class","cesium-animation-shuttleRingPausePointer"):C._shuttleRingPointer.setAttribute("class","cesium-animation-shuttleRingPointer"))}),Object(b.a)(t,"shuttleRingAngle",function(e){o(C._shuttleRingPointer,C._knobOuter,e)}),Object(b.a)(t,"dateLabel",function(e){P.textContent!==e&&(P.textContent=e)}),Object(b.a)(t,"timeLabel",function(e){j.textContent!==e&&(j.textContent=e)}),Object(b.a)(t,"multiplierLabel",function(e){D.textContent!==e&&(D.textContent=e)})],this.applyThemeChanges(),this.resize()}var f,p=i("6F0S"),m=i("xC6Q"),g=i("6sr8"),_=i("PzDm"),v=i("k6tp"),b=i("qy+6"),y="http://www.w3.org/2000/svg",O="http://www.w3.org/1999/xlink",w=p.a.fromCssColorString("rgba(247,250,255,0.384)"),x=p.a.fromCssColorString("rgba(143,191,255,0.216)"),E=p.a.fromCssColorString("rgba(153,197,255,0.098)"),T=p.a.fromCssColorString("rgba(255,255,255,0.086)"),A=p.a.fromCssColorString("rgba(255,255,255,0.267)"),C=p.a.fromCssColorString("rgba(255,255,255,0)"),S=p.a.fromCssColorString("rgba(66,67,68,0.3)"),j=p.a.fromCssColorString("rgba(0,0,0,0.5)"),P=new p.a;h.prototype.destroy=function(){this.svgElement.removeEventListener("click",this._clickFunction,!0);for(var e=this._subscriptions,t=0,i=e.length;t<i;t++)e[t].dispose();Object(g.a)(this)},h.prototype.isDestroyed=function(){return!1},h.prototype.setEnabled=function(e){if(this._enabled!==e){if(this._enabled=e,!e)return void this.svgElement.setAttribute("class","cesium-animation-buttonDisabled");if(this._toggled)return void this.svgElement.setAttribute("class","cesium-animation-rectButton cesium-animation-buttonToggled");this.svgElement.setAttribute("class","cesium-animation-rectButton")}},h.prototype.setToggled=function(e){this._toggled!==e&&(this._toggled=e,this._enabled&&(e?this.svgElement.setAttribute("class","cesium-animation-rectButton cesium-animation-buttonToggled"):this.svgElement.setAttribute("class","cesium-animation-rectButton")))},h.prototype.setTooltip=function(e){this.svgElement.getElementsByTagName("title")[0].textContent=e},Object.defineProperties(d.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),d.prototype.isDestroyed=function(){return!1},d.prototype.destroy=function(){Object(m.a)(this._observer)&&(this._observer.disconnect(),this._observer=void 0);var e=this._mouseCallback;this._shuttleRingBackPanel.removeEventListener("mousedown",e,!0),this._shuttleRingBackPanel.removeEventListener("touchstart",e,!0),this._shuttleRingSwooshG.removeEventListener("mousedown",e,!0),this._shuttleRingSwooshG.removeEventListener("touchstart",e,!0),document.removeEventListener("mousemove",e,!0),document.removeEventListener("touchmove",e,!0),document.removeEventListener("mouseup",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("touchcancel",e,!0),this._shuttleRingPointer.removeEventListener("mousedown",e,!0),this._shuttleRingPointer.removeEventListener("touchstart",e,!0),this._knobOuter.removeEventListener("mousedown",e,!0),this._knobOuter.removeEventListener("touchstart",e,!0),this._container.removeChild(this._svgNode),this._container.removeChild(this._theme),this._realtimeSVG.destroy(),this._playReverseSVG.destroy(),this._playForwardSVG.destroy(),this._pauseSVG.destroy();for(var t=this._subscriptions,i=0,n=t.length;i<n;i++)t[i].dispose();return Object(g.a)(this)},d.prototype.resize=function(){var e=this._container.clientWidth,t=this._container.clientHeight;if(e!==this._lastWidth||t!==this._lastHeight){var i=this._svgNode,n=e,a=t;0===e&&0===t?(n=200,a=132):0===e?(a=t,n=t/132*200):0===t&&(n=e,a=e/200*132);var r=n/200,o=a/132;i.style.cssText="width: "+n+"px; height: "+a+"px; position: absolute; bottom: 0; left: 0; overflow: hidden;",i.setAttribute("width",n),i.setAttribute("height",a),i.setAttribute("viewBox","0 0 "+n+" "+a),this._topG.setAttribute("transform","scale("+r+","+o+")"),this._centerX=Math.max(1,100*r),this._centerY=Math.max(1,100*o),this._lastHeight=e,this._lastWidth=t}},d.prototype.applyThemeChanges=function(){if(!document.body.contains(this._container)){if(Object(m.a)(this._observer))return;var e=this;return e._observer=new MutationObserver(function(){document.body.contains(e._container)&&(e._observer.disconnect(),e._observer=void 0,e.applyThemeChanges())}),void e._observer.observe(document,{childList:!0,subtree:!0})}var t=n(this._themeNormal),i=n(this._themeHover),r=n(this._themeSelect),o=n(this._themeDisabled),c=n(this._themeKnob),l=n(this._themePointer),u=n(this._themeSwoosh),h=n(this._themeSwooshHover),d=a({tagName:"defs",children:[{id:"animation_buttonNormal",tagName:"linearGradient",x1:"50%",y1:"0%",x2:"50%",y2:"100%",children:[{tagName:"stop",offset:"0%","stop-color":s(t,w)},{tagName:"stop",offset:"12%","stop-color":s(t,x)},{tagName:"stop",offset:"46%","stop-color":s(t,E)},{tagName:"stop",offset:"81%","stop-color":s(t,T)}]},{id:"animation_buttonHovered",tagName:"linearGradient",x1:"50%",y1:"0%",x2:"50%",y2:"100%",children:[{tagName:"stop",offset:"0%","stop-color":s(i,w)},{tagName:"stop",offset:"12%","stop-color":s(i,x)},{tagName:"stop",offset:"46%","stop-color":s(i,E)},{tagName:"stop",offset:"81%","stop-color":s(i,T)}]},{id:"animation_buttonToggled",tagName:"linearGradient",x1:"50%",y1:"0%",x2:"50%",y2:"100%",children:[{tagName:"stop",offset:"0%","stop-color":s(r,w)},{tagName:"stop",offset:"12%","stop-color":s(r,x)},{tagName:"stop",offset:"46%","stop-color":s(r,E)},{tagName:"stop",offset:"81%","stop-color":s(r,T)}]},{id:"animation_buttonDisabled",tagName:"linearGradient",x1:"50%",y1:"0%",x2:"50%",y2:"100%",children:[{tagName:"stop",offset:"0%","stop-color":s(o,A)},{tagName:"stop",offset:"75%","stop-color":s(o,C)}]},{id:"animation_blurred",tagName:"filter",width:"200%",height:"200%",x:"-50%",y:"-50%",children:[{tagName:"feGaussianBlur",stdDeviation:4,in:"SourceGraphic"}]},{id:"animation_shuttleRingSwooshGradient",tagName:"linearGradient",x1:"50%",y1:"0%",x2:"50%",y2:"100%",children:[{tagName:"stop",offset:"0%","stop-opacity":.2,"stop-color":u.toCssColorString()},{tagName:"stop",offset:"85%","stop-opacity":.85,"stop-color":u.toCssColorString()},{tagName:"stop",offset:"95%","stop-opacity":.05,"stop-color":u.toCssColorString()}]},{id:"animation_shuttleRingSwooshHovered",tagName:"linearGradient",x1:"50%",y1:"0%",x2:"50%",y2:"100%",children:[{tagName:"stop",offset:"0%","stop-opacity":.2,"stop-color":h.toCssColorString()},{tagName:"stop",offset:"85%","stop-opacity":.85,"stop-color":h.toCssColorString()},{tagName:"stop",offset:"95%","stop-opacity":.05,"stop-color":h.toCssColorString()}]},{id:"animation_shuttleRingPointerGradient",tagName:"linearGradient",x1:"0%",y1:"50%",x2:"100%",y2:"50%",children:[{tagName:"stop",offset:"0%","stop-color":l.toCssColorString()},{tagName:"stop",offset:"40%","stop-color":l.toCssColorString()},{tagName:"stop",offset:"60%","stop-color":s(l,j)},{tagName:"stop",offset:"100%","stop-color":s(l,j)}]},{id:"animation_shuttleRingPointerPaused",tagName:"linearGradient",x1:"0%",y1:"50%",x2:"100%",y2:"50%",children:[{tagName:"stop",offset:"0%","stop-color":"#CCC"},{tagName:"stop",offset:"40%","stop-color":"#CCC"},{tagName:"stop",offset:"60%","stop-color":"#555"},{tagName:"stop",offset:"100%","stop-color":"#555"}]},{id:"animation_knobOuter",tagName:"linearGradient",x1:"20%",y1:"0%",x2:"90%",y2:"100%",children:[{tagName:"stop",offset:"5%","stop-color":s(c,w)},{tagName:"stop",offset:"60%","stop-color":s(c,S)},{tagName:"stop",offset:"85%","stop-color":s(c,x)}]},{id:"animation_knobInner",tagName:"linearGradient",x1:"20%",y1:"0%",x2:"90%",y2:"100%",children:[{tagName:"stop",offset:"5%","stop-color":s(c,S)},{tagName:"stop",offset:"60%","stop-color":s(c,w)},{tagName:"stop",offset:"85%","stop-color":s(c,T)}]},{id:"animation_pathReset",tagName:"path",transform:"translate(16,16) scale(0.85) translate(-16,-16)",d:"M24.316,5.318,9.833,13.682,9.833,5.5,5.5,5.5,5.5,25.5,9.833,25.5,9.833,17.318,24.316,25.682z"},{id:"animation_pathPause",tagName:"path",transform:"translate(16,16) scale(0.85) translate(-16,-16)",d:"M13,5.5,7.5,5.5,7.5,25.5,13,25.5zM24.5,5.5,19,5.5,19,25.5,24.5,25.5z"},{id:"animation_pathPlay",tagName:"path",transform:"translate(16,16) scale(0.85) translate(-16,-16)",d:"M6.684,25.682L24.316,15.5L6.684,5.318V25.682z"},{id:"animation_pathPlayReverse",tagName:"path",transform:"translate(16,16) scale(-0.85,0.85) translate(-16,-16)",d:"M6.684,25.682L24.316,15.5L6.684,5.318V25.682z"},{id:"animation_pathLoop",tagName:"path",transform:"translate(16,16) scale(0.85) translate(-16,-16)",d:"M24.249,15.499c-0.009,4.832-3.918,8.741-8.75,8.75c-2.515,0-4.768-1.064-6.365-2.763l2.068-1.442l-7.901-3.703l0.744,8.694l2.193-1.529c2.244,2.594,5.562,4.242,9.26,4.242c6.767,0,12.249-5.482,12.249-12.249H24.249zM15.499,6.75c2.516,0,4.769,1.065,6.367,2.764l-2.068,1.443l7.901,3.701l-0.746-8.693l-2.192,1.529c-2.245-2.594-5.562-4.245-9.262-4.245C8.734,3.25,3.25,8.734,3.249,15.499H6.75C6.758,10.668,10.668,6.758,15.499,6.75z"},{id:"animation_pathClock",tagName:"path",transform:"translate(16,16) scale(0.85) translate(-16,-15.5)",d:"M15.5,2.374C8.251,2.375,2.376,8.251,2.374,15.5C2.376,22.748,8.251,28.623,15.5,28.627c7.249-0.004,13.124-5.879,13.125-13.127C28.624,8.251,22.749,2.375,15.5,2.374zM15.5,25.623C9.909,25.615,5.385,21.09,5.375,15.5C5.385,9.909,9.909,5.384,15.5,5.374c5.59,0.01,10.115,4.535,10.124,10.125C25.615,21.09,21.091,25.615,15.5,25.623zM8.625,15.5c-0.001-0.552-0.448-0.999-1.001-1c-0.553,0-1,0.448-1,1c0,0.553,0.449,1,1,1C8.176,16.5,8.624,16.053,8.625,15.5zM8.179,18.572c-0.478,0.277-0.642,0.889-0.365,1.367c0.275,0.479,0.889,0.641,1.365,0.365c0.479-0.275,0.643-0.887,0.367-1.367C9.27,18.461,8.658,18.297,8.179,18.572zM9.18,10.696c-0.479-0.276-1.09-0.112-1.366,0.366s-0.111,1.09,0.365,1.366c0.479,0.276,1.09,0.113,1.367-0.366C9.821,11.584,9.657,10.973,9.18,10.696zM22.822,12.428c0.478-0.275,0.643-0.888,0.366-1.366c-0.275-0.478-0.89-0.642-1.366-0.366c-0.479,0.278-0.642,0.89-0.366,1.367C21.732,12.54,22.344,12.705,22.822,12.428zM12.062,21.455c-0.478-0.275-1.089-0.111-1.366,0.367c-0.275,0.479-0.111,1.09,0.366,1.365c0.478,0.277,1.091,0.111,1.365-0.365C12.704,22.344,12.54,21.732,12.062,21.455zM12.062,9.545c0.479-0.276,0.642-0.888,0.366-1.366c-0.276-0.478-0.888-0.642-1.366-0.366s-0.642,0.888-0.366,1.366C10.973,9.658,11.584,9.822,12.062,9.545zM22.823,18.572c-0.48-0.275-1.092-0.111-1.367,0.365c-0.275,0.479-0.112,1.092,0.367,1.367c0.477,0.275,1.089,0.113,1.365-0.365C23.464,19.461,23.3,18.848,22.823,18.572zM19.938,7.813c-0.477-0.276-1.091-0.111-1.365,0.366c-0.275,0.48-0.111,1.091,0.366,1.367s1.089,0.112,1.366-0.366C20.581,8.702,20.418,8.089,19.938,7.813zM23.378,14.5c-0.554,0.002-1.001,0.45-1.001,1c0.001,0.552,0.448,1,1.001,1c0.551,0,1-0.447,1-1C24.378,14.949,23.929,14.5,23.378,14.5zM15.501,6.624c-0.552,0-1,0.448-1,1l-0.466,7.343l-3.004,1.96c-0.478,0.277-0.642,0.889-0.365,1.365c0.275,0.479,0.889,0.643,1.365,0.367l3.305-1.676C15.39,16.99,15.444,17,15.501,17c0.828,0,1.5-0.671,1.5-1.5l-0.5-7.876C16.501,7.072,16.053,6.624,15.501,6.624zM15.501,22.377c-0.552,0-1,0.447-1,1s0.448,1,1,1s1-0.447,1-1S16.053,22.377,15.501,22.377zM18.939,21.455c-0.479,0.277-0.643,0.889-0.366,1.367c0.275,0.477,0.888,0.643,1.366,0.365c0.478-0.275,0.642-0.889,0.366-1.365C20.028,21.344,19.417,21.18,18.939,21.455z"},{id:"animation_pathWingButton",tagName:"path",d:"m 4.5,0.5 c -2.216,0 -4,1.784 -4,4 l 0,24 c 0,2.216 1.784,4 4,4 l 13.71875,0 C 22.478584,27.272785 27.273681,22.511272 32.5,18.25 l 0,-13.75 c 0,-2.216 -1.784,-4 -4,-4 l -24,0 z"},{id:"animation_pathPointer",tagName:"path",d:"M-15,-65,-15,-55,15,-55,15,-65,0,-95z"},{id:"animation_pathSwooshFX",tagName:"path",d:"m 85,0 c 0,16.617 -4.813944,35.356 -13.131081,48.4508 h 6.099803 c 8.317138,-13.0948 13.13322,-28.5955 13.13322,-45.2124 0,-46.94483 -38.402714,-85.00262 -85.7743869,-85.00262 -1.0218522,0 -2.0373001,0.0241 -3.0506131,0.0589 45.958443,1.59437 82.723058,35.77285 82.723058,81.70532 z"}]});Object(m.a)(this._defsElement)?this._svgNode.replaceChild(d,this._defsElement):this._svgNode.appendChild(d),this._defsElement=d},t.a=d},HH9G:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<e.length;i++)e[i]=t.scaleToGeodeticSurface(e[i],e[i]);return e}function a(e,t){var i,n,a,r=[],o=e.positions,s=e.corners,c=e.endPositions,l=new y.a,h=0,m=0,_=0;for(n=0;n<o.length;n+=2)a=o[n].length-3,h+=a,_+=a/3*4,m+=o[n+1].length-3;for(h+=3,m+=3,n=0;n<s.length;n++){i=s[n];var v=s[n].leftPositions;Object(g.a)(v)?(a=v.length,h+=a,_+=a/3*2):(a=s[n].rightPositions.length,m+=a,_+=a/3*2)}var O,x=Object(g.a)(c);x&&(O=c[0].length-3,h+=O,m+=O,O/=3,_+=4*O);var E,T,j,P,D,I,R=h+m,M=new Float64Array(R),L=0,N=R-1,F=O/2,z=w.a.createTypedArray(R/3,_+4),B=0;if(z[B++]=L/3,z[B++]=(N-2)/3,x){r.push(L/3),I=A,D=C;var k=c[0];for(n=0;n<F;n++)I=u.a.fromArray(k,3*(F-1-n),I),D=u.a.fromArray(k,3*(F+n),D),p.a.addAttribute(M,D,L),p.a.addAttribute(M,I,void 0,N),T=L/3,P=T+1,E=(N-2)/3,j=E-1,z[B++]=E,z[B++]=j,z[B++]=T,z[B++]=P,L+=3,N-=3}var U=0,V=o[U++],H=o[U++];for(M.set(V,L),M.set(H,N-H.length+1),a=H.length-3,r.push(L/3,(N-2)/3),n=0;n<a;n+=3)T=L/3,P=T+1,E=(N-2)/3,j=E-1,z[B++]=E,z[B++]=j,z[B++]=T,z[B++]=P,L+=3,N-=3;for(n=0;n<s.length;n++){var q;i=s[n];var W,G=i.leftPositions,Y=i.rightPositions,X=S;if(Object(g.a)(G)){for(N-=3,W=j,r.push(P),q=0;q<G.length/3;q++)X=u.a.fromArray(G,3*q,X),z[B++]=W-q-1,z[B++]=W-q,p.a.addAttribute(M,X,void 0,N),N-=3;r.push(W-Math.floor(G.length/6)),t===f.a.BEVELED&&r.push((N-2)/3+1),L+=3}else{for(L+=3,W=P,r.push(j),q=0;q<Y.length/3;q++)X=u.a.fromArray(Y,3*q,X),z[B++]=W+q,z[B++]=W+q+1,p.a.addAttribute(M,X,L),L+=3;r.push(W+Math.floor(Y.length/6)),t===f.a.BEVELED&&r.push(L/3-1),N-=3}for(V=o[U++],H=o[U++],V.splice(0,3),H.splice(H.length-3,3),M.set(V,L),M.set(H,N-H.length+1),a=H.length-3,q=0;q<H.length;q+=3)P=L/3,T=P-1,j=(N-2)/3,E=j+1,z[B++]=E,z[B++]=j,z[B++]=T,z[B++]=P,L+=3,N-=3;L-=3,N+=3,r.push(L/3,(N-2)/3)}if(x){L+=3,N-=3,I=A,D=C;var Q=c[1];for(n=0;n<F;n++)I=u.a.fromArray(Q,3*(O-n-1),I),D=u.a.fromArray(Q,3*n,D),p.a.addAttribute(M,I,void 0,N),p.a.addAttribute(M,D,L),P=L/3,T=P-1,j=(N-2)/3,E=j+1,z[B++]=E,z[B++]=j,z[B++]=T,z[B++]=P,L+=3,N-=3;r.push(L/3)}else r.push(L/3,(N-2)/3);return z[B++]=L/3,z[B++]=(N-2)/3,l.position=new b.a({componentDatatype:d.a.DOUBLE,componentsPerAttribute:3,values:M}),{attributes:l,indices:z,wallIndices:r}}function r(e){var t=e.ellipsoid,i=p.a.computePositions(e),n=a(i,e.cornerType),r=n.wallIndices,o=e.height,c=e.extrudedHeight,l=n.attributes,u=n.indices,h=l.position.values,f=h.length,m=new Float64Array(f);m.set(h);var _=new Float64Array(2*f);if(h=E.a.scaleToGeodeticHeight(h,o,t),m=E.a.scaleToGeodeticHeight(m,c,t),_.set(h),_.set(m,f),l.position.values=_,f/=3,Object(g.a)(e.offsetAttribute)){var v=new Uint8Array(2*f);if(e.offsetAttribute===O.a.TOP)v=Object(s.a)(v,1,0,f);else{var y=e.offsetAttribute===O.a.NONE?0:1;v=Object(s.a)(v,y)}l.applyOffset=new b.a({componentDatatype:d.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:v})}var x,T=u.length,A=w.a.createTypedArray(_.length/3,2*(T+r.length));A.set(u);var C=T;for(x=0;x<T;x+=2){var S=u[x],j=u[x+1];A[C++]=S+f,A[C++]=j+f}var P,D;for(x=0;x<r.length;x++)P=r[x],D=P+f,A[C++]=P,A[C++]=D;return{attributes:l,indices:A}}function o(e){e=Object(m.a)(e,m.a.EMPTY_OBJECT);var t=e.positions,i=e.width;h.a.typeOf.object("options.positions",t),h.a.typeOf.number("options.width",i);var n=Object(m.a)(e.height,0),a=Object(m.a)(e.extrudedHeight,n);this._positions=t,this._ellipsoid=_.a.clone(Object(m.a)(e.ellipsoid,_.a.WGS84)),this._width=i,this._height=Math.max(n,a),this._extrudedHeight=Math.min(n,a),this._cornerType=Object(m.a)(e.cornerType,f.a.ROUNDED),this._granularity=Object(m.a)(e.granularity,x.a.RADIANS_PER_DEGREE),this._offsetAttribute=e.offsetAttribute,this._workerName="createCorridorOutlineGeometry",this.packedLength=1+t.length*u.a.packedLength+_.a.packedLength+6}var s=i("Sfsp"),c=i("6Ilv"),l=i("lBr9"),u=i("Jj+J"),h=i("5F4X"),d=i("YCZg"),f=i("sEJp"),p=i("M4f6"),m=i("5A4e"),g=i("xC6Q"),_=i("y6fO"),v=i("RGAo"),b=i("RYD3"),y=i("GaJK"),O=i("2g+t"),w=i("oMsT"),x=i("fq+p"),E=i("EDAM"),T=i("nHNe"),A=new u.a,C=new u.a,S=new u.a;o.pack=function(e,t,i){h.a.typeOf.object("value",e),h.a.typeOf.object("array",t),i=Object(m.a)(i,0);var n=e._positions,a=n.length;t[i++]=a;for(var r=0;r<a;++r,i+=u.a.packedLength)u.a.pack(n[r],t,i);return _.a.pack(e._ellipsoid,t,i),i+=_.a.packedLength,t[i++]=e._width,t[i++]=e._height,t[i++]=e._extrudedHeight,t[i++]=e._cornerType,t[i++]=e._granularity,t[i]=Object(m.a)(e._offsetAttribute,-1),t};var j=_.a.clone(_.a.UNIT_SPHERE),P={positions:void 0,ellipsoid:j,width:void 0,height:void 0,extrudedHeight:void 0,cornerType:void 0,granularity:void 0,offsetAttribute:void 0};o.unpack=function(e,t,i){h.a.typeOf.object("array",e),t=Object(m.a)(t,0);for(var n=e[t++],a=new Array(n),r=0;r<n;++r,t+=u.a.packedLength)a[r]=u.a.unpack(e,t);var s=_.a.unpack(e,t,j);t+=_.a.packedLength;var c=e[t++],l=e[t++],d=e[t++],f=e[t++],p=e[t++],v=e[t];return Object(g.a)(i)?(i._positions=a,i._ellipsoid=_.a.clone(s,i._ellipsoid),i._width=c,i._height=l,i._extrudedHeight=d,i._cornerType=f,i._granularity=p,i._offsetAttribute=-1===v?void 0:v,i):(P.positions=a,P.width=c,P.height=l,P.extrudedHeight=d,P.cornerType=f,P.granularity=p,P.offsetAttribute=-1===v?void 0:v,new o(P))},o.createGeometry=function(e){var t=e._positions,i=e._width,o=e._ellipsoid;t=n(t,o);var h=Object(c.a)(t,u.a.equalsEpsilon);if(!(h.length<2||i<=0)){var f,m=e._height,_=e._extrudedHeight,y=!x.a.equalsEpsilon(m,_,0,x.a.EPSILON2),w={ellipsoid:o,positions:h,width:i,cornerType:e._cornerType,granularity:e._granularity,saveAttributes:!1};if(y)w.height=m,w.extrudedHeight=_,w.offsetAttribute=e._offsetAttribute,f=r(w);else{if(f=a(p.a.computePositions(w),w.cornerType),f.attributes.position.values=E.a.scaleToGeodeticHeight(f.attributes.position.values,m,o),Object(g.a)(e._offsetAttribute)){var A=f.attributes.position.values.length,C=new Uint8Array(A/3),S=e._offsetAttribute===O.a.NONE?0:1;Object(s.a)(C,S),f.attributes.applyOffset=new b.a({componentDatatype:d.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:C})}}var j=f.attributes,P=l.a.fromVertices(j.position.values,void 0,3);return new v.a({attributes:j,indices:f.indices,primitiveType:T.a.LINES,boundingSphere:P,offsetAttribute:e._offsetAttribute})}},t.a=o},HMO3:function(e,t,i){"use strict";function n(){this._removalFunctions=[]}var a=i("xC6Q"),r=i("PzDm");n.prototype.add=function(e,t,i){if(!Object(a.a)(e))throw new r.a("event is required");var n=e.addEventListener(t,i);this._removalFunctions.push(n);var o=this;return function(){n();var e=o._removalFunctions;e.splice(e.indexOf(n),1)}},n.prototype.removeAll=function(){for(var e=this._removalFunctions,t=0,i=e.length;t<i;++t)e[t]();e.length=0},t.a=n},HVlG:function(e,t,i){"use strict";var n=i("7ar3"),a=i("pmdr"),r=i("Atvd")(),o=i("kCPa"),s=i("xTtY"),c=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new s("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,l=!0;if("length"in e&&o){var u=o(e,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(l=!1)}return(n||l||!i)&&(r?a(e,"length",t,!0,!0):a(e,"length",t)),e}},HWYr:function(e,t,i){"use strict";t.a="/**\n * Translates a position (or any <code>vec3</code>) that was encoded with {@link EncodedCartesian3},\n * and then provided to the shader as separate <code>high</code> and <code>low</code> bits to\n * be relative to the eye.  As shown in the example, the position can then be transformed in eye\n * or clip coordinates using {@link czm_modelViewRelativeToEye} or {@link czm_modelViewProjectionRelativeToEye},\n * respectively.\n * <p>\n * This technique, called GPU RTE, eliminates jittering artifacts when using large coordinates as\n * described in {@link http://help.agi.com/AGIComponents/html/BlogPrecisionsPrecisions.htm|Precisions, Precisions}.\n * </p>\n *\n * @name czm_translateRelativeToEye\n * @glslFunction\n *\n * @param {vec3} high The position's high bits.\n * @param {vec3} low The position's low bits.\n * @returns {vec3} The position translated to be relative to the camera's position.\n *\n * @example\n * attribute vec3 positionHigh;\n * attribute vec3 positionLow;\n *\n * void main()\n * {\n *   vec4 p = czm_translateRelativeToEye(positionHigh, positionLow);\n *   gl_Position = czm_modelViewProjectionRelativeToEye * p;\n * }\n *\n * @see czm_modelViewRelativeToEye\n * @see czm_modelViewProjectionRelativeToEye\n * @see czm_computePosition\n * @see EncodedCartesian3\n */\nvec4 czm_translateRelativeToEye(vec3 high, vec3 low)\n{\n    vec3 highDifference = high - czm_encodedCameraPositionMCHigh;\n    vec3 lowDifference = low - czm_encodedCameraPositionMCLow;\n\n    return vec4(highDifference + lowDifference, 1.0);\n}\n"},HYkQ:function(e,t,i){"use strict";var n=i("fq+p"),a={};a.computePositions=function(e,t,i,a,r){var o,s=.5*e,c=-s,l=a+a,u=r?2*l:l,h=new Float64Array(3*u),d=0,f=0,p=r?3*l:0,m=r?3*(l+a):3*a;for(o=0;o<a;o++){var g=o/a*n.a.TWO_PI,_=Math.cos(g),v=Math.sin(g),b=_*i,y=v*i,O=_*t,w=v*t;h[f+p]=b,h[f+p+1]=y,h[f+p+2]=c,h[f+m]=O,h[f+m+1]=w,h[f+m+2]=s,f+=3,r&&(h[d++]=b,h[d++]=y,h[d++]=c,h[d++]=O,h[d++]=w,h[d++]=s)}return h},t.a=a},HcRA:function(e,t,i){"use strict";t.a="/**\n * A built-in GLSL floating-point constant for <code>Math.PI</code>.\n *\n * @alias czm_pi\n * @glslConstant\n *\n * @see CesiumMath.PI\n *\n * @example\n * // GLSL declaration\n * const float czm_pi = ...;\n *\n * // Example\n * float twoPi = 2.0 * czm_pi;\n */\nconst float czm_pi = 3.141592653589793;\n"},Ht8P:function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},HvCH:function(e,t,i){"use strict";var n=i("1L1F"),a={UNSIGNED_BYTE:n.a.UNSIGNED_BYTE,UNSIGNED_SHORT:n.a.UNSIGNED_SHORT,UNSIGNED_INT:n.a.UNSIGNED_INT,FLOAT:n.a.FLOAT,HALF_FLOAT:n.a.HALF_FLOAT_OES,UNSIGNED_INT_24_8:n.a.UNSIGNED_INT_24_8,UNSIGNED_SHORT_4_4_4_4:n.a.UNSIGNED_SHORT_4_4_4_4,UNSIGNED_SHORT_5_5_5_1:n.a.UNSIGNED_SHORT_5_5_5_1,UNSIGNED_SHORT_5_6_5:n.a.UNSIGNED_SHORT_5_6_5,isPacked:function(e){return e===a.UNSIGNED_INT_24_8||e===a.UNSIGNED_SHORT_4_4_4_4||e===a.UNSIGNED_SHORT_5_5_5_1||e===a.UNSIGNED_SHORT_5_6_5},sizeInBytes:function(e){switch(e){case a.UNSIGNED_BYTE:return 1;case a.UNSIGNED_SHORT:case a.UNSIGNED_SHORT_4_4_4_4:case a.UNSIGNED_SHORT_5_5_5_1:case a.UNSIGNED_SHORT_5_6_5:case a.HALF_FLOAT:return 2;case a.UNSIGNED_INT:case a.FLOAT:case a.UNSIGNED_INT_24_8:return 4}},validate:function(e){return e===a.UNSIGNED_BYTE||e===a.UNSIGNED_SHORT||e===a.UNSIGNED_INT||e===a.FLOAT||e===a.HALF_FLOAT||e===a.UNSIGNED_INT_24_8||e===a.UNSIGNED_SHORT_4_4_4_4||e===a.UNSIGNED_SHORT_5_5_5_1||e===a.UNSIGNED_SHORT_5_6_5}};t.a=Object.freeze(a)},Hwbb:function(e,t,i){"use strict";function n(e){e=Object(R.a)(e,R.a.EMPTY_OBJECT),this._scene=e.scene,this._batchTable=e.batchTable,this._textureAtlas=void 0,this._textureAtlasGUID=void 0,this._destroyTextureAtlas=!0,this._sp=void 0,this._spTranslucent=void 0,this._rsOpaque=void 0,this._rsTranslucent=void 0,this._vaf=void 0,this._billboards=[],this._billboardsToUpdate=[],this._billboardsToUpdateIndex=0,this._billboardsRemoved=!1,this._createVertexArray=!1,this._shaderRotation=!1,this._compiledShaderRotation=!1,this._shaderAlignedAxis=!1,this._compiledShaderAlignedAxis=!1,this._shaderScaleByDistance=!1,this._compiledShaderScaleByDistance=!1,this._shaderTranslucencyByDistance=!1,this._compiledShaderTranslucencyByDistance=!1,this._shaderPixelOffsetScaleByDistance=!1,this._compiledShaderPixelOffsetScaleByDistance=!1,this._shaderDistanceDisplayCondition=!1,this._compiledShaderDistanceDisplayCondition=!1,this._shaderDisableDepthDistance=!1,this._compiledShaderDisableDepthDistance=!1,this._shaderClampToGround=!1,this._compiledShaderClampToGround=!1,this._propertiesChanged=new Uint32Array(Ae),this._maxSize=0,this._maxEyeOffset=0,this._maxScale=1,this._maxPixelOffset=0,this._allHorizontalCenter=!0,this._allVerticalCenter=!0,this._allSizedInMeters=!0,this._baseVolume=new S.a,this._baseVolumeWC=new S.a,this._baseVolume2D=new S.a,this._boundingVolume=new S.a,this._boundingVolumeDirty=!1,this._colorCommands=[],this.modelMatrix=k.a.clone(Object(R.a)(e.modelMatrix,k.a.IDENTITY)),this._modelMatrix=k.a.clone(k.a.IDENTITY),this.debugShowBoundingVolume=Object(R.a)(e.debugShowBoundingVolume,!1),this.debugShowTextureAtlas=Object(R.a)(e.debugShowTextureAtlas,!1),this.blendOption=Object(R.a)(e.blendOption,te.a.OPAQUE_AND_TRANSLUCENT),this._blendOption=void 0,this._mode=ae.a.SCENE3D,this._buffersUsage=[H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW,H.a.STATIC_DRAW],this._highlightColor=D.a.clone(D.a.WHITE);var t=this;this._uniforms={u_atlas:function(){return t._textureAtlas.texture},u_highlightColor:function(){return t._highlightColor}};var i=this._scene;Object(M.a)(i)&&Object(M.a)(i.terrainProviderChanged)&&(this._removeCallbackFunc=i.terrainProviderChanged.addEventListener(function(){for(var e=this._billboards,t=e.length,i=0;i<t;++i)e[i]._updateClamping()},this))}function a(e){for(var t=e.length,i=0;i<t;++i)e[i]&&e[i]._destroy()}function r(e){if(e._billboardsRemoved){e._billboardsRemoved=!1;for(var t=[],i=e._billboards,n=i.length,a=0,r=0;a<n;++a){var o=i[a];o&&(o._index=r++,t.push(o))}e._billboards=t}}function o(e){var t=e.cache.billboardCollection_indexBufferBatched;if(Object(M.a)(t))return t;for(var i=new Uint16Array(98298),n=0,a=0;n<98298;n+=6,a+=4)i[n]=a,i[n+1]=a+1,i[n+2]=a+2,i[n+3]=a+0,i[n+4]=a+2,i[n+5]=a+3;return t=V.a.createIndexBuffer({context:e,typedArray:i,usage:H.a.STATIC_DRAW,indexDatatype:z.a.UNSIGNED_SHORT}),t.vertexArrayDestroyable=!1,e.cache.billboardCollection_indexBufferBatched=t,t}function s(e){var t=e.cache.billboardCollection_indexBufferInstanced;return Object(M.a)(t)?t:(t=V.a.createIndexBuffer({context:e,typedArray:new Uint16Array([0,1,2,0,2,3]),usage:H.a.STATIC_DRAW,indexDatatype:z.a.UNSIGNED_SHORT}),t.vertexArrayDestroyable=!1,e.cache.billboardCollection_indexBufferInstanced=t,t)}function c(e){var t=e.cache.billboardCollection_vertexBufferInstanced;return Object(M.a)(t)?t:(t=V.a.createVertexBuffer({context:e,typedArray:new Float32Array([0,0,1,0,1,1,0,1]),usage:H.a.STATIC_DRAW}),t.vertexArrayDestroyable=!1,e.cache.billboardCollection_vertexBufferInstanced=t,t)}function l(e,t,i,n,a,r){var o=[{index:A.positionHighAndScale,componentsPerAttribute:4,componentDatatype:I.a.FLOAT,usage:i[le]},{index:A.positionLowAndRotation,componentsPerAttribute:4,componentDatatype:I.a.FLOAT,usage:i[le]},{index:A.compressedAttribute0,componentsPerAttribute:4,componentDatatype:I.a.FLOAT,usage:i[ue]},{index:A.compressedAttribute1,componentsPerAttribute:4,componentDatatype:I.a.FLOAT,usage:i[ye]},{index:A.compressedAttribute2,componentsPerAttribute:4,componentDatatype:I.a.FLOAT,usage:i[ge]},{index:A.eyeOffset,componentsPerAttribute:4,componentDatatype:I.a.FLOAT,usage:i[he]},{index:A.scaleByDistance,componentsPerAttribute:4,componentDatatype:I.a.FLOAT,usage:i[be]},{index:A.pixelOffsetScaleByDistance,componentsPerAttribute:4,componentDatatype:I.a.FLOAT,usage:i[Oe]},{index:A.compressedAttribute3,componentsPerAttribute:4,componentDatatype:I.a.FLOAT,usage:i[we]},{index:A.textureCoordinateBoundsOrLabelTranslate,componentsPerAttribute:4,componentDatatype:I.a.FLOAT,usage:i[Ee]}];n&&o.push({index:A.direction,componentsPerAttribute:2,componentDatatype:I.a.FLOAT,vertexBuffer:c(e)}),Object(M.a)(a)&&o.push({index:A.a_batchId,componentsPerAttribute:1,componentDatatyps:I.a.FLOAT,bufferUsage:H.a.STATIC_DRAW}),r&&o.push({index:A.sdf,componentsPerAttribute:2,componentDatatype:I.a.FLOAT,usage:i[Te]});var s=n?t:4*t;return new J.a(e,o,s,n)}function u(e,t,i,n,a){var r,o=n[A.positionHighAndScale],s=n[A.positionLowAndRotation],c=a._getActualPosition();e._mode===ae.a.SCENE3D&&(S.a.expand(e._baseVolume,c,e._baseVolume),e._boundingVolumeDirty=!0),F.a.fromCartesian(c,Pe);var l=a.scale,u=a.rotation;0!==u&&(e._shaderRotation=!0),e._maxScale=Math.max(e._maxScale,l);var h=Pe.high,d=Pe.low;e._instanced?(r=a._index,o(r,h.x,h.y,h.z,l),s(r,d.x,d.y,d.z,u)):(r=4*a._index,o(r+0,h.x,h.y,h.z,l),o(r+1,h.x,h.y,h.z,l),o(r+2,h.x,h.y,h.z,l),o(r+3,h.x,h.y,h.z,l),s(r+0,d.x,d.y,d.z,u),s(r+1,d.x,d.y,d.z,u),s(r+2,d.x,d.y,d.z,u),s(r+3,d.x,d.y,d.z,u))}function h(e,t,i,n,a){var r,o=n[A.compressedAttribute0],s=a.pixelOffset,c=s.x,l=s.y,u=a._translate,h=u.x,d=u.y;e._maxPixelOffset=Math.max(e._maxPixelOffset,Math.abs(c+h),Math.abs(-l+d));var f=a.horizontalOrigin,p=a._verticalOrigin,m=a.show&&a.clusterShow;0===a.color.alpha&&(m=!1),p===se.a.BASELINE&&(p=se.a.BOTTOM),e._allHorizontalCenter=e._allHorizontalCenter&&f===ne.a.CENTER,e._allVerticalCenter=e._allVerticalCenter&&p===se.a.CENTER;var g=0,_=0,v=0,b=0,y=a._imageIndex;if(-1!==y){var O=i[y];if(!Object(M.a)(O))throw new N.a("Invalid billboard image index: "+y);g=O.x,_=O.y,v=O.width,b=O.height}var w=g+v,x=_+b,E=Math.floor(B.a.clamp(c,-Ie,Ie)+Ie)*Ne;E+=(f+1)*Fe,E+=(p+1)*ze,E+=(m?1:0)*Be;var T=Math.floor(B.a.clamp(l,-Ie,Ie)+Ie)*Le,S=Math.floor(B.a.clamp(h,-Ie,Ie)+Ie)*Le,j=(B.a.clamp(d,-Ie,Ie)+Ie)*ke,P=Math.floor(j),D=Math.floor((j-P)*Le);T+=P,S+=D,De.x=g,De.y=_;var I=C.a.compressTextureCoordinates(De);De.x=w;var R=C.a.compressTextureCoordinates(De);De.y=x;var L=C.a.compressTextureCoordinates(De);De.x=g;var F=C.a.compressTextureCoordinates(De);e._instanced?(r=a._index,o(r,E,T,S,I)):(r=4*a._index,o(r+0,E+Ue,T,S,I),o(r+1,E+Ve,T,S,R),o(r+2,E+He,T,S,L),o(r+3,E+qe,T,S,F))}function d(e,t,i,n,a){var r,o=n[A.compressedAttribute1],s=a.alignedAxis;P.a.equals(s,P.a.ZERO)||(e._shaderAlignedAxis=!0);var c=0,l=1,u=1,h=1,d=a.translucencyByDistance;Object(M.a)(d)&&(c=d.near,l=d.nearValue,u=d.far,h=d.farValue,1===l&&1===h||(e._shaderTranslucencyByDistance=!0));var f=0,p=a._imageIndex;if(-1!==p){var m=i[p];if(!Object(M.a)(m))throw new N.a("Invalid billboard image index: "+p);f=m.width}var g=e._textureAtlas.texture.width,_=Math.round(Object(R.a)(a.width,g*f));e._maxSize=Math.max(e._maxSize,_);var v=B.a.clamp(_,0,Re),b=0;Math.abs(P.a.magnitudeSquared(s)-1)<B.a.EPSILON6&&(b=C.a.octEncodeFloat(s)),l=B.a.clamp(l,0,1),l=1===l?255:255*l|0,v=v*Le+l,h=B.a.clamp(h,0,1),h=1===h?255:255*h|0,b=b*Le+h,e._instanced?(r=a._index,o(r,v,b,c,u)):(r=4*a._index,o(r+0,v,b,c,u),o(r+1,v,b,c,u),o(r+2,v,b,c,u),o(r+3,v,b,c,u))}function f(e,t,i,n,a){var r,o=n[A.compressedAttribute2],s=a.color,c=Object(M.a)(e._batchTable)?D.a.WHITE:a.getPickId(t).color,l=a.sizeInMeters?1:0,u=Math.abs(P.a.magnitudeSquared(a.alignedAxis)-1)<B.a.EPSILON6?1:0;e._allSizedInMeters=e._allSizedInMeters&&1===l;var h=0,d=a._imageIndex;if(-1!==d){var f=i[d];if(!Object(M.a)(f))throw new N.a("Invalid billboard image index: "+d);h=f.height}var p=e._textureAtlas.texture.dimensions,m=Math.round(Object(R.a)(a.height,p.y*h));e._maxSize=Math.max(e._maxSize,m);var g=Object(R.a)(a._labelHorizontalOrigin,-2);g+=2;var _=m*Be+g,v=D.a.floatToByte(s.red),b=D.a.floatToByte(s.green),y=D.a.floatToByte(s.blue),O=v*Re+b*Le+y;v=D.a.floatToByte(c.red),b=D.a.floatToByte(c.green),y=D.a.floatToByte(c.blue);var w=v*Re+b*Le+y,x=D.a.floatToByte(s.alpha)*Re+D.a.floatToByte(c.alpha)*Le;x+=2*l+u,e._instanced?(r=a._index,o(r,O,w,x,_)):(r=4*a._index,o(r+0,O,w,x,_),o(r+1,O,w,x,_),o(r+2,O,w,x,_),o(r+3,O,w,x,_))}function p(e,t,i,n,a){var r,o=n[A.eyeOffset],s=a.eyeOffset,c=s.z;if(a._heightReference!==ie.a.NONE&&(c*=1.005),e._maxEyeOffset=Math.max(e._maxEyeOffset,Math.abs(s.x),Math.abs(s.y),Math.abs(c)),e._instanced){var l=0,u=0,h=a._imageIndex;if(-1!==h){var d=i[h];if(!Object(M.a)(d))throw new N.a("Invalid billboard image index: "+h);l=d.width,u=d.height}De.x=l,De.y=u;var f=C.a.compressTextureCoordinates(De);r=a._index,o(r,s.x,s.y,c,f)}else r=4*a._index,o(r+0,s.x,s.y,c,0),o(r+1,s.x,s.y,c,0),o(r+2,s.x,s.y,c,0),o(r+3,s.x,s.y,c,0)}function m(e,t,i,n,a){var r,o=n[A.scaleByDistance],s=0,c=1,l=1,u=1,h=a.scaleByDistance;Object(M.a)(h)&&(s=h.near,c=h.nearValue,l=h.far,u=h.farValue,1===c&&1===u||(e._shaderScaleByDistance=!0)),e._instanced?(r=a._index,o(r,s,c,l,u)):(r=4*a._index,o(r+0,s,c,l,u),o(r+1,s,c,l,u),o(r+2,s,c,l,u),o(r+3,s,c,l,u))}function g(e,t,i,n,a){var r,o=n[A.pixelOffsetScaleByDistance],s=0,c=1,l=1,u=1,h=a.pixelOffsetScaleByDistance;Object(M.a)(h)&&(s=h.near,c=h.nearValue,l=h.far,u=h.farValue,1===c&&1===u||(e._shaderPixelOffsetScaleByDistance=!0)),e._instanced?(r=a._index,o(r,s,c,l,u)):(r=4*a._index,o(r+0,s,c,l,u),o(r+1,s,c,l,u),o(r+2,s,c,l,u),o(r+3,s,c,l,u))}function _(e,t,i,n,a){var r,o=n[A.compressedAttribute3],s=0,c=Number.MAX_VALUE,l=a.distanceDisplayCondition;Object(M.a)(l)&&(s=l.near,c=l.far,s*=s,c*=c,e._shaderDistanceDisplayCondition=!0);var u=a.disableDepthTestDistance,h=a.heightReference===ie.a.CLAMP_TO_GROUND&&e._scene.context.depthTexture;Object(M.a)(u)||(u=h?5e3:0),u*=u,(h||u>0)&&(e._shaderDisableDepthDistance=!0,u===Number.POSITIVE_INFINITY&&(u=-1));var d,f;if(Object(M.a)(a._labelDimensions))f=a._labelDimensions.x,d=a._labelDimensions.y;else{var p=0,m=0,g=a._imageIndex;if(-1!==g){var _=i[g];if(!Object(M.a)(_))throw new N.a("Invalid billboard image index: "+g);p=_.height,m=_.width}d=Math.round(Object(R.a)(a.height,e._textureAtlas.texture.dimensions.y*p));var v=e._textureAtlas.texture.width;f=Math.round(Object(R.a)(a.width,v*m))}var b=Math.floor(B.a.clamp(f,0,Me)),y=Math.floor(B.a.clamp(d,0,Me)),O=b*Me+y;e._instanced?(r=a._index,o(r,s,c,u,O)):(r=4*a._index,o(r+0,s,c,u,O),o(r+1,s,c,u,O),o(r+2,s,c,u,O),o(r+3,s,c,u,O))}function v(e,t,i,n,a){a.heightReference===ie.a.CLAMP_TO_GROUND&&(e._shaderClampToGround=e._scene.context.depthTexture);var r,o=n[A.textureCoordinateBoundsOrLabelTranslate];if(q.a.maximumVertexTextureImageUnits>0){var s=0,c=0;return Object(M.a)(a._labelTranslate)&&(s=a._labelTranslate.x,c=a._labelTranslate.y),void(e._instanced?(r=a._index,o(r,s,c,0,0)):(r=4*a._index,o(r+0,s,c,0,0),o(r+1,s,c,0,0),o(r+2,s,c,0,0),o(r+3,s,c,0,0)))}var l=0,u=0,h=0,d=0,f=a._imageIndex;if(-1!==f){var p=i[f];if(!Object(M.a)(p))throw new N.a("Invalid billboard image index: "+f);l=p.x,u=p.y,h=p.width,d=p.height}var m=l+h,g=u+d;e._instanced?(r=a._index,o(r,l,u,m,g)):(r=4*a._index,o(r+0,l,u,m,g),o(r+1,l,u,m,g),o(r+2,l,u,m,g),o(r+3,l,u,m,g))}function b(e,t,i,n,a){if(Object(M.a)(e._batchTable)){var r,o=n[A.a_batchId],s=a._batchIndex;e._instanced?(r=a._index,o(r,s)):(r=4*a._index,o(r+0,s),o(r+1,s),o(r+2,s),o(r+3,s))}}function y(e,t,i,n,a){if(e._sdf){var r,o=n[A.sdf],s=a.outlineColor,c=a.outlineWidth,l=D.a.floatToByte(s.red),u=D.a.floatToByte(s.green),h=D.a.floatToByte(s.blue),d=l*Re+u*Le+h,f=c/re.a.RADIUS,p=D.a.floatToByte(s.alpha)*Re+D.a.floatToByte(f)*Le;e._instanced?(r=a._index,o(r,d,p)):(r=4*a._index,o(r+0,d+Ue,p),o(r+1,d+Ve,p),o(r+2,d+He,p),o(r+3,d+qe,p))}}function O(e,t,i,n,a){u(e,t,i,n,a),h(e,t,i,n,a),d(e,t,i,n,a),f(e,t,i,n,a),p(e,t,i,n,a),m(e,t,i,n,a),g(e,t,i,n,a),_(e,t,i,n,a),v(e,t,i,n,a),b(e,t,i,n,a),y(e,t,i,n,a)}function w(e,t,i,n,a,r){var o;n.mode===ae.a.SCENE3D?(o=e._baseVolume,e._boundingVolumeDirty=!0):o=e._baseVolume2D;for(var s=[],c=0;c<i;++c){var l=t[c],u=l.position,h=$.a._computeActualPosition(l,u,n,a);Object(M.a)(h)&&(l._setActualPosition(h),r?s.push(h):S.a.expand(o,h,o))}r&&S.a.fromPoints(s,o)}function x(e,t){var i=t.mode,n=e._billboards,a=e._billboardsToUpdate,r=e._modelMatrix;e._createVertexArray||e._mode!==i||i!==ae.a.SCENE3D&&!k.a.equals(r,e.modelMatrix)?(e._mode=i,k.a.clone(e.modelMatrix,r),e._createVertexArray=!0,i!==ae.a.SCENE3D&&i!==ae.a.SCENE2D&&i!==ae.a.COLUMBUS_VIEW||w(e,n,n.length,t,r,!0)):i===ae.a.MORPHING?w(e,n,n.length,t,r,!0):i!==ae.a.SCENE2D&&i!==ae.a.COLUMBUS_VIEW||w(e,a,e._billboardsToUpdateIndex,t,r,!1)}function E(e,t,i){var n=1;e._allSizedInMeters&&0===e._maxPixelOffset||(n=t.camera.getPixelSize(i,t.context.drawingBufferWidth,t.context.drawingBufferHeight));var a=n*e._maxScale*e._maxSize*2;e._allHorizontalCenter&&e._allVerticalCenter&&(a*=.5);var r=n*e._maxPixelOffset+e._maxEyeOffset;i.radius+=a+r}function T(e,t){var i;i="uniform sampler2D billboard_texture; \nvarying vec2 v_textureCoordinates; \nvoid main() \n{ \n    gl_FragColor = texture2D(billboard_texture, v_textureCoordinates); \n} \n";var n=t.createViewportQuadCommand(i,{uniformMap:{billboard_texture:function(){return e._textureAtlas.texture}}});return n.pass=G.a.OVERLAY,n}var A,C=i("j90k"),S=i("lBr9"),j=i("Ss9j"),P=i("Jj+J"),D=i("6F0S"),I=i("YCZg"),R=i("5A4e"),M=i("xC6Q"),L=i("6sr8"),N=i("PzDm"),F=i("Is4l"),z=i("oMsT"),B=i("fq+p"),k=i("Xjii"),U=i("1L1F"),V=i("tW+E"),H=i("rFKc"),q=i("J1no"),W=i("1mJh"),G=i("M0+0"),Y=i("DrvA"),X=i("WUlw"),Q=i("x6Ms"),J=i("OVtG"),Z=i("4ats"),K=i("dDui"),$=i("UQXk"),ee=i("OtDm"),te=i("ib1+"),ie=i("JIo7"),ne=i("EwVK"),ae=i("sotJ"),re=i("NFk4"),oe=i("ERAX"),se=i("H5bb"),ce=$.a.SHOW_INDEX,le=$.a.POSITION_INDEX,ue=$.a.PIXEL_OFFSET_INDEX,he=$.a.EYE_OFFSET_INDEX,de=$.a.HORIZONTAL_ORIGIN_INDEX,fe=$.a.VERTICAL_ORIGIN_INDEX,pe=$.a.SCALE_INDEX,me=$.a.IMAGE_INDEX_INDEX,ge=$.a.COLOR_INDEX,_e=$.a.ROTATION_INDEX,ve=$.a.ALIGNED_AXIS_INDEX,be=$.a.SCALE_BY_DISTANCE_INDEX,ye=$.a.TRANSLUCENCY_BY_DISTANCE_INDEX,Oe=$.a.PIXEL_OFFSET_SCALE_BY_DISTANCE_INDEX,we=$.a.DISTANCE_DISPLAY_CONDITION,xe=$.a.DISABLE_DEPTH_DISTANCE,Ee=$.a.TEXTURE_COORDINATE_BOUNDS,Te=$.a.SDF_INDEX,Ae=$.a.NUMBER_OF_PROPERTIES,Ce={positionHighAndScale:0,positionLowAndRotation:1,compressedAttribute0:2,compressedAttribute1:3,compressedAttribute2:4,eyeOffset:5,scaleByDistance:6,pixelOffsetScaleByDistance:7,compressedAttribute3:8,textureCoordinateBoundsOrLabelTranslate:9,a_batchId:10,sdf:11},Se={direction:0,positionHighAndScale:1,positionLowAndRotation:2,compressedAttribute0:3,compressedAttribute1:4,compressedAttribute2:5,eyeOffset:6,scaleByDistance:7,pixelOffsetScaleByDistance:8,compressedAttribute3:9,textureCoordinateBoundsOrLabelTranslate:10,a_batchId:11,sdf:12};Object.defineProperties(n.prototype,{length:{get:function(){return r(this),this._billboards.length}},textureAtlas:{get:function(){return this._textureAtlas},set:function(e){this._textureAtlas!==e&&(this._textureAtlas=this._destroyTextureAtlas&&this._textureAtlas&&this._textureAtlas.destroy(),this._textureAtlas=e,this._createVertexArray=!0)}},destroyTextureAtlas:{get:function(){return this._destroyTextureAtlas},set:function(e){this._destroyTextureAtlas=e}}}),n.prototype.add=function(e){var t=new $.a(e,this);return t._index=this._billboards.length,this._billboards.push(t),this._createVertexArray=!0,t},n.prototype.remove=function(e){return!!this.contains(e)&&(this._billboards[e._index]=null,this._billboardsRemoved=!0,this._createVertexArray=!0,e._destroy(),!0)},n.prototype.removeAll=function(){a(this._billboards),this._billboards=[],this._billboardsToUpdate=[],this._billboardsToUpdateIndex=0,this._billboardsRemoved=!1,this._createVertexArray=!0},n.prototype._updateBillboard=function(e,t){e._dirty||(this._billboardsToUpdate[this._billboardsToUpdateIndex++]=e),++this._propertiesChanged[t]},n.prototype.contains=function(e){return Object(M.a)(e)&&e._billboardCollection===this},n.prototype.get=function(e){if(!Object(M.a)(e))throw new N.a("index is required.");return r(this),this._billboards[e]};var je;n.prototype.computeNewBuffersUsage=function(){for(var e=this._buffersUsage,t=!1,i=this._propertiesChanged,n=0;n<Ae;++n){var a=0===i[n]?H.a.STATIC_DRAW:H.a.STREAM_DRAW;t=t||e[n]!==a,e[n]=a}return t};var Pe=new F.a,De=new j.a,Ie=32768,Re=65536,Me=4096,Le=256,Ne=128,Fe=32,ze=8,Be=4,ke=1/256,Ue=0,Ve=2,He=3,qe=1,We=[];n.prototype.update=function(e){r(this);var t=this._billboards,i=t.length,n=e.context;this._instanced=n.instancedArrays,A=this._instanced?Se:Ce,je=this._instanced?s:o;var a=this._textureAtlas;if(!Object(M.a)(a)){a=this._textureAtlas=new oe.a({context:n});for(var c=0;c<i;++c)t[c]._loadImage()}var b=a.textureCoordinates;if(0!==b.length){x(this,e),t=this._billboards,i=t.length;var w=this._billboardsToUpdate,C=this._billboardsToUpdateIndex,j=this._propertiesChanged,P=a.guid,D=this._createVertexArray||this._textureAtlasGUID!==P;this._textureAtlasGUID=P;var I,R=e.passes,L=R.pick;if(D||!L&&this.computeNewBuffersUsage()){this._createVertexArray=!1;for(var N=0;N<Ae;++N)j[N]=0;if(this._vaf=this._vaf&&this._vaf.destroy(),i>0){this._vaf=l(n,i,this._buffersUsage,this._instanced,this._batchTable,this._sdf),I=this._vaf.writers;for(var F=0;F<i;++F){var z=this._billboards[F];z._dirty=!1,O(this,n,b,I,z)}this._vaf.commit(je(n))}this._billboardsToUpdateIndex=0}else if(C>0){var B=We;B.length=0,(j[le]||j[_e]||j[pe])&&B.push(u),(j[me]||j[ue]||j[de]||j[fe]||j[ce])&&(B.push(h),this._instanced&&B.push(p)),(j[me]||j[ve]||j[ye])&&(B.push(d),B.push(f)),(j[me]||j[ge])&&B.push(f),j[he]&&B.push(p),j[be]&&B.push(m),j[Oe]&&B.push(g),(j[we]||j[xe]||j[me]||j[le])&&B.push(_),(j[me]||j[le])&&B.push(v),j[Te]&&B.push(y);var V=B.length;if(I=this._vaf.writers,C/i>.1){for(var H=0;H<C;++H){var J=w[H];J._dirty=!1;for(var $=0;$<V;++$)B[$](this,n,b,I,J)}this._vaf.commit(je(n))}else{for(var ie=0;ie<C;++ie){var ne=w[ie];ne._dirty=!1;for(var se=0;se<V;++se)B[se](this,n,b,I,ne);this._instanced?this._vaf.subCommit(ne._index,1):this._vaf.subCommit(4*ne._index,4)}this._vaf.endSubCommits()}this._billboardsToUpdateIndex=0}if(C>1.5*i&&(w.length=i),Object(M.a)(this._vaf)&&Object(M.a)(this._vaf.va)){this._boundingVolumeDirty&&(this._boundingVolumeDirty=!1,S.a.transform(this._baseVolume,this.modelMatrix,this._baseVolumeWC));var Ee,Pe=k.a.IDENTITY;e.mode===ae.a.SCENE3D?(Pe=this.modelMatrix,Ee=S.a.clone(this._baseVolumeWC,this._boundingVolume)):Ee=S.a.clone(this._baseVolume2D,this._boundingVolume),E(this,e,Ee);var De=this._blendOption!==this.blendOption;if(this._blendOption=this.blendOption,De){this._blendOption===te.a.OPAQUE||this._blendOption===te.a.OPAQUE_AND_TRANSLUCENT?this._rsOpaque=Y.a.fromCache({depthTest:{enabled:!0,func:U.a.LESS},depthMask:!0}):this._rsOpaque=void 0;var Ie=this._blendOption===te.a.TRANSLUCENT;this._blendOption===te.a.TRANSLUCENT||this._blendOption===te.a.OPAQUE_AND_TRANSLUCENT?this._rsTranslucent=Y.a.fromCache({depthTest:{enabled:!0,func:Ie?U.a.LEQUAL:U.a.LESS},depthMask:Ie,blending:ee.a.ALPHA_BLEND}):this._rsTranslucent=void 0}this._shaderDisableDepthDistance=this._shaderDisableDepthDistance||0!==e.minimumDisableDepthTestDistance;var Re,Me,Le,Ne,Fe,ze=q.a.maximumVertexTextureImageUnits>0;if(De||this._shaderRotation!==this._compiledShaderRotation||this._shaderAlignedAxis!==this._compiledShaderAlignedAxis||this._shaderScaleByDistance!==this._compiledShaderScaleByDistance||this._shaderTranslucencyByDistance!==this._compiledShaderTranslucencyByDistance||this._shaderPixelOffsetScaleByDistance!==this._compiledShaderPixelOffsetScaleByDistance||this._shaderDistanceDisplayCondition!==this._compiledShaderDistanceDisplayCondition||this._shaderDisableDepthDistance!==this._compiledShaderDisableDepthDistance||this._shaderClampToGround!==this._compiledShaderClampToGround||this._sdf!==this._compiledSDF){Re=K.a,Me=Z.a,Fe=[],Object(M.a)(this._batchTable)&&(Fe.push("VECTOR_TILE"),Re=this._batchTable.getVertexShaderCallback(!1,"a_batchId",void 0)(Re),Me=this._batchTable.getFragmentShaderCallback(!1,void 0)(Me)),Le=new Q.a({defines:Fe,sources:[Re]}),this._instanced&&Le.defines.push("INSTANCED"),this._shaderRotation&&Le.defines.push("ROTATION"),this._shaderAlignedAxis&&Le.defines.push("ALIGNED_AXIS"),this._shaderScaleByDistance&&Le.defines.push("EYE_DISTANCE_SCALING"),this._shaderTranslucencyByDistance&&Le.defines.push("EYE_DISTANCE_TRANSLUCENCY"),this._shaderPixelOffsetScaleByDistance&&Le.defines.push("EYE_DISTANCE_PIXEL_OFFSET"),this._shaderDistanceDisplayCondition&&Le.defines.push("DISTANCE_DISPLAY_CONDITION"),this._shaderDisableDepthDistance&&Le.defines.push("DISABLE_DEPTH_DISTANCE"),this._shaderClampToGround&&(ze?Le.defines.push("VERTEX_DEPTH_CHECK"):Le.defines.push("FRAGMENT_DEPTH_CHECK"));var Be=1-re.a.CUTOFF;this._sdf&&Le.defines.push("SDF");var ke=Object(M.a)(this._batchTable)?"VECTOR_TILE":"";this._blendOption===te.a.OPAQUE_AND_TRANSLUCENT&&(Ne=new Q.a({defines:["OPAQUE",ke],sources:[Me]}),this._shaderClampToGround&&(ze?Ne.defines.push("VERTEX_DEPTH_CHECK"):Ne.defines.push("FRAGMENT_DEPTH_CHECK")),this._sdf&&(Ne.defines.push("SDF"),Ne.defines.push("SDF_EDGE "+Be)),this._sp=X.a.replaceCache({context:n,shaderProgram:this._sp,vertexShaderSource:Le,fragmentShaderSource:Ne,attributeLocations:A}),Ne=new Q.a({defines:["TRANSLUCENT",ke],sources:[Me]}),this._shaderClampToGround&&(ze?Ne.defines.push("VERTEX_DEPTH_CHECK"):Ne.defines.push("FRAGMENT_DEPTH_CHECK")),this._sdf&&(Ne.defines.push("SDF"),Ne.defines.push("SDF_EDGE "+Be)),this._spTranslucent=X.a.replaceCache({context:n,shaderProgram:this._spTranslucent,vertexShaderSource:Le,fragmentShaderSource:Ne,attributeLocations:A})),this._blendOption===te.a.OPAQUE&&(Ne=new Q.a({defines:[ke],sources:[Me]}),this._shaderClampToGround&&(ze?Ne.defines.push("VERTEX_DEPTH_CHECK"):Ne.defines.push("FRAGMENT_DEPTH_CHECK")),this._sdf&&(Ne.defines.push("SDF"),Ne.defines.push("SDF_EDGE "+Be)),this._sp=X.a.replaceCache({context:n,shaderProgram:this._sp,vertexShaderSource:Le,fragmentShaderSource:Ne,attributeLocations:A})),this._blendOption===te.a.TRANSLUCENT&&(Ne=new Q.a({defines:[ke],sources:[Me]}),this._shaderClampToGround&&(ze?Ne.defines.push("VERTEX_DEPTH_CHECK"):Ne.defines.push("FRAGMENT_DEPTH_CHECK")),this._sdf&&(Ne.defines.push("SDF"),Ne.defines.push("SDF_EDGE "+Be)),this._spTranslucent=X.a.replaceCache({context:n,shaderProgram:this._spTranslucent,vertexShaderSource:Le,fragmentShaderSource:Ne,attributeLocations:A})),this._compiledShaderRotation=this._shaderRotation,this._compiledShaderAlignedAxis=this._shaderAlignedAxis,this._compiledShaderScaleByDistance=this._shaderScaleByDistance,this._compiledShaderTranslucencyByDistance=this._shaderTranslucencyByDistance,this._compiledShaderPixelOffsetScaleByDistance=this._shaderPixelOffsetScaleByDistance,this._compiledShaderDistanceDisplayCondition=this._shaderDistanceDisplayCondition,this._compiledShaderDisableDepthDistance=this._shaderDisableDepthDistance,this._compiledShaderClampToGround=this._shaderClampToGround,this._compiledSDF=this._sdf}var Ue=e.commandList;if(R.render||R.pick){var Ve,He=this._colorCommands,qe=this._blendOption===te.a.OPAQUE,Ge=this._blendOption===te.a.OPAQUE_AND_TRANSLUCENT,Ye=this._vaf.va,Xe=Ye.length,Qe=this._uniforms;Object(M.a)(this._batchTable)?(Qe=this._batchTable.getUniformMapCallback()(Qe),Ve=this._batchTable.getPickId()):Ve="v_pickColor",He.length=Xe;for(var Je=Ge?2*Xe:Xe,Ze=0;Ze<Je;++Ze){var Ke=He[Ze];Object(M.a)(Ke)||(Ke=He[Ze]=new W.a);var $e=qe||Ge&&Ze%2==0;Ke.pass=$e||!Ge?G.a.OPAQUE:G.a.TRANSLUCENT,Ke.owner=this;var et=Ge?Math.floor(Ze/2):Ze;Ke.boundingVolume=Ee,Ke.modelMatrix=Pe,Ke.count=Ye[et].indicesCount,Ke.shaderProgram=$e?this._sp:this._spTranslucent,Ke.uniformMap=Qe,Ke.vertexArray=Ye[et].va,Ke.renderState=$e?this._rsOpaque:this._rsTranslucent,Ke.debugShowBoundingVolume=this.debugShowBoundingVolume,Ke.pickId=Ve,this._instanced&&(Ke.count=6,Ke.instanceCount=i),Ue.push(Ke)}this.debugShowTextureAtlas&&(Object(M.a)(this.debugCommand)||(this.debugCommand=T(this,e.context)),Ue.push(this.debugCommand))}}}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return Object(M.a)(this._removeCallbackFunc)&&(this._removeCallbackFunc(),this._removeCallbackFunc=void 0),this._textureAtlas=this._destroyTextureAtlas&&this._textureAtlas&&this._textureAtlas.destroy(),this._sp=this._sp&&this._sp.destroy(),this._spTranslucent=this._spTranslucent&&this._spTranslucent.destroy(),this._vaf=this._vaf&&this._vaf.destroy(),a(this._billboards),Object(L.a)(this)},t.a=n},HxGC:function(e,t,i){"use strict";function n(e){Object(r.a)(e)||(e=new a.a),this._clock=e,this._eventHelper=new s.a,this._eventHelper.add(e.onTick,this.synchronize,this),this.systemTime=l.a.observable(c.a.now()),this.systemTime.equalityComparer=c.a.equals,this.startTime=l.a.observable(e.startTime),this.startTime.equalityComparer=c.a.equals,this.startTime.subscribe(function(t){e.startTime=t,this.synchronize()},this),this.stopTime=l.a.observable(e.stopTime),this.stopTime.equalityComparer=c.a.equals,this.stopTime.subscribe(function(t){e.stopTime=t,this.synchronize()},this),this.currentTime=l.a.observable(e.currentTime),this.currentTime.equalityComparer=c.a.equals,this.currentTime.subscribe(function(t){e.currentTime=t,this.synchronize()},this),this.multiplier=l.a.observable(e.multiplier),this.multiplier.subscribe(function(t){e.multiplier=t,this.synchronize()},this),this.clockStep=l.a.observable(e.clockStep),this.clockStep.subscribe(function(t){e.clockStep=t,this.synchronize()},this),this.clockRange=l.a.observable(e.clockRange),this.clockRange.subscribe(function(t){e.clockRange=t,this.synchronize()},this),this.canAnimate=l.a.observable(e.canAnimate),this.canAnimate.subscribe(function(t){e.canAnimate=t,this.synchronize()},this),this.shouldAnimate=l.a.observable(e.shouldAnimate),this.shouldAnimate.subscribe(function(t){e.shouldAnimate=t,this.synchronize()},this),l.a.track(this,["systemTime","startTime","stopTime","currentTime","multiplier","clockStep","clockRange","canAnimate","shouldAnimate"])}var a=i("gDU9"),r=i("xC6Q"),o=i("6sr8"),s=i("HMO3"),c=i("9Uqs"),l=i("PKIF");Object.defineProperties(n.prototype,{clock:{get:function(){return this._clock}}}),n.prototype.synchronize=function(){var e=this._clock;this.systemTime=c.a.now(),this.startTime=e.startTime,this.stopTime=e.stopTime,this.currentTime=e.currentTime,this.multiplier=e.multiplier,this.clockStep=e.clockStep,this.clockRange=e.clockRange,this.canAnimate=e.canAnimate,this.shouldAnimate=e.shouldAnimate},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){this._eventHelper.removeAll(),Object(o.a)(this)},t.a=n},"I+Ny":function(e,t,i){"use strict";function n(e){var t=e.center;x=c.a.multiplyByScalar(e.ellipsoid.geodeticSurfaceNormal(t,x),e.height,x),x=c.a.add(t,x,x);for(var i=new s.a(x,e.semiMajorAxis),n=f.a.computeEllipsePositions(e,!1,!0).outerPositions,a=new _.a({position:new g.a({componentDatatype:l.a.DOUBLE,componentsPerAttribute:3,values:f.a.raisePositionsToHeight(n,e,!1)})}),r=n.length/3,o=b.a.createTypedArray(r,2*r),u=0,h=0;h<r;++h)o[u++]=h,o[u++]=(h+1)%r;return{boundingSphere:i,attributes:a,indices:o}}function a(e){var t=e.center,i=e.ellipsoid,n=e.semiMajorAxis,a=c.a.multiplyByScalar(i.geodeticSurfaceNormal(t,w),e.height,w);E.center=c.a.add(t,a,E.center),E.radius=n,a=c.a.multiplyByScalar(i.geodeticSurfaceNormal(t,a),e.extrudedHeight,a),T.center=c.a.add(t,a,T.center),T.radius=n;var r=f.a.computeEllipsePositions(e,!1,!0).outerPositions,d=new _.a({position:new g.a({componentDatatype:l.a.DOUBLE,componentsPerAttribute:3,values:f.a.raisePositionsToHeight(r,e,!0)})});r=d.position.values;var p=s.a.union(E,T),m=r.length/3;if(Object(h.a)(e.offsetAttribute)){var O=new Uint8Array(m);if(e.offsetAttribute===v.a.TOP)O=Object(o.a)(O,1,0,m/2);else{var x=e.offsetAttribute===v.a.NONE?0:1;O=Object(o.a)(O,x)}d.applyOffset=new g.a({componentDatatype:l.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:O})}var A=Object(u.a)(e.numberOfVerticalLines,16);A=y.a.clamp(A,0,m/2);var C=b.a.createTypedArray(m,2*m+2*A);m/=2;var S,j=0;for(S=0;S<m;++S)C[j++]=S,C[j++]=(S+1)%m,C[j++]=S+m,C[j++]=(S+1)%m+m;var P;if(A>0){var D=Math.min(A,m);P=Math.round(m/D);var I=Math.min(P*A,m);for(S=0;S<I;S+=P)C[j++]=S,C[j++]=S+m}return{boundingSphere:p,attributes:d,indices:C}}function r(e){e=Object(u.a)(e,u.a.EMPTY_OBJECT);var t=e.center,i=Object(u.a)(e.ellipsoid,p.a.WGS84),n=e.semiMajorAxis,a=e.semiMinorAxis,r=Object(u.a)(e.granularity,y.a.RADIANS_PER_DEGREE);if(!Object(h.a)(t))throw new d.a("center is required.");if(!Object(h.a)(n))throw new d.a("semiMajorAxis is required.");if(!Object(h.a)(a))throw new d.a("semiMinorAxis is required.");if(n<a)throw new d.a("semiMajorAxis must be greater than or equal to the semiMinorAxis.");if(r<=0)throw new d.a("granularity must be greater than zero.");var o=Object(u.a)(e.height,0),s=Object(u.a)(e.extrudedHeight,o);this._center=c.a.clone(t),this._semiMajorAxis=n,this._semiMinorAxis=a,this._ellipsoid=p.a.clone(i),this._rotation=Object(u.a)(e.rotation,0),this._height=Math.max(s,o),this._granularity=r,this._extrudedHeight=Math.min(s,o),this._numberOfVerticalLines=Math.max(Object(u.a)(e.numberOfVerticalLines,16),0),this._offsetAttribute=e.offsetAttribute,this._workerName="createEllipseOutlineGeometry"}var o=i("Sfsp"),s=i("lBr9"),c=i("Jj+J"),l=i("YCZg"),u=i("5A4e"),h=i("xC6Q"),d=i("PzDm"),f=i("fCa+"),p=i("y6fO"),m=i("RGAo"),g=i("RYD3"),_=i("GaJK"),v=i("2g+t"),b=i("oMsT"),y=i("fq+p"),O=i("nHNe"),w=new c.a,x=new c.a,E=new s.a,T=new s.a;r.packedLength=c.a.packedLength+p.a.packedLength+8,r.pack=function(e,t,i){if(!Object(h.a)(e))throw new d.a("value is required");if(!Object(h.a)(t))throw new d.a("array is required");return i=Object(u.a)(i,0),c.a.pack(e._center,t,i),i+=c.a.packedLength,p.a.pack(e._ellipsoid,t,i),i+=p.a.packedLength,t[i++]=e._semiMajorAxis,t[i++]=e._semiMinorAxis,t[i++]=e._rotation,t[i++]=e._height,t[i++]=e._granularity,t[i++]=e._extrudedHeight,t[i++]=e._numberOfVerticalLines,t[i]=Object(u.a)(e._offsetAttribute,-1),t};var A=new c.a,C=new p.a,S={center:A,ellipsoid:C,semiMajorAxis:void 0,semiMinorAxis:void 0,rotation:void 0,height:void 0,granularity:void 0,extrudedHeight:void 0,numberOfVerticalLines:void 0,offsetAttribute:void 0};r.unpack=function(e,t,i){if(!Object(h.a)(e))throw new d.a("array is required");t=Object(u.a)(t,0);var n=c.a.unpack(e,t,A);t+=c.a.packedLength;var a=p.a.unpack(e,t,C);t+=p.a.packedLength;var o=e[t++],s=e[t++],l=e[t++],f=e[t++],m=e[t++],g=e[t++],_=e[t++],v=e[t];return Object(h.a)(i)?(i._center=c.a.clone(n,i._center),i._ellipsoid=p.a.clone(a,i._ellipsoid),i._semiMajorAxis=o,i._semiMinorAxis=s,i._rotation=l,i._height=f,i._granularity=m,i._extrudedHeight=g,i._numberOfVerticalLines=_,i._offsetAttribute=-1===v?void 0:v,i):(S.height=f,S.extrudedHeight=g,S.granularity=m,S.rotation=l,S.semiMajorAxis=o,S.semiMinorAxis=s,S.numberOfVerticalLines=_,S.offsetAttribute=-1===v?void 0:v,new r(S))},r.createGeometry=function(e){if(!(e._semiMajorAxis<=0||e._semiMinorAxis<=0)){var t=e._height,i=e._extrudedHeight,r=!y.a.equalsEpsilon(t,i,0,y.a.EPSILON2);e._center=e._ellipsoid.scaleToGeodeticSurface(e._center,e._center);var s,c={center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,ellipsoid:e._ellipsoid,rotation:e._rotation,height:t,granularity:e._granularity,numberOfVerticalLines:e._numberOfVerticalLines};if(r)c.extrudedHeight=i,c.offsetAttribute=e._offsetAttribute,s=a(c);else if(s=n(c),Object(h.a)(e._offsetAttribute)){var u=s.attributes.position.values.length,d=new Uint8Array(u/3),f=e._offsetAttribute===v.a.NONE?0:1;Object(o.a)(d,f),s.attributes.applyOffset=new g.a({componentDatatype:l.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:d})}return new m.a({attributes:s.attributes,indices:s.indices,primitiveType:O.a.LINES,boundingSphere:s.boundingSphere,offsetAttribute:e._offsetAttribute})}},t.a=r},I3GD:function(e,t,i){"use strict";function n(e,t,i){this.longitude=Object(o.a)(e,0),this.latitude=Object(o.a)(t,0),this.height=Object(o.a)(i,0)}var a=i("Jj+J"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("fq+p"),l=i("6rR9");n.fromRadians=function(e,t,i,a){return r.a.typeOf.number("longitude",e),r.a.typeOf.number("latitude",t),i=Object(o.a)(i,0),Object(s.a)(a)?(a.longitude=e,a.latitude=t,a.height=i,a):new n(e,t,i)},n.fromDegrees=function(e,t,i,a){return r.a.typeOf.number("longitude",e),r.a.typeOf.number("latitude",t),e=c.a.toRadians(e),t=c.a.toRadians(t),n.fromRadians(e,t,i,a)};var u=new a.a,h=new a.a,d=new a.a,f=new a.a(1/6378137,1/6378137,1/6356752.314245179),p=new a.a(1/40680631590769,1/40680631590769,1/40408299984661.445),m=c.a.EPSILON1;n.fromCartesian=function(e,t,i){var r=Object(s.a)(t)?t.oneOverRadii:f,o=Object(s.a)(t)?t.oneOverRadiiSquared:p,g=Object(s.a)(t)?t._centerToleranceSquared:m,_=Object(l.a)(e,r,o,g,h);if(Object(s.a)(_)){var v=a.a.multiplyComponents(_,o,u);v=a.a.normalize(v,v);var b=a.a.subtract(e,_,d),y=Math.atan2(v.y,v.x),O=Math.asin(v.z),w=c.a.sign(a.a.dot(b,e))*a.a.magnitude(b);return Object(s.a)(i)?(i.longitude=y,i.latitude=O,i.height=w,i):new n(y,O,w)}},n.toCartesian=function(e,t,i){return r.a.defined("cartographic",e),a.a.fromRadians(e.longitude,e.latitude,e.height,t,i)},n.clone=function(e,t){if(Object(s.a)(e))return Object(s.a)(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new n(e.longitude,e.latitude,e.height)},n.equals=function(e,t){return e===t||Object(s.a)(e)&&Object(s.a)(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},n.equalsEpsilon=function(e,t,i){return r.a.typeOf.number("epsilon",i),e===t||Object(s.a)(e)&&Object(s.a)(t)&&Math.abs(e.longitude-t.longitude)<=i&&Math.abs(e.latitude-t.latitude)<=i&&Math.abs(e.height-t.height)<=i},n.ZERO=Object.freeze(new n(0,0,0)),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t){return n.equalsEpsilon(this,e,t)},n.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},t.a=n},I3ep:function(e,t,i){"use strict";function n(e){if(!Object(o.a)(e)||!Object(o.a)(e.container))throw new c.a("options.container is required.");var t=Object(h.a)(e.container),i=new d.a,n=Object(r.a)(e.instructionsInitiallyVisible,!1);i.showInstructions=n,i._svgPath="M16,1.466C7.973,1.466,1.466,7.973,1.466,16c0,8.027,6.507,14.534,14.534,14.534c8.027,0,14.534-6.507,14.534-14.534C30.534,7.973,24.027,1.466,16,1.466z M17.328,24.371h-2.707v-2.596h2.707V24.371zM17.328,19.003v0.858h-2.707v-1.057c0-3.19,3.63-3.696,3.63-5.963c0-1.034-0.924-1.826-2.134-1.826c-1.254,0-2.354,0.924-2.354,0.924l-1.541-1.915c0,0,1.519-1.584,4.137-1.584c2.487,0,4.796,1.54,4.796,4.136C21.156,16.208,17.328,16.627,17.328,19.003z";var s=document.createElement("span");s.className="cesium-navigationHelpButton-wrapper",t.appendChild(s);var f=document.createElement("button");f.type="button",f.className="cesium-button cesium-toolbar-button cesium-navigation-help-button",f.setAttribute("data-bind","attr: { title: tooltip },click: command,cesiumSvgPath: { path: _svgPath, width: 32, height: 32 }"),s.appendChild(f);var p=document.createElement("div");p.className="cesium-navigation-help",p.setAttribute("data-bind",'css: { "cesium-navigation-help-visible" : showInstructions}'),s.appendChild(p);var m=document.createElement("button");m.type="button",m.className="cesium-navigation-button cesium-navigation-button-left",m.setAttribute("data-bind",'click: showClick, css: {"cesium-navigation-button-selected": !_touch, "cesium-navigation-button-unselected": _touch}');var g=document.createElement("img");g.src=Object(a.a)("Widgets/Images/NavigationHelp/Mouse.svg"),g.className="cesium-navigation-button-icon",g.style.width="25px",g.style.height="25px",m.appendChild(g),m.appendChild(document.createTextNode("Mouse"));var _=document.createElement("button");_.type="button",_.className="cesium-navigation-button cesium-navigation-button-right",_.setAttribute("data-bind",'click: showTouch, css: {"cesium-navigation-button-selected": _touch, "cesium-navigation-button-unselected": !_touch}');var v=document.createElement("img");v.src=Object(a.a)("Widgets/Images/NavigationHelp/Touch.svg"),v.className="cesium-navigation-button-icon",v.style.width="25px",v.style.height="25px",_.appendChild(v),_.appendChild(document.createTextNode("Touch")),p.appendChild(m),p.appendChild(_);var b=document.createElement("div");b.className="cesium-click-navigation-help cesium-navigation-help-instructions",b.setAttribute("data-bind",'css: { "cesium-click-navigation-help-visible" : !_touch}'),b.innerHTML='            <table>                <tr>                    <td><img src="'+Object(a.a)("Widgets/Images/NavigationHelp/MouseLeft.svg")+'" width="48" height="48" /></td>                    <td>                        <div class="cesium-navigation-help-pan">Pan view</div>                        <div class="cesium-navigation-help-details">Left click + drag</div>                    </td>                </tr>                <tr>                    <td><img src="'+Object(a.a)("Widgets/Images/NavigationHelp/MouseRight.svg")+'" width="48" height="48" /></td>                    <td>                        <div class="cesium-navigation-help-zoom">Zoom view</div>                        <div class="cesium-navigation-help-details">Right click + drag, or</div>                        <div class="cesium-navigation-help-details">Mouse wheel scroll</div>                    </td>                </tr>                <tr>                    <td><img src="'+Object(a.a)("Widgets/Images/NavigationHelp/MouseMiddle.svg")+'" width="48" height="48" /></td>                    <td>                        <div class="cesium-navigation-help-rotate">Rotate view</div>                        <div class="cesium-navigation-help-details">Middle click + drag, or</div>                        <div class="cesium-navigation-help-details">CTRL + Left/Right click + drag</div>                    </td>                </tr>            </table>',p.appendChild(b);var y=document.createElement("div");y.className="cesium-touch-navigation-help cesium-navigation-help-instructions",y.setAttribute("data-bind",'css: { "cesium-touch-navigation-help-visible" : _touch}'),y.innerHTML='            <table>                <tr>                    <td><img src="'+Object(a.a)("Widgets/Images/NavigationHelp/TouchDrag.svg")+'" width="70" height="48" /></td>                    <td>                        <div class="cesium-navigation-help-pan">Pan view</div>                        <div class="cesium-navigation-help-details">One finger drag</div>                    </td>                </tr>                <tr>                    <td><img src="'+Object(a.a)("Widgets/Images/NavigationHelp/TouchZoom.svg")+'" width="70" height="48" /></td>                    <td>                        <div class="cesium-navigation-help-zoom">Zoom view</div>                        <div class="cesium-navigation-help-details">Two finger pinch</div>                    </td>                </tr>                <tr>                    <td><img src="'+Object(a.a)("Widgets/Images/NavigationHelp/TouchTilt.svg")+'" width="70" height="48" /></td>                    <td>                        <div class="cesium-navigation-help-rotate">Tilt view</div>                        <div class="cesium-navigation-help-details">Two finger drag, same direction</div>                    </td>                </tr>                <tr>                    <td><img src="'+Object(a.a)("Widgets/Images/NavigationHelp/TouchRotate.svg")+'" width="70" height="48" /></td>                    <td>                        <div class="cesium-navigation-help-tilt">Rotate view</div>                        <div class="cesium-navigation-help-details">Two finger drag, opposite direction</div>                    </td>                </tr>            </table>',p.appendChild(y),u.a.applyBindings(i,s),this._container=t,this._viewModel=i,this._wrapper=s,this._closeInstructions=function(e){s.contains(e.target)||(i.showInstructions=!1)},l.a.supportsPointerEvents()?document.addEventListener("pointerdown",this._closeInstructions,!0):(document.addEventListener("mousedown",this._closeInstructions,!0),document.addEventListener("touchstart",this._closeInstructions,!0))}var a=i("CcV0"),r=i("5A4e"),o=i("xC6Q"),s=i("6sr8"),c=i("PzDm"),l=i("gjtw"),u=i("PKIF"),h=i("k6tp"),d=i("YQHG");Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return l.a.supportsPointerEvents()?document.removeEventListener("pointerdown",this._closeInstructions,!0):(document.removeEventListener("mousedown",this._closeInstructions,!0),document.removeEventListener("touchstart",this._closeInstructions,!0)),u.a.cleanNode(this._wrapper),this._container.removeChild(this._wrapper),Object(s.a)(this)},t.a=n},I5FW:function(e,t,i){"use strict";function n(e){this._definitionChanged=new o.a,this._color=void 0,this._colorSubscription=void 0,this.color=e}var a=i("6F0S"),r=i("xC6Q"),o=i("W6xh"),s=i("7687"),c=i("uhjI");Object.defineProperties(n.prototype,{isConstant:{get:function(){return c.a.isConstant(this._color)}},definitionChanged:{get:function(){return this._definitionChanged}},color:Object(s.a)("color")}),n.prototype.getType=function(e){return"Color"},n.prototype.getValue=function(e,t){return Object(r.a)(t)||(t={}),t.color=c.a.getValueOrClonedDefault(this._color,e,a.a.WHITE,t.color),t},n.prototype.equals=function(e){return this===e||e instanceof n&&c.a.equals(this._color,e._color)},t.a=n},I5mA:function(e,t,i){"use strict";var n=i("5A4e"),a=i("xC6Q"),r=i("PzDm"),o=i("fq+p"),s={packedLength:1,pack:function(e,t,i){if(!Object(a.a)(e))throw new r.a("value is required");if(!Object(a.a)(t))throw new r.a("array is required");return i=Object(n.a)(i,0),t[i]=e,t},unpack:function(e,t,i){if(!Object(a.a)(e))throw new r.a("array is required");return t=Object(n.a)(t,0),e[t]},convertPackedArrayForInterpolation:function(e,t,i,s){if(!Object(a.a)(e))throw new r.a("packedArray is required");t=Object(n.a)(t,0),i=Object(n.a)(i,e.length);for(var c,l=0,u=i-t+1;l<u;l++){var h=e[t+l];0===l||Math.abs(c-h)<Math.PI?s[l]=h:s[l]=h-o.a.TWO_PI,c=h}},unpackInterpolationResult:function(e,t,i,n,s){if(!Object(a.a)(e))throw new r.a("array is required");if(!Object(a.a)(t))throw new r.a("sourceArray is required");return s=e[0],s<0?s+o.a.TWO_PI:s}};t.a=s},I6c9:function(e,t,i){"use strict";function n(e){if(!Object(r.a)(e))throw new o.a("options is required.");if(!Object(r.a)(e.x))throw new o.a("options.x is required.");if(!Object(r.a)(e.y))throw new o.a("options.y is required.");if(e.x<0||e.y<0)throw new o.a("options.x and options.y must be greater than or equal to zero.");if(!Object(r.a)(e.level))throw new o.a("options.level is required and must be greater than or equal to zero.");if(!Object(r.a)(e.tilingScheme))throw new o.a("options.tilingScheme is required.");this._tilingScheme=e.tilingScheme,this._x=e.x,this._y=e.y,this._level=e.level,this._parent=e.parent,this._rectangle=this._tilingScheme.tileXYToRectangle(this._x,this._y,this._level),this._southwestChild=void 0,this._southeastChild=void 0,this._northwestChild=void 0,this._northeastChild=void 0,this.replacementPrevious=void 0,this.replacementNext=void 0,this._distance=0,this._loadPriority=0,this._customData=[],this._frameUpdated=void 0,this._lastSelectionResult=l.a.NONE,this._lastSelectionResultFrame=void 0,this._loadedCallbacks={},this.state=c.a.START,this.renderable=!1,this.upsampledFromParent=!1,this.data=void 0}function a(e){Object(r.a)(e)&&e.freeResources()}var r=i("xC6Q"),o=i("PzDm"),s=i("Wq1U"),c=i("u1iC"),l=i("qqab");n.createLevelZeroTiles=function(e){if(!Object(r.a)(e))throw new o.a("tilingScheme is required.");for(var t=e.getNumberOfXTilesAtLevel(0),i=e.getNumberOfYTilesAtLevel(0),a=new Array(t*i),s=0,c=0;c<i;++c)for(var l=0;l<t;++l)a[s++]=new n({tilingScheme:e,x:l,y:c,level:0});return a},n.prototype._updateCustomData=function(e,t,i){var n,a,o,c=this.customData;if(Object(r.a)(t)&&Object(r.a)(i)){for(c=c.filter(function(e){return-1===i.indexOf(e)}),this._customData=c,o=this._rectangle,n=0;n<t.length;++n)a=t[n],s.a.contains(o,a.positionCartographic)&&c.push(a);this._frameUpdated=e}else{var l=this._parent;if(Object(r.a)(l)&&this._frameUpdated!==l._frameUpdated){c.length=0,o=this._rectangle;var u=l.customData;for(n=0;n<u.length;++n)a=u[n],s.a.contains(o,a.positionCartographic)&&c.push(a);this._frameUpdated=l._frameUpdated}}},Object.defineProperties(n.prototype,{tilingScheme:{get:function(){return this._tilingScheme}},x:{get:function(){return this._x}},y:{get:function(){return this._y}},level:{get:function(){return this._level}},parent:{get:function(){return this._parent}},rectangle:{get:function(){return this._rectangle}},children:{get:function(){return[this.northwestChild,this.northeastChild,this.southwestChild,this.southeastChild]}},southwestChild:{get:function(){return Object(r.a)(this._southwestChild)||(this._southwestChild=new n({tilingScheme:this.tilingScheme,x:2*this.x,y:2*this.y+1,level:this.level+1,parent:this})),this._southwestChild}},southeastChild:{get:function(){return Object(r.a)(this._southeastChild)||(this._southeastChild=new n({tilingScheme:this.tilingScheme,x:2*this.x+1,y:2*this.y+1,level:this.level+1,parent:this})),this._southeastChild}},northwestChild:{get:function(){return Object(r.a)(this._northwestChild)||(this._northwestChild=new n({tilingScheme:this.tilingScheme,x:2*this.x,y:2*this.y,level:this.level+1,parent:this})),this._northwestChild}},northeastChild:{get:function(){return Object(r.a)(this._northeastChild)||(this._northeastChild=new n({tilingScheme:this.tilingScheme,x:2*this.x+1,y:2*this.y,level:this.level+1,parent:this})),this._northeastChild}},customData:{get:function(){return this._customData}},needsLoading:{get:function(){return this.state<c.a.DONE}},eligibleForUnloading:{get:function(){var e=!0;return Object(r.a)(this.data)&&(e=this.data.eligibleForUnloading,Object(r.a)(e)||(e=!0)),e}}}),n.prototype.findLevelZeroTile=function(e,t,i){var n=this.tilingScheme.getNumberOfXTilesAtLevel(0);if(t<0?t+=n:t>=n&&(t-=n),!(i<0||i>=this.tilingScheme.getNumberOfYTilesAtLevel(0)))return e.filter(function(e){return e.x===t&&e.y===i})[0]},n.prototype.findTileToWest=function(e){var t=this.parent;if(void 0===t)return this.findLevelZeroTile(e,this.x-1,this.y);if(t.southeastChild===this)return t.southwestChild;if(t.northeastChild===this)return t.northwestChild;var i=t.findTileToWest(e);if(void 0!==i)return t.southwestChild===this?i.southeastChild:i.northeastChild},n.prototype.findTileToEast=function(e){var t=this.parent;if(void 0===t)return this.findLevelZeroTile(e,this.x+1,this.y);if(t.southwestChild===this)return t.southeastChild;if(t.northwestChild===this)return t.northeastChild;var i=t.findTileToEast(e);if(void 0!==i)return t.southeastChild===this?i.southwestChild:i.northwestChild},n.prototype.findTileToSouth=function(e){var t=this.parent;if(void 0===t)return this.findLevelZeroTile(e,this.x,this.y+1);if(t.northwestChild===this)return t.southwestChild;if(t.northeastChild===this)return t.southeastChild;var i=t.findTileToSouth(e);if(void 0!==i)return t.southwestChild===this?i.northwestChild:i.northeastChild},n.prototype.findTileToNorth=function(e){var t=this.parent;if(void 0===t)return this.findLevelZeroTile(e,this.x,this.y-1);if(t.southwestChild===this)return t.northwestChild;if(t.southeastChild===this)return t.northeastChild;var i=t.findTileToNorth(e);if(void 0!==i)return t.northwestChild===this?i.southwestChild:i.southeastChild},n.prototype.freeResources=function(){this.state=c.a.START,this.renderable=!1,this.upsampledFromParent=!1,Object(r.a)(this.data)&&Object(r.a)(this.data.freeResources)&&this.data.freeResources(),a(this._southwestChild),this._southwestChild=void 0,a(this._southeastChild),this._southeastChild=void 0,a(this._northwestChild),this._northwestChild=void 0,a(this._northeastChild),this._northeastChild=void 0},t.a=n},I8pF:function(e,t,i){"use strict";t.a="/**\n * 0.000001\n *\n * @name czm_epsilon6\n * @glslConstant\n */\nconst float czm_epsilon6 = 0.000001;\n"},IDfv:function(e,t,i){"use strict";var n={FIXED:0,INERTIAL:1};t.a=Object.freeze(n)},IPrE:function(e,t,i){"use strict";function n(e){e=Object(c.a)(e,c.a.EMPTY_OBJECT),this.left=e.left,this._left=void 0,this.right=e.right,this._right=void 0,this.top=e.top,this._top=void 0,this.bottom=e.bottom,this._bottom=void 0,this.near=Object(c.a)(e.near,1),this._near=this.near,this.far=Object(c.a)(e.far,5e8),this._far=this.far,this._cullingVolume=new s.a,this._perspectiveMatrix=new d.a,this._infinitePerspective=new d.a}function a(e){if(!(Object(l.a)(e.right)&&Object(l.a)(e.left)&&Object(l.a)(e.top)&&Object(l.a)(e.bottom)&&Object(l.a)(e.near)&&Object(l.a)(e.far)))throw new u.a("right, left, top, bottom, near, or far parameters are not set.");var t=e.top,i=e.bottom,n=e.right,a=e.left,r=e.near,o=e.far;if(t!==e._top||i!==e._bottom||a!==e._left||n!==e._right||r!==e._near||o!==e._far){if(e.near<=0||e.near>e.far)throw new u.a("near must be greater than zero and less than far.");e._left=a,e._right=n,e._top=t,e._bottom=i,e._near=r,e._far=o,e._perspectiveMatrix=d.a.computePerspectiveOffCenter(a,n,i,t,r,o,e._perspectiveMatrix),e._infinitePerspective=d.a.computeInfinitePerspectiveOffCenter(a,n,i,t,r,e._infinitePerspective)}}var r=i("Jj+J"),o=i("PDkd"),s=i("XHlg"),c=i("5A4e"),l=i("xC6Q"),u=i("PzDm"),h=i("fq+p"),d=i("Xjii");Object.defineProperties(n.prototype,{projectionMatrix:{get:function(){return a(this),this._perspectiveMatrix}},infiniteProjectionMatrix:{get:function(){return a(this),this._infinitePerspective}}});var f=new r.a,p=new r.a,m=new r.a,g=new r.a;n.prototype.computeCullingVolume=function(e,t,i){if(!Object(l.a)(e))throw new u.a("position is required.");if(!Object(l.a)(t))throw new u.a("direction is required.");if(!Object(l.a)(i))throw new u.a("up is required.");var n=this._cullingVolume.planes,a=this.top,s=this.bottom,c=this.right,h=this.left,d=this.near,_=this.far,v=r.a.cross(t,i,f),b=p;r.a.multiplyByScalar(t,d,b),r.a.add(e,b,b);var y=m;r.a.multiplyByScalar(t,_,y),r.a.add(e,y,y);var O=g;r.a.multiplyByScalar(v,h,O),r.a.add(b,O,O),r.a.subtract(O,e,O),r.a.normalize(O,O),r.a.cross(O,i,O),r.a.normalize(O,O);var w=n[0];return Object(l.a)(w)||(w=n[0]=new o.a),w.x=O.x,w.y=O.y,w.z=O.z,w.w=-r.a.dot(O,e),r.a.multiplyByScalar(v,c,O),r.a.add(b,O,O),r.a.subtract(O,e,O),r.a.cross(i,O,O),r.a.normalize(O,O),w=n[1],Object(l.a)(w)||(w=n[1]=new o.a),w.x=O.x,w.y=O.y,w.z=O.z,w.w=-r.a.dot(O,e),r.a.multiplyByScalar(i,s,O),r.a.add(b,O,O),r.a.subtract(O,e,O),r.a.cross(v,O,O),r.a.normalize(O,O),w=n[2],Object(l.a)(w)||(w=n[2]=new o.a),w.x=O.x,w.y=O.y,w.z=O.z,w.w=-r.a.dot(O,e),r.a.multiplyByScalar(i,a,O),r.a.add(b,O,O),r.a.subtract(O,e,O),r.a.cross(O,v,O),r.a.normalize(O,O),w=n[3],Object(l.a)(w)||(w=n[3]=new o.a),w.x=O.x,w.y=O.y,w.z=O.z,w.w=-r.a.dot(O,e),w=n[4],Object(l.a)(w)||(w=n[4]=new o.a),w.x=t.x,w.y=t.y,w.z=t.z,w.w=-r.a.dot(t,b),r.a.negate(t,O),w=n[5],Object(l.a)(w)||(w=n[5]=new o.a),w.x=O.x,w.y=O.y,w.z=O.z,w.w=-r.a.dot(O,y),this._cullingVolume},n.prototype.getPixelDimensions=function(e,t,i,n,r){if(a(this),!Object(l.a)(e)||!Object(l.a)(t))throw new u.a("Both drawingBufferWidth and drawingBufferHeight are required.");if(e<=0)throw new u.a("drawingBufferWidth must be greater than zero.");if(t<=0)throw new u.a("drawingBufferHeight must be greater than zero.");if(!Object(l.a)(i))throw new u.a("distance is required.");if(!Object(l.a)(n))throw new u.a("pixelRatio is required");if(n<=0)throw new u.a("pixelRatio must be greater than zero.");if(!Object(l.a)(r))throw new u.a("A result object is required.");var o=1/this.near,s=this.top*o,c=2*n*i*s/t;s=this.right*o;var h=2*n*i*s/e;return r.x=h,r.y=c,r},n.prototype.clone=function(e){return Object(l.a)(e)||(e=new n),e.right=this.right,e.left=this.left,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e._left=void 0,e._right=void 0,e._top=void 0,e._bottom=void 0,e._near=void 0,e._far=void 0,e},n.prototype.equals=function(e){return Object(l.a)(e)&&e instanceof n&&this.right===e.right&&this.left===e.left&&this.top===e.top&&this.bottom===e.bottom&&this.near===e.near&&this.far===e.far},n.prototype.equalsEpsilon=function(e,t,i){return e===this||Object(l.a)(e)&&e instanceof n&&h.a.equalsEpsilon(this.right,e.right,t,i)&&h.a.equalsEpsilon(this.left,e.left,t,i)&&h.a.equalsEpsilon(this.top,e.top,t,i)&&h.a.equalsEpsilon(this.bottom,e.bottom,t,i)&&h.a.equalsEpsilon(this.near,e.near,t,i)&&h.a.equalsEpsilon(this.far,e.far,t,i)},t.a=n},IZPL:function(e,t,i){"use strict";function n(e,t){this.julianDate=e,this.offset=t}t.a=n},Ibhu:function(e,t,i){var n=i("D2L2"),a=i("TcQ7"),r=i("vFc/")(!1),o=i("ax3d")("IE_PROTO");e.exports=function(e,t){var i,s=a(e),c=0,l=[];for(i in s)i!=o&&n(s,i)&&l.push(i);for(;t.length>c;)n(s,i=t[c++])&&(~r(l,i)||l.push(i));return l}},Is4l:function(e,t,i){"use strict";function n(){this.high=a.a.clone(a.a.ZERO),this.low=a.a.clone(a.a.ZERO)}var a=i("Jj+J"),r=i("5F4X"),o=i("xC6Q");n.encode=function(e,t){r.a.typeOf.number("value",e),Object(o.a)(t)||(t={high:0,low:0});var i;return e>=0?(i=65536*Math.floor(e/65536),t.high=i,t.low=e-i):(i=65536*Math.floor(-e/65536),t.high=-i,t.low=e+i),t};var s={high:0,low:0};n.fromCartesian=function(e,t){r.a.typeOf.object("cartesian",e),Object(o.a)(t)||(t=new n);var i=t.high,a=t.low;return n.encode(e.x,s),i.x=s.high,a.x=s.low,n.encode(e.y,s),i.y=s.high,a.y=s.low,n.encode(e.z,s),i.z=s.high,a.z=s.low,t};var c=new n;n.writeElements=function(e,t,i){r.a.defined("cartesianArray",t),r.a.typeOf.number("index",i),r.a.typeOf.number.greaterThanOrEquals("index",i,0),n.fromCartesian(e,c);var a=c.high,o=c.low;t[i]=a.x,t[i+1]=a.y,t[i+2]=a.z,t[i+3]=o.x,t[i+4]=o.y,t[i+5]=o.z},t.a=n},Isxj:function(e,t,i){"use strict";function n(e,t,i,n,a){var r=m.a.fromPoints(t,e),s=r.projectPointsOntoPlane(t,S);T.a.computeWindingOrder2D(s)===C.a.CLOCKWISE&&(s.reverse(),t=t.slice().reverse());var c,l,h=t.length,d=0;if(n)for(c=new Float64Array(2*h*3),l=0;l<h;l++){var f=t[l],p=t[(l+1)%h];c[d++]=f.x,c[d++]=f.y,c[d++]=f.z,c[d++]=p.x,c[d++]=p.y,c[d++]=p.z}else{var y=0;if(a===o.a.GEODESIC)for(l=0;l<h;l++)y+=E.a.subdivideLineCount(t[l],t[(l+1)%h],i);else if(a===o.a.RHUMB)for(l=0;l<h;l++)y+=E.a.subdivideRhumbLineCount(e,t[l],t[(l+1)%h],i);for(c=new Float64Array(3*y),l=0;l<h;l++){var O;a===o.a.GEODESIC?O=E.a.subdivideLine(t[l],t[(l+1)%h],i,j):a===o.a.RHUMB&&(O=E.a.subdivideRhumbLine(e,t[l],t[(l+1)%h],i,j));for(var x=O.length,P=0;P<x;++P)c[d++]=O[P]}}h=c.length/3;var D=2*h,I=w.a.createTypedArray(h,D);for(d=0,l=0;l<h-1;l++)I[d++]=l,I[d++]=l+1;return I[d++]=h-1,I[d++]=0,new b.a({geometry:new g.a({attributes:new v.a({position:new _.a({componentDatatype:u.a.DOUBLE,componentsPerAttribute:3,values:c})}),indices:I,primitiveType:A.a.LINES})})}function a(e,t,i,n,a){var r=m.a.fromPoints(t,e),s=r.projectPointsOntoPlane(t,S);T.a.computeWindingOrder2D(s)===C.a.CLOCKWISE&&(s.reverse(),t=t.slice().reverse());var c,l,h=t.length,d=new Array(h),f=0;if(n)for(c=new Float64Array(2*h*3*2),l=0;l<h;++l){d[l]=f/3;var p=t[l],y=t[(l+1)%h];c[f++]=p.x,c[f++]=p.y,c[f++]=p.z,c[f++]=y.x,c[f++]=y.y,c[f++]=y.z}else{var O=0;if(a===o.a.GEODESIC)for(l=0;l<h;l++)O+=E.a.subdivideLineCount(t[l],t[(l+1)%h],i);else if(a===o.a.RHUMB)for(l=0;l<h;l++)O+=E.a.subdivideRhumbLineCount(e,t[l],t[(l+1)%h],i);for(c=new Float64Array(3*O*2),l=0;l<h;++l){d[l]=f/3;var x;a===o.a.GEODESIC?x=E.a.subdivideLine(t[l],t[(l+1)%h],i,j):a===o.a.RHUMB&&(x=E.a.subdivideRhumbLine(e,t[l],t[(l+1)%h],i,j));for(var P=x.length,D=0;D<P;++D)c[f++]=x[D]}}h=c.length/6;var I=d.length,R=2*(2*h+I),M=w.a.createTypedArray(h+I,R);for(f=0,l=0;l<h;++l)M[f++]=l,M[f++]=(l+1)%h,M[f++]=l+h,M[f++]=(l+1)%h+h;for(l=0;l<I;l++){var L=d[l];M[f++]=L,M[f++]=L+h}return new b.a({geometry:new g.a({attributes:new v.a({position:new _.a({componentDatatype:u.a.DOUBLE,componentsPerAttribute:3,values:c})}),indices:M,primitiveType:A.a.LINES})})}function r(e){if(l.a.typeOf.object("options",e),l.a.typeOf.object("options.polygonHierarchy",e.polygonHierarchy),e.perPositionHeight&&Object(d.a)(e.height))throw new f.a("Cannot use both options.perPositionHeight and options.height");if(Object(d.a)(e.arcType)&&e.arcType!==o.a.GEODESIC&&e.arcType!==o.a.RHUMB)throw new f.a("Invalid arcType. Valid options are ArcType.GEODESIC and ArcType.RHUMB.");var t=e.polygonHierarchy,i=Object(h.a)(e.ellipsoid,p.a.WGS84),n=Object(h.a)(e.granularity,x.a.RADIANS_PER_DEGREE),a=Object(h.a)(e.perPositionHeight,!1),r=a&&Object(d.a)(e.extrudedHeight),s=Object(h.a)(e.arcType,o.a.GEODESIC),c=Object(h.a)(e.height,0),u=Object(h.a)(e.extrudedHeight,c);if(!r){var m=Math.max(c,u);u=Math.min(c,u),c=m}this._ellipsoid=p.a.clone(i),this._granularity=n,this._height=c,this._extrudedHeight=u,this._arcType=s,this._polygonHierarchy=t,this._perPositionHeight=a,this._perPositionHeightExtrude=r,this._offsetAttribute=e.offsetAttribute,this._workerName="createPolygonOutlineGeometry",this.packedLength=E.a.computeHierarchyPackedLength(t)+p.a.packedLength+8}var o=i("X8rS"),s=i("Sfsp"),c=i("lBr9"),l=i("5F4X"),u=i("YCZg"),h=i("5A4e"),d=i("xC6Q"),f=i("PzDm"),p=i("y6fO"),m=i("GmON"),g=i("RGAo"),_=i("RYD3"),v=i("GaJK"),b=i("izcu"),y=i("2g+t"),O=i("odWO"),w=i("oMsT"),x=i("fq+p"),E=i("qG/l"),T=i("EDAM"),A=i("nHNe"),C=i("+snP"),S=[],j=[];r.pack=function(e,t,i){return l.a.typeOf.object("value",e),l.a.defined("array",t),i=Object(h.a)(i,0),i=E.a.packPolygonHierarchy(e._polygonHierarchy,t,i),p.a.pack(e._ellipsoid,t,i),i+=p.a.packedLength,t[i++]=e._height,t[i++]=e._extrudedHeight,t[i++]=e._granularity,t[i++]=e._perPositionHeightExtrude?1:0,t[i++]=e._perPositionHeight?1:0,t[i++]=e._arcType,t[i++]=Object(h.a)(e._offsetAttribute,-1),t[i]=e.packedLength,t};var P=p.a.clone(p.a.UNIT_SPHERE),D={polygonHierarchy:{}};r.unpack=function(e,t,i){l.a.defined("array",e),t=Object(h.a)(t,0);var n=E.a.unpackPolygonHierarchy(e,t);t=n.startingIndex,delete n.startingIndex;var a=p.a.unpack(e,t,P);t+=p.a.packedLength;var o=e[t++],s=e[t++],c=e[t++],u=1===e[t++],f=1===e[t++],m=e[t++],g=e[t++],_=e[t];return Object(d.a)(i)||(i=new r(D)),i._polygonHierarchy=n,i._ellipsoid=p.a.clone(a,i._ellipsoid),i._height=o,i._extrudedHeight=s,i._granularity=c,i._perPositionHeight=f,i._perPositionHeightExtrude=u,i._arcType=m,i._offsetAttribute=-1===g?void 0:g,i.packedLength=_,i},r.fromPositions=function(e){return e=Object(h.a)(e,h.a.EMPTY_OBJECT),l.a.defined("options.positions",e.positions),new r({polygonHierarchy:{positions:e.positions},height:e.height,extrudedHeight:e.extrudedHeight,ellipsoid:e.ellipsoid,granularity:e.granularity,perPositionHeight:e.perPositionHeight,arcType:e.arcType,offsetAttribute:e.offsetAttribute})},r.createGeometry=function(e){var t=e._ellipsoid,i=e._granularity,r=e._polygonHierarchy,o=e._perPositionHeight,l=e._arcType,h=E.a.polygonOutlinesFromHierarchy(r,!o,t);if(0!==h.length){var f,p,m,v=[],b=x.a.chordLength(i,t.maximumRadius),w=e._height,A=e._extrudedHeight,C=e._perPositionHeightExtrude||!x.a.equalsEpsilon(w,A,0,x.a.EPSILON2);if(C)for(m=0;m<h.length;m++){if(f=a(t,h[m],b,o,l),f.geometry=E.a.scaleToGeodeticHeightExtruded(f.geometry,w,A,t,o),Object(d.a)(e._offsetAttribute)){var S=f.geometry.attributes.position.values.length/3,j=new Uint8Array(S);e._offsetAttribute===y.a.TOP?j=Object(s.a)(j,1,0,S/2):(p=e._offsetAttribute===y.a.NONE?0:1,j=Object(s.a)(j,p)),f.geometry.attributes.applyOffset=new _.a({componentDatatype:u.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:j})}v.push(f)}else for(m=0;m<h.length;m++){if(f=n(t,h[m],b,o,l),f.geometry.attributes.position.values=T.a.scaleToGeodeticHeight(f.geometry.attributes.position.values,w,t,!o),Object(d.a)(e._offsetAttribute)){var P=f.geometry.attributes.position.values.length,D=new Uint8Array(P/3);p=e._offsetAttribute===y.a.NONE?0:1,Object(s.a)(D,p),f.geometry.attributes.applyOffset=new _.a({componentDatatype:u.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:D})}v.push(f)}var I=O.a.combineInstances(v)[0],R=c.a.fromVertices(I.attributes.position.values);return new g.a({attributes:I.attributes,indices:I.indices,primitiveType:I.primitiveType,boundingSphere:R,offsetAttribute:e._offsetAttribute})}},t.a=r},IwI9:function(e,t,i){"use strict";function n(e,t){if(n.passThroughDataForTesting)return t;a.a.typeOf.object("key",e),a.a.typeOf.object("data",t);var i=e.byteLength;if(0===i||i%4!=0)throw new r.a("The length of key must be greater than 0 and a multiple of 4.");var c=new DataView(t),l=c.getUint32(0,!0);if(l===o||l===s)return t;for(var u,h=new DataView(e),d=0,f=t.byteLength,p=f-f%8,m=i,g=8;d<p;)for(g=(g+8)%24,u=g;d<p&&u<m;)c.setUint32(d,c.getUint32(d,!0)^h.getUint32(u,!0),!0),c.setUint32(d+4,c.getUint32(d+4,!0)^h.getUint32(u+4,!0),!0),d+=8,u+=24;if(d<f)for(u>=m&&(g=(g+8)%24,u=g);d<f;)c.setUint8(d,c.getUint8(d)^h.getUint8(u)),d++,u++}var a=i("5F4X"),r=i("V22k"),o=1953029805,s=2917034100;n.passThroughDataForTesting=!1,t.a=n},IwxH:function(e,t,i){"use strict";t.a="/**\n * Computes a 3x3 rotation matrix that transforms vectors from an ellipsoid's east-north-up coordinate system \n * to eye coordinates.  In east-north-up coordinates, x points east, y points north, and z points along the \n * surface normal.  East-north-up can be used as an ellipsoid's tangent space for operations such as bump mapping.\n * <br /><br />\n * The ellipsoid is assumed to be centered at the model coordinate's origin.\n *\n * @name czm_eastNorthUpToEyeCoordinates\n * @glslFunction\n *\n * @param {vec3} positionMC The position on the ellipsoid in model coordinates.\n * @param {vec3} normalEC The normalized ellipsoid surface normal, at <code>positionMC</code>, in eye coordinates.\n *\n * @returns {mat3} A 3x3 rotation matrix that transforms vectors from the east-north-up coordinate system to eye coordinates.\n *\n * @example\n * // Transform a vector defined in the east-north-up coordinate \n * // system, (0, 0, 1) which is the surface normal, to eye \n * // coordinates.\n * mat3 m = czm_eastNorthUpToEyeCoordinates(positionMC, normalEC);\n * vec3 normalEC = m * vec3(0.0, 0.0, 1.0);\n */\nmat3 czm_eastNorthUpToEyeCoordinates(vec3 positionMC, vec3 normalEC)\n{\n    vec3 tangentMC = normalize(vec3(-positionMC.y, positionMC.x, 0.0));  // normalized surface tangent in model coordinates\n    vec3 tangentEC = normalize(czm_normal3D * tangentMC);                // normalized surface tangent in eye coordiantes\n    vec3 bitangentEC = normalize(cross(normalEC, tangentEC));            // normalized surface bitangent in eye coordinates\n\n    return mat3(\n        tangentEC.x,   tangentEC.y,   tangentEC.z,\n        bitangentEC.x, bitangentEC.y, bitangentEC.z,\n        normalEC.x,    normalEC.y,    normalEC.z);\n}\n"},IyxF:function(e,t,i){"use strict";function n(e,t,i){r.a.defined("url",e),r.a.defined("apiKey",t),Object(c.a)(i)&&r.a.typeOf.object("params",i),e=u.a.createIfNeeded(e),e.appendForwardSlash(),e.setQueryParameters({key:t}),this._url=e,this._params=Object(s.a)(i,{})}var a=i("Jj+J"),r=i("5F4X"),o=i("ZboF"),s=i("5A4e"),c=i("xC6Q"),l=i("Wq1U"),u=i("rMjQ");Object.defineProperties(n.prototype,{url:{get:function(){return this._url}},params:{get:function(){return this._params}}}),n.prototype.geocode=function(e){return r.a.typeOf.string("query",e),this._url.getDerivedResource({url:"json",queryParameters:Object(o.a)(this._params,{q:e})}).fetchJson().then(function(e){return e.results.map(function(e){var t,i=e.bounds;if(Object(c.a)(i))t=l.a.fromDegrees(i.southwest.lng,i.southwest.lat,i.northeast.lng,i.northeast.lat);else{var n=e.geometry.lat,r=e.geometry.lng;t=a.a.fromDegrees(n,r)}return{displayName:e.formatted,destination:t}})})}},J1no:function(e,t,i){"use strict";var n={_maximumCombinedTextureImageUnits:0,_maximumCubeMapSize:0,_maximumFragmentUniformVectors:0,_maximumTextureImageUnits:0,_maximumRenderbufferSize:0,_maximumTextureSize:0,_maximumVaryingVectors:0,_maximumVertexAttributes:0,_maximumVertexTextureImageUnits:0,_maximumVertexUniformVectors:0,_minimumAliasedLineWidth:0,_maximumAliasedLineWidth:0,_minimumAliasedPointSize:0,_maximumAliasedPointSize:0,_maximumViewportWidth:0,_maximumViewportHeight:0,_maximumTextureFilterAnisotropy:0,_maximumDrawBuffers:0,_maximumColorAttachments:0,_highpFloatSupported:!1,_highpIntSupported:!1};Object.defineProperties(n,{maximumCombinedTextureImageUnits:{get:function(){return n._maximumCombinedTextureImageUnits}},maximumCubeMapSize:{get:function(){return n._maximumCubeMapSize}},maximumFragmentUniformVectors:{get:function(){return n._maximumFragmentUniformVectors}},maximumTextureImageUnits:{get:function(){return n._maximumTextureImageUnits}},maximumRenderbufferSize:{get:function(){return n._maximumRenderbufferSize}},maximumTextureSize:{get:function(){return n._maximumTextureSize}},maximumVaryingVectors:{get:function(){return n._maximumVaryingVectors}},maximumVertexAttributes:{get:function(){return n._maximumVertexAttributes}},maximumVertexTextureImageUnits:{get:function(){return n._maximumVertexTextureImageUnits}},maximumVertexUniformVectors:{get:function(){return n._maximumVertexUniformVectors}},minimumAliasedLineWidth:{get:function(){return n._minimumAliasedLineWidth}},maximumAliasedLineWidth:{get:function(){return n._maximumAliasedLineWidth}},minimumAliasedPointSize:{get:function(){return n._minimumAliasedPointSize}},maximumAliasedPointSize:{get:function(){return n._maximumAliasedPointSize}},maximumViewportWidth:{get:function(){return n._maximumViewportWidth}},maximumViewportHeight:{get:function(){return n._maximumViewportHeight}},maximumTextureFilterAnisotropy:{get:function(){return n._maximumTextureFilterAnisotropy}},maximumDrawBuffers:{get:function(){return n._maximumDrawBuffers}},maximumColorAttachments:{get:function(){return n._maximumColorAttachments}},highpFloatSupported:{get:function(){return n._highpFloatSupported}},highpIntSupported:{get:function(){return n._highpIntSupported}}}),t.a=n},JFrF:function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\nuniform float brightness;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main(void)\n{\n    vec3 rgb = texture2D(colorTexture, v_textureCoordinates).rgb;\n    vec3 target = vec3(0.0);\n    gl_FragColor = vec4(mix(target, rgb, brightness), 1.0);\n}\n"},JIo7:function(e,t,i){"use strict";var n={NONE:0,CLAMP_TO_GROUND:1,RELATIVE_TO_GROUND:2};t.a=Object.freeze(n)},JSx5:function(e,t,i){"use strict";t.a="\nvarying vec2 v_textureCoordinates;\n\nvoid main()\n{\n    czm_materialInput materialInput;\n    \n    materialInput.s = v_textureCoordinates.s;\n    materialInput.st = v_textureCoordinates;\n    materialInput.str = vec3(v_textureCoordinates, 0.0);\n    materialInput.normalEC = vec3(0.0, 0.0, -1.0);\n    \n    czm_material material = czm_getMaterial(materialInput);\n\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n}\n"},"JUp/":function(e,t,i){"use strict";t.a="/**\n * Returns a position in model coordinates relative to eye taking into\n * account the current scene mode: 3D, 2D, or Columbus view.\n * <p>\n * This uses standard position attributes, <code>position3DHigh</code>, \n * <code>position3DLow</code>, <code>position2DHigh</code>, and <code>position2DLow</code>, \n * and should be used when writing a vertex shader for an {@link Appearance}.\n * </p>\n *\n * @name czm_computePosition\n * @glslFunction\n *\n * @returns {vec4} The position relative to eye.\n *\n * @example\n * vec4 p = czm_computePosition();\n * v_positionEC = (czm_modelViewRelativeToEye * p).xyz;\n * gl_Position = czm_modelViewProjectionRelativeToEye * p;\n *\n * @see czm_translateRelativeToEye\n */\nvec4 czm_computePosition();\n"},JXpW:function(e,t,i){"use strict";function n(e,t){if(!Object(a.a)(e))throw new o.a("container is required.");e=Object(c.a)(e),this._container=e;var i=document.createElement("div");i.className="cesium-selection-wrapper",i.setAttribute("data-bind",'style: { "top" : _screenPositionY, "left" : _screenPositionX },css: { "cesium-selection-wrapper-visible" : isVisible }'),e.appendChild(i),this._element=i;var n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg:svg");r.setAttribute("width",160),r.setAttribute("height",160),r.setAttribute("viewBox","0 0 160 160");var u=document.createElementNS(n,"g");u.setAttribute("transform","translate(80,80)"),r.appendChild(u);var h=document.createElementNS(n,"path");h.setAttribute("data-bind","attr: { transform: _transform }"),h.setAttribute("d","M -34 -34 L -34 -11.25 L -30 -15.25 L -30 -30 L -15.25 -30 L -11.25 -34 L -34 -34 z M 11.25 -34 L 15.25 -30 L 30 -30 L 30 -15.25 L 34 -11.25 L 34 -34 L 11.25 -34 z M -34 11.25 L -34 34 L -11.25 34 L -15.25 30 L -30 30 L -30 15.25 L -34 11.25 z M 34 11.25 L 30 15.25 L 30 30 L 15.25 30 L 11.25 34 L 34 34 L 34 11.25 z"),u.appendChild(h),i.appendChild(r);var d=new l.a(t,this._element,this._container);this._viewModel=d,s.a.applyBindings(this._viewModel,this._element)}var a=i("xC6Q"),r=i("6sr8"),o=i("PzDm"),s=i("PKIF"),c=i("k6tp"),l=i("D98s");Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){var e=this._container;return s.a.cleanNode(this._element),e.removeChild(this._element),Object(r.a)(this)},t.a=n},Ja8v:function(e,t,i){"use strict";function n(e){e=Object(s.a)(e,s.a.EMPTY_OBJECT);var t=e.positions,i=e.maximumHeights,n=e.minimumHeights;if(!Object(c.a)(t))throw new l.a("options.positions is required.");if(Object(c.a)(i)&&i.length!==t.length)throw new l.a("options.positions and options.maximumHeights must have the same length.");if(Object(c.a)(n)&&n.length!==t.length)throw new l.a("options.positions and options.minimumHeights must have the same length.");var a=Object(s.a)(e.granularity,m.a.RADIANS_PER_DEGREE),o=Object(s.a)(e.ellipsoid,u.a.WGS84);this._positions=t,this._minimumHeights=n,this._maximumHeights=i,this._granularity=a,this._ellipsoid=u.a.clone(o),this._workerName="createWallOutlineGeometry";var h=1+t.length*r.a.packedLength+2;Object(c.a)(n)&&(h+=n.length),Object(c.a)(i)&&(h+=i.length),this.packedLength=h+u.a.packedLength+1}var a=i("lBr9"),r=i("Jj+J"),o=i("YCZg"),s=i("5A4e"),c=i("xC6Q"),l=i("PzDm"),u=i("y6fO"),h=i("RGAo"),d=i("RYD3"),f=i("GaJK"),p=i("oMsT"),m=i("fq+p"),g=i("nHNe"),_=i("+yKu"),v=new r.a,b=new r.a;n.pack=function(e,t,i){if(!Object(c.a)(e))throw new l.a("value is required");if(!Object(c.a)(t))throw new l.a("array is required");i=Object(s.a)(i,0);var n,a=e._positions,o=a.length;for(t[i++]=o,n=0;n<o;++n,i+=r.a.packedLength)r.a.pack(a[n],t,i);var h=e._minimumHeights;if(o=Object(c.a)(h)?h.length:0,t[i++]=o,Object(c.a)(h))for(n=0;n<o;++n)t[i++]=h[n];var d=e._maximumHeights;if(o=Object(c.a)(d)?d.length:0,t[i++]=o,Object(c.a)(d))for(n=0;n<o;++n)t[i++]=d[n];return u.a.pack(e._ellipsoid,t,i),i+=u.a.packedLength,t[i]=e._granularity,t};var y=u.a.clone(u.a.UNIT_SPHERE),O={positions:void 0,minimumHeights:void 0,maximumHeights:void 0,ellipsoid:y,granularity:void 0};n.unpack=function(e,t,i){if(!Object(c.a)(e))throw new l.a("array is required");t=Object(s.a)(t,0);var a,o=e[t++],h=new Array(o);for(a=0;a<o;++a,t+=r.a.packedLength)h[a]=r.a.unpack(e,t);o=e[t++];var d;if(o>0)for(d=new Array(o),a=0;a<o;++a)d[a]=e[t++];o=e[t++];var f;if(o>0)for(f=new Array(o),a=0;a<o;++a)f[a]=e[t++];var p=u.a.unpack(e,t,y);t+=u.a.packedLength;var m=e[t];return Object(c.a)(i)?(i._positions=h,i._minimumHeights=d,i._maximumHeights=f,i._ellipsoid=u.a.clone(p,i._ellipsoid),i._granularity=m,i):(O.positions=h,O.minimumHeights=d,O.maximumHeights=f,O.granularity=m,new n(O))},n.fromConstantHeights=function(e){e=Object(s.a)(e,s.a.EMPTY_OBJECT);var t=e.positions;if(!Object(c.a)(t))throw new l.a("options.positions is required.");var i,a,r=e.minimumHeight,o=e.maximumHeight,u=Object(c.a)(r),h=Object(c.a)(o);if(u||h){var d=t.length;i=u?new Array(d):void 0,a=h?new Array(d):void 0;for(var f=0;f<d;++f)u&&(i[f]=r),h&&(a[f]=o)}return new n({positions:t,maximumHeights:a,minimumHeights:i,ellipsoid:e.ellipsoid})},n.createGeometry=function(e){var t=e._positions,i=e._minimumHeights,n=e._maximumHeights,s=e._granularity,l=e._ellipsoid,u=_.a.computePositions(l,t,n,i,s,!1);if(Object(c.a)(u)){var y=u.bottomPositions,O=u.topPositions,w=O.length,x=2*w,E=new Float64Array(x),T=0;w/=3;var A;for(A=0;A<w;++A){var C=3*A,S=r.a.fromArray(O,C,v),j=r.a.fromArray(y,C,b);E[T++]=j.x,E[T++]=j.y,E[T++]=j.z,E[T++]=S.x,E[T++]=S.y,E[T++]=S.z}var P=new f.a({position:new d.a({componentDatatype:o.a.DOUBLE,componentsPerAttribute:3,values:E})}),D=x/3;x=2*D-4+D;var I=p.a.createTypedArray(D,x),R=0;for(A=0;A<D-2;A+=2){var M=A,L=A+2,N=r.a.fromArray(E,3*M,v),F=r.a.fromArray(E,3*L,b);if(!r.a.equalsEpsilon(N,F,m.a.EPSILON10)){var z=A+1,B=A+3;I[R++]=z,I[R++]=M,I[R++]=z,I[R++]=B,I[R++]=M,I[R++]=L}}return I[R++]=D-2,I[R++]=D-1,new h.a({attributes:P,indices:I,primitiveType:g.a.LINES,boundingSphere:new a.a.fromVertices(E)})}},t.a=n},JdCg:function(e,t,i){"use strict";/**
 * @license
 * Copyright (c) 2000-2005, Sean O'Neil (s_p_oneil@hotmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * * Redistributions of source code must retain the above copyright notice,
 *   this list of conditions and the following disclaimer.
 * * Redistributions in binary form must reproduce the above copyright notice,
 *   this list of conditions and the following disclaimer in the documentation
 *   and/or other materials provided with the distribution.
 * * Neither the name of the project nor the names of its contributors may be
 *   used to endorse or promote products derived from this software without
 *   specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Modifications made by Analytical Graphics, Inc.
 */
t.a='/**\n * @license\n * Copyright (c) 2000-2005, Sean O\'Neil (s_p_oneil@hotmail.com)\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * * Redistributions of source code must retain the above copyright notice,\n *   this list of conditions and the following disclaimer.\n * * Redistributions in binary form must reproduce the above copyright notice,\n *   this list of conditions and the following disclaimer in the documentation\n *   and/or other materials provided with the distribution.\n * * Neither the name of the project nor the names of its contributors may be\n *   used to endorse or promote products derived from this software without\n *   specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * Modifications made by Analytical Graphics, Inc.\n */\n\n // Code:  http://sponeil.net/\n // GPU Gems 2 Article:  https://developer.nvidia.com/gpugems/GPUGems2/gpugems2_chapter16.html\n\n#ifdef COLOR_CORRECT\nuniform vec3 u_hsbShift; // Hue, saturation, brightness\n#endif\n\nuniform vec4 u_cameraAndRadiiAndDynamicAtmosphereColor; // Camera height, outer radius, inner radius, dynamic atmosphere color flag\n\nconst float g = -0.95;\nconst float g2 = g * g;\n\nvarying vec3 v_rayleighColor;\nvarying vec3 v_mieColor;\nvarying vec3 v_toCamera;\nvarying vec3 v_positionEC;\n\nvoid main (void)\n{\n    float lightEnum = u_cameraAndRadiiAndDynamicAtmosphereColor.w;\n    vec3 lightDirection =\n        czm_viewerPositionWC * float(lightEnum == 0.0) +\n        czm_lightDirectionWC * float(lightEnum == 1.0) +\n        czm_sunDirectionWC * float(lightEnum == 2.0);\n    lightDirection = normalize(lightDirection);\n\n    // Extra normalize added for Android\n    float cosAngle = dot(lightDirection, normalize(v_toCamera)) / length(v_toCamera);\n    float rayleighPhase = 0.75 * (1.0 + cosAngle * cosAngle);\n    float miePhase = 1.5 * ((1.0 - g2) / (2.0 + g2)) * (1.0 + cosAngle * cosAngle) / pow(1.0 + g2 - 2.0 * g * cosAngle, 1.5);\n\n    vec3 rgb = rayleighPhase * v_rayleighColor + miePhase * v_mieColor;\n\n#ifndef HDR\n    const float exposure = 2.0;\n    rgb = vec3(1.0) - exp(-exposure * rgb);\n#endif\n\n#ifdef COLOR_CORRECT\n    // Convert rgb color to hsb\n    vec3 hsb = czm_RGBToHSB(rgb);\n    // Perform hsb shift\n    hsb.x += u_hsbShift.x; // hue\n    hsb.y = clamp(hsb.y + u_hsbShift.y, 0.0, 1.0); // saturation\n    hsb.z = hsb.z > czm_epsilon7 ? hsb.z + u_hsbShift.z : 0.0; // brightness\n    // Convert shifted hsb back to rgb\n    rgb = czm_HSBToRGB(hsb);\n#endif\n\n    // Alter alpha based on how close the viewer is to the ground (1.0 = on ground, 0.0 = at edge of atmosphere)\n    float atmosphereAlpha = clamp((u_cameraAndRadiiAndDynamicAtmosphereColor.y - u_cameraAndRadiiAndDynamicAtmosphereColor.x) / (u_cameraAndRadiiAndDynamicAtmosphereColor.y - u_cameraAndRadiiAndDynamicAtmosphereColor.z), 0.0, 1.0);\n\n    // Alter alpha based on time of day (0.0 = night , 1.0 = day)\n    float nightAlpha = (lightEnum != 0.0) ? clamp(dot(normalize(czm_viewerPositionWC), lightDirection), 0.0, 1.0) : 1.0;\n    atmosphereAlpha *= pow(nightAlpha, 0.5);\n\n    gl_FragColor = vec4(rgb, mix(rgb.b, 1.0, atmosphereAlpha) * smoothstep(0.0, 1.0, czm_morphTime));\n}\n'},JdjY:function(e,t,i){"use strict";function n(e){if(e=Object(h.a)(e,h.a.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=Object(h.a)(e.addNewLeapSeconds,!0),Object(d.a)(e.data))r(this,e.data);else if(Object(d.a)(e.url)){var t=g.a.createIfNeeded(e.url),i=this;this._downloadPromise=Object(l.a)(t.fetchJson(),function(e){r(i,e)},function(){i._dataError="An error occurred while retrieving the EOP data from the URL "+t.url+"."})}else r(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function a(e,t){return p.a.compare(e.julianDate,t)}function r(e,t){if(!Object(d.a)(t.columnNames))return void(e._dataError="Error in loaded EOP data: The columnNames property is required.");if(!Object(d.a)(t.samples))return void(e._dataError="Error in loaded EOP data: The samples property is required.");var i=t.columnNames.indexOf("modifiedJulianDateUtc"),n=t.columnNames.indexOf("xPoleWanderRadians"),r=t.columnNames.indexOf("yPoleWanderRadians"),o=t.columnNames.indexOf("ut1MinusUtcSeconds"),s=t.columnNames.indexOf("xCelestialPoleOffsetRadians"),c=t.columnNames.indexOf("yCelestialPoleOffsetRadians"),l=t.columnNames.indexOf("taiMinusUtcSeconds");if(i<0||n<0||r<0||o<0||s<0||c<0||l<0)return void(e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns");var h=e._samples=t.samples,f=e._dates=[];e._dateColumn=i,e._xPoleWanderRadiansColumn=n,e._yPoleWanderRadiansColumn=r,e._ut1MinusUtcSecondsColumn=o,e._xCelestialPoleOffsetRadiansColumn=s,e._yCelestialPoleOffsetRadiansColumn=c,e._taiMinusUtcSecondsColumn=l,e._columnCount=t.columnNames.length,e._lastIndex=void 0;for(var g,_=e._addNewLeapSeconds,y=0,O=h.length;y<O;y+=e._columnCount){var w=h[y+i],x=h[y+l],E=w+v.a.MODIFIED_JULIAN_DATE_DIFFERENCE,T=new p.a(E,x,b.a.TAI);if(f.push(T),_){if(x!==g&&Object(d.a)(g)){var A=p.a.leapSeconds,C=Object(u.a)(A,T,a);if(C<0){var S=new m.a(T,x);A.splice(~C,0,S)}}g=x}}}function o(e,t,i,n,a){var r=i*n;a.xPoleWander=t[r+e._xPoleWanderRadiansColumn],a.yPoleWander=t[r+e._yPoleWanderRadiansColumn],a.xPoleOffset=t[r+e._xCelestialPoleOffsetRadiansColumn],a.yPoleOffset=t[r+e._yCelestialPoleOffsetRadiansColumn],a.ut1MinusUtc=t[r+e._ut1MinusUtcSecondsColumn]}function s(e,t,i){return t+e*(i-t)}function c(e,t,i,n,a,r,c){var l=e._columnCount;if(r>t.length-1)return c.xPoleWander=0,c.yPoleWander=0,c.xPoleOffset=0,c.yPoleOffset=0,c.ut1MinusUtc=0,c;var u=t[a],h=t[r];if(u.equals(h)||n.equals(u))return o(e,i,a,l,c),c;if(n.equals(h))return o(e,i,r,l,c),c;var d=p.a.secondsDifference(n,u)/p.a.secondsDifference(h,u),f=a*l,m=r*l,g=i[f+e._ut1MinusUtcSecondsColumn],_=i[m+e._ut1MinusUtcSecondsColumn],v=_-g;if(v>.5||v<-.5){var b=i[f+e._taiMinusUtcSecondsColumn],y=i[m+e._taiMinusUtcSecondsColumn];b!==y&&(h.equals(n)?g=_:_-=y-b)}return c.xPoleWander=s(d,i[f+e._xPoleWanderRadiansColumn],i[m+e._xPoleWanderRadiansColumn]),c.yPoleWander=s(d,i[f+e._yPoleWanderRadiansColumn],i[m+e._yPoleWanderRadiansColumn]),c.xPoleOffset=s(d,i[f+e._xCelestialPoleOffsetRadiansColumn],i[m+e._xCelestialPoleOffsetRadiansColumn]),c.yPoleOffset=s(d,i[f+e._yCelestialPoleOffsetRadiansColumn],i[m+e._yCelestialPoleOffsetRadiansColumn]),c.ut1MinusUtc=s(d,g,_),c}var l=i("S7OP"),u=i("KPbu"),h=i("5A4e"),d=i("xC6Q"),f=i("VQnm"),p=i("9Uqs"),m=i("IZPL"),g=i("rMjQ"),_=i("V22k"),v=i("9ZH6"),b=i("Bosk");n.NONE=Object.freeze({getPromiseToLoad:function(){return Object(l.a)()},compute:function(e,t){return Object(d.a)(t)?(t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0):t=new f.a(0,0,0,0,0),t}}),n.prototype.getPromiseToLoad=function(){return Object(l.a)(this._downloadPromise)},n.prototype.compute=function(e,t){if(Object(d.a)(this._samples)){if(Object(d.a)(t)||(t=new f.a(0,0,0,0,0)),0===this._samples.length)return t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0,t;var i=this._dates,n=this._lastIndex,a=0,r=0;if(Object(d.a)(n)){var o=i[n],s=i[n+1],l=p.a.lessThanOrEquals(o,e),h=!Object(d.a)(s),m=h||p.a.greaterThanOrEquals(s,e);if(l&&m)return a=n,!h&&s.equals(e)&&++a,r=a+1,c(this,i,this._samples,e,a,r,t),t}var g=Object(u.a)(i,e,p.a.compare,this._dateColumn);return g>=0?(g<i.length-1&&i[g+1].equals(e)&&++g,a=g,r=g):(r=~g,(a=r-1)<0&&(a=0)),this._lastIndex=a,c(this,i,this._samples,e,a,r,t),t}if(Object(d.a)(this._dataError))throw new _.a(this._dataError)},t.a=n},JgEv:function(e,t,i){"use strict";function n(e,t,i){if(!Object(a.a)(e))throw new o.a("container is required.");e=Object(c.a)(e);var n=new l.a(t,i);n._svgPath="M14,4l-10,8.75h20l-4.25-3.7188v-4.6562h-2.812v2.1875l-2.938-2.5625zm-7.0938,9.906v10.094h14.094v-10.094h-14.094zm2.1876,2.313h3.3122v4.25h-3.3122v-4.25zm5.8442,1.281h3.406v6.438h-3.406v-6.438z";var r=document.createElement("button");r.type="button",r.className="cesium-button cesium-toolbar-button cesium-home-button",r.setAttribute("data-bind","attr: { title: tooltip },click: command,cesiumSvgPath: { path: _svgPath, width: 28, height: 28 }"),e.appendChild(r),s.a.applyBindings(n,r),this._container=e,this._viewModel=n,this._element=r}var a=i("xC6Q"),r=i("6sr8"),o=i("PzDm"),s=i("PKIF"),c=i("k6tp"),l=i("T5xC");Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return s.a.cleanNode(this._element),this._container.removeChild(this._element),Object(r.a)(this)},t.a=n},"Jj+J":function(e,t,i){"use strict";function n(e,t,i){this.x=Object(r.a)(e,0),this.y=Object(r.a)(t,0),this.z=Object(r.a)(i,0)}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("fq+p");n.fromSpherical=function(e,t){a.a.typeOf.object("spherical",e),Object(o.a)(t)||(t=new n);var i=e.clock,s=e.cone,c=Object(r.a)(e.magnitude,1),l=c*Math.sin(s);return t.x=l*Math.cos(i),t.y=l*Math.sin(i),t.z=c*Math.cos(s),t},n.fromElements=function(e,t,i,a){return Object(o.a)(a)?(a.x=e,a.y=t,a.z=i,a):new n(e,t,i)},n.clone=function(e,t){if(Object(o.a)(e))return Object(o.a)(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new n(e.x,e.y,e.z)},n.fromCartesian4=n.clone,n.packedLength=3,n.pack=function(e,t,i){return a.a.typeOf.object("value",e),a.a.defined("array",t),i=Object(r.a)(i,0),t[i++]=e.x,t[i++]=e.y,t[i]=e.z,t},n.unpack=function(e,t,i){return a.a.defined("array",e),t=Object(r.a)(t,0),Object(o.a)(i)||(i=new n),i.x=e[t++],i.y=e[t++],i.z=e[t],i},n.packArray=function(e,t){a.a.defined("array",e);var i=e.length,r=3*i;if(Object(o.a)(t)){if(!Array.isArray(t)&&t.length!==r)throw new s.a("If result is a typed array, it must have exactly array.length * 3 elements");t.length!==r&&(t.length=r)}else t=new Array(r);for(var c=0;c<i;++c)n.pack(e[c],t,3*c);return t},n.unpackArray=function(e,t){if(a.a.defined("array",e),a.a.typeOf.number.greaterThanOrEquals("array.length",e.length,3),e.length%3!=0)throw new s.a("array length must be a multiple of 3.");var i=e.length;Object(o.a)(t)?t.length=i/3:t=new Array(i/3);for(var r=0;r<i;r+=3){var c=r/3;t[c]=n.unpack(e,r,t[c])}return t},n.fromArray=n.unpack,n.maximumComponent=function(e){return a.a.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z)},n.minimumComponent=function(e){return a.a.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z)},n.minimumByComponent=function(e,t,i){return a.a.typeOf.object("first",e),a.a.typeOf.object("second",t),a.a.typeOf.object("result",i),i.x=Math.min(e.x,t.x),i.y=Math.min(e.y,t.y),i.z=Math.min(e.z,t.z),i},n.maximumByComponent=function(e,t,i){return a.a.typeOf.object("first",e),a.a.typeOf.object("second",t),a.a.typeOf.object("result",i),i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i.z=Math.max(e.z,t.z),i},n.magnitudeSquared=function(e){return a.a.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z},n.magnitude=function(e){return Math.sqrt(n.magnitudeSquared(e))};var l=new n;n.distance=function(e,t){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),n.subtract(e,t,l),n.magnitude(l)},n.distanceSquared=function(e,t){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),n.subtract(e,t,l),n.magnitudeSquared(l)},n.normalize=function(e,t){a.a.typeOf.object("cartesian",e),a.a.typeOf.object("result",t);var i=n.magnitude(e);if(t.x=e.x/i,t.y=e.y/i,t.z=e.z/i,isNaN(t.x)||isNaN(t.y)||isNaN(t.z))throw new s.a("normalized result is not a number");return t},n.dot=function(e,t){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z},n.multiplyComponents=function(e,t,i){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i),i.x=e.x*t.x,i.y=e.y*t.y,i.z=e.z*t.z,i},n.divideComponents=function(e,t,i){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i),i.x=e.x/t.x,i.y=e.y/t.y,i.z=e.z/t.z,i},n.add=function(e,t,i){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i),i.x=e.x+t.x,i.y=e.y+t.y,i.z=e.z+t.z,i},n.subtract=function(e,t,i){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i),i.x=e.x-t.x,i.y=e.y-t.y,i.z=e.z-t.z,i},n.multiplyByScalar=function(e,t,i){return a.a.typeOf.object("cartesian",e),a.a.typeOf.number("scalar",t),a.a.typeOf.object("result",i),i.x=e.x*t,i.y=e.y*t,i.z=e.z*t,i},n.divideByScalar=function(e,t,i){return a.a.typeOf.object("cartesian",e),a.a.typeOf.number("scalar",t),a.a.typeOf.object("result",i),i.x=e.x/t,i.y=e.y/t,i.z=e.z/t,i},n.negate=function(e,t){return a.a.typeOf.object("cartesian",e),a.a.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t},n.abs=function(e,t){return a.a.typeOf.object("cartesian",e),a.a.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t};var u=new n;n.lerp=function(e,t,i,r){return a.a.typeOf.object("start",e),a.a.typeOf.object("end",t),a.a.typeOf.number("t",i),a.a.typeOf.object("result",r),n.multiplyByScalar(t,i,u),r=n.multiplyByScalar(e,1-i,r),n.add(u,r,r)};var h=new n,d=new n;n.angleBetween=function(e,t){a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),n.normalize(e,h),n.normalize(t,d);var i=n.dot(h,d),r=n.magnitude(n.cross(h,d,h));return Math.atan2(r,i)};var f=new n;n.mostOrthogonalAxis=function(e,t){a.a.typeOf.object("cartesian",e),a.a.typeOf.object("result",t);var i=n.normalize(e,f);return n.abs(i,i),t=i.x<=i.y?i.x<=i.z?n.clone(n.UNIT_X,t):n.clone(n.UNIT_Z,t):i.y<=i.z?n.clone(n.UNIT_Y,t):n.clone(n.UNIT_Z,t)},n.projectVector=function(e,t,i){a.a.defined("a",e),a.a.defined("b",t),a.a.defined("result",i);var r=n.dot(e,t)/n.dot(t,t);return n.multiplyByScalar(t,r,i)},n.equals=function(e,t){return e===t||Object(o.a)(e)&&Object(o.a)(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},n.equalsArray=function(e,t,i){return e.x===t[i]&&e.y===t[i+1]&&e.z===t[i+2]},n.equalsEpsilon=function(e,t,i,n){return e===t||Object(o.a)(e)&&Object(o.a)(t)&&c.a.equalsEpsilon(e.x,t.x,i,n)&&c.a.equalsEpsilon(e.y,t.y,i,n)&&c.a.equalsEpsilon(e.z,t.z,i,n)},n.cross=function(e,t,i){a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i);var n=e.x,r=e.y,o=e.z,s=t.x,c=t.y,l=t.z,u=r*l-o*c,h=o*s-n*l,d=n*c-r*s;return i.x=u,i.y=h,i.z=d,i},n.midpoint=function(e,t,i){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i),i.x=.5*(e.x+t.x),i.y=.5*(e.y+t.y),i.z=.5*(e.z+t.z),i},n.fromDegrees=function(e,t,i,r,o){return a.a.typeOf.number("longitude",e),a.a.typeOf.number("latitude",t),e=c.a.toRadians(e),t=c.a.toRadians(t),n.fromRadians(e,t,i,r,o)};var p=new n,m=new n,g=new n(40680631590769,40680631590769,40408299984661.445);n.fromRadians=function(e,t,i,s,c){a.a.typeOf.number("longitude",e),a.a.typeOf.number("latitude",t),i=Object(r.a)(i,0);var l=Object(o.a)(s)?s.radiiSquared:g,u=Math.cos(t);p.x=u*Math.cos(e),p.y=u*Math.sin(e),p.z=Math.sin(t),p=n.normalize(p,p),n.multiplyComponents(l,p,m);var h=Math.sqrt(n.dot(p,m));return m=n.divideByScalar(m,h,m),p=n.multiplyByScalar(p,i,p),Object(o.a)(c)||(c=new n),n.add(m,p,c)},n.fromDegreesArray=function(e,t,i){if(a.a.defined("coordinates",e),e.length<2||e.length%2!=0)throw new s.a("the number of coordinates must be a multiple of 2 and at least 2");var r=e.length;Object(o.a)(i)?i.length=r/2:i=new Array(r/2);for(var c=0;c<r;c+=2){var l=e[c],u=e[c+1],h=c/2;i[h]=n.fromDegrees(l,u,0,t,i[h])}return i},n.fromRadiansArray=function(e,t,i){if(a.a.defined("coordinates",e),e.length<2||e.length%2!=0)throw new s.a("the number of coordinates must be a multiple of 2 and at least 2");var r=e.length;Object(o.a)(i)?i.length=r/2:i=new Array(r/2);for(var c=0;c<r;c+=2){var l=e[c],u=e[c+1],h=c/2;i[h]=n.fromRadians(l,u,0,t,i[h])}return i},n.fromDegreesArrayHeights=function(e,t,i){if(a.a.defined("coordinates",e),e.length<3||e.length%3!=0)throw new s.a("the number of coordinates must be a multiple of 3 and at least 3");var r=e.length;Object(o.a)(i)?i.length=r/3:i=new Array(r/3);for(var c=0;c<r;c+=3){var l=e[c],u=e[c+1],h=e[c+2],d=c/3;i[d]=n.fromDegrees(l,u,h,t,i[d])}return i},n.fromRadiansArrayHeights=function(e,t,i){if(a.a.defined("coordinates",e),e.length<3||e.length%3!=0)throw new s.a("the number of coordinates must be a multiple of 3 and at least 3");var r=e.length;Object(o.a)(i)?i.length=r/3:i=new Array(r/3);for(var c=0;c<r;c+=3){var l=e[c],u=e[c+1],h=e[c+2],d=c/3;i[d]=n.fromRadians(l,u,h,t,i[d])}return i},n.ZERO=Object.freeze(new n(0,0,0)),n.UNIT_X=Object.freeze(new n(1,0,0)),n.UNIT_Y=Object.freeze(new n(0,1,0)),n.UNIT_Z=Object.freeze(new n(0,0,1)),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t,i){return n.equalsEpsilon(this,e,t,i)},n.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},t.a=n},JjdN:function(e,t,i){"use strict";function n(e){var t={};if(!e)return t;for(var i=e.split("\r\n"),n=0;n<i.length;++n){var a=i[n],r=a.indexOf(": ");if(r>0){var o=a.substring(0,r),s=a.substring(r+2);t[o]=s}}return t}t.a=n},Jl4s:function(e,t,i){"use strict";function n(e){e=Object(_.a)(e,_.a.EMPTY_OBJECT),this._planes=[],this._dirtyIndex=-1,this._multipleDirtyPlanes=!1,this._enabled=Object(_.a)(e.enabled,!0),this.modelMatrix=x.a.clone(Object(_.a)(e.modelMatrix,x.a.IDENTITY)),this.edgeColor=g.a.clone(Object(_.a)(e.edgeColor,g.a.WHITE)),this.edgeWidth=Object(_.a)(e.edgeWidth,0),this.planeAdded=new O.a,this.planeRemoved=new O.a,this._owner=void 0;var t=Object(_.a)(e.unionClippingRegions,!1);this._unionClippingRegions=t,this._testIntersection=t?a:r,this._uint8View=void 0,this._float32View=void 0,this._clippingPlanesTexture=void 0;var i=e.planes;if(Object(v.a)(i))for(var n=i.length,o=0;o<n;++o)this.add(i[o])}function a(e){return e===w.a.OUTSIDE}function r(e){return e===w.a.INSIDE}function o(e,t){e._multipleDirtyPlanes=e._multipleDirtyPlanes||-1!==e._dirtyIndex&&e._dirtyIndex!==t,e._dirtyIndex=t}function s(e,t){for(var i=e.length,n=0;n<i;++n)if(T.a.equals(e[n],t))return n;return-1}function c(e,t,i){for(var n=e._uint8View,a=e._planes,r=0,o=t;o<i;++o){var s=a[o],c=h.a.octEncodeToCartesian4(s.normal,L);n[r]=c.x,n[r+1]=c.y,n[r+2]=c.z,n[r+3]=c.w;var l=p.a.packFloat(s.distance,M);n[r+4]=l.x,n[r+5]=l.y,n[r+6]=l.z,n[r+7]=l.w,r+=8}}function l(e,t,i){for(var n=e._float32View,a=e._planes,r=0,o=t;o<i;++o){var s=a[o],c=s.normal;n[r]=c.x,n[r+1]=c.y,n[r+2]=c.z,n[r+3]=s.distance,r+=4}}function u(e,t){var i=A.a.maximumTextureSize;return t.x=Math.min(e,i),t.y=Math.ceil(e/t.x),t}var h=i("j90k"),d=i("Ss9j"),f=i("Jj+J"),p=i("PDkd"),m=i("5F4X"),g=i("6F0S"),_=i("5A4e"),v=i("xC6Q"),b=i("6sr8"),y=i("PzDm"),O=i("W6xh"),w=i("u909"),x=i("Xjii"),E=i("FhYh"),T=i("kRxM"),A=i("J1no"),C=i("HvCH"),S=i("l0BX"),j=i("25X5"),P=i("YKq0"),D=i("z2iY"),I=i("L4GL"),R=i("+ie1");Object.defineProperties(n.prototype,{length:{get:function(){return this._planes.length}},unionClippingRegions:{get:function(){return this._unionClippingRegions},set:function(e){this._unionClippingRegions!==e&&(this._unionClippingRegions=e,this._testIntersection=e?a:r)}},enabled:{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e)}},texture:{get:function(){return this._clippingPlanesTexture}},owner:{get:function(){return this._owner}},clippingPlanesState:{get:function(){return this._unionClippingRegions?this._planes.length:-this._planes.length}}}),n.prototype.add=function(e){var t=this._planes.length,i=this;e.onChangeCallback=function(e){o(i,e)},e.index=t,o(this,t),this._planes.push(e),this.planeAdded.raiseEvent(e,t)},n.prototype.get=function(e){return m.a.typeOf.number("index",e),this._planes[e]},n.prototype.contains=function(e){return-1!==s(this._planes,e)},n.prototype.remove=function(e){var t=this._planes,i=s(t,e);if(-1===i)return!1;e instanceof R.a&&(e.onChangeCallback=void 0,e.index=-1);for(var n=t.length-1,a=i;a<n;++a){var r=t[a+1];t[a]=r,r instanceof R.a&&(r.index=a)}return this._multipleDirtyPlanes=!0,t.length=n,this.planeRemoved.raiseEvent(e,i),!0},n.prototype.removeAll=function(){for(var e=this._planes,t=e.length,i=0;i<t;++i){var n=e[i];n instanceof R.a&&(n.onChangeCallback=void 0,n.index=-1),this.planeRemoved.raiseEvent(n,i)}this._multipleDirtyPlanes=!0,this._planes=[]};var M=new p.a,L=new p.a,N=new d.a;n.prototype.update=function(e){var t=this._clippingPlanesTexture,i=e.context,a=n.useFloatTexture(i),r=a?this.length:2*this.length;if(Object(v.a)(t)){var o=t.width*t.height;(o<r||r<.25*o)&&(t.destroy(),t=void 0,this._clippingPlanesTexture=void 0)}if(0!==this.length){if(!Object(v.a)(t)){var s=u(r,N);s.y*=2;var h=new S.a({wrapS:I.a.CLAMP_TO_EDGE,wrapT:I.a.CLAMP_TO_EDGE,minificationFilter:D.a.NEAREST,magnificationFilter:P.a.NEAREST});a?(t=new j.a({context:i,width:s.x,height:s.y,pixelFormat:E.a.RGBA,pixelDatatype:C.a.FLOAT,sampler:h,flipY:!1}),this._float32View=new Float32Array(s.x*s.y*4)):(t=new j.a({context:i,width:s.x,height:s.y,pixelFormat:E.a.RGBA,pixelDatatype:C.a.UNSIGNED_BYTE,sampler:h,flipY:!1}),this._uint8View=new Uint8Array(s.x*s.y*4)),this._clippingPlanesTexture=t,this._multipleDirtyPlanes=!0}var d=this._dirtyIndex;if(this._multipleDirtyPlanes||-1!==d){if(this._multipleDirtyPlanes)a?(l(this,0,this._planes.length),t.copyFrom({width:t.width,height:t.height,arrayBufferView:this._float32View})):(c(this,0,this._planes.length),t.copyFrom({width:t.width,height:t.height,arrayBufferView:this._uint8View}));else{var f=0,p=0;a?(p=Math.floor(d/t.width),f=Math.floor(d-p*t.width),l(this,d,d+1),t.copyFrom({width:1,height:1,arrayBufferView:this._float32View},f,p)):(p=Math.floor(2*d/t.width),f=Math.floor(2*d-p*t.width),c(this,d,d+1),t.copyFrom({width:2,height:1,arrayBufferView:this._uint8View},f,p))}this._multipleDirtyPlanes=!1,this._dirtyIndex=-1}}};var F=new x.a,z=new T.a(f.a.UNIT_X,0);n.prototype.computeIntersectionWithBoundingVolume=function(e,t){var i=this._planes,n=i.length,a=this.modelMatrix;Object(v.a)(t)&&(a=x.a.multiply(t,a,F));var r=w.a.INSIDE;!this.unionClippingRegions&&n>0&&(r=w.a.OUTSIDE);for(var o=0;o<n;++o){var s=i[o];T.a.transform(s,a,z);var c=e.intersectPlane(z);if(c===w.a.INTERSECTING)r=c;else if(this._testIntersection(c))return c}return r},n.setOwner=function(e,t,i){if(e!==t[i]&&(t[i]=t[i]&&t[i].destroy(),Object(v.a)(e))){if(Object(v.a)(e._owner))throw new y.a("ClippingPlaneCollection should only be assigned to one object");e._owner=t,t[i]=e}},n.useFloatTexture=function(e){return e.floatingPointTexture},n.getTextureResolution=function(e,t,i){var a=e.texture;if(Object(v.a)(a))return i.x=a.width,i.y=a.height,i;var r=n.useFloatTexture(t)?e.length:2*e.length,o=u(r,i);return o.y*=2,o},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._clippingPlanesTexture=this._clippingPlanesTexture&&this._clippingPlanesTexture.destroy(),Object(b.a)(this)},t.a=n},JlUm:function(e,t,i){"use strict";function n(){if(!Object(p.a)(l._canTransferArrayBuffer)){var e=new Worker(r("Workers/transferTypedArrayTest.js"));e.postMessage=Object(f.a)(e.webkitPostMessage,e.postMessage);var t=new Int8Array([99]);try{e.postMessage({array:t},[t.buffer])}catch(e){return l._canTransferArrayBuffer=!1,l._canTransferArrayBuffer}var i=h.a.defer();e.onmessage=function(t){var n=t.data.array,a=Object(p.a)(n)&&99===n[0];i.resolve(a),e.terminate(),l._canTransferArrayBuffer=a},l._canTransferArrayBuffer=i.promise}return l._canTransferArrayBuffer}function a(e,t){--e._activeTasks;var i=t.id;if(Object(p.a)(i)){var n=e._deferreds,a=n[i];if(Object(p.a)(t.error)){var r=t.error;"RuntimeError"===r.name?(r=new O.a(t.error.message),r.stack=t.error.stack):"DeveloperError"===r.name&&(r=new g.a(t.error.message),r.stack=t.error.stack),w.raiseEvent(r),a.reject(r)}else w.raiseEvent(),a.resolve(t.result);delete n[i]}}function r(e){var t=Object(d.a)(e);if(Object(b.a)(t)){var i,n='importScripts("'+t+'");';try{i=new Blob([n],{type:"application/javascript"})}catch(e){var a=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new a;r.append(n),i=r.getBlob("application/javascript")}t=(window.URL||window.webkitURL).createObjectURL(i)}return t}function o(){return Object(p.a)(u)||(u=r("Workers/cesiumWorkerBootstrapper.js")),u}function s(e){var t=new Worker(o());t.postMessage=Object(f.a)(t.webkitPostMessage,t.postMessage);var i={loaderConfig:{paths:{Workers:Object(d.a)("Workers")},baseUrl:d.a.getCesiumBaseUrl().url},workerModule:l._workerModulePrefix+e._workerName};return t.postMessage(i),t.onmessage=function(t){a(e,t.data)},t}function c(e,t){var i={modulePath:void 0,wasmBinaryFile:void 0,wasmBinary:void 0};if(!v.a.supportsWebAssembly()){if(!Object(p.a)(t.fallbackModulePath))throw new O.a("This browser does not support Web Assembly, and no backup module was provided for "+e._workerName);return i.modulePath=Object(d.a)(t.fallbackModulePath),h.a.resolve(i)}return i.modulePath=Object(d.a)(t.modulePath),i.wasmBinaryFile=Object(d.a)(t.wasmBinaryFile),y.a.fetchArrayBuffer({url:i.wasmBinaryFile}).then(function(e){return i.wasmBinary=e,i})}function l(e,t){this._workerName=e,this._maximumActiveTasks=Object(f.a)(t,5),this._activeTasks=0,this._deferreds={},this._nextID=0}var u,h=i("S7OP"),d=i("CcV0"),f=i("5A4e"),p=i("xC6Q"),m=i("6sr8"),g=i("PzDm"),_=i("W6xh"),v=i("gjtw"),b=i("TDdX"),y=i("rMjQ"),O=i("V22k"),w=new _.a,x=[];l.prototype.scheduleTask=function(e,t){if(Object(p.a)(this._worker)||(this._worker=s(this)),!(this._activeTasks>=this._maximumActiveTasks)){++this._activeTasks;var i=this;return Object(h.a)(n(),function(n){Object(p.a)(t)?n||(t.length=0):t=x;var a=i._nextID++,r=h.a.defer();return i._deferreds[a]=r,i._worker.postMessage({id:a,parameters:e,canTransferArrayBuffer:n},t),r.promise})}},l.prototype.initWebAssemblyModule=function(e){Object(p.a)(this._worker)||(this._worker=s(this));var t=h.a.defer(),i=this,r=this._worker;return c(this,e).then(function(e){return Object(h.a)(n(),function(n){var o,s=e.wasmBinary;Object(p.a)(s)&&n&&(o=[s]),r.onmessage=function(e){r.onmessage=function(e){a(i,e.data)},t.resolve(e.data)},r.postMessage({webAssemblyConfig:e},o)})}),t},l.prototype.isDestroyed=function(){return!1},l.prototype.destroy=function(){return Object(p.a)(this._worker)&&this._worker.terminate(),Object(m.a)(this)},l.taskCompletedEvent=w,l._defaultWorkerModulePrefix="Workers/",l._workerModulePrefix=l._defaultWorkerModulePrefix,l._canTransferArrayBuffer=void 0,t.a=l},"Jn+X":function(e,t,i){"use strict";function n(){this.times=void 0,this.points=void 0,s.a.throwInstantiationError()}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("fq+p");n.prototype.evaluate=s.a.throwInstantiationError,n.prototype.findTimeInterval=function(e,t){var i=this.times,n=i.length;if(!Object(o.a)(e))throw new s.a("time is required.");if(e<i[0]||e>i[n-1])throw new s.a("time is out of range.");if(t=Object(r.a)(t,0),e>=i[t]){if(t+1<n&&e<i[t+1])return t;if(t+2<n&&e<i[t+2])return t+1}else if(t-1>=0&&e>=i[t-1])return t-1;var a;if(e>i[t])for(a=t;a<n-1&&!(e>=i[a]&&e<i[a+1]);++a);else for(a=t-1;a>=0&&!(e>=i[a]&&e<i[a+1]);--a);return a===n-1&&(a=n-2),a},n.prototype.wrapTime=function(e){a.a.typeOf.number("time",e);var t,i=this.times,n=i[i.length-1],r=i[0],o=n-r;return e<r&&(t=Math.floor((r-e)/o)+1,e+=t*o),e>n&&(t=Math.floor((e-n)/o)+1,e-=t*o),e},n.prototype.clampTime=function(e){a.a.typeOf.number("time",e);var t=this.times;return c.a.clamp(e,t[0],t[t.length-1])},t.a=n},Jo86:function(e,t,i){"use strict";e.exports=ReferenceError},JozK:function(e,t,i){"use strict";function n(e){c.a.typeOf.object("options",e),c.a.typeOf.object("options.rectangle",e.rectangle),this.rectangle=v.a.clone(e.rectangle),this.minimumHeight=Object(u.a)(e.minimumHeight,0),this.maximumHeight=Object(u.a)(e.maximumHeight,0),this.southwestCornerCartesian=new o.a,this.northeastCornerCartesian=new o.a,this.westNormal=new o.a,this.southNormal=new o.a,this.eastNormal=new o.a,this.northNormal=new o.a;var t=Object(u.a)(e.ellipsoid,h.a.WGS84);a(this,e.rectangle,t),Object(u.a)(e.computeBoundingVolumes,!0)&&(this._orientedBoundingBox=m.a.fromRectangle(this.rectangle,this.minimumHeight,this.maximumHeight,t),this._boundingSphere=r.a.fromOrientedBoundingBox(this._orientedBoundingBox))}function a(e,t,i){i.cartographicToCartesian(v.a.southwest(t),e.southwestCornerCartesian),i.cartographicToCartesian(v.a.northeast(t),e.northeastCornerCartesian),j.longitude=t.west,j.latitude=.5*(t.south+t.north),j.height=0;var n=i.cartographicToCartesian(j,C),a=o.a.cross(n,o.a.UNIT_Z,x);o.a.normalize(a,e.westNormal),j.longitude=t.east;var r=i.cartographicToCartesian(j,S),s=o.a.cross(o.a.UNIT_Z,r,x);o.a.normalize(s,e.eastNormal);var c,l=o.a.subtract(n,r,x),u=o.a.normalize(l,A),h=t.south;if(h>0){j.longitude=.5*(t.west+t.east),j.latitude=h;var d=i.cartographicToCartesian(j,D.origin);o.a.clone(u,D.direction);var p=g.a.fromPointNormal(e.southwestCornerCartesian,e.westNormal,P);f.a.rayPlane(D,p,e.southwestCornerCartesian),c=i.geodeticSurfaceNormal(d,E)}else c=i.geodeticSurfaceNormalCartographic(v.a.southeast(t),E);var m=o.a.cross(c,l,T);o.a.normalize(m,e.southNormal);var _,b=t.north;if(b<0){j.longitude=.5*(t.west+t.east),j.latitude=b;var y=i.cartographicToCartesian(j,D.origin);o.a.negate(u,D.direction);var O=g.a.fromPointNormal(e.northeastCornerCartesian,e.eastNormal,P);f.a.rayPlane(D,O,e.northeastCornerCartesian),_=i.geodeticSurfaceNormal(y,E)}else _=i.geodeticSurfaceNormalCartographic(v.a.northwest(t),E);var w=o.a.cross(l,_,T);o.a.normalize(w,e.northNormal)}var r=i("lBr9"),o=i("Jj+J"),s=i("I3GD"),c=i("5F4X"),l=i("devy"),u=i("5A4e"),h=i("y6fO"),d=i("izcu"),f=i("Myjj"),p=i("Xjii"),m=i("qBw0"),g=i("kRxM"),_=i("/++d"),v=i("Wq1U"),b=i("Zw1C"),y=i("BOJj"),O=i("0df4"),w=i("sotJ");Object.defineProperties(n.prototype,{boundingVolume:{get:function(){return this._orientedBoundingBox}},boundingSphere:{get:function(){return this._boundingSphere}}});var x=new o.a,E=new o.a,T=new o.a,A=new o.a,C=new o.a,S=new o.a,j=new s.a,P=new g.a(o.a.UNIT_X,0),D=new _.a,I=new o.a,R=new o.a,M=new o.a(0,-1,0),L=new o.a(0,0,-1),N=new o.a;n.prototype.distanceToCamera=function(e){c.a.defined("frameState",e);var t=e.camera,i=t.positionWC,n=t.positionCartographic,a=0;if(!v.a.contains(this.rectangle,n)){var r=this.southwestCornerCartesian,s=this.northeastCornerCartesian,l=this.westNormal,u=this.southNormal,h=this.eastNormal,d=this.northNormal;e.mode!==w.a.SCENE3D&&(r=e.mapProjection.project(v.a.southwest(this.rectangle),I),r.z=r.y,r.y=r.x,r.x=0,s=e.mapProjection.project(v.a.northeast(this.rectangle),R),s.z=s.y,s.y=s.x,s.x=0,l=M,h=o.a.UNIT_Y,u=L,d=o.a.UNIT_Z);var f=o.a.subtract(i,r,N),p=o.a.dot(f,l),m=o.a.dot(f,u),g=o.a.subtract(i,s,N),_=o.a.dot(g,h),b=o.a.dot(g,d);p>0?a+=p*p:_>0&&(a+=_*_),m>0?a+=m*m:b>0&&(a+=b*b)}var y,O,x;if(e.mode===w.a.SCENE3D?(y=n.height,O=this.minimumHeight,x=this.maximumHeight):(y=i.x,O=0,x=0),y>x){var E=y-x;a+=E*E}else if(y<O){var T=O-y;a+=T*T}return Math.sqrt(a)},n.prototype.intersectPlane=function(e){return c.a.defined("plane",e),this._orientedBoundingBox.intersectPlane(e)},n.prototype.createDebugVolume=function(e){c.a.defined("color",e);var t=new p.a.clone(p.a.IDENTITY),i=new b.a({rectangle:this.rectangle,height:this.minimumHeight,extrudedHeight:this.maximumHeight}),n=new d.a({geometry:i,id:"outline",modelMatrix:t,attributes:{color:l.a.fromColor(e)}});return new O.a({geometryInstances:n,appearance:new y.a({translucent:!1,flat:!0}),asynchronous:!1})},t.a=n},JrQp:function(e,t,i){"use strict";function n(e){return a(e)}var a,r=i("xC6Q"),o=i("n08a");"undefined"!=typeof requestAnimationFrame&&(a=requestAnimationFrame),function(){if(!Object(r.a)(a)&&"undefined"!=typeof window)for(var e=["webkit","moz","ms","o"],t=0,i=e.length;t<i&&!Object(r.a)(a);)a=window[e[t]+"RequestAnimationFrame"],++t;if(!Object(r.a)(a)){var n=0;a=function(e){var t=Object(o.a)(),i=Math.max(1e3/60-(t-n),0);return n=t+i,setTimeout(function(){e(n)},i)}}}(),t.a=n},JsLo:function(e,t,i){"use strict";t.a="uniform vec4 evenColor;\nuniform vec4 oddColor;\nuniform float offset;\nuniform float repeat;\nuniform bool horizontal;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    // Based on the Stripes Fragment Shader in the Orange Book (11.1.2)\n    float coord = mix(materialInput.st.s, materialInput.st.t, float(horizontal));\n    float value = fract((coord - offset) * (repeat * 0.5));\n    float dist = min(value, min(abs(value - 0.5), 1.0 - value));\n\n    vec4 currentColor = mix(evenColor, oddColor, step(0.5, value));\n    vec4 color = czm_antialias(evenColor, oddColor, currentColor, dist);\n    color = czm_gammaCorrect(color);\n\n    material.diffuse = color.rgb;\n    material.alpha = color.a;\n\n    return material;\n}\n"},JyL3:function(e,t,i){"use strict";function n(e,t,i){this.statusCode=e,this.response=t,this.responseHeaders=i,"string"==typeof this.responseHeaders&&(this.responseHeaders=Object(r.a)(this.responseHeaders))}var a=i("xC6Q"),r=i("JjdN");n.prototype.toString=function(){var e="Request has failed.";return Object(a.a)(this.statusCode)&&(e+=" Status Code: "+this.statusCode),e},t.a=n},"K+QI":function(e,t,i){"use strict";function n(e){if(e._firing)return void(e._refire=!0);if(0===e._suspendCount){var t=e._addedEntities,i=e._removedEntities,n=e._changedEntities;if(0!==n.length||0!==t.length||0!==i.length){e._firing=!0;do{e._refire=!1;var a=t.values.slice(0),r=i.values.slice(0),o=n.values.slice(0);t.removeAll(),i.removeAll(),n.removeAll(),e._collectionChanged.raiseEvent(e,a,r,o)}while(e._refire);e._firing=!1}}}function a(e){this._owner=e,this._entities=new r.a,this._addedEntities=new r.a,this._removedEntities=new r.a,this._changedEntities=new r.a,this._suspendCount=0,this._collectionChanged=new l.a,this._id=Object(o.a)(),this._show=!0,this._firing=!1,this._refire=!1}var r=i("7uRt"),o=i("ed27"),s=i("xC6Q"),c=i("PzDm"),l=i("W6xh"),u=i("DsDe"),h=i("9Uqs"),d=i("V22k"),f=i("tQPh"),p=i("dMpj"),m={id:void 0};a.prototype.suspendEvents=function(){this._suspendCount++},a.prototype.resumeEvents=function(){if(0===this._suspendCount)throw new c.a("resumeEvents can not be called before suspendEvents.");this._suspendCount--,n(this)},a.collectionChangedEventCallback=void 0,Object.defineProperties(a.prototype,{collectionChanged:{get:function(){return this._collectionChanged}},id:{get:function(){return this._id}},values:{get:function(){return this._entities.values}},show:{get:function(){return this._show},set:function(e){if(!Object(s.a)(e))throw new c.a("value is required.");if(e!==this._show){this.suspendEvents();var t,i=[],n=this._entities.values,a=n.length;for(t=0;t<a;t++)i.push(n[t].isShowing);for(this._show=e,t=0;t<a;t++){var r=i[t],o=n[t];r!==o.isShowing&&o.definitionChanged.raiseEvent(o,"isShowing",o.isShowing,r)}this.resumeEvents()}}},owner:{get:function(){return this._owner}}}),a.prototype.computeAvailability=function(){for(var e=u.a.MAXIMUM_VALUE,t=u.a.MINIMUM_VALUE,i=this._entities.values,n=0,a=i.length;n<a;n++){var r=i[n],o=r.availability;if(Object(s.a)(o)){var c=o.start,l=o.stop;h.a.lessThan(c,e)&&!c.equals(u.a.MINIMUM_VALUE)&&(e=c),h.a.greaterThan(l,t)&&!l.equals(u.a.MAXIMUM_VALUE)&&(t=l)}}return u.a.MAXIMUM_VALUE.equals(e)&&(e=u.a.MINIMUM_VALUE),u.a.MINIMUM_VALUE.equals(t)&&(t=u.a.MAXIMUM_VALUE),new f.a({start:e,stop:t})},a.prototype.add=function(e){if(!Object(s.a)(e))throw new c.a("entity is required.");e instanceof p.a||(e=new p.a(e));var t=e.id,i=this._entities;if(i.contains(t))throw new d.a("An entity with id "+t+" already exists in this collection.");return e.entityCollection=this,i.set(t,e),this._removedEntities.remove(t)||this._addedEntities.set(t,e),e.definitionChanged.addEventListener(a.prototype._onEntityDefinitionChanged,this),n(this),e},a.prototype.remove=function(e){return!!Object(s.a)(e)&&this.removeById(e.id)},a.prototype.contains=function(e){if(!Object(s.a)(e))throw new c.a("entity is required");return this._entities.get(e.id)===e},a.prototype.removeById=function(e){if(!Object(s.a)(e))return!1;var t=this._entities,i=t.get(e);return!!this._entities.remove(e)&&(this._addedEntities.remove(e)||(this._removedEntities.set(e,i),this._changedEntities.remove(e)),this._entities.remove(e),i.definitionChanged.removeEventListener(a.prototype._onEntityDefinitionChanged,this),n(this),!0)},a.prototype.removeAll=function(){for(var e=this._entities,t=e.length,i=e.values,r=this._addedEntities,o=this._removedEntities,c=0;c<t;c++){var l=i[c],u=l.id,h=r.get(u);Object(s.a)(h)||(l.definitionChanged.removeEventListener(a.prototype._onEntityDefinitionChanged,this),o.set(u,l))}e.removeAll(),r.removeAll(),this._changedEntities.removeAll(),n(this)},a.prototype.getById=function(e){if(!Object(s.a)(e))throw new c.a("id is required.");return this._entities.get(e)},a.prototype.getOrCreateEntity=function(e){if(!Object(s.a)(e))throw new c.a("id is required.");var t=this._entities.get(e);return Object(s.a)(t)||(m.id=e,t=new p.a(m),this.add(t)),t},a.prototype._onEntityDefinitionChanged=function(e){var t=e.id;this._addedEntities.contains(t)||this._changedEntities.set(t,e),n(this)},t.a=a},K0S7:function(e,t,i){"use strict";var n=i("gt5T"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,c,l,u,h,d){var f,p,m,g,_,v,b,y,O,w=d.bits,x=0,E=0,T=0,A=0,C=0,S=0,j=0,P=0,D=0,I=0,R=null,M=0,L=new n.Buf16(16),N=new n.Buf16(16),F=null,z=0;for(x=0;x<=15;x++)L[x]=0;for(E=0;E<c;E++)L[t[i+E]]++;for(C=w,A=15;A>=1&&0===L[A];A--);if(C>A&&(C=A),0===A)return l[u++]=20971520,l[u++]=20971520,d.bits=1,0;for(T=1;T<A&&0===L[T];T++);for(C<T&&(C=T),P=1,x=1;x<=15;x++)if(P<<=1,(P-=L[x])<0)return-1;if(P>0&&(0===e||1!==A))return-1;for(N[1]=0,x=1;x<15;x++)N[x+1]=N[x]+L[x];for(E=0;E<c;E++)0!==t[i+E]&&(h[N[t[i+E]]++]=E);if(0===e?(R=F=h,v=19):1===e?(R=a,M-=257,F=r,z-=257,v=256):(R=o,F=s,v=-1),I=0,E=0,x=T,_=u,S=C,j=0,m=-1,D=1<<C,g=D-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){b=x-j,h[E]<v?(y=0,O=h[E]):h[E]>v?(y=F[z+h[E]],O=R[M+h[E]]):(y=96,O=0),f=1<<x-j,p=1<<S,T=p;do{p-=f,l[_+(I>>j)+p]=b<<24|y<<16|O|0}while(0!==p);for(f=1<<x-1;I&f;)f>>=1;if(0!==f?(I&=f-1,I+=f):I=0,E++,0==--L[x]){if(x===A)break;x=t[i+h[E]]}if(x>C&&(I&g)!==m){for(0===j&&(j=C),_+=T,S=x-j,P=1<<S;S+j<A&&!((P-=L[S+j])<=0);)S++,P<<=1;if(D+=1<<S,1===e&&D>852||2===e&&D>592)return 1;m=I&g,l[m]=C<<24|S<<16|_-u|0}}return 0!==I&&(l[_+I]=x-j<<24|64<<16|0),d.bits=C,0}},K3Fi:function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},K3VA:function(e,t,i){"use strict";function n(e){if(e=Object(s.a)(e,s.a.EMPTY_OBJECT),!Object(c.a)(e.url))throw new l.a("options.url is required.");if(!Object(c.a)(e.layer))throw new l.a("options.layer is required.");if(!Object(c.a)(e.style))throw new l.a("options.style is required.");if(!Object(c.a)(e.tileMatrixSetID))throw new l.a("options.tileMatrixSetID is required.");if(Object(c.a)(e.times)&&!Object(c.a)(e.clock))throw new l.a("options.times was specified, so options.clock is required.");var t=d.a.createIfNeeded(e.url),i=e.style,n=e.tileMatrixSetID;if(t.url.indexOf("{")>=0){var r={style:i,Style:i,TileMatrixSet:n};t.setTemplateValues(r),this._useKvp=!1}else t.setQueryParameters(_),this._useKvp=!0;this._resource=t,this._layer=e.layer,this._style=i,this._tileMatrixSetID=n,this._tileMatrixLabels=e.tileMatrixLabels,this._format=Object(s.a)(e.format,"image/jpeg"),this._tileDiscardPolicy=e.tileDiscardPolicy,this._tilingScheme=Object(c.a)(e.tilingScheme)?e.tilingScheme:new f.a({ellipsoid:e.ellipsoid}),this._tileWidth=Object(s.a)(e.tileWidth,256),this._tileHeight=Object(s.a)(e.tileHeight,256),this._minimumLevel=Object(s.a)(e.minimumLevel,0),this._maximumLevel=e.maximumLevel,this._rectangle=Object(s.a)(e.rectangle,this._tilingScheme.rectangle),this._dimensions=e.dimensions;var m=this;this._reload=void 0,Object(c.a)(e.times)&&(this._timeDynamicImagery=new g.a({clock:e.clock,times:e.times,requestImageFunction:function(e,t,i,n,r){return a(m,e,t,i,n,r)},reloadFunction:function(){Object(c.a)(m._reload)&&m._reload()}})),this._readyPromise=p.a.resolve(!0);var v=this._tilingScheme.positionToTileXY(h.a.southwest(this._rectangle),this._minimumLevel),b=this._tilingScheme.positionToTileXY(h.a.northeast(this._rectangle),this._minimumLevel),y=(Math.abs(b.x-v.x)+1)*(Math.abs(b.y-v.y)+1);if(y>4)throw new l.a("The imagery provider's rectangle and minimumLevel indicate that there are "+y+" tiles at the minimum level. Imagery providers with more than four tiles at the minimum level are not supported.");this._errorEvent=new u.a;var O=e.credit;this._credit="string"==typeof O?new o.a(O):O,this._subdomains=e.subdomains,Array.isArray(this._subdomains)?this._subdomains=this._subdomains.slice():Object(c.a)(this._subdomains)&&this._subdomains.length>0?this._subdomains=this._subdomains.split(""):this._subdomains=["a","b","c"]}function a(e,t,i,n,a,o){var s,l=e._tileMatrixLabels,u=Object(c.a)(l)?l[n]:n.toString(),h=e._subdomains,d=e._dimensions,f=Object(c.a)(o)?o.data:void 0;if(e._useKvp){var p={};p.tilematrix=u,p.layer=e._layer,p.style=e._style,p.tilerow=i,p.tilecol=t,p.tilematrixset=e._tileMatrixSetID,p.format=e._format,Object(c.a)(d)&&(p=Object(r.a)(p,d)),Object(c.a)(f)&&(p=Object(r.a)(p,f)),s=e._resource.getDerivedResource({queryParameters:p,request:a})}else{var g={TileMatrix:u,TileRow:i.toString(),TileCol:t.toString(),s:h[(t+i+n)%h.length]};s=e._resource.getDerivedResource({request:a}),s.setTemplateValues(g),Object(c.a)(d)&&s.setTemplateValues(d),Object(c.a)(f)&&s.setTemplateValues(f)}return m.a.loadImage(e,s)}var r=i("ZboF"),o=i("ODTd"),s=i("5A4e"),c=i("xC6Q"),l=i("PzDm"),u=i("W6xh"),h=i("Wq1U"),d=i("rMjQ"),f=i("Y4y7"),p=i("S7OP"),m=i("1eBa"),g=i("otw6"),_=Object.freeze({service:"WMTS",version:"1.0.0",request:"GetTile"});Object.defineProperties(n.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return this._minimumLevel}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},format:{get:function(){return this._format}},ready:{value:!0},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}},clock:{get:function(){return this._timeDynamicImagery.clock},set:function(e){this._timeDynamicImagery.clock=e}},times:{get:function(){return this._timeDynamicImagery.times},set:function(e){this._timeDynamicImagery.times=e}},dimensions:{get:function(){return this._dimensions},set:function(e){this._dimensions!==e&&(this._dimensions=e,Object(c.a)(this._reload)&&this._reload())}}}),n.prototype.getTileCredits=function(e,t,i){},n.prototype.requestImage=function(e,t,i,n){var r,o,s=this._timeDynamicImagery;return Object(c.a)(s)&&(o=s.currentInterval,r=s.getFromCache(e,t,i,n)),Object(c.a)(r)||(r=a(this,e,t,i,n,o)),Object(c.a)(r)&&Object(c.a)(s)&&s.checkApproachingInterval(e,t,i,n),r},n.prototype.pickFeatures=function(e,t,i,n,a){},t.a=n},K8Sv:function(e,t,i){"use strict";t.a="varying vec2 v_textureCoordinates;\n\nuniform sampler2D colorTexture;\n\nconst float fxaaQualitySubpix = 0.5;\nconst float fxaaQualityEdgeThreshold = 0.125;\nconst float fxaaQualityEdgeThresholdMin = 0.0833;\n\nvoid main()\n{\n    vec2 fxaaQualityRcpFrame = vec2(1.0) / czm_viewport.zw;\n    vec4 color = FxaaPixelShader(\n        v_textureCoordinates,\n        colorTexture,\n        fxaaQualityRcpFrame,\n        fxaaQualitySubpix,\n        fxaaQualityEdgeThreshold,\n        fxaaQualityEdgeThresholdMin);\n    float alpha = texture2D(colorTexture, v_textureCoordinates).a;\n    gl_FragColor = vec4(color.rgb, alpha);\n}\n"},"K8l+":function(e,t,i){"use strict";function n(e){s.a.accessor(e,function(e){Object(u.a)(e.bufferView)&&(e.byteOffset=Object(l.a)(e.byteOffset,0))}),s.a.bufferView(e,function(e){Object(u.a)(e.buffer)&&(e.byteOffset=Object(l.a)(e.byteOffset,0))}),s.a.mesh(e,function(t){s.a.meshPrimitive(t,function(t){if(t.mode=Object(l.a)(t.mode,h.a.TRIANGLES),!Object(u.a)(t.material)){Object(u.a)(e.materials)||(e.materials=[]);var i={name:"default"};t.material=Object(o.a)(e.materials,i)}})}),s.a.accessorContainingVertexAttributeData(e,function(t){var i=e.accessors[t],n=i.bufferView;if(i.normalized=Object(l.a)(i.normalized,!1),Object(u.a)(n)){var a=e.bufferViews[n];a.byteStride=Object(c.a)(e,i),a.target=h.a.ARRAY_BUFFER}}),s.a.accessorContainingIndexData(e,function(t){var i=e.accessors[t],n=i.bufferView;if(Object(u.a)(n)){e.bufferViews[n].target=h.a.ELEMENT_ARRAY_BUFFER}}),s.a.material(e,function(e){var t=Object(l.a)(e.extensions,l.a.EMPTY_OBJECT),i=t.KHR_materials_common;if(Object(u.a)(i)){var n=i.technique,a=Object(u.a)(i.values)?i.values:{};return i.values=a,a.ambient=Object(u.a)(a.ambient)?a.ambient:[0,0,0,1],a.emission=Object(u.a)(a.emission)?a.emission:[0,0,0,1],a.transparency=Object(l.a)(a.transparency,1),a.transparent=Object(l.a)(a.transparent,!1),a.doubleSided=Object(l.a)(a.doubleSided,!1),void("CONSTANT"!==n&&(a.diffuse=Object(u.a)(a.diffuse)?a.diffuse:[0,0,0,1],"LAMBERT"!==n&&(a.specular=Object(u.a)(a.specular)?a.specular:[0,0,0,1],a.shininess=Object(l.a)(a.shininess,0))))}e.emissiveFactor=Object(l.a)(e.emissiveFactor,[0,0,0]),e.alphaMode=Object(l.a)(e.alphaMode,"OPAQUE"),e.doubleSided=Object(l.a)(e.doubleSided,!1),"MASK"===e.alphaMode&&(e.alphaCutoff=Object(l.a)(e.alphaCutoff,.5));var o=t.KHR_techniques_webgl;Object(u.a)(o)&&s.a.materialValue(e,function(e){Object(u.a)(e.index)&&r(e)}),r(e.emissiveTexture),r(e.normalTexture),r(e.occlusionTexture);var c=e.pbrMetallicRoughness;Object(u.a)(c)&&(c.baseColorFactor=Object(l.a)(c.baseColorFactor,[1,1,1,1]),c.metallicFactor=Object(l.a)(c.metallicFactor,1),c.roughnessFactor=Object(l.a)(c.roughnessFactor,1),r(c.baseColorTexture),r(c.metallicRoughnessTexture));var h=t.pbrSpecularGlossiness;Object(u.a)(h)&&(h.diffuseFactor=Object(l.a)(h.diffuseFactor,[1,1,1,1]),h.specularFactor=Object(l.a)(h.specularFactor,[1,1,1]),h.glossinessFactor=Object(l.a)(h.glossinessFactor,1),r(h.specularGlossinessTexture))}),s.a.animation(e,function(e){s.a.animationSampler(e,function(e){e.interpolation=Object(l.a)(e.interpolation,"LINEAR")})});var t=a(e);return s.a.node(e,function(e,i){Object(u.a)(t[i])||Object(u.a)(e.translation)||Object(u.a)(e.rotation)||Object(u.a)(e.scale)?(e.translation=Object(l.a)(e.translation,[0,0,0]),e.rotation=Object(l.a)(e.rotation,[0,0,0,1]),e.scale=Object(l.a)(e.scale,[1,1,1])):e.matrix=Object(l.a)(e.matrix,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}),s.a.sampler(e,function(e){e.wrapS=Object(l.a)(e.wrapS,h.a.REPEAT),e.wrapT=Object(l.a)(e.wrapT,h.a.REPEAT)}),Object(u.a)(e.scenes)&&!Object(u.a)(e.scene)&&(e.scene=0),e}function a(e){var t={};return s.a.animation(e,function(e){s.a.animationChannel(e,function(e){var i=e.target,n=i.node,a=i.path;"translation"!==a&&"rotation"!==a&&"scale"!==a||(t[n]=!0)})}),t}function r(e){Object(u.a)(e)&&(e.texCoord=Object(l.a)(e.texCoord,0))}var o=i("gjak"),s=i("FJg6"),c=i("dWoC"),l=i("5A4e"),u=i("xC6Q"),h=i("1L1F");t.a=n},KIL7:function(e,t,i){"use strict";function n(e,t,i,a){this._tileset=e,this._header=i;var r=i.content;this.transform=Object(C.a)(i.transform)?N.a.unpack(i.transform):N.a.clone(N.a.IDENTITY);var o=Object(C.a)(a)?a.computedTransform:e.modelMatrix,s=N.a.multiply(o,this.transform,new N.a),c=Object(C.a)(a)?a._initialTransform:N.a.IDENTITY;this._initialTransform=N.a.multiply(c,this.transform,new N.a),this.computedTransform=s,this._boundingVolume=this.createBoundingVolume(i.boundingVolume,s),this._boundingVolume2D=void 0;var l;Object(C.a)(r)&&Object(C.a)(r.boundingVolume)&&(l=this.createBoundingVolume(r.boundingVolume,s)),this._contentBoundingVolume=l,this._contentBoundingVolume2D=void 0;var u;Object(C.a)(i.viewerRequestVolume)&&(u=this.createBoundingVolume(i.viewerRequestVolume,s)),this._viewerRequestVolume=u,this.geometricError=i.geometricError,this._geometricError=i.geometricError,Object(C.a)(this._geometricError)||(this._geometricError=Object(C.a)(a)?a.geometricError:e._geometricError,n._deprecationWarning("geometricErrorUndefined","Required property geometricError is undefined for this tile. Using parent's geometric error instead.")),this.updateGeometricErrorScale();var h;Object(C.a)(i.refine)?("replace"!==i.refine&&"add"!==i.refine||n._deprecationWarning("lowercase-refine",'This tile uses a lowercase refine "'+i.refine+'". Instead use "'+i.refine.toUpperCase()+'".'),h="REPLACE"===i.refine.toUpperCase()?Z.a.REPLACE:Z.a.ADD):h=Object(C.a)(a)?a.refine:Z.a.REPLACE,this.refine=h,this.children=[],this.parent=a;var d,f,p,m,g;if(t=q.a.createIfNeeded(t),Object(C.a)(r)){var _=r.uri;Object(C.a)(r.url)&&(n._deprecationWarning("contentUrl",'This tileset JSON uses the "content.url" property which has been deprecated. Use "content.uri" instead.'),_=r.url),f=!1,p=X.a.UNLOADED,m=t.getDerivedResource({url:_}),g=U.a.getServerKey(m.getUrlComponent())}else d=new K.a(e,this),f=!0,p=X.a.READY;this._content=d,this._contentResource=m,this._contentState=p,this._contentReadyToProcessPromise=void 0,this._contentReadyPromise=void 0,this._expiredContent=void 0,this._serverKey=g,this.hasEmptyContent=f,this.hasTilesetContent=!1,this.cacheNode=void 0;var v,b,y=i.expire;Object(C.a)(y)&&(v=y.duration,Object(C.a)(y.date)&&(b=R.a.fromIso8601(y.date))),this.expireDuration=v,this.expireDate=b,this.lastStyleTime=0,this._optimChildrenWithinParent=Q.a.NOT_COMPUTED,this.clippingPlanesDirty=!1,this.priorityDeferred=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._screenSpaceErrorProgressiveResolution=0,this._visibilityPlaneMask=0,this._visible=!1,this._inRequestVolume=!1,this._finalResolution=!0,this._depth=0,this._stackLength=0,this._selectionDepth=0,this._updatedVisibilityFrame=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._ancestorWithContent=void 0,this._ancestorWithContentAvailable=void 0,this._refines=!1,this._shouldSelect=!1,this._isClipped=!0,this._clippingPlanesState=0,this._debugBoundingVolume=void 0,this._debugContentBoundingVolume=void 0,this._debugViewerRequestVolume=void 0,this._debugColor=x.a.fromRandom({alpha:1}),this._debugColorizeTiles=!1,this._priority=0,this._priorityHolder=this,this._priorityProgressiveResolution=!1,this._priorityProgressiveResolutionScreenSpaceErrorLeaf=!1,this._priorityReverseScreenSpaceError=0,this._foveatedFactor=0,this._wasMinPriorityChild=!1,this._loadTimestamp=new R.a,this._commandsLength=0,this._color=void 0,this._colorDirty=!1,this._request=void 0}function a(e,t){var i=e._tileset,n=t.camera,a=e.boundingSphere,r=a.radius,o=w.a.multiplyByScalar(n.directionWC,e._centerZDepth,ne),s=w.a.add(n.positionWC,o,ne),c=w.a.subtract(s,a.center,ne);if(w.a.magnitude(c)>r){var l=w.a.normalize(c,ne),u=w.a.multiplyByScalar(l,r,ne),h=w.a.add(a.center,u,ne),d=w.a.subtract(h,n.positionWC,ne),f=w.a.normalize(d,ne);e._foveatedFactor=1-Math.abs(w.a.dot(n.directionWC,f))}else e._foveatedFactor=0;var p=e.refine===Z.a.REPLACE,m=i._skipLevelOfDetail;if(p&&!m||!i.foveatedScreenSpaceError||1===i.foveatedConeSize||e._priorityProgressiveResolution&&p&&m||i._pass===J.a.PRELOAD_FLIGHT||i._pass===J.a.PRELOAD)return!1;var g=1-Math.cos(.5*n.frustum.fov),_=i.foveatedConeSize*g;if(e._foveatedFactor<=_)return!1;var v=g-_,b=M.a.clamp((e._foveatedFactor-_)/v,0,1),y=i.foveatedInterpolationCallback(i.foveatedMinimumScreenSpaceErrorRelaxation,i.maximumScreenSpaceError,b),O=0===e._screenSpaceError&&Object(C.a)(e.parent)?.5*e.parent._screenSpaceError:e._screenSpaceError;return i.maximumScreenSpaceError-y<=O}function r(e,t){if(e.progressiveResolutionHeightFraction<=0||e.progressiveResolutionHeightFraction>.5)return!1;var i=t._screenSpaceErrorProgressiveResolution>e._maximumScreenSpaceError;t._priorityProgressiveResolutionScreenSpaceErrorLeaf=!1;var n=t.parent,a=e._maximumScreenSpaceError,r=t._screenSpaceErrorProgressiveResolution<=a,o=Object(C.a)(n)&&n._screenSpaceErrorProgressiveResolution>a;return r&&o&&(t._priorityProgressiveResolutionScreenSpaceErrorLeaf=!0,i=!0),i}function o(e,t){var i=t.parent,n=Object(C.a)(i)&&(!e._skipLevelOfDetail||0===t._screenSpaceError||i.hasTilesetContent),a=n?i._screenSpaceError:t._screenSpaceError;return e.root._screenSpaceError-a}function s(e){if(Object(C.a)(e.expireDuration)){var t=R.a.now(ae);R.a.addSeconds(t,e.expireDuration,t),Object(C.a)(e.expireDate)?R.a.lessThan(e.expireDate,t)&&R.a.clone(t,e.expireDate):e.expireDate=R.a.clone(t)}}function c(e,t){return function(i){e._contentState===X.a.PROCESSING?--t.statistics.numberOfTilesProcessing:--t.statistics.numberOfPendingRequests,e._contentState=X.a.FAILED,e._contentReadyPromise.reject(i),e._contentReadyToProcessPromise.reject(i)}}function l(e){return function(){return e._priority}}function u(e,t){if(t.mode!==$.a.SCENE3D&&!Object(C.a)(e._boundingVolume2D)){var i=e._boundingVolume.boundingSphere,n=O.a.projectTo2D(i,t.mapProjection,re);e._boundingVolume2D=new te.a(n.center,n.radius)}return t.mode!==$.a.SCENE3D?e._boundingVolume2D:e._boundingVolume}function h(e,t){if(t.mode!==$.a.SCENE3D&&!Object(C.a)(e._contentBoundingVolume2D)){var i=e._contentBoundingVolume.boundingSphere,n=O.a.projectTo2D(i,t.mapProjection,re);e._contentBoundingVolume2D=new te.a(n.center,n.radius)}return t.mode!==$.a.SCENE3D?e._contentBoundingVolume2D:e._contentBoundingVolume}function d(e,t,i){var n=w.a.fromElements(e[0],e[1],e[2],ue),a=L.a.fromArray(e,3,le);n=N.a.multiplyByPoint(t,n,n);var r=N.a.getMatrix3(t,se);return a=L.a.multiply(r,a,a),Object(C.a)(i)?(i.update(n,a),i):new ie.a(n,a)}function f(e,t,i,n){var a=B.a.unpack(e,0,he),r=e[4],o=e[5],s=F.a.fromRectangle(a,r,o,P.a.WGS84,de),c=s.center,l=s.halfAxes;t=N.a.multiplyTransformation(t,N.a.inverseTransformation(i,fe),fe),c=N.a.multiplyByPoint(t,c,c);var u=N.a.getMatrix3(t,se);return l=L.a.multiply(u,l,l),Object(C.a)(n)&&n instanceof ie.a?(n.update(c,l),n):new ie.a(c,l)}function p(e,t,i,n){if(!N.a.equalsEpsilon(t,i,M.a.EPSILON8))return f(e,t,i,n);if(Object(C.a)(n))return n;var a=B.a.unpack(e,0,he);return new ee.a({rectangle:a,minimumHeight:e[4],maximumHeight:e[5]})}function m(e,t,i){var n=w.a.fromElements(e[0],e[1],e[2],ue),a=e[3];n=N.a.multiplyByPoint(t,n,n);var r=N.a.getScale(t,ce);return a*=w.a.maximumComponent(r),Object(C.a)(i)?(i.update(n,a),i):new te.a(n,a)}function g(e,t,i,n){if(n.isRender){var a=Object(C.a)(e._header.content)&&Object(C.a)(e._header.content.boundingVolume),r=e.hasEmptyContent||e.hasTilesetContent,o=t.debugShowBoundingVolume||t.debugShowContentBoundingVolume&&!a;if(o){var s;s=e._finalResolution?r?x.a.DARKGRAY:x.a.WHITE:x.a.YELLOW,Object(C.a)(e._debugBoundingVolume)||(e._debugBoundingVolume=e._boundingVolume.createDebugVolume(s)),e._debugBoundingVolume.update(i);var c=e._debugBoundingVolume.getGeometryInstanceAttributes("outline");c.color=E.a.toValue(s,c.color)}else!o&&Object(C.a)(e._debugBoundingVolume)&&(e._debugBoundingVolume=e._debugBoundingVolume.destroy());t.debugShowContentBoundingVolume&&a?(Object(C.a)(e._debugContentBoundingVolume)||(e._debugContentBoundingVolume=e._contentBoundingVolume.createDebugVolume(x.a.BLUE)),e._debugContentBoundingVolume.update(i)):!t.debugShowContentBoundingVolume&&Object(C.a)(e._debugContentBoundingVolume)&&(e._debugContentBoundingVolume=e._debugContentBoundingVolume.destroy()),t.debugShowViewerRequestVolume&&Object(C.a)(e._viewerRequestVolume)?(Object(C.a)(e._debugViewerRequestVolume)||(e._debugViewerRequestVolume=e._viewerRequestVolume.createDebugVolume(x.a.YELLOW)),e._debugViewerRequestVolume.update(i)):!t.debugShowViewerRequestVolume&&Object(C.a)(e._debugViewerRequestVolume)&&(e._debugViewerRequestVolume=e._debugViewerRequestVolume.destroy());var l=t.debugColorizeTiles&&!e._debugColorizeTiles||Object(C.a)(t._heatmap.tilePropertyName),u=!t.debugColorizeTiles&&e._debugColorizeTiles;l?(t._heatmap.colorize(e,i),e._debugColorizeTiles=!0,e.color=e._debugColor):u&&(e._debugColorizeTiles=!1,e.color=x.a.WHITE),e._colorDirty&&(e._colorDirty=!1,e._content.applyDebugSettings(!0,e._color)),u&&t.makeStyleDirty()}}function _(e,t,i){var n=e._content,a=e._expiredContent;if(Object(C.a)(a)){if(!e.contentReady)return void a.update(t,i);e._expiredContent.destroy(),e._expiredContent=void 0}n.update(t,i)}function v(e,t){var i=t.clippingPlanes,n=0;Object(C.a)(i)&&e._isClipped&&i.enabled&&(n=i.clippingPlanesState),n!==e._clippingPlanesState&&(e._clippingPlanesState=n,e.clippingPlanesDirty=!0)}function b(e,t,i){var n=e*Math.pow(10,t);return parseInt(n)*Math.pow(10,i)}function y(e,t,i){return Math.max(M.a.normalize(e,t,i)-M.a.EPSILON7,0)}var O=i("lBr9"),w=i("Jj+J"),x=i("6F0S"),E=i("devy"),T=i("XHlg"),A=i("5A4e"),C=i("xC6Q"),S=i("49Ew"),j=i("6sr8"),P=i("y6fO"),D=i("l7qC"),I=i("u909"),R=i("9Uqs"),M=i("fq+p"),L=i("i3sv"),N=i("Xjii"),F=i("qBw0"),z=i("ku5u"),B=i("Wq1U"),k=i("dI/G"),U=i("Y45Y"),V=i("YBjH"),H=i("0pio"),q=i("rMjQ"),W=i("V22k"),G=i("S7OP"),Y=i("d0ze"),X=i("R5dd"),Q=i("ZU0d"),J=i("2Fo0"),Z=i("Qv/e"),K=i("ainS"),$=i("sotJ"),ee=i("JozK"),te=i("F8sz"),ie=i("dp99");n._deprecationWarning=S.a,Object.defineProperties(n.prototype,{tileset:{get:function(){return this._tileset}},content:{get:function(){return this._content}},boundingVolume:{get:function(){return this._boundingVolume}},contentBoundingVolume:{get:function(){return Object(A.a)(this._contentBoundingVolume,this._boundingVolume)}},boundingSphere:{get:function(){return this._boundingVolume.boundingSphere}},extras:{get:function(){return this._header.extras}},color:{get:function(){return Object(C.a)(this._color)||(this._color=new x.a),x.a.clone(this._color)},set:function(e){this._color=x.a.clone(e,this._color),this._colorDirty=!0}},contentAvailable:{get:function(){return this.contentReady&&!this.hasEmptyContent&&!this.hasTilesetContent||Object(C.a)(this._expiredContent)&&!this.contentFailed}},contentReady:{get:function(){return this._contentState===X.a.READY}},contentUnloaded:{get:function(){return this._contentState===X.a.UNLOADED}},contentExpired:{get:function(){return this._contentState===X.a.EXPIRED}},contentFailed:{get:function(){return this._contentState===X.a.FAILED}},contentReadyToProcessPromise:{get:function(){if(Object(C.a)(this._contentReadyToProcessPromise))return this._contentReadyToProcessPromise.promise}},contentReadyPromise:{get:function(){if(Object(C.a)(this._contentReadyPromise))return this._contentReadyPromise.promise}},commandsLength:{get:function(){return this._commandsLength}}});var ne=new w.a,ae=new R.a;n.prototype.getScreenSpaceError=function(e,t,i){var n=this._tileset,a=Object(A.a)(i,1),r=Object(C.a)(this.parent)?this.parent.geometricError:n._geometricError,o=t?r:this.geometricError;if(0===o)return 0;var s,c=e.camera,l=c.frustum,u=e.context,h=u.drawingBufferWidth,d=u.drawingBufferHeight*a;if(e.mode===$.a.SCENE2D||l instanceof z.a){Object(C.a)(l._offCenterFrustum)&&(l=l._offCenterFrustum);s=o/(Math.max(l.top-l.bottom,l.right-l.left)/Math.max(h,d))}else{var f=Math.max(this._distanceToCamera,M.a.EPSILON7);if(s=o*d/(f*c.frustum.sseDenominator),n.dynamicScreenSpaceError){var p=n._dynamicScreenSpaceErrorComputedDensity,m=n.dynamicScreenSpaceErrorFactor;s-=M.a.fog(f,p)*m}}return s/=e.pixelRatio},n.prototype.updateVisibility=function(e){var t=this.parent,i=this._tileset,n=Object(C.a)(t)?t.computedTransform:i.modelMatrix,s=Object(C.a)(t)?t._visibilityPlaneMask:T.a.MASK_INDETERMINATE;this.updateTransform(n),this._distanceToCamera=this.distanceToTile(e),this._centerZDepth=this.distanceToTileCenter(e),this._screenSpaceError=this.getScreenSpaceError(e,!1),this._screenSpaceErrorProgressiveResolution=this.getScreenSpaceError(e,!1,i.progressiveResolutionHeightFraction),this._visibilityPlaneMask=this.visibility(e,s),this._visible=this._visibilityPlaneMask!==T.a.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(e),this._priorityReverseScreenSpaceError=o(i,this),this._priorityProgressiveResolution=r(i,this),this.priorityDeferred=a(this,e)},n.prototype.updateExpiration=function(){if(Object(C.a)(this.expireDate)&&this.contentReady&&!this.hasEmptyContent){var e=R.a.now(ae);R.a.lessThan(this.expireDate,e)&&(this._contentState=X.a.EXPIRED,this._expiredContent=this._content)}},n.prototype.requestContent=function(){var e=this,t=this._tileset;if(this.hasEmptyContent)return!1;var i=this._contentResource.clone(),n=this.contentExpired;n&&i.setQueryParameters({expired:this.expireDate.toString()});var a=new k.a({throttle:!0,throttleByServer:!0,type:H.a.TILES3D,priorityFunction:l(this),serverKey:this._serverKey});this._request=a,i.request=a;var r=i.fetchArrayBuffer();if(!Object(C.a)(r))return!1;var o=this._contentState;this._contentState=X.a.LOADING,this._contentReadyToProcessPromise=G.a.defer(),this._contentReadyPromise=G.a.defer();var u=c(this,t);return r.then(function(i){if(e.isDestroyed())return void u();var a,r=new Uint8Array(i),o=Object(D.a)(r),c=Y.a[o];return t._disableSkipLevelOfDetail=t._disableSkipLevelOfDetail||"vctr"===o||"geom"===o,Object(C.a)(c)?a=c(t,e,e._contentResource,i,0):(a=Y.a.json(t,e,e._contentResource,i,0),e.hasTilesetContent=!0),n&&(e.expireDate=void 0),e._content=a,e._contentState=X.a.PROCESSING,e._contentReadyToProcessPromise.resolve(a),a.readyPromise.then(function(t){if(e.isDestroyed())return void u();s(e),e._selectedFrame=0,e.lastStyleTime=0,R.a.now(e._loadTimestamp),e._contentState=X.a.READY,e._contentReadyPromise.resolve(t)})}).otherwise(function(i){if(a.state===V.a.CANCELLED)return e._contentState=o,--t.statistics.numberOfPendingRequests,void++t.statistics.numberOfAttemptedRequests;u(i)}),!0},n.prototype.unloadContent=function(){this.hasEmptyContent||this.hasTilesetContent||(this._content=this._content&&this._content.destroy(),this._contentState=X.a.UNLOADED,this._contentReadyToProcessPromise=void 0,this._contentReadyPromise=void 0,this.lastStyleTime=0,this.clippingPlanesDirty=0===this._clippingPlanesState,this._clippingPlanesState=0,this._debugColorizeTiles=!1,this._debugBoundingVolume=this._debugBoundingVolume&&this._debugBoundingVolume.destroy(),this._debugContentBoundingVolume=this._debugContentBoundingVolume&&this._debugContentBoundingVolume.destroy(),this._debugViewerRequestVolume=this._debugViewerRequestVolume&&this._debugViewerRequestVolume.destroy())};var re=new O.a;n.prototype.visibility=function(e,t){var i=e.cullingVolume,n=u(this,e),a=this._tileset,r=a.clippingPlanes;if(Object(C.a)(r)&&r.enabled){var o=r.computeIntersectionWithBoundingVolume(n,a.clippingPlanesOriginMatrix);if(this._isClipped=o!==I.a.INSIDE,o===I.a.OUTSIDE)return T.a.MASK_OUTSIDE}return i.computeVisibilityWithPlaneMask(n,t)},n.prototype.contentVisibility=function(e){if(!Object(C.a)(this._contentBoundingVolume))return I.a.INSIDE;if(this._visibilityPlaneMask===T.a.MASK_INSIDE)return I.a.INSIDE;var t=e.cullingVolume,i=h(this,e),n=this._tileset,a=n.clippingPlanes;if(Object(C.a)(a)&&a.enabled){var r=a.computeIntersectionWithBoundingVolume(i,n.clippingPlanesOriginMatrix);if(this._isClipped=r!==I.a.INSIDE,r===I.a.OUTSIDE)return I.a.OUTSIDE}return t.computeVisibility(i)},n.prototype.distanceToTile=function(e){return u(this,e).distanceToCamera(e)};var oe=new w.a;n.prototype.distanceToTileCenter=function(e){var t=u(this,e),i=t.boundingVolume,n=w.a.subtract(i.center,e.camera.positionWC,oe);return w.a.dot(e.camera.directionWC,n)},n.prototype.insideViewerRequestVolume=function(e){var t=this._viewerRequestVolume;return!Object(C.a)(t)||0===t.distanceToCamera(e)};var se=new L.a,ce=new w.a,le=new L.a,ue=new w.a,he=new B.a,de=new F.a,fe=new N.a;n.prototype.createBoundingVolume=function(e,t,i){if(!Object(C.a)(e))throw new W.a("boundingVolume must be defined");if(Object(C.a)(e.box))return d(e.box,t,i);if(Object(C.a)(e.region))return p(e.region,t,this._initialTransform,i);if(Object(C.a)(e.sphere))return m(e.sphere,t,i);throw new W.a("boundingVolume must contain a sphere, region, or box")},n.prototype.updateTransform=function(e){e=Object(A.a)(e,N.a.IDENTITY);var t=N.a.multiply(e,this.transform,fe);if(!N.a.equals(t,this.computedTransform)){N.a.clone(t,this.computedTransform);var i=this._header,n=this._header.content;this._boundingVolume=this.createBoundingVolume(i.boundingVolume,this.computedTransform,this._boundingVolume),Object(C.a)(this._contentBoundingVolume)&&(this._contentBoundingVolume=this.createBoundingVolume(n.boundingVolume,this.computedTransform,this._contentBoundingVolume)),Object(C.a)(this._viewerRequestVolume)&&(this._viewerRequestVolume=this.createBoundingVolume(i.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)),this.updateGeometricErrorScale(),this._debugBoundingVolume=this._debugBoundingVolume&&this._debugBoundingVolume.destroy(),this._debugContentBoundingVolume=this._debugContentBoundingVolume&&this._debugContentBoundingVolume.destroy(),this._debugViewerRequestVolume=this._debugViewerRequestVolume&&this._debugViewerRequestVolume.destroy()}},n.prototype.updateGeometricErrorScale=function(){var e=N.a.getScale(this.computedTransform,ce),t=w.a.maximumComponent(e);this.geometricError=this._geometricError*t},n.prototype.update=function(e,t,i){var n=t.commandList.length;v(this,e),g(this,e,t,i),_(this,e,t),this._commandsLength=t.commandList.length-n,this.clippingPlanesDirty=!1};var pe=[];n.prototype.process=function(e,t){var i=t.commandList;t.commandList=pe,this._content.update(e,t),pe.length=0,t.commandList=i},n.prototype.updatePriority=function(){var e=this.tileset,t=e.preferLeaves,i=e._minimumPriority,n=e._maximumPriority,a=Math.pow(10,8),r=Math.pow(10,9),o=Math.pow(10,10),s=y(this._depth,i.depth,n.depth);s=t?1-s:s;var c=!e._skipLevelOfDetail&&this.refine===Z.a.REPLACE,l=c?y(this._priorityHolder._distanceToCamera,i.distance,n.distance):y(this._priorityReverseScreenSpaceError,i.reverseScreenSpaceError,n.reverseScreenSpaceError),u=b(l,4,0),h=this._priorityProgressiveResolution?0:a,d=y(this._priorityHolder._foveatedFactor,i.foveatedFactor,n.foveatedFactor),f=b(d,4,4),p=this.priorityDeferred?r:0,m=e._pass===J.a.PRELOAD_FLIGHT?0:o;this._priority=s+u+h+f+p+m},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._content=this._content&&this._content.destroy(),this._expiredContent=this._expiredContent&&!this._expiredContent.isDestroyed()&&this._expiredContent.destroy(),this._debugBoundingVolume=this._debugBoundingVolume&&this._debugBoundingVolume.destroy(),this._debugContentBoundingVolume=this._debugContentBoundingVolume&&this._debugContentBoundingVolume.destroy(),this._debugViewerRequestVolume=this._debugViewerRequestVolume&&this._debugViewerRequestVolume.destroy(),Object(j.a)(this)},t.a=n},KLdj:function(e,t,i){"use strict";function n(e,t){if(!Object(a.a)(e))throw new r.a("array is required.");if(!Object(a.a)(t)||t<1)throw new r.a("numberOfArrays must be greater than 0.");for(var i=[],n=e.length,o=0;o<n;){var s=Math.ceil((n-o)/t--);i.push(e.slice(o,o+s)),o+=s}return i}var a=i("xC6Q"),r=i("PzDm");t.a=n},KLeW:function(e,t,i){"use strict";function n(e,t,i){this.clock=Object(r.a)(e,0),this.cone=Object(r.a)(t,0),this.magnitude=Object(r.a)(i,1)}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q");n.fromCartesian3=function(e,t){a.a.typeOf.object("cartesian3",e);var i=e.x,r=e.y,s=e.z,c=i*i+r*r;return Object(o.a)(t)||(t=new n),t.clock=Math.atan2(r,i),t.cone=Math.atan2(Math.sqrt(c),s),t.magnitude=Math.sqrt(c+s*s),t},n.clone=function(e,t){if(Object(o.a)(e))return Object(o.a)(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=e.magnitude,t):new n(e.clock,e.cone,e.magnitude)},n.normalize=function(e,t){return a.a.typeOf.object("spherical",e),Object(o.a)(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=1,t):new n(e.clock,e.cone,1)},n.equals=function(e,t){return e===t||Object(o.a)(e)&&Object(o.a)(t)&&e.clock===t.clock&&e.cone===t.cone&&e.magnitude===t.magnitude},n.equalsEpsilon=function(e,t,i){return i=Object(r.a)(i,0),e===t||Object(o.a)(e)&&Object(o.a)(t)&&Math.abs(e.clock-t.clock)<=i&&Math.abs(e.cone-t.cone)<=i&&Math.abs(e.magnitude-t.magnitude)<=i},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equalsEpsilon=function(e,t){return n.equalsEpsilon(this,e,t)},n.prototype.toString=function(){return"("+this.clock+", "+this.cone+", "+this.magnitude+")"},t.a=n},KPbu:function(e,t,i){"use strict";function n(e,t,i){a.a.defined("array",e),a.a.defined("itemToFind",t),a.a.defined("comparator",i);for(var n,r,o=0,s=e.length-1;o<=s;)if(n=~~((o+s)/2),(r=i(e[n],t))<0)o=n+1;else{if(!(r>0))return n;s=n-1}return~(s+1)}var a=i("5F4X");t.a=n},KbD2:function(e,t,i){"use strict";t.a="/**\n * Converts an RGB color to HSB (hue, saturation, brightness)\n * HSB <-> RGB conversion with minimal branching: {@link http://lolengine.net/blog/2013/07/27/rgb-to-hsv-in-glsl}\n *\n * @name czm_RGBToHSB\n * @glslFunction\n * \n * @param {vec3} rgb The color in RGB.\n *\n * @returns {vec3} The color in HSB.\n *\n * @example\n * vec3 hsb = czm_RGBToHSB(rgb);\n * hsb.z *= 0.1;\n * rgb = czm_HSBToRGB(hsb);\n */\n\nconst vec4 K_RGB2HSB = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n\nvec3 czm_RGBToHSB(vec3 rgb)\n{\n    vec4 p = mix(vec4(rgb.bg, K_RGB2HSB.wz), vec4(rgb.gb, K_RGB2HSB.xy), step(rgb.b, rgb.g));\n    vec4 q = mix(vec4(p.xyw, rgb.r), vec4(rgb.r, p.yzx), step(p.x, rgb.r));\n\n    float d = q.x - min(q.w, q.y);\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + czm_epsilon7)), d / (q.x + czm_epsilon7), q.x);\n}\n"},Khf6:function(e,t,i){"use strict";function n(e,t,i,n,l){this._tileset=e,this._tile=t,this._resource=i,this._pickId=void 0,this._batchTable=void 0,this._styleDirty=!1,this._features=void 0,this.featurePropertiesDirty=!1,this._pointCloud=new w.a({arrayBuffer:n,byteOffset:l,cull:!1,opaquePass:v.a.CESIUM_3D_TILE,vertexShaderLoaded:a(this),fragmentShaderLoaded:r(this),uniformMapLoaded:o(this),batchTableLoaded:s(this),pickIdLoaded:c(this)})}function a(e){return function(t){return Object(p.a)(e._batchTable)?e._batchTable.getVertexShaderCallback(!1,"a_batchId",void 0)(t):t}}function r(e){return function(t){return Object(p.a)(e._batchTable)?e._batchTable.getFragmentShaderCallback(!1,void 0)(t):"uniform vec4 czm_pickColor;\n"+t}}function o(e){return function(t){return Object(p.a)(e._batchTable)?e._batchTable.getUniformMapCallback()(t):Object(d.a)(t,{czm_pickColor:function(){return e._pickId.color}})}}function s(e){return function(t,i,n){e._batchTable=new b.a(e,t,i,n)}}function c(e){return function(){return Object(p.a)(e._batchTable)?e._batchTable.getPickId():"czm_pickColor"}}function l(e){var t=e._tileset.pointCloudShading,i=e._tile.contentBoundingVolume.boundingSphere.volume(),n=_.a.cbrt(i/e.pointsLength),a=e._tile.geometricError;return 0===a&&(a=Object(p.a)(t)&&Object(p.a)(t.baseResolution)?t.baseResolution:n),a}function u(e){var t=e.featuresLength;if(!Object(p.a)(e._features)&&t>0){for(var i=new Array(t),n=0;n<t;++n)i[n]=new y.a(e,n);e._features=i}}var h=i("6F0S"),d=i("ZboF"),f=i("5A4e"),p=i("xC6Q"),m=i("6sr8"),g=i("PzDm"),_=i("fq+p"),v=i("M0+0"),b=i("sNK4"),y=i("/Wph"),O=i("Qv/e"),w=i("MryW"),x=i("0OY+"),E=i("sotJ");Object.defineProperties(n.prototype,{featuresLength:{get:function(){return Object(p.a)(this._batchTable)?this._batchTable.featuresLength:0}},pointsLength:{get:function(){return this._pointCloud.pointsLength}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return this._pointCloud.geometryByteLength}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return Object(p.a)(this._batchTable)?this._batchTable.memorySizeInBytes:0}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._pointCloud.readyPromise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){return this._batchTable}}}),n.prototype.hasProperty=function(e,t){return!!Object(p.a)(this._batchTable)&&this._batchTable.hasProperty(e,t)},n.prototype.getFeature=function(e){if(Object(p.a)(this._batchTable)){var t=this.featuresLength;if(!Object(p.a)(e)||e<0||e>=t)throw new g.a("batchId is required and between zero and featuresLength - 1 ("+(t-1)+").");return u(this),this._features[e]}},n.prototype.applyDebugSettings=function(e,t){this._pointCloud.color=e?t:h.a.WHITE},n.prototype.applyStyle=function(e){Object(p.a)(this._batchTable)?this._batchTable.applyStyle(e):this._styleDirty=!0};var T=new x.a;n.prototype.update=function(e,t){var i=this._pointCloud,n=Object(f.a)(e.pointCloudShading,T),a=this._tile,r=this._batchTable,o=t.mode,s=e.clippingPlanes;Object(p.a)(this._pickId)||Object(p.a)(r)||(this._pickId=t.context.createPickId({primitive:e,content:this})),Object(p.a)(r)&&r.update(e,t);var c;c=Object(p.a)(a._contentBoundingVolume)?o===E.a.SCENE3D?a._contentBoundingVolume.boundingSphere:a._contentBoundingVolume2D.boundingSphere:o===E.a.SCENE3D?a._boundingVolume.boundingSphere:a._boundingVolume2D.boundingSphere;var u=this._styleDirty;this._styleDirty=!1,i.clippingPlanesOriginMatrix=e.clippingPlanesOriginMatrix,i.style=Object(p.a)(r)?void 0:e.style,i.styleDirty=u,i.modelMatrix=a.computedTransform,i.time=e.timeSinceLoad,i.shadows=e.shadows,i.boundingSphere=c,i.clippingPlanes=s,i.isClipped=Object(p.a)(s)&&s.enabled&&a._isClipped,i.clippingPlanesDirty=a.clippingPlanesDirty,i.attenuation=n.attenuation,i.backFaceCulling=n.backFaceCulling,i.normalShading=n.normalShading,i.geometricError=l(this),i.geometricErrorScale=n.geometricErrorScale,Object(p.a)(n)&&Object(p.a)(n.maximumAttenuation)?i.maximumAttenuation=n.maximumAttenuation:a.refine===O.a.ADD?i.maximumAttenuation=5:i.maximumAttenuation=e.maximumScreenSpaceError,i.update(t)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._pickId=this._pickId&&this._pickId.destroy(),this._pointCloud=this._pointCloud&&this._pointCloud.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),Object(m.a)(this)},t.a=n},KjOc:function(e,t,i){"use strict";function n(e){e=Object(l.a)(e,l.a.EMPTY_OBJECT);var t=Object(l.a)(e.radii,A),i=Object(l.a)(e.innerRadii,t),n=Object(l.a)(e.minimumClock,0),a=Object(l.a)(e.maximumClock,v.a.TWO_PI),r=Object(l.a)(e.minimumCone,0),o=Object(l.a)(e.maximumCone,v.a.PI),c=Math.round(Object(l.a)(e.stackPartitions,64)),u=Math.round(Object(l.a)(e.slicePartitions,64)),d=Object(l.a)(e.vertexFormat,y.a.DEFAULT);if(u<3)throw new h.a("options.slicePartitions cannot be less than three.");if(c<3)throw new h.a("options.stackPartitions cannot be less than three.");this._radii=s.a.clone(t),this._innerRadii=s.a.clone(i),this._minimumClock=n,this._maximumClock=a,this._minimumCone=r,this._maximumCone=o,this._stackPartitions=c,this._slicePartitions=u,this._vertexFormat=y.a.clone(d),this._offsetAttribute=e.offsetAttribute,this._workerName="createEllipsoidGeometry"}var a=i("Sfsp"),r=i("lBr9"),o=i("Ss9j"),s=i("Jj+J"),c=i("YCZg"),l=i("5A4e"),u=i("xC6Q"),h=i("PzDm"),d=i("y6fO"),f=i("RGAo"),p=i("RYD3"),m=i("GaJK"),g=i("2g+t"),_=i("oMsT"),v=i("fq+p"),b=i("nHNe"),y=i("xvTE"),O=new s.a,w=new s.a,x=new s.a,E=new s.a,T=new s.a,A=new s.a(1,1,1),C=Math.cos,S=Math.sin;n.packedLength=2*s.a.packedLength+y.a.packedLength+7,n.pack=function(e,t,i){if(!Object(u.a)(e))throw new h.a("value is required");if(!Object(u.a)(t))throw new h.a("array is required");return i=Object(l.a)(i,0),s.a.pack(e._radii,t,i),i+=s.a.packedLength,s.a.pack(e._innerRadii,t,i),i+=s.a.packedLength,y.a.pack(e._vertexFormat,t,i),i+=y.a.packedLength,t[i++]=e._minimumClock,t[i++]=e._maximumClock,t[i++]=e._minimumCone,t[i++]=e._maximumCone,t[i++]=e._stackPartitions,t[i++]=e._slicePartitions,t[i]=Object(l.a)(e._offsetAttribute,-1),t};var j=new s.a,P=new s.a,D=new y.a,I={radii:j,innerRadii:P,vertexFormat:D,minimumClock:void 0,maximumClock:void 0,minimumCone:void 0,maximumCone:void 0,stackPartitions:void 0,slicePartitions:void 0,offsetAttribute:void 0};n.unpack=function(e,t,i){if(!Object(u.a)(e))throw new h.a("array is required");t=Object(l.a)(t,0);var a=s.a.unpack(e,t,j);t+=s.a.packedLength;var r=s.a.unpack(e,t,P);t+=s.a.packedLength;var o=y.a.unpack(e,t,D);t+=y.a.packedLength;var c=e[t++],d=e[t++],f=e[t++],p=e[t++],m=e[t++],g=e[t++],_=e[t];return Object(u.a)(i)?(i._radii=s.a.clone(a,i._radii),i._innerRadii=s.a.clone(r,i._innerRadii),i._vertexFormat=y.a.clone(o,i._vertexFormat),i._minimumClock=c,i._maximumClock=d,i._minimumCone=f,i._maximumCone=p,i._stackPartitions=m,i._slicePartitions=g,i._offsetAttribute=-1===_?void 0:_,i):(I.minimumClock=c,I.maximumClock=d,I.minimumCone=f,I.maximumCone=p,I.stackPartitions=m,I.slicePartitions=g,I.offsetAttribute=-1===_?void 0:_,new n(I))},n.createGeometry=function(e){var t=e._radii;if(!(t.x<=0||t.y<=0||t.z<=0)){var i=e._innerRadii;if(!(i.x<=0||i.y<=0||i.z<=0)){var n=e._minimumClock,l=e._maximumClock,h=e._minimumCone,y=e._maximumCone,A=e._vertexFormat,j=e._slicePartitions+1,P=e._stackPartitions+1;j=Math.round(j*Math.abs(l-n)/v.a.TWO_PI),P=Math.round(P*Math.abs(y-h)/v.a.PI),j<2&&(j=2),P<2&&(P=2);var D,I,R=0,M=[h],L=[n];for(D=0;D<P;D++)M.push(h+D*(y-h)/(P-1));for(M.push(y),I=0;I<j;I++)L.push(n+I*(l-n)/(j-1));L.push(l);var N=M.length,F=L.length,z=0,B=1,k=i.x!==t.x||i.y!==t.y||i.z!==t.z,U=!1,V=!1,H=!1;k&&(B=2,h>0&&(U=!0,z+=j-1),y<Math.PI&&(V=!0,z+=j-1),(l-n)%v.a.TWO_PI?(H=!0,z+=2*(P-1)+1):z+=1);var q=F*N*B,W=new Float64Array(3*q),G=Object(a.a)(new Array(q),!1),Y=Object(a.a)(new Array(q),!1),X=j*P*B,Q=6*(X+z+1-(j+P)*B),J=_.a.createTypedArray(X,Q),Z=A.normal?new Float32Array(3*q):void 0,K=A.tangent?new Float32Array(3*q):void 0,$=A.bitangent?new Float32Array(3*q):void 0,ee=A.st?new Float32Array(2*q):void 0,te=new Array(N),ie=new Array(N);for(D=0;D<N;D++)te[D]=S(M[D]),ie[D]=C(M[D]);var ne=new Array(F),ae=new Array(F);for(I=0;I<F;I++)ae[I]=C(L[I]),ne[I]=S(L[I]);for(D=0;D<N;D++)for(I=0;I<F;I++)W[R++]=t.x*te[D]*ae[I],W[R++]=t.y*te[D]*ne[I],W[R++]=t.z*ie[D];var re=q/2;if(k)for(D=0;D<N;D++)for(I=0;I<F;I++)W[R++]=i.x*te[D]*ae[I],W[R++]=i.y*te[D]*ne[I],W[R++]=i.z*ie[D],G[re]=!0,D>0&&D!==N-1&&0!==I&&I!==F-1&&(Y[re]=!0),re++;R=0;var oe,se;for(D=1;D<N-2;D++)for(oe=D*F,se=(D+1)*F,I=1;I<F-2;I++)J[R++]=se+I,J[R++]=se+I+1,J[R++]=oe+I+1,J[R++]=se+I,J[R++]=oe+I+1,J[R++]=oe+I;if(k){var ce=N*F;for(D=1;D<N-2;D++)for(oe=ce+D*F,se=ce+(D+1)*F,I=1;I<F-2;I++)J[R++]=se+I,J[R++]=oe+I,J[R++]=oe+I+1,J[R++]=se+I,J[R++]=oe+I+1,J[R++]=se+I+1}var le,ue;if(k){if(U)for(ue=N*F,D=1;D<F-2;D++)J[R++]=D,J[R++]=D+1,J[R++]=ue+D+1,J[R++]=D,J[R++]=ue+D+1,J[R++]=ue+D;if(V)for(le=N*F-F,ue=N*F*B-F,D=1;D<F-2;D++)J[R++]=le+D+1,J[R++]=le+D,J[R++]=ue+D,J[R++]=le+D+1,J[R++]=ue+D,J[R++]=ue+D+1}if(H){for(D=1;D<N-2;D++)ue=F*N+F*D,le=F*D,J[R++]=ue,J[R++]=le+F,J[R++]=le,J[R++]=ue,J[R++]=ue+F,J[R++]=le+F;for(D=1;D<N-2;D++)ue=F*N+F*(D+1)-1,le=F*(D+1)-1,J[R++]=le+F,J[R++]=ue,J[R++]=le,J[R++]=le+F,J[R++]=ue+F,J[R++]=ue}var he=new m.a;A.position&&(he.position=new p.a({componentDatatype:c.a.DOUBLE,componentsPerAttribute:3,values:W}));var de,fe=0,pe=0,me=0,ge=0,_e=q/2,ve=d.a.fromCartesian3(t),be=d.a.fromCartesian3(i);if(A.st||A.normal||A.tangent||A.bitangent){for(D=0;D<q;D++){de=G[D]?be:ve;var ye=s.a.fromArray(W,3*D,O),Oe=de.geodeticSurfaceNormal(ye,w);if(Y[D]&&s.a.negate(Oe,Oe),A.st){var we=o.a.negate(Oe,T);ee[fe++]=Math.atan2(we.y,we.x)/v.a.TWO_PI+.5,ee[fe++]=Math.asin(Oe.z)/Math.PI+.5}if(A.normal&&(Z[pe++]=Oe.x,Z[pe++]=Oe.y,Z[pe++]=Oe.z),A.tangent||A.bitangent){var xe,Ee=x,Te=0;if(G[D]&&(Te=_e),xe=!U&&D>=Te&&D<Te+2*F?s.a.UNIT_X:s.a.UNIT_Z,s.a.cross(xe,Oe,Ee),s.a.normalize(Ee,Ee),A.tangent&&(K[me++]=Ee.x,K[me++]=Ee.y,K[me++]=Ee.z),A.bitangent){var Ae=s.a.cross(Oe,Ee,E);s.a.normalize(Ae,Ae),$[ge++]=Ae.x,$[ge++]=Ae.y,$[ge++]=Ae.z}}}A.st&&(he.st=new p.a({componentDatatype:c.a.FLOAT,componentsPerAttribute:2,values:ee})),A.normal&&(he.normal=new p.a({componentDatatype:c.a.FLOAT,componentsPerAttribute:3,values:Z})),A.tangent&&(he.tangent=new p.a({componentDatatype:c.a.FLOAT,componentsPerAttribute:3,values:K})),A.bitangent&&(he.bitangent=new p.a({componentDatatype:c.a.FLOAT,componentsPerAttribute:3,values:$}))}if(Object(u.a)(e._offsetAttribute)){var Ce=W.length,Se=new Uint8Array(Ce/3),je=e._offsetAttribute===g.a.NONE?0:1;Object(a.a)(Se,je),he.applyOffset=new p.a({componentDatatype:c.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:Se})}return new f.a({attributes:he,indices:J,primitiveType:b.a.TRIANGLES,boundingSphere:r.a.fromEllipsoid(ve),offsetAttribute:e._offsetAttribute})}}};var R;n.getUnitEllipsoid=function(){return Object(u.a)(R)||(R=n.createGeometry(new n({radii:new s.a(1,1,1),vertexFormat:y.a.POSITION_ONLY}))),R},t.a=n},KmX2:function(e,t,i){"use strict";t.a="/**\n * Transforms a position from eye to window coordinates.  The transformation\n * from eye to clip coordinates is done using {@link czm_projection}.\n * The transform from normalized device coordinates to window coordinates is\n * done using {@link czm_viewportTransformation}, which assumes a depth range\n * of <code>near = 0</code> and <code>far = 1</code>.\n * <br /><br />\n * This transform is useful when there is a need to manipulate window coordinates\n * in a vertex shader as done by {@link BillboardCollection}.\n *\n * @name czm_eyeToWindowCoordinates\n * @glslFunction\n *\n * @param {vec4} position The position in eye coordinates to transform.\n *\n * @returns {vec4} The transformed position in window coordinates.\n *\n * @see czm_modelToWindowCoordinates\n * @see czm_projection\n * @see czm_viewportTransformation\n * @see BillboardCollection\n *\n * @example\n * vec4 positionWC = czm_eyeToWindowCoordinates(positionEC);\n */\nvec4 czm_eyeToWindowCoordinates(vec4 positionEC)\n{\n    vec4 q = czm_projection * positionEC;                        // clip coordinates\n    q.xyz /= q.w;                                                // normalized device coordinates\n    q.xyz = (czm_viewportTransformation * vec4(q.xyz, 1.0)).xyz; // window coordinates\n    return q;\n}\n"},KnOE:function(e,t,i){"use strict";function n(e){var t=this,i=c.a.observable(s.a.fullscreen),n=c.a.observable(s.a.enabled);this.isFullscreen=void 0,c.a.defineProperty(this,"isFullscreen",{get:function(){return i()}}),this.isFullscreenEnabled=void 0,c.a.defineProperty(this,"isFullscreenEnabled",{get:function(){return n()},set:function(e){n(e&&s.a.enabled)}}),this.tooltip=void 0,c.a.defineProperty(this,"tooltip",function(){return this.isFullscreenEnabled?i()?"Exit full screen":"Full screen":"Full screen unavailable"}),this._command=Object(l.a)(function(){s.a.fullscreen?s.a.exitFullscreen():s.a.requestFullscreen(t._fullscreenElement)},c.a.getObservable(this,"isFullscreenEnabled")),this._fullscreenElement=Object(a.a)(Object(u.a)(e),document.body),this._callback=function(){i(s.a.fullscreen)},document.addEventListener(s.a.changeEventName,this._callback)}var a=i("5A4e"),r=i("6sr8"),o=i("PzDm"),s=i("fH8I"),c=i("PKIF"),l=i("E9RU"),u=i("k6tp");Object.defineProperties(n.prototype,{fullscreenElement:{get:function(){return this._fullscreenElement},set:function(e){if(!(e instanceof Element))throw new o.a("value must be a valid Element.");this._fullscreenElement=e}},command:{get:function(){return this._command}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){document.removeEventListener(s.a.changeEventName,this._callback),Object(r.a)(this)},t.a=n},KpjM:function(e,t,i){"use strict";function n(e,t,i,n){for(var a=65535&e|0,r=e>>>16&65535|0,o=0;0!==i;){o=i>2e3?2e3:i,i-=o;do{a=a+t[n++]|0,r=r+a|0}while(--o);a%=65521,r%=65521}return a|r<<16|0}e.exports=n},KwwP:function(e,t,i){"use strict";function n(e){this.entity=e,this.pointPrimitive=void 0,this.billboard=void 0,this.color=void 0,this.outlineColor=void 0,this.pixelSize=void 0,this.outlineWidth=void 0}function a(e,t){if(!Object(l.a)(e))throw new h.a("entityCluster is required.");if(!Object(l.a)(t))throw new h.a("entityCollection is required.");t.collectionChanged.addEventListener(a.prototype._onCollectionChanged,this),this._cluster=e,this._entityCollection=t,this._items=new o.a,this._onCollectionChanged(t,t.values,[],[])}function r(e,t,i){if(Object(l.a)(e)){var n=e.pointPrimitive;if(Object(l.a)(n))return e.pointPrimitive=void 0,void i.removePoint(t);var a=e.billboard;Object(l.a)(a)&&(e.billboard=void 0,i.removeBillboard(t))}}var o=i("7uRt"),s=i("Jj+J"),c=i("6F0S"),l=i("xC6Q"),u=i("6sr8"),h=i("PzDm"),d=i("2d28"),f=i("UkIP"),p=i("vY3F"),m=i("JIo7"),g=i("P+tD"),_=i("uhjI"),v=c.a.WHITE,b=c.a.BLACK,y=new c.a,O=new s.a,w=new c.a,x=new f.a,E=new f.a,T=new d.a;a.prototype.update=function(e){if(!Object(l.a)(e))throw new h.a("time is required.");for(var t=this._items.values,i=this._cluster,n=0,a=t.length;n<a;n++){var o,u=t[n],d=u.entity,f=d._point,g=u.pointPrimitive,A=u.billboard,C=_.a.getValueOrDefault(f._heightReference,e,m.a.NONE),S=d.isShowing&&d.isAvailable(e)&&_.a.getValueOrDefault(f._show,e,!0);if(S&&(o=_.a.getValueOrUndefined(d._position,e,O),S=Object(l.a)(o)),S){_.a.isConstant(d._position)||(i._clusterDirty=!0);var j=!1,P=!1;if(C===m.a.NONE||Object(l.a)(A)?C!==m.a.NONE||Object(l.a)(g)||(Object(l.a)(A)&&(r(u,d,i),A=void 0),g=i.getPoint(d),g.id=d,u.pointPrimitive=g):(Object(l.a)(g)&&(r(u,d,i),g=void 0),A=i.getBillboard(d),A.id=d,A.image=void 0,u.billboard=A,j=!0,P=s.a.equals(A.position,o)&&A.heightReference===C),Object(l.a)(g))g.show=!0,g.position=o,g.scaleByDistance=_.a.getValueOrUndefined(f._scaleByDistance,e,x),g.translucencyByDistance=_.a.getValueOrUndefined(f._translucencyByDistance,e,E),g.color=_.a.getValueOrDefault(f._color,e,v,y),g.outlineColor=_.a.getValueOrDefault(f._outlineColor,e,b,w),g.outlineWidth=_.a.getValueOrDefault(f._outlineWidth,e,0),g.pixelSize=_.a.getValueOrDefault(f._pixelSize,e,1),g.distanceDisplayCondition=_.a.getValueOrUndefined(f._distanceDisplayCondition,e,T),g.disableDepthTestDistance=_.a.getValueOrDefault(f._disableDepthTestDistance,e,0);else if(Object(l.a)(A)){A.show=!0,A.position=o,A.scaleByDistance=_.a.getValueOrUndefined(f._scaleByDistance,e,x),A.translucencyByDistance=_.a.getValueOrUndefined(f._translucencyByDistance,e,E),A.distanceDisplayCondition=_.a.getValueOrUndefined(f._distanceDisplayCondition,e,T),A.disableDepthTestDistance=_.a.getValueOrDefault(f._disableDepthTestDistance,e,0),A.heightReference=C;var D=_.a.getValueOrDefault(f._color,e,v,y),I=_.a.getValueOrDefault(f._outlineColor,e,b,w),R=Math.round(_.a.getValueOrDefault(f._outlineWidth,e,0)),M=Math.max(1,Math.round(_.a.getValueOrDefault(f._pixelSize,e,1)));if(R>0?(A.scale=1,j=j||R!==u.outlineWidth||M!==u.pixelSize||!c.a.equals(D,u.color)||!c.a.equals(I,u.outlineColor)):(A.scale=M/50,M=50,j=j||R!==u.outlineWidth||!c.a.equals(D,u.color)||!c.a.equals(I,u.outlineColor)),j){u.color=c.a.clone(D,u.color),u.outlineColor=c.a.clone(I,u.outlineColor),u.pixelSize=M,u.outlineWidth=R;var L=D.alpha,N=D.toCssColorString(),F=I.toCssColorString(),z=JSON.stringify([N,M,F,R]);A.setImage(z,Object(p.a)(L,N,F,R,M))}P&&A._updateClamping()}}else r(u,d,i)}return!0},a.prototype.getBoundingSphere=function(e,t){if(!Object(l.a)(e))throw new h.a("entity is required.");if(!Object(l.a)(t))throw new h.a("result is required.");var i=this._items.get(e.id);if(!Object(l.a)(i)||!Object(l.a)(i.pointPrimitive)&&!Object(l.a)(i.billboard))return g.a.FAILED;if(Object(l.a)(i.pointPrimitive))t.center=s.a.clone(i.pointPrimitive.position,t.center);else{var n=i.billboard;if(!Object(l.a)(n._clampedPosition))return g.a.PENDING;t.center=s.a.clone(n._clampedPosition,t.center)}return t.radius=0,g.a.DONE},a.prototype.isDestroyed=function(){return!1},a.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(a.prototype._onCollectionChanged,this);for(var e=this._entityCollection.values,t=0;t<e.length;t++)this._cluster.removePoint(e[t]);return Object(u.a)(this)},a.prototype._onCollectionChanged=function(e,t,i,a){var o,s,c=this._items,u=this._cluster;for(o=t.length-1;o>-1;o--)s=t[o],Object(l.a)(s._point)&&Object(l.a)(s._position)&&c.set(s.id,new n(s));for(o=a.length-1;o>-1;o--)s=a[o],Object(l.a)(s._point)&&Object(l.a)(s._position)?c.contains(s.id)||c.set(s.id,new n(s)):(r(c.get(s.id),s,u),c.remove(s.id));for(o=i.length-1;o>-1;o--)s=i[o],r(c.get(s.id),s,u),c.remove(s.id)},t.a=a},KzcB:function(e,t,i){"use strict";t.a="attribute vec4 position;\nattribute vec3 cubeMapCoordinates;\n\nvarying vec3 v_cubeMapCoordinates;\n\nvoid main()\n{\n    gl_Position = position;\n    v_cubeMapCoordinates = cubeMapCoordinates;\n}\n"},L47L:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._positions=void 0,this._positionsSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._cornerType=void 0,this._cornerTypeSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("6ktF"),l=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l.a)("show"),positions:Object(l.a)("positions"),width:Object(l.a)("width"),height:Object(l.a)("height"),heightReference:Object(l.a)("heightReference"),extrudedHeight:Object(l.a)("extrudedHeight"),extrudedHeightReference:Object(l.a)("extrudedHeightReference"),cornerType:Object(l.a)("cornerType"),granularity:Object(l.a)("granularity"),fill:Object(l.a)("fill"),material:Object(c.a)("material"),outline:Object(l.a)("outline"),outlineColor:Object(l.a)("outlineColor"),outlineWidth:Object(l.a)("outlineWidth"),shadows:Object(l.a)("shadows"),distanceDisplayCondition:Object(l.a)("distanceDisplayCondition"),classificationType:Object(l.a)("classificationType"),zIndex:Object(l.a)("zIndex")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.positions=this.positions,e.width=this.width,e.height=this.height,e.heightReference=this.heightReference,e.extrudedHeight=this.extrudedHeight,e.extrudedHeightReference=this.extrudedHeightReference,e.cornerType=this.cornerType,e.granularity=this.granularity,e.fill=this.fill,e.material=this.material,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e.classificationType=this.classificationType,e.zIndex=this.zIndex,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.positions=Object(a.a)(this.positions,e.positions),this.width=Object(a.a)(this.width,e.width),this.height=Object(a.a)(this.height,e.height),this.heightReference=Object(a.a)(this.heightReference,e.heightReference),this.extrudedHeight=Object(a.a)(this.extrudedHeight,e.extrudedHeight),this.extrudedHeightReference=Object(a.a)(this.extrudedHeightReference,e.extrudedHeightReference),this.cornerType=Object(a.a)(this.cornerType,e.cornerType),this.granularity=Object(a.a)(this.granularity,e.granularity),this.fill=Object(a.a)(this.fill,e.fill),this.material=Object(a.a)(this.material,e.material),this.outline=Object(a.a)(this.outline,e.outline),this.outlineColor=Object(a.a)(this.outlineColor,e.outlineColor),this.outlineWidth=Object(a.a)(this.outlineWidth,e.outlineWidth),this.shadows=Object(a.a)(this.shadows,e.shadows),this.distanceDisplayCondition=Object(a.a)(this.distanceDisplayCondition,e.distanceDisplayCondition),this.classificationType=Object(a.a)(this.classificationType,e.classificationType),this.zIndex=Object(a.a)(this.zIndex,e.zIndex)},t.a=n},L4GL:function(e,t,i){"use strict";var n=i("1L1F"),a={CLAMP_TO_EDGE:n.a.CLAMP_TO_EDGE,REPEAT:n.a.REPEAT,MIRRORED_REPEAT:n.a.MIRRORED_REPEAT,validate:function(e){return e===a.CLAMP_TO_EDGE||e===a.REPEAT||e===a.MIRRORED_REPEAT}};t.a=Object.freeze(a)},"L7/G":function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT),this._tilingScheme=e.tilingScheme,Object(o.a)(this._tilingScheme)||(this._tilingScheme=new l.a({ellipsoid:Object(r.a)(e.ellipsoid,s.a.WGS84)})),this._levelZeroMaximumGeometricError=h.a.getEstimatedLevelZeroGeometricErrorForAHeightmap(this._tilingScheme.ellipsoid,64,this._tilingScheme.getNumberOfXTilesAtLevel(0)),this._errorEvent=new c.a,this._readyPromise=a.a.resolve(!0)}var a=i("S7OP"),r=i("5A4e"),o=i("xC6Q"),s=i("y6fO"),c=i("W6xh"),l=i("4MnW"),u=i("l3S0"),h=i("9xui");Object.defineProperties(n.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return!0}},readyPromise:{get:function(){return this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}}}),n.prototype.requestTileGeometry=function(e,t,i,n){return a.a.resolve(new u.a({buffer:new Uint8Array(256),width:16,height:16}))},n.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},n.prototype.getTileDataAvailable=function(e,t,i){},n.prototype.loadTileDataAvailability=function(e,t,i){},t.a=n},L75e:function(e,t,i){"use strict";function n(e){return a.a.typeOf.string("uri",e),r.test(e)}var a=i("5F4X"),r=/^data:/i;t.a=n},L8Sq:function(e,t,i){"use strict";t.a="/**\n * The maximum latitude, in radians, both North and South, supported by a Web Mercator\n * (EPSG:3857) projection.  Technically, the Mercator projection is defined\n * for any latitude up to (but not including) 90 degrees, but it makes sense\n * to cut it off sooner because it grows exponentially with increasing latitude.\n * The logic behind this particular cutoff value, which is the one used by\n * Google Maps, Bing Maps, and Esri, is that it makes the projection\n * square.  That is, the rectangle is equal in the X and Y directions.\n *\n * The constant value is computed as follows:\n *   czm_pi * 0.5 - (2.0 * atan(exp(-czm_pi)))\n *\n * @name czm_webMercatorMaxLatitude\n * @glslConstant\n */\nconst float czm_webMercatorMaxLatitude = 1.4844222297453324;\n"},LC74:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},"LF+s":function(e,t,i){"use strict";i("5A4e"),i("xC6Q"),i("PzDm"),i("W6xh"),i("PPvX"),i("gqYB"),i("c8Ld"),i("LuH3"),i("k6tp")},LIga:function(e,t,i){"use strict";function n(e){this._collection=e,this._framebuffers=[],this._stageNameToFramebuffer={},this._width=void 0,this._height=void 0,this._updateDependencies=!1}function a(e){for(;Object(f.a)(e.length);)e=e.get(e.length-1);return e.name}function r(e,t,i,n,r){if(!n.enabled||!n._isSupported(t))return r;var o=i[n.name]={};if(Object(f.a)(r)){o[a(e.getStageByName(r))]=!0}var s=n.uniforms;if(Object(f.a)(s))for(var c=Object.getOwnPropertyNames(s),l=c.length,u=0;u<l;++u){var h=s[c[u]];if("string"==typeof h){var d=e.getStageByName(h);Object(f.a)(d)&&(o[a(d)]=!0)}}return n.name}function o(e,t,i,n,s){if(Object(f.a)(n.enabled)&&!n.enabled||Object(f.a)(n._isSupported)&&!n._isSupported(t))return s;for(var c=s,l=!Object(f.a)(n.inputPreviousStageTexture)||n.inputPreviousStageTexture,u=s,h=n.length,d=0;d<h;++d){var p=n.get(d);u=Object(f.a)(p.length)?o(e,t,i,p,s):r(e,t,i,p,s),l&&(s=u)}var m,g;if(l)for(m=1;m<h;++m)g=a(n.get(m)),Object(f.a)(i[g])||(i[g]={}),i[g][c]=!0;else for(m=1;m<h;++m){g=a(n.get(m));for(var _=i[g],v=0;v<m;++v)_[a(n.get(v))]=!0}return u}function s(e,t){var i={};if(Object(f.a)(e.ambientOcclusion)){var n=e.ambientOcclusion,a=e.bloom,s=e._tonemapping,c=e.fxaa,l=o(e,t,i,n,void 0);l=o(e,t,i,a,l),l=r(e,t,i,s,l),l=o(e,t,i,e,l),r(e,t,i,c,l)}else o(e,t,i,e,void 0);return i}function c(e,t,i){var n,a,r=e._collection,o=r.getStageByName(t),s=o._textureScale,c=o._forcePowerOfTwo,l=o._pixelFormat,u=o._pixelDatatype,h=o._clearColor,p=e._framebuffers,m=p.length;for(n=0;n<m;++n)if(a=p[n],s===a.textureScale&&c===a.forcePowerOfTwo&&l===a.pixelFormat&&u===a.pixelDatatype&&d.a.equals(h,a.clearColor)){for(var g=a.stages,_=g.length,v=!1,b=0;b<_;++b)if(i[g[b]]){v=!0;break}if(!v)break}return Object(f.a)(a)&&n<m?(a.stages.push(t),a):(a={textureScale:s,forcePowerOfTwo:c,pixelFormat:l,pixelDatatype:u,clearColor:h,stages:[t],buffer:void 0,clear:void 0},p.push(a),a)}function l(e,t){var i=s(e._collection,t);for(var n in i)i.hasOwnProperty(n)&&(e._stageNameToFramebuffer[n]=c(e,n,i[n]))}function u(e){for(var t=e._framebuffers,i=t.length,n=0;n<i;++n){var a=t[n];a.buffer=a.buffer&&a.buffer.destroy(),a.buffer=void 0}}function h(e,t){for(var i=e._width,n=e._height,a=e._framebuffers,r=a.length,o=0;o<r;++o){var s=a[o],c=s.textureScale,l=Math.ceil(i*c),u=Math.ceil(n*c),h=Math.min(l,u);s.forcePowerOfTwo&&(m.a.isPowerOfTwo(h)||(h=m.a.nextPowerOfTwo(h)),l=h,u=h),s.buffer=new _.a({context:t,colorTextures:[new v.a({context:t,width:l,height:u,pixelFormat:s.pixelFormat,pixelDatatype:s.pixelDatatype})]}),s.clear=new g.a({color:s.clearColor,framebuffer:s.buffer})}}var d=i("6F0S"),f=i("xC6Q"),p=i("6sr8"),m=i("fq+p"),g=i("/DUn"),_=i("YyWD"),v=i("25X5");n.prototype.updateDependencies=function(){this._updateDependencies=!0},n.prototype.update=function(e){var t=this._collection,i=this._updateDependencies,n=Object(f.a)(t.ambientOcclusion)&&t.ambientOcclusion.enabled&&t.ambientOcclusion._isSupported(e),a=Object(f.a)(t.bloom)&&t.bloom.enabled&&t.bloom._isSupported(e),r=Object(f.a)(t._tonemapping)&&t._tonemapping.enabled&&t._tonemapping._isSupported(e),o=Object(f.a)(t.fxaa)&&t.fxaa.enabled&&t.fxaa._isSupported(e),s=!Object(f.a)(t._activeStages)||t._activeStages.length>0||n||a||r||o;if((i||!s&&this._framebuffers.length>0)&&(u(this),this._framebuffers.length=0,this._stageNameToFramebuffer={},this._width=void 0,this._height=void 0),i||s){0===this._framebuffers.length&&l(this,e);var c=e.drawingBufferWidth,d=e.drawingBufferHeight,p=this._width!==c||this._height!==d;(i||p)&&(this._width=c,this._height=d,this._updateDependencies=!1,u(this),h(this,e))}},n.prototype.clear=function(e){for(var t=this._framebuffers,i=0;i<t.length;++i)t[i].clear.execute(e)},n.prototype.getStageByName=function(e){return this._collection.getStageByName(e)},n.prototype.getOutputTexture=function(e){return this._collection.getOutputTexture(e)},n.prototype.getFramebuffer=function(e){var t=this._stageNameToFramebuffer[e];if(Object(f.a)(t))return t.buffer},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return u(this),Object(p.a)(this)},t.a=n},LS2q:function(e,t,i){"use strict";function n(e){if(!Object(H.a)(e))throw new q.a("options is required.");if(!Z.a.isPromise(e)&&!Object(H.a)(e.url))throw new q.a("options is required.");this._errorEvent=new W.a,this._resource=void 0,this._urlSchemeZeroPadding=void 0,this._pickFeaturesResource=void 0,this._tileWidth=void 0,this._tileHeight=void 0,this._maximumLevel=void 0,this._minimumLevel=void 0,this._tilingScheme=void 0,this._rectangle=void 0,this._tileDiscardPolicy=void 0,this._credit=void 0,this._hasAlphaChannel=void 0,this._readyPromise=void 0,this._tags=void 0,this._pickFeaturesTags=void 0,this.enablePickFeatures=!0,this.reinitialize(e)}function a(e,t,i,n,a){ie=!1,ae=!1;var r=e._resource,o=r.getUrlComponent(!0),s=e._tags,c={},l=o.match($);return Object(H.a)(l)&&l.forEach(function(a){var r=a.substring(1,a.length-1);Object(H.a)(s[r])&&(c[r]=s[r](e,t,i,n))}),r.getDerivedResource({request:a,templateValues:c})}function r(e,t,i,n,a,r,o){ie=!1,ae=!1,oe=!1,ce=!1;var s=e._pickFeaturesResource,c=s.getUrlComponent(!0),l=e._pickFeaturesTags,u={},h=c.match($);return Object(H.a)(h)&&h.forEach(function(s){var c=s.substring(1,s.length-1);Object(H.a)(l[c])&&(u[c]=l[c](e,t,i,n,a,r,o))}),s.getDerivedResource({templateValues:u})}function o(e,t,i){if(e&&e.urlSchemeZeroPadding&&e.urlSchemeZeroPadding.hasOwnProperty(t)){var n=e.urlSchemeZeroPadding[t];if("string"==typeof n){var a=n.length;a>1&&(i=i.length>=a?i:new Array(a-i.toString().length+1).join("0")+i)}}return i}function s(e,t,i,n){return o(e,"{x}",t)}function c(e,t,i,n){return o(e,"{reverseX}",e.tilingScheme.getNumberOfXTilesAtLevel(n)-t-1)}function l(e,t,i,n){return o(e,"{y}",i)}function u(e,t,i,n){return o(e,"{reverseY}",e.tilingScheme.getNumberOfYTilesAtLevel(n)-i-1)}function h(e,t,i,n){var a=e.maximumLevel;return o(e,"{reverseZ}",Object(H.a)(a)&&n<a?a-n-1:n)}function d(e,t,i,n){return o(e,"{z}",n)}function f(e,t,i,n){var a=(t+i+n)%e._subdomains.length;return e._subdomains[a]}function p(e,t,i,n){ie||(e.tilingScheme.tileXYToRectangle(t,i,n,ne),ne.west=Y.a.toDegrees(ne.west),ne.south=Y.a.toDegrees(ne.south),ne.east=Y.a.toDegrees(ne.east),ne.north=Y.a.toDegrees(ne.north),ie=!0)}function m(e,t,i,n){return p(e,t,i,n),ne.west}function g(e,t,i,n){return p(e,t,i,n),ne.south}function _(e,t,i,n){return p(e,t,i,n),ne.east}function v(e,t,i,n){return p(e,t,i,n),ne.north}function b(e,t,i,n){ae||(e.tilingScheme.tileXYToNativeRectangle(t,i,n,re),ae=!0)}function y(e,t,i,n){return b(e,t,i,n),re.west}function O(e,t,i,n){return b(e,t,i,n),re.south}function w(e,t,i,n){return b(e,t,i,n),re.east}function x(e,t,i,n){return b(e,t,i,n),re.north}function E(e,t,i,n){return e.tileWidth}function T(e,t,i,n){return e.tileHeight}function A(e,t,i,n,a,r,o){return P(e,t,i,n,a,r),se.x}function C(e,t,i,n,a,r,o){return P(e,t,i,n,a,r),se.y}function S(e,t,i,n,a,r,o){return P(e,t,i,n,a,r),e.tileWidth-se.x-1}function j(e,t,i,n,a,r,o){return P(e,t,i,n,a,r),e.tileHeight-se.y-1}function P(e,t,i,n,a,r,o){if(!oe){L(e,t,i,n,a,r);var s=ue,c=e.tilingScheme.tileXYToNativeRectangle(t,i,n,le);se.x=e.tileWidth*(s.x-c.west)/c.width|0,se.y=e.tileHeight*(c.north-s.y)/c.height|0,oe=!0}}function D(e,t,i,n,a,r,o){return Y.a.toDegrees(a)}function I(e,t,i,n,a,r,o){return Y.a.toDegrees(r)}function R(e,t,i,n,a,r,o){return L(e,t,i,n,a,r),ue.x}function M(e,t,i,n,a,r,o){return L(e,t,i,n,a,r),ue.y}function L(e,t,i,n,a,r,o){if(!ce){if(e.tilingScheme.projection instanceof G.a)ue.x=Y.a.toDegrees(a),ue.y=Y.a.toDegrees(r);else{var s=he;s.longitude=a,s.latitude=r,e.tilingScheme.projection.project(s,ue)}ce=!0}}function N(e,t,i,n,a,r,o){return o}var F=i("Ss9j"),z=i("Jj+J"),B=i("I3GD"),k=i("ZboF"),U=i("ODTd"),V=i("5A4e"),H=i("xC6Q"),q=i("PzDm"),W=i("W6xh"),G=i("eUIW"),Y=i("fq+p"),X=i("Wq1U"),Q=i("rMjQ"),J=i("Y4y7"),Z=i("S7OP"),K=i("1eBa"),$=/{[^}]+}/g,ee={x:s,y:l,z:d,s:f,reverseX:c,reverseY:u,reverseZ:h,westDegrees:m,southDegrees:g,eastDegrees:_,northDegrees:v,westProjected:y,southProjected:O,eastProjected:w,northProjected:x,width:E,height:T},te=Object(k.a)(ee,{i:A,j:C,reverseI:S,reverseJ:j,longitudeDegrees:D,latitudeDegrees:I,longitudeProjected:R,latitudeProjected:M,format:N});Object.defineProperties(n.prototype,{url:{get:function(){return this._resource.url}},urlSchemeZeroPadding:{get:function(){return this._urlSchemeZeroPadding}},pickFeaturesUrl:{get:function(){return this._pickFeaturesResource.url}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){if(!this.ready)throw new q.a("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this.ready)throw new q.a("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this.ready)throw new q.a("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},minimumLevel:{get:function(){if(!this.ready)throw new q.a("minimumLevel must not be called before the imagery provider is ready.");return this._minimumLevel}},tilingScheme:{get:function(){if(!this.ready)throw new q.a("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},rectangle:{get:function(){if(!this.ready)throw new q.a("rectangle must not be called before the imagery provider is ready.");return this._rectangle}},tileDiscardPolicy:{get:function(){if(!this.ready)throw new q.a("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return Object(H.a)(this._resource)}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){if(!this.ready)throw new q.a("credit must not be called before the imagery provider is ready.");return this._credit}},hasAlphaChannel:{get:function(){if(!this.ready)throw new q.a("hasAlphaChannel must not be called before the imagery provider is ready.");return this._hasAlphaChannel}}}),n.prototype.reinitialize=function(e){var t=this;t._readyPromise=Object(Z.a)(e).then(function(e){if(!Object(H.a)(e))throw new q.a("options is required.");if(!Object(H.a)(e.url))throw new q.a("options.url is required.");var i=e.customTags,n=Object(k.a)(ee,i),a=Object(k.a)(te,i),r=Q.a.createIfNeeded(e.url),o=Q.a.createIfNeeded(e.pickFeaturesUrl);t.enablePickFeatures=Object(V.a)(e.enablePickFeatures,t.enablePickFeatures),t._urlSchemeZeroPadding=Object(V.a)(e.urlSchemeZeroPadding,t.urlSchemeZeroPadding),t._tileDiscardPolicy=e.tileDiscardPolicy,t._getFeatureInfoFormats=e.getFeatureInfoFormats,t._subdomains=e.subdomains,Array.isArray(t._subdomains)?t._subdomains=t._subdomains.slice():Object(H.a)(t._subdomains)&&t._subdomains.length>0?t._subdomains=t._subdomains.split(""):t._subdomains=["a","b","c"],t._tileWidth=Object(V.a)(e.tileWidth,256),t._tileHeight=Object(V.a)(e.tileHeight,256),t._minimumLevel=Object(V.a)(e.minimumLevel,0),t._maximumLevel=e.maximumLevel,t._tilingScheme=Object(V.a)(e.tilingScheme,new J.a({ellipsoid:e.ellipsoid})),t._rectangle=Object(V.a)(e.rectangle,t._tilingScheme.rectangle),t._rectangle=X.a.intersection(t._rectangle,t._tilingScheme.rectangle),t._hasAlphaChannel=Object(V.a)(e.hasAlphaChannel,!0);var s=e.credit;return"string"==typeof s&&(s=new U.a(s)),t._credit=s,t._resource=r,t._tags=n,t._pickFeaturesResource=o,t._pickFeaturesTags=a,!0})},n.prototype.getTileCredits=function(e,t,i){if(!this.ready)throw new q.a("getTileCredits must not be called before the imagery provider is ready.")},n.prototype.requestImage=function(e,t,i,n){if(!this.ready)throw new q.a("requestImage must not be called before the imagery provider is ready.");return K.a.loadImage(this,a(this,e,t,i,n))},n.prototype.pickFeatures=function(e,t,i,n,a){function o(e,t){return e.callback(t)}function s(){if(c>=l._getFeatureInfoFormats.length)return Object(Z.a)([]);var u=l._getFeatureInfoFormats[c],h=r(l,e,t,i,n,a,u.format);return++c,"json"===u.type?h.fetchJson().then(u.callback).otherwise(s):"xml"===u.type?h.fetchXML().then(u.callback).otherwise(s):"text"===u.type||"html"===u.type?h.fetchText().then(u.callback).otherwise(s):h.fetch({responseType:u.format}).then(o.bind(void 0,u)).otherwise(s)}if(!this.ready)throw new q.a("pickFeatures must not be called before the imagery provider is ready.");if(this.enablePickFeatures&&Object(H.a)(this._pickFeaturesResource)&&0!==this._getFeatureInfoFormats.length){var c=0,l=this;return s()}};var ie=!1,ne=new X.a,ae=!1,re=new X.a,oe=!1,se=new F.a,ce=!1,le=new X.a,ue=new z.a,he=new B.a;t.a=n},LZ9m:function(e,t,i){"use strict";function n(e){e=Object(u.a)(e,u.a.EMPTY_OBJECT);var t=e.length,i=e.topRadius,n=e.bottomRadius,a=Object(u.a)(e.vertexFormat,y.a.DEFAULT),r=Object(u.a)(e.slices,128);if(!Object(h.a)(t))throw new d.a("options.length must be defined.");if(!Object(h.a)(i))throw new d.a("options.topRadius must be defined.");if(!Object(h.a)(n))throw new d.a("options.bottomRadius must be defined.");if(r<3)throw new d.a("options.slices must be greater than or equal to 3.");if(Object(h.a)(e.offsetAttribute)&&e.offsetAttribute===g.a.TOP)throw new d.a("GeometryOffsetAttribute.TOP is not a supported options.offsetAttribute for this geometry.");this._length=t,this._topRadius=i,this._bottomRadius=n,this._vertexFormat=y.a.clone(a),this._slices=r,this._offsetAttribute=e.offsetAttribute,this._workerName="createCylinderGeometry"}var a=i("Sfsp"),r=i("lBr9"),o=i("Ss9j"),s=i("Jj+J"),c=i("YCZg"),l=i("HYkQ"),u=i("5A4e"),h=i("xC6Q"),d=i("PzDm"),f=i("RGAo"),p=i("RYD3"),m=i("GaJK"),g=i("2g+t"),_=i("oMsT"),v=i("fq+p"),b=i("nHNe"),y=i("xvTE"),O=new o.a,w=new s.a,x=new s.a,E=new s.a,T=new s.a;n.packedLength=y.a.packedLength+5,n.pack=function(e,t,i){if(!Object(h.a)(e))throw new d.a("value is required");if(!Object(h.a)(t))throw new d.a("array is required");return i=Object(u.a)(i,0),y.a.pack(e._vertexFormat,t,i),i+=y.a.packedLength,t[i++]=e._length,t[i++]=e._topRadius,t[i++]=e._bottomRadius,t[i++]=e._slices,t[i]=Object(u.a)(e._offsetAttribute,-1),t};var A=new y.a,C={vertexFormat:A,length:void 0,topRadius:void 0,bottomRadius:void 0,slices:void 0,offsetAttribute:void 0};n.unpack=function(e,t,i){if(!Object(h.a)(e))throw new d.a("array is required");t=Object(u.a)(t,0);var a=y.a.unpack(e,t,A);t+=y.a.packedLength;var r=e[t++],o=e[t++],s=e[t++],c=e[t++],l=e[t];return Object(h.a)(i)?(i._vertexFormat=y.a.clone(a,i._vertexFormat),i._length=r,i._topRadius=o,i._bottomRadius=s,i._slices=c,i._offsetAttribute=-1===l?void 0:l,i):(C.length=r,C.topRadius=o,C.bottomRadius=s,C.slices=c,C.offsetAttribute=-1===l?void 0:l,new n(C))},n.createGeometry=function(e){var t=e._length,i=e._topRadius,n=e._bottomRadius,u=e._vertexFormat,d=e._slices;if(!(t<=0||i<0||n<0||0===i&&0===n)){var y,A=d+d,C=d+A,S=A+A,j=l.a.computePositions(t,i,n,d,!0),P=u.st?new Float32Array(2*S):void 0,D=u.normal?new Float32Array(3*S):void 0,I=u.tangent?new Float32Array(3*S):void 0,R=u.bitangent?new Float32Array(3*S):void 0,M=u.normal||u.tangent||u.bitangent;if(M){var L=u.tangent||u.bitangent,N=0,F=0,z=0,B=Math.atan2(n-i,t),k=w;k.z=Math.sin(B);var U=Math.cos(B),V=E,H=x;for(y=0;y<d;y++){var q=y/d*v.a.TWO_PI,W=U*Math.cos(q),G=U*Math.sin(q);M&&(k.x=W,k.y=G,L&&(V=s.a.normalize(s.a.cross(s.a.UNIT_Z,k,V),V)),u.normal&&(D[N++]=k.x,D[N++]=k.y,D[N++]=k.z,D[N++]=k.x,D[N++]=k.y,D[N++]=k.z),u.tangent&&(I[F++]=V.x,I[F++]=V.y,I[F++]=V.z,I[F++]=V.x,I[F++]=V.y,I[F++]=V.z),u.bitangent&&(H=s.a.normalize(s.a.cross(k,V,H),H),R[z++]=H.x,R[z++]=H.y,R[z++]=H.z,R[z++]=H.x,R[z++]=H.y,R[z++]=H.z))}for(y=0;y<d;y++)u.normal&&(D[N++]=0,D[N++]=0,D[N++]=-1),u.tangent&&(I[F++]=1,I[F++]=0,I[F++]=0),u.bitangent&&(R[z++]=0,R[z++]=-1,R[z++]=0);for(y=0;y<d;y++)u.normal&&(D[N++]=0,D[N++]=0,D[N++]=1),u.tangent&&(I[F++]=1,I[F++]=0,I[F++]=0),u.bitangent&&(R[z++]=0,R[z++]=1,R[z++]=0)}var Y=12*d-12,X=_.a.createTypedArray(S,Y),Q=0,J=0;for(y=0;y<d-1;y++)X[Q++]=J,X[Q++]=J+2,X[Q++]=J+3,X[Q++]=J,X[Q++]=J+3,X[Q++]=J+1,J+=2;for(X[Q++]=A-2,X[Q++]=0,X[Q++]=1,X[Q++]=A-2,X[Q++]=1,X[Q++]=A-1,y=1;y<d-1;y++)X[Q++]=A+y+1,X[Q++]=A+y,X[Q++]=A;for(y=1;y<d-1;y++)X[Q++]=C,X[Q++]=C+y,X[Q++]=C+y+1;var Z=0;if(u.st){var K=Math.max(i,n);for(y=0;y<S;y++){var $=s.a.fromArray(j,3*y,T);P[Z++]=($.x+K)/(2*K),P[Z++]=($.y+K)/(2*K)}}var ee=new m.a;u.position&&(ee.position=new p.a({componentDatatype:c.a.DOUBLE,componentsPerAttribute:3,values:j})),u.normal&&(ee.normal=new p.a({componentDatatype:c.a.FLOAT,componentsPerAttribute:3,values:D})),u.tangent&&(ee.tangent=new p.a({componentDatatype:c.a.FLOAT,componentsPerAttribute:3,values:I})),u.bitangent&&(ee.bitangent=new p.a({componentDatatype:c.a.FLOAT,componentsPerAttribute:3,values:R})),u.st&&(ee.st=new p.a({componentDatatype:c.a.FLOAT,componentsPerAttribute:2,values:P})),O.x=.5*t,O.y=Math.max(n,i);var te=new r.a(s.a.ZERO,o.a.magnitude(O));if(Object(h.a)(e._offsetAttribute)){t=j.length;var ie=new Uint8Array(t/3),ne=e._offsetAttribute===g.a.NONE?0:1;Object(a.a)(ie,ne),ee.applyOffset=new p.a({componentDatatype:c.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:ie})}return new f.a({attributes:ee,indices:X,primitiveType:b.a.TRIANGLES,boundingSphere:te,offsetAttribute:e._offsetAttribute})}};var S;n.getUnitCylinder=function(){return Object(h.a)(S)||(S=n.createGeometry(new n({topRadius:1,bottomRadius:1,length:1,vertexFormat:y.a.POSITION_ONLY}))),S},t.a=n},LeJA:function(e,t,i){"use strict";function n(e,t,i,n){var a=e*e,o=t-3*a/8,l=i-t*e/2+a*e/8,u=n-i*e/4+t*a/16-3*a*a/256,h=r.a.computeRealRoots(1,2*o,o*o-4*u,-l*l);if(h.length>0){var d=-e/4,f=h[h.length-1];if(Math.abs(f)<s.a.EPSILON14){var p=c.a.computeRealRoots(1,o,u);if(2===p.length){var m,g=p[0],_=p[1];if(g>=0&&_>=0){var v=Math.sqrt(g),b=Math.sqrt(_);return[d-b,d-v,d+v,d+b]}if(g>=0&&_<0)return m=Math.sqrt(g),[d-m,d+m];if(g<0&&_>=0)return m=Math.sqrt(_),[d-m,d+m]}return[]}if(f>0){var y=Math.sqrt(f),O=(o+f-l/y)/2,w=(o+f+l/y)/2,x=c.a.computeRealRoots(1,y,O),E=c.a.computeRealRoots(1,-y,w);return 0!==x.length?(x[0]+=d,x[1]+=d,0!==E.length?(E[0]+=d,E[1]+=d,x[1]<=E[0]?[x[0],x[1],E[0],E[1]]:E[1]<=x[0]?[E[0],E[1],x[0],x[1]]:x[0]>=E[0]&&x[1]<=E[1]?[E[0],x[0],x[1],E[1]]:E[0]>=x[0]&&E[1]<=x[1]?[x[0],E[0],E[1],x[1]]:x[0]>E[0]&&x[0]<E[1]?[E[0],x[0],E[1],x[1]]:[x[0],E[0],x[1],E[1]]):x):0!==E.length?(E[0]+=d,E[1]+=d,E):[]}}return[]}function a(e,t,i,n){var a=i*i,o=t*t,l=e*e,u=-2*t,h=i*e+o-4*n,d=l*n-i*t*e+a,f=r.a.computeRealRoots(1,u,h,d);if(f.length>0){var p,m,g=f[0],_=t-g,v=_*_,b=e/2,y=_/2,O=v-4*n,w=v+4*Math.abs(n),x=l-4*g,E=l+4*Math.abs(g);if(g<0||O*E<x*w){var T=Math.sqrt(x);p=T/2,m=0===T?0:(e*y-i)/T}else{var A=Math.sqrt(O);p=0===A?0:(e*y-i)/A,m=A/2}var C,S;0===b&&0===p?(C=0,S=0):s.a.sign(b)===s.a.sign(p)?(C=b+p,S=g/C):(S=b-p,C=g/S);var j,P;0===y&&0===m?(j=0,P=0):s.a.sign(y)===s.a.sign(m)?(j=y+m,P=n/j):(P=y-m,j=n/P);var D=c.a.computeRealRoots(1,C,j),I=c.a.computeRealRoots(1,S,P);if(0!==D.length)return 0!==I.length?D[1]<=I[0]?[D[0],D[1],I[0],I[1]]:I[1]<=D[0]?[I[0],I[1],D[0],D[1]]:D[0]>=I[0]&&D[1]<=I[1]?[I[0],D[0],D[1],I[1]]:I[0]>=D[0]&&I[1]<=D[1]?[D[0],I[0],I[1],D[1]]:D[0]>I[0]&&D[0]<I[1]?[I[0],D[0],I[1],D[1]]:[D[0],I[0],D[1],I[1]]:D;if(0!==I.length)return I}return[]}var r=i("7PaD"),o=i("PzDm"),s=i("fq+p"),c=i("VBo5"),l={};l.computeDiscriminant=function(e,t,i,n,a){if("number"!=typeof e)throw new o.a("a is a required number.");if("number"!=typeof t)throw new o.a("b is a required number.");if("number"!=typeof i)throw new o.a("c is a required number.");if("number"!=typeof n)throw new o.a("d is a required number.");if("number"!=typeof a)throw new o.a("e is a required number.");var r=e*e,s=r*e,c=t*t,l=c*t,u=i*i,h=u*i,d=n*n,f=d*n,p=a*a;return c*u*d-4*l*f-4*e*h*d+18*e*t*i*f-27*r*d*d+256*s*(p*a)+a*(18*l*i*n-4*c*h+16*e*u*u-80*e*t*u*n-6*e*c*d+144*r*i*d)+p*(144*e*c*i-27*c*c-128*r*u-192*r*t*n)},l.computeRealRoots=function(e,t,i,c,l){if("number"!=typeof e)throw new o.a("a is a required number.");if("number"!=typeof t)throw new o.a("b is a required number.");if("number"!=typeof i)throw new o.a("c is a required number.");if("number"!=typeof c)throw new o.a("d is a required number.");if("number"!=typeof l)throw new o.a("e is a required number.");if(Math.abs(e)<s.a.EPSILON15)return r.a.computeRealRoots(t,i,c,l);var u=t/e,h=i/e,d=c/e,f=l/e,p=u<0?1:0;switch(p+=h<0?p+1:p,p+=d<0?p+1:p,p+=f<0?p+1:p){case 0:return n(u,h,d,f);case 1:case 2:return a(u,h,d,f);case 3:case 4:return n(u,h,d,f);case 5:return a(u,h,d,f);case 6:case 7:return n(u,h,d,f);case 8:return a(u,h,d,f);case 9:case 10:return n(u,h,d,f);case 11:return a(u,h,d,f);case 12:case 13:case 14:case 15:return n(u,h,d,f);default:return}},t.a=l},LuH3:function(e,t,i){"use strict";function n(e){this._dataSource=e,this._deferred=dt.a.defer(),this._stack=[],this._promises=[],this._timeoutSet=!1,this._used=!1,this._started=0,this._timeThreshold=1e3}function a(e){var t=e.slice(0,Math.min(4,e.size)),i=dt.a.defer(),n=new FileReader;return n.addEventListener("load",function(){i.resolve(1347093252===new DataView(n.result).getUint32(0,!1))}),n.addEventListener("error",function(){i.reject(n.error)}),n.readAsArrayBuffer(t),i.promise}function r(e){var t=dt.a.defer(),i=new FileReader;return i.addEventListener("load",function(){t.resolve(i.result)}),i.addEventListener("error",function(){t.reject(i.error)}),i.readAsText(e),t.promise}function o(e){var t,i,n,a,r={xsi:"http://www.w3.org/2001/XMLSchema-instance"};for(var o in r)r.hasOwnProperty(o)&&(n=RegExp("[< ]"+o+":"),a="xmlns:"+o+"=",n.test(e)&&-1===e.indexOf(a)&&(Object(Fe.a)(t)||(t=e.substr(0,e.indexOf("<kml")+4),i=e.substr(t.length)),t+=" "+a+'"'+r[o]+'"'));return Object(Fe.a)(t)&&(e=t+i),e}function s(e){for(var t,i,n,a=e.indexOf("xmlns:"),r=e.indexOf(">",a);-1!==a&&a<r;)t=e.slice(a,e.indexOf('"',a)),i=a,a=e.indexOf(t,a+1),-1!==a?(n=e.indexOf('"',e.indexOf('"',a)+1),e=e.slice(0,a-1)+e.slice(n+1,e.length),a=e.indexOf("xmlns:",i-1)):a=e.indexOf("xmlns:",i+1);return e}function c(e,t,i){e.getData(new ft.a.TextWriter,function(e){e=o(e),e=s(e),t.kml=xe.parseFromString(e,"application/xml"),i.resolve()})}function l(e,t,i){var n=Object(Ne.a)(Ft.detectFromFilename(e.filename),"application/octet-stream");e.getData(new ft.a.Data64URIWriter(n),function(n){t[e.filename]=n,i.resolve()})}function u(e,t,i,n){for(var a=n.keys,r=new ht.a("."),o=e.querySelectorAll(t),s=0;s<o.length;s++){var c=o[s],l=c.getAttribute(i),u=new ht.a(l).resolve(r).toString(),h=a.indexOf(u);if(-1!==h){var d=a[h];c.setAttribute(i,n[d]),"a"===t&&null===c.getAttribute("download")&&c.setAttribute("download",d)}}}function h(e,t,i,n){for(var a=e.querySelectorAll(t),r=0;r<a.length;r++){var o=a[r],s=o.getAttribute(i),c=E(s,n);o.setAttribute(i,c.url)}}function d(e,t,i){var n=_(e,"id");n=Object(Fe.a)(n)&&0!==n.length?n:Object(Me.a)(),Object(Fe.a)(i)&&(n=i+n);var a=t.getById(n);return Object(Fe.a)(a)&&(n=Object(Me.a)(),Object(Fe.a)(i)&&(n=i+n)),a=t.add(new vt.a({id:n})),Object(Fe.a)(a.kml)||(a.addProperty("kml"),a.kml=new we),a}function f(e,t){return"absolute"===e||"relativeToGround"===e||"relativeToSeaFloor"===t}function p(e,t){if(!Object(Fe.a)(e))return Se.a.fromDegrees(0,0,0,t);var i=e.match(/[^\s,\n]+/g);if(!Object(Fe.a)(i))return Se.a.fromDegrees(0,0,0,t);var n=parseFloat(i[0]),a=parseFloat(i[1]),r=parseFloat(i[2]);return n=isNaN(n)?0:n,a=isNaN(a)?0:a,r=isNaN(r)?0:r,Se.a.fromDegrees(n,a,r,t)}function m(e,t){if(Object(Fe.a)(e)){var i=e.textContent.match(/[^\s\n]+/g);if(Object(Fe.a)(i)){for(var n=i.length,a=new Array(n),r=0,o=0;o<n;o++)a[r++]=p(i[o],t);return a}}}function g(e,t){if(Object(Fe.a)(e)){var i=e.getAttribute(t);if(null!==i){var n=parseFloat(i);return isNaN(n)?void 0:n}}}function _(e,t){if(Object(Fe.a)(e)){var i=e.getAttribute(t);return null!==i?i:void 0}}function v(e,t,i){if(Object(Fe.a)(e))for(var n=e.childNodes,a=n.length,r=0;r<a;r++){var o=n[r];if(o.localName===t&&-1!==i.indexOf(o.namespaceURI))return o}}function b(e,t,i){if(Object(Fe.a)(e)){for(var n=[],a=e.getElementsByTagNameNS("*",t),r=a.length,o=0;o<r;o++){var s=a[o];s.localName===t&&-1!==i.indexOf(s.namespaceURI)&&n.push(s)}return n}}function y(e,t,i){if(!Object(Fe.a)(e))return[];for(var n=[],a=e.childNodes,r=a.length,o=0;o<r;o++){var s=a[o];s.localName===t&&-1!==i.indexOf(s.namespaceURI)&&n.push(s)}return n}function O(e,t,i){var n=v(e,t,i);if(Object(Fe.a)(n)){var a=parseFloat(n.textContent);return isNaN(a)?void 0:a}}function w(e,t,i){var n=v(e,t,i);if(Object(Fe.a)(n))return n.textContent.trim()}function x(e,t,i){var n=v(e,t,i);if(Object(Fe.a)(n)){var a=n.textContent.trim();return"1"===a||/^true$/i.test(a)}}function E(e,t,i){if(Object(Fe.a)(e)){var n;if(Object(Fe.a)(i)){e=e.replace(/\\/g,"/");var a=i[e];if(Object(Fe.a)(a))n=new it.a({url:a});else{var r=new ht.a(t.getUrlComponent());a=i[new ht.a(e).resolve(r)],Object(Fe.a)(a)&&(n=new it.a({url:a}))}}return Object(Fe.a)(n)||(n=t.getDerivedResource({url:e})),n}}function T(e,t){if(Object(Fe.a)(e)&&!/^\s*$/gm.test(e)){"#"===e[0]&&(e=e.substring(1));var i=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,a=parseInt(e.substring(4,6),16)/255,r=parseInt(e.substring(6,8),16)/255;return t?(r>0?(Jt.maximumRed=r,Jt.red=void 0):(Jt.maximumRed=void 0,Jt.red=0),a>0?(Jt.maximumGreen=a,Jt.green=void 0):(Jt.maximumGreen=void 0,Jt.green=0),n>0?(Jt.maximumBlue=n,Jt.blue=void 0):(Jt.maximumBlue=void 0,Jt.blue=0),Jt.alpha=i,Re.a.fromRandom(Jt)):new Re.a(r,a,n,i)}}function A(e,t,i){var n=w(e,t,i);if(Object(Fe.a)(n))return T(n,"random"===w(e,"colorMode",i))}function C(e){var t=v(e,"TimeStamp",Yt.kmlgx),i=w(t,"when",Yt.kmlgx);if(Object(Fe.a)(t)&&Object(Fe.a)(i)&&0!==i.length){var n=Ye.a.fromIso8601(i),a=new rt.a;return a.addInterval(new at.a({start:n,stop:Ge.a.MAXIMUM_VALUE})),a}}function S(e){var t=v(e,"TimeSpan",Yt.kmlgx);if(Object(Fe.a)(t)){var i,n=v(t,"begin",Yt.kmlgx),a=Object(Fe.a)(n)?Ye.a.fromIso8601(n.textContent):void 0,r=v(t,"end",Yt.kmlgx),o=Object(Fe.a)(r)?Ye.a.fromIso8601(r.textContent):void 0;if(Object(Fe.a)(a)&&Object(Fe.a)(o)){if(Ye.a.lessThan(o,a)){var s=a;a=o,o=s}i=new rt.a,i.addInterval(new at.a({start:a,stop:o}))}else Object(Fe.a)(a)?(i=new rt.a,i.addInterval(new at.a({start:a,stop:Ge.a.MAXIMUM_VALUE}))):Object(Fe.a)(o)&&(i=new rt.a,i.addInterval(new at.a({start:Ge.a.MINIMUM_VALUE,stop:o})));return i}}function j(){var e=new pt.a;return e.width=Bt,e.height=Bt,e.scaleByDistance=new Qe.a(kt,Ut,Vt,Ht),e.pixelOffsetScaleByDistance=new Qe.a(kt,Ut,Vt,Ht),e}function P(){var e=new St.a;return e.outline=!0,e.outlineColor=Re.a.WHITE,e}function D(){var e=new At.a;return e.translucencyByDistance=new Qe.a(3e6,1,5e6,0),e.pixelOffset=new Ce.a(17,0),e.horizontalOrigin=st.a.LEFT,e.font="16px sans-serif",e.style=ct.a.FILL_AND_OUTLINE,e}function I(e,t,i,n,a){var r=w(e,"href",Yt.kml);if(Object(Fe.a)(r)&&0!==r.length){if(0===r.indexOf("root://icons/palette-")){var o=r.charAt(21),s=Object(Ne.a)(O(e,"x",Yt.gx),0),c=Object(Ne.a)(O(e,"y",Yt.gx),0);s=Math.min(s/32,7),c=7-Math.min(c/32,7);r="https://maps.google.com/mapfiles/kml/pal"+o+"/icon"+(8*c+s)+".png"}var l=E(r,i,n);if(a){var u=w(e,"refreshMode",Yt.kml),h=w(e,"viewRefreshMode",Yt.kml);"onInterval"===u||"onExpire"===u?Object(Ze.a)("kml-refreshMode-"+u,"KML - Unsupported Icon refreshMode: "+u):"onStop"!==h&&"onRegion"!==h||Object(Ze.a)("kml-refreshMode-"+h,"KML - Unsupported Icon viewRefreshMode: "+h);var d=Object(Ne.a)(w(e,"viewBoundScale",Yt.kml),1),f="onStop"===h?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",p=Object(Ne.a)(w(e,"viewFormat",Yt.kml),f),m=w(e,"httpQuery",Yt.kml);Object(Fe.a)(p)&&l.setQueryParameters(Object(et.a)(de(p))),Object(Fe.a)(m)&&l.setQueryParameters(Object(et.a)(de(m)));var g=t._ellipsoid;return fe(l,t._camera,t._canvas,d,t._lastCameraView.bbox,g),l}return l}}function R(e,t,i,n,a){var r=O(t,"scale",Yt.kml),o=O(t,"heading",Yt.kml),s=A(t,"color",Yt.kml),c=v(t,"Icon",Yt.kml),l=I(c,e,n,a,!1);Object(Fe.a)(c)&&!Object(Fe.a)(l)&&(l=!1);var u=O(c,"x",Yt.gx),h=O(c,"y",Yt.gx),d=O(c,"w",Yt.gx),f=O(c,"h",Yt.gx),p=v(t,"hotSpot",Yt.kml),m=g(p,"x"),b=g(p,"y"),y=_(p,"xunits"),w=_(p,"yunits"),x=i.billboard;Object(Fe.a)(x)||(x=j(),i.billboard=x),x.image=l,x.scale=r,x.color=s,(Object(Fe.a)(u)||Object(Fe.a)(h)||Object(Fe.a)(d)||Object(Fe.a)(f))&&(x.imageSubRegion=new Ae.a(u,h,d,f)),Object(Fe.a)(o)&&0!==o&&(x.rotation=Xe.a.toRadians(-o),x.alignedAxis=Se.a.UNIT_Z),r=Object(Ne.a)(r,1);var E,T;Object(Fe.a)(m)&&("pixels"===y?E=-m*r:"insetPixels"===y?E=(m-Bt)*r:"fraction"===y&&(E=-m*Bt*r),E+=.5*Bt*r),Object(Fe.a)(b)&&("pixels"===w?T=b*r:"insetPixels"===w?T=(-b+Bt)*r:"fraction"===w&&(T=b*Bt*r),T-=.5*Bt*r),(Object(Fe.a)(E)||Object(Fe.a)(T))&&(x.pixelOffset=new Ce.a(E,T))}function M(e,t,i,n,a){for(var r=0,o=t.childNodes.length;r<o;r++){var s=t.childNodes.item(r);if("IconStyle"===s.localName)R(e,s,i,n,a);else if("LabelStyle"===s.localName){var c=i.label;Object(Fe.a)(c)||(c=D(),i.label=c),c.scale=Object(Ne.a)(O(s,"scale",Yt.kml),c.scale),c.fillColor=Object(Ne.a)(A(s,"color",Yt.kml),c.fillColor),c.text=i.name}else if("LineStyle"===s.localName){var l=i.polyline;Object(Fe.a)(l)||(l=new jt.a,i.polyline=l),l.width=O(s,"width",Yt.kml),l.material=A(s,"color",Yt.kml),Object(Fe.a)(A(s,"outerColor",Yt.gx))&&Object(Ze.a)("kml-gx:outerColor","KML - gx:outerColor is not supported in a LineStyle"),Object(Fe.a)(O(s,"outerWidth",Yt.gx))&&Object(Ze.a)("kml-gx:outerWidth","KML - gx:outerWidth is not supported in a LineStyle"),Object(Fe.a)(O(s,"physicalWidth",Yt.gx))&&Object(Ze.a)("kml-gx:physicalWidth","KML - gx:physicalWidth is not supported in a LineStyle"),Object(Fe.a)(x(s,"labelVisibility",Yt.gx))&&Object(Ze.a)("kml-gx:labelVisibility","KML - gx:labelVisibility is not supported in a LineStyle")}else if("PolyStyle"===s.localName){var u=i.polygon;Object(Fe.a)(u)||(u=P(),i.polygon=u),u.material=Object(Ne.a)(A(s,"color",Yt.kml),u.material),u.fill=Object(Ne.a)(x(s,"fill",Yt.kml),u.fill),u.outline=Object(Ne.a)(x(s,"outline",Yt.kml),u.outline)}else if("BalloonStyle"===s.localName){var h=Object(Ne.a)(T(w(s,"bgColor",Yt.kml)),Re.a.WHITE),d=Object(Ne.a)(T(w(s,"textColor",Yt.kml)),Re.a.BLACK),f=w(s,"text",Yt.kml);i.addProperty("balloonStyle"),i.balloonStyle={bgColor:h,textColor:d,text:f}}else if("ListStyle"===s.localName){var p=w(s,"listItemType",Yt.kml);"radioFolder"!==p&&"checkOffOnly"!==p||Object(Ze.a)("kml-listStyle-"+p,"KML - Unsupported ListStyle with listItemType: "+p)}}}function L(e,t,i,n,a){for(var r,o=new vt.a,s=-1,c=t.childNodes,l=c.length,u=0;u<l;u++){var h=c[u];"Style"!==h.localName&&"StyleMap"!==h.localName||(s=u)}if(-1!==s){var d=c[s];if("Style"===d.localName)M(e,d,o,n,a);else for(var f=y(d,"Pair",Yt.kml),p=0;p<f.length;p++){var m=f[p],g=w(m,"key",Yt.kml);if("normal"===g){var _=w(m,"styleUrl",Yt.kml);if(Object(Fe.a)(_))r=i.getById(_),Object(Fe.a)(r)||(r=i.getById("#"+_)),Object(Fe.a)(r)&&o.merge(r);else{var b=v(m,"Style",Yt.kml);M(e,b,o,n,a)}}else Object(Ze.a)("kml-styleMap-"+g,"KML - Unsupported StyleMap key: "+g)}}var O=w(t,"styleUrl",Yt.kml);if(Object(Fe.a)(O)){var x=O;if("#"!==O[0]&&-1!==O.indexOf("#")){var E=O.split("#"),T=E[0];x=n.getDerivedResource({url:T}).getUrlComponent()+"#"+E[1]}r=i.getById(x),Object(Fe.a)(r)||(r=i.getById("#"+x)),Object(Fe.a)(r)&&o.merge(r)}return o}function N(e,t,i){return t.fetchXML().then(function(n){return F(e,n,i,t,!0)})}function F(e,t,i,n,a,r){var o,s,c,l,u=b(t,"Style",Yt.kml);if(Object(Fe.a)(u)){var h=u.length;for(o=0;o<h;o++)l=u[o],s=_(l,"id"),Object(Fe.a)(s)&&(s="#"+s,a&&Object(Fe.a)(n)&&(s=n.getUrlComponent()+s),Object(Fe.a)(i.getById(s))||(c=new vt.a({id:s}),i.add(c),M(e,l,c,n,r)))}var d=b(t,"StyleMap",Yt.kml);if(Object(Fe.a)(d)){var f=d.length;for(o=0;o<f;o++){var p=d[o];if(s=_(p,"id"),Object(Fe.a)(s))for(var m=y(p,"Pair",Yt.kml),g=0;g<m.length;g++){var O=m[g],x=w(O,"key",Yt.kml);if("normal"===x){if(s="#"+s,a&&Object(Fe.a)(n)&&(s=n.getUrlComponent()+s),!Object(Fe.a)(i.getById(s))){c=i.getOrCreateEntity(s);var E=w(O,"styleUrl",Yt.kml);if(Object(Fe.a)(E)){"#"!==E[0]&&(E="#"+E),a&&Object(Fe.a)(n)&&(E=n.getUrlComponent()+E);var T=i.getById(E);Object(Fe.a)(T)&&c.merge(T)}else l=v(O,"Style",Yt.kml),M(e,l,c,n,r)}}else Object(Ze.a)("kml-styleMap-"+x,"KML - Unsupported StyleMap key: "+x)}}}var A=[],C=t.getElementsByTagName("styleUrl"),S=C.length;for(o=0;o<S;o++){var j=C[o].textContent;if("#"!==j[0]){var P=j.split("#");if(2===P.length){var D=P[0],I=n.getDerivedResource({url:D});A.push(N(e,I,i))}}}return A}function z(e,t,i){var n=new It.a(e,t.id,["position"]),a=new Mt.a(t.position);t.polyline=Object(Fe.a)(i.polyline)?i.polyline.clone():new jt.a,t.polyline.positions=new Pt.a([n,a])}function B(e,t){return!Object(Fe.a)(e)&&!Object(Fe.a)(t)||"clampToGround"===e?ot.a.CLAMP_TO_GROUND:"relativeToGround"===e?ot.a.RELATIVE_TO_GROUND:"absolute"===e?ot.a.NONE:"clampToSeaFloor"===t?(Object(Ze.a)("kml-gx:altitudeMode-clampToSeaFloor","KML - <gx:altitudeMode>:clampToSeaFloor is currently not supported, using <kml:altitudeMode>:clampToGround."),ot.a.CLAMP_TO_GROUND):"relativeToSeaFloor"===t?(Object(Ze.a)("kml-gx:altitudeMode-relativeToSeaFloor","KML - <gx:altitudeMode>:relativeToSeaFloor is currently not supported, using <kml:altitudeMode>:relativeToGround."),ot.a.RELATIVE_TO_GROUND):(Object(Fe.a)(e)?Object(Ze.a)("kml-altitudeMode-unknown","KML - Unknown <kml:altitudeMode>:"+e+", using <kml:altitudeMode>:CLAMP_TO_GROUND."):Object(Ze.a)("kml-gx:altitudeMode-unknown","KML - Unknown <gx:altitudeMode>:"+t+", using <kml:altitudeMode>:CLAMP_TO_GROUND."),ot.a.CLAMP_TO_GROUND)}function k(e,t,i){return"relativeToSeaFloor"===i||"absolute"===t||"relativeToGround"===t?e:((Object(Fe.a)(t)&&"clampToGround"!==t||Object(Fe.a)(i)&&"clampToSeaFloor"!==i)&&Object(Ze.a)("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+Object(Ne.a)(t,i)),new Mt.a(e))}function U(e,t,i,n){if(Object(Fe.a)(e)){if("relativeToSeaFloor"===i||"absolute"===t||"relativeToGround"===t)return e;(Object(Fe.a)(t)&&"clampToGround"!==t||Object(Fe.a)(i)&&"clampToSeaFloor"!==i)&&Object(Ze.a)("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+Object(Ne.a)(t,i));for(var a=e.length,r=0;r<a;r++){var o=e[r];n.scaleToGeodeticSurface(o,o)}return e}}function V(e,t,i,n){var a=t.label;Object(Fe.a)(a)||(a=Object(Fe.a)(i.label)?i.label.clone():D(),t.label=a),a.text=t.name;var r=t.billboard;Object(Fe.a)(r)||(r=Object(Fe.a)(i.billboard)?i.billboard.clone():j(),t.billboard=r),Object(Fe.a)(r.image)?r.image.getValue()||(r.image=void 0):r.image=e._pinBuilder.fromColor(Re.a.YELLOW,64);var o=1;Object(Fe.a)(r.scale)&&(o=r.scale.getValue(),0!==o?a.pixelOffset=new Ce.a(16*o+1,0):(a.pixelOffset=void 0,a.horizontalOrigin=void 0)),Object(Fe.a)(n)&&e._clampToGround&&(r.heightReference=n,a.heightReference=n)}function H(e,t){var i=e.path;Object(Fe.a)(i)||(i=new Ct.a,i.leadTime=0,e.path=i);var n=t.polyline;Object(Fe.a)(n)&&(i.material=n.material,i.width=n.width)}function q(e,t,i,n,a){var r=w(i,"coordinates",Yt.kml),o=w(i,"altitudeMode",Yt.kml),s=w(i,"altitudeMode",Yt.gx),c=x(i,"extrude",Yt.kml),l=e._ellipsoid,u=p(r,l);return n.position=u,V(e,n,a,B(o,s)),c&&f(o,s)&&z(t,n,a),!0}function W(e,t,i,n,a){var r=v(i,"coordinates",Yt.kml),o=w(i,"altitudeMode",Yt.kml),s=w(i,"altitudeMode",Yt.gx),c=x(i,"extrude",Yt.kml),l=x(i,"tessellate",Yt.kml),u=f(o,s),h=O(i,"drawOrder",Yt.gx),d=e._ellipsoid,p=m(r,d),g=a.polyline;if(u&&c){var _=new Nt.a;n.wall=_,_.positions=p;var b=a.polygon;Object(Fe.a)(b)&&(_.fill=b.fill,_.material=b.material),_.outline=!0,Object(Fe.a)(g)?(_.outlineColor=Object(Fe.a)(g.material)?g.material.color:Re.a.WHITE,_.outlineWidth=g.width):Object(Fe.a)(b)&&(_.outlineColor=Object(Fe.a)(b.material)?b.material.color:Re.a.WHITE)}else if(e._clampToGround&&!u&&l){var y=new jt.a;y.clampToGround=!0,n.polyline=y,y.positions=p,Object(Fe.a)(g)?(y.material=Object(Fe.a)(g.material)?g.material.color.getValue(Ge.a.MINIMUM_VALUE):Re.a.WHITE,y.width=Object(Ne.a)(g.width,1)):(y.material=Re.a.WHITE,y.width=1),y.zIndex=h}else Object(Fe.a)(h)&&Object(Ze.a)("kml-gx:drawOrder","KML - gx:drawOrder is not supported in LineStrings when clampToGround is false"),g=Object(Fe.a)(g)?g.clone():new jt.a,n.polyline=g,g.positions=U(p,o,s,d),l&&!u||(g.arcType=Ee.a.NONE);return!0}function G(e,t,i,n,a){var r=v(i,"outerBoundaryIs",Yt.kml),o=v(r,"LinearRing",Yt.kml),s=v(o,"coordinates",Yt.kml),c=e._ellipsoid,l=m(s,c),u=x(i,"extrude",Yt.kml),h=w(i,"altitudeMode",Yt.kml),d=w(i,"altitudeMode",Yt.gx),p=f(h,d),g=Object(Fe.a)(a.polygon)?a.polygon.clone():P(),_=a.polyline;if(Object(Fe.a)(_)&&(g.outlineColor=Object(Fe.a)(_.material)?_.material.color:Re.a.WHITE,g.outlineWidth=_.width),n.polygon=g,p?(g.perPositionHeight=!0,g.extrudedHeight=u?0:void 0):e._clampToGround||(g.height=0),Object(Fe.a)(l)){for(var b=new $e.a(l),O=y(i,"innerBoundaryIs",Yt.kml),E=0;E<O.length;E++){o=y(O[E],"LinearRing",Yt.kml);for(var T=0;T<o.length;T++)s=v(o[T],"coordinates",Yt.kml),l=m(s,c),Object(Fe.a)(l)&&b.holes.push(new $e.a(l))}g.hierarchy=b}return!0}function Y(e,t,i,n,a){var r=w(i,"altitudeMode",Yt.kml),o=w(i,"altitudeMode",Yt.gx),s=y(i,"coord",Yt.gx),c=y(i,"angles",Yt.gx),l=y(i,"when",Yt.kml),u=x(i,"extrude",Yt.kml),h=f(r,o),d=e._ellipsoid;c.length>0&&Object(Ze.a)("kml-gx:angles","KML - gx:angles are not supported in gx:Tracks");for(var m=Math.min(s.length,l.length),g=[],_=[],v=0;v<m;v++){var b=p(s[v].textContent,d);g.push(b),_.push(Ye.a.fromIso8601(l[v].textContent))}var O=new Rt.a;return O.addSamples(_,g),n.position=O,V(e,n,a,B(r,o)),H(n,a),n.availability=new rt.a,l.length>0&&n.availability.addInterval(new at.a({start:_[0],stop:_[_.length-1]})),h&&u&&z(t,n,a),!0}function X(e,t,i,n,a,r,o,s,c){var l=e[0],u=e[e.length-1],h=new Rt.a;h.addSamples(e,t),i.intervals.addInterval(new at.a({start:l,stop:u,isStartIncluded:c,isStopIncluded:c,data:k(h,o,s)})),n.addInterval(new at.a({start:l,stop:u,isStartIncluded:c,isStopIncluded:c})),a.intervals.addInterval(new at.a({start:l,stop:u,isStartIncluded:c,isStopIncluded:c,data:r}))}function Q(e,t,i,n,a){for(var r,o,s,c=x(i,"interpolate",Yt.gx),l=y(i,"Track",Yt.gx),u=!1,h=new Lt.a,d=new rt.a,m=new mt.a,g=e._ellipsoid,_=0,v=l.length;_<v;_++){var b=l[_],O=y(b,"when",Yt.kml),E=y(b,"coord",Yt.gx),T=w(b,"altitudeMode",Yt.kml),A=w(b,"altitudeMode",Yt.gx),C=f(T,A),S=x(b,"extrude",Yt.kml),j=Math.min(E.length,O.length),P=[];r=[];for(var D=0;D<j;D++){var I=p(E[D].textContent,g);P.push(I),r.push(Ye.a.fromIso8601(O[D].textContent))}c&&(Object(Fe.a)(o)&&X([o,r[0]],[s,P[0]],m,d,h,!1,"absolute",void 0,!1),o=r[j-1],s=P[P.length-1]),X(r,P,m,d,h,C&&S,T,A,!0),u=u||C&&S}return n.availability=d,n.position=m,V(e,n,a),H(n,a),u&&(z(t,n,a),n.polyline.show=h),!0}function J(e,t,i,n,a,r){for(var o=i.childNodes,s=!1,c=0,l=o.length;c<l;c++){var u=o.item(c),h=Zt[u.localName];if(Object(Fe.a)(h)){var f=d(u,t,r);f.parent=n,f.name=n.name,f.availability=n.availability,f.description=n.description,f.kml=n.kml,h(e,t,u,f,a)&&(s=!0)}}return s}function Z(e,t,i,n,a){return Object(Ze.a)("kml-unsupportedGeometry","KML - Unsupported geometry: "+i.localName),!1}function K(e,t){var i=v(e,"ExtendedData",Yt.kml);if(Object(Fe.a)(i)){Object(Fe.a)(v(i,"SchemaData",Yt.kml))&&Object(Ze.a)("kml-schemaData","KML - SchemaData is unsupported"),Object(Fe.a)(_(i,"xmlns:prefix"))&&Object(Ze.a)("kml-extendedData","KML - ExtendedData with xmlns:prefix is unsupported");var n={},a=y(i,"Data",Yt.kml);if(Object(Fe.a)(a))for(var r=a.length,o=0;o<r;o++){var s=a[o],c=_(s,"name");Object(Fe.a)(c)&&(n[c]={displayName:w(s,"displayName",Yt.kml),value:w(s,"value",Yt.kml)})}t.kml.extendedData=n}}function $(e,t,i,n,a){var r,o,s,c=t.kml,l=c.extendedData,d=w(e,"description",Yt.kml),f=Object(Ne.a)(t.balloonStyle,i.balloonStyle),p=Re.a.WHITE,m=Re.a.BLACK,g=d;Object(Fe.a)(f)&&(p=Object(Ne.a)(f.bgColor,Re.a.WHITE),m=Object(Ne.a)(f.textColor,Re.a.BLACK),g=Object(Ne.a)(f.text,d));var _;if(Object(Fe.a)(g)){if(g=g.replace("$[name]",Object(Ne.a)(t.name,"")),g=g.replace("$[description]",Object(Ne.a)(d,"")),g=g.replace("$[address]",Object(Ne.a)(c.address,"")),g=g.replace("$[Snippet]",Object(Ne.a)(c.snippet,"")),g=g.replace("$[id]",t.id),g=g.replace("$[geDirections]",""),Object(Fe.a)(l)){var v=g.match(/\$\[.+?\]/g);if(null!==v)for(r=0;r<v.length;r++){var b=v[r],y=b.substr(2,b.length-3),O=/\/displayName$/.test(y);y=y.replace(/\/displayName$/,""),_=l[y],Object(Fe.a)(_)&&(_=O?_.displayName:_.value),Object(Fe.a)(_)&&(g=g.replace(b,Object(Ne.a)(_,"")))}}}else if(Object(Fe.a)(l)&&(s=Object.keys(l),s.length>0)){for(g='<table class="cesium-infoBox-defaultTable cesium-infoBox-defaultTable-lighter"><tbody>',r=0;r<s.length;r++)o=s[r],_=l[o],g+="<tr><th>"+Object(Ne.a)(_.displayName,o)+"</th><td>"+Object(Ne.a)(_.value,"")+"</td></tr>";g+="</tbody></table>"}if(Object(Fe.a)(g)){g=zt.link(g),Qt.innerHTML=g;var x=Qt.querySelectorAll("a");for(r=0;r<x.length;r++)x[r].setAttribute("target","_blank");Object(Fe.a)(n)&&n.keys.length>1&&(u(Qt,"a","href",n),u(Qt,"img","src",n)),h(Qt,"a","href",a),h(Qt,"img","src",a);var E='<div class="cesium-infoBox-description-lighter" style="';E+="overflow:auto;",E+="word-wrap:break-word;",E+="background-color:"+p.toCssColorString()+";",E+="color:"+m.toCssColorString()+";",E+='">',E+=Qt.innerHTML+"</div>",Qt.innerHTML="",t.description=E}}function ee(e,t,i){function n(e){return!e||e.show&&n(e.parent)}var a=i.entityCollection,r=i.parentEntity,o=i.sourceResource,s=i.uriResolver,c=d(t,a,i.context),l=c.kml,u=L(e,t,i.styleCollection,o,s),h=w(t,"name",Yt.kml);c.name=h,c.parent=r;var f=S(t);Object(Fe.a)(f)||(f=C(t)),c.availability=f,ye(c);var p=x(t,"visibility",Yt.kml);c.show=n(r)&&Object(Ne.a)(p,!0);var m=v(t,"author",Yt.atom),g=l.author;g.name=w(m,"name",Yt.atom),g.uri=w(m,"uri",Yt.atom),g.email=w(m,"email",Yt.atom);var b=v(t,"link",Yt.atom),y=l.link;y.href=_(b,"href"),y.hreflang=_(b,"hreflang"),y.rel=_(b,"rel"),y.type=_(b,"type"),y.title=_(b,"title"),y.length=_(b,"length"),l.address=w(t,"address",Yt.kml),l.phoneNumber=w(t,"phoneNumber",Yt.kml),l.snippet=w(t,"Snippet",Yt.kml),K(t,c),$(t,c,u,s,o);var O=e._ellipsoid;return le(t,c,O),ce(t,c,O),Object(Fe.a)(v(t,"Region",Yt.kml))&&Object(Ze.a)("kml-region","KML - Placemark Regions are unsupported"),{entity:c,styleEntity:u}}function te(e,t,i,n){n.addNodes(t.childNodes,i),n.process()}function ie(e,t,i,n){var a=ee(e,t,i),r=Object(Ie.a)(i);r.parentEntity=a.entity,te(e,t,r,n)}function ne(e,t,i,n){for(var a=ee(e,t,i),r=a.entity,o=a.styleEntity,s=!1,c=t.childNodes,l=0,u=c.length;l<u&&!s;l++){var h=c.item(l),d=Zt[h.localName];Object(Fe.a)(d)&&(d(e,i.entityCollection,h,r,o,r.id),s=!0)}s||(r.merge(o),V(e,r,o))}function ae(e,t,i,n){var a=w(t,"name",Yt.kml),r=_(t,"id"),o=new xt.a(a,r),s=v(t,"Playlist",Yt.gx);if(s)for(var c=e._ellipsoid,l=s.childNodes,u=0;u<l.length;u++){var h=l[u];if(h.localName){var d=Kt[h.localName];d?d(o,h,c):console.log("Unknown KML Tour playlist entry type "+h.localName)}}Object(Fe.a)(e.kmlTours)||(e.kmlTours=[]),e.kmlTours.push(o)}function re(e,t){Object(Ze.a)("KML Tour unsupported node "+t.localName)}function oe(e,t){var i=O(t,"duration",Yt.gx);e.addPlaylistEntry(new Tt.a(i))}function se(e,t,i){var n=O(t,"duration",Yt.gx),a=w(t,"flyToMode",Yt.gx),r={kml:{}};le(t,r,i),ce(t,r,i);var o=r.kml.lookAt||r.kml.camera,s=new Et.a(n,a,o);e.addPlaylistEntry(s)}function ce(e,t,i){var n=v(e,"Camera",Yt.kml);if(Object(Fe.a)(n)){var a=Object(Ne.a)(O(n,"longitude",Yt.kml),0),r=Object(Ne.a)(O(n,"latitude",Yt.kml),0),o=Object(Ne.a)(O(n,"altitude",Yt.kml),0),s=Object(Ne.a)(O(n,"heading",Yt.kml),0),c=Object(Ne.a)(O(n,"tilt",Yt.kml),0),l=Object(Ne.a)(O(n,"roll",Yt.kml),0),u=Se.a.fromDegrees(a,r,o,i),h=We.a.fromDegrees(s,c-90,l);t.kml.camera=new Ot.a(u,h)}}function le(e,t,i){var n=v(e,"LookAt",Yt.kml);if(Object(Fe.a)(n)){var a=Object(Ne.a)(O(n,"longitude",Yt.kml),0),r=Object(Ne.a)(O(n,"latitude",Yt.kml),0),o=Object(Ne.a)(O(n,"altitude",Yt.kml),0),s=O(n,"heading",Yt.kml),c=O(n,"tilt",Yt.kml),l=Object(Ne.a)(O(n,"range",Yt.kml),0);c=Xe.a.toRadians(Object(Ne.a)(c,0)),s=Xe.a.toRadians(Object(Ne.a)(s,0));var u=new qe.a(s,c-Xe.a.PI_OVER_TWO,l),h=Se.a.fromDegrees(a,r,o,i);t.kml.lookAt=new wt.a(h,u)}}function ue(e,t,i,n){var a,r=ee(e,t,i),o=r.entity,s=!1,c=e._ellipsoid,l=m(v(t,"LatLonQuad",Yt.gx),c),u=O(t,"drawOrder",Yt.kml);if(Object(Fe.a)(l))a=P(),a.hierarchy=new $e.a(l),a.zIndex=u,o.polygon=a,s=!0;else{a=new Dt.a,a.zIndex=u,o.rectangle=a;var h=v(t,"LatLonBox",Yt.kml);if(Object(Fe.a)(h)){var d=O(h,"west",Yt.kml),f=O(h,"south",Yt.kml),p=O(h,"east",Yt.kml),g=O(h,"north",Yt.kml);Object(Fe.a)(d)&&(d=Xe.a.negativePiToPi(Xe.a.toRadians(d))),Object(Fe.a)(f)&&(f=Xe.a.clampToLatitudeRange(Xe.a.toRadians(f))),Object(Fe.a)(p)&&(p=Xe.a.negativePiToPi(Xe.a.toRadians(p))),Object(Fe.a)(g)&&(g=Xe.a.clampToLatitudeRange(Xe.a.toRadians(g))),a.coordinates=new tt.a(d,f,p,g);var _=O(h,"rotation",Yt.kml);if(Object(Fe.a)(_)){var b=Xe.a.toRadians(_);a.rotation=b,a.stRotation=b}}}var y=v(t,"Icon",Yt.kml),x=I(y,e,i.sourceResource,i.uriResolver,!0);if(Object(Fe.a)(x)){s&&Object(Ze.a)("kml-gx:LatLonQuad","KML - gx:LatLonQuad Icon does not support texture projection.");var E=O(y,"x",Yt.gx),T=O(y,"y",Yt.gx),C=O(y,"w",Yt.gx),S=O(y,"h",Yt.gx);(Object(Fe.a)(E)||Object(Fe.a)(T)||Object(Fe.a)(C)||Object(Fe.a)(S))&&Object(Ze.a)("kml-groundOverlay-xywh","KML - gx:x, gx:y, gx:w, gx:h aren't supported for GroundOverlays"),a.material=x,a.material.color=A(t,"color",Yt.kml),a.material.transparent=!0}else a.material=A(t,"color",Yt.kml);var j=w(t,"altitudeMode",Yt.kml);Object(Fe.a)(j)?"absolute"===j?(a.height=O(t,"altitude",Yt.kml),a.zIndex=void 0):"clampToGround"!==j&&Object(Ze.a)("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+j):(j=w(t,"altitudeMode",Yt.gx),"relativeToSeaFloor"===j?(Object(Ze.a)("kml-altitudeMode-relativeToSeaFloor","KML - altitudeMode relativeToSeaFloor is currently not supported, treating as absolute."),a.height=O(t,"altitude",Yt.kml),a.zIndex=void 0):"clampToSeaFloor"===j?Object(Ze.a)("kml-altitudeMode-clampToSeaFloor","KML - altitudeMode clampToSeaFloor is currently not supported, treating as clampToGround."):Object(Fe.a)(j)&&Object(Ze.a)("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+j))}function he(e,t,i,n){e._unsupportedNode.raiseEvent(e,i.parentEntity,t,i.entityCollection,i.styleCollection,i.sourceResource,i.uriResolver),Object(Ze.a)("kml-unsupportedFeature-"+t.nodeName,"KML - Unsupported feature: "+t.nodeName)}function de(e){if(!Object(Fe.a)(e)||0===e.length)return"";var t=e[0];return"&"!==t&&"?"!==t||(e=e.substring(1)),e}function fe(e,t,i,n,a,r){function o(e){return e<-Xe.a.PI_OVER_TWO?-Xe.a.PI_OVER_TWO:e>Xe.a.PI_OVER_TWO?Xe.a.PI_OVER_TWO:e}function s(e){return e>Xe.a.PI?e-Xe.a.TWO_PI:e<-Xe.a.PI?e+Xe.a.TWO_PI:e}var c=Object(Je.a)(e.queryParameters);if(c=c.replace(/%5B/g,"[").replace(/%5D/g,"]"),Object(Fe.a)(t)&&t._mode!==lt.a.MORPHING){var l,u;if(a=Object(Ne.a)(a,ei),Object(Fe.a)(i)&&(ii.x=.5*i.clientWidth,ii.y=.5*i.clientHeight,l=t.pickEllipsoid(ii,r,ni)),Object(Fe.a)(l)?u=r.cartesianToCartographic(l,ti):(u=tt.a.center(a,ti),l=r.cartographicToCartesian(u)),Object(Fe.a)(n)&&!Xe.a.equalsEpsilon(n,1,Xe.a.EPSILON9)){var h=a.width*n*.5,d=a.height*n*.5;a=new tt.a(s(u.longitude-h),o(u.latitude-d),s(u.longitude+h),o(u.latitude+d))}c=c.replace("[bboxWest]",Xe.a.toDegrees(a.west).toString()),c=c.replace("[bboxSouth]",Xe.a.toDegrees(a.south).toString()),c=c.replace("[bboxEast]",Xe.a.toDegrees(a.east).toString()),c=c.replace("[bboxNorth]",Xe.a.toDegrees(a.north).toString());var f=Xe.a.toDegrees(u.longitude).toString(),p=Xe.a.toDegrees(u.latitude).toString();c=c.replace("[lookatLon]",f),c=c.replace("[lookatLat]",p),c=c.replace("[lookatTilt]",Xe.a.toDegrees(t.pitch).toString()),c=c.replace("[lookatHeading]",Xe.a.toDegrees(t.heading).toString()),c=c.replace("[lookatRange]",Se.a.distance(t.positionWC,l)),c=c.replace("[lookatTerrainLon]",f),c=c.replace("[lookatTerrainLat]",p),c=c.replace("[lookatTerrainAlt]",u.height.toString()),r.cartesianToCartographic(t.positionWC,ti),c=c.replace("[cameraLon]",Xe.a.toDegrees(ti.longitude).toString()),c=c.replace("[cameraLat]",Xe.a.toDegrees(ti.latitude).toString()),c=c.replace("[cameraAlt]",Xe.a.toDegrees(ti.height).toString());var m=t.frustum,g=m.aspectRatio,_="",v="";if(Object(Fe.a)(g)){var b=Xe.a.toDegrees(m.fov);g>1?(_=b,v=b/g):(v=b,_=b*g)}c=c.replace("[horizFov]",_.toString()),c=c.replace("[vertFov]",v.toString())}else c=c.replace("[bboxWest]","-180"),c=c.replace("[bboxSouth]","-90"),c=c.replace("[bboxEast]","180"),c=c.replace("[bboxNorth]","90"),c=c.replace("[lookatLon]",""),c=c.replace("[lookatLat]",""),c=c.replace("[lookatRange]",""),c=c.replace("[lookatTilt]",""),c=c.replace("[lookatHeading]",""),c=c.replace("[lookatTerrainLon]",""),c=c.replace("[lookatTerrainLat]",""),c=c.replace("[lookatTerrainAlt]",""),c=c.replace("[cameraLon]",""),c=c.replace("[cameraLat]",""),c=c.replace("[cameraAlt]",""),c=c.replace("[horizFov]",""),c=c.replace("[vertFov]","");Object(Fe.a)(i)?(c=c.replace("[horizPixels]",i.clientWidth),c=c.replace("[vertPixels]",i.clientHeight)):(c=c.replace("[horizPixels]",""),c=c.replace("[vertPixels]","")),c=c.replace("[terrainEnabled]","1"),c=c.replace("[clientVersion]","1"),c=c.replace("[kmlVersion]","2.2"),c=c.replace("[clientName]","Cesium"),c=c.replace("[language]","English"),e.setQueryParameters(Object(et.a)(c))}function pe(e,t,i,n){var a=ee(e,t,i),r=a.entity,o=i.sourceResource,s=i.uriResolver,c=v(t,"Link",Yt.kml);if(Object(Fe.a)(c)||(c=v(t,"Url",Yt.kml)),Object(Fe.a)(c)){var l,u,h=w(c,"href",Yt.kml);if(Object(Fe.a)(h)){var d=h;if(h=E(h,o,i.uriResolver),/^data:/.test(h.getUrlComponent()))/\.kmz/i.test(o.getUrlComponent())||(d=o.getDerivedResource({url:d}));else{d=h.clone(),l=w(c,"viewRefreshMode",Yt.kml),u=Object(Ne.a)(w(c,"viewBoundScale",Yt.kml),1);var f="onStop"===l?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",p=Object(Ne.a)(w(c,"viewFormat",Yt.kml),f),m=w(c,"httpQuery",Yt.kml);Object(Fe.a)(p)&&h.setQueryParameters(Object(et.a)(de(p))),Object(Fe.a)(m)&&h.setQueryParameters(Object(et.a)(de(m)));var g=e._ellipsoid;fe(h,e._camera,e._canvas,u,e._lastCameraView.bbox,g)}var _={sourceUri:d,uriResolver:s,context:r.id},b=new yt.a,y=ve(e,b,h,_).then(function(t){var i=e._entityCollection,n=b.values;i.suspendEvents();for(var a=0;a<n.length;a++){var o=n[a];Object(Fe.a)(o.parent)||(o.parent=r,ye(o)),i.add(o)}i.resumeEvents();var s=w(c,"refreshMode",Yt.kml),d=Object(Ne.a)(O(c,"refreshInterval",Yt.kml),0);if("onInterval"===s&&d>0||"onExpire"===s||"onStop"===l){var f=v(t,"NetworkLinkControl",Yt.kml),p=Object(Fe.a)(f),m=Ye.a.now(),g={id:Object(Me.a)(),href:h,cookie:{},lastUpdated:m,updating:!1,entity:r,viewBoundScale:u,needsUpdate:!1,cameraUpdateTime:m},_=0;if(p&&(g.cookie=Object(et.a)(Object(Ne.a)(w(f,"cookie",Yt.kml),"")),_=Object(Ne.a)(O(f,"minRefreshPeriod",Yt.kml),0)),"onInterval"===s)p&&(d=Math.max(_,d)),g.refreshMode=$t.INTERVAL,g.time=d;else if("onExpire"===s){var y;if(p&&(y=w(f,"expires",Yt.kml)),Object(Fe.a)(y))try{var x=Ye.a.fromIso8601(y),E=Ye.a.secondsDifference(x,m);E>0&&E<_&&Ye.a.addSeconds(m,_,x),g.refreshMode=$t.EXPIRE,g.time=x}catch(e){Object(Ze.a)("kml-refreshMode-onInterval-onExpire","KML - NetworkLinkControl expires is not a valid date")}else Object(Ze.a)("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element")}else e._camera?(g.refreshMode=$t.STOP,g.time=Object(Ne.a)(O(c,"viewRefreshTime",Yt.kml),0)):Object(Ze.a)("kml-refrehMode-onStop-noCamera","A NetworkLink with viewRefreshMode=onStop requires a camera be passed in when creating the KmlDataSource");Object(Fe.a)(g.refreshMode)&&e._networkLinks.set(g.id,g)}else"onRegion"===l&&Object(Ze.a)("kml-refrehMode-onRegion","KML - Unsupported viewRefreshMode: onRegion")}).otherwise(function(t){Object(Ze.a)("An error occured during loading "+h.url),e._error.raiseEvent(e,t)});n.addPromise(y)}}}function me(e,t,i,n){var a=Xt[t.localName];return Object(Fe.a)(a)?a(e,t,i,n):he(e,t,i,n)}function ge(e,t,i,n,a,r){t.removeAll();var o=i.documentElement,s="Document"===o.localName?o:v(o,"Document",Yt.kml),c=w(s,"name",Yt.kml);Object(Fe.a)(c)||(c=Object(Ve.a)(n.getUrlComponent())),Object(Fe.a)(e._name)||(e._name=c);var l=new be._DeferredLoading(e),u=new yt.a(e);return dt.a.all(F(e,i,u,n,!1,a)).then(function(){var o=i.documentElement;if("kml"===o.localName)for(var s=o.childNodes,c=0;c<s.length;c++){var h=s[c];if(Object(Fe.a)(Xt[h.localName])){o=h;break}}var d={parentEntity:void 0,entityCollection:t,styleCollection:u,sourceResource:n,uriResolver:a,context:r};return t.suspendEvents(),me(e,o,d,l),t.resumeEvents(),l.wait().then(function(){return i.documentElement})})}function _e(e,t,i,n){var a=dt.a.defer();return ft.a.createReader(new ft.a.BlobReader(i),function(i){i.getEntries(function(r){for(var o,s,u=[],h={},d=0;d<r.length;d++){var f=r[d];if(!f.directory){var p=dt.a.defer();u.push(p.promise),/\.kml$/i.test(f.filename)?Object(Fe.a)(o)&&/\//i.test(f.filename)?l(f,h,p):(Object(Fe.a)(o)&&l(o,h,s),o=f,s=p):l(f,h,p)}}Object(Fe.a)(o)&&c(o,h,s),dt.a.all(u).then(function(){return i.close(),Object(Fe.a)(h.kml)?(h.keys=Object.keys(h),ge(e,t,h.kml,n,h)):void a.reject(new nt.a("KMZ file does not contain a KML document."))}).then(a.resolve).otherwise(a.reject)})},function(e){a.reject(e)}),a.promise}function ve(e,t,i,n){n=Object(Ne.a)(n,Ne.a.EMPTY_OBJECT);var c=n.sourceUri,l=n.uriResolver,u=n.context,h=i;if("string"==typeof i||i instanceof it.a){i=it.a.createIfNeeded(i),h=i.fetchBlob(),c=Object(Ne.a)(c,i.clone());var d=e._resourceCredits,f=i.credits;if(Object(Fe.a)(f))for(var p=f.length,m=0;m<p;m++)d.push(f[m])}else c=Object(Ne.a)(c,it.a.DEFAULT.clone());return c=it.a.createIfNeeded(c),Object(dt.a)(h).then(function(i){return i instanceof Blob?a(i).then(function(n){return n?_e(e,t,i,c):r(i).then(function(i){i=o(i),i=s(i);var n,a;try{n=xe.parseFromString(i,"application/xml")}catch(e){a=e.toString()}if(Object(Fe.a)(a)||n.body||"parsererror"===n.documentElement.tagName){var r=Object(Fe.a)(a)?a:n.documentElement.firstChild.nodeValue;throw r||(r=n.body.innerText),new nt.a(r)}return ge(e,t,n,c,l,u)})}):ge(e,t,i,c,l,u)}).otherwise(function(t){return e._error.raiseEvent(e,t),console.log(t),dt.a.reject(t)})}function be(e){e=Object(Ne.a)(e,Ne.a.EMPTY_OBJECT);var t=e.camera,i=e.canvas;if(!Object(Fe.a)(t))throw new ze.a("options.camera is required.");if(!Object(Fe.a)(i))throw new ze.a("options.canvas is required.");this._changed=new ke.a,this._error=new ke.a,this._loading=new ke.a,this._refresh=new ke.a,this._unsupportedNode=new ke.a,this._clock=void 0,this._entityCollection=new yt.a(this),this._name=void 0,this._isLoading=!1,this._pinBuilder=new Ke.a,this._networkLinks=new Te.a,this._entityCluster=new bt.a,this._canvas=i,this._camera=t,this._lastCameraView={position:Object(Fe.a)(t)?Se.a.clone(t.positionWC):void 0,direction:Object(Fe.a)(t)?Se.a.clone(t.directionWC):void 0,up:Object(Fe.a)(t)?Se.a.clone(t.upWC):void 0,bbox:Object(Fe.a)(t)?t.computeViewRectangle():tt.a.clone(tt.a.MAX_VALUE)},this._ellipsoid=Object(Ne.a)(e.ellipsoid,Be.a.WGS84);var n=e.credit;"string"==typeof n&&(n=new Le.a(n)),this._credit=n,this._resourceCredits=[]}function ye(e){var t=e.parent;if(Object(Fe.a)(t)){var i=t.availability;if(Object(Fe.a)(i)){var n=e.availability;Object(Fe.a)(n)?n.intersect(i):e.availability=i}}}function Oe(e,t,i,n,a){return function(r){function o(e){_.remove(e);for(var t=e._children,i=t.length,n=0;n<i;++n)o(t[n])}if(n.contains(t.id)){var s=!1,c=v(r,"NetworkLinkControl",Yt.kml),l=Object(Fe.a)(c),u=0;if(l){if(Object(Fe.a)(v(c,"Update",Yt.kml)))return Object(Ze.a)("kml-networkLinkControl-update","KML - NetworkLinkControl updates aren't supported."),t.updating=!1,void n.remove(t.id);t.cookie=Object(et.a)(Object(Ne.a)(w(c,"cookie",Yt.kml),"")),u=Object(Ne.a)(O(c,"minRefreshPeriod",Yt.kml),0)}var h=Ye.a.now(),d=t.refreshMode;if(d===$t.INTERVAL)Object(Fe.a)(c)&&(t.time=Math.max(u,t.time));else if(d===$t.EXPIRE){var f;if(Object(Fe.a)(c)&&(f=w(c,"expires",Yt.kml)),Object(Fe.a)(f))try{var p=Ye.a.fromIso8601(f),m=Ye.a.secondsDifference(p,h);m>0&&m<u&&Ye.a.addSeconds(h,u,p),t.time=p}catch(e){Object(Ze.a)("kml-networkLinkControl-expires","KML - NetworkLinkControl expires is not a valid date"),s=!0}else Object(Ze.a)("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element"),s=!0}var g=t.entity,_=e._entityCollection,b=i.values;_.suspendEvents();var y,x=_.values.slice();for(y=0;y<x.length;++y){var E=x[y];E.parent===g&&(E.parent=void 0,o(E))}for(_.resumeEvents(),_.suspendEvents(),y=0;y<b.length;y++){var T=b[y];Object(Fe.a)(T.parent)||(T.parent=g,ye(T)),_.add(T)}_.resumeEvents(),s?n.remove(t.id):t.lastUpdated=h;var A=_.computeAvailability(),C=A.start,S=A.stop,j=Ye.a.equals(C,Ge.a.MINIMUM_VALUE),P=Ye.a.equals(S,Ge.a.MAXIMUM_VALUE);if(!j||!P){var D=e._clock;D.startTime===C&&D.stopTime===S||(D.startTime=C,D.stopTime=S,e._changed.raiseEvent(e))}t.updating=!1,t.needsUpdate=!1,e._refresh.raiseEvent(e,a.getUrlComponent(!0))}}}function we(){this.author={name:void 0,uri:void 0,email:void 0},this.link={href:void 0,hreflang:void 0,rel:void 0,type:void 0,title:void 0,length:void 0},this.address=void 0,this.phoneNumber=void 0,this.snippet=void 0,this.extendedData=void 0}var xe,Ee=i("X8rS"),Te=i("7uRt"),Ae=i("or8k"),Ce=i("Ss9j"),Se=i("Jj+J"),je=i("I3GD"),Pe=i("P5H1"),De=i("miaP"),Ie=i("wv0P"),Re=i("6F0S"),Me=i("ed27"),Le=i("ODTd"),Ne=i("5A4e"),Fe=i("xC6Q"),ze=i("PzDm"),Be=i("y6fO"),ke=i("W6xh"),Ue=i("5DBO"),Ve=i("WROA"),He=i("n08a"),qe=i("ZHSH"),We=i("72xV"),Ge=i("DsDe"),Ye=i("9Uqs"),Xe=i("fq+p"),Qe=i("UkIP"),Je=i("BzNj"),Ze=i("VF2d"),Ke=i("Fd8u"),$e=i("rEiK"),et=i("4A4c"),tt=i("Wq1U"),it=i("rMjQ"),nt=i("V22k"),at=i("tQPh"),rt=i("vDBe"),ot=i("JIo7"),st=i("EwVK"),ct=i("RyAG"),lt=i("sotJ"),ut=i("UETe"),ht=i("8Vjj"),dt=i("S7OP"),ft=i("k7uJ"),pt=i("1L+j"),mt=i("VhtT"),gt=i("jjt3"),_t=i("oIh2"),vt=i("dMpj"),bt=i("eZY8"),yt=i("K+QI"),Ot=i("XUgp"),wt=i("186r"),xt=i("PLR4"),Et=i("cB1V"),Tt=i("pZIl"),At=i("nO52"),Ct=i("lwv5"),St=i("o8TK"),jt=i("xtiq"),Pt=i("rfxP"),Dt=i("rFgN"),It=i("G29O"),Rt=i("TuWn"),Mt=i("snMV"),Lt=i("0F/2"),Nt=i("ZT9/"),Ft={avi:"video/x-msvideo",bmp:"image/bmp",bz2:"application/x-bzip2",chm:"application/vnd.ms-htmlhelp",css:"text/css",csv:"text/csv",doc:"application/msword",dvi:"application/x-dvi",eps:"application/postscript",flv:"video/x-flv",gif:"image/gif",gz:"application/x-gzip",htm:"text/html",html:"text/html",ico:"image/vnd.microsoft.icon",jnlp:"application/x-java-jnlp-file",jpeg:"image/jpeg",jpg:"image/jpeg",m3u:"audio/x-mpegurl",m4v:"video/mp4",mathml:"application/mathml+xml",mid:"audio/midi",midi:"audio/midi",mov:"video/quicktime",mp3:"audio/mpeg",mp4:"video/mp4",mp4v:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",ogg:"application/ogg",pdf:"application/pdf",png:"image/png",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",ps:"application/postscript",qt:"video/quicktime",rdf:"application/rdf+xml",rss:"application/rss+xml",rtf:"application/rtf",svg:"image/svg+xml",swf:"application/x-shockwave-flash",text:"text/plain",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/x-wav",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",xml:"application/xml",zip:"application/zip",detectFromFilename:function(e){var t=e.toLowerCase();return t=Object(Ue.a)(t),Ft[t]}};"undefined"!=typeof DOMParser&&(xe=new DOMParser);var zt=new ut.a({stripPrefix:!1,email:!1,replaceFn:function(e){if(!e.protocolUrlMatch)return!1}}),Bt=32,kt=2414016,Ut=1,Vt=16093e3,Ht=.1,qt=[null,void 0,"http://www.opengis.net/kml/2.2","http://earth.google.com/kml/2.2","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.0"],Wt=["http://www.google.com/kml/ext/2.2"],Gt=["http://www.w3.org/2005/Atom"],Yt={kml:qt,gx:Wt,atom:Gt,kmlgx:qt.concat(Wt)},Xt={Document:te,Folder:ie,Placemark:ne,NetworkLink:pe,GroundOverlay:ue,PhotoOverlay:he,ScreenOverlay:he,Tour:ae};Object.defineProperties(n.prototype,{dataSource:{get:function(){return this._dataSource}}}),n.prototype.addNodes=function(e,t){this._stack.push({nodes:e,index:0,processingData:t}),this._used=!0},n.prototype.addPromise=function(e){this._promises.push(e)},n.prototype.wait=function(){var e=this._deferred;return this._used||e.resolve(),dt.a.join(e.promise,dt.a.all(this._promises))},n.prototype.process=function(){var e=1===this._stack.length;return e&&(this._started=be._getTimestamp()),this._process(e)},n.prototype._giveUpTime=function(){if(!this._timeoutSet){this._timeoutSet=!0,this._timeThreshold=50;var e=this;setTimeout(function(){e._timeoutSet=!1,e._started=be._getTimestamp(),e._process(!0)},0)}},n.prototype._nextNode=function(){var e=this._stack,t=e[e.length-1],i=t.index,n=t.nodes;if(i!==n.length)return++t.index,n[i]},n.prototype._pop=function(){var e=this._stack;return e.pop(),0!==e.length||(this._deferred.resolve(),!1)},n.prototype._process=function(e){for(var t=this.dataSource,i=this._stack[this._stack.length-1].processingData,n=this._nextNode();Object(Fe.a)(n);){var a=Xt[n.localName];if(Object(Fe.a)(a)&&(-1!==Yt.kml.indexOf(n.namespaceURI)||-1!==Yt.gx.indexOf(n.namespaceURI))&&(a(t,n,i,this),this._timeoutSet||be._getTimestamp()>this._started+this._timeThreshold))return void this._giveUpTime();n=this._nextNode()}this._pop()&&e&&this._process(!0)};var Qt,Jt={maximumRed:void 0,red:void 0,maximumGreen:void 0,green:void 0,maximumBlue:void 0,blue:void 0},Zt={Point:q,LineString:W,LinearRing:W,Polygon:G,Track:Y,MultiTrack:Q,MultiGeometry:J,Model:Z};"undefined"!=typeof document&&(Qt=document.createElement("div"));var Kt={FlyTo:se,Wait:oe,SoundCue:re,AnimatedUpdate:re,TourControl:re},$t={INTERVAL:0,EXPIRE:1,STOP:2},ei=new tt.a,ti=new je.a,ii=new Ce.a,ni=new Se.a;be.load=function(e,t){return t=Object(Ne.a)(t,Ne.a.EMPTY_OBJECT),new be(t).load(e,t)},Object.defineProperties(be.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},refreshEvent:{get:function(){return this._refresh}},unsupportedNodeEvent:{get:function(){return this._unsupportedNode}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!Object(Fe.a)(e))throw new ze.a("value must be defined.");this._entityCluster=e}},credit:{get:function(){return this._credit}}}),be.prototype.load=function(e,t){if(!Object(Fe.a)(e))throw new ze.a("data is required.");t=Object(Ne.a)(t,Ne.a.EMPTY_OBJECT),gt.a.setLoading(this,!0);var i=this._name;this._name=void 0,this._clampToGround=Object(Ne.a)(t.clampToGround,!1);var n=this;return ve(this,this._entityCollection,e,t).then(function(){var e,t=n._entityCollection.computeAvailability(),a=t.start,r=t.stop,o=Ye.a.equals(a,Ge.a.MINIMUM_VALUE),s=Ye.a.equals(r,Ge.a.MAXIMUM_VALUE);if(!o||!s){var c;o&&(c=new Date,c.setHours(0,0,0,0),a=Ye.a.fromDate(c)),s&&(c=new Date,c.setHours(24,0,0,0),r=Ye.a.fromDate(c)),e=new _t.a,e.startTime=a,e.stopTime=r,e.currentTime=Ye.a.clone(a),e.clockRange=Pe.a.LOOP_STOP,e.clockStep=De.a.SYSTEM_CLOCK_MULTIPLIER,e.multiplier=Math.round(Math.min(Math.max(Ye.a.secondsDifference(r,a)/60,1),31556900))}var l=!1;return e!==n._clock&&(n._clock=e,l=!0),i!==n._name&&(l=!0),l&&n._changed.raiseEvent(n),gt.a.setLoading(n,!1),n}).otherwise(function(e){return gt.a.setLoading(n,!1),n._error.raiseEvent(n,e),console.log(e),dt.a.reject(e)})};var ai=new Te.a;be.prototype.update=function(e){function t(e){for(var i=e._children,n=i.length,a=0;a<n;++a){var r=i[a];ai.set(r.id,r),t(r)}}var i=this._networkLinks;if(0===i.length)return!0;var n=Ye.a.now(),a=this;ai.removeAll();var r=!1,o=this._lastCameraView,s=this._camera;!Object(Fe.a)(s)||s.positionWC.equalsEpsilon(o.position,Xe.a.EPSILON7)&&s.directionWC.equalsEpsilon(o.direction,Xe.a.EPSILON7)&&s.upWC.equalsEpsilon(o.up,Xe.a.EPSILON7)||(o.position=Se.a.clone(s.positionWC),o.direction=Se.a.clone(s.directionWC),o.up=Se.a.clone(s.upWC),o.bbox=s.computeViewRectangle(),r=!0);var c=new Te.a,l=!1;return i.values.forEach(function(e){var i=e.entity;if(!ai.contains(i.id)){if(!e.updating){var s=!1;if(e.refreshMode===$t.INTERVAL?Ye.a.secondsDifference(n,e.lastUpdated)>e.time&&(s=!0):e.refreshMode===$t.EXPIRE?Ye.a.greaterThan(n,e.time)&&(s=!0):e.refreshMode===$t.STOP&&(r&&(e.needsUpdate=!0,e.cameraUpdateTime=n),e.needsUpdate&&Ye.a.secondsDifference(n,e.cameraUpdateTime)>=e.time&&(s=!0)),s){t(i),e.updating=!0;var u=new yt.a,h=e.href.clone();h.setQueryParameters(e.cookie);var d=Object(Ne.a)(a._ellipsoid,Be.a.WGS84);fe(h,a._camera,a._canvas,e.viewBoundScale,o.bbox,d),ve(a,u,h,{context:i.id}).then(Oe(a,e,u,c,h)).otherwise(function(t){var i="NetworkLink "+e.href+" refresh failed: "+t;console.log(i),a._error.raiseEvent(a,i)}),l=!0}}c.set(e.id,e)}}),l&&(this._networkLinks=c,this._changed.raiseEvent(this)),!0},be._DeferredLoading=n,be._getTimestamp=He.a,t.a=be},"Lub+":function(e,t,i){"use strict";function n(e,t){this.show=!0,Object(o.a)(e)||(e=new a.a),this.rectangle=a.a.clone(e),Object(o.a)(t)||(t=p.a.fromType(p.a.ColorType,{color:new r.a(1,1,1,1)})),this.material=t,this._material=void 0,this._overlayCommand=void 0,this._rs=void 0}var a=i("or8k"),r=i("6F0S"),o=i("xC6Q"),s=i("6sr8"),c=i("PzDm"),l=i("M0+0"),u=i("DrvA"),h=i("x6Ms"),d=i("JSx5"),f=i("OtDm"),p=i("5SZ+");n.prototype.update=function(e){if(this.show){if(!Object(o.a)(this.material))throw new c.a("this.material must be defined.");if(!Object(o.a)(this.rectangle))throw new c.a("this.rectangle must be defined.");var t=this._rs;Object(o.a)(t)&&a.a.equals(t.viewport,this.rectangle)||(this._rs=u.a.fromCache({blending:f.a.ALPHA_BLEND,viewport:this.rectangle}));if(e.passes.render){var i=e.context;if(this._material!==this.material||!Object(o.a)(this._overlayCommand)){this._material=this.material,Object(o.a)(this._overlayCommand)&&this._overlayCommand.shaderProgram.destroy();var n=new h.a({sources:[this._material.shaderSource,d.a]});this._overlayCommand=i.createViewportQuadCommand(n,{renderState:this._rs,uniformMap:this._material._uniforms,owner:this}),this._overlayCommand.pass=l.a.OVERLAY}this._material.update(i),this._overlayCommand.uniformMap=this._material._uniforms,e.commandList.push(this._overlayCommand)}}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return Object(o.a)(this._overlayCommand)&&(this._overlayCommand.shaderProgram=this._overlayCommand.shaderProgram&&this._overlayCommand.shaderProgram.destroy()),Object(s.a)(this)}},Lx6B:function(e,t,i){"use strict";var n=i("fq+p"),a={HIGHLIGHT:0,REPLACE:1,MIX:2};a.getColorBlend=function(e,t){return e===a.HIGHLIGHT?0:e===a.REPLACE?1:e===a.MIX?n.a.clamp(t,n.a.EPSILON4,1):void 0},t.a=Object.freeze(a)},LxRp:function(e,t,i){"use strict";function n(e,t){this._velocityVectorProperty=new f.a(e,!0),this._subscription=void 0,this._ellipsoid=void 0,this._definitionChanged=new c.a,this.ellipsoid=Object(r.a)(t,s.a.WGS84);var i=this;this._velocityVectorProperty.definitionChanged.addEventListener(function(){i._definitionChanged.raiseEvent(i)})}var a=i("Jj+J"),r=i("5A4e"),o=i("xC6Q"),s=i("y6fO"),c=i("W6xh"),l=i("i3sv"),u=i("q/xW"),h=i("g/FO"),d=i("uhjI"),f=i("QpGe");Object.defineProperties(n.prototype,{isConstant:{get:function(){return d.a.isConstant(this._velocityVectorProperty)}},definitionChanged:{get:function(){return this._definitionChanged}},position:{get:function(){return this._velocityVectorProperty.position},set:function(e){this._velocityVectorProperty.position=e}},ellipsoid:{get:function(){return this._ellipsoid},set:function(e){this._ellipsoid!==e&&(this._ellipsoid=e,this._definitionChanged.raiseEvent(this))}}});var p=new a.a,m=new a.a,g=new l.a;n.prototype.getValue=function(e,t){var i=this._velocityVectorProperty._getValue(e,m,p);if(Object(o.a)(i))return h.a.rotationMatrixFromPositionVelocity(p,i,this._ellipsoid,g),u.a.fromRotationMatrix(g,t)},n.prototype.equals=function(e){return this===e||e instanceof n&&d.a.equals(this._velocityVectorProperty,e._velocityVectorProperty)&&(this._ellipsoid===e._ellipsoid||this._ellipsoid.equals(e._ellipsoid))},t.a=n},"M0+0":function(e,t,i){"use strict";var n={ENVIRONMENT:0,COMPUTE:1,GLOBE:2,TERRAIN_CLASSIFICATION:3,CESIUM_3D_TILE:4,CESIUM_3D_TILE_CLASSIFICATION:5,CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW:6,OPAQUE:7,TRANSLUCENT:8,OVERLAY:9,NUMBER_OF_PASSES:10};t.a=Object.freeze(n)},M1To:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s){this.provider=e,this.message=t,this.x=i,this.y=n,this.level=r,this.timesRetried=Object(a.a)(o,0),this.retry=!1,this.error=s}var a=i("5A4e"),r=i("xC6Q"),o=i("fr+a");n.handleError=function(e,t,i,a,s,c,l,u,h){var d=e;return Object(r.a)(e)?(d.provider=t,d.message=a,d.x=s,d.y=c,d.level=l,d.retry=!1,d.error=h,++d.timesRetried):d=new n(t,a,s,c,l,0,h),i.numberOfListeners>0?i.raiseEvent(d):console.log('An error occurred in "'+t.constructor.name+'": '+Object(o.a)(a)),d.retry&&Object(r.a)(u)&&u(),d},n.handleSuccess=function(e){Object(r.a)(e)&&(e.timesRetried=-1)},t.a=n},M1aY:function(e,t,i){"use strict";var n=i("5A4e"),a=i("xC6Q"),r=i("PzDm"),o={};o.calculateACMR=function(e){e=Object(n.a)(e,n.a.EMPTY_OBJECT);var t=e.indices,i=e.maximumIndex,o=Object(n.a)(e.cacheSize,24);if(!Object(a.a)(t))throw new r.a("indices is required.");var s=t.length;if(s<3||s%3!=0)throw new r.a("indices length must be a multiple of three.");if(i<=0)throw new r.a("maximumIndex must be greater than zero.");if(o<3)throw new r.a("cacheSize must be greater than two.");if(!Object(a.a)(i)){i=0;for(var c=0,l=t[c];c<s;)l>i&&(i=l),++c,l=t[c]}for(var u=[],h=0;h<i+1;h++)u[h]=0;for(var d=o+1,f=0;f<s;++f)d-u[t[f]]>o&&(u[t[f]]=d,++d);return(d-o+1)/(s/3)},o.tipsify=function(e){function t(e,t,n,a){for(;t.length>=1;){var r=t[t.length-1];if(t.splice(t.length-1,1),e[r].numLiveTriangles>0)return r}for(;i<a;){if(e[i].numLiveTriangles>0)return++i-1;++i}return-1}e=Object(n.a)(e,n.a.EMPTY_OBJECT);var i,o=e.indices,s=e.maximumIndex,c=Object(n.a)(e.cacheSize,24);if(!Object(a.a)(o))throw new r.a("indices is required.");var l=o.length;if(l<3||l%3!=0)throw new r.a("indices length must be a multiple of three.");if(s<=0)throw new r.a("maximumIndex must be greater than zero.");if(c<3)throw new r.a("cacheSize must be greater than two.");var u=0,h=0,d=o[h],f=l;if(Object(a.a)(s))u=s+1;else{for(;h<f;)d>u&&(u=d),++h,d=o[h];if(-1===u)return 0;++u}var p,m=[];for(p=0;p<u;p++)m[p]={numLiveTriangles:0,timeStamp:0,vertexTriangles:[]};h=0;for(var g=0;h<f;)m[o[h]].vertexTriangles.push(g),++m[o[h]].numLiveTriangles,m[o[h+1]].vertexTriangles.push(g),++m[o[h+1]].numLiveTriangles,m[o[h+2]].vertexTriangles.push(g),++m[o[h+2]].numLiveTriangles,++g,h+=3;var _=0,v=c+1;i=1;var b,y,O=[],w=[],x=0,E=[],T=l/3,A=[];for(p=0;p<T;p++)A[p]=!1;for(var C,S;-1!==_;){O=[],y=m[_],S=y.vertexTriangles.length;for(var j=0;j<S;++j)if(g=y.vertexTriangles[j],!A[g]){A[g]=!0,h=g+g+g;for(var P=0;P<3;++P)C=o[h],O.push(C),w.push(C),E[x]=C,++x,b=m[C],--b.numLiveTriangles,v-b.timeStamp>c&&(b.timeStamp=v,++v),++h}_=function(e,i,n,a,r,o,s){for(var c,l=-1,u=-1,h=0;h<n.length;){var d=n[h];a[d].numLiveTriangles&&(c=0,r-a[d].timeStamp+2*a[d].numLiveTriangles<=i&&(c=r-a[d].timeStamp),(c>u||-1===u)&&(u=c,l=d)),++h}return-1===l?t(a,o,e,s):l}(o,c,O,m,v,w,u)}return E},t.a=o},M1dj:function(e,t,i){"use strict";var n={TERRAIN:0,CESIUM_3D_TILE:1,BOTH:2,NUMBER_OF_CLASSIFICATION_TYPES:3};t.a=Object.freeze(n)},M4f6:function(e,t,i){"use strict";function n(e,t,i,n,a){var r=s.a.angleBetween(s.a.subtract(t,e,g),s.a.subtract(i,e,_)),o=n===c.a.BEVELED?1:Math.ceil(r/u.a.toRadians(5))+1,l=3*o,d=new Array(l);d[l-3]=i.x,d[l-2]=i.y,d[l-1]=i.z;var f;f=a?h.a.fromQuaternion(p.a.fromAxisAngle(s.a.negate(e,g),r/o,D),I):h.a.fromQuaternion(p.a.fromAxisAngle(e,r/o,D),I);var m=0;t=s.a.clone(t,g);for(var v=0;v<o;v++)t=h.a.multiplyByVector(f,t,t),d[m++]=t.x,d[m++]=t.y,d[m++]=t.z;return d}function a(e){var t=O,i=w,a=x,r=e[1];i=s.a.fromArray(e[1],r.length-3,i),a=s.a.fromArray(e[0],0,a),t=s.a.midpoint(i,a,t);var o=n(t,i,a,c.a.ROUNDED,!1),l=e.length-1,u=e[l-1];return r=e[l],i=s.a.fromArray(u,u.length-3,i),a=s.a.fromArray(r,0,a),t=s.a.midpoint(i,a,t),[o,n(t,i,a,c.a.ROUNDED,!1)]}function r(e,t,i,n){var a=g;return n?a=s.a.add(e,t,a):(t=s.a.negate(t,t),a=s.a.add(e,t,a)),[a.x,a.y,a.z,i.x,i.y,i.z]}function o(e,t,i,n){for(var a=new Array(e.length),r=new Array(e.length),o=s.a.multiplyByScalar(t,i,g),c=s.a.negate(o,_),l=0,u=e.length-1,h=0;h<e.length;h+=3){var d=s.a.fromArray(e,h,v),f=s.a.add(d,c,b);a[l++]=f.x,a[l++]=f.y,a[l++]=f.z;var p=s.a.add(d,o,b);r[u--]=p.z,r[u--]=p.y,r[u--]=p.x}return n.push(a,r),n}var s=i("Jj+J"),c=i("sEJp"),l=i("xC6Q"),u=i("fq+p"),h=i("i3sv"),d=i("QhJM"),f=i("VpTN"),p=i("q/xW"),m={},g=new s.a,_=new s.a,v=new s.a,b=new s.a,y=[new s.a,new s.a],O=new s.a,w=new s.a,x=new s.a,E=new s.a,T=new s.a,A=new s.a,C=new s.a,S=new s.a,j=new s.a,P=new s.a,D=new p.a,I=new h.a;m.addAttribute=function(e,t,i,n){var a=t.x,r=t.y,o=t.z;Object(l.a)(i)&&(e[i]=a,e[i+1]=r,e[i+2]=o),Object(l.a)(n)&&(e[n]=o,e[n-1]=r,e[n-2]=a)};var R=new s.a,M=new s.a;m.computePositions=function(e){var t=e.granularity,i=e.positions,l=e.ellipsoid,h=e.width/2,p=e.cornerType,m=e.saveAttributes,_=O,v=w,b=x,D=E,I=T,L=A,N=C,F=S,z=j,B=P,k=[],U=m?[]:void 0,V=m?[]:void 0,H=i[0],q=i[1];v=s.a.normalize(s.a.subtract(q,H,v),v),_=l.geodeticSurfaceNormal(H,_),D=s.a.normalize(s.a.cross(_,v,D),D),m&&(U.push(D.x,D.y,D.z),V.push(_.x,_.y,_.z)),N=s.a.clone(H,N),H=q,b=s.a.negate(v,b);var W,G,Y=[],X=i.length;for(G=1;G<X-1;G++){_=l.geodeticSurfaceNormal(H,_),q=i[G+1],v=s.a.normalize(s.a.subtract(q,H,v),v),I=s.a.normalize(s.a.add(v,b,I),I);var Q=s.a.multiplyByScalar(_,s.a.dot(v,_),R);s.a.subtract(v,Q,Q),s.a.normalize(Q,Q);var J=s.a.multiplyByScalar(_,s.a.dot(b,_),M);s.a.subtract(b,J,J),s.a.normalize(J,J);if(!u.a.equalsEpsilon(Math.abs(s.a.dot(Q,J)),1,u.a.EPSILON7)){I=s.a.cross(I,_,I),I=s.a.cross(_,I,I),I=s.a.normalize(I,I);var Z=h/Math.max(.25,s.a.magnitude(s.a.cross(I,b,g))),K=f.a.angleIsGreaterThanPi(v,b,H,l);I=s.a.multiplyByScalar(I,Z,I),K?(F=s.a.add(H,I,F),B=s.a.add(F,s.a.multiplyByScalar(D,h,B),B),z=s.a.add(F,s.a.multiplyByScalar(D,2*h,z),z),y[0]=s.a.clone(N,y[0]),y[1]=s.a.clone(B,y[1]),W=d.a.generateArc({positions:y,granularity:t,ellipsoid:l}),k=o(W,D,h,k),m&&(U.push(D.x,D.y,D.z),V.push(_.x,_.y,_.z)),L=s.a.clone(z,L),D=s.a.normalize(s.a.cross(_,v,D),D),z=s.a.add(F,s.a.multiplyByScalar(D,2*h,z),z),N=s.a.add(F,s.a.multiplyByScalar(D,h,N),N),p===c.a.ROUNDED||p===c.a.BEVELED?Y.push({leftPositions:n(F,L,z,p,K)}):Y.push({leftPositions:r(H,s.a.negate(I,I),z,K)})):(z=s.a.add(H,I,z),B=s.a.add(z,s.a.negate(s.a.multiplyByScalar(D,h,B),B),B),F=s.a.add(z,s.a.negate(s.a.multiplyByScalar(D,2*h,F),F),F),y[0]=s.a.clone(N,y[0]),y[1]=s.a.clone(B,y[1]),W=d.a.generateArc({positions:y,granularity:t,ellipsoid:l}),k=o(W,D,h,k),m&&(U.push(D.x,D.y,D.z),V.push(_.x,_.y,_.z)),L=s.a.clone(F,L),D=s.a.normalize(s.a.cross(_,v,D),D),F=s.a.add(z,s.a.negate(s.a.multiplyByScalar(D,2*h,F),F),F),N=s.a.add(z,s.a.negate(s.a.multiplyByScalar(D,h,N),N),N),p===c.a.ROUNDED||p===c.a.BEVELED?Y.push({rightPositions:n(z,L,F,p,K)}):Y.push({rightPositions:r(H,I,F,K)})),b=s.a.negate(v,b)}H=q}_=l.geodeticSurfaceNormal(H,_),y[0]=s.a.clone(N,y[0]),y[1]=s.a.clone(H,y[1]),W=d.a.generateArc({positions:y,granularity:t,ellipsoid:l}),k=o(W,D,h,k),m&&(U.push(D.x,D.y,D.z),V.push(_.x,_.y,_.z));var $;return p===c.a.ROUNDED&&($=a(k)),{positions:k,corners:Y,lefts:U,normals:V,endPositions:$}},t.a=m},M7iW:function(e,t,i){"use strict";t.a="/**\n * A built-in GLSL floating-point constant for one solar radius.\n *\n * @alias czm_solarRadius\n * @glslConstant\n *\n * @see CesiumMath.SOLAR_RADIUS\n *\n * @example\n * // GLSL declaration\n * const float czm_solarRadius = ...;\n */\nconst float czm_solarRadius = 695500000.0;\n"},MFJQ:function(e,t,i){"use strict";t.a="/**\n * Approximately computes spherical coordinates given a normal.\n * Uses approximate inverse trigonometry for speed and consistency,\n * since inverse trigonometry can differ from vendor-to-vendor and when compared with the CPU.\n *\n * @name czm_approximateSphericalCoordinates\n * @glslFunction\n *\n * @param {vec3} normal arbitrary-length normal.\n *\n * @returns {vec2} Approximate latitude and longitude spherical coordinates.\n */\nvec2 czm_approximateSphericalCoordinates(vec3 normal) {\n    // Project into plane with vertical for latitude\n    float latitudeApproximation = czm_fastApproximateAtan(sqrt(normal.x * normal.x + normal.y * normal.y), normal.z);\n    float longitudeApproximation = czm_fastApproximateAtan(normal.x, normal.y);\n    return vec2(latitudeApproximation, longitudeApproximation);\n}\n"},MJbR:function(e,t,i){"use strict";t.a="uniform sampler2D u_depthTexture;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main()\n{\n    gl_FragColor = czm_packDepth(texture2D(u_depthTexture, v_textureCoordinates).r);\n}\n"},MLtC:function(e,t,i){"use strict";function n(e,t){this.near=Object(a.a)(e,0),this.far=Object(a.a)(t,0);for(var i=r.a.NUMBER_OF_PASSES,n=new Array(i),o=new Array(i),s=0;s<i;++s)n[s]=[],o[s]=0;this.commands=n,this.indices=o}var a=i("5A4e"),r=i("M0+0");t.a=n},MMCB:function(e,t,i){"use strict";function n(e){this.proxy=e}n.prototype.getURL=function(e){var t=-1===this.proxy.indexOf("?")?"?":"";return this.proxy+t+encodeURIComponent(e)}},MNi1:function(e,t,i){"use strict";function n(e,t,i,n){this._format=e,this._width=t,this._height=i,this._buffer=n}var a=i("xC6Q");Object.defineProperties(n.prototype,{internalFormat:{get:function(){return this._format}},width:{get:function(){return this._width}},height:{get:function(){return this._height}},bufferView:{get:function(){return this._buffer}}}),n.clone=function(e){if(Object(a.a)(e))return new n(e._format,e._width,e._height,e._buffer)},n.prototype.clone=function(){return n.clone(this)},t.a=n},MTwh:function(e,t,i){"use strict";function n(e,t){if(!Object(s.a)(e))throw new c.a("occluderBoundingSphere is required.");if(!Object(s.a)(t))throw new c.a("camera position is required.");this._occluderPosition=r.a.clone(e.center),this._occluderRadius=e.radius,this._horizonDistance=0,this._horizonPlaneNormal=void 0,this._horizonPlanePosition=void 0,this._cameraPosition=void 0,this.cameraPosition=t}var a=i("lBr9"),r=i("Jj+J"),o=i("5A4e"),s=i("xC6Q"),c=i("PzDm"),l=i("y6fO"),u=i("fq+p"),h=i("Wq1U"),d=i("h+i9"),f=new r.a;Object.defineProperties(n.prototype,{position:{get:function(){return this._occluderPosition}},radius:{get:function(){return this._occluderRadius}},cameraPosition:{set:function(e){if(!Object(s.a)(e))throw new c.a("cameraPosition is required.");e=r.a.clone(e,this._cameraPosition);var t,i,n,a=r.a.subtract(this._occluderPosition,e,f),o=r.a.magnitudeSquared(a),l=this._occluderRadius*this._occluderRadius;if(o>l){t=Math.sqrt(o-l),o=1/Math.sqrt(o),i=r.a.multiplyByScalar(a,o,f);var u=t*t*o;n=r.a.add(e,r.a.multiplyByScalar(i,u,f),f)}else t=Number.MAX_VALUE;this._horizonDistance=t,this._horizonPlaneNormal=i,this._horizonPlanePosition=n,this._cameraPosition=e}}}),n.fromBoundingSphere=function(e,t,i){if(!Object(s.a)(e))throw new c.a("occluderBoundingSphere is required.");if(!Object(s.a)(t))throw new c.a("camera position is required.");return Object(s.a)(i)?(r.a.clone(e.center,i._occluderPosition),i._occluderRadius=e.radius,i.cameraPosition=t,i):new n(e,t)};var p=new r.a;n.prototype.isPointVisible=function(e){if(this._horizonDistance!==Number.MAX_VALUE){var t=r.a.subtract(e,this._occluderPosition,p),i=this._occluderRadius;if((i=r.a.magnitudeSquared(t)-i*i)>0)return i=Math.sqrt(i)+this._horizonDistance,t=r.a.subtract(e,this._cameraPosition,t),i*i>r.a.magnitudeSquared(t)}return!1};var m=new r.a;n.prototype.isBoundingSphereVisible=function(e){var t=r.a.clone(e.center,m),i=e.radius;if(this._horizonDistance!==Number.MAX_VALUE){var n=r.a.subtract(t,this._occluderPosition,p),a=this._occluderRadius-i;if(a=r.a.magnitudeSquared(n)-a*a,i<this._occluderRadius)return a>0&&(a=Math.sqrt(a)+this._horizonDistance,n=r.a.subtract(t,this._cameraPosition,n),a*a+i*i>r.a.magnitudeSquared(n));if(a>0){n=r.a.subtract(t,this._cameraPosition,n);var o=r.a.magnitudeSquared(n),s=this._occluderRadius*this._occluderRadius,c=i*i;return(this._horizonDistance*this._horizonDistance+s)*c>o*s||(a=Math.sqrt(a)+this._horizonDistance)*a+c>o}return!0}return!1};var g=new r.a;n.prototype.computeVisibility=function(e){if(!Object(s.a)(e))throw new c.a("occludeeBS is required.");var t=r.a.clone(e.center),i=e.radius;if(i>this._occluderRadius)return d.a.FULL;if(this._horizonDistance!==Number.MAX_VALUE){var n=r.a.subtract(t,this._occluderPosition,g),a=this._occluderRadius-i,o=r.a.magnitudeSquared(n);if((a=o-a*a)>0){a=Math.sqrt(a)+this._horizonDistance,n=r.a.subtract(t,this._cameraPosition,n);var l=r.a.magnitudeSquared(n);return a*a+i*i<l?d.a.NONE:(a=this._occluderRadius+i,(a=o-a*a)>0?(a=Math.sqrt(a)+this._horizonDistance,l<a*a+i*i?d.a.FULL:d.a.PARTIAL):(n=r.a.subtract(t,this._horizonPlanePosition,n),r.a.dot(n,this._horizonPlaneNormal)>-i?d.a.PARTIAL:d.a.FULL))}}return d.a.NONE};var _=new r.a;n.computeOccludeePoint=function(e,t,i){if(!Object(s.a)(e))throw new c.a("occluderBoundingSphere is required.");if(!Object(s.a)(i))throw new c.a("positions is required.");if(0===i.length)throw new c.a("positions must contain at least one element");var a=r.a.clone(t),o=r.a.clone(e.center),l=e.radius,u=i.length;if(r.a.equals(o,t))throw new c.a("occludeePosition must be different than occluderBoundingSphere.center");var h=r.a.normalize(r.a.subtract(a,o,_),_),d=-r.a.dot(h,o),f=n._anyRotationVector(o,h,d),p=n._horizonToPlaneNormalDotProduct(e,h,d,f,i[0]);if(p){for(var m,g=1;g<u;++g){if(!(m=n._horizonToPlaneNormalDotProduct(e,h,d,f,i[g])))return;m<p&&(p=m)}if(!(p<.0017453283658983088)){var v=l/p;return r.a.add(o,r.a.multiplyByScalar(h,v,_),_)}}};var v=[];n.computeOccludeePointFromRectangle=function(e,t){if(!Object(s.a)(e))throw new c.a("rectangle is required.");t=Object(o.a)(t,l.a.WGS84);var i=h.a.subsample(e,t,0,v),u=a.a.fromPoints(i),d=r.a.ZERO;if(!r.a.equals(d,u.center))return n.computeOccludeePoint(new a.a(d,t.minimumRadius),u.center,i)};var b=new r.a;n._anyRotationVector=function(e,t,i){var n=r.a.abs(t,b),a=n.x>n.y?0:1;(0===a&&n.z>n.x||1===a&&n.z>n.y)&&(a=2);var o,s=new r.a;0===a?(n.x=e.x,n.y=e.y+1,n.z=e.z+1,o=r.a.UNIT_X):1===a?(n.x=e.x+1,n.y=e.y,n.z=e.z+1,o=r.a.UNIT_Y):(n.x=e.x+1,n.y=e.y+1,n.z=e.z,o=r.a.UNIT_Z);var c=(r.a.dot(t,n)+i)/-r.a.dot(t,o);return r.a.normalize(r.a.subtract(r.a.add(n,r.a.multiplyByScalar(o,c,s),n),e,n),n)};var y=new r.a;n._rotationVector=function(e,t,i,n,a){var o=r.a.subtract(n,e,y);if(o=r.a.normalize(o,o),r.a.dot(t,o)<.9999999847691291){var s=r.a.cross(t,o,o);if(r.a.magnitude(s)>u.a.EPSILON13)return r.a.normalize(s,new r.a)}return a};var O=new r.a,w=new r.a,x=new r.a,E=new r.a;n._horizonToPlaneNormalDotProduct=function(e,t,i,n,a){var o=r.a.clone(a,O),s=r.a.clone(e.center,w),c=e.radius,l=r.a.subtract(s,o,x),u=r.a.magnitudeSquared(l),h=c*c;if(u<h)return!1;var d=u-h,f=Math.sqrt(d),p=Math.sqrt(u),m=1/p,g=f*m,_=g*f;l=r.a.normalize(l,l);var v=r.a.add(o,r.a.multiplyByScalar(l,_,E),E),b=Math.sqrt(d-_*_),y=this._rotationVector(s,t,i,o,n),T=r.a.fromElements(y.x*y.x*l.x+(y.x*y.y-y.z)*l.y+(y.x*y.z+y.y)*l.z,(y.x*y.y+y.z)*l.x+y.y*y.y*l.y+(y.y*y.z-y.x)*l.z,(y.x*y.z-y.y)*l.x+(y.y*y.z+y.x)*l.y+y.z*y.z*l.z,O);T=r.a.normalize(T,T);var A=r.a.multiplyByScalar(T,b,O);y=r.a.normalize(r.a.subtract(r.a.add(v,A,x),s,x),x);var C=r.a.dot(t,y);y=r.a.normalize(r.a.subtract(r.a.subtract(v,A,y),s,y),y);var S=r.a.dot(t,y);return C<S?C:S},t.a=n},MU5D:function(e,t,i){var n=i("R9M2");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},MVQ4:function(e,t,i){"use strict";t.a="varying vec3 v_positionMC;\nvarying vec3 v_positionEC;\nvarying vec2 v_st;\n\nvoid main()\n{\n    czm_materialInput materialInput;\n\n    vec3 normalEC = normalize(czm_normal3D * czm_geodeticSurfaceNormal(v_positionMC, vec3(0.0), vec3(1.0)));\n#ifdef FACE_FORWARD\n    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n#endif\n\n    materialInput.s = v_st.s;\n    materialInput.st = v_st;\n    materialInput.str = vec3(v_st, 0.0);\n\n    // Convert tangent space material normal to eye space\n    materialInput.normalEC = normalEC;\n    materialInput.tangentToEyeMatrix = czm_eastNorthUpToEyeCoordinates(v_positionMC, materialInput.normalEC);\n\n    // Convert view vector to world space\n    vec3 positionToEyeEC = -v_positionEC;\n    materialInput.positionToEyeEC = positionToEyeEC;\n\n    czm_material material = czm_getMaterial(materialInput);\n\n#ifdef FLAT\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#else\n    gl_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n#endif\n}\n"},MWnf:function(e,t,i){"use strict";function n(e){var t=e._uSquared,i=e._ellipsoid.maximumRadius,n=e._ellipsoid.minimumRadius,a=(i-n)/i,r=Math.cos(e._startHeading),o=Math.sin(e._startHeading),s=(1-a)*Math.tan(e._start.latitude),c=1/Math.sqrt(1+s*s),l=c*s,u=Math.atan2(s,r),h=c*o,d=h*h,f=1-d,p=Math.sqrt(f),m=t/4,g=m*m,_=g*m,v=g*g,b=1+m-3*g/4+5*_/4-175*v/64,y=1-m+15*g/8-35*_/8,O=1-3*m+35*g/4,w=1-5*m,x=b*u-y*Math.sin(2*u)*m/2-O*Math.sin(4*u)*g/16-w*Math.sin(6*u)*_/48-5*Math.sin(8*u)*v/512,E=e._constants;E.a=i,E.b=n,E.f=a,E.cosineHeading=r,E.sineHeading=o,E.tanU=s,E.cosineU=c,E.sineU=l,E.sigma=u,E.sineAlpha=h,E.sineSquaredAlpha=d,E.cosineSquaredAlpha=f,E.cosineAlpha=p,E.u2Over4=m,E.u4Over16=g,E.u6Over64=_,E.u8Over256=v,E.a0=b,E.a1=y,E.a2=O,E.a3=w,E.distanceRatio=x}function a(e,t){return e*t*(4+e*(4-3*t))/16}function r(e,t,i,n,r,o,s){var c=a(e,i);return(1-c)*e*t*(n+c*r*(s+c*o*(2*s*s-1)))}function o(e,t,i,n,a,o,s){var c,l,u,h,d,f=(t-i)/t,p=o-n,g=Math.atan((1-f)*Math.tan(a)),_=Math.atan((1-f)*Math.tan(s)),v=Math.cos(g),b=Math.sin(g),y=Math.cos(_),O=Math.sin(_),w=v*y,x=v*O,E=b*O,T=b*y,A=p,C=m.a.TWO_PI,S=Math.cos(A),j=Math.sin(A);do{S=Math.cos(A),j=Math.sin(A);var P=x-T*S;u=Math.sqrt(y*y*j*j+P*P),l=E+w*S,c=Math.atan2(u,l);var D;0===u?(D=0,h=1):(D=w*j/u,h=1-D*D),C=A,d=l-2*E/h,isNaN(d)&&(d=0),A=p+r(f,D,h,c,u,l,d)}while(Math.abs(A-C)>m.a.EPSILON12);var I=h*(t*t-i*i)/(i*i),R=1+I*(4096+I*(I*(320-175*I)-768))/16384,M=I*(256+I*(I*(74-47*I)-128))/1024,L=d*d,N=M*u*(d+M*(l*(2*L-1)-M*d*(4*u*u-3)*(4*L-3)/6)/4),F=i*R*(c-N),z=Math.atan2(y*j,x-T*S),B=Math.atan2(v*j,x*S-T);e._distance=F,e._startHeading=z,e._endHeading=B,e._uSquared=I}function s(e,t,i,a){var r=l.a.normalize(a.cartographicToCartesian(t,_),g),s=l.a.normalize(a.cartographicToCartesian(i,_),_);h.a.typeOf.number.greaterThanOrEquals("value",Math.abs(Math.abs(l.a.angleBetween(r,s))-Math.PI),.0125),o(e,a.maximumRadius,a.minimumRadius,t.longitude,t.latitude,i.longitude,i.latitude),e._start=u.a.clone(t,e._start),e._end=u.a.clone(i,e._end),e._start.height=0,e._end.height=0,n(e)}function c(e,t,i){var n=Object(d.a)(i,p.a.WGS84);this._ellipsoid=n,this._start=new u.a,this._end=new u.a,this._constants={},this._startHeading=void 0,this._endHeading=void 0,this._distance=void 0,this._uSquared=void 0,Object(f.a)(e)&&Object(f.a)(t)&&s(this,e,t,n)}var l=i("Jj+J"),u=i("I3GD"),h=i("5F4X"),d=i("5A4e"),f=i("xC6Q"),p=i("y6fO"),m=i("fq+p"),g=new l.a,_=new l.a;Object.defineProperties(c.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},surfaceDistance:{get:function(){return h.a.defined("distance",this._distance),this._distance}},start:{get:function(){return this._start}},end:{get:function(){return this._end}},startHeading:{get:function(){return h.a.defined("distance",this._distance),this._startHeading}},endHeading:{get:function(){return h.a.defined("distance",this._distance),this._endHeading}}}),c.prototype.setEndPoints=function(e,t){h.a.defined("start",e),h.a.defined("end",t),s(this,e,t,this._ellipsoid)},c.prototype.interpolateUsingFraction=function(e,t){return this.interpolateUsingSurfaceDistance(this._distance*e,t)},c.prototype.interpolateUsingSurfaceDistance=function(e,t){h.a.defined("distance",this._distance);var i=this._constants,n=i.distanceRatio+e/i.b,a=Math.cos(2*n),o=Math.cos(4*n),s=Math.cos(6*n),c=Math.sin(2*n),l=Math.sin(4*n),d=Math.sin(6*n),p=Math.sin(8*n),m=n*n,g=n*m,_=i.u8Over256,v=i.u2Over4,b=i.u6Over64,y=i.u4Over16,O=2*g*_*a/3+n*(1-v+7*y/4-15*b/4+579*_/64-(y-15*b/4+187*_/16)*a-(5*b/4-115*_/16)*o-29*_*s/16)+(v/2-y+71*b/32-85*_/16)*c+(5*y/16-5*b/4+383*_/96)*l-m*((b-11*_/2)*c+5*_*l/2)+(29*b/96-29*_/16)*d+539*_*p/1536,w=Math.asin(Math.sin(O)*i.cosineAlpha),x=Math.atan(i.a/i.b*Math.tan(w));O-=i.sigma;var E=Math.cos(2*i.sigma+O),T=Math.sin(O),A=Math.cos(O),C=i.cosineU*A,S=i.sineU*T,j=Math.atan2(T*i.sineHeading,C-S*i.cosineHeading),P=j-r(i.f,i.sineAlpha,i.cosineSquaredAlpha,O,T,A,E);return Object(f.a)(t)?(t.longitude=this._start.longitude+P,t.latitude=x,t.height=0,t):new u.a(this._start.longitude+P,x,0)},t.a=c},MY1y:function(e,t,i){"use strict";function n(e,t,i,n){this.interval=e,this.height=t,this.color=i||new a.a(.5,.5,.5,1),this.backgroundColor=n||new a.a(0,0,0,0)}var a=i("6F0S"),r=i("xC6Q"),o=i("9Uqs");n.prototype.render=function(e,t){var i=this.interval.start,n=this.interval.stop,a=t.startJulian,s=o.a.addSeconds(t.startJulian,t.duration,new o.a);if(o.a.lessThan(i,a)&&o.a.greaterThan(n,s))e.fillStyle=this.color.toCssColorString(),e.fillRect(0,t.y,t.timeBarWidth,this.height);else if(o.a.lessThanOrEquals(i,s)&&o.a.greaterThanOrEquals(n,a)){var c,l,u;for(c=0;c<t.timeBarWidth;++c){var h=o.a.addSeconds(t.startJulian,c/t.timeBarWidth*t.duration,new o.a);!Object(r.a)(l)&&o.a.greaterThanOrEquals(h,i)?l=c:!Object(r.a)(u)&&o.a.greaterThanOrEquals(h,n)&&(u=c)}e.fillStyle=this.backgroundColor.toCssColorString(),e.fillRect(0,t.y,t.timeBarWidth,this.height),Object(r.a)(l)&&(Object(r.a)(u)||(u=t.timeBarWidth),e.fillStyle=this.color.toCssColorString(),e.fillRect(l,t.y,Math.max(u-l,1),this.height))}},t.a=n},MYGk:function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT),this._offCenterFrustum=new u.a,this.fov=e.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=e.aspectRatio,this._aspectRatio=void 0,this.near=Object(o.a)(e.near,1),this._near=this.near,this.far=Object(o.a)(e.far,5e8),this._far=this.far,this.xOffset=Object(o.a)(e.xOffset,0),this._xOffset=this.xOffset,this.yOffset=Object(o.a)(e.yOffset,0),this._yOffset=this.yOffset}function a(e){if(!(Object(s.a)(e.fov)&&Object(s.a)(e.aspectRatio)&&Object(s.a)(e.near)&&Object(s.a)(e.far)))throw new c.a("fov, aspectRatio, near, or far parameters are not set.");var t=e._offCenterFrustum;if(e.fov!==e._fov||e.aspectRatio!==e._aspectRatio||e.near!==e._near||e.far!==e._far||e.xOffset!==e._xOffset||e.yOffset!==e._yOffset){if(e.fov<0||e.fov>=Math.PI)throw new c.a("fov must be in the range [0, PI).");if(e.aspectRatio<0)throw new c.a("aspectRatio must be positive.");if(e.near<0||e.near>e.far)throw new c.a("near must be greater than zero and less than far.");e._aspectRatio=e.aspectRatio,e._fov=e.fov,e._fovy=e.aspectRatio<=1?e.fov:2*Math.atan(Math.tan(.5*e.fov)/e.aspectRatio),e._near=e.near,e._far=e.far,e._sseDenominator=2*Math.tan(.5*e._fovy),e._xOffset=e.xOffset,e._yOffset=e.yOffset,t.top=e.near*Math.tan(.5*e._fovy),t.bottom=-t.top,t.right=e.aspectRatio*t.top,t.left=-t.right,t.near=e.near,t.far=e.far,t.right+=e.xOffset,t.left+=e.xOffset,t.top+=e.yOffset,t.bottom+=e.yOffset}}var r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("PzDm"),l=i("fq+p"),u=i("IPrE");n.packedLength=6,n.pack=function(e,t,i){return r.a.typeOf.object("value",e),r.a.defined("array",t),i=Object(o.a)(i,0),t[i++]=e.fov,t[i++]=e.aspectRatio,t[i++]=e.near,t[i++]=e.far,t[i++]=e.xOffset,t[i]=e.yOffset,t},n.unpack=function(e,t,i){return r.a.defined("array",e),t=Object(o.a)(t,0),Object(s.a)(i)||(i=new n),i.fov=e[t++],i.aspectRatio=e[t++],i.near=e[t++],i.far=e[t++],i.xOffset=e[t++],i.yOffset=e[t],i},Object.defineProperties(n.prototype,{projectionMatrix:{get:function(){return a(this),this._offCenterFrustum.projectionMatrix}},infiniteProjectionMatrix:{get:function(){return a(this),this._offCenterFrustum.infiniteProjectionMatrix}},fovy:{get:function(){return a(this),this._fovy}},sseDenominator:{get:function(){return a(this),this._sseDenominator}}}),n.prototype.computeCullingVolume=function(e,t,i){return a(this),this._offCenterFrustum.computeCullingVolume(e,t,i)},n.prototype.getPixelDimensions=function(e,t,i,n,r){return a(this),this._offCenterFrustum.getPixelDimensions(e,t,i,n,r)},n.prototype.clone=function(e){return Object(s.a)(e)||(e=new n),e.aspectRatio=this.aspectRatio,e.fov=this.fov,e.near=this.near,e.far=this.far,e._aspectRatio=void 0,e._fov=void 0,e._near=void 0,e._far=void 0,this._offCenterFrustum.clone(e._offCenterFrustum),e},n.prototype.equals=function(e){return!!(Object(s.a)(e)&&e instanceof n)&&(a(this),a(e),this.fov===e.fov&&this.aspectRatio===e.aspectRatio&&this._offCenterFrustum.equals(e._offCenterFrustum))},n.prototype.equalsEpsilon=function(e,t,i){return!!(Object(s.a)(e)&&e instanceof n)&&(a(this),a(e),l.a.equalsEpsilon(this.fov,e.fov,t,i)&&l.a.equalsEpsilon(this.aspectRatio,e.aspectRatio,t,i)&&this._offCenterFrustum.equalsEpsilon(e._offCenterFrustum,t,i))},t.a=n},Mdde:function(e,t,i){"use strict";function n(e,t){if(!e)throw new Error("When calling ko.track, you must pass an object as the first parameter.");var i=this,n=a(e,!0);return t=t||Object.getOwnPropertyNames(e),t.forEach(function(t){if(t!==p&&t!==m&&!(t in n)){var a=e[t],r=a instanceof Array,s=i.isObservable(a)?a:r?i.observableArray(a):i.observable(a);Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:s,set:i.isWriteableObservable(s)?s:void 0}),n[t]=s,r&&o(i,s)}}),e}function a(e,t){var i=e[p];return!i&&t&&(i={},Object.defineProperty(e,p,{value:i})),i}function r(e,t,i){var a=this,r={owner:e,deferEvaluation:!0};if("function"==typeof i)r.read=i;else{if("value"in i)throw new Error('For ko.defineProperty, you must not specify a "value" for the property. You must provide a "get" function.');if("function"!=typeof i.get)throw new Error('For ko.defineProperty, the third parameter must be either an evaluator function, or an options object containing a function called "get".');r.read=i.get,r.write=i.set}return e[t]=a.computed(r),n.call(a,e,[t]),e}function o(e,t){var i=null;e.computed(function(){i&&(i.dispose(),i=null);var n=t();n instanceof Array&&(i=s(e,t,n))})}function s(e,t,i){return c(e,i).subscribe(t)}function c(e,t){var i=t[m];if(!i){i=new e.subscribable,Object.defineProperty(t,m,{value:i});var n={};l(t,i,n),u(e,t,i,n)}return i}function l(e,t,i){["pop","push","reverse","shift","sort","splice","unshift"].forEach(function(n){var a=e[n];e[n]=function(){var e=a.apply(this,arguments);return!0!==i.pause&&t.notifySubscribers(this),e}})}function u(e,t,i,n){["remove","removeAll","destroy","destroyAll","replace"].forEach(function(a){Object.defineProperty(t,a,{enumerable:!1,value:function(){var r;n.pause=!0;try{r=e.observableArray.fn[a].apply(e.observableArray(t),arguments)}finally{n.pause=!1}return i.notifySubscribers(t),r}})})}function h(e,t){if(!e)return null;var i=a(e,!1);return i&&i[t]||null}function d(e,t){var i=h(e,t);i&&i.valueHasMutated()}function f(e){e.track=n,e.getObservable=h,e.valueHasMutated=d,e.defineProperty=r}/**
 * @license
 * Knockout ES5 plugin - https://github.com/SteveSanderson/knockout-es5
 * Copyright (c) Steve Sanderson
 * MIT license
 */
var p="__knockoutObservables",m="__knockoutSubscribable";t.a={attachToKo:f}},Mef0:function(e,t,i){"use strict";i("devy"),i("5A4e"),i("xC6Q"),i("PzDm"),i("izcu"),i("odWO"),i("Xjii"),i("BOJj"),i("0df4")},MmMw:function(e,t,i){var n=i("EqjI");e.exports=function(e,t){if(!n(e))return e;var i,a;if(t&&"function"==typeof(i=e.toString)&&!n(a=i.call(e)))return a;if("function"==typeof(i=e.valueOf)&&!n(a=i.call(e)))return a;if(!t&&"function"==typeof(i=e.toString)&&!n(a=i.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},Mnlr:function(e,t,i){"use strict";function n(e,t,i){if(!Object(a.a)(e))throw new o.a("container is required.");if(!Object(a.a)(t))throw new o.a("scene is required.");e=Object(c.a)(e);var n=new l.a(t,i);n._exitVRPath=h,n._enterVRPath=u;var r=document.createElement("button");r.type="button",r.className="cesium-button cesium-vrButton",r.setAttribute("data-bind",'css: { "cesium-button-disabled" : _isOrthographic }, attr: { title: tooltip },click: command,enable: isVREnabled,cesiumSvgPath: { path: isVRMode ? _exitVRPath : _enterVRPath, width: 32, height: 32 }'),e.appendChild(r),s.a.applyBindings(n,r),this._container=e,this._viewModel=n,this._element=r}var a=i("xC6Q"),r=i("6sr8"),o=i("PzDm"),s=i("PKIF"),c=i("k6tp"),l=i("4X+t"),u="M 5.3125 6.375 C 4.008126 6.375 2.96875 7.4141499 2.96875 8.71875 L 2.96875 19.5 C 2.96875 20.8043 4.008126 21.875 5.3125 21.875 L 13.65625 21.875 C 13.71832 20.0547 14.845166 18.59375 16.21875 18.59375 C 17.592088 18.59375 18.71881 20.0552 18.78125 21.875 L 27.09375 21.875 C 28.398125 21.875 29.4375 20.8043 29.4375 19.5 L 29.4375 8.71875 C 29.4375 7.4141499 28.398125 6.375 27.09375 6.375 L 5.3125 6.375 z M 9.625 10.4375 C 11.55989 10.4375 13.125 12.03385 13.125 13.96875 C 13.125 15.90365 11.55989 17.46875 9.625 17.46875 C 7.69011 17.46875 6.125 15.90365 6.125 13.96875 C 6.125 12.03385 7.69011 10.4375 9.625 10.4375 z M 22.46875 10.4375 C 24.40364 10.4375 25.96875 12.03385 25.96875 13.96875 C 25.96875 15.90365 24.40364 17.46875 22.46875 17.46875 C 20.53386 17.46875 18.96875 15.90365 18.96875 13.96875 C 18.96875 12.03385 20.53386 10.4375 22.46875 10.4375 z",h="M 25.770585,2.4552065 C 15.72282,13.962707 10.699956,19.704407 8.1768352,22.580207 c -1.261561,1.4379 -1.902282,2.1427 -2.21875,2.5 -0.141624,0.1599 -0.208984,0.2355 -0.25,0.2813 l 0.6875,0.75 c 10e-5,-10e-5 0.679191,0.727 0.6875,0.7187 0.01662,-0.016 0.02451,-0.024 0.03125,-0.031 0.01348,-0.014 0.04013,-0.038 0.0625,-0.062 0.04474,-0.05 0.120921,-0.1315 0.28125,-0.3126 0.320657,-0.3619 0.956139,-1.0921 2.2187499,-2.5312 2.5252219,-2.8781 7.5454589,-8.6169 17.5937499,-20.1250005 l -1.5,-1.3125 z m -20.5624998,3.9063 c -1.304375,0 -2.34375,1.0391 -2.34375,2.3437 l 0,10.8125005 c 0,1.3043 1.039375,2.375 2.34375,2.375 l 2.25,0 c 1.9518039,-2.2246 7.4710958,-8.5584 13.5624998,-15.5312005 l -15.8124998,0 z m 21.1249998,0 c -1.855467,2.1245 -2.114296,2.4005 -3.59375,4.0936995 1.767282,0.1815 3.15625,1.685301 3.15625,3.500001 0,1.9349 -1.56511,3.5 -3.5,3.5 -1.658043,0 -3.043426,-1.1411 -3.40625,-2.6875 -1.089617,1.2461 -2.647139,2.9988 -3.46875,3.9375 0.191501,-0.062 0.388502,-0.094 0.59375,-0.094 1.373338,0 2.50006,1.4614 2.5625,3.2812 l 8.3125,0 c 1.304375,0 2.34375,-1.0707 2.34375,-2.375 l 0,-10.8125005 c 0,-1.3046 -1.039375,-2.3437 -2.34375,-2.3437 l -0.65625,0 z M 9.5518351,10.423906 c 1.9348899,0 3.4999999,1.596401 3.4999999,3.531301 0,1.9349 -1.56511,3.5 -3.4999999,3.5 -1.9348899,0 -3.4999999,-1.5651 -3.4999999,-3.5 0,-1.9349 1.56511,-3.531301 3.4999999,-3.531301 z m 4.2187499,10.312601 c -0.206517,0.2356 -0.844218,0.9428 -1.03125,1.1562 l 0.8125,0 c 0.01392,-0.4081 0.107026,-0.7968 0.21875,-1.1562 z";Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._viewModel.destroy(),s.a.cleanNode(this._element),this._container.removeChild(this._element),Object(r.a)(this)},t.a=n},"Mol/":function(e,t,i){"use strict";t.a="/**\n * Computes the size of a pixel in meters at a distance from the eye.\n * <p>\n * Use this version when passing in a custom pixel ratio. For example, passing in 1.0 will return meters per native device pixel.\n * </p>\n * @name czm_metersPerPixel\n * @glslFunction\n *\n * @param {vec3} positionEC The position to get the meters per pixel in eye coordinates.\n * @param {float} pixelRatio The scaling factor from pixel space to coordinate space\n *\n * @returns {float} The meters per pixel at positionEC.\n */\nfloat czm_metersPerPixel(vec4 positionEC, float pixelRatio)\n{\n    float width = czm_viewport.z;\n    float height = czm_viewport.w;\n    float pixelWidth;\n    float pixelHeight;\n\n    float top = czm_frustumPlanes.x;\n    float bottom = czm_frustumPlanes.y;\n    float left = czm_frustumPlanes.z;\n    float right = czm_frustumPlanes.w;\n\n    if (czm_sceneMode == czm_sceneMode2D || czm_orthographicIn3D == 1.0)\n    {\n        float frustumWidth = right - left;\n        float frustumHeight = top - bottom;\n        pixelWidth = frustumWidth / width;\n        pixelHeight = frustumHeight / height;\n    }\n    else\n    {\n        float distanceToPixel = -positionEC.z;\n        float inverseNear = 1.0 / czm_currentFrustum.x;\n        float tanTheta = top * inverseNear;\n        pixelHeight = 2.0 * distanceToPixel * tanTheta / height;\n        tanTheta = right * inverseNear;\n        pixelWidth = 2.0 * distanceToPixel * tanTheta / width;\n    }\n\n    return max(pixelWidth, pixelHeight) * pixelRatio;\n}\n\n/**\n * Computes the size of a pixel in meters at a distance from the eye.\n * <p>\n * Use this version when scaling by pixel ratio.\n * </p>\n * @name czm_metersPerPixel\n * @glslFunction\n *\n * @param {vec3} positionEC The position to get the meters per pixel in eye coordinates.\n *\n * @returns {float} The meters per pixel at positionEC.\n */\nfloat czm_metersPerPixel(vec4 positionEC)\n{\n    return czm_metersPerPixel(positionEC, czm_pixelRatio);\n}\n"},MryW:function(e,t,i){"use strict";function n(e){b.a.typeOf.object("options",e),b.a.typeOf.object("options.arrayBuffer",e.arrayBuffer),this._parsedContent=void 0,this._drawCommand=void 0,this._isTranslucent=!1,this._styleTranslucent=!1,this._constantColor=y.a.clone(y.a.DARKGRAY),this._highlightColor=y.a.clone(y.a.WHITE),this._pointSize=1,this._rtcCenter=void 0,this._quantizedVolumeScale=void 0,this._quantizedVolumeOffset=void 0,this._styleableShaderAttributes=void 0,this._isQuantized=!1,this._isOctEncoded16P=!1,this._isRGB565=!1,this._hasColors=!1,this._hasNormals=!1,this._hasBatchIds=!1,this._decodingState=Z.READY,this._dequantizeInShader=!0,this._isQuantizedDraco=!1,this._isOctEncodedDraco=!1,this._quantizedRange=0,this._octEncodedRange=0,this.backFaceCulling=!1,this._backFaceCulling=!1,this.normalShading=!0,this._normalShading=!0,this._opaqueRenderState=void 0,this._translucentRenderState=void 0,this._mode=void 0,this._ready=!1,this._readyPromise=U.a.defer(),this._pointsLength=0,this._geometryByteLength=0,this._vertexShaderLoaded=e.vertexShaderLoaded,this._fragmentShaderLoaded=e.fragmentShaderLoaded,this._uniformMapLoaded=e.uniformMapLoaded,this._batchTableLoaded=e.batchTableLoaded,this._pickIdLoaded=e.pickIdLoaded,this._opaquePass=Object(x.a)(e.opaquePass,F.a.OPAQUE),this._cull=Object(x.a)(e.cull,!0),this.style=void 0,this._style=void 0,this.styleDirty=!1,this.modelMatrix=S.a.clone(S.a.IDENTITY),this._modelMatrix=S.a.clone(S.a.IDENTITY),this.time=0,this.shadows=Q.a.ENABLED,this._boundingSphere=void 0,this.clippingPlanes=void 0,this.isClipped=!1,this.clippingPlanesDirty=!1,this.clippingPlanesOriginMatrix=void 0,this.attenuation=!1,this._attenuation=!1,this.geometricError=0,this.geometricErrorScale=1,this.maximumAttenuation=this._pointSize,a(this,e)}function a(e,t){var i=t.arrayBuffer,n=Object(x.a)(t.byteOffset,0),a=new Uint8Array(i),r=new DataView(i);n+=$;var o=r.getUint32(n,!0);if(1!==o)throw new I.a("Only Point Cloud tile version 1 is supported.  Version "+o+" is not.");n+=$,n+=$;var s=r.getUint32(n,!0);if(0===s)throw new I.a("Feature table must have a byte length greater than zero");n+=$;var c=r.getUint32(n,!0);n+=$;var l=r.getUint32(n,!0);n+=$;var u=r.getUint32(n,!0);n+=$;var h=Object(A.a)(a,n,s),d=JSON.parse(h);n+=s;var f=new Uint8Array(i,n,c);n+=c;var p,g;if(l>0){var v=Object(A.a)(a,n,l);p=JSON.parse(v),n+=l,u>0&&(g=new Uint8Array(i,n,u),n+=u)}var b=new q.a(d,f),T=b.getGlobalProperty("POINTS_LENGTH");if(b.featuresLength=T,!Object(E.a)(T))throw new I.a("Feature table global property: POINTS_LENGTH must be defined");var C=b.getGlobalProperty("RTC_CENTER",w.a.FLOAT,3);Object(E.a)(C)&&(e._rtcCenter=_.a.unpack(C));var S,j,P,D,R,M,L,N=!1,F=!1,z=!1,B=!1,k=!1,U=!1,V=!1,W=!1,G=Object(E.a)(d.extensions)?d.extensions["3DTILES_draco_point_compression"]:void 0,Y=Object(E.a)(p)&&Object(E.a)(p.extensions)?p.extensions["3DTILES_draco_point_compression"]:void 0;if(Object(E.a)(Y)&&(L=Y.properties),Object(E.a)(G)){M=G.properties;var X=G.byteOffset,Q=G.byteLength;if(!Object(E.a)(M)||!Object(E.a)(X)||!Object(E.a)(Q))throw new I.a("Draco properties, byteOffset, and byteLength must be defined");R=Object(m.a)(f,X,X+Q),N=Object(E.a)(M.POSITION),F=Object(E.a)(M.RGB)||Object(E.a)(M.RGBA),z=Object(E.a)(M.NORMAL),B=Object(E.a)(M.BATCH_ID),U=Object(E.a)(M.RGBA),e._decodingState=Z.NEEDS_DECODE}var J;if(Object(E.a)(R)&&(J={buffer:R,featureTableProperties:M,batchTableProperties:L,properties:Object(O.a)(M,L),dequantizeInShader:e._dequantizeInShader}),!N)if(Object(E.a)(d.POSITION))S=b.getPropertyArray("POSITION",w.a.FLOAT,3),N=!0;else if(Object(E.a)(d.POSITION_QUANTIZED)){S=b.getPropertyArray("POSITION_QUANTIZED",w.a.UNSIGNED_SHORT,3),k=!0,N=!0;var K=b.getGlobalProperty("QUANTIZED_VOLUME_SCALE",w.a.FLOAT,3);if(!Object(E.a)(K))throw new I.a("Global property: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");e._quantizedVolumeScale=_.a.unpack(K),e._quantizedRange=65535;var ee=b.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",w.a.FLOAT,3);if(!Object(E.a)(ee))throw new I.a("Global property: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");e._quantizedVolumeOffset=_.a.unpack(ee)}if(F||(Object(E.a)(d.RGBA)?(j=b.getPropertyArray("RGBA",w.a.UNSIGNED_BYTE,4),U=!0,F=!0):Object(E.a)(d.RGB)?(j=b.getPropertyArray("RGB",w.a.UNSIGNED_BYTE,3),F=!0):Object(E.a)(d.RGB565)&&(j=b.getPropertyArray("RGB565",w.a.UNSIGNED_SHORT,1),V=!0,F=!0)),z||(Object(E.a)(d.NORMAL)?(P=b.getPropertyArray("NORMAL",w.a.FLOAT,3),z=!0):Object(E.a)(d.NORMAL_OCT16P)&&(P=b.getPropertyArray("NORMAL_OCT16P",w.a.UNSIGNED_BYTE,2),W=!0,z=!0)),B||Object(E.a)(d.BATCH_ID)&&(D=b.getPropertyArray("BATCH_ID",w.a.UNSIGNED_SHORT,1),B=!0),!N)throw new I.a("Either POSITION or POSITION_QUANTIZED must be defined.");if(Object(E.a)(d.CONSTANT_RGBA)){var te=b.getGlobalProperty("CONSTANT_RGBA",w.a.UNSIGNED_BYTE,4);e._constantColor=y.a.fromBytes(te[0],te[1],te[2],te[3],e._constantColor)}if(B){var ie=b.getGlobalProperty("BATCH_LENGTH");if(!Object(E.a)(ie))throw new I.a("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");Object(E.a)(g)&&(g=new Uint8Array(g)),Object(E.a)(e._batchTableLoaded)&&e._batchTableLoaded(ie,p,g)}var ne;!B&&Object(E.a)(g)&&(ne=H.a.getBinaryProperties(T,p,g)),e._parsedContent={positions:S,colors:j,normals:P,batchIds:D,styleableProperties:ne,draco:J},e._pointsLength=T,e._isQuantized=k,e._isOctEncoded16P=W,e._isRGB565=V,e._isTranslucent=U,e._hasColors=F,e._hasNormals=z,e._hasBatchIds=B}function r(e){if(!Object(E.a)(K)){C.a.setRandomNumberSeed(0),K=new Array(e);for(var t=0;t<e;++t)K[t]=C.a.nextRandomNumber()}return K}function o(e){for(var t=e.length/3,i=Math.min(t,20),n=r(20),a=Number.MAX_VALUE,o=-Number.MAX_VALUE,s=_.a.fromElements(a,a,a,ee),c=_.a.fromElements(o,o,o,te),l=0;l<i;++l){var u=Math.floor(n[l]*t),h=_.a.unpack(e,3*u,ie);_.a.minimumByComponent(s,h,s),_.a.maximumByComponent(c,h,c)}var d=g.a.fromCornerPoints(s,c);return d.radius+=C.a.EPSILON2,d}function s(e,t){var i=w.a.fromTypedArray(e);return i===w.a.INT||i===w.a.UNSIGNED_INT||i===w.a.DOUBLE?(Object(j.a)("Cast pnts property to floats",'Point cloud property "'+t+'" will be casted to a float array because INT, UNSIGNED_INT, and DOUBLE are not valid WebGL vertex attribute types. Some precision may be lost.'),new Float32Array(e)):e}function c(e,t){var i,n,a=t.context,r=e._parsedContent,c=e._pointsLength,l=r.positions,u=r.colors,h=r.normals,d=r.batchIds,f=r.styleableProperties,p=Object(E.a)(f),m=e._isQuantized,v=e._isQuantizedDraco,b=e._isOctEncoded16P,y=e._isOctEncodedDraco,O=e._quantizedRange,x=e._octEncodedRange,T=e._isRGB565,A=e._isTranslucent,C=e._hasColors,j=e._hasNormals,P=e._hasBatchIds,I=[],R={};if(e._styleableShaderAttributes=R,p){var B=ue;for(var U in f)if(f.hasOwnProperty(U)){var H=f[U],q=s(H.typedArray,U);i=H.componentCount,n=w.a.fromTypedArray(q);var W=M.a.createVertexBuffer({context:a,typedArray:q,usage:L.a.STATIC_DRAW});e._geometryByteLength+=W.sizeInBytes;var G={index:B,vertexBuffer:W,componentsPerAttribute:i,componentDatatype:n,normalize:!1,offsetInBytes:0,strideInBytes:0};I.push(G),R[U]={location:B,componentCount:i},++B}}var Y=M.a.createVertexBuffer({context:a,typedArray:l,usage:L.a.STATIC_DRAW});e._geometryByteLength+=Y.sizeInBytes;var X;C&&(X=M.a.createVertexBuffer({context:a,typedArray:u,usage:L.a.STATIC_DRAW}),e._geometryByteLength+=X.sizeInBytes);var Q;j&&(Q=M.a.createVertexBuffer({context:a,typedArray:h,usage:L.a.STATIC_DRAW}),e._geometryByteLength+=Q.sizeInBytes);var Z;P&&(d=s(d,"batchIds"),Z=M.a.createVertexBuffer({context:a,typedArray:d,usage:L.a.STATIC_DRAW}),e._geometryByteLength+=Z.sizeInBytes);var K=[];if(n=m?w.a.UNSIGNED_SHORT:v?O<=255?w.a.UNSIGNED_BYTE:w.a.UNSIGNED_SHORT:w.a.FLOAT,K.push({index:oe,vertexBuffer:Y,componentsPerAttribute:3,componentDatatype:n,normalize:!1,offsetInBytes:0,strideInBytes:0}),e._cull&&(e._boundingSphere=m||v?g.a.fromCornerPoints(_.a.ZERO,e._quantizedVolumeScale):o(l)),C)if(T)K.push({index:se,vertexBuffer:X,componentsPerAttribute:1,componentDatatype:w.a.UNSIGNED_SHORT,normalize:!1,offsetInBytes:0,strideInBytes:0});else{var $=A?4:3;K.push({index:se,vertexBuffer:X,componentsPerAttribute:$,componentDatatype:w.a.UNSIGNED_BYTE,normalize:!0,offsetInBytes:0,strideInBytes:0})}j&&(b?(i=2,n=w.a.UNSIGNED_BYTE):y?(i=2,n=x<=255?w.a.UNSIGNED_BYTE:w.a.UNSIGNED_SHORT):(i=3,n=w.a.FLOAT),K.push({index:ce,vertexBuffer:Q,componentsPerAttribute:i,componentDatatype:n,normalize:!1,offsetInBytes:0,strideInBytes:0})),P&&K.push({index:le,vertexBuffer:Z,componentsPerAttribute:1,componentDatatype:w.a.fromTypedArray(d),normalize:!1,offsetInBytes:0,strideInBytes:0}),p&&(K=K.concat(I));var ee=new k.a({context:a,attributes:K}),te={depthTest:{enabled:!0}};e._opaquePass===F.a.CESIUM_3D_TILE&&(te.stencilTest=J.a.setCesium3DTileBit(),te.stencilMask=J.a.CESIUM_3D_TILE_MASK),e._opaqueRenderState=z.a.fromCache(te),e._translucentRenderState=z.a.fromCache({depthTest:{enabled:!0},depthMask:!1,blending:V.a.ALPHA_BLEND}),e._drawCommand=new N.a({boundingVolume:new g.a,cull:e._cull,modelMatrix:new S.a,primitiveType:D.a.POINTS,vertexArray:ee,count:c,shaderProgram:void 0,uniformMap:void 0,renderState:A?e._translucentRenderState:e._opaqueRenderState,pass:A?F.a.TRANSLUCENT:e._opaquePass,owner:e,castShadows:!1,receiveShadows:!1,pickId:e._pickIdLoaded()})}function l(e,t){var i=t.context,n=e._isQuantized,a=e._isQuantizedDraco,r=e._isOctEncodedDraco,o={u_pointSizeAndTimeAndGeometricErrorAndDepthMultiplier:function(){var n=ne;if(n.x=e._attenuation?e.maximumAttenuation:e._pointSize,n.x*=t.pixelRatio,n.y=e.time,e._attenuation){var a,r=t.camera.frustum;a=t.mode===X.a.SCENE2D||r instanceof P.a?Number.POSITIVE_INFINITY:i.drawingBufferHeight/t.camera.frustum.sseDenominator,n.z=e.geometricError*e.geometricErrorScale,n.w=a}return n},u_highlightColor:function(){return e._highlightColor},u_constantColor:function(){return e._constantColor},u_clippingPlanes:function(){var t=e.clippingPlanes;return e.isClipped?t.texture:i.defaultTexture},u_clippingPlanesEdgeStyle:function(){var t=e.clippingPlanes;if(!Object(E.a)(t))return y.a.TRANSPARENT;var i=y.a.clone(t.edgeColor,re);return i.alpha=t.edgeWidth,i},u_clippingPlanesMatrix:function(){var t=e.clippingPlanes;if(!Object(E.a)(t))return S.a.IDENTITY;var n=Object(x.a)(e.clippingPlanesOriginMatrix,e._modelMatrix);return S.a.multiply(i.uniformState.view3D,n,he),S.a.multiply(he,t.modelMatrix,he)}};(n||a||r)&&(o=Object(O.a)(o,{u_quantizedVolumeScaleAndOctEncodedRange:function(){var t=ae;if(Object(E.a)(e._quantizedVolumeScale)){var i=_.a.clone(e._quantizedVolumeScale,t);_.a.divideByScalar(i,e._quantizedRange,t)}return t.w=e._octEncodedRange,t}})),Object(E.a)(e._uniformMapLoaded)&&(o=e._uniformMapLoaded(o)),e._drawCommand.uniformMap=o}function u(e,t){for(var i=/czm_tiles3d_style_(\w+)/g,n=i.exec(e);null!==n;){var a=n[1];-1===t.indexOf(a)&&t.push(a),n=i.exec(e)}}function h(e,t){for(var i=e.numberOfAttributes,n=0;n<i;++n){var a=e.getAttribute(n);if(a.index===t)return a}}function d(e){for(var t=de.length,i=0;i<t;++i){var n=de[i],a="czm_tiles3d_style_"+n,r=n.toLowerCase();e=e.replace(new RegExp(a+"(\\W)","g"),r+"$1")}return e.replace("()","(vec3 position, vec3 position_absolute, vec4 color, vec3 normal)")}function f(e,t,i){var n,a,r,o,s,c,f=t.context,p=Object(E.a)(i),m=e._isQuantized,g=e._isQuantizedDraco,_=e._isOctEncoded16P,v=e._isOctEncodedDraco,b=e._isRGB565,y=e._isTranslucent,O=e._hasColors,w=e._hasNormals,x=e._hasBatchIds,T=e._backFaceCulling,A=e._normalShading,C=e._drawCommand.vertexArray,S=e.clippingPlanes,j=e._attenuation,P=y;if(p){var D={translucent:!1};o=i.getColorShaderFunction("getColorFromStyle","czm_tiles3d_style_",D),s=i.getShowShaderFunction("getShowFromStyle","czm_tiles3d_style_",D),c=i.getPointSizeShaderFunction("getPointSizeFromStyle","czm_tiles3d_style_",D),Object(E.a)(o)&&D.translucent&&(P=!0)}e._styleTranslucent=P;var R=Object(E.a)(o),M=Object(E.a)(s),L=Object(E.a)(c),N=e.isClipped,F=[];R&&(u(o,F),o=d(o)),M&&(u(s,F),s=d(s)),L&&(u(c,F),c=d(c));var z=F.indexOf("COLOR")>=0,k=F.indexOf("NORMAL")>=0,U=F.filter(function(e){return-1===de.indexOf(e)});if(k&&!w)throw new I.a("Style references the NORMAL semantic but the point cloud does not have normals");var V=e._styleableShaderAttributes;for(a in V)if(V.hasOwnProperty(a)){r=V[a];var H=U.indexOf(a)>=0,q=h(C,r.location);q.enabled=H}var W=O&&(!R||z);if(O){h(C,se).enabled=W}var X=w&&(A||T||k);if(w){h(C,ce).enabled=X}var Q={a_position:oe};W&&(Q.a_color=se),X&&(Q.a_normal=ce),x&&(Q.a_batchId=le);var J="",Z=U.length;for(n=0;n<Z;++n){if(a=U[n],r=V[a],!Object(E.a)(r))throw new I.a('Style references a property "'+a+'" that does not exist or is not styleable.');var K,$=r.componentCount,ee="czm_tiles3d_style_"+a;K=1===$?"float":"vec"+$,J+="attribute "+K+" "+ee+"; \n",Q[ee]=r.location}l(e,t);var te="attribute vec3 a_position; \nvarying vec4 v_color; \nuniform vec4 u_pointSizeAndTimeAndGeometricErrorAndDepthMultiplier; \nuniform vec4 u_constantColor; \nuniform vec4 u_highlightColor; \n";te+="float u_pointSize; \nfloat u_time; \n",j&&(te+="float u_geometricError; \nfloat u_depthMultiplier; \n"),te+=J,W&&(te+=y?"attribute vec4 a_color; \n":b?"attribute float a_color; \nconst float SHIFT_RIGHT_11 = 1.0 / 2048.0; \nconst float SHIFT_RIGHT_5 = 1.0 / 32.0; \nconst float SHIFT_LEFT_11 = 2048.0; \nconst float SHIFT_LEFT_5 = 32.0; \nconst float NORMALIZE_6 = 1.0 / 64.0; \nconst float NORMALIZE_5 = 1.0 / 32.0; \n":"attribute vec3 a_color; \n"),X&&(te+=_||v?"attribute vec2 a_normal; \n":"attribute vec3 a_normal; \n"),x&&(te+="attribute float a_batchId; \n"),(m||g||v)&&(te+="uniform vec4 u_quantizedVolumeScaleAndOctEncodedRange; \n"),R&&(te+=o),M&&(te+=s),L&&(te+=c),te+="void main() \n{ \n    u_pointSize = u_pointSizeAndTimeAndGeometricErrorAndDepthMultiplier.x; \n    u_time = u_pointSizeAndTimeAndGeometricErrorAndDepthMultiplier.y; \n",j&&(te+="    u_geometricError = u_pointSizeAndTimeAndGeometricErrorAndDepthMultiplier.z; \n    u_depthMultiplier = u_pointSizeAndTimeAndGeometricErrorAndDepthMultiplier.w; \n"),te+=W?y?"    vec4 color = a_color; \n":b?"    float compressed = a_color; \n    float r = floor(compressed * SHIFT_RIGHT_11); \n    compressed -= r * SHIFT_LEFT_11; \n    float g = floor(compressed * SHIFT_RIGHT_5); \n    compressed -= g * SHIFT_LEFT_5; \n    float b = compressed; \n    vec3 rgb = vec3(r * NORMALIZE_5, g * NORMALIZE_6, b * NORMALIZE_5); \n    vec4 color = vec4(rgb, 1.0); \n":"    vec4 color = vec4(a_color, 1.0); \n":"    vec4 color = u_constantColor; \n",te+=m||g?"    vec3 position = a_position * u_quantizedVolumeScaleAndOctEncodedRange.xyz; \n":"    vec3 position = a_position; \n",te+="    vec3 position_absolute = vec3(czm_model * vec4(position, 1.0)); \n",X?(te+=_?"    vec3 normal = czm_octDecode(a_normal); \n":v?"    vec3 normal = czm_octDecode(a_normal, u_quantizedVolumeScaleAndOctEncodedRange.w).zxy; \n":"    vec3 normal = a_normal; \n",te+="    vec3 normalEC = czm_normal * normal; \n"):te+="    vec3 normal = vec3(1.0); \n",R&&(te+="    color = getColorFromStyle(position, position_absolute, color, normal); \n"),M&&(te+="    float show = float(getShowFromStyle(position, position_absolute, color, normal)); \n"),te+=L?"    gl_PointSize = getPointSizeFromStyle(position, position_absolute, color, normal) * czm_pixelRatio; \n":j?"    vec4 positionEC = czm_modelView * vec4(position, 1.0); \n    float depth = -positionEC.z; \n    gl_PointSize = min((u_geometricError / depth) * u_depthMultiplier, u_pointSize); \n":"    gl_PointSize = u_pointSize; \n",te+="    color = color * u_highlightColor; \n",X&&A&&(te+="    float diffuseStrength = czm_getLambertDiffuse(czm_lightDirectionEC, normalEC); \n    diffuseStrength = max(diffuseStrength, 0.4); \n    color.xyz *= diffuseStrength * czm_lightColor; \n"),te+="    v_color = color; \n    gl_Position = czm_modelViewProjection * vec4(position, 1.0); \n",X&&T&&(te+="    float visible = step(-normalEC.z, 0.0); \n    gl_Position *= visible; \n    gl_PointSize *= visible; \n"),M&&(te+="    gl_Position.w *= float(show); \n    gl_PointSize *= float(show); \n"),te+="} \n";var ie="varying vec4 v_color; \n";N&&(ie+="uniform sampler2D u_clippingPlanes; \nuniform mat4 u_clippingPlanesMatrix; \nuniform vec4 u_clippingPlanesEdgeStyle; \n",ie+="\n",ie+=Object(Y.a)(S,f),ie+="\n"),ie+="void main() \n{ \n    gl_FragColor = czm_gammaCorrect(v_color); \n",N&&(ie+=Object(G.a)("u_clippingPlanes","u_clippingPlanesMatrix","u_clippingPlanesEdgeStyle")),ie+="} \n",Object(E.a)(e._vertexShaderLoaded)&&(te=e._vertexShaderLoaded(te)),Object(E.a)(e._fragmentShaderLoaded)&&(ie=e._fragmentShaderLoaded(ie));var ne=e._drawCommand;Object(E.a)(ne.shaderProgram)&&ne.shaderProgram.destroy(),ne.shaderProgram=B.a.fromCache({context:f,vertexShaderSource:te,fragmentShaderSource:ie,attributeLocations:Q});try{ne.shaderProgram._bind()}catch(e){throw new I.a("Error generating style shader: this may be caused by a type mismatch, index out-of-bounds, or other syntax error.")}}function p(e,t){if(e._decodingState===Z.READY)return!1;if(e._decodingState===Z.NEEDS_DECODE){var i=e._parsedContent,n=i.draco,a=W.a.decodePointCloud(n,t);Object(E.a)(a)&&(e._decodingState=Z.DECODING,a.then(function(t){e._decodingState=Z.READY;var a=Object(E.a)(t.POSITION)?t.POSITION.array:void 0,r=Object(E.a)(t.RGB)?t.RGB.array:void 0,o=Object(E.a)(t.RGBA)?t.RGBA.array:void 0,s=Object(E.a)(t.NORMAL)?t.NORMAL.array:void 0,c=Object(E.a)(t.BATCH_ID)?t.BATCH_ID.array:void 0,l=Object(E.a)(a)&&Object(E.a)(t.POSITION.data.quantization),u=Object(E.a)(s)&&Object(E.a)(t.NORMAL.data.quantization);if(l){var h=t.POSITION.data.quantization,d=h.range;e._quantizedVolumeScale=_.a.fromElements(d,d,d),e._quantizedVolumeOffset=_.a.unpack(h.minValues),e._quantizedRange=(1<<h.quantizationBits)-1,e._isQuantizedDraco=!0}u&&(e._octEncodedRange=(1<<t.NORMAL.data.quantization.quantizationBits)-1,e._isOctEncodedDraco=!0);var f=i.styleableProperties,p=n.batchTableProperties;for(var m in p)if(p.hasOwnProperty(m)){var g=t[m];Object(E.a)(f)||(f={}),f[m]={typedArray:g.array,componentCount:g.data.componentsPerAttribute}}i.positions=Object(x.a)(a,i.positions),i.colors=Object(x.a)(Object(x.a)(o,r),i.colors),i.normals=Object(x.a)(s,i.normals),i.batchIds=Object(x.a)(c,i.batchIds),i.styleableProperties=f}).otherwise(function(t){e._decodingState=Z.FAILED,e._readyPromise.reject(t)}))}return!0}var m=i("Xku3"),g=i("lBr9"),_=i("Jj+J"),v=i("PDkd"),b=i("5F4X"),y=i("6F0S"),O=i("ZboF"),w=i("YCZg"),x=i("5A4e"),E=i("xC6Q"),T=i("6sr8"),A=i("Q+B7"),C=i("fq+p"),S=i("Xjii"),j=i("VF2d"),P=i("ku5u"),D=i("nHNe"),I=i("V22k"),R=i("g/FO"),M=i("tW+E"),L=i("rFKc"),N=i("1mJh"),F=i("M0+0"),z=i("DrvA"),B=i("WUlw"),k=i("+0EW"),U=i("S7OP"),V=i("OtDm"),H=i("sNK4"),q=i("6aMI"),W=i("zrBd"),G=i("7Xkg"),Y=i("YC0M"),X=i("sotJ"),Q=i("ARzC"),J=i("x0EE"),Z={NEEDS_DECODE:0,DECODING:1,READY:2,FAILED:3};Object.defineProperties(n.prototype,{pointsLength:{get:function(){return this._pointsLength}},geometryByteLength:{get:function(){return this._geometryByteLength}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},color:{get:function(){return y.a.clone(this._highlightColor)},set:function(e){this._highlightColor=y.a.clone(e,this._highlightColor)}},boundingSphere:{get:function(){if(Object(E.a)(this._drawCommand))return this._drawCommand.boundingVolume},set:function(e){this._boundingSphere=g.a.clone(e,this._boundingSphere)}}});var K,$=Uint32Array.BYTES_PER_ELEMENT,ee=new _.a,te=new _.a,ie=new _.a,ne=new v.a,ae=new v.a,re=new y.a,oe=0,se=1,ce=2,le=3,ue=4,he=new S.a,de=["POSITION","COLOR","NORMAL","POSITION_ABSOLUTE"],fe=new v.a,pe=new _.a;n.prototype.update=function(e){if(!p(this,e.context)){var t=!1,i=!S.a.equals(this._modelMatrix,this.modelMatrix);if(this._mode!==e.mode&&(this._mode=e.mode,i=!0),Object(E.a)(this._drawCommand)||(c(this,e),i=!0,t=!0,this._ready=!0,this._readyPromise.resolve(this),this._parsedContent=void 0),i){S.a.clone(this.modelMatrix,this._modelMatrix);var n=this._drawCommand.modelMatrix;if(S.a.clone(this._modelMatrix,n),Object(E.a)(this._rtcCenter)&&S.a.multiplyByTranslation(n,this._rtcCenter,n),Object(E.a)(this._quantizedVolumeOffset)&&S.a.multiplyByTranslation(n,this._quantizedVolumeOffset,n),e.mode!==X.a.SCENE3D){var a=e.mapProjection,r=S.a.getColumn(n,3,fe);v.a.equals(r,v.a.UNIT_W)||R.a.basisTo2D(a,n,n)}var o=this._drawCommand.boundingVolume;if(g.a.clone(this._boundingSphere,o),this._cull){var s=o.center;S.a.multiplyByPoint(n,s,s);var l=S.a.getScale(n,pe);o.radius*=_.a.maximumComponent(l)}}this.clippingPlanesDirty&&(this.clippingPlanesDirty=!1,t=!0),this._attenuation!==this.attenuation&&(this._attenuation=this.attenuation,t=!0),this.backFaceCulling!==this._backFaceCulling&&(this._backFaceCulling=this.backFaceCulling,t=!0),this.normalShading!==this._normalShading&&(this._normalShading=this.normalShading,t=!0),(this._style!==this.style||this.styleDirty)&&(this._style=this.style,this.styleDirty=!1,t=!0),t&&f(this,e,this._style),this._drawCommand.castShadows=Q.a.castShadows(this.shadows),this._drawCommand.receiveShadows=Q.a.receiveShadows(this.shadows);var u=this._highlightColor.alpha<1||this._constantColor.alpha<1||this._styleTranslucent;this._drawCommand.renderState=u?this._translucentRenderState:this._opaqueRenderState,this._drawCommand.pass=u?F.a.TRANSLUCENT:this._opaquePass;var h=e.commandList,d=e.passes;(d.render||d.pick)&&h.push(this._drawCommand)}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){var e=this._drawCommand;return Object(E.a)(e)&&(e.vertexArray=e.vertexArray&&e.vertexArray.destroy(),e.shaderProgram=e.shaderProgram&&e.shaderProgram.destroy()),Object(T.a)(this)},t.a=n},MsCo:function(e,t,i){(function(e,n){var a;!function(r){function o(e){throw new RangeError(I[e])}function s(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function c(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),e=e.replace(D,"."),n+s(e.split("."),t).join(".")}function l(e){for(var t,i,n=[],a=0,r=e.length;a<r;)t=e.charCodeAt(a++),t>=55296&&t<=56319&&a<r?(i=e.charCodeAt(a++),56320==(64512&i)?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),a--)):n.push(t);return n}function u(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=L(e>>>10&1023|55296),e=56320|1023&e),t+=L(e)}).join("")}function h(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:O}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,i){var n=0;for(e=i?M(e/T):e>>1,e+=M(e/t);e>R*x>>1;n+=O)e=M(e/R);return M(n+(R+1)*e/(e+E))}function p(e){var t,i,n,a,r,s,c,l,d,p,m=[],g=e.length,_=0,v=C,b=A;for(i=e.lastIndexOf(S),i<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&o("not-basic"),m.push(e.charCodeAt(n));for(a=i>0?i+1:0;a<g;){for(r=_,s=1,c=O;a>=g&&o("invalid-input"),l=h(e.charCodeAt(a++)),(l>=O||l>M((y-_)/s))&&o("overflow"),_+=l*s,d=c<=b?w:c>=b+x?x:c-b,!(l<d);c+=O)p=O-d,s>M(y/p)&&o("overflow"),s*=p;t=m.length+1,b=f(_-r,t,0==r),M(_/t)>y-v&&o("overflow"),v+=M(_/t),_%=t,m.splice(_++,0,v)}return u(m)}function m(e){var t,i,n,a,r,s,c,u,h,p,m,g,_,v,b,E=[];for(e=l(e),g=e.length,t=C,i=0,r=A,s=0;s<g;++s)(m=e[s])<128&&E.push(L(m));for(n=a=E.length,a&&E.push(S);n<g;){for(c=y,s=0;s<g;++s)(m=e[s])>=t&&m<c&&(c=m);for(_=n+1,c-t>M((y-i)/_)&&o("overflow"),i+=(c-t)*_,t=c,s=0;s<g;++s)if(m=e[s],m<t&&++i>y&&o("overflow"),m==t){for(u=i,h=O;p=h<=r?w:h>=r+x?x:h-r,!(u<p);h+=O)b=u-p,v=O-p,E.push(L(d(p+b%v,0))),u=M(b/v);E.push(L(d(u,0))),r=f(i,_,n==a),i=0,++n}++i,++t}return E.join("")}function g(e){return c(e,function(e){return j.test(e)?p(e.slice(4).toLowerCase()):e})}function _(e){return c(e,function(e){return P.test(e)?"xn--"+m(e):e})}var v=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof n&&n);var b,y=2147483647,O=36,w=1,x=26,E=38,T=700,A=72,C=128,S="-",j=/^xn--/,P=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=O-w,M=Math.floor,L=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:l,encode:u},decode:p,encode:m,toASCII:_,toUnicode:g},void 0!==(a=function(){return b}.call(t,i,t,e))&&(e.exports=a)}()}).call(t,i("3IRH")(e),i("DuR2"))},Myjj:function(e,t,i){"use strict";function n(e,t,i,n){var a=t*t-4*e*i;if(!(a<0)){if(a>0){var r=1/(2*e),o=Math.sqrt(a),s=(-t+o)*r,c=(-t-o)*r;return s<c?(n.root0=s,n.root1=c):(n.root0=c,n.root1=s),n}var l=-t/(2*e);if(0!==l)return n.root0=n.root1=l,n}}function a(e,t,i){Object(u.a)(i)||(i=new d.a);var a=e.origin,r=e.direction,o=t.center,c=t.radius*t.radius,l=s.a.subtract(a,o,O),h=s.a.dot(r,r),f=2*s.a.dot(r,l),p=s.a.magnitudeSquared(l)-c,m=n(h,f,p,T);if(Object(u.a)(m))return i.start=m.root0,i.stop=m.root1,i}function r(e,t,i){var n=e+t;return f.a.sign(e)!==f.a.sign(t)&&Math.abs(n/Math.max(Math.abs(e),Math.abs(t)))<i?0:n}function o(e,t,i,n,a){var o,c=n*n,l=a*a,u=(e[p.a.COLUMN1ROW1]-e[p.a.COLUMN2ROW2])*l,h=a*(n*r(e[p.a.COLUMN1ROW0],e[p.a.COLUMN0ROW1],f.a.EPSILON15)+t.y),d=e[p.a.COLUMN0ROW0]*c+e[p.a.COLUMN2ROW2]*l+n*t.x+i,_=l*r(e[p.a.COLUMN2ROW1],e[p.a.COLUMN1ROW2],f.a.EPSILON15),v=a*(n*r(e[p.a.COLUMN2ROW0],e[p.a.COLUMN0ROW2])+t.z),b=[];if(0===v&&0===_){if(o=m.a.computeRealRoots(u,h,d),0===o.length)return b;var y=o[0],O=Math.sqrt(Math.max(1-y*y,0));if(b.push(new s.a(n,a*y,a*-O)),b.push(new s.a(n,a*y,a*O)),2===o.length){var w=o[1],x=Math.sqrt(Math.max(1-w*w,0));b.push(new s.a(n,a*w,a*-x)),b.push(new s.a(n,a*w,a*x))}return b}var E=v*v,T=_*_,A=u*u,C=v*_,S=A+T,j=2*(h*u+C),P=2*d*u+h*h-T+E,D=2*(d*h-C),I=d*d-E;if(0===S&&0===j&&0===P&&0===D)return b;o=g.a.computeRealRoots(S,j,P,D,I);var R=o.length;if(0===R)return b;for(var M=0;M<R;++M){var L,N=o[M],F=N*N,z=Math.max(1-F,0),B=Math.sqrt(z);L=f.a.sign(u)===f.a.sign(d)?r(u*F+d,h*N,f.a.EPSILON12):f.a.sign(d)===f.a.sign(h*N)?r(u*F,h*N+d,f.a.EPSILON12):r(u*F+h*N,d,f.a.EPSILON12);var k=r(_*N,v,f.a.EPSILON15),U=L*k;U<0?b.push(new s.a(n,a*N,a*B)):U>0?b.push(new s.a(n,a*N,a*-B)):0!==B?(b.push(new s.a(n,a*N,a*-B)),b.push(new s.a(n,a*N,a*B)),++M):b.push(new s.a(n,a*N,a*B))}return b}var s=i("Jj+J"),c=i("I3GD"),l=i("5A4e"),u=i("xC6Q"),h=i("PzDm"),d=i("ogen"),f=i("fq+p"),p=i("i3sv"),m=i("VBo5"),g=i("LeJA"),_=i("/++d"),v={};v.rayPlane=function(e,t,i){if(!Object(u.a)(e))throw new h.a("ray is required.");if(!Object(u.a)(t))throw new h.a("plane is required.");Object(u.a)(i)||(i=new s.a);var n=e.origin,a=e.direction,r=t.normal,o=s.a.dot(r,a);if(!(Math.abs(o)<f.a.EPSILON15)){var c=(-t.distance-s.a.dot(r,n))/o;if(!(c<0))return i=s.a.multiplyByScalar(a,c,i),s.a.add(n,i,i)}};var b=new s.a,y=new s.a,O=new s.a,w=new s.a,x=new s.a;v.rayTriangleParametric=function(e,t,i,n,a){if(!Object(u.a)(e))throw new h.a("ray is required.");if(!Object(u.a)(t))throw new h.a("p0 is required.");if(!Object(u.a)(i))throw new h.a("p1 is required.");if(!Object(u.a)(n))throw new h.a("p2 is required.");a=Object(l.a)(a,!1);var r,o,c,d,p,m=e.origin,g=e.direction,_=s.a.subtract(i,t,b),v=s.a.subtract(n,t,y),E=s.a.cross(g,v,O),T=s.a.dot(_,E);if(a){if(T<f.a.EPSILON6)return;if(r=s.a.subtract(m,t,w),(c=s.a.dot(r,E))<0||c>T)return;if(o=s.a.cross(r,_,x),(d=s.a.dot(g,o))<0||c+d>T)return;p=s.a.dot(v,o)/T}else{if(Math.abs(T)<f.a.EPSILON6)return;var A=1/T;if(r=s.a.subtract(m,t,w),(c=s.a.dot(r,E)*A)<0||c>1)return;if(o=s.a.cross(r,_,x),(d=s.a.dot(g,o)*A)<0||c+d>1)return;p=s.a.dot(v,o)*A}return p},v.rayTriangle=function(e,t,i,n,a,r){var o=v.rayTriangleParametric(e,t,i,n,a);if(Object(u.a)(o)&&!(o<0))return Object(u.a)(r)||(r=new s.a),s.a.multiplyByScalar(e.direction,o,r),s.a.add(e.origin,r,r)};var E=new _.a;v.lineSegmentTriangle=function(e,t,i,n,a,r,o){if(!Object(u.a)(e))throw new h.a("v0 is required.");if(!Object(u.a)(t))throw new h.a("v1 is required.");if(!Object(u.a)(i))throw new h.a("p0 is required.");if(!Object(u.a)(n))throw new h.a("p1 is required.");if(!Object(u.a)(a))throw new h.a("p2 is required.");var c=E;s.a.clone(e,c.origin),s.a.subtract(t,e,c.direction),s.a.normalize(c.direction,c.direction);var l=v.rayTriangleParametric(c,i,n,a,r);if(!(!Object(u.a)(l)||l<0||l>s.a.distance(e,t)))return Object(u.a)(o)||(o=new s.a),s.a.multiplyByScalar(c.direction,l,o),s.a.add(c.origin,o,o)};var T={root0:0,root1:0};v.raySphere=function(e,t,i){if(!Object(u.a)(e))throw new h.a("ray is required.");if(!Object(u.a)(t))throw new h.a("sphere is required.");if(i=a(e,t,i),Object(u.a)(i)&&!(i.stop<0))return i.start=Math.max(i.start,0),i};var A=new _.a;v.lineSegmentSphere=function(e,t,i,n){if(!Object(u.a)(e))throw new h.a("p0 is required.");if(!Object(u.a)(t))throw new h.a("p1 is required.");if(!Object(u.a)(i))throw new h.a("sphere is required.");var r=A;s.a.clone(e,r.origin);var o=s.a.subtract(t,e,r.direction),c=s.a.magnitude(o);if(s.a.normalize(o,o),n=a(r,i,n),!(!Object(u.a)(n)||n.stop<0||n.start>c))return n.start=Math.max(n.start,0),n.stop=Math.min(n.stop,c),n};var C=new s.a,S=new s.a;v.rayEllipsoid=function(e,t){if(!Object(u.a)(e))throw new h.a("ray is required.");if(!Object(u.a)(t))throw new h.a("ellipsoid is required.");var i,n,a,r,o,c=t.oneOverRadii,l=s.a.multiplyComponents(c,e.origin,C),f=s.a.multiplyComponents(c,e.direction,S),p=s.a.magnitudeSquared(l),m=s.a.dot(l,f);if(p>1){if(m>=0)return;var g=m*m;if(i=p-1,n=s.a.magnitudeSquared(f),a=n*i,g<a)return;if(g>a){r=m*m-a,o=-m+Math.sqrt(r);var _=o/n,v=i/o;return _<v?new d.a(_,v):{start:v,stop:_}}var b=Math.sqrt(i/n);return new d.a(b,b)}return p<1?(i=p-1,n=s.a.magnitudeSquared(f),a=n*i,r=m*m-a,o=-m+Math.sqrt(r),new d.a(0,o/n)):m<0?(n=s.a.magnitudeSquared(f),new d.a(0,-m/n)):void 0};var j=new s.a,P=new s.a,D=new s.a,I=new s.a,R=new s.a,M=new p.a,L=new p.a,N=new p.a,F=new p.a,z=new p.a,B=new p.a,k=new p.a,U=new s.a,V=new s.a,H=new c.a;v.grazingAltitudeLocation=function(e,t){if(!Object(u.a)(e))throw new h.a("ray is required.");if(!Object(u.a)(t))throw new h.a("ellipsoid is required.");var i=e.origin,n=e.direction;if(!s.a.equals(i,s.a.ZERO)){var a=t.geodeticSurfaceNormal(i,j);if(s.a.dot(n,a)>=0)return i}var r=Object(u.a)(this.rayEllipsoid(e,t)),c=t.transformPositionToScaledSpace(n,j),l=s.a.normalize(c,c),d=s.a.mostOrthogonalAxis(c,I),m=s.a.normalize(s.a.cross(d,l,P),P),g=s.a.normalize(s.a.cross(l,m,D),D),_=M;_[0]=l.x,_[1]=l.y,_[2]=l.z,_[3]=m.x,_[4]=m.y,_[5]=m.z,_[6]=g.x,_[7]=g.y,_[8]=g.z;var v=p.a.transpose(_,L),b=p.a.fromScale(t.radii,N),y=p.a.fromScale(t.oneOverRadii,F),O=z;O[0]=0,O[1]=-n.z,O[2]=n.y,O[3]=n.z,O[4]=0,O[5]=-n.x,O[6]=-n.y,O[7]=n.x,O[8]=0;var w,x,E=p.a.multiply(p.a.multiply(v,y,B),O,B),T=p.a.multiply(p.a.multiply(E,b,k),_,k),A=p.a.multiplyByVector(E,i,R),C=o(T,s.a.negate(A,j),0,0,1),S=C.length;if(S>0){for(var q=s.a.clone(s.a.ZERO,V),W=Number.NEGATIVE_INFINITY,G=0;G<S;++G){w=p.a.multiplyByVector(b,p.a.multiplyByVector(_,C[G],U),U);var Y=s.a.normalize(s.a.subtract(w,i,I),I),X=s.a.dot(Y,n);X>W&&(W=X,q=s.a.clone(w,q))}var Q=t.cartesianToCartographic(q,H);return W=f.a.clamp(W,0,1),x=s.a.magnitude(s.a.subtract(q,i,I))*Math.sqrt(1-W*W),x=r?-x:x,Q.height=x,t.cartographicToCartesian(Q,new s.a)}};var q=new s.a;v.lineSegmentPlane=function(e,t,i,n){if(!Object(u.a)(e))throw new h.a("endPoint0 is required.");if(!Object(u.a)(t))throw new h.a("endPoint1 is required.");if(!Object(u.a)(i))throw new h.a("plane is required.");Object(u.a)(n)||(n=new s.a);var a=s.a.subtract(t,e,q),r=i.normal,o=s.a.dot(r,a);if(!(Math.abs(o)<f.a.EPSILON6)){var c=s.a.dot(r,e),l=-(i.distance+c)/o;if(!(l<0||l>1))return s.a.multiplyByScalar(a,l,n),s.a.add(e,n,n),n}},v.trianglePlaneIntersection=function(e,t,i,n){if(!(Object(u.a)(e)&&Object(u.a)(t)&&Object(u.a)(i)&&Object(u.a)(n)))throw new h.a("p0, p1, p2, and plane are required.");var a=n.normal,r=n.distance,o=s.a.dot(a,e)+r<0,c=s.a.dot(a,t)+r<0,l=s.a.dot(a,i)+r<0,d=0;d+=o?1:0,d+=c?1:0,d+=l?1:0;var f,p;if(1!==d&&2!==d||(f=new s.a,p=new s.a),1===d){if(o)return v.lineSegmentPlane(e,t,n,f),v.lineSegmentPlane(e,i,n,p),{positions:[e,t,i,f,p],indices:[0,3,4,1,2,4,1,4,3]};if(c)return v.lineSegmentPlane(t,i,n,f),v.lineSegmentPlane(t,e,n,p),{positions:[e,t,i,f,p],indices:[1,3,4,2,0,4,2,4,3]};if(l)return v.lineSegmentPlane(i,e,n,f),v.lineSegmentPlane(i,t,n,p),{positions:[e,t,i,f,p],indices:[2,3,4,0,1,4,0,4,3]}}else if(2===d){if(!o)return v.lineSegmentPlane(t,e,n,f),v.lineSegmentPlane(i,e,n,p),{positions:[e,t,i,f,p],indices:[1,2,4,1,4,3,0,3,4]};if(!c)return v.lineSegmentPlane(i,t,n,f),v.lineSegmentPlane(e,t,n,p),{positions:[e,t,i,f,p],indices:[2,0,4,2,4,3,1,3,4]};if(!l)return v.lineSegmentPlane(e,i,n,f),v.lineSegmentPlane(t,i,n,p),{positions:[e,t,i,f,p],indices:[0,1,4,0,4,3,2,3,4]}}},t.a=v},"N+Om":function(e,t,i){"use strict";(function(t){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function n(e,t){if(e===t)return 0;for(var i=e.length,n=t.length,a=0,r=Math.min(i,n);a<r;++a)if(e[a]!==t[a]){i=e[a],n=t[a];break}return i<n?-1:n<i?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function r(e){return Object.prototype.toString.call(e)}function o(e){return!a(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function s(e){if(w.isFunction(e)){if(T)return e.name;var t=e.toString(),i=t.match(C);return i&&i[1]}}function c(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function l(e){if(T||!w.isFunction(e))return w.inspect(e);var t=s(e);return"[Function"+(t?": "+t:"")+"]"}function u(e){return c(l(e.actual),128)+" "+e.operator+" "+c(l(e.expected),128)}function h(e,t,i,n,a){throw new A.AssertionError({message:i,actual:e,expected:t,operator:n,stackStartFunction:a})}function d(e,t){e||h(e,!0,t,"==",A.ok)}function f(e,t,i,s){if(e===t)return!0;if(a(e)&&a(t))return 0===n(e,t);if(w.isDate(e)&&w.isDate(t))return e.getTime()===t.getTime();if(w.isRegExp(e)&&w.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(o(e)&&o(t)&&r(e)===r(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;s=s||{actual:[],expected:[]};var c=s.actual.indexOf(e);return-1!==c&&c===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),m(e,t,i,s))}return i?e===t:e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function m(e,t,i,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(w.isPrimitive(e)||w.isPrimitive(t))return e===t;if(i&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var a=p(e),r=p(t);if(a&&!r||!a&&r)return!1;if(a)return e=E.call(e),t=E.call(t),f(e,t,i);var o,s,c=S(e),l=S(t);if(c.length!==l.length)return!1;for(c.sort(),l.sort(),s=c.length-1;s>=0;s--)if(c[s]!==l[s])return!1;for(s=c.length-1;s>=0;s--)if(o=c[s],!f(e[o],t[o],i,n))return!1;return!0}function g(e,t,i){f(e,t,!0)&&h(e,t,i,"notDeepStrictEqual",g)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function v(e){var t;try{e()}catch(e){t=e}return t}function b(e,t,i,n){var a;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof i&&(n=i,i=null),a=v(t),n=(i&&i.name?" ("+i.name+").":".")+(n?" "+n:"."),e&&!a&&h(a,i,"Missing expected exception"+n);var r="string"==typeof n,o=!e&&w.isError(a),s=!e&&a&&!i;if((o&&r&&_(a,i)||s)&&h(a,i,"Got unwanted exception"+n),e&&a&&i&&!_(a,i)||!e&&a)throw a}function y(e,t){e||h(e,!0,t,"==",y)}var O=i("+1gT")(),w=i("OMJi"),x=Object.prototype.hasOwnProperty,E=Array.prototype.slice,T=function(){return"foo"===function(){}.name}(),A=e.exports=d,C=/\s*function\s+([^\(\s]*)\s*/;A.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=u(this),this.generatedMessage=!0);var t=e.stackStartFunction||h;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var i=new Error;if(i.stack){var n=i.stack,a=s(t),r=n.indexOf("\n"+a);if(r>=0){var o=n.indexOf("\n",r+1);n=n.substring(o+1)}this.stack=n}}},w.inherits(A.AssertionError,Error),A.fail=h,A.ok=d,A.equal=function(e,t,i){e!=t&&h(e,t,i,"==",A.equal)},A.notEqual=function(e,t,i){e==t&&h(e,t,i,"!=",A.notEqual)},A.deepEqual=function(e,t,i){f(e,t,!1)||h(e,t,i,"deepEqual",A.deepEqual)},A.deepStrictEqual=function(e,t,i){f(e,t,!0)||h(e,t,i,"deepStrictEqual",A.deepStrictEqual)},A.notDeepEqual=function(e,t,i){f(e,t,!1)&&h(e,t,i,"notDeepEqual",A.notDeepEqual)},A.notDeepStrictEqual=g,A.strictEqual=function(e,t,i){e!==t&&h(e,t,i,"===",A.strictEqual)},A.notStrictEqual=function(e,t,i){e===t&&h(e,t,i,"!==",A.notStrictEqual)},A.throws=function(e,t,i){b(!0,e,t,i)},A.doesNotThrow=function(e,t,i){b(!1,e,t,i)},A.ifError=function(e){if(e)throw e},A.strict=O(y,A,{equal:A.strictEqual,deepEqual:A.deepStrictEqual,notEqual:A.notStrictEqual,notDeepEqual:A.notDeepStrictEqual}),A.strict.strict=A.strict;var S=Object.keys||function(e){var t=[];for(var i in e)x.call(e,i)&&t.push(i);return t}}).call(t,i("DuR2"))},N2ZB:function(e,t,i){"use strict";function n(){this.vertexFormat=void 0,this.positions=void 0,this.width=void 0,this.arcType=void 0,this.granularity=void 0}function a(){this.positions=void 0,this.width=void 0,this.arcType=void 0,this.granularity=void 0}function r(e,t){if(!Object(p.a)(e))throw new g.a("entity is required");if(!Object(p.a)(t))throw new g.a("scene is required");this._entity=e,this._scene=t,this._entitySubscription=e.definitionChanged.addEventListener(r.prototype._onEntityPropertyChanged,this),this._fillEnabled=!1,this._dynamic=!1,this._geometryChanged=new b.a,this._showProperty=void 0,this._materialProperty=void 0,this._shadowsProperty=void 0,this._distanceDisplayConditionProperty=void 0,this._classificationTypeProperty=void 0,this._depthFailMaterialProperty=void 0,this._geometryOptions=new n,this._groundGeometryOptions=new a,this._id="polyline-"+e.id,this._clampToGround=!1,this._supportsPolylinesOnTerrain=C.a.supportsPolylinesOnTerrain(t),this._zIndex=0,this._onEntityPropertyChanged(e,"polyline",e.polyline,void 0)}function o(e,t,i){this._line=void 0,this._primitives=e,this._groundPrimitives=t,this._groundPolylinePrimitive=void 0,this._material=void 0,this._geometryUpdater=i,this._positions=[]}function s(e){if(Object(p.a)(e._line))return e._line;var t=e._geometryUpdater._scene.id,i=k[t],n=e._primitives;!Object(p.a)(i)||i.isDestroyed()?(i=new P.a,k[t]=i,n.add(i)):n.contains(i)||n.add(i);var a=i.add();return a.id=e._geometryUpdater._entity,e._line=a,a}var c=i("X8rS"),l=i("lBr9"),u=i("5F4X"),h=i("6F0S"),d=i("devy"),f=i("5A4e"),p=i("xC6Q"),m=i("6sr8"),g=i("PzDm"),_=i("2d28"),v=i("2kyc"),b=i("W6xh"),y=i("izcu"),O=i("BvZ0"),w=i("DsDe"),x=i("VF2d"),E=i("jo6B"),T=i("QhJM"),A=i("zSqc"),C=i("dMpj"),S=i("M1dj"),j=i("u/r6"),P=i("ZmAt"),D=i("DWwl"),I=i("87Vu"),R=i("ARzC"),M=i("P+tD"),L=i("I5FW"),N=i("53NE"),F=i("7xsx"),z=i("uhjI"),B=new N.a(0),k={},U=new h.a,V=new L.a(h.a.WHITE),H=new N.a(!0),q=new N.a(R.a.DISABLED),W=new N.a(new _.a),G=new N.a(S.a.BOTH);Object.defineProperties(r.prototype,{id:{get:function(){return this._id}},entity:{get:function(){return this._entity}},fillEnabled:{get:function(){return this._fillEnabled}},hasConstantFill:{get:function(){return!this._fillEnabled||!Object(p.a)(this._entity.availability)&&z.a.isConstant(this._showProperty)}},fillMaterialProperty:{get:function(){return this._materialProperty}},depthFailMaterialProperty:{get:function(){return this._depthFailMaterialProperty}},outlineEnabled:{value:!1},hasConstantOutline:{value:!0},outlineColorProperty:{value:void 0},shadowsProperty:{get:function(){return this._shadowsProperty}},distanceDisplayConditionProperty:{get:function(){return this._distanceDisplayConditionProperty}},classificationTypeProperty:{get:function(){return this._classificationTypeProperty}},isDynamic:{get:function(){return this._dynamic}},isClosed:{value:!1},geometryChanged:{get:function(){return this._geometryChanged}},arcType:{get:function(){return this._arcType}},clampToGround:{get:function(){return this._clampToGround&&this._supportsPolylinesOnTerrain}},zIndex:{get:function(){return this._zIndex}}}),r.prototype.isOutlineVisible=function(e){return!1},r.prototype.isFilled=function(e){var t=this._entity,i=this._fillEnabled&&t.isAvailable(e)&&this._showProperty.getValue(e);return Object(f.a)(i,!1)},r.prototype.createFillGeometryInstance=function(e){if(!Object(p.a)(e))throw new g.a("time is required.");if(!this._fillEnabled)throw new g.a("This instance does not represent a filled geometry.");var t,i=this._entity,n=i.isAvailable(e),a=new A.a(n&&i.isShowing&&this._showProperty.getValue(e)),r=this._distanceDisplayConditionProperty.getValue(e),o=v.a.fromDistanceDisplayCondition(r),s={show:a,distanceDisplayCondition:o};return this._materialProperty instanceof L.a&&(Object(p.a)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||n)&&(t=this._materialProperty.color.getValue(e,U)),Object(p.a)(t)||(t=h.a.WHITE),s.color=d.a.fromColor(t)),this.clampToGround?new y.a({id:i,geometry:new O.a(this._groundGeometryOptions),attributes:s}):(Object(p.a)(this._depthFailMaterialProperty)&&this._depthFailMaterialProperty instanceof L.a&&(Object(p.a)(this._depthFailMaterialProperty.color)&&(this._depthFailMaterialProperty.color.isConstant||n)&&(t=this._depthFailMaterialProperty.color.getValue(e,U)),Object(p.a)(t)||(t=h.a.WHITE),s.depthFailColor=d.a.fromColor(t)),new y.a({id:i,geometry:new E.a(this._geometryOptions),attributes:s}))},r.prototype.createOutlineGeometryInstance=function(e){throw new g.a("This instance does not represent an outlined geometry.")},r.prototype.isDestroyed=function(){return!1},r.prototype.destroy=function(){this._entitySubscription(),Object(m.a)(this)},r.prototype._onEntityPropertyChanged=function(e,t,i,n){if("availability"===t||"polyline"===t){var a=this._entity.polyline;if(!Object(p.a)(a))return void(this._fillEnabled&&(this._fillEnabled=!1,this._geometryChanged.raiseEvent(this)));var r=a.positions,o=a.show;if(Object(p.a)(o)&&o.isConstant&&!o.getValue(w.a.MINIMUM_VALUE)||!Object(p.a)(r))return void(this._fillEnabled&&(this._fillEnabled=!1,this._geometryChanged.raiseEvent(this)));var s=a.zIndex,c=Object(f.a)(a.material,V),l=c instanceof L.a;this._materialProperty=c,this._depthFailMaterialProperty=a.depthFailMaterial,this._showProperty=Object(f.a)(o,H),this._shadowsProperty=Object(f.a)(a.shadows,q),this._distanceDisplayConditionProperty=Object(f.a)(a.distanceDisplayCondition,W),this._classificationTypeProperty=Object(f.a)(a.classificationType,G),this._fillEnabled=!0,this._zIndex=Object(f.a)(s,B);var u=a.width,h=a.arcType,d=a.clampToGround,m=a.granularity;if(r.isConstant&&z.a.isConstant(u)&&z.a.isConstant(h)&&z.a.isConstant(m)&&z.a.isConstant(d)&&z.a.isConstant(s)){var g=this._geometryOptions,_=r.getValue(w.a.MINIMUM_VALUE,g.positions);if(!Object(p.a)(_)||_.length<2)return void(this._fillEnabled&&(this._fillEnabled=!1,this._geometryChanged.raiseEvent(this)));var v;v=l&&(!Object(p.a)(this._depthFailMaterialProperty)||this._depthFailMaterialProperty instanceof L.a)?D.a.VERTEX_FORMAT:I.a.VERTEX_FORMAT,g.vertexFormat=v,g.positions=_,g.width=Object(p.a)(u)?u.getValue(w.a.MINIMUM_VALUE):void 0,g.arcType=Object(p.a)(h)?h.getValue(w.a.MINIMUM_VALUE):void 0,g.granularity=Object(p.a)(m)?m.getValue(w.a.MINIMUM_VALUE):void 0;var b=this._groundGeometryOptions;b.positions=_,b.width=g.width,b.arcType=g.arcType,b.granularity=g.granularity,this._clampToGround=!!Object(p.a)(d)&&d.getValue(w.a.MINIMUM_VALUE),!this._clampToGround&&Object(p.a)(s)&&Object(x.a)("Entity polylines must have clampToGround: true when using zIndex.  zIndex will be ignored."),this._dynamic=!1,this._geometryChanged.raiseEvent(this)}else this._dynamic||(this._dynamic=!0,this._geometryChanged.raiseEvent(this))}},r.prototype.createDynamicUpdater=function(e,t){if(u.a.defined("primitives",e),u.a.defined("groundPrimitives",t),!this._dynamic)throw new g.a("This instance does not represent dynamic geometry.");return new o(e,t,this)};var Y={positions:void 0,granularity:void 0,height:void 0,ellipsoid:void 0};o.prototype.update=function(e){var t=this._geometryUpdater,i=t._entity,n=i.polyline,a=n.positions,r=z.a.getValueOrUndefined(a,e,this._positions);t._clampToGround=z.a.getValueOrDefault(n._clampToGround,e,!1),t._groundGeometryOptions.positions=r,t._groundGeometryOptions.width=z.a.getValueOrDefault(n._width,e,1),t._groundGeometryOptions.arcType=z.a.getValueOrDefault(n._arcType,e,c.a.GEODESIC),t._groundGeometryOptions.granularity=z.a.getValueOrDefault(n._granularity,e,9999);var o=this._groundPrimitives;if(Object(p.a)(this._groundPolylinePrimitive)&&(o.remove(this._groundPolylinePrimitive),this._groundPolylinePrimitive=void 0),t.clampToGround){if(!i.isShowing||!i.isAvailable(e)||!z.a.getValueOrDefault(n._show,e,!0))return;if(!Object(p.a)(r)||r.length<2)return;var l,u=t.fillMaterialProperty;if(u instanceof L.a)l=new D.a;else{var h=F.a.getValue(e,u,this._material);l=new I.a({material:h,translucent:h.isTranslucent()}),this._material=h}return this._groundPolylinePrimitive=o.add(new j.a({geometryInstances:t.createFillGeometryInstance(e),appearance:l,classificationType:t.classificationTypeProperty.getValue(e),asynchronous:!1}),z.a.getValueOrUndefined(t.zIndex,e)),void(Object(p.a)(this._line)&&(this._line.show=!1))}var d=s(this);if(!i.isShowing||!i.isAvailable(e)||!z.a.getValueOrDefault(n._show,e,!0))return void(d.show=!1);if(!Object(p.a)(r)||r.length<2)return void(d.show=!1);var f=c.a.GEODESIC;f=z.a.getValueOrDefault(n._arcType,e,f);var m=t._scene.globe;f!==c.a.NONE&&Object(p.a)(m)&&(Y.ellipsoid=m.ellipsoid,Y.positions=r,Y.granularity=z.a.getValueOrUndefined(n._granularity,e),Y.height=T.a.extractHeights(r,m.ellipsoid),r=f===c.a.GEODESIC?T.a.generateCartesianArc(Y):T.a.generateCartesianRhumbArc(Y)),d.show=!0,d.positions=r.slice(),d.material=F.a.getValue(e,t.fillMaterialProperty,d.material),d.width=z.a.getValueOrDefault(n._width,e,1),d.distanceDisplayCondition=z.a.getValueOrUndefined(n._distanceDisplayCondition,e,d.distanceDisplayCondition)},o.prototype.getBoundingSphere=function(e){if(u.a.defined("result",e),this._geometryUpdater.clampToGround){var t=this._groundPolylinePrimitive;if(Object(p.a)(t)&&t.show&&t.ready){var i=t.getGeometryInstanceAttributes(this._geometryUpdater._entity);if(Object(p.a)(i)&&Object(p.a)(i.boundingSphere))return l.a.clone(i.boundingSphere,e),M.a.DONE}return Object(p.a)(t)&&!t.ready?M.a.PENDING:M.a.DONE}var n=s(this);return n.show&&n.positions.length>0?(l.a.fromPoints(n.positions,e),M.a.DONE):M.a.FAILED},o.prototype.isDestroyed=function(){return!1},o.prototype.destroy=function(){var e=this._geometryUpdater,t=e._scene.id,i=k[t];Object(p.a)(i)&&(i.remove(this._line),0===i.length&&(this._primitives.removeAndDestroy(i),delete k[t])),Object(p.a)(this._groundPolylinePrimitive)&&this._groundPrimitives.remove(this._groundPolylinePrimitive),Object(m.a)(this)},t.a=r},NFk4:function(e,t,i){"use strict";var n={FONT_SIZE:48,PADDING:10,RADIUS:8,CUTOFF:.25};t.a=Object.freeze(n)},NJ3Y:function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT);var t=Object(a.a)(e.translucent,!0),i=Object(a.a)(e.aboveGround,!1);this.material=Object(r.a)(e.material)?e.material:u.a.fromType(u.a.ColorType),this.translucent=Object(a.a)(e.translucent,!0),this._vertexShaderSource=Object(a.a)(e.vertexShaderSource,c.a),this._fragmentShaderSource=Object(a.a)(e.fragmentShaderSource,s.a),this._renderState=l.a.getDefaultRenderState(t,!i,e.renderState),this._closed=!1,this._flat=Object(a.a)(e.flat,!1),this._faceForward=Object(a.a)(e.faceForward,i),this._aboveGround=i}var a=i("5A4e"),r=i("xC6Q"),o=i("xvTE"),s=i("MVQ4"),c=i("tgoP"),l=i("fSWn"),u=i("5SZ+");Object.defineProperties(n.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return n.VERTEX_FORMAT}},flat:{get:function(){return this._flat}},faceForward:{get:function(){return this._faceForward}},aboveGround:{get:function(){return this._aboveGround}}}),n.VERTEX_FORMAT=o.a.POSITION_AND_ST,n.prototype.getFragmentShaderSource=l.a.prototype.getFragmentShaderSource,n.prototype.isTranslucent=l.a.prototype.isTranslucent,n.prototype.getRenderState=l.a.prototype.getRenderState},NUUv:function(e,t,i){"use strict";function n(e,t,i,n){o.a.defined("scene",e),o.a.defined("positionProperty",t),this._scene=e,this._heightReference=i,this._extrudedHeightReference=n,this._positionProperty=t,this._position=new a.a,this._cartographicPosition=new r.a,this._normal=new a.a,this._definitionChanged=new l.a,this._terrainHeight=0,this._removeCallbackFunc=void 0,this._removeEventListener=void 0,this._removeModeListener=void 0;var c=this;if(Object(s.a)(e.globe)&&(this._removeEventListener=e.terrainProviderChanged.addEventListener(function(){c._updateClamping()}),this._removeModeListener=e.morphComplete.addEventListener(function(){c._updateClamping()})),t.isConstant){var h=t.getValue(u.a.MINIMUM_VALUE,m);if(!Object(s.a)(h)||a.a.equals(h,a.a.ZERO)||!Object(s.a)(e.globe))return;this._position=a.a.clone(h,this._position),this._updateClamping(),this._normal=e.globe.ellipsoid.geodeticSurfaceNormal(h,this._normal)}}var a=i("Jj+J"),r=i("I3GD"),o=i("5F4X"),s=i("xC6Q"),c=i("6sr8"),l=i("W6xh"),u=i("DsDe"),h=i("fq+p"),d=i("JIo7"),f=i("sotJ"),p=i("uhjI"),m=new a.a,g=new r.a;Object.defineProperties(n.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}}}),n.prototype._updateClamping=function(){function e(e){if(t.mode===f.a.SCENE3D){var i=r.cartesianToCartographic(e,g);c._terrainHeight=i.height}else c._terrainHeight=e.x;c.definitionChanged.raiseEvent()}Object(s.a)(this._removeCallbackFunc)&&this._removeCallbackFunc();var t=this._scene,i=t.globe,n=this._position;if(!Object(s.a)(i)||a.a.equals(n,a.a.ZERO))return void(this._terrainHeight=0);var r=i.ellipsoid,o=i._surface,c=this,l=r.cartesianToCartographic(n,this._cartographicPosition),u=i.getHeight(l);Object(s.a)(u)?this._terrainHeight=u:this._terrainHeight=0,this._removeCallbackFunc=o.updateHeight(l,e)},n.prototype.getValue=function(e,t){var i=p.a.getValueOrDefault(this._heightReference,e,d.a.NONE),n=p.a.getValueOrDefault(this._extrudedHeightReference,e,d.a.NONE);if(i===d.a.NONE&&n!==d.a.RELATIVE_TO_GROUND)return this._position=a.a.clone(a.a.ZERO,this._position),a.a.clone(a.a.ZERO,t);if(this._positionProperty.isConstant)return a.a.multiplyByScalar(this._normal,this._terrainHeight,t);var r=this._scene,o=this._positionProperty.getValue(e,m);if(!Object(s.a)(o)||a.a.equals(o,a.a.ZERO)||!Object(s.a)(r.globe))return a.a.clone(a.a.ZERO,t);if(a.a.equalsEpsilon(this._position,o,h.a.EPSILON10))return a.a.multiplyByScalar(this._normal,this._terrainHeight,t);this._position=a.a.clone(o,this._position),this._updateClamping();var c=r.globe.ellipsoid.geodeticSurfaceNormal(o,this._normal);return a.a.multiplyByScalar(c,this._terrainHeight,t)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return Object(s.a)(this._removeEventListener)&&this._removeEventListener(),Object(s.a)(this._removeModeListener)&&this._removeModeListener(),Object(s.a)(this._removeCallbackFunc)&&this._removeCallbackFunc(),Object(c.a)(this)},t.a=n},NbO3:function(e,t,i){"use strict";t.a="attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 normal;\nattribute vec3 tangent;\nattribute vec3 bitangent;\nattribute vec2 st;\nattribute float batchId;\n\nvarying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvarying vec3 v_tangentEC;\nvarying vec3 v_bitangentEC;\nvarying vec2 v_st;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n    v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n    v_tangentEC = czm_normal * tangent;                       // tangent in eye coordinates\n    v_bitangentEC = czm_normal * bitangent;                   // bitangent in eye coordinates\n    v_st = st;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n"},Nc9q:function(e,t,i){"use strict";t.a="/**\n * Adjusts the hue of a color.\n * \n * @name czm_hue\n * @glslFunction\n * \n * @param {vec3} rgb The color.\n * @param {float} adjustment The amount to adjust the hue of the color in radians.\n *\n * @returns {float} The color with the hue adjusted.\n *\n * @example\n * vec3 adjustHue = czm_hue(color, czm_pi); // The same as czm_hue(color, -czm_pi)\n */\nvec3 czm_hue(vec3 rgb, float adjustment)\n{\n    const mat3 toYIQ = mat3(0.299,     0.587,     0.114,\n                            0.595716, -0.274453, -0.321263,\n                            0.211456, -0.522591,  0.311135);\n    const mat3 toRGB = mat3(1.0,  0.9563,  0.6210,\n                            1.0, -0.2721, -0.6474,\n                            1.0, -1.107,   1.7046);\n    \n    vec3 yiq = toYIQ * rgb;\n    float hue = atan(yiq.z, yiq.y) + adjustment;\n    float chroma = sqrt(yiq.z * yiq.z + yiq.y * yiq.y);\n    \n    vec3 color = vec3(yiq.x, chroma * cos(hue), chroma * sin(hue));\n    return toRGB * color;\n}\n"},Nft1:function(e,t,i){"use strict";function n(e){var t=new u.a(e);t.blendingEnabled=!1,t.scissorTest={enabled:!0,rectangle:new a.a},t.viewport=new a.a,this._context=e,this._fb=void 0,this._passState=t,this._width=0,this._height=0}var a=i("or8k"),r=i("6F0S"),o=i("5A4e"),s=i("xC6Q"),c=i("6sr8"),l=i("YyWD"),u=i("o12a"),h=i("oosW"),d=i("TkhT"),f=i("25X5");n.prototype.begin=function(e,t){var i=this._context,n=t.width,r=t.height;return a.a.clone(e,this._passState.scissorTest.rectangle),Object(s.a)(this._fb)&&this._width===n&&this._height===r||(this._width=n,this._height=r,this._fb=this._fb&&this._fb.destroy(),this._fb=new l.a({context:i,colorTextures:[new f.a({context:i,width:n,height:r})],depthStencilRenderbuffer:new h.a({context:i,width:n,height:r,format:d.a.DEPTH_STENCIL})}),this._passState.framebuffer=this._fb),this._passState.viewport.width=n,this._passState.viewport.height=r,this._passState};var p=new r.a;n.prototype.end=function(e){for(var t=Object(o.a)(e.width,1),i=Object(o.a)(e.height,1),n=this._context,a=n.readPixels({x:e.x,y:e.y,width:t,height:i,framebuffer:this._fb}),c=Math.max(t,i),l=c*c,u=Math.floor(.5*t),h=Math.floor(.5*i),d=0,f=0,m=0,g=-1,_=0;_<l;++_){if(-u<=d&&d<=u&&-h<=f&&f<=h){var v=4*((h-f)*t+d+u);p.red=r.a.byteToFloat(a[v]),p.green=r.a.byteToFloat(a[v+1]),p.blue=r.a.byteToFloat(a[v+2]),p.alpha=r.a.byteToFloat(a[v+3]);var b=n.getObjectByPickColor(p);if(Object(s.a)(b))return b}if(d===f||d<0&&-d===f||d>0&&d===1-f){var y=m;m=-g,g=y}d+=m,f+=g}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._fb=this._fb&&this._fb.destroy(),Object(c.a)(this)},t.a=n},NpIQ:function(e,t){t.f={}.propertyIsEnumerable},NxCm:function(e,t,i){"use strict";function n(e,t,i){Object(a.a)(t)||(t=e.width),Object(a.a)(i)||(i=e.height);var n=r[t];Object(a.a)(n)||(n={},r[t]=n);var o=n[i];if(!Object(a.a)(o)){var s=document.createElement("canvas");s.width=t,s.height=i,o=s.getContext("2d"),o.globalCompositeOperation="copy",n[i]=o}return o.drawImage(e,0,0,t,i),o.getImageData(0,0,t,i).data}var a=i("xC6Q"),r={};t.a=n},Nxf2:function(e,t,i){"use strict";t.a="varying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvarying vec3 v_tangentEC;\nvarying vec3 v_bitangentEC;\nvarying vec2 v_st;\n\nvoid main()\n{\n    vec3 positionToEyeEC = -v_positionEC;\n    mat3 tangentToEyeMatrix = czm_tangentToEyeSpaceMatrix(v_normalEC, v_tangentEC, v_bitangentEC);\n\n    vec3 normalEC = normalize(v_normalEC);\n#ifdef FACE_FORWARD\n    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n#endif\n\n    czm_materialInput materialInput;\n    materialInput.normalEC = normalEC;\n    materialInput.tangentToEyeMatrix = tangentToEyeMatrix;\n    materialInput.positionToEyeEC = positionToEyeEC;\n    materialInput.st = v_st;\n    czm_material material = czm_getMaterial(materialInput);\n\n#ifdef FLAT\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#else\n    gl_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n#endif\n}\n"},Nz15:function(e,t,i){"use strict";t.a="/**\n * The reciprocal of the radius of the WGS84 ellipsoid.\n *\n * @name czm_ellipsoidInverseRadii\n * @glslConstant\n */\nconst vec3 czm_ellipsoidInverseRadii = vec3(1.0 / 6378137.0, 1.0 / 6378137.0, 1.0 / 6356752.314245);\n"},NzWT:function(e,t,i){"use strict";function n(e,t,i,a,o){var s;s=i instanceof _.a?p.a:m.a,this.orderedGroundPrimitives=e,this.classificationType=t,this.appearanceType=s,this.materialProperty=i,this.updaters=new r.a,this.createPrimitive=!0,this.primitive=void 0,this.oldPrimitive=void 0,this.geometry=new r.a,this.material=void 0,this.updatersWithAttributes=new r.a,this.attributes=new r.a,this.invalidated=!1,this.removeMaterialSubscription=i.definitionChanged.addEventListener(n.prototype.onMaterialChanged,this),this.subscriptions=new r.a,this.showsUpdated=new r.a,this.zIndex=a,this._asynchronous=o}function a(e,t,i){this._items=[],this._orderedGroundPrimitives=e,this._classificationType=t,this._asynchronous=Object(c.a)(i,!0)}var r=i("7uRt"),o=i("6F0S"),s=i("devy"),c=i("5A4e"),l=i("xC6Q"),u=i("2d28"),h=i("2kyc"),d=i("zSqc"),f=i("u/r6"),p=i("DWwl"),m=i("87Vu"),g=i("P+tD"),_=i("I5FW"),v=i("7xsx"),b=i("uhjI"),y=new o.a,O=new u.a,w=new u.a;n.prototype.onMaterialChanged=function(){this.invalidated=!0},n.prototype.isMaterial=function(e){var t=this.materialProperty,i=e.fillMaterialProperty;return i===t||i instanceof _.a&&t instanceof _.a||Object(l.a)(t)&&t.equals(i)},n.prototype.add=function(e,t,i){var n=t.id;if(this.updaters.set(n,t),this.geometry.set(n,i),t.hasConstantFill&&t.fillMaterialProperty.isConstant&&b.a.isConstant(t.distanceDisplayConditionProperty)){var a=this;this.subscriptions.set(n,t.entity.definitionChanged.addEventListener(function(e,i,n,r){"isShowing"===i&&a.showsUpdated.set(t.id,t)}))}else this.updatersWithAttributes.set(n,t);this.createPrimitive=!0},n.prototype.remove=function(e){var t=e.id;if(this.createPrimitive=this.geometry.remove(t)||this.createPrimitive,this.updaters.remove(t)){this.updatersWithAttributes.remove(t);var i=this.subscriptions.get(t);return Object(l.a)(i)&&(i(),this.subscriptions.remove(t)),!0}return!1},n.prototype.update=function(e){var t,i=!0,n=this.primitive,a=this.orderedGroundPrimitives,r=this.geometry.values;if(this.createPrimitive){if(r.length>0)Object(l.a)(n)&&(Object(l.a)(this.oldPrimitive)?a.remove(n):this.oldPrimitive=n),n=new f.a({show:!1,asynchronous:this._asynchronous,geometryInstances:r.slice(),appearance:new this.appearanceType,classificationType:this.classificationType}),this.appearanceType===m.a&&(this.material=v.a.getValue(e,this.materialProperty,this.material),n.appearance.material=this.material),a.add(n,this.zIndex),i=!1;else{Object(l.a)(n)&&(a.remove(n),n=void 0);var c=this.oldPrimitive;Object(l.a)(c)&&(a.remove(c),this.oldPrimitive=void 0)}this.attributes.removeAll(),this.primitive=n,this.createPrimitive=!1}else if(Object(l.a)(n)&&n.ready){n.show=!0,Object(l.a)(this.oldPrimitive)&&(a.remove(this.oldPrimitive),this.oldPrimitive=void 0),this.appearanceType===m.a&&(this.material=v.a.getValue(e,this.materialProperty,this.material),this.primitive.appearance.material=this.material);var p=this.updatersWithAttributes.values,g=p.length;for(t=0;t<g;t++){var _=p[t],x=_.entity,E=this.geometry.get(_.id),T=this.attributes.get(E.id.id);if(Object(l.a)(T)||(T=n.getGeometryInstanceAttributes(E.id),this.attributes.set(E.id.id,T)),!_.fillMaterialProperty.isConstant){var A=_.fillMaterialProperty.color,C=b.a.getValueOrDefault(A,e,o.a.WHITE,y);o.a.equals(T._lastColor,C)||(T._lastColor=o.a.clone(C,T._lastColor),T.color=s.a.toValue(C,T.color))}var S=x.isShowing&&(_.hasConstantFill||_.isFilled(e)),j=1===T.show[0];S!==j&&(T.show=d.a.toValue(S,T.show));var P=_.distanceDisplayConditionProperty;if(!b.a.isConstant(P)){var D=b.a.getValueOrDefault(P,e,w,O);u.a.equals(D,T._lastDistanceDisplayCondition)||(T._lastDistanceDisplayCondition=u.a.clone(D,T._lastDistanceDisplayCondition),T.distanceDisplayCondition=h.a.toValue(D,T.distanceDisplayCondition))}}this.updateShows(n)}else Object(l.a)(n)&&!n.ready&&(i=!1);return i},n.prototype.updateShows=function(e){for(var t=this.showsUpdated.values,i=t.length,n=0;n<i;n++){var a=t[n],r=a.entity,o=this.geometry.get(a.id),s=this.attributes.get(o.id.id);Object(l.a)(s)||(s=e.getGeometryInstanceAttributes(o.id),this.attributes.set(o.id.id,s));var c=r.isShowing;c!==(1===s.show[0])&&(s.show=d.a.toValue(c,s.show),o.attributes.show.value[0]=s.show[0])}this.showsUpdated.removeAll()},n.prototype.contains=function(e){return this.updaters.contains(e.id)},n.prototype.getBoundingSphere=function(e,t){var i=this.primitive;if(!i.ready)return g.a.PENDING;var n=i.getGeometryInstanceAttributes(e.entity);return!Object(l.a)(n)||!Object(l.a)(n.boundingSphere)||Object(l.a)(n.show)&&0===n.show[0]?g.a.FAILED:(n.boundingSphere.clone(t),g.a.DONE)},n.prototype.destroy=function(){var e=this.primitive,t=this.orderedGroundPrimitives;Object(l.a)(e)&&t.remove(e);var i=this.oldPrimitive;Object(l.a)(i)&&t.remove(i),this.removeMaterialSubscription()},a.prototype.add=function(e,t){for(var i=this._items,a=i.length,r=t.createFillGeometryInstance(e),o=b.a.getValueOrDefault(t.zIndex,0),s=0;s<a;++s){var c=i[s];if(c.isMaterial(t)&&c.zIndex===o)return void c.add(e,t,r)}var l=new n(this._orderedGroundPrimitives,this._classificationType,t.fillMaterialProperty,o,this._asynchronous);l.add(e,t,r),i.push(l)},a.prototype.remove=function(e){for(var t=this._items,i=t.length,n=i-1;n>=0;n--){var a=t[n];if(a.remove(e)){0===a.updaters.length&&(t.splice(n,1),a.destroy());break}}},a.prototype.update=function(e){var t,i=this._items,n=i.length;for(t=n-1;t>=0;t--){var a=i[t];if(a.invalidated){i.splice(t,1);for(var r=a.updaters.values,o=r.length,s=0;s<o;s++)this.add(e,r[s]);a.destroy()}}var c=!0;for(t=0;t<i.length;t++)c=i[t].update(e)&&c;return c},a.prototype.getBoundingSphere=function(e,t){for(var i=this._items,n=i.length,a=0;a<n;a++){var r=i[a];if(r.contains(e))return r.getBoundingSphere(e,t)}return g.a.FAILED},a.prototype.removeAllPrimitives=function(){for(var e=this._items,t=e.length,i=0;i<t;i++)e[i].destroy();this._items.length=0},t.a=a},O41A:function(e,t,i){"use strict";function n(e){if(!Object(o.a)(e))throw new s.a("resourceOrUrlOrBuffer is required.");var t;if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))t=a.a.resolve(e);else{t=c.a.createIfNeeded(e).fetchArrayBuffer()}if(Object(o.a)(t))return t.then(function(e){if(Object(o.a)(e)){var t=[];return e instanceof ArrayBuffer?t.push(e):0===e.byteOffset&&e.byteLength===e.buffer.byteLength?t.push(e.buffer):(e=e.slice(0,e.length),t.push(e.buffer)),u.scheduleTask(e,t)}}).then(function(e){return r.a.clone(e)})}var a=i("S7OP"),r=i("MNi1"),o=i("xC6Q"),s=i("PzDm"),c=i("rMjQ"),l=i("JlUm"),u=new l.a("transcodeCRNToDXT",Number.POSITIVE_INFINITY);t.a=n},O4g8:function(e,t){e.exports=!0},ODTd:function(e,t,i){"use strict";function n(e,t){r.a.typeOf.string("html",e);var i,n=e;Object(s.a)(l[n])?i=l[n]:(i=c++,l[n]=i),t=Object(o.a)(t,!1),this._id=i,this._html=e,this._showOnScreen=t,this._element=void 0}var a=i("Yykp"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=0,l={};Object.defineProperties(n.prototype,{html:{get:function(){return this._html}},id:{get:function(){return this._id}},showOnScreen:{get:function(){return this._showOnScreen}},element:{get:function(){if(!Object(s.a)(this._element)){var e=a.a.sanitize(this._html),t=document.createElement("div");t._creditId=this._id,t.style.display="inline",t.innerHTML=e;for(var i=t.querySelectorAll("a"),n=0;n<i.length;n++)i[n].setAttribute("target","_blank");this._element=t}return this._element}}}),n.equals=function(e,t){return e===t||Object(s.a)(e)&&Object(s.a)(t)&&e._id===t._id},n.prototype.equals=function(e){return n.equals(this,e)},n.getIonCredit=function(e){var t=Object(s.a)(e.collapsible)&&!e.collapsible,i=new n(e.html,t);return i._isIon=-1!==i.html.indexOf("ion-credit.png"),i},n.clone=function(e){if(Object(s.a)(e))return new n(e.html,e.showOnScreen)},t.a=n},OLRm:function(e,t,i){"use strict";function n(e){function t(e,t){return o[e]-o[t]}function i(e,t){return r[e]-r[t]}if(!Object(f.a)(e)||!Object(f.a)(e.quantizedVertices))throw new p.a("options.quantizedVertices is required.");if(!Object(f.a)(e.indices))throw new p.a("options.indices is required.");if(!Object(f.a)(e.minimumHeight))throw new p.a("options.minimumHeight is required.");if(!Object(f.a)(e.maximumHeight))throw new p.a("options.maximumHeight is required.");if(!Object(f.a)(e.maximumHeight))throw new p.a("options.maximumHeight is required.");if(!Object(f.a)(e.boundingSphere))throw new p.a("options.boundingSphere is required.");if(!Object(f.a)(e.horizonOcclusionPoint))throw new p.a("options.horizonOcclusionPoint is required.");if(!Object(f.a)(e.westIndices))throw new p.a("options.westIndices is required.");if(!Object(f.a)(e.southIndices))throw new p.a("options.southIndices is required.");if(!Object(f.a)(e.eastIndices))throw new p.a("options.eastIndices is required.");if(!Object(f.a)(e.northIndices))throw new p.a("options.northIndices is required.");if(!Object(f.a)(e.westSkirtHeight))throw new p.a("options.westSkirtHeight is required.");if(!Object(f.a)(e.southSkirtHeight))throw new p.a("options.southSkirtHeight is required.");if(!Object(f.a)(e.eastSkirtHeight))throw new p.a("options.eastSkirtHeight is required.");if(!Object(f.a)(e.northSkirtHeight))throw new p.a("options.northSkirtHeight is required.");this._quantizedVertices=e.quantizedVertices,this._encodedNormals=e.encodedNormals,this._indices=e.indices,this._minimumHeight=e.minimumHeight,this._maximumHeight=e.maximumHeight,this._boundingSphere=e.boundingSphere,this._orientedBoundingBox=e.orientedBoundingBox,this._horizonOcclusionPoint=e.horizonOcclusionPoint,this._credits=e.credits;var n=this._quantizedVertices.length/3,r=this._uValues=this._quantizedVertices.subarray(0,n),o=this._vValues=this._quantizedVertices.subarray(n,2*n);this._heightValues=this._quantizedVertices.subarray(2*n,3*n),this._westIndices=a(e.westIndices,t,n),this._southIndices=a(e.southIndices,i,n),this._eastIndices=a(e.eastIndices,t,n),this._northIndices=a(e.northIndices,i,n),this._westSkirtHeight=e.westSkirtHeight,this._southSkirtHeight=e.southSkirtHeight,this._eastSkirtHeight=e.eastSkirtHeight,this._northSkirtHeight=e.northSkirtHeight,this._childTileMask=Object(d.a)(e.childTileMask,15),this._createdByUpsampling=Object(d.a)(e.createdByUpsampling,!1),this._waterMask=e.waterMask,this._mesh=void 0}function a(e,t,i){w.length=e.length;for(var n=!1,a=0,r=e.length;a<r;++a)w[a]=e[a],n=n||a>0&&t(e[a-1],e[a])>0;return n?(w.sort(t),m.a.createTypedArray(i,w)):e}function r(e,t,i,n,a,r,o,s){var c=Math.min(i,a,o),l=Math.max(i,a,o),u=Math.min(n,r,s),h=Math.max(n,r,s);return e>=c&&e<=l&&t>=u&&t<=h}function o(e,t,i){for(var n=e._mesh,a=n.vertices,o=n.encoding,s=n.indices,c=0,l=s.length;c<l;c+=3){var u=s[c],h=s[c+1],d=s[c+2],f=o.decodeTextureCoordinates(a,u,C),p=o.decodeTextureCoordinates(a,h,S),m=o.decodeTextureCoordinates(a,d,j);if(r(t,i,f.x,f.y,p.x,p.y,m.x,m.y)){var _=g.a.computeBarycentricCoordinates(t,i,f.x,f.y,p.x,p.y,m.x,m.y,A);if(_.x>=-1e-15&&_.y>=-1e-15&&_.z>=-1e-15){var v=o.decodeHeight(a,u),b=o.decodeHeight(a,h),y=o.decodeHeight(a,d);return _.x*v+_.y*b+_.z*y}}}}function s(e,t,i){for(var n=e._uValues,a=e._vValues,o=e._heightValues,s=e._indices,c=0,l=s.length;c<l;c+=3){var u=s[c],h=s[c+1],d=s[c+2],f=n[u],p=n[h],m=n[d],v=a[u],b=a[h],y=a[d];if(r(t,i,f,v,p,b,m,y)){var O=g.a.computeBarycentricCoordinates(t,i,f,v,p,b,m,y,A);if(O.x>=-1e-15&&O.y>=-1e-15&&O.z>=-1e-15){var w=O.x*o[u]+O.y*o[h]+O.z*o[d];return _.a.lerp(e._minimumHeight,e._maximumHeight,w/T)}}}}var c=i("S7OP"),l=i("lBr9"),u=i("Ss9j"),h=i("Jj+J"),d=i("5A4e"),f=i("xC6Q"),p=i("PzDm"),m=i("oMsT"),g=i("8rzt"),_=i("fq+p"),v=i("qBw0"),b=i("JlUm"),y=i("c/Hq"),O=i("o9ZK");Object.defineProperties(n.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){return this._waterMask}},childTileMask:{get:function(){return this._childTileMask}},canUpsample:{get:function(){return Object(f.a)(this._mesh)}}});var w=[],x=new b.a("createVerticesFromQuantizedTerrainMesh");n.prototype.createMesh=function(e,t,i,n,a){if(!Object(f.a)(e))throw new p.a("tilingScheme is required.");if(!Object(f.a)(t))throw new p.a("x is required.");if(!Object(f.a)(i))throw new p.a("y is required.");if(!Object(f.a)(n))throw new p.a("level is required.");var r=e.ellipsoid,o=e.tileXYToRectangle(t,i,n);a=Object(d.a)(a,1);var s=x.scheduleTask({minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,quantizedVertices:this._quantizedVertices,octEncodedNormals:this._encodedNormals,includeWebMercatorT:!0,indices:this._indices,westIndices:this._westIndices,southIndices:this._southIndices,eastIndices:this._eastIndices,northIndices:this._northIndices,westSkirtHeight:this._westSkirtHeight,southSkirtHeight:this._southSkirtHeight,eastSkirtHeight:this._eastSkirtHeight,northSkirtHeight:this._northSkirtHeight,rectangle:o,relativeToCenter:this._boundingSphere.center,ellipsoid:r,exaggeration:a});if(Object(f.a)(s)){var u=this;return Object(c.a)(s,function(e){var t=u._quantizedVertices.length/3,i=t+u._westIndices.length+u._southIndices.length+u._eastIndices.length+u._northIndices.length,n=m.a.createTypedArray(i,e.indices),r=new Float32Array(e.vertices),o=e.center,s=e.minimumHeight,c=e.maximumHeight,f=Object(d.a)(l.a.clone(e.boundingSphere),u._boundingSphere),p=Object(d.a)(v.a.clone(e.orientedBoundingBox),u._orientedBoundingBox),g=Object(d.a)(h.a.clone(e.occludeePointInScaledSpace),u._horizonOcclusionPoint),_=e.vertexStride,b=y.a.clone(e.encoding);return u._mesh=new O.a(o,r,n,e.indexCountWithoutSkirts,t,s,c,f,g,_,p,b,a,e.westIndicesSouthToNorth,e.southIndicesEastToWest,e.eastIndicesNorthToSouth,e.northIndicesWestToEast),u._quantizedVertices=void 0,u._encodedNormals=void 0,u._indices=void 0,u._uValues=void 0,u._vValues=void 0,u._heightValues=void 0,u._westIndices=void 0,u._southIndices=void 0,u._eastIndices=void 0,u._northIndices=void 0,u._mesh})}};var E=new b.a("upsampleQuantizedTerrainMesh");n.prototype.upsample=function(e,t,i,a,r,o,s){if(!Object(f.a)(e))throw new p.a("tilingScheme is required.");if(!Object(f.a)(t))throw new p.a("thisX is required.");if(!Object(f.a)(i))throw new p.a("thisY is required.");if(!Object(f.a)(a))throw new p.a("thisLevel is required.");if(!Object(f.a)(r))throw new p.a("descendantX is required.");if(!Object(f.a)(o))throw new p.a("descendantY is required.");if(!Object(f.a)(s))throw new p.a("descendantLevel is required.");if(s-a>1)throw new p.a("Upsampling through more than one level at a time is not currently supported.");var u=this._mesh;if(Object(f.a)(this._mesh)){var d=2*t!==r,g=2*i===o,_=e.ellipsoid,b=e.tileXYToRectangle(r,o,s),y=E.scheduleTask({vertices:u.vertices,vertexCountWithoutSkirts:u.vertexCountWithoutSkirts,indices:u.indices,indexCountWithoutSkirts:u.indexCountWithoutSkirts,encoding:u.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:d,isNorthChild:g,childRectangle:b,ellipsoid:_,exaggeration:u.exaggeration});if(Object(f.a)(y)){var O=Math.min(this._westSkirtHeight,this._eastSkirtHeight);O=Math.min(O,this._southSkirtHeight),O=Math.min(O,this._northSkirtHeight);var w=d?.5*O:this._westSkirtHeight,x=g?.5*O:this._southSkirtHeight,T=d?this._eastSkirtHeight:.5*O,A=g?this._northSkirtHeight:.5*O,C=this._credits;return Object(c.a)(y).then(function(e){var t,i=new Uint16Array(e.vertices),a=m.a.createTypedArray(i.length/3,e.indices);return Object(f.a)(e.encodedNormals)&&(t=new Uint8Array(e.encodedNormals)),new n({quantizedVertices:i,indices:a,encodedNormals:t,minimumHeight:e.minimumHeight,maximumHeight:e.maximumHeight,boundingSphere:l.a.clone(e.boundingSphere),orientedBoundingBox:v.a.clone(e.orientedBoundingBox),horizonOcclusionPoint:h.a.clone(e.horizonOcclusionPoint),westIndices:e.westIndices,southIndices:e.southIndices,eastIndices:e.eastIndices,northIndices:e.northIndices,westSkirtHeight:w,southSkirtHeight:x,eastSkirtHeight:T,northSkirtHeight:A,childTileMask:0,credits:C,createdByUpsampling:!0})})}}};var T=32767,A=new h.a;n.prototype.interpolateHeight=function(e,t,i){var n=_.a.clamp((t-e.west)/e.width,0,1);n*=T;var a=_.a.clamp((i-e.south)/e.height,0,1);return a*=T,Object(f.a)(this._mesh)?o(this,n,a):s(this,n,a)};var C=new u.a,S=new u.a,j=new u.a;n.prototype.isChildAvailable=function(e,t,i,n){if(!Object(f.a)(e))throw new p.a("thisX is required.");if(!Object(f.a)(t))throw new p.a("thisY is required.");if(!Object(f.a)(i))throw new p.a("childX is required.");if(!Object(f.a)(n))throw new p.a("childY is required.");var a=2;return i!==2*e&&++a,n!==2*t&&(a-=2),0!=(this._childTileMask&1<<a)},n.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling},t.a=n},OMJi:function(e,t,i){(function(e){function n(e,i){var n={seen:[],stylize:r};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(i)?n.showHidden=i:i&&t._extend(n,i),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),s(n,e,n.depth)}function a(e,t){var i=n.styles[t];return i?"["+n.colors[i][0]+"m"+e+"["+n.colors[i][1]+"m":e}function r(e,t){return e}function o(e){var t={};return e.forEach(function(e,i){t[e]=!0}),t}function s(e,i,n){if(e.customInspect&&i&&T(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var a=i.inspect(n,e);return v(a)||(a=s(e,a,n)),a}var r=c(e,i);if(r)return r;var p=Object.keys(i),m=o(p);if(e.showHidden&&(p=Object.getOwnPropertyNames(i)),E(i)&&(p.indexOf("message")>=0||p.indexOf("description")>=0))return l(i);if(0===p.length){if(T(i)){var g=i.name?": "+i.name:"";return e.stylize("[Function"+g+"]","special")}if(O(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(x(i))return e.stylize(Date.prototype.toString.call(i),"date");if(E(i))return l(i)}var _="",b=!1,y=["{","}"];if(f(i)&&(b=!0,y=["[","]"]),T(i)){_=" [Function"+(i.name?": "+i.name:"")+"]"}if(O(i)&&(_=" "+RegExp.prototype.toString.call(i)),x(i)&&(_=" "+Date.prototype.toUTCString.call(i)),E(i)&&(_=" "+l(i)),0===p.length&&(!b||0==i.length))return y[0]+_+y[1];if(n<0)return O(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special");e.seen.push(i);var w;return w=b?u(e,i,n,m,p):p.map(function(t){return h(e,i,n,m,t,b)}),e.seen.pop(),d(w,_,y)}function c(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return _(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,i,n,a){for(var r=[],o=0,s=t.length;o<s;++o)P(t,String(o))?r.push(h(e,t,i,n,String(o),!0)):r.push("");return a.forEach(function(a){a.match(/^\d+$/)||r.push(h(e,t,i,n,a,!0))}),r}function h(e,t,i,n,a,r){var o,c,l;if(l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]},l.get?c=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(c=e.stylize("[Setter]","special")),P(n,a)||(o="["+a+"]"),c||(e.seen.indexOf(l.value)<0?(c=m(i)?s(e,l.value,null):s(e,l.value,i-1),c.indexOf("\n")>-1&&(c=r?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n"))):c=e.stylize("[Circular]","special")),y(o)){if(r&&a.match(/^\d+$/))return c;o=JSON.stringify(""+a),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+c}function d(e,t,i){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return null==e}function _(e){return"number"==typeof e}function v(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function y(e){return void 0===e}function O(e){return w(e)&&"[object RegExp]"===C(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===C(e)}function E(e){return w(e)&&("[object Error]"===C(e)||e instanceof Error)}function T(e){return"function"==typeof e}function A(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function C(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}function j(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D(e,t){if(!e){var i=new Error("Promise was rejected with a falsy value");i.reason=e,e=i}return t(e)}function I(t){function i(){for(var i=[],n=0;n<arguments.length;n++)i.push(arguments[n]);var a=i.pop();if("function"!=typeof a)throw new TypeError("The last argument must be of type Function");var r=this,o=function(){return a.apply(r,arguments)};t.apply(this,i).then(function(t){e.nextTick(o,null,t)},function(t){e.nextTick(D,t,o)})}if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');return Object.setPrototypeOf(i,Object.getPrototypeOf(t)),Object.defineProperties(i,R(t)),i}var R=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),i={},n=0;n<t.length;n++)i[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return i},M=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(n(arguments[i]));return t.join(" ")}for(var i=1,a=arguments,r=a.length,o=String(e).replace(M,function(e){if("%%"===e)return"%";if(i>=r)return e;switch(e){case"%s":return String(a[i++]);case"%d":return Number(a[i++]);case"%j":try{return JSON.stringify(a[i++])}catch(e){return"[Circular]"}default:return e}}),s=a[i];i<r;s=a[++i])m(s)||!w(s)?o+=" "+s:o+=" "+n(s);return o},t.deprecate=function(i,n){function a(){if(!r){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),r=!0}return i.apply(this,arguments)}if(void 0!==e&&!0===e.noDeprecation)return i;if(void 0===e)return function(){return t.deprecate(i,n).apply(this,arguments)};var r=!1;return a};var L,N={};t.debuglog=function(i){if(y(L)&&(L=Object({NODE_ENV:"production"}).NODE_DEBUG||""),i=i.toUpperCase(),!N[i])if(new RegExp("\\b"+i+"\\b","i").test(L)){var n=e.pid;N[i]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",i,n,e)}}else N[i]=function(){};return N[i]},t.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=g,t.isNumber=_,t.isString=v,t.isSymbol=b,t.isUndefined=y,t.isRegExp=O,t.isObject=w,t.isDate=x,t.isError=E,t.isFunction=T,t.isPrimitive=A,t.isBuffer=i("fC4T");var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",j(),t.format.apply(t,arguments))},t.inherits=i("ONRY"),t._extend=function(e,t){if(!t||!w(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e};var z="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;t.promisify=function(e){function t(){for(var t,i,n=new Promise(function(e,n){t=e,i=n}),a=[],r=0;r<arguments.length;r++)a.push(arguments[r]);a.push(function(e,n){e?i(e):t(n)});try{e.apply(this,a)}catch(e){i(e)}return n}if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(z&&e[z]){var t=e[z];if("function"!=typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,z,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),z&&Object.defineProperty(t,z,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,R(e))},t.promisify.custom=z,t.callbackify=I}).call(t,i("W2nU"))},OMvD:function(e,t,i){"use strict";function n(){this._dataSources=[],this._dataSourceAdded=new u.a,this._dataSourceRemoved=new u.a,this._dataSourceMoved=new u.a}function a(e,t){if(!Object(s.a)(t))throw new l.a("dataSource is required.");var i=e.indexOf(t);if(-1===i)throw new l.a("dataSource is not in this collection.");return i}function r(e,t,i){var n=e._dataSources,a=n.length-1;if(t=h.a.clamp(t,0,a),i=h.a.clamp(i,0,a),t!==i){var r=n[t];n[t]=n[i],n[i]=r,e.dataSourceMoved.raiseEvent(r,i,t)}}var o=i("5A4e"),s=i("xC6Q"),c=i("6sr8"),l=i("PzDm"),u=i("W6xh"),h=i("fq+p"),d=i("S7OP");Object.defineProperties(n.prototype,{length:{get:function(){return this._dataSources.length}},dataSourceAdded:{get:function(){return this._dataSourceAdded}},dataSourceRemoved:{get:function(){return this._dataSourceRemoved}},dataSourceMoved:{get:function(){return this._dataSourceMoved}}}),n.prototype.add=function(e){if(!Object(s.a)(e))throw new l.a("dataSource is required.");var t=this,i=this._dataSources;return Object(d.a)(e,function(e){return i===t._dataSources&&(t._dataSources.push(e),t._dataSourceAdded.raiseEvent(t,e)),e})},n.prototype.remove=function(e,t){t=Object(o.a)(t,!1);var i=this._dataSources.indexOf(e);return-1!==i&&(this._dataSources.splice(i,1),this._dataSourceRemoved.raiseEvent(this,e),t&&"function"==typeof e.destroy&&e.destroy(),!0)},n.prototype.removeAll=function(e){e=Object(o.a)(e,!1);for(var t=this._dataSources,i=0,n=t.length;i<n;++i){var a=t[i];this._dataSourceRemoved.raiseEvent(this,a),e&&"function"==typeof a.destroy&&a.destroy()}this._dataSources=[]},n.prototype.contains=function(e){return-1!==this.indexOf(e)},n.prototype.indexOf=function(e){return this._dataSources.indexOf(e)},n.prototype.get=function(e){if(!Object(s.a)(e))throw new l.a("index is required.");return this._dataSources[e]},n.prototype.getByName=function(e){if(!Object(s.a)(e))throw new l.a("name is required.");return this._dataSources.filter(function(t){return t.name===e})},n.prototype.raise=function(e){var t=a(this._dataSources,e);r(this,t,t+1)},n.prototype.lower=function(e){var t=a(this._dataSources,e);r(this,t,t-1)},n.prototype.raiseToTop=function(e){var t=a(this._dataSources,e);t!==this._dataSources.length-1&&(this._dataSources.splice(t,1),this._dataSources.push(e),this.dataSourceMoved.raiseEvent(e,this._dataSources.length-1,t))},n.prototype.lowerToBottom=function(e){var t=a(this._dataSources,e);0!==t&&(this._dataSources.splice(t,1),this._dataSources.splice(0,0,e),this.dataSourceMoved.raiseEvent(e,0,t))},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this.removeAll(!0),Object(c.a)(this)},t.a=n},ON07:function(e,t,i){var n=i("EqjI"),a=i("7KvD").document,r=n(a)&&n(a.createElement);e.exports=function(e){return r?a.createElement(e):{}}},ONRY:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},OOhG:function(e,t,i){"use strict";t.a="\nuniform mat4 shadowMap_cascadeMatrices[4];\n\nmat4 czm_cascadeMatrix(vec4 weights)\n{\n    return shadowMap_cascadeMatrices[0] * weights.x +\n           shadowMap_cascadeMatrices[1] * weights.y +\n           shadowMap_cascadeMatrices[2] * weights.z +\n           shadowMap_cascadeMatrices[3] * weights.w;\n}\n"},OTuC:function(e,t,i){"use strict";t.a="/**\n * A built-in GLSL vec2 constant for defining the depth range.\n * This is a workaround to a bug where IE11 does not implement gl_DepthRange.\n *\n * @alias czm_depthRange\n * @glslConstant\n *\n * @example\n * // GLSL declaration\n * float depthRangeNear = czm_depthRange.near;\n * float depthRangeFar = czm_depthRange.far;\n *\n */\nconst czm_depthRangeStruct czm_depthRange = czm_depthRangeStruct(0.0, 1.0);\n"},OVtG:function(e,t,i){"use strict";function n(e,t,i,a){function r(e,t){return c.a.getSizeInBytes(t.componentDatatype)-c.a.getSizeInBytes(e.componentDatatype)}if(s.a.defined("context",e),!t||0===t.length)throw new d.a("At least one attribute is required.");var o=n._verifyAttributes(t);i=Object(l.a)(i,0);for(var h,f,p=[],m={},g=o.length,_=0;_<g;++_){var v=o[_];v.vertexBuffer?p.push(v):(f=v.usage,h=m[f],Object(u.a)(h)||(h=m[f]=[]),h.push(v))}this._allBuffers=[];for(f in m)if(m.hasOwnProperty(f)){h=m[f],h.sort(r);var b=n._vertexSizeInBytes(h),y=h[0].usage,O={vertexSizeInBytes:b,vertexBuffer:void 0,usage:y,needsCommit:!1,arrayBuffer:void 0,arrayViews:n._createArrayViews(h,b)};this._allBuffers.push(O)}this._size=0,this._instanced=Object(l.a)(a,!1),this._precreated=p,this._context=e,this.writers=void 0,this.va=void 0,this.resize(i)}function a(e,t){if(t.needsCommit&&t.vertexSizeInBytes>0){t.needsCommit=!1;var i=t.vertexBuffer,n=e._size*t.vertexSizeInBytes,a=Object(u.a)(i);if(!a||i.sizeInBytes<n)return a&&i.destroy(),t.vertexBuffer=p.a.createVertexBuffer({context:e._context,typedArray:t.arrayBuffer,usage:t.usage}),t.vertexBuffer.vertexArrayDestroyable=!1,!0;t.vertexBuffer.copyFromArrayView(t.arrayBuffer)}return!1}function r(e,t,i){if(e.needsCommit&&e.vertexSizeInBytes>0){var n=e.vertexSizeInBytes*t,a=e.vertexSizeInBytes*i;e.vertexBuffer.copyFromArrayView(new Uint8Array(e.arrayBuffer,n,a),n)}}function o(e){var t=e.va;if(Object(u.a)(t)){for(var i=t.length,n=0;n<i;++n)t[n].va.destroy();e.va=void 0}}var s=i("5F4X"),c=i("YCZg"),l=i("5A4e"),u=i("xC6Q"),h=i("6sr8"),d=i("PzDm"),f=i("fq+p"),p=i("tW+E"),m=i("rFKc"),g=i("+0EW");n._verifyAttributes=function(e){for(var t=[],i=0;i<e.length;++i){var n=e[i],a={index:Object(l.a)(n.index,i),enabled:Object(l.a)(n.enabled,!0),componentsPerAttribute:n.componentsPerAttribute,componentDatatype:Object(l.a)(n.componentDatatype,c.a.FLOAT),normalize:Object(l.a)(n.normalize,!1),vertexBuffer:n.vertexBuffer,usage:Object(l.a)(n.usage,m.a.STATIC_DRAW)};if(t.push(a),1!==a.componentsPerAttribute&&2!==a.componentsPerAttribute&&3!==a.componentsPerAttribute&&4!==a.componentsPerAttribute)throw new d.a("attribute.componentsPerAttribute must be in the range [1, 4].");var r=a.componentDatatype;if(!c.a.validate(r))throw new d.a("Attribute must have a valid componentDatatype or not specify it.");if(!m.a.validate(a.usage))throw new d.a("Attribute must have a valid usage or not specify it.")}for(var o=new Array(t.length),s=0;s<t.length;++s){var u=t[s],h=u.index;if(o[h])throw new d.a("Index "+h+" is used by more than one attribute.");o[h]=!0}return t},n._vertexSizeInBytes=function(e){for(var t=0,i=e.length,n=0;n<i;++n){var a=e[n];t+=a.componentsPerAttribute*c.a.getSizeInBytes(a.componentDatatype)}var r=i>0?c.a.getSizeInBytes(e[0].componentDatatype):0,o=r>0?t%r:0;return t+=0===o?0:r-o},n._createArrayViews=function(e,t){for(var i=[],n=0,a=e.length,r=0;r<a;++r){var o=e[r],s=o.componentDatatype;i.push({index:o.index,enabled:o.enabled,componentsPerAttribute:o.componentsPerAttribute,componentDatatype:s,normalize:o.normalize,offsetInBytes:n,vertexSizeInComponentType:t/c.a.getSizeInBytes(s),view:void 0}),n+=o.componentsPerAttribute*c.a.getSizeInBytes(s)}return i},n.prototype.resize=function(e){this._size=e;var t=this._allBuffers;this.writers=[];for(var i=0,a=t.length;i<a;++i){var r=t[i];n._resize(r,this._size),n._appendWriters(this.writers,r)}o(this)},n._resize=function(e,t){if(e.vertexSizeInBytes>0){var i=new ArrayBuffer(t*e.vertexSizeInBytes);if(Object(u.a)(e.arrayBuffer))for(var n=new Uint8Array(i),a=new Uint8Array(e.arrayBuffer),r=a.length,o=0;o<r;++o)n[o]=a[o];for(var s=e.arrayViews,l=s.length,h=0;h<l;++h){var d=s[h];d.view=c.a.createArrayBufferView(d.componentDatatype,i,d.offsetInBytes)}e.arrayBuffer=i}};var _=[function(e,t,i){return function(n,a){t[n*i]=a,e.needsCommit=!0}},function(e,t,i){return function(n,a,r){var o=n*i;t[o]=a,t[o+1]=r,e.needsCommit=!0}},function(e,t,i){return function(n,a,r,o){var s=n*i;t[s]=a,t[s+1]=r,t[s+2]=o,e.needsCommit=!0}},function(e,t,i){return function(n,a,r,o,s){var c=n*i;t[c]=a,t[c+1]=r,t[c+2]=o,t[c+3]=s,e.needsCommit=!0}}];n._appendWriters=function(e,t){for(var i=t.arrayViews,n=i.length,a=0;a<n;++a){var r=i[a];e[r.index]=_[r.componentsPerAttribute-1](t,r.view,r.vertexSizeInComponentType)}},n.prototype.commit=function(e){var t,i,r,s=!1,c=this._allBuffers;for(i=0,r=c.length;i<r;++i)t=c[i],s=a(this,t)||s;if(s||!Object(u.a)(this.va)){o(this);for(var l=this.va=[],h=f.a.SIXTY_FOUR_KILOBYTES-4,d=Object(u.a)(e)&&!this._instanced?Math.ceil(this._size/h):1,p=0;p<d;++p){var m=[];for(i=0,r=c.length;i<r;++i){t=c[i];var _=p*(t.vertexSizeInBytes*h);n._appendAttributes(m,t,_,this._instanced)}m=m.concat(this._precreated),l.push({va:new g.a({context:this._context,attributes:m,indexBuffer:e}),indicesCount:1.5*(p!==d-1?h:this._size%h)})}}},n._appendAttributes=function(e,t,i,n){for(var a=t.arrayViews,r=a.length,o=0;o<r;++o){var s=a[o];e.push({index:s.index,enabled:s.enabled,componentsPerAttribute:s.componentsPerAttribute,componentDatatype:s.componentDatatype,normalize:s.normalize,vertexBuffer:t.vertexBuffer,offsetInBytes:i+s.offsetInBytes,strideInBytes:t.vertexSizeInBytes,instanceDivisor:n?1:0})}},n.prototype.subCommit=function(e,t){if(e<0||e>=this._size)throw new d.a("offsetInVertices must be greater than or equal to zero and less than the vertex array size.");if(e+t>this._size)throw new d.a("offsetInVertices + lengthInVertices cannot exceed the vertex array size.");for(var i=this._allBuffers,n=0,a=i.length;n<a;++n)r(i[n],e,t)},n.prototype.endSubCommits=function(){for(var e=this._allBuffers,t=0,i=e.length;t<i;++t)e[t].needsCommit=!1},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){for(var e=this._allBuffers,t=0,i=e.length;t<i;++t){var n=e[t];n.vertexBuffer=n.vertexBuffer&&n.vertexBuffer.destroy()}return o(this),Object(h.a)(this)},t.a=n},OZOx:function(e,t,i){"use strict";t.a="uniform sampler2D image;\nuniform float minimumHeight;\nuniform float maximumHeight;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    float scaledHeight = clamp((materialInput.height - minimumHeight) / (maximumHeight - minimumHeight), 0.0, 1.0);\n    vec4 rampColor = texture2D(image, vec2(scaledHeight, 0.5));\n    rampColor = czm_gammaCorrect(rampColor);\n    material.diffuse = rampColor.rgb;\n    material.alpha = rampColor.a;\n    return material;\n}\n"},OdOp:function(e,t,i){"use strict";function n(e,t){var i=e.bufferViews,n=e.buffers,u=t.bufferView,h=Object(o.a)(t.type);if(!Object(l.a)(t.bufferView))return{min:Object(s.a)(new Array(h),0),max:Object(s.a)(new Array(h),0)};for(var d=Object(s.a)(new Array(h),Number.POSITIVE_INFINITY),f=Object(s.a)(new Array(h),Number.NEGATIVE_INFINITY),p=i[u],m=p.buffer,g=n[m],_=g.extras._pipeline.source,v=t.count,b=Object(a.a)(e,t),y=t.byteOffset+p.byteOffset+_.byteOffset,O=t.componentType,w=c.a.getSizeInBytes(O),x=new DataView(_.buffer),E=new Array(h),T=Object(r.a)(O),A=0;A<v;A++){T(x,y,h,w,E);for(var C=0;C<h;C++){var S=E[C];d[C]=Math.min(d[C],S),f[C]=Math.max(f[C],S)}y+=b}return{min:d,max:f}}var a=i("dWoC"),r=i("QQK7"),o=i("8uSS"),s=i("Sfsp"),c=i("YCZg"),l=i("xC6Q");t.a=n},OhCH:function(e,t,i){"use strict";t.a="/**\n * DOC_TBA\n *\n * @name czm_ray\n * @glslStruct\n */\nstruct czm_ray\n{\n    vec3 origin;\n    vec3 direction;\n};\n"},OmGJ:function(e,t,i){"use strict";t.a="uniform sampler2D image;\nuniform float strength;\nuniform vec2 repeat;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    \n    vec4 textureValue = texture2D(image, fract(repeat * materialInput.st));\n    vec3 normalTangentSpace = textureValue.channels;\n    normalTangentSpace.xy = normalTangentSpace.xy * 2.0 - 1.0;\n    normalTangentSpace.z = clamp(1.0 - strength, 0.1, 1.0);\n    normalTangentSpace = normalize(normalTangentSpace);\n    vec3 normalEC = materialInput.tangentToEyeMatrix * normalTangentSpace;\n    \n    material.normal = normalEC;\n    \n    return material;\n}\n"},OtDm:function(e,t,i){"use strict";var n=i("FuYn"),a=i("mRvb"),r={DISABLED:Object.freeze({enabled:!1}),ALPHA_BLEND:Object.freeze({enabled:!0,equationRgb:n.a.ADD,equationAlpha:n.a.ADD,functionSourceRgb:a.a.SOURCE_ALPHA,functionSourceAlpha:a.a.ONE,functionDestinationRgb:a.a.ONE_MINUS_SOURCE_ALPHA,functionDestinationAlpha:a.a.ONE_MINUS_SOURCE_ALPHA}),PRE_MULTIPLIED_ALPHA_BLEND:Object.freeze({enabled:!0,equationRgb:n.a.ADD,equationAlpha:n.a.ADD,functionSourceRgb:a.a.ONE,functionSourceAlpha:a.a.ONE,functionDestinationRgb:a.a.ONE_MINUS_SOURCE_ALPHA,functionDestinationAlpha:a.a.ONE_MINUS_SOURCE_ALPHA}),ADDITIVE_BLEND:Object.freeze({enabled:!0,equationRgb:n.a.ADD,equationAlpha:n.a.ADD,functionSourceRgb:a.a.SOURCE_ALPHA,functionSourceAlpha:a.a.ONE,functionDestinationRgb:a.a.ONE,functionDestinationAlpha:a.a.ONE})};t.a=Object.freeze(r)},Otme:function(e,t,i){"use strict";function n(){this._sceneFramebuffer=new O.a;var e=new Array(6);e[0]=new _.a({fragmentShader:g.a,textureScale:.125,forcePowerOfTwo:!0,sampleMode:b.a.LINEAR});var t=e[1]=new _.a({fragmentShader:p.a,uniforms:{avgLuminance:.5,threshold:.25,offset:.1},textureScale:.125,forcePowerOfTwo:!0}),i=this;this._delta=1,this._sigma=2,this._blurStep=new o.a,e[2]=new _.a({fragmentShader:m.a,uniforms:{step:function(){return i._blurStep.x=i._blurStep.y=1/t.outputTexture.width,i._blurStep},delta:function(){return i._delta},sigma:function(){return i._sigma},direction:0},textureScale:.125,forcePowerOfTwo:!0}),e[3]=new _.a({fragmentShader:m.a,uniforms:{step:function(){return i._blurStep.x=i._blurStep.y=1/t.outputTexture.width,i._blurStep},delta:function(){return i._delta},sigma:function(){return i._sigma},direction:1},textureScale:.125,forcePowerOfTwo:!0}),e[4]=new _.a({fragmentShader:g.a,sampleMode:b.a.LINEAR}),this._uCenter=new o.a,this._uRadius=void 0,e[5]=new _.a({fragmentShader:f.a,uniforms:{center:function(){return i._uCenter},radius:function(){return i._uRadius},colorTexture2:function(){return i._sceneFramebuffer.getFramebuffer().getColorTexture(0)}}}),this._stages=new v.a({stages:e});for(var n=new y.a(this),a=e.length,r=0;r<a;++r)e[r]._textureCache=n;this._textureCache=n,this.length=e.length}function a(e,t,i){var n=t.uniformState,a=n.sunPositionWC,s=n.view,c=n.viewProjection,l=n.projection,f=h.a.computeViewportTransformation(i,0,1,T),p=h.a.multiplyByPoint(s,a,w),m=d.a.pointToGLWindowCoordinates(c,f,a,x);p.x+=u.a.SOLAR_RADIUS;var g=d.a.pointToGLWindowCoordinates(l,f,p,p),_=30*o.a.magnitude(o.a.subtract(g,m,g))*2,v=E;v.x=_,v.y=_,e._uCenter=o.a.clone(m,e._uCenter),e._uRadius=.15*Math.max(v.x,v.y);var b=t.drawingBufferWidth,y=t.drawingBufferHeight,O=e._stages,A=O.get(0),C=A.outputTexture.width,S=A.outputTexture.height,j=new r.a;j.width=C,j.height=S,f=h.a.computeViewportTransformation(j,0,1,T),m=d.a.pointToGLWindowCoordinates(c,f,a,x),v.x*=C/b,v.y*=S/y;var P=A.scissorRectangle;P.x=Math.max(m.x-.5*v.x,0),P.y=Math.max(m.y-.5*v.y,0),P.width=Math.min(v.x,b),P.height=Math.min(v.y,y);for(var D=1;D<4;++D)r.a.clone(P,O.get(D).scissorRectangle)}var r=i("or8k"),o=i("Ss9j"),s=i("PDkd"),c=i("xC6Q"),l=i("6sr8"),u=i("fq+p"),h=i("Xjii"),d=i("g/FO"),f=i("cRnE"),p=i("S21Q"),m=i("lnSD"),g=i("E0+e"),_=i("CXxX"),v=i("08bt"),b=i("zMyv"),y=i("LIga"),O=i("Uaim");n.prototype.get=function(e){return this._stages.get(e)},n.prototype.getStageByName=function(e){for(var t=this._stages.length,i=0;i<t;++i){var n=this._stages.get(i);if(n.name===e)return n}};var w=new s.a,x=new o.a,E=new o.a,T=new h.a;n.prototype.clear=function(e,t,i){this._sceneFramebuffer.clear(e,t,i),this._textureCache.clear(e)},n.prototype.update=function(e){var t=e.context,i=e.viewport,n=this._sceneFramebuffer;n.update(t,i);var r=n.getFramebuffer();return this._textureCache.update(t),this._stages.update(t,!1),a(this,t,i),r},n.prototype.execute=function(e){var t=this._sceneFramebuffer.getFramebuffer().getColorTexture(0),i=this._stages,n=i.length;i.get(0).execute(e,t);for(var a=1;a<n;++a)i.get(a).execute(e,i.get(a-1).outputTexture)},n.prototype.copy=function(e,t){if(!Object(c.a)(this._copyColorCommand)){var i=this;this._copyColorCommand=e.createViewportQuadCommand(g.a,{uniformMap:{colorTexture:function(){return i._stages.get(i._stages.length-1).outputTexture}},owner:this})}this._copyColorCommand.framebuffer=t,this._copyColorCommand.execute(e)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._textureCache.destroy(),this._stages.destroy(),Object(l.a)(this)},t.a=n},Ov8w:function(e,t,i){"use strict";function n(){var e=y.a.createFXAAStage(),t=y.a.createAmbientOcclusionStage(),i=y.a.createBloomStage();this._autoExposureEnabled=!1,this._autoExposure=y.a.createAutoExposureStage(),this._tonemapping=void 0,this._tonemapper=void 0,this.tonemapper=w.a.ACES;var n=this._tonemapping;e.enabled=!1,t.enabled=!1,i.enabled=!1,n.enabled=!1;var a=new O.a(this),r={},o=x;for(o.push(e,t,i,n);o.length>0;){var s=o.pop();r[s.name]=s,s._textureCache=a;var c=s.length;if(Object(l.a)(c))for(var u=0;u<c;++u)o.push(s.get(u))}this._stages=[],this._activeStages=[],this._previousActiveStages=[],this._randomTexture=void 0;var h=this;t.uniforms.randomTexture=function(){return h._randomTexture},this._ao=t,this._bloom=i,this._fxaa=e,this._lastLength=void 0,this._aoEnabled=void 0,this._bloomEnabled=void 0,this._tonemappingEnabled=void 0,this._fxaaEnabled=void 0,this._stagesRemoved=!1,this._textureCacheDirty=!1,this._stageNames=r,this._textureCache=a}function a(e){if(e._stagesRemoved){e._stagesRemoved=!1;for(var t=[],i=e._stages,n=i.length,a=0,r=0;a<n;++a){var o=i[a];o&&(o._index=r++,t.push(o))}e._stages=t}}function r(e){for(;Object(l.a)(e.length);)e=e.get(e.length-1);return e.outputTexture}function o(e,t,i,n,a){if(Object(l.a)(e.execute))return void e.execute(t,i,n,a);var s,c=e.length;if(e.inputPreviousStageTexture)for(o(e.get(0),t,i,n,a),s=1;s<c;++s)o(e.get(s),t,r(e.get(s-1)),n,a);else for(s=0;s<c;++s)o(e.get(s),t,i,n,a)}var s=i("Xku3"),c=i("5F4X"),l=i("xC6Q"),u=i("6sr8"),h=i("PzDm"),d=i("FhYh"),f=i("HvCH"),p=i("l0BX"),m=i("25X5"),g=i("YKq0"),_=i("z2iY"),v=i("L4GL"),b=i("E0+e"),y=i("efDu"),O=i("LIga"),w=i("TfeD"),x=[];Object.defineProperties(n.prototype,{ready:{get:function(){for(var e=!1,t=this._stages,i=t.length,n=i-1;n>=0;--n){var a=t[n];e=e||a.ready&&a.enabled}var r=this._fxaa,o=this._ao,s=this._bloom,c=this._tonemapping;return e=e||r.ready&&r.enabled,e=e||o.ready&&o.enabled,e=e||s.ready&&s.enabled,e=e||c.ready&&c.enabled}},fxaa:{get:function(){return this._fxaa}},ambientOcclusion:{get:function(){return this._ao}},bloom:{get:function(){return this._bloom}},length:{get:function(){return a(this),this._stages.length}},outputTexture:{get:function(){var e=this._fxaa;if(e.enabled&&e.ready)return this.getOutputTexture(e.name);for(var t=this._stages,i=t.length,n=i-1;n>=0;--n){var a=t[n];if(Object(l.a)(a)&&a.ready&&a.enabled)return this.getOutputTexture(a.name)}var r=this._tonemapping;if(r.enabled&&r.ready)return this.getOutputTexture(r.name);var o=this._bloom;if(o.enabled&&o.ready)return this.getOutputTexture(o.name);var s=this._ao;return s.enabled&&s.ready?this.getOutputTexture(s.name):void 0}},hasSelected:{get:function(){for(var e=Object(s.a)(this._stages);e.length>0;){var t=e.pop();if(Object(l.a)(t)){if(Object(l.a)(t.selected))return!0;var i=t.length;if(Object(l.a)(i))for(var n=0;n<i;++n)e.push(t.get(n))}}return!1}},tonemapper:{get:function(){return this._tonemapper},set:function(e){if(this._tonemapper!==e){if(!w.a.validate(e))throw new h.a("tonemapper was set to an invalid value.");Object(l.a)(this._tonemapping)&&(delete this._stageNames[this._tonemapping.name],this._tonemapping.destroy());var t,i=this._autoExposureEnabled;switch(e){case w.a.REINHARD:t=y.a.createReinhardTonemappingStage(i);break;case w.a.MODIFIED_REINHARD:t=y.a.createModifiedReinhardTonemappingStage(i);break;case w.a.FILMIC:t=y.a.createFilmicTonemappingStage(i);break;default:t=y.a.createAcesTonemappingStage(i)}if(i){var n=this._autoExposure;t.uniforms.autoExposure=function(){return n.outputTexture}}this._tonemapper=e,this._tonemapping=t,Object(l.a)(this._stageNames)&&(this._stageNames[t.name]=t,t._textureCache=this._textureCache),this._textureCacheDirty=!0}}}}),n.prototype.add=function(e){c.a.typeOf.object("stage",e);var t=this._stageNames,i=x;for(i.push(e);i.length>0;){var n=i.pop();if(Object(l.a)(t[n.name]))throw new h.a(n.name+" has already been added to the collection or does not have a unique name.");t[n.name]=n,n._textureCache=this._textureCache;var a=n.length;if(Object(l.a)(a))for(var r=0;r<a;++r)i.push(n.get(r))}var o=this._stages;return e._index=o.length,o.push(e),this._textureCacheDirty=!0,e},n.prototype.remove=function(e){if(!this.contains(e))return!1;var t=this._stageNames,i=x;for(i.push(e);i.length>0;){var n=i.pop();delete t[n.name];var a=n.length;if(Object(l.a)(a))for(var r=0;r<a;++r)i.push(n.get(r))}return this._stages[e._index]=void 0,this._stagesRemoved=!0,this._textureCacheDirty=!0,e._index=void 0,e._textureCache=void 0,e.destroy(),!0},n.prototype.contains=function(e){return Object(l.a)(e)&&Object(l.a)(e._index)&&e._textureCache===this._textureCache},n.prototype.get=function(e){a(this);var t=this._stages,i=t.length;return c.a.typeOf.number.greaterThanOrEquals("stages length",i,0),c.a.typeOf.number.greaterThanOrEquals("index",e,0),c.a.typeOf.number.lessThan("index",e,i),t[e]},n.prototype.removeAll=function(){for(var e=this._stages,t=e.length,i=0;i<t;++i)this.remove(e[i]);e.length=0},n.prototype.getStageByName=function(e){return this._stageNames[e]},n.prototype.update=function(e,t,i){a(this);var n=this._activeStages,r=this._activeStages=this._previousActiveStages;this._previousActiveStages=n;var o,s,c=this._stages,u=r.length=c.length,h=0;for(o=0;o<u;++o)s=c[o],s.ready&&s.enabled&&s._isSupported(e)&&(r[h++]=s);r.length=h;var b=h!==n.length;if(!b)for(o=0;o<h;++o)if(r[o]!==n[o]){b=!0;break}var y=this._ao,O=this._bloom,w=this._autoExposure,x=this._tonemapping,E=this._fxaa;x.enabled=i;var T=y.enabled&&y._isSupported(e),A=O.enabled&&O._isSupported(e),C=x.enabled&&x._isSupported(e),S=E.enabled&&E._isSupported(e);if((b||this._textureCacheDirty||h!==this._lastLength||T!==this._aoEnabled||A!==this._bloomEnabled||C!==this._tonemappingEnabled||S!==this._fxaaEnabled)&&(this._textureCache.updateDependencies(),this._lastLength=h,this._aoEnabled=T,this._bloomEnabled=A,this._tonemappingEnabled=C,this._fxaaEnabled=S,this._textureCacheDirty=!1),Object(l.a)(this._randomTexture)&&!T&&(this._randomTexture.destroy(),this._randomTexture=void 0),!Object(l.a)(this._randomTexture)&&T){u=196608;var j=new Uint8Array(u);for(o=0;o<u;o+=3)j[o]=Math.floor(255*Math.random());this._randomTexture=new m.a({context:e,pixelFormat:d.a.RGB,pixelDatatype:f.a.UNSIGNED_BYTE,source:{arrayBufferView:j,width:256,height:256},sampler:new p.a({wrapS:v.a.REPEAT,wrapT:v.a.REPEAT,minificationFilter:_.a.NEAREST,magnificationFilter:g.a.NEAREST})})}for(this._textureCache.update(e),E.update(e,t),y.update(e,t),O.update(e,t),x.update(e,t),this._autoExposureEnabled&&w.update(e,t),u=c.length,o=0;o<u;++o)c[o].update(e,t)},n.prototype.clear=function(e){this._textureCache.clear(e),this._autoExposureEnabled&&this._autoExposure.clear(e)},n.prototype.getOutputTexture=function(e){var t=this.getStageByName(e);if(Object(l.a)(t))return r(t)},n.prototype.execute=function(e,t,i,n){var a=this._activeStages,s=a.length,c=this._fxaa,l=this._ao,u=this._bloom,h=this._autoExposure,d=this._tonemapping,f=l.enabled&&l._isSupported(e),p=u.enabled&&u._isSupported(e),m=this._autoExposureEnabled,g=d.enabled&&d._isSupported(e),_=c.enabled&&c._isSupported(e);if(_||f||p||g||0!==s){var v=t;f&&l.ready&&(o(l,e,v,i,n),v=r(l)),p&&u.ready&&(o(u,e,v,i,n),v=r(u)),m&&h.ready&&o(h,e,v,i,n),g&&d.ready&&(o(d,e,v,i,n),v=r(d));var b=v;if(s>0){o(a[0],e,v,i,n);for(var y=1;y<s;++y)o(a[y],e,r(a[y-1]),i,n);b=r(a[s-1])}_&&c.ready&&o(c,e,b,i,n)}},n.prototype.copy=function(e,t){if(!Object(l.a)(this._copyColorCommand)){var i=this;this._copyColorCommand=e.createViewportQuadCommand(b.a,{uniformMap:{colorTexture:function(){return i.outputTexture}},owner:this})}this._copyColorCommand.framebuffer=t,this._copyColorCommand.execute(e)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._fxaa.destroy(),this._ao.destroy(),this._bloom.destroy(),this._autoExposure.destroy(),this._tonemapping.destroy(),this.removeAll(),this._textureCache=this._textureCache&&this._textureCache.destroy(),Object(u.a)(this)},t.a=n},Oyq1:function(e,t,i){"use strict";t.a="/**\n * A built-in GLSL floating-point constant for converting degrees to radians.\n *\n * @alias czm_radiansPerDegree\n * @glslConstant\n *\n * @see CesiumMath.RADIANS_PER_DEGREE\n *\n * @example\n * // GLSL declaration\n * const float czm_radiansPerDegree = ...;\n *\n * // Example\n * float rad = czm_radiansPerDegree * deg;\n */\nconst float czm_radiansPerDegree = 0.017453292519943295;\n"},"P+tD":function(e,t,i){"use strict";var n={DONE:0,PENDING:1,FAILED:2};t.a=Object.freeze(n)},"P/Sx":function(e,t,i){"use strict";t.a="varying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvarying vec2 v_st;\n\nvoid main()\n{\n    vec3 positionToEyeEC = -v_positionEC;\n\n    vec3 normalEC = normalize(v_normalEC);\n#ifdef FACE_FORWARD\n    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n#endif\n\n    czm_materialInput materialInput;\n    materialInput.normalEC = normalEC;\n    materialInput.positionToEyeEC = positionToEyeEC;\n    materialInput.st = v_st;\n    czm_material material = czm_getMaterial(materialInput);\n\n#ifdef FLAT\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#else\n    gl_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n#endif\n}\n"},P5H1:function(e,t,i){"use strict";var n={UNBOUNDED:0,CLAMPED:1,LOOP_STOP:2};t.a=Object.freeze(n)},P7RB:function(e,t,i){"use strict";t.a="/**\n * @private\n */\nfloat czm_alphaWeight(float a)\n{\n    float z = (gl_FragCoord.z - czm_viewportTransformation[3][2]) / czm_viewportTransformation[2][2];\n\n    // See Weighted Blended Order-Independent Transparency for examples of different weighting functions:\n    // http://jcgt.org/published/0002/02/09/\n    return pow(a + 0.01, 4.0) + max(1e-2, min(3.0 * 1e3, 0.003 / (1e-5 + pow(abs(z) / 200.0, 4.0))));\n}\n"},P8fb:function(e,t,i){"use strict";var n=Function.prototype.call,a=Object.prototype.hasOwnProperty,r=i("PiFy");e.exports=r.call(n,a)},PCU7:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._pixelSize=void 0,this._pixelSizeSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._scaleByDistance=void 0,this._scaleByDistanceSubscription=void 0,this._translucencyByDistance=void 0,this._translucencyByDistanceSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._disableDepthTestDistance=void 0,this._disableDepthTestDistanceSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(c.a)("show"),pixelSize:Object(c.a)("pixelSize"),heightReference:Object(c.a)("heightReference"),color:Object(c.a)("color"),outlineColor:Object(c.a)("outlineColor"),outlineWidth:Object(c.a)("outlineWidth"),scaleByDistance:Object(c.a)("scaleByDistance"),translucencyByDistance:Object(c.a)("translucencyByDistance"),distanceDisplayCondition:Object(c.a)("distanceDisplayCondition"),disableDepthTestDistance:Object(c.a)("disableDepthTestDistance")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.pixelSize=this.pixelSize,e.heightReference=this.heightReference,e.color=this.color,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.scaleByDistance=this.scaleByDistance,e.translucencyByDistance=this._translucencyByDistance,e.distanceDisplayCondition=this.distanceDisplayCondition,e.disableDepthTestDistance=this.disableDepthTestDistance,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.pixelSize=Object(a.a)(this.pixelSize,e.pixelSize),this.heightReference=Object(a.a)(this.heightReference,e.heightReference),this.color=Object(a.a)(this.color,e.color),this.outlineColor=Object(a.a)(this.outlineColor,e.outlineColor),this.outlineWidth=Object(a.a)(this.outlineWidth,e.outlineWidth),this.scaleByDistance=Object(a.a)(this.scaleByDistance,e.scaleByDistance),this.translucencyByDistance=Object(a.a)(this._translucencyByDistance,e.translucencyByDistance),this.distanceDisplayCondition=Object(a.a)(this.distanceDisplayCondition,e.distanceDisplayCondition),this.disableDepthTestDistance=Object(a.a)(this.disableDepthTestDistance,e.disableDepthTestDistance)},t.a=n},PDf1:function(e,t,i){"use strict";function n(){this.enabled=!0,this.density=2e-4,this.screenSpaceErrorFactor=2,this.minimumBrightness=.03}function a(e){var t=l,i=t.length;if(e<t[0])return m=0;if(e>t[i-1])return m=i-2;if(e>=t[m]){if(m+1<i&&e<t[m+1])return m;if(m+2<i&&e<t[m+2])return++m}else if(m-1>=0&&e>=t[m-1])return--m;var n;for(n=0;n<i-2&&!(e>=t[n]&&e<t[n+1]);++n);return m=n}for(var r=i("Jj+J"),o=i("xC6Q"),s=i("fq+p"),c=i("sotJ"),l=[359.393,800.749,1275.6501,2151.1192,3141.7763,4777.5198,6281.2493,12364.307,15900.765,49889.0549,78026.8259,99260.7344,120036.3873,151011.0158,156091.1953,203849.3112,274866.9803,319916.3149,493552.0528,628733.5874],u=[2e-5,2e-4,1e-4,7e-5,5e-5,4e-5,3e-5,19e-6,1e-5,85e-7,62e-7,58e-7,53e-7,52e-7,51e-7,42e-7,4e-6,34e-7,26e-7,22e-7],h=0;h<u.length;++h)u[h]*=1e6;for(var d=u[1],f=u[u.length-1],p=0;p<u.length;++p)u[p]=(u[p]-f)/(d-f);var m=0,g=new r.a;n.prototype.update=function(e){if(e.fog.enabled=this.enabled){var t=e.camera,i=t.positionCartographic;if(!Object(o.a)(i)||i.height>8e5||e.mode!==c.a.SCENE3D)return void(e.fog.enabled=!1);var n=i.height,h=a(n),p=s.a.clamp((n-l[h])/(l[h+1]-l[h]),0,1),m=s.a.lerp(u[h],u[h+1],p),_=1e6*this.density;m=m*(_-_/d*f)*1e-6;var v=r.a.normalize(t.positionWC,g);m*=1-Math.abs(r.a.dot(t.directionWC,v)),e.fog.density=m,e.fog.sse=this.screenSpaceErrorFactor,e.fog.minimumBrightness=this.minimumBrightness}},t.a=n},PDkd:function(e,t,i){"use strict";function n(e,t,i,n){this.x=Object(r.a)(e,0),this.y=Object(r.a)(t,0),this.z=Object(r.a)(i,0),this.w=Object(r.a)(n,0)}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("fq+p");n.fromElements=function(e,t,i,a,r){return Object(o.a)(r)?(r.x=e,r.y=t,r.z=i,r.w=a,r):new n(e,t,i,a)},n.fromColor=function(e,t){return a.a.typeOf.object("color",e),Object(o.a)(t)?(t.x=e.red,t.y=e.green,t.z=e.blue,t.w=e.alpha,t):new n(e.red,e.green,e.blue,e.alpha)},n.clone=function(e,t){if(Object(o.a)(e))return Object(o.a)(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new n(e.x,e.y,e.z,e.w)},n.packedLength=4,n.pack=function(e,t,i){return a.a.typeOf.object("value",e),a.a.defined("array",t),i=Object(r.a)(i,0),t[i++]=e.x,t[i++]=e.y,t[i++]=e.z,t[i]=e.w,t},n.unpack=function(e,t,i){return a.a.defined("array",e),t=Object(r.a)(t,0),Object(o.a)(i)||(i=new n),i.x=e[t++],i.y=e[t++],i.z=e[t++],i.w=e[t],i},n.packArray=function(e,t){a.a.defined("array",e);var i=e.length,r=4*i;if(Object(o.a)(t)){if(!Array.isArray(t)&&t.length!==r)throw new s.a("If result is a typed array, it must have exactly array.length * 4 elements");t.length!==r&&(t.length=r)}else t=new Array(r);for(var c=0;c<i;++c)n.pack(e[c],t,4*c);return t},n.unpackArray=function(e,t){if(a.a.defined("array",e),a.a.typeOf.number.greaterThanOrEquals("array.length",e.length,4),e.length%4!=0)throw new s.a("array length must be a multiple of 4.");var i=e.length;Object(o.a)(t)?t.length=i/4:t=new Array(i/4);for(var r=0;r<i;r+=4){var c=r/4;t[c]=n.unpack(e,r,t[c])}return t},n.fromArray=n.unpack,n.maximumComponent=function(e){return a.a.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z,e.w)},n.minimumComponent=function(e){return a.a.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z,e.w)},n.minimumByComponent=function(e,t,i){return a.a.typeOf.object("first",e),a.a.typeOf.object("second",t),a.a.typeOf.object("result",i),i.x=Math.min(e.x,t.x),i.y=Math.min(e.y,t.y),i.z=Math.min(e.z,t.z),i.w=Math.min(e.w,t.w),i},n.maximumByComponent=function(e,t,i){return a.a.typeOf.object("first",e),a.a.typeOf.object("second",t),a.a.typeOf.object("result",i),i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i.z=Math.max(e.z,t.z),i.w=Math.max(e.w,t.w),i},n.magnitudeSquared=function(e){return a.a.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},n.magnitude=function(e){return Math.sqrt(n.magnitudeSquared(e))};var l=new n;n.distance=function(e,t){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),n.subtract(e,t,l),n.magnitude(l)},n.distanceSquared=function(e,t){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),n.subtract(e,t,l),n.magnitudeSquared(l)},n.normalize=function(e,t){a.a.typeOf.object("cartesian",e),a.a.typeOf.object("result",t);var i=n.magnitude(e);if(t.x=e.x/i,t.y=e.y/i,t.z=e.z/i,t.w=e.w/i,isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||isNaN(t.w))throw new s.a("normalized result is not a number");return t},n.dot=function(e,t){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},n.multiplyComponents=function(e,t,i){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i),i.x=e.x*t.x,i.y=e.y*t.y,i.z=e.z*t.z,i.w=e.w*t.w,i},n.divideComponents=function(e,t,i){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i),i.x=e.x/t.x,i.y=e.y/t.y,i.z=e.z/t.z,i.w=e.w/t.w,i},n.add=function(e,t,i){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i),i.x=e.x+t.x,i.y=e.y+t.y,i.z=e.z+t.z,i.w=e.w+t.w,i},n.subtract=function(e,t,i){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i),i.x=e.x-t.x,i.y=e.y-t.y,i.z=e.z-t.z,i.w=e.w-t.w,i},n.multiplyByScalar=function(e,t,i){return a.a.typeOf.object("cartesian",e),a.a.typeOf.number("scalar",t),a.a.typeOf.object("result",i),i.x=e.x*t,i.y=e.y*t,i.z=e.z*t,i.w=e.w*t,i},n.divideByScalar=function(e,t,i){return a.a.typeOf.object("cartesian",e),a.a.typeOf.number("scalar",t),a.a.typeOf.object("result",i),i.x=e.x/t,i.y=e.y/t,i.z=e.z/t,i.w=e.w/t,i},n.negate=function(e,t){return a.a.typeOf.object("cartesian",e),a.a.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},n.abs=function(e,t){return a.a.typeOf.object("cartesian",e),a.a.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t};var u=new n;n.lerp=function(e,t,i,r){return a.a.typeOf.object("start",e),a.a.typeOf.object("end",t),a.a.typeOf.number("t",i),a.a.typeOf.object("result",r),n.multiplyByScalar(t,i,u),r=n.multiplyByScalar(e,1-i,r),n.add(u,r,r)};var h=new n;n.mostOrthogonalAxis=function(e,t){a.a.typeOf.object("cartesian",e),a.a.typeOf.object("result",t);var i=n.normalize(e,h);return n.abs(i,i),t=i.x<=i.y?i.x<=i.z?i.x<=i.w?n.clone(n.UNIT_X,t):n.clone(n.UNIT_W,t):i.z<=i.w?n.clone(n.UNIT_Z,t):n.clone(n.UNIT_W,t):i.y<=i.z?i.y<=i.w?n.clone(n.UNIT_Y,t):n.clone(n.UNIT_W,t):i.z<=i.w?n.clone(n.UNIT_Z,t):n.clone(n.UNIT_W,t)},n.equals=function(e,t){return e===t||Object(o.a)(e)&&Object(o.a)(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},n.equalsArray=function(e,t,i){return e.x===t[i]&&e.y===t[i+1]&&e.z===t[i+2]&&e.w===t[i+3]},n.equalsEpsilon=function(e,t,i,n){return e===t||Object(o.a)(e)&&Object(o.a)(t)&&c.a.equalsEpsilon(e.x,t.x,i,n)&&c.a.equalsEpsilon(e.y,t.y,i,n)&&c.a.equalsEpsilon(e.z,t.z,i,n)&&c.a.equalsEpsilon(e.w,t.w,i,n)},n.ZERO=Object.freeze(new n(0,0,0,0)),n.UNIT_X=Object.freeze(new n(1,0,0,0)),n.UNIT_Y=Object.freeze(new n(0,1,0,0)),n.UNIT_Z=Object.freeze(new n(0,0,1,0)),n.UNIT_W=Object.freeze(new n(0,0,0,1)),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t,i){return n.equalsEpsilon(this,e,t,i)},n.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var d=new Float32Array(1);n.packFloat=function(e,t){if(a.a.typeOf.number("value",e),Object(o.a)(t)||(t=new n),d[0]=e,0===(e=d[0]))return n.clone(n.ZERO,t);var i,r=e<0?1:0;isFinite(e)?(e=Math.abs(e),i=Math.floor(c.a.logBase(e,10))+1,e/=Math.pow(10,i)):(e=.1,i=38);var s=256*e;return t.x=Math.floor(s),s=256*(s-t.x),t.y=Math.floor(s),s=256*(s-t.y),t.z=Math.floor(s),t.w=2*(i+38)+r,t},n.unpackFloat=function(e){a.a.typeOf.object("packedFloat",e);var t=e.w/2,i=Math.floor(t),n=2*(t-i);if(i-=38,n=2*n-1,n=-n,i>=38)return n<0?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;var r=n*e.x*(1/256);return r+=n*e.y*(1/65536),(r+=n*e.z*(1/16777216))*Math.pow(10,i)},t.a=n},PKIF:function(e,t,i){"use strict";var n=i("kruX"),a=i("Mdde"),r=i("qJFV");a.a.attachToKo(n.a),r.a.register(n.a),t.a=n.a},PLR4:function(e,t,i){"use strict";function n(e,t){this.id=t,this.name=e,this.playlistIndex=0,this.playlist=[],this.tourStart=new c.a,this.tourEnd=new c.a,this.entryStart=new c.a,this.entryEnd=new c.a,this._activeEntries=[]}function a(e){for(var t=e.pop();void 0!==t;t=e.pop())t.stop()}function r(e,t,i){var n=this.playlist[this.playlistIndex];if(n){var a=o.bind(this,e,t,i);if(this._activeEntries.push(n),this.entryStart.raiseEvent(n),n.blocking)n.play(a,e.scene.camera,t);else{var r=this;n.play(function(){r.entryEnd.raiseEvent(n);var e=r._activeEntries.indexOf(n);e>=0&&r._activeEntries.splice(e,1)}),a(e,t,i)}}else Object(s.a)(i)&&i(!1)}function o(e,t,i,n){var a=this.playlist[this.playlistIndex];if(this.entryEnd.raiseEvent(a,n),n)i(n);else{var o=this._activeEntries.indexOf(a);o>=0&&this._activeEntries.splice(o,1),this.playlistIndex++,r.call(this,e,t,i)}}var s=i("xC6Q"),c=i("W6xh");n.prototype.addPlaylistEntry=function(e){this.playlist.push(e)},n.prototype.play=function(e,t){this.tourStart.raiseEvent();var i=this;r.call(this,e,t,function(e){i.playlistIndex=0,e||a(i._activeEntries),i.tourEnd.raiseEvent(e)})},n.prototype.stop=function(){a(this._activeEntries)},t.a=n},PO0j:function(e,t,i){"use strict";t.a="/**\n * Compares <code>left</code> and <code>right</code> componentwise. Returns <code>true</code>\n * if they are within <code>epsilon</code> and <code>false</code> otherwise. The inputs\n * <code>left</code> and <code>right</code> can be <code>float</code>s, <code>vec2</code>s,\n * <code>vec3</code>s, or <code>vec4</code>s.\n *\n * @name czm_equalsEpsilon\n * @glslFunction\n *\n * @param {} left The first vector.\n * @param {} right The second vector.\n * @param {float} epsilon The epsilon to use for equality testing.\n * @returns {bool} <code>true</code> if the components are within <code>epsilon</code> and <code>false</code> otherwise.\n *\n * @example\n * // GLSL declarations\n * bool czm_equalsEpsilon(float left, float right, float epsilon);\n * bool czm_equalsEpsilon(vec2 left, vec2 right, float epsilon);\n * bool czm_equalsEpsilon(vec3 left, vec3 right, float epsilon);\n * bool czm_equalsEpsilon(vec4 left, vec4 right, float epsilon);\n */\nbool czm_equalsEpsilon(vec4 left, vec4 right, float epsilon) {\n    return all(lessThanEqual(abs(left - right), vec4(epsilon)));\n}\n\nbool czm_equalsEpsilon(vec3 left, vec3 right, float epsilon) {\n    return all(lessThanEqual(abs(left - right), vec3(epsilon)));\n}\n\nbool czm_equalsEpsilon(vec2 left, vec2 right, float epsilon) {\n    return all(lessThanEqual(abs(left - right), vec2(epsilon)));\n}\n\nbool czm_equalsEpsilon(float left, float right, float epsilon) {\n    return (abs(left - right) <= epsilon);\n}\n"},PPvX:function(e,t,i){"use strict";function n(e,t,i){if("function"!=typeof t)throw new a.a("oldFunction is required to be a function.");if("function"!=typeof i)throw new a.a("oldFunction is required to be a function.");return function(){i.apply(e,arguments),t.apply(e,arguments)}}var a=i("PzDm");t.a=n},PRoZ:function(e,t,i){"use strict";function n(e,t){f.a.typeOf.object("ellipsoid",e),this._ellipsoid=e,this._cameraPosition=new d.a,this._cameraPositionInScaledSpace=new d.a,this._distanceToLimbInScaledSpaceSquared=0,Object(m.a)(t)&&(this.cameraPosition=t)}function a(e,t,i){if(Object(m.a)(t)&&t<0&&e.minimumRadius>-t){var n=d.a.fromElements(e.radii.x+t,e.radii.y+t,e.radii.z+t,w);e=g.a.fromCartesian3(n,i)}return e}function r(e,t,i,n){f.a.typeOf.object("directionToPoint",t),f.a.defined("positions",i),Object(m.a)(n)||(n=new d.a);for(var a=u(e,t),r=0,o=0,s=i.length;o<s;++o){var h=i[o],p=c(e,h,a);if(p<0)return;r=Math.max(r,p)}return l(a,r,n)}function o(e,t,i,n,a,r){f.a.typeOf.object("directionToPoint",t),f.a.defined("vertices",i),f.a.typeOf.number("stride",n),Object(m.a)(r)||(r=new d.a),n=Object(p.a)(n,3),a=Object(p.a)(a,d.a.ZERO);for(var o=u(e,t),s=0,h=0,g=i.length;h<g;h+=n){x.x=i[h]+a.x,x.y=i[h+1]+a.y,x.z=i[h+2]+a.z;var _=c(e,x,o);if(_<0)return;s=Math.max(s,_)}return l(o,s,r)}function s(e,t,i){var n=t,a=i,r=d.a.subtract(e,n,v),o=-d.a.dot(r,n);return!(a<0?o>0:o>a&&o*o/d.a.magnitudeSquared(r)>a)}function c(e,t,i){var n=e.transformPositionToScaledSpace(t,E),a=d.a.magnitudeSquared(n),r=Math.sqrt(a),o=d.a.divideByScalar(n,r,T);a=Math.max(1,a),r=Math.max(1,r);var s=d.a.dot(o,i),c=d.a.magnitude(d.a.cross(o,i,o)),l=1/r;return 1/(s*l-c*(Math.sqrt(a-1)*l))}function l(e,t,i){if(!(t<=0||t===1/0||t!==t))return d.a.multiplyByScalar(e,t,i)}function u(e,t){return d.a.equals(t,d.a.ZERO)?t:(e.transformPositionToScaledSpace(t,A),d.a.normalize(A,A))}var h=i("lBr9"),d=i("Jj+J"),f=i("5F4X"),p=i("5A4e"),m=i("xC6Q"),g=i("y6fO"),_=i("Wq1U");Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},cameraPosition:{get:function(){return this._cameraPosition},set:function(e){var t=this._ellipsoid,i=t.transformPositionToScaledSpace(e,this._cameraPositionInScaledSpace),n=d.a.magnitudeSquared(i)-1;d.a.clone(e,this._cameraPosition),this._cameraPositionInScaledSpace=i,this._distanceToLimbInScaledSpaceSquared=n}}});var v=new d.a;n.prototype.isPointVisible=function(e){return s(this._ellipsoid.transformPositionToScaledSpace(e,v),this._cameraPositionInScaledSpace,this._distanceToLimbInScaledSpaceSquared)},n.prototype.isScaledSpacePointVisible=function(e){return s(e,this._cameraPositionInScaledSpace,this._distanceToLimbInScaledSpaceSquared)};var b=new d.a;n.prototype.isScaledSpacePointVisiblePossiblyUnderEllipsoid=function(e,t){var i,n,a=this._ellipsoid;return Object(m.a)(t)&&t<0&&a.minimumRadius>-t?(n=b,n.x=this._cameraPosition.x/(a.radii.x+t),n.y=this._cameraPosition.y/(a.radii.y+t),n.z=this._cameraPosition.z/(a.radii.z+t),i=n.x*n.x+n.y*n.y+n.z*n.z-1):(n=this._cameraPositionInScaledSpace,i=this._distanceToLimbInScaledSpaceSquared),s(e,n,i)},n.prototype.computeHorizonCullingPoint=function(e,t,i){return r(this._ellipsoid,e,t,i)};var y=g.a.clone(g.a.UNIT_SPHERE);n.prototype.computeHorizonCullingPointPossiblyUnderEllipsoid=function(e,t,i,n){return r(a(this._ellipsoid,i,y),e,t,n)},n.prototype.computeHorizonCullingPointFromVertices=function(e,t,i,n,a){return o(this._ellipsoid,e,t,i,n,a)},n.prototype.computeHorizonCullingPointFromVerticesPossiblyUnderEllipsoid=function(e,t,i,n,r,s){return o(a(this._ellipsoid,r,y),e,t,i,n,s)};var O=[];n.prototype.computeHorizonCullingPointFromRectangle=function(e,t,i){f.a.typeOf.object("rectangle",e);var n=_.a.subsample(e,t,0,O),a=h.a.fromPoints(n);if(!(d.a.magnitude(a.center)<.1*t.minimumRadius))return this.computeHorizonCullingPoint(a.center,n,i)};var w=new d.a,x=new d.a,E=new d.a,T=new d.a,A=new d.a;t.a=n},PTtG:function(e,t,i){"use strict";function n(e,t){s.a.defined("endpoint",e),s.a.defined("endpointResource",t);var i,n=e.externalType,o=Object(u.a)(n);if(o){if("3DTILES"!==n&&"STK_TERRAIN_SERVER"!==n)throw new f.a("Ion.createResource does not support external imagery assets; use IonImageryProvider instead.");i={url:e.options.url}}else i={url:e.url,retryAttempts:1,retryCallback:a};d.a.call(this,i),this._ionEndpoint=e,this._ionEndpointDomain=o?void 0:new r.a(e.url).authority,this._ionEndpointResource=t,this._ionRoot=void 0,this._pendingPromise=void 0,this._credits=void 0,this._isExternal=o}function a(e,t){var i=Object(l.a)(e._ionRoot,e),n=i._ionEndpointResource;return Object(u.a)(t)&&(401===t.statusCode||t.target instanceof Image)?(Object(u.a)(i._pendingPromise)||(i._pendingPromise=n.fetchJson().then(function(e){return i._ionEndpoint=e,e}).always(function(e){return i._pendingPromise=void 0,e})),i._pendingPromise.then(function(t){return e._ionEndpoint=t,!0})):o.a.resolve(!1)}var r=i("8Vjj"),o=i("S7OP"),s=i("5F4X"),c=i("ODTd"),l=i("5A4e"),u=i("xC6Q"),h=i("dNIU"),d=i("rMjQ"),f=i("V22k");Object(u.a)(Object.create)&&(n.prototype=Object.create(d.a.prototype),n.prototype.constructor=n),n.fromAssetId=function(e,t){var i=n._createEndpointResource(e,t);return i.fetchJson().then(function(e){return new n(e,i)})},Object.defineProperties(n.prototype,{credits:{get:function(){return Object(u.a)(this._ionRoot)?this._ionRoot.credits:Object(u.a)(this._credits)?this._credits:(this._credits=n.getCreditsFromEndpoint(this._ionEndpoint,this._ionEndpointResource),this._credits)}}}),n.getCreditsFromEndpoint=function(e,t){var i=e.attributions.map(c.a.getIonCredit),n=h.a.getDefaultTokenCredit(t.queryParameters.access_token);return Object(u.a)(n)&&i.push(c.a.clone(n)),i},n.prototype.clone=function(e){var t=Object(l.a)(this._ionRoot,this);return Object(u.a)(e)||(e=new n(t._ionEndpoint,t._ionEndpointResource)),e=d.a.prototype.clone.call(this,e),e._ionRoot=t,e._isExternal=this._isExternal,e},n.prototype.fetchImage=function(e){if(!this._isExternal){var t=e;e={preferBlob:!0},Object(u.a)(t)&&(e.flipY=t.flipY,e.preferImageBitmap=t.preferImageBitmap)}return d.a.prototype.fetchImage.call(this,e)},n.prototype._makeRequest=function(e){return this._isExternal||new r.a(this.url).authority!==this._ionEndpointDomain?d.a.prototype._makeRequest.call(this,e):(Object(u.a)(e.headers)||(e.headers={}),e.headers.Authorization="Bearer "+this._ionEndpoint.accessToken,d.a.prototype._makeRequest.call(this,e))},n._createEndpointResource=function(e,t){s.a.defined("assetId",e),t=Object(l.a)(t,l.a.EMPTY_OBJECT);var i=Object(l.a)(t.server,h.a.defaultServer),n=Object(l.a)(t.accessToken,h.a.defaultAccessToken);i=d.a.createIfNeeded(i);var a={url:"v1/assets/"+e+"/endpoint"};return Object(u.a)(n)&&(a.queryParameters={access_token:n}),i.getDerivedResource(a)},t.a=n},PZX5:function(e,t,i){"use strict";t.a="varying vec4 v_color;\n\nvoid main()\n{\n    gl_FragColor = czm_gammaCorrect(v_color);\n}\n"},PiFy:function(e,t,i){"use strict";var n=i("fRHV");e.exports=Function.prototype.bind||n},Plo4:function(e,t,i){"use strict";t.a="/**\n * The automatic GLSL constant for {@link Pass#CESIUM_3D_TILE}\n *\n * @name czm_passCesium3DTile\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passCesium3DTile = 4.0;\n"},PvyP:function(e,t,i){"use strict";t.a="/**\n * Converts an RGB color to HSL (hue, saturation, lightness)\n * HSL <-> RGB conversion: {@link http://www.chilliant.com/rgb2hsv.html}\n *\n * @name czm_RGBToHSL\n * @glslFunction\n * \n * @param {vec3} rgb The color in RGB.\n *\n * @returns {vec3} The color in HSL.\n *\n * @example\n * vec3 hsl = czm_RGBToHSL(rgb);\n * hsl.z *= 0.1;\n * rgb = czm_HSLToRGB(hsl);\n */\n \nvec3 RGBtoHCV(vec3 rgb)\n{\n    // Based on work by Sam Hocevar and Emil Persson\n    vec4 p = (rgb.g < rgb.b) ? vec4(rgb.bg, -1.0, 2.0 / 3.0) : vec4(rgb.gb, 0.0, -1.0 / 3.0);\n    vec4 q = (rgb.r < p.x) ? vec4(p.xyw, rgb.r) : vec4(rgb.r, p.yzx);\n    float c = q.x - min(q.w, q.y);\n    float h = abs((q.w - q.y) / (6.0 * c + czm_epsilon7) + q.z);\n    return vec3(h, c, q.x);\n}\n\nvec3 czm_RGBToHSL(vec3 rgb)\n{\n    vec3 hcv = RGBtoHCV(rgb);\n    float l = hcv.z - hcv.y * 0.5;\n    float s = hcv.y / (1.0 - abs(l * 2.0 - 1.0) + czm_epsilon7);\n    return vec3(hcv.x, s, l);\n}\n"},PzDm:function(e,t,i){"use strict";function n(e){this.name="DeveloperError",this.message=e;var t;try{throw new Error}catch(e){t=e.stack}this.stack=t}var a=i("xC6Q");Object(a.a)(Object.create)&&(n.prototype=Object.create(Error.prototype),n.prototype.constructor=n),n.prototype.toString=function(){var e=this.name+": "+this.message;return Object(a.a)(this.stack)&&(e+="\n"+this.stack.toString()),e},n.throwInstantiationError=function(){throw new n("This function defines an interface and should not be called directly.")},t.a=n},PzuF:function(e,t,i){"use strict";t.a="attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 prevPosition3DHigh;\nattribute vec3 prevPosition3DLow;\nattribute vec3 nextPosition3DHigh;\nattribute vec3 nextPosition3DLow;\nattribute vec2 expandAndWidth;\nattribute vec4 color;\nattribute float batchId;\n\nvarying vec4 v_color;\n\nvoid main()\n{\n    float expandDir = expandAndWidth.x;\n    float width = abs(expandAndWidth.y) + 0.5;\n    bool usePrev = expandAndWidth.y < 0.0;\n\n    vec4 p = czm_computePosition();\n    vec4 prev = czm_computePrevPosition();\n    vec4 next = czm_computeNextPosition();\n\n    v_color = color;\n\n    float angle;\n    vec4 positionWC = getPolylineWindowCoordinates(p, prev, next, expandDir, width, usePrev, angle);\n    gl_Position = czm_viewportOrthographic * positionWC;\n\n#ifdef LOG_DEPTH\n    czm_vertexLogDepth(czm_modelViewProjectionRelativeToEye * p);\n#endif\n}\n"},"Q+B7":function(e,t,i){"use strict";function n(e,t,i){if(!Object(s.a)(e))throw new c.a("uint8Array is required.");if(t<0)throw new c.a("byteOffset cannot be negative.");if(i<0)throw new c.a("byteLength cannot be negative.");if(t+i>e.byteLength)throw new c.a("sub-region exceeds array bounds.");return t=Object(o.a)(t,0),i=Object(o.a)(i,e.byteLength-t),e=e.subarray(t,t+i),n.decode(e)}function a(e,t,i){return t<=e&&e<=i}function r(e){for(var t=0,i=0,n=0,r=128,o=191,s=[],c=e.length,u=0;u<c;++u){var h=e[u];if(0===n){if(a(h,0,127)){s.push(h);continue}if(a(h,194,223)){n=1,t=31&h;continue}if(a(h,224,239)){224===h&&(r=160),237===h&&(o=159),n=2,t=15&h;continue}if(a(h,240,244)){240===h&&(r=144),244===h&&(o=143),n=3,t=7&h;continue}throw new l.a("String decoding failed.")}a(h,r,o)?(r=128,o=191,t=t<<6|63&h,++i===n&&(s.push(t),t=n=i=0)):(t=n=i=0,r=128,o=191,--u)}return s}var o=i("5A4e"),s=i("xC6Q"),c=i("PzDm"),l=i("V22k");n.decodeWithTextDecoder=function(e){return new TextDecoder("utf-8").decode(e)},n.decodeWithFromCharCode=function(e){for(var t="",i=r(e),n=i.length,a=0;a<n;++a){var o=i[a];o<=65535?t+=String.fromCharCode(o):(o-=65536,t+=String.fromCharCode(55296+(o>>10),56320+(1023&o)))}return t},"undefined"!=typeof TextDecoder?n.decode=n.decodeWithTextDecoder:n.decode=n.decodeWithFromCharCode,t.a=n},Q35R:function(e,t,i){"use strict";function n(e,t,i,n,a){this._tileset=e,this._tile=t,this._resource=i,this._polygons=void 0,this._polylines=void 0,this._points=void 0,this._contentReadyPromise=void 0,this._readyPromise=b.a.defer(),this._batchTable=void 0,this._features=void 0,this.featurePropertiesDirty=!1,o(this,n,a)}function a(e){return function(t,i){Object(u.a)(e._polygons)&&e._polygons.updateCommands(t,i)}}function r(e,t){var i,n,a,r,o=Object(l.a)(e.POLYGONS_LENGTH,0),s=Object(l.a)(e.POLYLINES_LENGTH,0),c=Object(l.a)(e.POINTS_LENGTH,0);if(o>0&&Object(u.a)(e.POLYGON_BATCH_IDS)){var h=t.byteOffset+e.POLYGON_BATCH_IDS.byteOffset;i=new Uint16Array(t.buffer,h,o)}if(s>0&&Object(u.a)(e.POLYLINE_BATCH_IDS)){var d=t.byteOffset+e.POLYLINE_BATCH_IDS.byteOffset;n=new Uint16Array(t.buffer,d,s)}if(c>0&&Object(u.a)(e.POINT_BATCH_IDS)){var f=t.byteOffset+e.POINT_BATCH_IDS.byteOffset;a=new Uint16Array(t.buffer,f,c)}var p=Object(u.a)(i)||Object(u.a)(n)||Object(u.a)(a),m=o>0&&!Object(u.a)(i)||s>0&&!Object(u.a)(n)||c>0&&!Object(u.a)(a);if(p&&m)throw new v.a("If one group of batch ids is defined, then all batch ids must be defined.");if(!Object(u.a)(i)&&!Object(u.a)(n)&&!Object(u.a)(a)){var g=0;if(!Object(u.a)(i)&&o>0)for(i=new Uint16Array(o),r=0;r<o;++r)i[r]=g++;if(!Object(u.a)(n)&&s>0)for(n=new Uint16Array(s),r=0;r<s;++r)n[r]=g++;if(!Object(u.a)(a)&&c>0)for(a=new Uint16Array(c),r=0;r<c;++r)a[r]=g++}return{polygons:i,polylines:n,points:a}}function o(e,t,i){i=Object(l.a)(i,0);var n=new Uint8Array(t),o=new DataView(t);i+=T;var s=o.getUint32(i,!0);if(1!==s)throw new v.a("Only Vector tile version 1 is supported.  Version "+s+" is not.");i+=T;var h=o.getUint32(i,!0);if(i+=T,0===h)return void e._readyPromise.resolve(e);var d=o.getUint32(i,!0);if(i+=T,0===d)throw new v.a("Feature table must have a byte length greater than zero");var b=o.getUint32(i,!0);i+=T;var A=o.getUint32(i,!0);i+=T;var C=o.getUint32(i,!0);i+=T;var S=o.getUint32(i,!0);i+=T;var j=o.getUint32(i,!0);i+=T;var P=o.getUint32(i,!0);i+=T;var D=o.getUint32(i,!0);i+=T;var I=Object(p.a)(n,i,d),R=JSON.parse(I);i+=d;var M=new Uint8Array(t,i,b);i+=b;var L,N;if(A>0){var F=Object(p.a)(n,i,A);L=JSON.parse(F),i+=A,C>0&&(N=new Uint8Array(t,i,C),N=new Uint8Array(N),i+=C)}var z=Object(l.a)(R.POLYGONS_LENGTH,0),B=Object(l.a)(R.POLYLINES_LENGTH,0),k=Object(l.a)(R.POINTS_LENGTH,0),U=z+B+k,V=new y.a(e,U,L,N,a(e));if(e._batchTable=V,0!==U){var H,q,W;if(!Object(u.a)(R.REGION))throw new v.a("REGION is required in the feature table.");var G=R.REGION;H=_.a.unpack(G),q=G[4],W=G[5];var Y,X=e._tile.computedTransform;Object(u.a)(R.RTC_CENTER)?(Y=c.a.unpack(R.RTC_CENTER),g.a.multiplyByPoint(X,Y,Y)):(Y=_.a.center(H),Y.height=m.a.lerp(q,W,.5),Y=f.a.WGS84.cartographicToCartesian(Y));var Q=r(R,M);if(i+=i%4,z>0){var J=new Uint32Array(t,i,S/T);i+=S;var Z=new Uint16Array(t,i,j/E);i+=j;var K,$,ee=M.byteOffset+R.POLYGON_COUNT.byteOffset,te=new Uint32Array(M.buffer,ee,z),ie=M.byteOffset+R.POLYGON_INDEX_COUNT.byteOffset,ne=new Uint32Array(M.buffer,ie,z);if(Object(u.a)(R.POLYGON_MINIMUM_HEIGHTS)&&Object(u.a)(R.POLYGON_MAXIMUM_HEIGHTS)){var ae=M.byteOffset+R.POLYGON_MINIMUM_HEIGHTS.byteOffset;K=new Float32Array(M.buffer,ae,z);var re=M.byteOffset+R.POLYGON_MAXIMUM_HEIGHTS.byteOffset;$=new Float32Array(M.buffer,re,z)}e._polygons=new w.a({positions:Z,counts:te,indexCounts:ne,indices:J,minimumHeight:q,maximumHeight:W,polygonMinimumHeights:K,polygonMaximumHeights:$,center:Y,rectangle:H,boundingVolume:e.tile.boundingVolume.boundingVolume,batchTable:V,batchIds:Q.polygons,modelMatrix:X})}if(B>0){var oe=new Uint16Array(t,i,P/E);i+=P;var se,ce=M.byteOffset+R.POLYLINE_COUNT.byteOffset,le=new Uint32Array(M.buffer,ce,B);if(Object(u.a)(R.POLYLINE_WIDTHS)){var ue=M.byteOffset+R.POLYLINE_WIDTHS.byteOffset;se=new Uint16Array(M.buffer,ue,B)}else{se=new Uint16Array(B);for(var he=0;he<B;++he)se[he]=2}e._polylines=new x.a({positions:oe,widths:se,counts:le,batchIds:Q.polylines,minimumHeight:q,maximumHeight:W,center:Y,rectangle:H,boundingVolume:e.tile.boundingVolume.boundingVolume,batchTable:V})}if(k>0){var de=new Uint16Array(t,i,D/E);e._points=new O.a({positions:de,batchIds:Q.points,minimumHeight:q,maximumHeight:W,rectangle:H,batchTable:V})}}}function s(e){var t=e.featuresLength;if(!Object(u.a)(e._features)&&t>0){var i=new Array(t);Object(u.a)(e._polygons)&&e._polygons.createFeatures(e,i),Object(u.a)(e._polylines)&&e._polylines.createFeatures(e,i),Object(u.a)(e._points)&&e._points.createFeatures(e,i),e._features=i}}var c=i("Jj+J"),l=i("5A4e"),u=i("xC6Q"),h=i("6sr8"),d=i("PzDm"),f=i("y6fO"),p=i("Q+B7"),m=i("fq+p"),g=i("Xjii"),_=i("Wq1U"),v=i("V22k"),b=i("S7OP"),y=i("sNK4"),O=i("b49P"),w=i("BOF4"),x=i("7ynu");Object.defineProperties(n.prototype,{featuresLength:{get:function(){return Object(u.a)(this._batchTable)?this._batchTable.featuresLength:0}},pointsLength:{get:function(){return Object(u.a)(this._points)?this._points.pointsLength:0}},trianglesLength:{get:function(){var e=0;return Object(u.a)(this._polygons)&&(e+=this._polygons.trianglesLength),Object(u.a)(this._polylines)&&(e+=this._polylines.trianglesLength),e}},geometryByteLength:{get:function(){var e=0;return Object(u.a)(this._polygons)&&(e+=this._polygons.geometryByteLength),Object(u.a)(this._polylines)&&(e+=this._polylines.geometryByteLength),e}},texturesByteLength:{get:function(){return Object(u.a)(this._points)?this._points.texturesByteLength:0}},batchTableByteLength:{get:function(){return Object(u.a)(this._batchTable)?this._batchTable.memorySizeInBytes:0}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){return this._batchTable}}});var E=Uint16Array.BYTES_PER_ELEMENT,T=Uint32Array.BYTES_PER_ELEMENT;n.prototype.hasProperty=function(e,t){return this._batchTable.hasProperty(e,t)},n.prototype.getFeature=function(e){var t=this.featuresLength;if(!Object(u.a)(e)||e<0||e>=t)throw new d.a("batchId is required and between zero and featuresLength - 1 ("+(t-1)+").");return s(this),this._features[e]},n.prototype.applyDebugSettings=function(e,t){Object(u.a)(this._polygons)&&this._polygons.applyDebugSettings(e,t),Object(u.a)(this._polylines)&&this._polylines.applyDebugSettings(e,t),Object(u.a)(this._points)&&this._points.applyDebugSettings(e,t)},n.prototype.applyStyle=function(e){s(this),Object(u.a)(this._polygons)&&this._polygons.applyStyle(e,this._features),Object(u.a)(this._polylines)&&this._polylines.applyStyle(e,this._features),Object(u.a)(this._points)&&this._points.applyStyle(e,this._features)},n.prototype.update=function(e,t){var i=!0;if(Object(u.a)(this._polygons)&&(this._polygons.classificationType=this._tileset.classificationType,this._polygons.debugWireframe=this._tileset.debugWireframe,this._polygons.update(t),i=i&&this._polygons._ready),Object(u.a)(this._polylines)&&(this._polylines.update(t),i=i&&this._polylines._ready),Object(u.a)(this._points)&&(this._points.update(t),i=i&&this._points._ready),Object(u.a)(this._batchTable)&&i&&this._batchTable.update(e,t),!Object(u.a)(this._contentReadyPromise)){var n=Object(u.a)(this._points)?this._points.readyPromise:void 0,a=Object(u.a)(this._polygons)?this._polygons.readyPromise:void 0,r=Object(u.a)(this._polylines)?this._polylines.readyPromise:void 0,o=this;this._contentReadyPromise=b.a.all([n,a,r]).then(function(){o._readyPromise.resolve(o)})}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._polygons=this._polygons&&this._polygons.destroy(),this._polylines=this._polylines&&this._polylines.destroy(),this._points=this._points&&this._points.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),Object(h.a)(this)},t.a=n},Q8Zd:function(e,t,i){"use strict";function n(e,t){return t=Object(u.a)(t,d),d.forEach(function(i){t.indexOf(i)>-1&&a(e,i)}),e}function a(e,t){var i=f[t],n=e[i];if(Object(h.a)(n))for(var a=0,s=o[t](e),c=n.length,l=0;l<c;++l)s[l]||(r[t](e,l-a),a++)}function r(){}function o(){}function s(e,t){return!(Object(h.a)(t.mesh)||Object(h.a)(t.camera)||Object(h.a)(t.skin)||Object(h.a)(t.weights)||Object(h.a)(t.extras)||Object(h.a)(t.extensions)&&0!==t.extensions.length)&&(!Object(h.a)(t.children)||0===t.children.filter(function(t){return!s(e,e.nodes[t])}).length)}var c=i("FJg6"),l=i("dnpE"),u=i("5A4e"),h=i("xC6Q"),d=["mesh","node","material","accessor","bufferView","buffer"],f={accessor:"accessors",buffer:"buffers",bufferView:"bufferViews",node:"nodes",material:"materials",mesh:"meshes"};r.accessor=function(e,t){e.accessors.splice(t,1),c.a.mesh(e,function(e){c.a.meshPrimitive(e,function(e){c.a.meshPrimitiveAttribute(e,function(i,n){i>t&&e.attributes[n]--}),c.a.meshPrimitiveTarget(e,function(e){c.a.meshPrimitiveTargetAttribute(e,function(i,n){i>t&&e[n]--})});var i=e.indices;Object(h.a)(i)&&i>t&&e.indices--})}),c.a.skin(e,function(e){Object(h.a)(e.inverseBindMatrices)&&e.inverseBindMatrices>t&&e.inverseBindMatrices--}),c.a.animation(e,function(e){c.a.animationSampler(e,function(e){Object(h.a)(e.input)&&e.input>t&&e.input--,Object(h.a)(e.output)&&e.output>t&&e.output--})})},r.buffer=function(e,t){e.buffers.splice(t,1),c.a.bufferView(e,function(e){Object(h.a)(e.buffer)&&e.buffer>t&&e.buffer--})},r.bufferView=function(e,t){e.bufferViews.splice(t,1),c.a.accessor(e,function(e){Object(h.a)(e.bufferView)&&e.bufferView>t&&e.bufferView--}),c.a.shader(e,function(e){Object(h.a)(e.bufferView)&&e.bufferView>t&&e.bufferView--}),c.a.image(e,function(e){Object(h.a)(e.bufferView)&&e.bufferView>t&&e.bufferView--,c.a.compressedImage(e,function(e){var i=e.bufferView;Object(h.a)(i)&&i>t&&e.bufferView--})}),Object(l.a)(e,"KHR_draco_mesh_compression")&&c.a.mesh(e,function(e){c.a.meshPrimitive(e,function(e){Object(h.a)(e.extensions)&&Object(h.a)(e.extensions.KHR_draco_mesh_compression)&&e.extensions.KHR_draco_mesh_compression.bufferView>t&&e.extensions.KHR_draco_mesh_compression.bufferView--})})},r.mesh=function(e,t){e.meshes.splice(t,1),c.a.node(e,function(e){Object(h.a)(e.mesh)&&(e.mesh>t?e.mesh--:e.mesh===t&&delete e.mesh)})},r.node=function(e,t){e.nodes.splice(t,1),c.a.skin(e,function(e){Object(h.a)(e.skeleton)&&e.skeleton>t&&e.skeleton--,e.joints=e.joints.map(function(e){return e>t?e-1:e})}),c.a.animation(e,function(e){c.a.animationChannel(e,function(e){Object(h.a)(e.target)&&Object(h.a)(e.target.node)&&e.target.node>t&&e.target.node--})}),c.a.technique(e,function(e){c.a.techniqueUniform(e,function(e){Object(h.a)(e.node)&&e.node>t&&e.node--})}),c.a.node(e,function(e){Object(h.a)(e.children)&&(e.children=e.children.filter(function(e){return e!==t}).map(function(e){return e>t?e-1:e}))}),c.a.scene(e,function(e){e.nodes=e.nodes.filter(function(e){return e!==t}).map(function(e){return e>t?e-1:e})})},r.material=function(e,t){e.materials.splice(t,1),c.a.mesh(e,function(e){c.a.meshPrimitive(e,function(e){Object(h.a)(e.material)&&e.material>t&&e.material--})})},o.accessor=function(e){var t={};return c.a.mesh(e,function(e){c.a.meshPrimitive(e,function(e){c.a.meshPrimitiveAttribute(e,function(e){t[e]=!0}),c.a.meshPrimitiveTarget(e,function(e){c.a.meshPrimitiveTargetAttribute(e,function(e){t[e]=!0})});var i=e.indices;Object(h.a)(i)&&(t[i]=!0)})}),c.a.skin(e,function(e){Object(h.a)(e.inverseBindMatrices)&&(t[e.inverseBindMatrices]=!0)}),c.a.animation(e,function(e){c.a.animationSampler(e,function(e){Object(h.a)(e.input)&&(t[e.input]=!0),Object(h.a)(e.output)&&(t[e.output]=!0)})}),t},o.buffer=function(e){var t={};return c.a.bufferView(e,function(e){Object(h.a)(e.buffer)&&(t[e.buffer]=!0)}),t},o.bufferView=function(e){var t={};return c.a.accessor(e,function(e){Object(h.a)(e.bufferView)&&(t[e.bufferView]=!0)}),c.a.shader(e,function(e){Object(h.a)(e.bufferView)&&(t[e.bufferView]=!0)}),c.a.image(e,function(e){Object(h.a)(e.bufferView)&&(t[e.bufferView]=!0),c.a.compressedImage(e,function(e){Object(h.a)(e.bufferView)&&(t[e.bufferView]=!0)})}),Object(l.a)(e,"KHR_draco_mesh_compression")&&c.a.mesh(e,function(e){c.a.meshPrimitive(e,function(e){Object(h.a)(e.extensions)&&Object(h.a)(e.extensions.KHR_draco_mesh_compression)&&(t[e.extensions.KHR_draco_mesh_compression.bufferView]=!0)})}),t},o.mesh=function(e){var t={};return c.a.node(e,function(i){if(Object(h.a)(i.mesh&&Object(h.a)(e.meshes))){var n=e.meshes[i.mesh];Object(h.a)(n)&&Object(h.a)(n.primitives)&&n.primitives.length>0&&(t[i.mesh]=!0)}}),t},o.node=function(e){var t={};return c.a.node(e,function(i,n){s(e,i)||(t[n]=!0)}),c.a.skin(e,function(e){Object(h.a)(e.skeleton)&&(t[e.skeleton]=!0),c.a.skinJoint(e,function(e){t[e]=!0})}),c.a.animation(e,function(e){c.a.animationChannel(e,function(e){Object(h.a)(e.target)&&Object(h.a)(e.target.node)&&(t[e.target.node]=!0)})}),c.a.technique(e,function(e){c.a.techniqueUniform(e,function(e){Object(h.a)(e.node)&&(t[e.node]=!0)})}),t},o.material=function(e){var t={};return c.a.mesh(e,function(e){c.a.meshPrimitive(e,function(e){Object(h.a)(e.material)&&(t[e.material]=!0)})}),t},t.a=n},QMGb:function(e,t,i){"use strict";function n(){this._cameraClicked=new r.a,this._closeClicked=new r.a,this.maxHeight=500,this.enableCamera=!1,this.isCameraTracking=!1,this.showInfo=!1,this.titleText="",this.description="",o.a.track(this,["showInfo","titleText","description","maxHeight","enableCamera","isCameraTracking"]),this._loadingIndicatorHtml='<div class="cesium-infoBox-loadingContainer"><span class="cesium-infoBox-loading"></span></div>',this.cameraIconPath=void 0,o.a.defineProperty(this,"cameraIconPath",{get:function(){return!this.enableCamera||this.isCameraTracking?c:s}}),o.a.defineProperty(this,"_bodyless",{get:function(){return!Object(a.a)(this.description)||0===this.description.length}})}var a=i("xC6Q"),r=i("W6xh"),o=i("PKIF"),s="M 13.84375 7.03125 C 11.412798 7.03125 9.46875 8.975298 9.46875 11.40625 L 9.46875 11.59375 L 2.53125 7.21875 L 2.53125 24.0625 L 9.46875 19.6875 C 9.4853444 22.104033 11.423165 24.0625 13.84375 24.0625 L 25.875 24.0625 C 28.305952 24.0625 30.28125 22.087202 30.28125 19.65625 L 30.28125 11.40625 C 30.28125 8.975298 28.305952 7.03125 25.875 7.03125 L 13.84375 7.03125 z",c="M 27.34375 1.65625 L 5.28125 27.9375 L 8.09375 30.3125 L 30.15625 4.03125 L 27.34375 1.65625 z M 13.84375 7.03125 C 11.412798 7.03125 9.46875 8.975298 9.46875 11.40625 L 9.46875 11.59375 L 2.53125 7.21875 L 2.53125 24.0625 L 9.46875 19.6875 C 9.4724893 20.232036 9.5676108 20.7379 9.75 21.21875 L 21.65625 7.03125 L 13.84375 7.03125 z M 28.21875 7.71875 L 14.53125 24.0625 L 25.875 24.0625 C 28.305952 24.0625 30.28125 22.087202 30.28125 19.65625 L 30.28125 11.40625 C 30.28125 9.8371439 29.456025 8.4902779 28.21875 7.71875 z";n.prototype.maxHeightOffset=function(e){return this.maxHeight-e+"px"},Object.defineProperties(n.prototype,{cameraClicked:{get:function(){return this._cameraClicked}},closeClicked:{get:function(){return this._closeClicked}}}),t.a=n},QOpN:function(e,t,i){"use strict";function n(e,t){if(!Object(o.a)(e))throw new s.a("terrainProvider is required.");if(!Object(o.a)(t))throw new s.a("positions is required.");return e.readyPromise.then(function(){var i=[],r=[],u=e.availability;if(!Object(o.a)(u))throw new s.a("sampleTerrainMostDetailed requires a terrain provider that has tile availability.");for(var h=[],d=0;d<t.length;++d){var f=t[d],p=u.computeMaximumLevelAtPosition(f);if(r[d]=p,0===p){e.tilingScheme.positionToTileXY(f,1,l);var m=e.loadTileDataAvailability(l.x,l.y,1);Object(o.a)(m)&&h.push(m)}var g=i[p];Object(o.a)(g)||(i[p]=g=[]),g.push(f)}return a.a.all(h).then(function(){return a.a.all(i.map(function(t,i){if(Object(o.a)(t))return Object(c.a)(e,i,t)}))}).then(function(){for(var i=[],a=0;a<t.length;++a){var o=t[a];u.computeMaximumLevelAtPosition(o)!==r[a]&&i.push(o)}if(i.length>0)return n(e,i)}).then(function(){return t})})}var a=i("S7OP"),r=i("Ss9j"),o=i("xC6Q"),s=i("PzDm"),c=i("cesB"),l=new r.a;t.a=n},QQK7:function(e,t,i){"use strict";function n(e){switch(e){case a.a.BYTE:return function(e,t,i,n,a){for(var r=0;r<i;++r)a[r]=e.getInt8(t+r*n)};case a.a.UNSIGNED_BYTE:return function(e,t,i,n,a){for(var r=0;r<i;++r)a[r]=e.getUint8(t+r*n)};case a.a.SHORT:return function(e,t,i,n,a){for(var r=0;r<i;++r)a[r]=e.getInt16(t+r*n,!0)};case a.a.UNSIGNED_SHORT:return function(e,t,i,n,a){for(var r=0;r<i;++r)a[r]=e.getUint16(t+r*n,!0)};case a.a.INT:return function(e,t,i,n,a){for(var r=0;r<i;++r)a[r]=e.getInt32(t+r*n,!0)};case a.a.UNSIGNED_INT:return function(e,t,i,n,a){for(var r=0;r<i;++r)a[r]=e.getUint32(t+r*n,!0)};case a.a.FLOAT:return function(e,t,i,n,a){for(var r=0;r<i;++r)a[r]=e.getFloat32(t+r*n,!0)};case a.a.DOUBLE:return function(e,t,i,n,a){for(var r=0;r<i;++r)a[r]=e.getFloat64(t+r*n,!0)}}}var a=i("YCZg");t.a=n},QRG4:function(e,t,i){var n=i("UuGF"),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},QRkk:function(e,t,i){"use strict";t.a="/**\n * Converts an HSB color (hue, saturation, brightness) to RGB\n * HSB <-> RGB conversion with minimal branching: {@link http://lolengine.net/blog/2013/07/27/rgb-to-hsv-in-glsl}\n *\n * @name czm_HSBToRGB\n * @glslFunction\n * \n * @param {vec3} hsb The color in HSB.\n *\n * @returns {vec3} The color in RGB.\n *\n * @example\n * vec3 hsb = czm_RGBToHSB(rgb);\n * hsb.z *= 0.1;\n * rgb = czm_HSBToRGB(hsb);\n */\n\nconst vec4 K_HSB2RGB = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n\nvec3 czm_HSBToRGB(vec3 hsb)\n{\n    vec3 p = abs(fract(hsb.xxx + K_HSB2RGB.xyz) * 6.0 - K_HSB2RGB.www);\n    return hsb.z * mix(K_HSB2RGB.xxx, clamp(p - K_HSB2RGB.xxx, 0.0, 1.0), hsb.y);\n}\n"},QSrk:function(e,t,i){"use strict";t.a="/**\n * The automatic GLSL constant for {@link Pass#TRANSLUCENT}\n *\n * @name czm_passTranslucent\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passTranslucent = 8.0;\n"},QcB4:function(e,t,i){"use strict";function n(e,t){for(var i=e.length,n=0;n<i;n++){var a=e[n];if(g.a.equals(a,t))return!0}return!1}function a(e){var t=e._previousCesiumCredit,i=e._currentCesiumCredit;g.a.equals(i,t)||(Object(v.a)(t)&&e._cesiumCreditContainer.removeChild(t.element),Object(v.a)(i)&&e._cesiumCreditContainer.appendChild(i.element),e._previousCesiumCredit=i)}function r(e){var t=document.createElement("span");return t.textContent=e,t.className=E,t}function o(e,t){if(Object(v.a)(t)){var i=document.createElement(t);i._creditId=e._creditId,i.appendChild(e),e=i}return e}function s(e,t,i,n){for(var a=e.childNodes,s=-1,c=0;c<t.length;++c){var l=t[c];if(Object(v.a)(l)){if(s=c,Object(v.a)(i)&&(s*=2,c>0)){var u=s-1;if(a.length<=u)e.appendChild(r(i));else{var h=a[u];h.className!==E&&e.replaceChild(r(i),h)}}var d=l.element;if(a.length<=s)e.appendChild(o(d,n));else{var f=a[s];f._creditId!==l._id&&e.replaceChild(o(d,n),f)}}}for(++s;s<a.length;)e.removeChild(a[s])}function c(e){var t=e._lightboxCredits,i=e.viewport.clientWidth,n=e.viewport.clientHeight;i!==e._lastViewportWidth&&(i<y?(t.className="cesium-credit-lightbox cesium-credit-lightbox-mobile",t.style.marginTop="0"):(t.className="cesium-credit-lightbox cesium-credit-lightbox-expanded",t.style.marginTop=Math.floor(.5*(n-t.clientHeight))+"px"),e._lastViewportWidth=i),i>=y&&n!==e._lastViewportHeight&&(t.style.marginTop=Math.floor(.5*(n-t.clientHeight))+"px",e._lastViewportHeight=n)}function l(e,t){var i=e+" {";for(var n in t)t.hasOwnProperty(n)&&(i+=n+": "+t[n]+"; ");return i+=" }\n"}function u(){var e="";e+=l(".cesium-credit-lightbox-overlay",{display:"none","z-index":"1",position:"absolute",top:"0",left:"0",width:"100%",height:"100%","background-color":"rgba(80, 80, 80, 0.8)"}),e+=l(".cesium-credit-lightbox",{"background-color":"#303336",color:w,position:"relative","min-height":O+"px",margin:"auto"}),e+=l(".cesium-credit-lightbox > ul > li a, .cesium-credit-lightbox > ul > li a:visited",{color:w}),e+=l(".cesium-credit-lightbox > ul > li a:hover",{color:x}),e+=l(".cesium-credit-lightbox.cesium-credit-lightbox-expanded",{border:"1px solid #444","border-radius":"5px","max-width":"370px"}),e+=l(".cesium-credit-lightbox.cesium-credit-lightbox-mobile",{height:"100%",width:"100%"}),e+=l(".cesium-credit-lightbox-title",{padding:"20px 20px 0 20px"}),e+=l(".cesium-credit-lightbox-close",{"font-size":"18pt",cursor:"pointer",position:"absolute",top:"0",right:"6px",color:w}),e+=l(".cesium-credit-lightbox-close:hover",{color:x}),e+=l(".cesium-credit-lightbox > ul",{margin:"0",padding:"12px 20px 12px 40px","font-size":"13px"}),e+=l(".cesium-credit-lightbox > ul > li",{"padding-bottom":"6px"}),e+=l(".cesium-credit-lightbox > ul > li *",{padding:"0",margin:"0"}),e+=l(".cesium-credit-expand-link",{"padding-left":"5px",cursor:"pointer","text-decoration":"underline",color:w}),e+=l(".cesium-credit-expand-link:hover",{color:x}),e+=l(".cesium-credit-text",{color:w}),e+=l(".cesium-credit-textContainer *, .cesium-credit-logoContainer *",{display:"inline"});var t=document.head,i=document.createElement("style");i.innerHTML=e,t.insertBefore(i,t.firstChild)}function h(e,t,i){function n(e){o.contains(e.target)||a.hideLightbox()}m.a.defined("container",e);var a=this;i=Object(_.a)(i,document.body);var r=document.createElement("div");r.className="cesium-credit-lightbox-overlay",i.appendChild(r);var o=document.createElement("div");o.className="cesium-credit-lightbox",r.appendChild(o),r.addEventListener("click",n,!1);var s=document.createElement("div");s.className="cesium-credit-lightbox-title",s.textContent="Data provided by:",o.appendChild(s);var c=document.createElement("a");c.onclick=this.hideLightbox.bind(this),c.innerHTML="&times;",c.className="cesium-credit-lightbox-close",o.appendChild(c);var l=document.createElement("ul");o.appendChild(l);var d=document.createElement("div");d.className="cesium-credit-logoContainer",d.style.display="inline",e.appendChild(d);var p=document.createElement("div");p.className="cesium-credit-textContainer",p.style.display="inline",e.appendChild(p);var v=document.createElement("a");v.className="cesium-credit-expand-link",v.onclick=this.showLightbox.bind(this),v.textContent="Data attribution",e.appendChild(v),u();var b=g.a.clone(h.cesiumCredit);this._delimiter=Object(_.a)(t," • "),this._screenContainer=p,this._cesiumCreditContainer=d,this._lastViewportHeight=void 0,this._lastViewportWidth=void 0,this._lightboxCredits=o,this._creditList=l,this._lightbox=r,this._hideLightbox=n,this._expandLink=v,this._expanded=!1,this._defaultCredits=[],this._cesiumCredit=b,this._previousCesiumCredit=void 0,this._currentCesiumCredit=b,this._currentFrameCredits={screenCredits:new f.a,lightboxCredits:new f.a},this._defaultCredit=void 0,this.viewport=i,this.container=e}function d(){if(!Object(v.a)(T)){var e=Object(p.a)("Assets/Images/ion-credit.png");T=new g.a('<a href="https://cesium.com/" target="_blank"><img src="'+e+'" title="Cesium ion"/></a>',!0)}return h._cesiumCreditInitialized||(h._cesiumCredit=T,h._cesiumCreditInitialized=!0),T}var f=i("7uRt"),p=i("CcV0"),m=i("5F4X"),g=i("ODTd"),_=i("5A4e"),v=i("xC6Q"),b=i("6sr8"),y=576,O=100,w="#ffffff",x="#48b",E="cesium-credit-delimiter";h.prototype.addCredit=function(e){if(m.a.defined("credit",e),e._isIon)return Object(v.a)(this._defaultCredit)||(this._defaultCredit=g.a.clone(d())),void(this._currentCesiumCredit=this._defaultCredit);e.showOnScreen?this._currentFrameCredits.screenCredits.set(e.id,e):this._currentFrameCredits.lightboxCredits.set(e.id,e)},h.prototype.addDefaultCredit=function(e){m.a.defined("credit",e);var t=this._defaultCredits;n(t,e)||t.push(e)},h.prototype.removeDefaultCredit=function(e){m.a.defined("credit",e);var t=this._defaultCredits,i=t.indexOf(e);-1!==i&&t.splice(i,1)},h.prototype.showLightbox=function(){this._lightbox.style.display="block",this._expanded=!0},h.prototype.hideLightbox=function(){this._lightbox.style.display="none",this._expanded=!1},h.prototype.update=function(){this._expanded&&c(this)},h.prototype.beginFrame=function(){var e=this._currentFrameCredits,t=e.screenCredits;t.removeAll();for(var i=this._defaultCredits,n=0;n<i.length;++n){var a=i[n];t.set(a.id,a)}e.lightboxCredits.removeAll(),g.a.equals(h.cesiumCredit,this._cesiumCredit)||(this._cesiumCredit=g.a.clone(h.cesiumCredit)),this._currentCesiumCredit=this._cesiumCredit},h.prototype.endFrame=function(){var e=this._currentFrameCredits.screenCredits.values;s(this._screenContainer,e,this._delimiter,void 0);var t=this._currentFrameCredits.lightboxCredits.values;this._expandLink.style.display=t.length>0?"inline":"none",s(this._creditList,t,void 0,"li"),a(this)},h.prototype.destroy=function(){return this._lightbox.removeEventListener("click",this._hideLightbox,!1),this.container.removeChild(this._cesiumCreditContainer),this.container.removeChild(this._screenContainer),this.container.removeChild(this._expandLink),this.viewport.removeChild(this._lightbox),Object(b.a)(this)},h.prototype.isDestroyed=function(){return!1},h._cesiumCredit=void 0,h._cesiumCreditInitialized=!1;var T;Object.defineProperties(h,{cesiumCredit:{get:function(){return d(),h._cesiumCredit},set:function(e){h._cesiumCredit=e,h._cesiumCreditInitialized=!0}}}),t.a=h},QgvK:function(e,t,i){"use strict";t.a='uniform float u_maxTotalPointSize;\n\nattribute vec4 positionHighAndSize;\nattribute vec4 positionLowAndOutline;\nattribute vec4 compressedAttribute0;                       // color, outlineColor, pick color\nattribute vec4 compressedAttribute1;                       // show, translucency by distance, some free space\nattribute vec4 scaleByDistance;                            // near, nearScale, far, farScale\nattribute vec3 distanceDisplayConditionAndDisableDepth;    // near, far, disableDepthTestDistance\n\nvarying vec4 v_color;\nvarying vec4 v_outlineColor;\nvarying float v_innerPercent;\nvarying float v_pixelDistance;\nvarying vec4 v_pickColor;\n\nconst float SHIFT_LEFT8 = 256.0;\nconst float SHIFT_RIGHT8 = 1.0 / 256.0;\n\nvoid main()\n{\n    // Modifying this shader may also require modifications to PointPrimitive._computeScreenSpacePosition\n\n    // unpack attributes\n    vec3 positionHigh = positionHighAndSize.xyz;\n    vec3 positionLow = positionLowAndOutline.xyz;\n    float outlineWidthBothSides = 2.0 * positionLowAndOutline.w;\n    float totalSize = positionHighAndSize.w + outlineWidthBothSides;\n    float outlinePercent = outlineWidthBothSides / totalSize;\n    // Scale in response to browser-zoom.\n    totalSize *= czm_pixelRatio;\n    // Add padding for anti-aliasing on both sides.\n    totalSize += 3.0;\n\n    float temp = compressedAttribute1.x * SHIFT_RIGHT8;\n    float show = floor(temp);\n\n#ifdef EYE_DISTANCE_TRANSLUCENCY\n    vec4 translucencyByDistance;\n    translucencyByDistance.x = compressedAttribute1.z;\n    translucencyByDistance.z = compressedAttribute1.w;\n\n    translucencyByDistance.y = ((temp - floor(temp)) * SHIFT_LEFT8) / 255.0;\n\n    temp = compressedAttribute1.y * SHIFT_RIGHT8;\n    translucencyByDistance.w = ((temp - floor(temp)) * SHIFT_LEFT8) / 255.0;\n#endif\n\n    ///////////////////////////////////////////////////////////////////////////\n\n    vec4 color;\n    vec4 outlineColor;\n    vec4 pickColor;\n\n    // compressedAttribute0.z => pickColor.rgb\n\n    temp = compressedAttribute0.z * SHIFT_RIGHT8;\n    pickColor.b = (temp - floor(temp)) * SHIFT_LEFT8;\n    temp = floor(temp) * SHIFT_RIGHT8;\n    pickColor.g = (temp - floor(temp)) * SHIFT_LEFT8;\n    pickColor.r = floor(temp);\n\n    // compressedAttribute0.x => color.rgb\n\n    temp = compressedAttribute0.x * SHIFT_RIGHT8;\n    color.b = (temp - floor(temp)) * SHIFT_LEFT8;\n    temp = floor(temp) * SHIFT_RIGHT8;\n    color.g = (temp - floor(temp)) * SHIFT_LEFT8;\n    color.r = floor(temp);\n\n    // compressedAttribute0.y => outlineColor.rgb\n\n    temp = compressedAttribute0.y * SHIFT_RIGHT8;\n    outlineColor.b = (temp - floor(temp)) * SHIFT_LEFT8;\n    temp = floor(temp) * SHIFT_RIGHT8;\n    outlineColor.g = (temp - floor(temp)) * SHIFT_LEFT8;\n    outlineColor.r = floor(temp);\n\n    // compressedAttribute0.w => color.a, outlineColor.a, pickColor.a\n\n    temp = compressedAttribute0.w * SHIFT_RIGHT8;\n    pickColor.a = (temp - floor(temp)) * SHIFT_LEFT8;\n    pickColor = pickColor / 255.0;\n\n    temp = floor(temp) * SHIFT_RIGHT8;\n    outlineColor.a = (temp - floor(temp)) * SHIFT_LEFT8;\n    outlineColor /= 255.0;\n    color.a = floor(temp);\n    color /= 255.0;\n\n    ///////////////////////////////////////////////////////////////////////////\n\n    vec4 p = czm_translateRelativeToEye(positionHigh, positionLow);\n    vec4 positionEC = czm_modelViewRelativeToEye * p;\n\n    ///////////////////////////////////////////////////////////////////////////\n\n#if defined(EYE_DISTANCE_SCALING) || defined(EYE_DISTANCE_TRANSLUCENCY) || defined(DISTANCE_DISPLAY_CONDITION) || defined(DISABLE_DEPTH_DISTANCE)\n    float lengthSq;\n    if (czm_sceneMode == czm_sceneMode2D)\n    {\n        // 2D camera distance is a special case\n        // treat all billboards as flattened to the z=0.0 plane\n        lengthSq = czm_eyeHeight2D.y;\n    }\n    else\n    {\n        lengthSq = dot(positionEC.xyz, positionEC.xyz);\n    }\n#endif\n\n#ifdef EYE_DISTANCE_SCALING\n    totalSize *= czm_nearFarScalar(scaleByDistance, lengthSq);\n#endif\n    // Clamp to max point size.\n    totalSize = min(totalSize, u_maxTotalPointSize);\n    // If size is too small, push vertex behind near plane for clipping.\n    // Note that context.minimumAliasedPointSize "will be at most 1.0".\n    if (totalSize < 1.0)\n    {\n        positionEC.xyz = vec3(0.0);\n        totalSize = 1.0;\n    }\n\n    float translucency = 1.0;\n#ifdef EYE_DISTANCE_TRANSLUCENCY\n    translucency = czm_nearFarScalar(translucencyByDistance, lengthSq);\n    // push vertex behind near plane for clipping\n    if (translucency < 0.004)\n    {\n        positionEC.xyz = vec3(0.0);\n    }\n#endif\n\n#ifdef DISTANCE_DISPLAY_CONDITION\n    float nearSq = distanceDisplayConditionAndDisableDepth.x;\n    float farSq = distanceDisplayConditionAndDisableDepth.y;\n    if (lengthSq < nearSq || lengthSq > farSq) {\n        // push vertex behind camera to force it to be clipped\n        positionEC.xyz = vec3(0.0, 0.0, 1.0);\n    }\n#endif\n\n    gl_Position = czm_projection * positionEC;\n    czm_vertexLogDepth();\n\n#ifdef DISABLE_DEPTH_DISTANCE\n    float disableDepthTestDistance = distanceDisplayConditionAndDisableDepth.z;\n    if (disableDepthTestDistance == 0.0 && czm_minimumDisableDepthTestDistance != 0.0)\n    {\n        disableDepthTestDistance = czm_minimumDisableDepthTestDistance;\n    }\n\n    if (disableDepthTestDistance != 0.0)\n    {\n        // Don\'t try to "multiply both sides" by w.  Greater/less-than comparisons won\'t work for negative values of w.\n        float zclip = gl_Position.z / gl_Position.w;\n        bool clipped = (zclip < -1.0 || zclip > 1.0);\n        if (!clipped && (disableDepthTestDistance < 0.0 || (lengthSq > 0.0 && lengthSq < disableDepthTestDistance)))\n        {\n            // Position z on the near plane.\n            gl_Position.z = -gl_Position.w;\n#ifdef LOG_DEPTH\n            czm_vertexLogDepth(vec4(czm_currentFrustum.x));\n#endif\n        }\n    }\n#endif\n\n    v_color = color;\n    v_color.a *= translucency * show;\n    v_outlineColor = outlineColor;\n    v_outlineColor.a *= translucency * show;\n\n    v_innerPercent = 1.0 - outlinePercent;\n    v_pixelDistance = 2.0 / totalSize;\n    gl_PointSize = totalSize * show;\n    gl_Position *= show;\n\n    v_pickColor = pickColor;\n}\n'},QhJM:function(e,t,i){"use strict";function n(e,t,i){var n=S;n.length=e;var a;if(t===i){for(a=0;a<e;a++)n[a]=t;return n}var r=i-t,o=r/e;for(a=0;a<e;a++){var s=t+a*o;n[a]=s}return n}function a(e,t,i,a,r,s,c,l){var u=a.scaleToGeodeticSurface(e,I),h=a.scaleToGeodeticSurface(t,R),d=v.numberOfPoints(e,t,i),f=a.cartesianToCartographic(u,j),p=a.cartesianToCartographic(h,P),m=n(d,r,s);M.setEndPoints(f,p);var g=M.surfaceDistance/d,_=l;f.height=r;var b=a.cartographicToCartesian(f,D);o.a.pack(b,c,_),_+=3;for(var y=1;y<d;y++){var O=M.interpolateUsingSurfaceDistance(y*g,P);O.height=m[y],b=a.cartographicToCartesian(O,D),o.a.pack(b,c,_),_+=3}return _}function r(e,t,i,a,r,s,c,l){var u=a.scaleToGeodeticSurface(e,I),h=a.scaleToGeodeticSurface(t,R),d=a.cartesianToCartographic(u,j),p=a.cartesianToCartographic(h,P),m=v.numberOfPointsRhumbLine(d,p,i),g=n(m,r,s);L.ellipsoid.equals(a)||(L=new f.a(void 0,void 0,a)),L.setEndPoints(d,p);var _=L.surfaceDistance/m,b=l;d.height=r;var y=a.cartographicToCartesian(d,D);o.a.pack(y,c,b),b+=3;for(var O=1;O<m;O++){var w=L.interpolateUsingSurfaceDistance(O*_,P);w.height=g[O],y=a.cartographicToCartesian(w,D),o.a.pack(y,c,b),b+=3}return b}var o=i("Jj+J"),s=i("I3GD"),c=i("5A4e"),l=i("xC6Q"),u=i("PzDm"),h=i("y6fO"),d=i("MWnf"),f=i("uZf/"),p=i("Myjj"),m=i("fq+p"),g=i("Xjii"),_=i("kRxM"),v={};v.numberOfPoints=function(e,t,i){var n=o.a.distance(e,t);return Math.ceil(n/i)},v.numberOfPointsRhumbLine=function(e,t,i){var n=Math.pow(e.longitude-t.longitude,2)+Math.pow(e.latitude-t.latitude,2);return Math.ceil(Math.sqrt(n/(i*i)))};var b=new s.a;v.extractHeights=function(e,t){for(var i=e.length,n=new Array(i),a=0;a<i;a++){var r=e[a];n[a]=t.cartesianToCartographic(r,b).height}return n};var y=new g.a,O=new o.a,w=new o.a,x=new _.a(o.a.UNIT_X,0),E=new o.a,T=new _.a(o.a.UNIT_X,0),A=new o.a,C=new o.a,S=[],j=new s.a,P=new s.a,D=new o.a,I=new o.a,R=new o.a,M=new d.a,L=new f.a;v.wrapLongitude=function(e,t){var i=[],n=[];if(Object(l.a)(e)&&e.length>0){t=Object(c.a)(t,g.a.IDENTITY);var a=g.a.inverseTransformation(t,y),r=g.a.multiplyByPoint(a,o.a.ZERO,O),s=o.a.normalize(g.a.multiplyByPointAsVector(a,o.a.UNIT_Y,w),w),u=_.a.fromPointNormal(r,s,x),h=o.a.normalize(g.a.multiplyByPointAsVector(a,o.a.UNIT_X,E),E),d=_.a.fromPointNormal(r,h,T),f=1;i.push(o.a.clone(e[0]));for(var m=i[0],v=e.length,b=1;b<v;++b){var S=e[b];if(_.a.getPointDistance(d,m)<0||_.a.getPointDistance(d,S)<0){var j=p.a.lineSegmentPlane(m,S,u,A);if(Object(l.a)(j)){var P=o.a.multiplyByScalar(s,5e-9,C);_.a.getPointDistance(u,m)<0&&o.a.negate(P,P),i.push(o.a.add(j,P,new o.a)),n.push(f+1),o.a.negate(P,P),i.push(o.a.add(j,P,new o.a)),f=1}}i.push(o.a.clone(e[b])),f++,m=S}n.push(f)}return{positions:i,lengths:n}},v.generateArc=function(e){Object(l.a)(e)||(e={});var t=e.positions;if(!Object(l.a)(t))throw new u.a("options.positions is required.");var i=t.length,n=Object(c.a)(e.ellipsoid,h.a.WGS84),r=Object(c.a)(e.height,0),s=Array.isArray(r);if(i<1)return[];if(1===i){var d=n.scaleToGeodeticSurface(t[0],I);if(0!==(r=s?r[0]:r)){var f=n.geodeticSurfaceNormal(d,D);o.a.multiplyByScalar(f,r,f),o.a.add(d,f,d)}return[d.x,d.y,d.z]}var p=e.minDistance;if(!Object(l.a)(p)){var g=Object(c.a)(e.granularity,m.a.RADIANS_PER_DEGREE);p=m.a.chordLength(g,n.maximumRadius)}var _,b=0;for(_=0;_<i-1;_++)b+=v.numberOfPoints(t[_],t[_+1],p);var y=3*(b+1),O=new Array(y),w=0;for(_=0;_<i-1;_++){w=a(t[_],t[_+1],p,n,s?r[_]:r,s?r[_+1]:r,O,w)}S.length=0;var x=t[i-1],E=n.cartesianToCartographic(x,j);E.height=s?r[i-1]:r;var T=n.cartographicToCartesian(E,D);return o.a.pack(T,O,y-3),O};var N=new s.a,F=new s.a;v.generateRhumbArc=function(e){Object(l.a)(e)||(e={});var t=e.positions;if(!Object(l.a)(t))throw new u.a("options.positions is required.");var i=t.length,n=Object(c.a)(e.ellipsoid,h.a.WGS84),a=Object(c.a)(e.height,0),d=Array.isArray(a);if(i<1)return[];if(1===i){var f=n.scaleToGeodeticSurface(t[0],I);if(0!==(a=d?a[0]:a)){var p=n.geodeticSurfaceNormal(f,D);o.a.multiplyByScalar(p,a,p),o.a.add(f,p,f)}return[f.x,f.y,f.z]}var g,_,b=Object(c.a)(e.granularity,m.a.RADIANS_PER_DEGREE),y=0,O=n.cartesianToCartographic(t[0],N);for(g=0;g<i-1;g++)_=n.cartesianToCartographic(t[g+1],F),y+=v.numberOfPointsRhumbLine(O,_,b),O=s.a.clone(_,N);var w=3*(y+1),x=new Array(w),E=0;for(g=0;g<i-1;g++){E=r(t[g],t[g+1],b,n,d?a[g]:a,d?a[g+1]:a,x,E)}S.length=0;var T=t[i-1],A=n.cartesianToCartographic(T,j);A.height=d?a[i-1]:a;var C=n.cartographicToCartesian(A,D);return o.a.pack(C,x,w-3),x},v.generateCartesianArc=function(e){for(var t=v.generateArc(e),i=t.length/3,n=new Array(i),a=0;a<i;a++)n[a]=o.a.unpack(t,3*a);return n},v.generateCartesianRhumbArc=function(e){for(var t=v.generateRhumbArc(e),i=t.length/3,n=new Array(i),a=0;a<i;a++)n[a]=o.a.unpack(t,3*a);return n},t.a=v},QpGe:function(e,t,i){"use strict";function n(e,t){this._position=void 0,this._subscription=void 0,this._definitionChanged=new c.a,this._normalize=Object(r.a)(t,!0),this.position=e}var a=i("Jj+J"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("W6xh"),l=i("9Uqs"),u=i("uhjI");Object.defineProperties(n.prototype,{isConstant:{get:function(){return u.a.isConstant(this._position)}},definitionChanged:{get:function(){return this._definitionChanged}},position:{get:function(){return this._position},set:function(e){var t=this._position;t!==e&&(Object(o.a)(t)&&this._subscription(),this._position=e,Object(o.a)(e)&&(this._subscription=e._definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this)},this)),this._definitionChanged.raiseEvent(this))}},normalize:{get:function(){return this._normalize},set:function(e){this._normalize!==e&&(this._normalize=e,this._definitionChanged.raiseEvent(this))}}});var h=new a.a,d=new a.a,f=new l.a;n.prototype.getValue=function(e,t){return this._getValue(e,t)},n.prototype._getValue=function(e,t,i){if(!Object(o.a)(e))throw new s.a("time is required");Object(o.a)(t)||(t=new a.a);var n=this._position;if(u.a.isConstant(n))return this._normalize?void 0:a.a.clone(a.a.ZERO,t);var r=n.getValue(e,h),c=n.getValue(l.a.addSeconds(e,1/60,f),d);if(Object(o.a)(r)&&(Object(o.a)(c)||(c=r,r=n.getValue(l.a.addSeconds(e,-1/60,f),d),Object(o.a)(r)))){if(a.a.equals(r,c))return this._normalize?void 0:a.a.clone(a.a.ZERO,t);Object(o.a)(i)&&r.clone(i);var p=a.a.subtract(c,r,t);return this._normalize?a.a.normalize(p,t):a.a.divideByScalar(p,1/60,t)}},n.prototype.equals=function(e){return this===e||e instanceof n&&u.a.equals(this._position,e._position)},t.a=n},"Qv/e":function(e,t,i){"use strict";var n={ADD:0,REPLACE:1};t.a=Object.freeze(n)},R4wc:function(e,t,i){var n=i("kM2E");n(n.S+n.F,"Object",{assign:i("To3L")})},R51h:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT),this._definitionChanged=new s.a,this._color=void 0,this._colorSubscription=void 0,this._gapColor=void 0,this._gapColorSubscription=void 0,this._dashLength=void 0,this._dashLengthSubscription=void 0,this._dashPattern=void 0,this._dashPatternSubscription=void 0,this.color=e.color,this.gapColor=e.gapColor,this.dashLength=e.dashLength,this.dashPattern=e.dashPattern}var a=i("6F0S"),r=i("5A4e"),o=i("xC6Q"),s=i("W6xh"),c=i("7687"),l=i("uhjI"),u=a.a.WHITE,h=a.a.TRANSPARENT;Object.defineProperties(n.prototype,{isConstant:{get:function(){return l.a.isConstant(this._color)&&l.a.isConstant(this._gapColor)&&l.a.isConstant(this._dashLength)&&l.a.isConstant(this._dashPattern)}},definitionChanged:{get:function(){return this._definitionChanged}},color:Object(c.a)("color"),gapColor:Object(c.a)("gapColor"),dashLength:Object(c.a)("dashLength"),dashPattern:Object(c.a)("dashPattern")}),n.prototype.getType=function(e){return"PolylineDash"},n.prototype.getValue=function(e,t){return Object(o.a)(t)||(t={}),t.color=l.a.getValueOrClonedDefault(this._color,e,u,t.color),t.gapColor=l.a.getValueOrClonedDefault(this._gapColor,e,h,t.gapColor),t.dashLength=l.a.getValueOrDefault(this._dashLength,e,16,t.dashLength),t.dashPattern=l.a.getValueOrDefault(this._dashPattern,e,255,t.dashPattern),t},n.prototype.equals=function(e){return this===e||e instanceof n&&l.a.equals(this._color,e._color)&&l.a.equals(this._gapColor,e._gapColor)&&l.a.equals(this._dashLength,e._dashLength)&&l.a.equals(this._dashPattern,e._dashPattern)},t.a=n},R5dd:function(e,t,i){"use strict";var n={UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,EXPIRED:4,FAILED:5};t.a=Object.freeze(n)},R9M2:function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},RGAo:function(e,t,i){"use strict";function n(e){e=Object(c.a)(e,c.a.EMPTY_OBJECT),s.a.typeOf.object("options.attributes",e.attributes),this.attributes=e.attributes,this.indices=e.indices,this.primitiveType=Object(c.a)(e.primitiveType,m.a.TRIANGLES),this.boundingSphere=e.boundingSphere,this.geometryType=Object(c.a)(e.geometryType,h.a.NONE),this.boundingSphereCV=e.boundingSphereCV,this.offsetAttribute=e.offsetAttribute}var a=i("Ss9j"),r=i("Jj+J"),o=i("I3GD"),s=i("5F4X"),c=i("5A4e"),l=i("xC6Q"),u=i("PzDm"),h=i("pLXb"),d=i("BvC/"),f=i("i3sv"),p=i("Xjii"),m=i("nHNe"),g=i("q/xW"),_=i("Wq1U"),v=i("g/FO");n.computeNumberOfVertices=function(e){s.a.typeOf.object("geometry",e);var t=-1;for(var i in e.attributes)if(e.attributes.hasOwnProperty(i)&&Object(l.a)(e.attributes[i])&&Object(l.a)(e.attributes[i].values)){var n=e.attributes[i],a=n.values.length/n.componentsPerAttribute;if(t!==a&&-1!==t)throw new u.a("All attribute lists must have the same number of attributes.");t=a}return t};var b=new o.a,y=new r.a,O=new p.a,w=[new o.a,new o.a,new o.a],x=[new a.a,new a.a,new a.a],E=[new a.a,new a.a,new a.a],T=new r.a,A=new g.a,C=new p.a,S=new d.a;n._textureCoordinateRotationPoints=function(e,t,i,n){var s,c=_.a.center(n,b),l=o.a.toCartesian(c,i,y),u=v.a.eastNorthUpToFixedFrame(l,i,O),h=p.a.inverse(u,O),m=x,j=w;j[0].longitude=n.west,j[0].latitude=n.south,j[1].longitude=n.west,j[1].latitude=n.north,j[2].longitude=n.east,j[2].latitude=n.south;var P=T;for(s=0;s<3;s++)o.a.toCartesian(j[s],i,P),P=p.a.multiplyByPointAsVector(h,P,P),m[s].x=P.x,m[s].y=P.y;var D=g.a.fromAxisAngle(r.a.UNIT_Z,-t,A),I=f.a.fromQuaternion(D,C),R=e.length,M=Number.POSITIVE_INFINITY,L=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,F=Number.NEGATIVE_INFINITY;for(s=0;s<R;s++)P=p.a.multiplyByPointAsVector(h,e[s],P),P=f.a.multiplyByVector(I,P,P),M=Math.min(M,P.x),L=Math.min(L,P.y),N=Math.max(N,P.x),F=Math.max(F,P.y);var z=d.a.fromRotation(t,S),B=E;B[0].x=M,B[0].y=L,B[1].x=M,B[1].y=F,B[2].x=N,B[2].y=L;var k=m[0],U=m[2].x-k.x,V=m[1].y-k.y;for(s=0;s<3;s++){var H=B[s];d.a.multiplyByVector(z,H,H),H.x=(H.x-k.x)/U,H.y=(H.y-k.y)/V}var q=B[0],W=B[1],G=B[2],Y=new Array(6);return a.a.pack(q,Y),a.a.pack(W,Y,2),a.a.pack(G,Y,4),Y},t.a=n},RSI9:function(e,t,i){"use strict";function n(e){var t;if(Object(s.a)(e)){t="Command Statistics";var i=e.commandsInFrustums;for(var n in i)if(i.hasOwnProperty(n)){var a,r=parseInt(n,10);if(7===r)a="1, 2 and 3";else{for(var o=[],c=2;c>=0;c--){var l=Math.pow(2,c);r>=l&&(o.push(c+1),r-=l)}a=o.reverse().join(" and ")}t+="<br>&nbsp;&nbsp;&nbsp;&nbsp;"+i[n]+" in frustum "+a}t+="<br>Total: "+e.totalCommands}return t}function a(e,t,i){var n=Math.min(i,t);return n=Math.max(n,e)}function r(e,t){function i(e){var t=r._scene.pick({x:e.position.x,y:e.position.y});Object(s.a)(t)&&(r.primitive=Object(s.a)(t.collection)?t.collection:t.primitive),r._scene.requestRender(),r.pickPrimitiveActive=!1}function n(e){var t,i=u.ellipsoid,n=r._scene.camera.getPickRay(e.position,b),a=u.pick(n,r._scene,y);if(Object(s.a)(a))for(var o=i.cartesianToCartographic(a),c=u._surface.tileProvider._tilesToRenderByTextureCount,l=0;!t&&l<c.length;++l){var d=c[l];if(Object(s.a)(d))for(var f=0;!t&&f<d.length;++f){var p=d[f];h.a.contains(p.rectangle,o)&&(t=p)}}r.tile=t,r.pickTileActive=!1}if(!Object(s.a)(e))throw new l.a("scene is required");if(!Object(s.a)(t))throw new l.a("performanceContainer is required");var r=this,o=e.canvas,c=new d.a(o);this._eventHandler=c,this._scene=e,this._canvas=o,this._primitive=void 0,this._tile=void 0,this._modelMatrixPrimitive=void 0,this._performanceDisplay=void 0,this._performanceContainer=t;var u=this._scene.globe;u.depthTestAgainstTerrain=!0,this.frustums=!1,this.frustumPlanes=!1,this.performance=!1,this.shaderCacheText="",this.primitiveBoundingSphere=!1,this.primitiveReferenceFrame=!1,this.filterPrimitive=!1,this.tileBoundingSphere=!1,this.filterTile=!1,this.wireframe=!1,this.globeDepth=!1,this.pickDepth=!1,this.depthFrustum=1,this._numberOfFrustums=1,this.suspendUpdates=!1,this.tileCoordinates=!1,this.frustumStatisticText=!1,this.tileText="",this.hasPickedPrimitive=!1,this.hasPickedTile=!1,this.pickPrimitiveActive=!1,this.pickTileActive=!1,this.dropDownVisible=!0,this.generalVisible=!0,this.primitivesVisible=!1,this.terrainVisible=!1,this.depthFrustumText="",_.a.track(this,["frustums","frustumPlanes","performance","shaderCacheText","primitiveBoundingSphere","primitiveReferenceFrame","filterPrimitive","tileBoundingSphere","filterTile","wireframe","globeDepth","pickDepth","depthFrustum","suspendUpdates","tileCoordinates","frustumStatisticText","tileText","hasPickedPrimitive","hasPickedTile","pickPrimitiveActive","pickTileActive","dropDownVisible","generalVisible","primitivesVisible","terrainVisible","depthFrustumText"]),this._toggleDropDown=Object(v.a)(function(){r.dropDownVisible=!r.dropDownVisible}),this._toggleGeneral=Object(v.a)(function(){r.generalVisible=!r.generalVisible}),this._togglePrimitives=Object(v.a)(function(){r.primitivesVisible=!r.primitivesVisible}),this._toggleTerrain=Object(v.a)(function(){r.terrainVisible=!r.terrainVisible}),this._frustumsSubscription=_.a.getObservable(this,"frustums").subscribe(function(e){r._scene.debugShowFrustums=e,r._scene.requestRender()}),this._frustumPlanesSubscription=_.a.getObservable(this,"frustumPlanes").subscribe(function(e){r._scene.debugShowFrustumPlanes=e,r._scene.requestRender()}),this._performanceSubscription=_.a.getObservable(this,"performance").subscribe(function(e){e?r._performanceDisplay=new m.a({container:r._performanceContainer}):r._performanceContainer.innerHTML=""}),this._showPrimitiveBoundingSphere=Object(v.a)(function(){return r._primitive.debugShowBoundingVolume=r.primitiveBoundingSphere,r._scene.requestRender(),!0}),this._primitiveBoundingSphereSubscription=_.a.getObservable(this,"primitiveBoundingSphere").subscribe(function(){r._showPrimitiveBoundingSphere()}),this._showPrimitiveReferenceFrame=Object(v.a)(function(){if(r.primitiveReferenceFrame){var e=r._primitive.modelMatrix;r._modelMatrixPrimitive=new p.a({modelMatrix:e}),r._scene.primitives.add(r._modelMatrixPrimitive)}else Object(s.a)(r._modelMatrixPrimitive)&&(r._scene.primitives.remove(r._modelMatrixPrimitive),r._modelMatrixPrimitive=void 0);return r._scene.requestRender(),!0}),this._primitiveReferenceFrameSubscription=_.a.getObservable(this,"primitiveReferenceFrame").subscribe(function(){r._showPrimitiveReferenceFrame()}),this._doFilterPrimitive=Object(v.a)(function(){return r.filterPrimitive?r._scene.debugCommandFilter=function(e){return!(!Object(s.a)(r._modelMatrixPrimitive)||e.owner!==r._modelMatrixPrimitive._primitive)||!!Object(s.a)(r._primitive)&&(e.owner===r._primitive||e.owner===r._primitive._billboardCollection||e.owner.primitive===r._primitive)}:r._scene.debugCommandFilter=void 0,!0}),this._filterPrimitiveSubscription=_.a.getObservable(this,"filterPrimitive").subscribe(function(){r._doFilterPrimitive(),r._scene.requestRender()}),this._wireframeSubscription=_.a.getObservable(this,"wireframe").subscribe(function(e){u._surface.tileProvider._debug.wireframe=e,r._scene.requestRender()}),this._globeDepthSubscription=_.a.getObservable(this,"globeDepth").subscribe(function(e){r._scene.debugShowGlobeDepth=e,r._scene.requestRender()}),this._pickDepthSubscription=_.a.getObservable(this,"pickDepth").subscribe(function(e){r._scene.debugShowPickDepth=e,r._scene.requestRender()}),this._depthFrustumSubscription=_.a.getObservable(this,"depthFrustum").subscribe(function(e){r._scene.debugShowDepthFrustum=e,r._scene.requestRender()}),this._incrementDepthFrustum=Object(v.a)(function(){var e=r.depthFrustum+1;return r.depthFrustum=a(1,r._numberOfFrustums,e),r._scene.requestRender(),!0}),this._decrementDepthFrustum=Object(v.a)(function(){var e=r.depthFrustum-1;return r.depthFrustum=a(1,r._numberOfFrustums,e),r._scene.requestRender(),!0}),this._suspendUpdatesSubscription=_.a.getObservable(this,"suspendUpdates").subscribe(function(e){u._surface._debug.suspendLodUpdate=e,e||(r.filterTile=!1)});var O;this._showTileCoordinates=Object(v.a)(function(){return r.tileCoordinates&&!Object(s.a)(O)?O=e.imageryLayers.addImageryProvider(new g.a({tilingScheme:e.terrainProvider.tilingScheme})):!r.tileCoordinates&&Object(s.a)(O)&&(e.imageryLayers.remove(O),O=void 0),!0}),this._tileCoordinatesSubscription=_.a.getObservable(this,"tileCoordinates").subscribe(function(){r._showTileCoordinates(),r._scene.requestRender()}),this._tileBoundingSphereSubscription=_.a.getObservable(this,"tileBoundingSphere").subscribe(function(){r._showTileBoundingSphere(),r._scene.requestRender()}),this._showTileBoundingSphere=Object(v.a)(function(){return r.tileBoundingSphere?u._surface.tileProvider._debug.boundingSphereTile=r._tile:u._surface.tileProvider._debug.boundingSphereTile=void 0,r._scene.requestRender(),!0}),this._doFilterTile=Object(v.a)(function(){return r.filterTile?(r.suspendUpdates=!0,u._surface._tilesToRender=[],Object(s.a)(r._tile)&&r._tile.renderable&&u._surface._tilesToRender.push(r._tile)):r.suspendUpdates=!1,!0}),this._filterTileSubscription=_.a.getObservable(this,"filterTile").subscribe(function(){r.doFilterTile(),r._scene.requestRender()}),this._pickPrimitive=Object(v.a)(function(){r.pickPrimitiveActive=!r.pickPrimitiveActive}),this._pickPrimitiveActiveSubscription=_.a.getObservable(this,"pickPrimitiveActive").subscribe(function(e){e?c.setInputAction(i,f.a.LEFT_CLICK):c.removeInputAction(f.a.LEFT_CLICK)}),this._pickTile=Object(v.a)(function(){r.pickTileActive=!r.pickTileActive}),this._pickTileActiveSubscription=_.a.getObservable(this,"pickTileActive").subscribe(function(e){e?c.setInputAction(n,f.a.LEFT_CLICK):c.removeInputAction(f.a.LEFT_CLICK)}),this._removePostRenderEvent=e.postRender.addEventListener(function(){r._update()})}var o=i("Jj+J"),s=i("xC6Q"),c=i("6sr8"),l=i("PzDm"),u=i("/++d"),h=i("Wq1U"),d=i("UkUD"),f=i("szK2"),p=i("FB01"),m=i("/Yk1"),g=i("Bhjd"),_=i("PKIF"),v=i("E9RU"),b=new u.a,y=new o.a;Object.defineProperties(r.prototype,{scene:{get:function(){return this._scene}},performanceContainer:{get:function(){return this._performanceContainer}},toggleDropDown:{get:function(){return this._toggleDropDown}},showPrimitiveBoundingSphere:{get:function(){return this._showPrimitiveBoundingSphere}},showPrimitiveReferenceFrame:{get:function(){return this._showPrimitiveReferenceFrame}},doFilterPrimitive:{get:function(){return this._doFilterPrimitive}},incrementDepthFrustum:{get:function(){return this._incrementDepthFrustum}},decrementDepthFrustum:{get:function(){return this._decrementDepthFrustum}},showTileCoordinates:{get:function(){return this._showTileCoordinates}},showTileBoundingSphere:{get:function(){return this._showTileBoundingSphere}},doFilterTile:{get:function(){return this._doFilterTile}},toggleGeneral:{get:function(){return this._toggleGeneral}},togglePrimitives:{get:function(){return this._togglePrimitives}},toggleTerrain:{get:function(){return this._toggleTerrain}},pickPrimitive:{get:function(){return this._pickPrimitive}},pickTile:{get:function(){return this._pickTile}},selectParent:{get:function(){var e=this;return Object(v.a)(function(){e.tile=e.tile.parent})}},selectNW:{get:function(){var e=this;return Object(v.a)(function(){e.tile=e.tile.northwestChild})}},selectNE:{get:function(){var e=this;return Object(v.a)(function(){e.tile=e.tile.northeastChild})}},selectSW:{get:function(){var e=this;return Object(v.a)(function(){e.tile=e.tile.southwestChild})}},selectSE:{get:function(){var e=this;return Object(v.a)(function(){e.tile=e.tile.southeastChild})}},primitive:{get:function(){return this._primitive},set:function(e){var t=this._primitive;e!==t&&(this.hasPickedPrimitive=!0,Object(s.a)(t)&&(t.debugShowBoundingVolume=!1),this._scene.debugCommandFilter=void 0,Object(s.a)(this._modelMatrixPrimitive)&&(this._scene.primitives.remove(this._modelMatrixPrimitive),this._modelMatrixPrimitive=void 0),this._primitive=e,e.show=!1,setTimeout(function(){e.show=!0},50),this.showPrimitiveBoundingSphere(),this.showPrimitiveReferenceFrame(),this.doFilterPrimitive())}},tile:{get:function(){return this._tile},set:function(e){if(Object(s.a)(e)){this.hasPickedTile=!0;if(e!==this._tile){this.tileText="L: "+e.level+" X: "+e.x+" Y: "+e.y,this.tileText+="<br>SW corner: "+e.rectangle.west+", "+e.rectangle.south,this.tileText+="<br>NE corner: "+e.rectangle.east+", "+e.rectangle.north;var t=e.data;Object(s.a)(t)&&Object(s.a)(t.tileBoundingRegion)?this.tileText+="<br>Min: "+t.tileBoundingRegion.minimumHeight+" Max: "+t.tileBoundingRegion.maximumHeight:this.tileText+="<br>(Tile is not loaded)"}this._tile=e,this.showTileBoundingSphere(),this.doFilterTile()}else this.hasPickedTile=!1,this._tile=void 0}}}),r.prototype._update=function(){this.frustums&&(this.frustumStatisticText=n(this._scene.debugFrustumStatistics));var e=this._scene.numberOfFrustums;this._numberOfFrustums=e,this.depthFrustum=a(1,e,this.depthFrustum),this.depthFrustumText=this.depthFrustum+" of "+e,this.performance&&this._performanceDisplay.update(),this.primitiveReferenceFrame&&(this._modelMatrixPrimitive.modelMatrix=this._primitive.modelMatrix),this.shaderCacheText="Cached shaders: "+this._scene.context.shaderCache.numberOfShaders},r.prototype.isDestroyed=function(){return!1},r.prototype.destroy=function(){return this._eventHandler.destroy(),this._removePostRenderEvent(),this._frustumsSubscription.dispose(),this._frustumPlanesSubscription.dispose(),this._performanceSubscription.dispose(),this._primitiveBoundingSphereSubscription.dispose(),this._primitiveReferenceFrameSubscription.dispose(),this._filterPrimitiveSubscription.dispose(),this._wireframeSubscription.dispose(),this._globeDepthSubscription.dispose(),this._pickDepthSubscription.dispose(),this._depthFrustumSubscription.dispose(),this._suspendUpdatesSubscription.dispose(),this._tileCoordinatesSubscription.dispose(),this._tileBoundingSphereSubscription.dispose(),this._filterTileSubscription.dispose(),this._pickPrimitiveActiveSubscription.dispose(),this._pickTileActiveSubscription.dispose(),Object(c.a)(this)},t.a=r},RWMz:function(e,t,i){"use strict";function n(e){o.a.defined("resourceOrUrlOrBuffer",e);var t;if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))t=r.a.resolve(e);else{t=u.a.createIfNeeded(e).fetchArrayBuffer()}if(Object(c.a)(t))return t.then(function(e){if(Object(c.a)(e))return a(e)})}function a(e){var t,i=new Uint8Array(e),n=!0;for(t=0;t<f.length;++t)if(f[t]!==i[t]){n=!1;break}if(!n)throw new h.a("Invalid KTX file.");var a,r;Object(c.a)(e.buffer)?(a=new DataView(e.buffer),r=e.byteOffset):(a=new DataView(e),r=0),r+=12;var o=a.getUint32(r,!0);if(r+=g,o!==p)throw new h.a("File is the wrong endianness.");var u=a.getUint32(r,!0);r+=g;var _=a.getUint32(r,!0);r+=g;var v=a.getUint32(r,!0);r+=g;var b=a.getUint32(r,!0);r+=g;var y=a.getUint32(r,!0);r+=g;var O=a.getUint32(r,!0);r+=g;var w=a.getUint32(r,!0);r+=g;var x=a.getUint32(r,!0);r+=g;var E=a.getUint32(r,!0);r+=g;var T=a.getUint32(r,!0);r+=g;var A=a.getUint32(r,!0);r+=g;var C=a.getUint32(r,!0);r+=g,r+=C;var S=a.getUint32(r,!0);r+=g;var j;if(j=Object(c.a)(e.buffer)?new Uint8Array(e.buffer,r,S):new Uint8Array(e,r,S),b===d.a.RGB8?b=l.a.RGB:b===d.a.RGBA8&&(b=l.a.RGBA),!l.a.validate(b))throw new h.a("glInternalFormat is not a valid format.");if(l.a.isCompressedFormat(b)){if(0!==u)throw new h.a("glType must be zero when the texture is compressed.");if(1!==_)throw new h.a("The type size for compressed textures must be 1.");if(0!==v)throw new h.a("glFormat must be zero when the texture is compressed.")}else{if(u!==d.a.UNSIGNED_BYTE)throw new h.a("Only unsigned byte buffers are supported.");if(y!==v)throw new h.a("The base internal format must be the same as the format for uncompressed textures.")}if(0!==x)throw new h.a("3D textures are unsupported.");if(0!==E)throw new h.a("Texture arrays are unsupported.");var P=j.byteOffset,D=new Array(A);for(t=0;t<A;++t){for(var I=D[t]={},R=0;R<T;++R){var M=O>>t,L=w>>t,N=l.a.isCompressedFormat(b)?l.a.compressedTextureSizeInBytes(b,M,L):l.a.textureSizeInBytes(b,u,M,L),F=new Uint8Array(j.buffer,P,N);I[m[R]]=new s.a(b,M,L,F),P+=N}P+=3-(P+3)%4+4}var z=D;if(1===T)for(t=0;t<A;++t)z[t]=z[t][m[0]];return 1===A&&(z=z[0]),z}var r=i("S7OP"),o=i("5F4X"),s=i("MNi1"),c=i("xC6Q"),l=i("FhYh"),u=i("rMjQ"),h=i("V22k"),d=i("1L1F"),f=[171,75,84,88,32,49,49,187,13,10,26,10],p=67305985,m=["positiveX","negativeX","positiveY","negativeY","positiveZ","negativeZ"],g=4;t.a=n},RYD3:function(e,t,i){"use strict";function n(e){if(e=Object(a.a)(e,a.a.EMPTY_OBJECT),!Object(r.a)(e.componentDatatype))throw new o.a("options.componentDatatype is required.");if(!Object(r.a)(e.componentsPerAttribute))throw new o.a("options.componentsPerAttribute is required.");if(e.componentsPerAttribute<1||e.componentsPerAttribute>4)throw new o.a("options.componentsPerAttribute must be between 1 and 4.");if(!Object(r.a)(e.values))throw new o.a("options.values is required.");this.componentDatatype=e.componentDatatype,this.componentsPerAttribute=e.componentsPerAttribute,this.normalize=Object(a.a)(e.normalize,!1),this.values=e.values}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm");t.a=n},RbQZ:function(e,t,i){"use strict";function n(e){return new l.a(e)}function a(e,t){var i=e._propertyNames,n=t._propertyNames,a=i.length;if(a!==n.length)return!1;for(var r=0;r<a;++r){var o=i[r];if(-1===n.indexOf(o))return!1;if(!h.a.equals(e[o],t[o]))return!1}return!0}var r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("W6xh"),l=i("53NE"),u=i("7687"),h=i("uhjI"),d=function(e,t){this._propertyNames=[],this._definitionChanged=new c.a,Object(o.a)(e)&&this.merge(e,t)};Object.defineProperties(d.prototype,{propertyNames:{get:function(){return this._propertyNames}},isConstant:{get:function(){for(var e=this._propertyNames,t=0,i=e.length;t<i;t++)if(!h.a.isConstant(this[e[t]]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}}}),d.prototype.hasProperty=function(e){return-1!==this._propertyNames.indexOf(e)},d.prototype.addProperty=function(e,t,i){var a=this._propertyNames;if(!Object(o.a)(e))throw new s.a("propertyName is required.");if(-1!==a.indexOf(e))throw new s.a(e+" is already a registered property.");a.push(e),Object.defineProperty(this,e,Object(u.a)(e,!0,Object(r.a)(i,n))),Object(o.a)(t)&&(this[e]=t),this._definitionChanged.raiseEvent(this)},d.prototype.removeProperty=function(e){var t=this._propertyNames,i=t.indexOf(e);if(!Object(o.a)(e))throw new s.a("propertyName is required.");if(-1===i)throw new s.a(e+" is not a registered property.");this._propertyNames.splice(i,1),delete this[e],this._definitionChanged.raiseEvent(this)},d.prototype.getValue=function(e,t){if(!Object(o.a)(e))throw new s.a("time is required.");Object(o.a)(t)||(t={});for(var i=this._propertyNames,n=0,a=i.length;n<a;n++){var r=i[n];t[r]=h.a.getValueOrUndefined(this[r],e,t[r])}return t},d.prototype.merge=function(e,t){if(!Object(o.a)(e))throw new s.a("source is required.");for(var i=this._propertyNames,n=Object(o.a)(e._propertyNames)?e._propertyNames:Object.keys(e),a=0,r=n.length;a<r;a++){var c=n[a],l=this[c],u=e[c];void 0===l&&-1===i.indexOf(c)&&this.addProperty(c,void 0,t),void 0!==u&&(void 0!==l?Object(o.a)(l)&&Object(o.a)(l.merge)&&l.merge(u):Object(o.a)(u)&&Object(o.a)(u.merge)&&Object(o.a)(u.clone)?this[c]=u.clone():this[c]=u)}},d.prototype.equals=function(e){return this===e||e instanceof d&&a(this,e)},t.a=d},Rlfl:function(e,t,i){"use strict";function n(e){o.a.typeOf.object("options",e),o.a.typeOf.object("options.scene",e.scene),o.a.typeOf.object("options.dataSourceCollection",e.dataSourceCollection),d.a.initializeTerrainHeights(),h.a.initializeTerrainHeights();var t=e.scene,i=e.dataSourceCollection;this._eventHelper=new u.a,this._eventHelper.add(i.dataSourceAdded,this._onDataSourceAdded,this),this._eventHelper.add(i.dataSourceRemoved,this._onDataSourceRemoved,this),this._eventHelper.add(i.dataSourceMoved,this._onDataSourceMoved,this),this._eventHelper.add(t.postRender,this._postRender,this),this._dataSourceCollection=i,this._scene=t,this._visualizersCallback=Object(s.a)(e.visualizersCallback,n.defaultVisualizersCallback);var a=!1,r=new p.a,c=new p.a;i.length>0&&(t.primitives.add(r),t.groundPrimitives.add(c),a=!0),this._primitives=r,this._groundPrimitives=c;for(var l=0,f=i.length;l<f;l++)this._onDataSourceAdded(i,i.get(l));var m=new _.a;this._onDataSourceAdded(void 0,m),this._defaultDataSource=m;var g,v;if(!a){var b=this,y=function(){t.primitives.add(r),t.groundPrimitives.add(c),g(),v(),b._removeDefaultDataSourceListener=void 0,b._removeDataSourceCollectionListener=void 0};g=m.entities.collectionChanged.addEventListener(y),v=i.dataSourceAdded.addEventListener(y)}this._removeDefaultDataSourceListener=g,this._removeDataSourceCollectionListener=v,this._ready=!1}var a=i("DPkk"),r=i("lBr9"),o=i("5F4X"),s=i("5A4e"),c=i("xC6Q"),l=i("6sr8"),u=i("HMO3"),h=i("u/r6"),d=i("zGMv"),f=i("loHl"),p=i("ebOZ"),m=i("Ao2p"),g=i("P+tD"),_=i("FBxm"),v=i("dYlf"),b=i("1FwE"),y=i("fsSI"),O=i("0afR"),w=i("eBEn"),x=i("KwwP"),E=i("Z2Pl");n.defaultVisualizersCallback=function(e,t,i){var n=i.entities;return[new m.a(t,n),new v.a(e,n,i._primitives,i._groundPrimitives),new b.a(t,n),new y.a(e,n),new O.a(e,n),new x.a(t,n),new w.a(e,n),new E.a(e,n,i._primitives,i._groundPrimitives)]},Object.defineProperties(n.prototype,{scene:{get:function(){return this._scene}},dataSources:{get:function(){return this._dataSourceCollection}},defaultDataSource:{get:function(){return this._defaultDataSource}},ready:{get:function(){return this._ready}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){this._eventHelper.removeAll();for(var e=this._dataSourceCollection,t=0,i=e.length;t<i;++t)this._onDataSourceRemoved(this._dataSourceCollection,e.get(t));return this._onDataSourceRemoved(void 0,this._defaultDataSource),Object(c.a)(this._removeDefaultDataSourceListener)?(this._removeDefaultDataSourceListener(),this._removeDataSourceCollectionListener()):(this._scene.primitives.remove(this._primitives),this._scene.groundPrimitives.remove(this._groundPrimitives)),Object(l.a)(this)},n.prototype.update=function(e){if(o.a.defined("time",e),!a.a.initialized)return this._ready=!1,!1;var t,i,n,r,s=!0,l=this._dataSourceCollection,u=l.length;for(t=0;t<u;t++){var h=l.get(t);for(Object(c.a)(h.update)&&(s=h.update(e)&&s),n=h._visualizers,r=n.length,i=0;i<r;i++)s=n[i].update(e)&&s}for(n=this._defaultDataSource._visualizers,r=n.length,i=0;i<r;i++)s=n[i].update(e)&&s;return this._ready=s,s},n.prototype._postRender=function(){for(var e=this._scene.frameState,t=this._dataSourceCollection,i=t.length,n=0;n<i;n++){var a=t.get(n),r=a.credit;Object(c.a)(r)&&e.creditDisplay.addCredit(r);var o=a._resourceCredits;if(Object(c.a)(o))for(var s=o.length,l=0;l<s;l++)e.creditDisplay.addCredit(o[l])}};var T=[],A=new r.a;n.prototype.getBoundingSphere=function(e,t,i){if(o.a.defined("entity",e),o.a.typeOf.bool("allowPartial",t),o.a.defined("result",i),!this._ready)return g.a.PENDING;var n,a,s=this._defaultDataSource;if(!s.entities.contains(e)){s=void 0;var l=this._dataSourceCollection;for(a=l.length,n=0;n<a;n++){var u=l.get(n);if(u.entities.contains(e)){s=u;break}}}if(!Object(c.a)(s))return g.a.FAILED;var h=T,d=A,f=0,p=g.a.DONE,m=s._visualizers,_=m.length;for(n=0;n<_;n++){var v=m[n];if(Object(c.a)(v.getBoundingSphere)){if(p=m[n].getBoundingSphere(e,d),!t&&p===g.a.PENDING)return g.a.PENDING;p===g.a.DONE&&(h[f]=r.a.clone(d,h[f]),f++)}}return 0===f?g.a.FAILED:(h.length=f,r.a.fromBoundingSpheres(h,i),g.a.DONE)},n.prototype._onDataSourceAdded=function(e,t){var i=this._scene,n=this._primitives,a=this._groundPrimitives,r=n.add(new p.a),o=a.add(new f.a);t._primitives=r,t._groundPrimitives=o;var s=t.clustering;s._initialize(i),r.add(s),t._visualizers=this._visualizersCallback(i,s,t)},n.prototype._onDataSourceRemoved=function(e,t){var i=this._primitives,n=this._groundPrimitives,a=t._primitives,r=t._groundPrimitives,o=t.clustering;a.remove(o);for(var s=t._visualizers,c=s.length,l=0;l<c;l++)s[l].destroy();i.remove(a),n.remove(r),t._visualizers=void 0},n.prototype._onDataSourceMoved=function(e,t,i){var n=this._primitives,a=this._groundPrimitives,r=e._primitives,o=e._groundPrimitives;t===i+1?(n.raise(r),a.raise(o)):t===i-1?(n.lower(r),a.lower(o)):0===t?(n.lowerToBottom(r),a.lowerToBottom(o),n.raise(r),a.raise(o)):(n.raiseToTop(r),a.raiseToTop(o))},t.a=n},RmbG:function(e,t,i){"use strict";function n(e){this._definitionChanged=new o.a,this._color=void 0,this._colorSubscription=void 0,this.color=e}var a=i("6F0S"),r=i("xC6Q"),o=i("W6xh"),s=i("7687"),c=i("uhjI");Object.defineProperties(n.prototype,{isConstant:{get:function(){return c.a.isConstant(this._color)}},definitionChanged:{get:function(){return this._definitionChanged}},color:Object(s.a)("color")}),n.prototype.getType=function(e){return"PolylineArrow"},n.prototype.getValue=function(e,t){return Object(r.a)(t)||(t={}),t.color=c.a.getValueOrClonedDefault(this._color,e,a.a.WHITE,t.color),t},n.prototype.equals=function(e){return this===e||e instanceof n&&c.a.equals(this._color,e._color)},t.a=n},Rpsb:function(e,t,i){"use strict";function n(){}function a(e,t){var i=e.shaderCache.getDerivedShaderProgram(t,"depthOnly");if(!Object(u.a)(i)){var n,a=t._attributeLocations,r=t.fragmentShaderSource,o=!1,s=r.sources,c=s.length;for(n=0;n<c;++n)if(p.test(s[n])||m.test(s[n])){o=!0;break}var l=!1,h=r.defines;for(c=h.length,n=0;n<c;++n)if("LOG_DEPTH"===h[n]){l=!0;break}var d;o||l?!o&&l&&(d="#ifdef GL_EXT_frag_depth \n#extension GL_EXT_frag_depth : enable \n#endif \n\nvoid main() \n{ \n    gl_FragColor = vec4(1.0); \n    czm_writeLogDepth(); \n} \n",r=new f.a({defines:["LOG_DEPTH"],sources:[d]})):(d="void main() \n{ \n    gl_FragColor = vec4(1.0); \n} \n",r=new f.a({sources:[d]})),i=e.shaderCache.createDerivedShaderProgram(t,"depthOnly",{vertexShaderSource:t.vertexShaderSource,fragmentShaderSource:r,attributeLocations:a})}return i}function r(e,t){var i=e._depthOnlyRenderStateCache,n=i[t.id];if(!Object(u.a)(n)){var a=d.a.getState(t);a.depthMask=!0,a.colorMask={red:!1,green:!1,blue:!1,alpha:!1},n=d.a.fromCache(a),i[t.id]=n}return n}function o(e,t){var i=e.shaderCache.getDerivedShaderProgram(t,"logDepth");if(!Object(u.a)(i)){var n=t._attributeLocations,a=t.vertexShaderSource.clone(),r=t.fragmentShaderSource.clone();a.defines=Object(u.a)(a.defines)?a.defines.slice(0):[],a.defines.push("LOG_DEPTH"),r.defines=Object(u.a)(r.defines)?r.defines.slice(0):[],r.defines.push("LOG_DEPTH");var o,s,c=!1,l=a.sources,h=l.length;for(o=0;o<h;++o)if(_.test(l[o])){c=!0;break}if(!c){for(o=0;o<h;++o)l[o]=f.a.replaceMain(l[o],"czm_log_depth_main");s="\n\nvoid main() \n{ \n    czm_log_depth_main(); \n    czm_vertexLogDepth(); \n} \n",l.push(s)}var d=!0;for(c=!1,l=r.sources,h=l.length,o=0;o<h;++o)g.test(l[o])&&(c=!0),v.test(l[o])&&(d=!1);var p="";if(d&&(p+="#ifdef GL_EXT_frag_depth \n#extension GL_EXT_frag_depth : enable \n#endif \n\n"),!c){for(o=0;o<h;o++)l[o]=f.a.replaceMain(l[o],"czm_log_depth_main");p+="\nvoid main() \n{ \n    czm_log_depth_main(); \n    czm_writeLogDepth(); \n} \n"}l.push(p),i=e.shaderCache.createDerivedShaderProgram(t,"logDepth",{vertexShaderSource:a,fragmentShaderSource:r,attributeLocations:n})}return i}function s(e,t,i){var n=e.shaderCache.getDerivedShaderProgram(t,"pick");if(!Object(u.a)(n)){for(var a=t._attributeLocations,r=t.fragmentShaderSource,o=r.sources,s=o.length,c="void main() \n{ \n    czm_non_pick_main(); \n    if (gl_FragColor.a == 0.0) { \n        discard; \n    } \n    gl_FragColor = "+i+"; \n} \n",l=new Array(s+1),h=0;h<s;++h)l[h]=f.a.replaceMain(o[h],"czm_non_pick_main");l[s]=c,r=new f.a({sources:l,defines:r.defines}),n=e.shaderCache.createDerivedShaderProgram(t,"pick",{vertexShaderSource:t.vertexShaderSource,fragmentShaderSource:r,attributeLocations:a})}return n}function c(e,t){var i=e.picking.pickRenderStateCache,n=i[t.id];if(!Object(u.a)(n)){var a=d.a.getState(t);a.blending.enabled=!1,a.depthMask=!0,n=d.a.fromCache(a),i[t.id]=n}return n}function l(e,t){var i=e.shaderCache.getDerivedShaderProgram(t,"HDR");if(!Object(u.a)(i)){var n=t._attributeLocations,a=t.vertexShaderSource.clone(),r=t.fragmentShaderSource.clone();a.defines=Object(u.a)(a.defines)?a.defines.slice(0):[],a.defines.push("HDR"),r.defines=Object(u.a)(r.defines)?r.defines.slice(0):[],r.defines.push("HDR"),i=e.shaderCache.createDerivedShaderProgram(t,"HDR",{vertexShaderSource:a,fragmentShaderSource:r,attributeLocations:n})}return i}var u=i("xC6Q"),h=i("1mJh"),d=i("DrvA"),f=i("x6Ms"),p=/\bgl_FragDepthEXT\b/,m=/\bdiscard\b/;n.createDepthOnlyDerivedCommand=function(e,t,i,n){Object(u.a)(n)||(n={});var o,s;return Object(u.a)(n.depthOnlyCommand)&&(o=n.depthOnlyCommand.shaderProgram,s=n.depthOnlyCommand.renderState),n.depthOnlyCommand=h.a.shallowClone(t,n.depthOnlyCommand),Object(u.a)(o)&&n.shaderProgramId===t.shaderProgram.id?(n.depthOnlyCommand.shaderProgram=o,n.depthOnlyCommand.renderState=s):(n.depthOnlyCommand.shaderProgram=a(i,t.shaderProgram),n.depthOnlyCommand.renderState=r(e,t.renderState),n.shaderProgramId=t.shaderProgram.id),n};var g=/\s+czm_writeLogDepth\(/,_=/\s+czm_vertexLogDepth\(/,v=/\s*#extension\s+GL_EXT_frag_depth\s*:\s*enable/;n.createLogDepthCommand=function(e,t,i){Object(u.a)(i)||(i={});var n;return Object(u.a)(i.command)&&(n=i.command.shaderProgram),i.command=h.a.shallowClone(e,i.command),Object(u.a)(n)&&i.shaderProgramId===e.shaderProgram.id?i.command.shaderProgram=n:(i.command.shaderProgram=o(t,e.shaderProgram),i.shaderProgramId=e.shaderProgram.id),i},n.createPickDerivedCommand=function(e,t,i,n){Object(u.a)(n)||(n={});var a,r;return Object(u.a)(n.pickCommand)&&(a=n.pickCommand.shaderProgram,r=n.pickCommand.renderState),n.pickCommand=h.a.shallowClone(t,n.pickCommand),Object(u.a)(a)&&n.shaderProgramId===t.shaderProgram.id?(n.pickCommand.shaderProgram=a,n.pickCommand.renderState=r):(n.pickCommand.shaderProgram=s(i,t.shaderProgram,t.pickId),n.pickCommand.renderState=c(e,t.renderState),n.shaderProgramId=t.shaderProgram.id),n},n.createHdrCommand=function(e,t,i){Object(u.a)(i)||(i={});var n;return Object(u.a)(i.command)&&(n=i.command.shaderProgram),i.command=h.a.shallowClone(e,i.command),Object(u.a)(n)&&i.shaderProgramId===e.shaderProgram.id?i.command.shaderProgram=n:(i.command.shaderProgram=l(t,e.shaderProgram),i.shaderProgramId=e.shaderProgram.id),i},t.a=n},Rr9o:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT),this._clock=void 0,this._element=void 0,this._clockSubscription=void 0,this._seekFunction=void 0,this._lastPlaybackRate=void 0,this.clock=e.clock,this.element=e.element,this.epoch=Object(r.a)(e.epoch,c.a.MINIMUM_VALUE),this.tolerance=Object(r.a)(e.tolerance,1),this._seeking=!1,this._seekFunction=void 0,this._firstTickAfterSeek=!1}function a(e){return function(){e._seeking=!1,e._firstTickAfterSeek=!0}}var r=i("5A4e"),o=i("xC6Q"),s=i("6sr8"),c=i("DsDe"),l=i("9Uqs");Object.defineProperties(n.prototype,{clock:{get:function(){return this._clock},set:function(e){var t=this._clock;t!==e&&(Object(o.a)(t)&&(this._clockSubscription(),this._clockSubscription=void 0),Object(o.a)(e)&&(this._clockSubscription=e.onTick.addEventListener(n.prototype._onTick,this)),this._clock=e)}},element:{get:function(){return this._element},set:function(e){var t=this._element;t!==e&&(Object(o.a)(t)&&t.removeEventListener("seeked",this._seekFunction,!1),Object(o.a)(e)&&(this._seeking=!1,this._seekFunction=a(this),e.addEventListener("seeked",this._seekFunction,!1)),this._element=e,this._seeking=!1,this._firstTickAfterSeek=!1)}}}),n.prototype.destroy=function(){return this.element=void 0,this.clock=void 0,Object(s.a)(this)},n.prototype.isDestroyed=function(){return!1},n.prototype._trySetPlaybackRate=function(e){if(this._lastPlaybackRate!==e.multiplier){var t=this._element;try{t.playbackRate=e.multiplier}catch(e){t.playbackRate=0}this._lastPlaybackRate=e.multiplier}},n.prototype._onTick=function(e){var t=this._element;if(Object(o.a)(t)&&!(t.readyState<2)){var i=t.paused,n=e.shouldAnimate;if(n===i&&(n?t.play():t.pause()),this._seeking||this._firstTickAfterSeek)return void(this._firstTickAfterSeek=!1);this._trySetPlaybackRate(e);var a,s=e.currentTime,u=Object(r.a)(this.epoch,c.a.MINIMUM_VALUE),h=l.a.secondsDifference(s,u),d=t.duration,f=t.currentTime;t.loop?(h%=d,h<0&&(h=d-h),a=h):a=h>d?d:h<0?0:h;var p=n?Object(r.a)(this.tolerance,1):.001;Math.abs(a-f)>p&&(this._seeking=!0,t.currentTime=a)}}},Rt1F:function(e,t,i){"use strict";(function(t,n){function a(e){return F.from(e)}function r(e){return F.isBuffer(e)||e instanceof z}function o(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?M(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}function s(e,t){R=R||i("DsFX"),e=e||{};var n=t instanceof R;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var a=e.highWaterMark,r=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n&&(r||0===r)?r:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new H,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(V||(V=i("X4X3").StringDecoder),this.decoder=new V(e.encoding),this.encoding=e.encoding)}function c(e){if(R=R||i("DsFX"),!(this instanceof c))return new c(e);this._readableState=new s(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),N.call(this)}function l(e,t,i,n,r){var o=e._readableState;if(null===t)o.reading=!1,m(e,o);else{var s;r||(s=h(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===F.prototype||(t=a(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):u(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!i?(t=o.decoder.write(t),o.objectMode||0!==t.length?u(e,o,t,!1):v(e,o)):u(e,o,t,!1))):n||(o.reading=!1)}return d(o)}function u(e,t,i,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&g(e)),v(e,t)}function h(e,t){var i;return r(t)||"string"==typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}function d(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function f(e){return e>=G?e=G:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function p(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=f(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,g(e)}}function g(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(U("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?I.nextTick(_,e):_(e))}function _(e){U("emit readable"),e.emit("readable"),E(e)}function v(e,t){t.readingMore||(t.readingMore=!0,I.nextTick(b,e,t))}function b(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(U("maybeReadMore read 0"),e.read(0),i!==t.length);)i=t.length;t.readingMore=!1}function y(e){return function(){var t=e._readableState;U("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&L(e,"data")&&(t.flowing=!0,E(e))}}function O(e){U("readable nexttick read 0"),e.read(0)}function w(e,t){t.resumeScheduled||(t.resumeScheduled=!0,I.nextTick(x,e,t))}function x(e,t){t.reading||(U("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(U("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){if(0===t.length)return null;var i;return t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=A(e,t.buffer,t.decoder),i}function A(e,t,i){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():i?C(e,t):S(e,t),n}function C(e,t){var i=t.head,n=1,a=i.data;for(e-=a.length;i=i.next;){var r=i.data,o=e>r.length?r.length:e;if(o===r.length?a+=r:a+=r.slice(0,e),0===(e-=o)){o===r.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=r.slice(o));break}++n}return t.length-=n,a}function S(e,t){var i=F.allocUnsafe(e),n=t.head,a=1;for(n.data.copy(i),e-=n.data.length;n=n.next;){var r=n.data,o=e>r.length?r.length:e;if(r.copy(i,i.length-e,0,o),0===(e-=o)){o===r.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=r.slice(o));break}++a}return t.length-=a,i}function j(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,I.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}var I=i("ypnx");e.exports=c;var R,M=i("+aNW");c.ReadableState=s;var L=(i("vzCy").EventEmitter,function(e,t){return e.listeners(t).length}),N=i("UcPO"),F=i("kkc6").Buffer,z=(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},B=Object.create(i("jOgh"));B.inherits=i("LC74");var k=i(1),U=void 0;U=k&&k.debuglog?k.debuglog("stream"):function(){};var V,H=i("+HRN"),q=i("x0Ha");B.inherits(c,N);var W=["error","close","destroy","pause","resume"];Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),c.prototype.destroy=q.destroy,c.prototype._undestroy=q.undestroy,c.prototype._destroy=function(e,t){this.push(null),t(e)},c.prototype.push=function(e,t){var i,n=this._readableState;return n.objectMode?i=!0:"string"==typeof e&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=F.from(e,t),t=""),i=!0),l(this,e,t,!1,i)},c.prototype.unshift=function(e){return l(this,e,null,!0,!1)},c.prototype.isPaused=function(){return!1===this._readableState.flowing},c.prototype.setEncoding=function(e){return V||(V=i("X4X3").StringDecoder),this._readableState.decoder=new V(e),this._readableState.encoding=e,this};var G=8388608;c.prototype.read=function(e){U("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return U("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):g(this),null;if(0===(e=p(e,t))&&t.ended)return 0===t.length&&j(this),null;var n=t.needReadable;U("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,U("length less than watermark",n)),t.ended||t.reading?(n=!1,U("reading or ended",n)):n&&(U("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=p(i,t)));var a;return a=e>0?T(e,t):null,null===a?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&j(this)),null!==a&&this.emit("data",a),a},c.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},c.prototype.pipe=function(e,t){function i(e,t){U("onunpipe"),e===d&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,r())}function a(){U("onend"),e.end()}function r(){U("cleanup"),e.removeListener("close",l),e.removeListener("finish",u),e.removeListener("drain",g),e.removeListener("error",c),e.removeListener("unpipe",i),d.removeListener("end",a),d.removeListener("end",h),d.removeListener("data",s),_=!0,!f.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function s(t){U("ondata"),v=!1,!1!==e.write(t)||v||((1===f.pipesCount&&f.pipes===e||f.pipesCount>1&&-1!==D(f.pipes,e))&&!_&&(U("false write response, pause",f.awaitDrain),f.awaitDrain++,v=!0),d.pause())}function c(t){U("onerror",t),h(),e.removeListener("error",c),0===L(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",u),h()}function u(){U("onfinish"),e.removeListener("close",l),h()}function h(){U("unpipe"),d.unpipe(e)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1,U("pipe count=%d opts=%j",f.pipesCount,t);var p=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr,m=p?a:h;f.endEmitted?I.nextTick(m):d.once("end",m),e.on("unpipe",i);var g=y(d);e.on("drain",g);var _=!1,v=!1;return d.on("data",s),o(e,"error",c),e.once("close",l),e.once("finish",u),e.emit("pipe",d),f.flowing||(U("pipe resume"),d.resume()),e},c.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i),this);if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;r<a;r++)n[r].emit("unpipe",this,{hasUnpiped:!1});return this}var o=D(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i),this)},c.prototype.on=function(e,t){var i=N.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&g(this):I.nextTick(O,this))}return i},c.prototype.addListener=c.prototype.on,c.prototype.resume=function(){var e=this._readableState;return e.flowing||(U("resume"),e.flowing=!0,w(this,e)),this},c.prototype.pause=function(){return U("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(U("pause"),this._readableState.flowing=!1,this.emit("pause")),this},c.prototype.wrap=function(e){var t=this,i=this._readableState,n=!1;e.on("end",function(){if(U("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(a){if(U("wrapped data"),i.decoder&&(a=i.decoder.write(a)),(!i.objectMode||null!==a&&void 0!==a)&&(i.objectMode||a&&a.length)){t.push(a)||(n=!0,e.pause())}});for(var a in e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var r=0;r<W.length;r++)e.on(W[r],this.emit.bind(this,W[r]));return this._read=function(t){U("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(c.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),c._fromList=T}).call(t,i("DuR2"),i("W2nU"))},RyAG:function(e,t,i){"use strict";var n={FILL:0,OUTLINE:1,FILL_AND_OUTLINE:2};t.a=Object.freeze(n)},S0lh:function(e,t,i){"use strict";function n(e){this._total=e,this.usedThisFrame=0,this.stolenFromMeThisFrame=0,this.starvedThisFrame=!1,this.starvedLastFrame=!1}function a(e){if(Object(r.a)(e)&&e.length!==c.a.NUMBER_OF_JOB_TYPES)throw new o.a("A budget must be specified for each job type; budgets.length should equal JobType.NUMBER_OF_JOB_TYPES.");var t=new Array(c.a.NUMBER_OF_JOB_TYPES);t[c.a.TEXTURE]=new n(Object(r.a)(e)?e[c.a.TEXTURE]:10),t[c.a.PROGRAM]=new n(Object(r.a)(e)?e[c.a.PROGRAM]:10),t[c.a.BUFFER]=new n(Object(r.a)(e)?e[c.a.BUFFER]:30);var i,a=t.length,s=0;for(i=0;i<a;++i)s+=t[i].total;var l=new Array(a);for(i=0;i<a;++i)l[i]=!1;this._totalBudget=s,this._totalUsedThisFrame=0,this._budgets=t,this._executedThisFrame=l}var r=i("xC6Q"),o=i("PzDm"),s=i("n08a"),c=i("GPPq");Object.defineProperties(n.prototype,{total:{get:function(){return this._total}}}),a.getTimestamp=s.a,Object.defineProperties(a.prototype,{totalBudget:{get:function(){return this._totalBudget}}}),a.prototype.disableThisFrame=function(){this._totalUsedThisFrame=this._totalBudget},a.prototype.resetBudgets=function(){for(var e=this._budgets,t=e.length,i=0;i<t;++i){var n=e[i];n.starvedLastFrame=n.starvedThisFrame,n.starvedThisFrame=!1,n.usedThisFrame=0,n.stolenFromMeThisFrame=0}this._totalUsedThisFrame=0},a.prototype.execute=function(e,t){var i=this._budgets,n=i[t],r=this._executedThisFrame[t];if(this._totalUsedThisFrame>=this._totalBudget&&r)return n.starvedThisFrame=!0,!1;var o;if(n.usedThisFrame+n.stolenFromMeThisFrame>=n.total){var s,c=i.length;for(s=0;s<c&&(o=i[s],!(o.usedThisFrame+o.stolenFromMeThisFrame<o.total)||o.starvedLastFrame);++s);if(s===c&&r)return!1;r&&(n.starvedThisFrame=!0)}var l=a.getTimestamp();e.execute();var u=a.getTimestamp()-l;return this._totalUsedThisFrame+=u,o?o.stolenFromMeThisFrame+=u:n.usedThisFrame+=u,this._executedThisFrame[t]=!0,!0},t.a=a},S21Q:function(e,t,i){"use strict";t.a='uniform sampler2D colorTexture;\n\nuniform float avgLuminance;\nuniform float threshold;\nuniform float offset;\n\nvarying vec2 v_textureCoordinates;\n\nfloat key(float avg)\n{\n    float guess = 1.5 - (1.5 / (avg * 0.1 + 1.0));\n    return max(0.0, guess) + 0.1;\n}\n\n// See section 9. "The bright-pass filter" of Realtime HDR Rendering\n// http://www.cg.tuwien.ac.at/research/publications/2007/Luksch_2007_RHR/Luksch_2007_RHR-RealtimeHDR%20.pdf\n\nvoid main()\n{\n    vec4 color = texture2D(colorTexture, v_textureCoordinates);\n    vec3 xyz = czm_RGBToXYZ(color.rgb);\n    float luminance = xyz.r;\n\n    float scaledLum = key(avgLuminance) * luminance / avgLuminance;\n    float brightLum = max(scaledLum - threshold, 0.0);\n    float brightness = brightLum / (offset + brightLum);\n\n    xyz.r = brightness;\n    gl_FragColor = vec4(czm_XYZToRGB(xyz), 1.0);\n}\n'},S7OP:function(e,t,i){"use strict";function n(e,t,i,n){return a(e).then(t,i,n)}function a(e){var t,i;return e instanceof o?t=e:u(e)?(i=l(),e.then(function(e){i.resolve(e)},function(e){i.reject(e)},function(e){i.progress(e)}),t=i.promise):t=s(e),t}function r(e){return n(e,c)}function o(e){this.then=e}function s(e){return new o(function(t){try{return a(t?t(e):e)}catch(e){return c(e)}})}function c(e){return new o(function(t,i){try{return i?a(i(e)):c(e)}catch(e){return c(e)}})}function l(){function e(e,t,i){return d(e,t,i)}function t(e){return p(e)}function i(e){return p(c(e))}function n(e){return f(e)}var r,s,u,h,d,f,p;return s=new o(e),r={then:e,resolve:t,reject:i,progress:n,promise:s,resolver:{resolve:t,reject:i,progress:n}},u=[],h=[],d=function(e,t,i){var n,a;return n=l(),a="function"==typeof i?function(e){try{n.progress(i(e))}catch(e){n.progress(e)}}:function(e){n.progress(e)},u.push(function(i){i.then(e,t).then(n.resolve,n.reject,a)}),h.push(a),n.promise},f=function(e){return v(h,e),e},p=function(e){return e=a(e),d=e.then,p=a,f=y,v(u,e),h=u=E,e},r}function u(e){return e&&"function"==typeof e.then}function h(e,t,i,a,r){return b(2,arguments),n(e,function(e){function o(e){m(e)}function s(e){p(e)}var c,u,h,d,f,p,m,g,_,v;if(_=e.length>>>0,c=Math.max(0,Math.min(t,_)),h=[],u=_-c+1,d=[],f=l(),c)for(g=f.progress,m=function(e){d.push(e),--u||(p=m=y,f.reject(d))},p=function(e){h.push(e),--c||(p=m=y,f.resolve(h))},v=0;v<_;++v)v in e&&n(e[v],s,o,g);else f.resolve(h);return f.then(i,a,r)})}function d(e,t,i,n){function a(e){return t?t(e[0]):e[0]}return h(e,1,a,i,n)}function f(e,t,i,n){return b(1,arguments),m(e,O).then(t,i,n)}function p(){return m(arguments,O)}function m(e,t){return n(e,function(e){var i,a,r,o,s,c;if(r=a=e.length>>>0,i=[],c=l(),r)for(o=function(e,a){n(e,t).then(function(e){i[a]=e,--r||c.resolve(i)},c.reject)},s=0;s<a;s++)s in e?o(e[s],s):--r;else c.resolve(i);return c.promise})}function g(e,t){var i=x.call(arguments,1);return n(e,function(e){var a;return a=e.length,i[0]=function(e,i,r){return n(e,function(e){return n(i,function(i){return t(e,i,r,a)})})},w.apply(e,i)})}function _(e,t,i){var a=arguments.length>2;return n(e,function(e){return e=a?i:e,t.resolve(e),e},function(e){return t.reject(e),c(e)},t.progress)}function v(e,t){for(var i,n=0;i=e[n++];)i(t)}function b(e,t){for(var i,n=t.length;n>e;)if(null!=(i=t[--n])&&"function"!=typeof i)throw new Error("arg "+n+" must be a function")}function y(){}function O(e){return e}/**
  @license
  when.js - https://github.com/cujojs/when

  MIT License (c) copyright B Cavalier & J Hann

 * A lightweight CommonJS Promises/A and when() implementation
 * when is part of the cujo.js family of libraries (http://cujojs.com/)
 *
 * Licensed under the MIT License at:
 * http://www.opensource.org/licenses/mit-license.php
 *
 * @version 1.7.1
 */
var w,x,E;n.defer=l,n.resolve=a,n.reject=r,n.join=p,n.all=f,n.map=m,n.reduce=g,n.any=d,n.some=h,n.chain=_,n.isPromise=u,o.prototype={always:function(e,t){return this.then(e,e,t)},otherwise:function(e){return this.then(E,e)},yield:function(e){return this.then(function(){return e})},spread:function(e){return this.then(function(t){return f(t,function(t){return e.apply(E,t)})})}},x=[].slice,w=[].reduce||function(e){var t,i,n,a,r;if(r=0,t=Object(this),a=t.length>>>0,i=arguments,i.length<=1)for(;;){if(r in t){n=t[r++];break}if(++r>=a)throw new TypeError}else n=i[1];for(;r<a;++r)r in t&&(n=e(n,t[r],r,t));return n},t.a=n},S7PT:function(e,t,i){"use strict";function n(e){this._files={},this._promises=[],this._count=0,this._modelCallback=e}function a(e,t){return function(i){e._files[t]=i}}function r(e){this._time=e}function o(){this._ids={},this._styles={},this._count=0}function s(){this._ids={}}function c(e){e=Object(L.a)(e,L.a.EMPTY_OBJECT);var t=e.entities,i=Object(L.a)(e.kmz,!1);if(!Object(N.a)(t))throw new F.a("entities is required.");var n=c._createState(e),a=t.values.filter(function(e){return!Object(N.a)(e.parent)}),r=n.kmlDoc,o=r.documentElement;o.setAttributeNS(ce,"xmlns:gx",se);var s=r.createElement("Document");o.appendChild(s),d(n,s,a),n.styleCache.save(s);var u=n.externalFileHandler;return u.promise.then(function(){var e=new XMLSerializer,t=e.serializeToString(n.kmlDoc);return i?l(t,u.files):{kml:t,externalFiles:u.files}})}function l(e,t){var i=Z.a.defer();return K.a.createWriter(new K.a.BlobWriter,function(n){u(n,e).then(function(){var e=Object.keys(t);return h(n,e,t,0)}).then(function(){n.close(function(e){i.resolve({kmz:e})})})}),i.promise}function u(e,t){var i=Z.a.defer();return e.add("doc.kml",new K.a.TextReader(t),function(){i.resolve()}),i.promise}function h(e,t,i,n){if(t.length!==n){var a=t[n],r=Z.a.defer();return e.add(a,new K.a.BlobReader(i[a]),function(){r.resolve()}),r.promise.then(function(){return h(e,t,i,n+1)})}}function d(e,t,i){for(var n,a,r,o=e.kmlDoc,s=e.styleCache,c=e.valueGetter,l=e.idManager,u=i.length,h=0;h<u;++h){var p=i[h];n=[],a=[],r=[],f(e,p,a,r),_(e,p.polyline,a,r),O(e,p.rectangle,a,r,n),O(e,p.polygon,a,r,n),E(e,p,p.model,a,r);var m,g=p.availability;Object(N.a)(g)&&(m=o.createElement("TimeSpan"),k.a.equals(g.start,B.a.MINIMUM_VALUE)||m.appendChild(S(o,"begin",k.a.toIso8601(g.start))),k.a.equals(g.stop,B.a.MAXIMUM_VALUE)||m.appendChild(S(o,"end",k.a.toIso8601(g.stop))));for(var v=0;v<n.length;++v){var b=n[v];b.setAttribute("id",l.get(p.id)),b.appendChild(S(o,"name",p.name)),b.appendChild(S(o,"visibility",p.show)),b.appendChild(S(o,"description",p.description)),Object(N.a)(m)&&b.appendChild(m),t.appendChild(b)}var y=a.length;if(y>0){var w=o.createElement("Placemark");w.setAttribute("id",l.get(p.id));var x=p.name,T=p.label;if(Object(N.a)(T)){var A=o.createElement("LabelStyle"),C=c.get(T.text);x=Object(N.a)(C)&&C.length>0?C:x;var j=c.getColor(T.fillColor);Object(N.a)(j)&&(A.appendChild(S(o,"color",j)),A.appendChild(S(o,"colorMode","normal")));var P=c.get(T.scale);Object(N.a)(P)&&A.appendChild(S(o,"scale",P)),r.push(A)}w.appendChild(S(o,"name",x)),w.appendChild(S(o,"visibility",p.show)),w.appendChild(S(o,"description",p.description)),Object(N.a)(m)&&w.appendChild(m),t.appendChild(w);var D=r.length;if(D>0){for(var I=o.createElement("Style"),R=0;R<D;++R)I.appendChild(r[R]);w.appendChild(S(o,"styleUrl",s.get(I)))}if(1===a.length)w.appendChild(a[0]);else if(a.length>1){for(var M=o.createElement("MultiGeometry"),L=0;L<y;++L)M.appendChild(a[L]);w.appendChild(M)}}var F=p._children;if(F.length>0){var z=o.createElement("Folder");z.setAttribute("id",l.get(p.id)),z.appendChild(S(o,"name",p.name)),z.appendChild(S(o,"visibility",p.show)),z.appendChild(S(o,"description",p.description)),t.appendChild(z),d(e,z,F)}}}function f(e,t,i,n){var a=e.kmlDoc,r=e.ellipsoid,o=e.valueGetter,s=Object(L.a)(t.billboard,t.point);if(Object(N.a)(s)||Object(N.a)(t.path)){var c=t.position;if(!c.isConstant)return void p(e,t,s,i,n);o.get(c,void 0,ue);var l=S(a,"coordinates",C(ue,r)),u=a.createElement("Point"),h=a.createElement("altitudeMode");h.appendChild(A(e,s.heightReference)),u.appendChild(h),u.appendChild(l),i.push(u);var d=s instanceof $.a?g(e,s):m(e,s);n.push(d)}}function p(e,t,i,n,a){var r,o=e.kmlDoc,s=e.ellipsoid,c=e.valueGetter,l=t.position,u=!0;l instanceof ee.a?(r=l.intervals,u=!1):r=Object(L.a)(t.availability,e.defaultAvailability);var h,d,f,p=i instanceof te.a,_=[];for(h=0;h<r.length;++h){var v=r.get(h),b=u?l:v.data,y=o.createElement("altitudeMode");b instanceof re.a?(b=b._value,y.appendChild(A(e,X.a.CLAMP_TO_GROUND))):Object(N.a)(i)?y.appendChild(A(e,i.heightReference)):y.appendChild(A(e,X.a.NONE));var O=[],w=[];if(b.isConstant){c.get(b,void 0,ue);var E=S(o,"coordinates",C(ue,s));O.push(k.a.toIso8601(v.start)),w.push(E),O.push(k.a.toIso8601(v.stop)),w.push(E)}else if(b instanceof ne.a)for(f=b._property._times,d=0;d<f.length;++d)O.push(k.a.toIso8601(f[d])),b.getValueInReferenceFrame(f[d],H.a.FIXED,ue),w.push(C(ue,s));else if(b instanceof ae.a){f=b._times;var j=b._values;for(d=0;d<f.length;++d)O.push(k.a.toIso8601(f[d])),D.a.fromArray(j,3*d,ue),w.push(C(ue,s))}else{var P=e.sampleDuration;v.start.clone(de),v.isStartIncluded||k.a.addSeconds(de,P,de);for(var I=v.stop;k.a.lessThan(de,I);)b.getValue(de,ue),O.push(k.a.toIso8601(de)),w.push(C(ue,s)),k.a.addSeconds(de,P,de);v.isStopIncluded&&k.a.equals(de,I)&&(b.getValue(de,ue),O.push(k.a.toIso8601(de)),w.push(C(ue,s)))}var R=o.createElementNS(se,"Track");R.appendChild(y);for(var M=0;M<O.length;++M){var F=S(o,"when",O[M]),z=S(o,"coord",w[M],se);R.appendChild(F),R.appendChild(z)}p&&R.appendChild(x(e,i)),_.push(R)}if(1===_.length)n.push(_[0]);else if(_.length>1){var B=o.createElementNS(se,"MultiTrack");for(h=0;h<_.length;++h)B.appendChild(_[h]);n.push(B)}if(Object(N.a)(i)&&!p){var U=i instanceof $.a?g(e,i):m(e,i);a.push(U)}var V=t.path;if(Object(N.a)(V)){var q=c.get(V.width),W=V.material;if(Object(N.a)(W)||Object(N.a)(q)){var G=o.createElement("LineStyle");Object(N.a)(q)&&G.appendChild(S(o,"width",q)),T(e,W,G),a.push(G)}}}function m(e,t){var i=e.kmlDoc,n=e.valueGetter,a=i.createElement("IconStyle"),r=n.getColor(t.color);Object(N.a)(r)&&(a.appendChild(S(i,"color",r)),a.appendChild(S(i,"colorMode","normal")));var o=n.get(t.pixelSize);return Object(N.a)(o)&&a.appendChild(S(i,"scale",o/oe)),a}function g(e,t){var i=e.kmlDoc,n=e.valueGetter,a=e.externalFileHandler,r=i.createElement("IconStyle"),o=n.get(t.image);if(Object(N.a)(o)){o=a.texture(o);var s=i.createElement("Icon");s.appendChild(S(i,"href",o));var c=n.get(t.imageSubRegion);Object(N.a)(c)&&(s.appendChild(S(i,"x",c.x,se)),s.appendChild(S(i,"y",c.y,se)),s.appendChild(S(i,"w",c.width,se)),s.appendChild(S(i,"h",c.height,se))),r.appendChild(s)}var l=n.getColor(t.color);Object(N.a)(l)&&(r.appendChild(S(i,"color",l)),r.appendChild(S(i,"colorMode","normal")));var u=n.get(t.scale);Object(N.a)(u)&&r.appendChild(S(i,"scale",u));var h=n.get(t.pixelOffset);if(Object(N.a)(h)){u=Object(L.a)(u,1),P.a.divideByScalar(h,u,h);var d=n.get(t.width,oe),f=n.get(t.height,oe),p=n.get(t.horizontalOrigin,Q.a.CENTER);p===Q.a.CENTER?h.x-=.5*d:p===Q.a.RIGHT&&(h.x-=d);var m=n.get(t.verticalOrigin,J.a.CENTER);m===J.a.TOP?h.y+=f:m===J.a.CENTER&&(h.y+=.5*f);var g=i.createElement("hotSpot");g.setAttribute("x",-h.x),g.setAttribute("y",h.y),g.setAttribute("xunits","pixels"),g.setAttribute("yunits","pixels"),r.appendChild(g)}var _=n.get(t.rotation),v=n.get(t.alignedAxis);return Object(N.a)(_)&&D.a.equals(D.a.UNIT_Z,v)&&(_=U.a.toDegrees(-_),0===_&&(_=360),r.appendChild(S(i,"heading",_))),r}function _(e,t,i,n){var a=e.kmlDoc,r=e.ellipsoid,o=e.valueGetter;if(Object(N.a)(t)){var s,c=a.createElement("LineString"),l=a.createElement("altitudeMode"),u=o.get(t.clampToGround,!1);u?(c.appendChild(S(a,"tessellate",!0)),s=a.createTextNode("clampToGround")):s=a.createTextNode("absolute"),l.appendChild(s),c.appendChild(l);var h=t.positions,d=o.get(h),f=S(a,"coordinates",C(d,r));c.appendChild(f);var p=o.get(t.zIndex);u&&Object(N.a)(p)&&c.appendChild(S(a,"drawOrder",p,se)),i.push(c);var m=a.createElement("LineStyle"),g=o.get(t.width);Object(N.a)(g)&&m.appendChild(S(a,"width",g)),T(e,t.material,m),n.push(m)}}function v(e,t,i){var n,a=e.kmlDoc,r=e.valueGetter,o=r.get(t.height,0);i>0&&(o=i);for(var s=t.coordinates,c=r.get(s),l=[],u=[V.a.northeast,V.a.southeast,V.a.southwest,V.a.northwest],h=0;h<4;++h)u[h](c,he),l.push(U.a.toDegrees(he.longitude)+","+U.a.toDegrees(he.latitude)+","+o);n=S(a,"coordinates",l.join(" "));var d=a.createElement("outerBoundaryIs"),f=a.createElement("LinearRing");return f.appendChild(n),d.appendChild(f),[d]}function b(e,t,i,n){for(var a=e.kmlDoc,r=e.ellipsoid,o=[],s=t.length,c=0;c<s;++c)I.a.fromCartesian(t[c],r,he),o.push(U.a.toDegrees(he.longitude)+","+U.a.toDegrees(he.latitude)+","+(n?he.height:i));var l=S(a,"coordinates",o.join(" ")),u=a.createElement("LinearRing");return u.appendChild(l),u}function y(e,t,i){var n=e.kmlDoc,a=e.valueGetter,r=a.get(t.height,0),o=a.get(t.perPositionHeight,!1);!o&&i>0&&(r=i);var s=[],c=t.hierarchy,l=a.get(c),u=Array.isArray(l)?l:l.positions,h=n.createElement("outerBoundaryIs");h.appendChild(b(e,u,r,o)),s.push(h);var d=l.holes;if(Object(N.a)(d))for(var f=d.length,p=0;p<f;++p){var m=n.createElement("innerBoundaryIs");m.appendChild(b(e,d[p].positions,r,o)),s.push(m)}return s}function O(e,t,i,n,a){var r=e.kmlDoc,o=e.valueGetter;if(Object(N.a)(t)){var s=t instanceof ie.a;if(s&&"Image"===o.getMaterialType(t.material))return void w(e,t,a);var c=r.createElement("Polygon"),l=o.get(t.extrudedHeight,0);l>0&&c.appendChild(S(r,"extrude",!0));for(var u=s?v(e,t,l):y(e,t,l),h=u.length,d=0;d<h;++d)c.appendChild(u[d]);var f=r.createElement("altitudeMode");f.appendChild(A(e,t.heightReference)),c.appendChild(f),i.push(c);var p=r.createElement("PolyStyle"),m=o.get(t.fill,!1);m&&p.appendChild(S(r,"fill",m)),T(e,t.material,p);var g=o.get(t.outline,!1);if(g){p.appendChild(S(r,"outline",g));var _=r.createElement("LineStyle"),b=o.get(t.outlineWidth,1);_.appendChild(S(r,"width",b));var O=o.getColor(t.outlineColor,R.a.BLACK);_.appendChild(S(r,"color",O)),_.appendChild(S(r,"colorMode","normal")),n.push(_)}n.push(p)}}function w(e,t,i){var n=e.kmlDoc,a=e.valueGetter,r=e.externalFileHandler,o=n.createElement("GroundOverlay"),s=n.createElement("altitudeMode");s.appendChild(A(e,t.heightReference)),o.appendChild(s);var c=a.get(t.height);Object(N.a)(c)&&o.appendChild(S(n,"altitude",c));var l=a.get(t.coordinates),u=n.createElement("LatLonBox");u.appendChild(S(n,"north",U.a.toDegrees(l.north))),u.appendChild(S(n,"south",U.a.toDegrees(l.south))),u.appendChild(S(n,"east",U.a.toDegrees(l.east))),u.appendChild(S(n,"west",U.a.toDegrees(l.west))),o.appendChild(u);var h=a.get(t.material),d=r.texture(h.image),f=n.createElement("Icon");f.appendChild(S(n,"href",d)),o.appendChild(f);var p=h.color;Object(N.a)(p)&&o.appendChild(S(n,"color",j(h.color))),i.push(o)}function x(e,t){var i=e.kmlDoc,n=e.valueGetter,a=e.externalFileHandler,r=i.createElement("Model"),o=n.get(t.scale);if(Object(N.a)(o)){var s=i.createElement("scale");s.appendChild(S(i,"x",o)),s.appendChild(S(i,"y",o)),s.appendChild(S(i,"z",o)),r.appendChild(s)}var c=i.createElement("Link"),l=a.model(t,e.time);return c.appendChild(S(i,"href",l)),r.appendChild(c),r}function E(e,t,i,n,a){var r=e.kmlDoc,o=e.ellipsoid,s=e.valueGetter;if(Object(N.a)(i)){var c=t.position;if(!c.isConstant)return void p(e,t,i,n,a);var l=x(e,i),u=r.createElement("altitudeMode");u.appendChild(A(e,i.heightReference)),l.appendChild(u),s.get(c,void 0,ue),I.a.fromCartesian(ue,o,he);var h=r.createElement("Location");h.appendChild(S(r,"longitude",U.a.toDegrees(he.longitude))),h.appendChild(S(r,"latitude",U.a.toDegrees(he.latitude))),h.appendChild(S(r,"altitude",he.height)),l.appendChild(h),n.push(l)}}function T(e,t,i){var n=e.kmlDoc,a=e.valueGetter;if(Object(N.a)(t)){var r=a.get(t);if(Object(N.a)(r)){var o;switch(a.getMaterialType(t)){case"Image":o=j(R.a.WHITE);break;case"Color":case"Grid":case"PolylineGlow":case"PolylineArrow":case"PolylineDash":o=j(r.color);break;case"PolylineOutline":o=j(r.color);var s=j(r.outlineColor),c=r.outlineWidth;i.appendChild(S(n,"outerColor",s,se)),i.appendChild(S(n,"outerWidth",c,se));break;case"Stripe":o=j(r.oddColor)}Object(N.a)(o)&&(i.appendChild(S(n,"color",o)),i.appendChild(S(n,"colorMode","normal")))}}}function A(e,t){var i,n=e.kmlDoc,a=e.valueGetter,r=a.get(t,X.a.NONE);switch(r){case X.a.NONE:i=n.createTextNode("absolute");break;case X.a.CLAMP_TO_GROUND:i=n.createTextNode("clampToGround");break;case X.a.RELATIVE_TO_GROUND:i=n.createTextNode("relativeToGround")}return i}function C(e,t){Array.isArray(e)||(e=[e]);for(var i=e.length,n=[],a=0;a<i;++a)I.a.fromCartesian(e[a],t,he),n.push(U.a.toDegrees(he.longitude)+","+U.a.toDegrees(he.latitude)+","+he.height);return n.join(" ")}function S(e,t,i,n){"boolean"==typeof(i=Object(L.a)(i,""))&&(i=i?"1":"0");var a=Object(N.a)(n)?e.createElementNS(n,t):e.createElement(t),r="string"===i&&-1!==i.indexOf("<")?e.createCDATASection(i):e.createTextNode(i);return a.appendChild(r),a}function j(e){for(var t="",i=e.toBytes(),n=3;n>=0;--n)t+=i[n]<16?"0"+i[n].toString(16):i[n].toString(16);return t}var P=i("Ss9j"),D=i("Jj+J"),I=i("I3GD"),R=i("6F0S"),M=i("ed27"),L=i("5A4e"),N=i("xC6Q"),F=i("PzDm"),z=i("y6fO"),B=i("DsDe"),k=i("9Uqs"),U=i("fq+p"),V=i("Wq1U"),H=i("IDfv"),q=i("rMjQ"),W=i("V22k"),G=i("tQPh"),Y=i("vDBe"),X=i("JIo7"),Q=i("EwVK"),J=i("H5bb"),Z=i("S7OP"),K=i("k7uJ"),$=i("1L+j"),ee=i("VhtT"),te=i("ZIO3"),ie=i("rFgN"),ne=i("TuWn"),ae=i("mEEk"),re=i("snMV"),oe=32,se="http://www.google.com/kml/ext/2.2",ce="http://www.w3.org/2000/xmlns/",le=/^data:image\/([^,;]+)/;n.prototype.texture=function(e){var t,i=this;if("string"==typeof e||e instanceof q.a){if(e=q.a.createIfNeeded(e),!e.isDataUri)return e.url;var n=e.url.match(le);t="texture_"+ ++this._count,Object(N.a)(n)&&(t+="."+n[1]);var a=e.fetchBlob().then(function(e){i._files[t]=e});return this._promises.push(a),t}if(e instanceof HTMLCanvasElement){var r=Z.a.defer();return this._promises.push(r.promise),t="texture_"+ ++this._count+".png",e.toBlob(function(e){i._files[t]=e,r.resolve()}),t}return""},n.prototype.model=function(e,t){var i=this._modelCallback;if(!Object(N.a)(i))throw new W.a("Encountered a model entity while exporting to KML, but no model callback was supplied.");var n={},r=i(e,t,n);for(var o in n)if(n.hasOwnProperty(o)){var s=Object(Z.a)(n[o]);this._promises.push(s),s.then(a(this,o))}return r},Object.defineProperties(n.prototype,{promise:{get:function(){return Z.a.all(this._promises)}},files:{get:function(){return this._files}}}),r.prototype.get=function(e,t,i){var n;return Object(N.a)(e)&&(n=Object(N.a)(e.getValue)?e.getValue(this._time,i):e),Object(L.a)(n,t)},r.prototype.getColor=function(e,t){var i=this.get(e,t);if(Object(N.a)(i))return j(i)},r.prototype.getMaterialType=function(e){if(Object(N.a)(e))return e.getType(this._time)},o.prototype.get=function(e){var t=this._ids,i=e.innerHTML;if(Object(N.a)(t[i]))return t[i];var n="style-"+ ++this._count;return e.setAttribute("id",n),n="#"+n,t[i]=n,this._styles[i]=e,n},o.prototype.save=function(e){var t=this._styles,i=e.childNodes[0];for(var n in t)t.hasOwnProperty(n)&&e.insertBefore(t[n],i)},s.prototype.get=function(e){if(!Object(N.a)(e))return this.get(Object(M.a)());var t=this._ids;return Object(N.a)(t[e])?e.toString()+"-"+ ++t[e]:(t[e]=0,e)},c._createState=function(e){var t=e.entities,i=new o,a=t.computeAvailability(),c=Object(N.a)(e.time)?e.time:a.start,l=Object(L.a)(e.defaultAvailability,a),u=Object(L.a)(e.sampleDuration,60);l.start===B.a.MINIMUM_VALUE?l.stop===B.a.MAXIMUM_VALUE?l=new G.a:k.a.addSeconds(l.stop,-10*u,l.start):l.stop===B.a.MAXIMUM_VALUE&&k.a.addSeconds(l.start,10*u,l.stop);var h=new n(e.modelCallback);return{kmlDoc:document.implementation.createDocument("http://www.opengis.net/kml/2.2","kml"),ellipsoid:Object(L.a)(e.ellipsoid,z.a.WGS84),idManager:new s,styleCache:i,externalFileHandler:h,time:c,valueGetter:new r(c),sampleDuration:u,defaultAvailability:new Y.a([l])}};var ue=new D.a,he=new I.a,de=new k.a},S81E:function(e,t,i){"use strict";t.a="struct czm_shadowParameters\n{\n#ifdef USE_CUBE_MAP_SHADOW\n    vec3 texCoords;\n#else\n    vec2 texCoords;\n#endif\n\n    float depthBias;\n    float depth;\n    float nDotL;\n    vec2 texelStepSize;\n    float normalShadingSmooth;\n    float darkness;\n};\n"},S82l:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},S8pZ:function(e,t,i){"use strict";var n=i("xC6Q"),a=i("bo7c"),r=i("9Uqs"),o=i("fq+p"),s=i("9ZH6"),c={},l=-.0529921,u=-.1059842,h=13.0120009,d=13.3407154,f=26.4057084,p=13.064993,m=1.7484877,g=new r.a;c.ComputeMoon=function(e,t){Object(n.a)(e)||(e=r.a.now()),g=r.a.addSeconds(e,32.184,g);var i=r.a.totalDays(g)-2451545,c=i/s.a.DAYS_PER_JULIAN_CENTURY,_=(125.045+l*i)*o.a.RADIANS_PER_DEGREE,v=(250.089+u*i)*o.a.RADIANS_PER_DEGREE,b=(260.008+h*i)*o.a.RADIANS_PER_DEGREE,y=(176.625+d*i)*o.a.RADIANS_PER_DEGREE,O=(357.529+.9856003*i)*o.a.RADIANS_PER_DEGREE,w=(311.589+f*i)*o.a.RADIANS_PER_DEGREE,x=(134.963+p*i)*o.a.RADIANS_PER_DEGREE,E=(276.617+.3287146*i)*o.a.RADIANS_PER_DEGREE,T=(34.226+m*i)*o.a.RADIANS_PER_DEGREE,A=(15.134+-.1589763*i)*o.a.RADIANS_PER_DEGREE,C=(119.743+.0036096*i)*o.a.RADIANS_PER_DEGREE,S=(239.961+.1643573*i)*o.a.RADIANS_PER_DEGREE,j=(25.053+12.9590088*i)*o.a.RADIANS_PER_DEGREE,P=Math.sin(_),D=Math.sin(v),I=Math.sin(b),R=Math.sin(y),M=Math.sin(O),L=Math.sin(w),N=Math.sin(x),F=Math.sin(E),z=Math.sin(T),B=Math.sin(A),k=Math.sin(C),U=Math.sin(S),V=Math.sin(j),H=Math.cos(_),q=Math.cos(v),W=Math.cos(b),G=Math.cos(y),Y=Math.cos(O),X=Math.cos(w),Q=Math.cos(x),J=Math.cos(E),Z=Math.cos(T),K=Math.cos(A),$=Math.cos(C),ee=Math.cos(S),te=Math.cos(j),ie=(269.9949+.0031*c-3.8787*P-.1204*D+.07*I-.0172*R+.0072*L-.0052*B+.0043*V)*o.a.RADIANS_PER_DEGREE,ne=(66.5392+.013*c+1.5419*H+.0239*q-.0278*W+.0068*G-.0029*X+9e-4*Q+8e-4*K-9e-4*te)*o.a.RADIANS_PER_DEGREE,ae=(38.3213+13.17635815*i-1.4e-12*i*i+3.561*P+.1208*D-.0642*I+.0158*R+.0252*M-.0066*L-.0047*N-.0046*F+.0028*z+.0052*B+.004*k+.0019*U-.0044*V)*o.a.RADIANS_PER_DEGREE,re=(13.17635815-2*i*1.4e-12+3.561*H*l+.1208*q*u-.0642*W*h+.0158*G*d+.0252*Y*.9856003-.0066*X*f-.0047*Q*p-.0046*J*.3287146+.0028*Z*m+.0052*K*-.1589763+.004*$*.0036096+.0019*ee*.1643573-.0044*te*12.9590088)/86400*o.a.RADIANS_PER_DEGREE;return Object(n.a)(t)||(t=new a.a),t.rightAscension=ie,t.declination=ne,t.rotation=ae,t.rotationRate=re,t},t.a=c},SDM6:function(e,t,i){e.exports=i("DsFX")},SLTh:function(e,t,i){"use strict";function n(e){e=Object(u.a)(e,u.a.EMPTY_OBJECT),l.a.typeOf.object("options.buffer",e.buffer),l.a.typeOf.number("options.negativeAltitudeExponentBias",e.negativeAltitudeExponentBias),l.a.typeOf.number("options.negativeElevationThreshold",e.negativeElevationThreshold),this._buffer=e.buffer,this._credits=e.credits,this._negativeAltitudeExponentBias=e.negativeAltitudeExponentBias,this._negativeElevationThreshold=e.negativeElevationThreshold;var t=Object(u.a)(e.childTileMask,15),i=3&t;i|=4&t?8:0,i|=8&t?4:0,this._childTileMask=i,this._createdByUpsampling=Object(u.a)(e.createdByUpsampling,!1),this._skirtHeight=void 0,this._bufferType=this._buffer.constructor,this._mesh=void 0,this._minimumHeight=void 0,this._maximumHeight=void 0}function a(e,t,i){for(var n=e._mesh,a=n.vertices,r=n.encoding,o=n.indices,s=0,c=o.length;s<c;s+=3){var l=o[s],u=o[s+1],h=o[s+2],d=r.decodeTextureCoordinates(a,l,A),f=r.decodeTextureCoordinates(a,u,C),m=r.decodeTextureCoordinates(a,h,S),g=p.a.computeBarycentricCoordinates(t,i,d.x,d.y,f.x,f.y,m.x,m.y,j);if(g.x>=-1e-15&&g.y>=-1e-15&&g.z>=-1e-15){var _=r.decodeHeight(a,l),v=r.decodeHeight(a,u),b=r.decodeHeight(a,h);return g.x*_+g.y*v+g.z*b}}}function r(e,t,i,n){var a=e._buffer,r=0,o=0,s=0;i>.5?(t>.5?(r=2,o=.5):r=3,s=.5):t>.5&&(r=1,o=.5);for(var c=new DataView(a),l=0,u=0;u<r;++u)l+=c.getUint32(l,!0),l+=D;l+=D,l+=2*M;var h=m.a.toRadians(180*c.getFloat64(l,!0));l+=M;var d=m.a.toRadians(180*c.getFloat64(l,!0));l+=M;var f=n.width/h/2,g=n.height/d/2,_=c.getInt32(l,!0);l+=I;var v=3*c.getInt32(l,!0);l+=I,l+=I;var b,y=new Array(_),O=new Array(_),w=new Array(_);for(b=0;b<_;++b)y[b]=o+c.getUint8(l++)*f,O[b]=s+c.getUint8(l++)*g,w[b]=6371010*c.getFloat32(l,!0),l+=R;var x=new Array(v);for(b=0;b<v;++b)x[b]=c.getUint16(l,!0),l+=P;for(b=0;b<v;b+=3){var E=x[b],T=x[b+1],A=x[b+2],C=y[E],S=y[T],L=y[A],N=O[E],F=O[T],z=O[A],B=p.a.computeBarycentricCoordinates(t,i,C,N,S,F,L,z,j);if(B.x>=-1e-15&&B.y>=-1e-15&&B.z>=-1e-15)return B.x*w[E]+B.y*w[T]+B.z*w[A]}}var o=i("lBr9"),s=i("Ss9j"),c=i("Jj+J"),l=i("5F4X"),u=i("5A4e"),h=i("xC6Q"),d=i("PzDm"),f=i("oMsT"),p=i("8rzt"),m=i("fq+p"),g=i("qBw0"),_=i("OLRm"),v=i("Wq1U"),b=i("JlUm"),y=i("c/Hq"),O=i("o9ZK");Object.defineProperties(n.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){}}});var w=new b.a("createVerticesFromGoogleEarthEnterpriseBuffer"),x=new v.a,E=new v.a;n.prototype.createMesh=function(e,t,i,n,a){l.a.typeOf.object("tilingScheme",e),l.a.typeOf.number("x",t),l.a.typeOf.number("y",i),l.a.typeOf.number("level",n);var r=e.ellipsoid;e.tileXYToNativeRectangle(t,i,n,x),e.tileXYToRectangle(t,i,n,E),a=Object(u.a)(a,1);var s=r.cartographicToCartesian(v.a.center(E)),d=40075.16/(1<<n);this._skirtHeight=Math.min(8*d,1e3);var f=w.scheduleTask({buffer:this._buffer,nativeRectangle:x,rectangle:E,relativeToCenter:s,ellipsoid:r,skirtHeight:this._skirtHeight,exaggeration:a,includeWebMercatorT:!0,negativeAltitudeExponentBias:this._negativeAltitudeExponentBias,negativeElevationThreshold:this._negativeElevationThreshold});if(Object(h.a)(f)){var p=this;return f.then(function(e){return p._mesh=new O.a(s,new Float32Array(e.vertices),new Uint16Array(e.indices),e.indexCountWithoutSkirts,e.vertexCountWithoutSkirts,e.minimumHeight,e.maximumHeight,o.a.clone(e.boundingSphere3D),c.a.clone(e.occludeePointInScaledSpace),e.numberOfAttributes,g.a.clone(e.orientedBoundingBox),y.a.clone(e.encoding),a,e.westIndicesSouthToNorth,e.southIndicesEastToWest,e.eastIndicesNorthToSouth,e.northIndicesWestToEast),p._minimumHeight=e.minimumHeight,p._maximumHeight=e.maximumHeight,p._buffer=void 0,p._mesh})}},n.prototype.interpolateHeight=function(e,t,i){var n=m.a.clamp((t-e.west)/e.width,0,1),o=m.a.clamp((i-e.south)/e.height,0,1);return Object(h.a)(this._mesh)?a(this,n,o):r(this,n,o,e)};var T=new b.a("upsampleQuantizedTerrainMesh");n.prototype.upsample=function(e,t,i,n,a,r,s){if(l.a.typeOf.object("tilingScheme",e),l.a.typeOf.number("thisX",t),l.a.typeOf.number("thisY",i),l.a.typeOf.number("thisLevel",n),l.a.typeOf.number("descendantX",a),l.a.typeOf.number("descendantY",r),l.a.typeOf.number("descendantLevel",s),s-n>1)throw new d.a("Upsampling through more than one level at a time is not currently supported.");var u=this._mesh;if(Object(h.a)(this._mesh)){var p=2*t!==a,m=2*i===r,v=e.ellipsoid,b=e.tileXYToRectangle(a,r,s),y=T.scheduleTask({vertices:u.vertices,indices:u.indices,indexCountWithoutSkirts:u.indexCountWithoutSkirts,vertexCountWithoutSkirts:u.vertexCountWithoutSkirts,encoding:u.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:p,isNorthChild:m,childRectangle:b,ellipsoid:v,exaggeration:u.exaggeration});if(Object(h.a)(y)){var O=this;return y.then(function(e){var t=new Uint16Array(e.vertices),i=f.a.createTypedArray(t.length/3,e.indices),n=O._skirtHeight;return new _.a({quantizedVertices:t,indices:i,minimumHeight:e.minimumHeight,maximumHeight:e.maximumHeight,boundingSphere:o.a.clone(e.boundingSphere),orientedBoundingBox:g.a.clone(e.orientedBoundingBox),horizonOcclusionPoint:c.a.clone(e.horizonOcclusionPoint),westIndices:e.westIndices,southIndices:e.southIndices,eastIndices:e.eastIndices,northIndices:e.northIndices,westSkirtHeight:n,southSkirtHeight:n,eastSkirtHeight:n,northSkirtHeight:n,childTileMask:0,createdByUpsampling:!0,credits:O._credits})})}}},n.prototype.isChildAvailable=function(e,t,i,n){l.a.typeOf.number("thisX",e),l.a.typeOf.number("thisY",t),l.a.typeOf.number("childX",i),l.a.typeOf.number("childY",n);var a=2;return i!==2*e&&++a,n!==2*t&&(a-=2),0!=(this._childTileMask&1<<a)},n.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling};var A=new s.a,C=new s.a,S=new s.a,j=new c.a,P=Uint16Array.BYTES_PER_ELEMENT,D=Uint32Array.BYTES_PER_ELEMENT,I=Int32Array.BYTES_PER_ELEMENT,R=Float32Array.BYTES_PER_ELEMENT,M=Float64Array.BYTES_PER_ELEMENT;t.a=n},SOVN:function(e,t,i){"use strict";/**
 * @license
 * Copyright (c) 2000-2005, Sean O'Neil (s_p_oneil@hotmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * * Redistributions of source code must retain the above copyright notice,
 *   this list of conditions and the following disclaimer.
 * * Redistributions in binary form must reproduce the above copyright notice,
 *   this list of conditions and the following disclaimer in the documentation
 *   and/or other materials provided with the distribution.
 * * Neither the name of the project nor the names of its contributors may be
 *   used to endorse or promote products derived from this software without
 *   specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * Modifications made by Analytical Graphics, Inc.
 */
t.a="/**\n * @license\n * Copyright (c) 2000-2005, Sean O'Neil (s_p_oneil@hotmail.com)\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * * Redistributions of source code must retain the above copyright notice,\n *   this list of conditions and the following disclaimer.\n * * Redistributions in binary form must reproduce the above copyright notice,\n *   this list of conditions and the following disclaimer in the documentation\n *   and/or other materials provided with the distribution.\n * * Neither the name of the project nor the names of its contributors may be\n *   used to endorse or promote products derived from this software without\n *   specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * Modifications made by Analytical Graphics, Inc.\n */\n\n // Code:  http://sponeil.net/\n // GPU Gems 2 Article:  https://developer.nvidia.com/gpugems/GPUGems2/gpugems2_chapter16.html\n\nattribute vec4 position;\n\nuniform vec4 u_cameraAndRadiiAndDynamicAtmosphereColor; // Camera height, outer radius, inner radius, dynamic atmosphere color flag\n\nconst float Kr = 0.0025;\nconst float Kr4PI = Kr * 4.0 * czm_pi;\nconst float Km = 0.0015;\nconst float Km4PI = Km * 4.0 * czm_pi;\nconst float ESun = 15.0;\nconst float KmESun = Km * ESun;\nconst float KrESun = Kr * ESun;\nconst vec3 InvWavelength = vec3(\n    5.60204474633241,  // Red = 1.0 / Math.pow(0.650, 4.0)\n    9.473284437923038, // Green = 1.0 / Math.pow(0.570, 4.0)\n    19.643802610477206); // Blue = 1.0 / Math.pow(0.475, 4.0)\nconst float rayleighScaleDepth = 0.25;\n\nconst int nSamples = 2;\nconst float fSamples = 2.0;\n\nvarying vec3 v_rayleighColor;\nvarying vec3 v_mieColor;\nvarying vec3 v_toCamera;\n\nfloat scale(float cosAngle)\n{\n    float x = 1.0 - cosAngle;\n    return rayleighScaleDepth  * exp(-0.00287 + x*(0.459 + x*(3.83 + x*(-6.80 + x*5.25))));\n}\n\nvoid main(void)\n{\n    // Unpack attributes\n    float cameraHeight = u_cameraAndRadiiAndDynamicAtmosphereColor.x;\n    float outerRadius = u_cameraAndRadiiAndDynamicAtmosphereColor.y;\n    float innerRadius = u_cameraAndRadiiAndDynamicAtmosphereColor.z;\n\n    // Get the ray from the camera to the vertex and its length (which is the far point of the ray passing through the atmosphere)\n    vec3 positionV3 = position.xyz;\n    vec3 ray = positionV3 - czm_viewerPositionWC;\n    float far = length(ray);\n    ray /= far;\n    float atmosphereScale = 1.0 / (outerRadius - innerRadius);\n\n#ifdef SKY_FROM_SPACE\n    // Calculate the closest intersection of the ray with the outer atmosphere (which is the near point of the ray passing through the atmosphere)\n    float B = 2.0 * dot(czm_viewerPositionWC, ray);\n    float C = cameraHeight * cameraHeight - outerRadius * outerRadius;\n    float det = max(0.0, B*B - 4.0 * C);\n    float near = 0.5 * (-B - sqrt(det));\n\n    // Calculate the ray's starting position, then calculate its scattering offset\n    vec3 start = czm_viewerPositionWC + ray * near;\n    far -= near;\n    float startAngle = dot(ray, start) / outerRadius;\n    float startDepth = exp(-1.0 / rayleighScaleDepth );\n    float startOffset = startDepth*scale(startAngle);\n#else // SKY_FROM_ATMOSPHERE\n    // Calculate the ray's starting position, then calculate its scattering offset\n    vec3 start = czm_viewerPositionWC;\n    float height = length(start);\n    float depth = exp((atmosphereScale / rayleighScaleDepth ) * (innerRadius - cameraHeight));\n    float startAngle = dot(ray, start) / height;\n    float startOffset = depth*scale(startAngle);\n#endif\n\n    float lightEnum = u_cameraAndRadiiAndDynamicAtmosphereColor.w;\n    vec3 lightDirection =\n        czm_viewerPositionWC * float(lightEnum == 0.0) +\n        czm_lightDirectionWC * float(lightEnum == 1.0) +\n        czm_sunDirectionWC * float(lightEnum == 2.0);\n    lightDirection = normalize(lightDirection);\n\n    // Initialize the scattering loop variables\n    float sampleLength = far / fSamples;\n    float scaledLength = sampleLength * atmosphereScale;\n    vec3 sampleRay = ray * sampleLength;\n    vec3 samplePoint = start + sampleRay * 0.5;\n\n    // Now loop through the sample rays\n    vec3 frontColor = vec3(0.0, 0.0, 0.0);\n\n    for(int i=0; i<nSamples; i++)\n    {\n        float height = length(samplePoint);\n        float depth = exp((atmosphereScale / rayleighScaleDepth ) * (innerRadius - height));\n        float fLightAngle = dot(lightDirection, samplePoint) / height;\n        float fCameraAngle = dot(ray, samplePoint) / height;\n        float fScatter = (startOffset + depth*(scale(fLightAngle) - scale(fCameraAngle)));\n        vec3 attenuate = exp(-fScatter * (InvWavelength * Kr4PI + Km4PI));\n        frontColor += attenuate * (depth * scaledLength);\n        samplePoint += sampleRay;\n    }\n\n    // Finally, scale the Mie and Rayleigh colors and set up the varying variables for the pixel shader\n    v_mieColor = frontColor * KmESun;\n    v_rayleighColor = frontColor * (InvWavelength * KrESun);\n    v_toCamera = czm_viewerPositionWC - positionV3;\n    gl_Position = czm_modelViewProjection * position;\n}\n"},SfB7:function(e,t,i){e.exports=!i("+E39")&&!i("S82l")(function(){return 7!=Object.defineProperty(i("ON07")("div"),"a",{get:function(){return 7}}).a})},Sfsp:function(e,t,i){"use strict";function n(e,t,i,n){if(a.a.defined("array",e),a.a.defined("value",t),Object(o.a)(i)&&a.a.typeOf.number("start",i),Object(o.a)(n)&&a.a.typeOf.number("end",n),"function"==typeof e.fill)return e.fill(t,i,n);for(var s=e.length>>>0,c=Object(r.a)(i,0),l=c<0?Math.max(s+c,0):Math.min(c,s),u=Object(r.a)(n,s),h=u<0?Math.max(s+u,0):Math.min(u,s);l<h;)e[l]=t,l++;return e}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q");t.a=n},So8u:function(e,t,i){"use strict";function n(e){this.id=e,this.vertexFormat=void 0,this.length=void 0,this.topRadius=void 0,this.bottomRadius=void 0,this.slices=void 0,this.numberOfVerticalLines=void 0,this.offsetAttribute=void 0}function a(e,t){T.a.call(this,{entity:e,scene:t,geometryOptions:new n(e),geometryPropertyName:"cylinder",observedPropertyNames:["availability","position","orientation","cylinder"]}),this._onEntityPropertyChanged(e,"cylinder",e.cylinder,void 0)}function r(e,t,i){E.a.call(this,e,t,i)}var o=i("Jj+J"),s=i("5F4X"),c=i("6F0S"),l=i("devy"),u=i("LZ9m"),h=i("2eOl"),d=i("xC6Q"),f=i("PzDm"),p=i("2kyc"),m=i("izcu"),g=i("2g+t"),_=i("DsDe"),v=i("wpHJ"),b=i("zSqc"),y=i("JIo7"),O=i("xEUC"),w=i("BOJj"),x=i("I5FW"),E=i("5s/y"),T=i("rVBE"),A=i("mFnG"),C=i("uhjI"),S=o.a.ZERO,j=new o.a,P=new o.a,D=new c.a;Object(d.a)(Object.create)&&(a.prototype=Object.create(T.a.prototype),a.prototype.constructor=a),Object.defineProperties(a.prototype,{terrainOffsetProperty:{get:function(){return this._terrainOffsetProperty}}}),a.prototype.createFillGeometryInstance=function(e){if(s.a.defined("time",e),!this._fillEnabled)throw new f.a("This instance does not represent a filled geometry.");var t=this._entity,i=t.isAvailable(e),n=new b.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._fillProperty.getValue(e)),a=this._distanceDisplayConditionProperty.getValue(e),r=p.a.fromDistanceDisplayCondition(a),o={show:n,distanceDisplayCondition:r,color:void 0,offset:void 0};if(this._materialProperty instanceof x.a){var h;Object(d.a)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(h=this._materialProperty.color.getValue(e,D)),Object(d.a)(h)||(h=c.a.WHITE),o.color=l.a.fromColor(h)}return Object(d.a)(this._options.offsetAttribute)&&(o.offset=v.a.fromCartesian3(C.a.getValueOrDefault(this._terrainOffsetProperty,e,S,j))),new m.a({id:t,geometry:new u.a(this._options),modelMatrix:t.computeModelMatrixForHeightReference(e,t.cylinder.heightReference,.5*this._options.length,this._scene.mapProjection.ellipsoid),attributes:o})},a.prototype.createOutlineGeometryInstance=function(e){if(s.a.defined("time",e),!this._outlineEnabled)throw new f.a("This instance does not represent an outlined geometry.");var t=this._entity,i=t.isAvailable(e),n=C.a.getValueOrDefault(this._outlineColorProperty,e,c.a.BLACK,D),a=this._distanceDisplayConditionProperty.getValue(e),r={show:new b.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._showOutlineProperty.getValue(e)),color:l.a.fromColor(n),distanceDisplayCondition:p.a.fromDistanceDisplayCondition(a),offset:void 0};return Object(d.a)(this._options.offsetAttribute)&&(r.offset=v.a.fromCartesian3(C.a.getValueOrDefault(this._terrainOffsetProperty,e,S,j))),new m.a({id:t,geometry:new h.a(this._options),modelMatrix:t.computeModelMatrixForHeightReference(e,t.cylinder.heightReference,.5*this._options.length,this._scene.mapProjection.ellipsoid),attributes:r})},a.prototype._computeCenter=function(e,t){return C.a.getValueOrUndefined(this._entity.position,e,t)},a.prototype._isHidden=function(e,t){return!Object(d.a)(e.position)||!Object(d.a)(t.length)||!Object(d.a)(t.topRadius)||!Object(d.a)(t.bottomRadius)||T.a.prototype._isHidden.call(this,e,t)},a.prototype._isDynamic=function(e,t){return!(e.position.isConstant&&C.a.isConstant(e.orientation)&&t.length.isConstant&&t.topRadius.isConstant&&t.bottomRadius.isConstant&&C.a.isConstant(t.slices)&&C.a.isConstant(t.outlineWidth)&&C.a.isConstant(t.numberOfVerticalLines))},a.prototype._setStaticOptions=function(e,t){var i=C.a.getValueOrDefault(t.heightReference,_.a.MINIMUM_VALUE,y.a.NONE),n=this._options;n.vertexFormat=this._materialProperty instanceof x.a?w.a.VERTEX_FORMAT:O.a.MaterialSupport.TEXTURED.vertexFormat,n.length=t.length.getValue(_.a.MINIMUM_VALUE),n.topRadius=t.topRadius.getValue(_.a.MINIMUM_VALUE),n.bottomRadius=t.bottomRadius.getValue(_.a.MINIMUM_VALUE),n.slices=C.a.getValueOrUndefined(t.slices,_.a.MINIMUM_VALUE),n.numberOfVerticalLines=C.a.getValueOrUndefined(t.numberOfVerticalLines,_.a.MINIMUM_VALUE),n.offsetAttribute=i!==y.a.NONE?g.a.ALL:void 0},a.prototype._onEntityPropertyChanged=A.a,a.DynamicGeometryUpdater=r,Object(d.a)(Object.create)&&(r.prototype=Object.create(E.a.prototype),r.prototype.constructor=r),r.prototype._isHidden=function(e,t,i){var n=this._options,a=C.a.getValueOrUndefined(e.position,i,P);return!Object(d.a)(a)||!Object(d.a)(n.length)||!Object(d.a)(n.topRadius)||!Object(d.a)(n.bottomRadius)||E.a.prototype._isHidden.call(this,e,t,i)},r.prototype._setOptions=function(e,t,i){var n=C.a.getValueOrDefault(t.heightReference,i,y.a.NONE),a=this._options;a.length=C.a.getValueOrUndefined(t.length,i),a.topRadius=C.a.getValueOrUndefined(t.topRadius,i),a.bottomRadius=C.a.getValueOrUndefined(t.bottomRadius,i),a.slices=C.a.getValueOrUndefined(t.slices,i),a.numberOfVerticalLines=C.a.getValueOrUndefined(t.numberOfVerticalLines,i),a.offsetAttribute=n!==y.a.NONE?g.a.ALL:void 0},t.a=a},SoU4:function(e,t,i){"use strict";t.a="/**\n * Computes distance from an point in 2D to a line in 2D.\n *\n * @name czm_lineDistance\n * @glslFunction\n *\n * param {vec2} point1 A point along the line.\n * param {vec2} point2 A point along the line.\n * param {vec2} point A point that may or may not be on the line.\n * returns {float} The distance from the point to the line.\n */\nfloat czm_lineDistance(vec2 point1, vec2 point2, vec2 point) {\n    return abs((point2.y - point1.y) * point.x - (point2.x - point1.x) * point.y + point2.x * point1.y - point2.y * point1.x) / distance(point2, point1);\n}\n"},Ss9j:function(e,t,i){"use strict";function n(e,t){this.x=Object(r.a)(e,0),this.y=Object(r.a)(t,0)}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("fq+p");n.fromElements=function(e,t,i){return Object(o.a)(i)?(i.x=e,i.y=t,i):new n(e,t)},n.clone=function(e,t){if(Object(o.a)(e))return Object(o.a)(t)?(t.x=e.x,t.y=e.y,t):new n(e.x,e.y)},n.fromCartesian3=n.clone,n.fromCartesian4=n.clone,n.packedLength=2,n.pack=function(e,t,i){return a.a.typeOf.object("value",e),a.a.defined("array",t),i=Object(r.a)(i,0),t[i++]=e.x,t[i]=e.y,t},n.unpack=function(e,t,i){return a.a.defined("array",e),t=Object(r.a)(t,0),Object(o.a)(i)||(i=new n),i.x=e[t++],i.y=e[t],i},n.packArray=function(e,t){a.a.defined("array",e);var i=e.length,r=2*i;if(Object(o.a)(t)){if(!Array.isArray(t)&&t.length!==r)throw new s.a("If result is a typed array, it must have exactly array.length * 2 elements");t.length!==r&&(t.length=r)}else t=new Array(r);for(var c=0;c<i;++c)n.pack(e[c],t,2*c);return t},n.unpackArray=function(e,t){if(a.a.defined("array",e),a.a.typeOf.number.greaterThanOrEquals("array.length",e.length,2),e.length%2!=0)throw new s.a("array length must be a multiple of 2.");var i=e.length;Object(o.a)(t)?t.length=i/2:t=new Array(i/2);for(var r=0;r<i;r+=2){var c=r/2;t[c]=n.unpack(e,r,t[c])}return t},n.fromArray=n.unpack,n.maximumComponent=function(e){return a.a.typeOf.object("cartesian",e),Math.max(e.x,e.y)},n.minimumComponent=function(e){return a.a.typeOf.object("cartesian",e),Math.min(e.x,e.y)},n.minimumByComponent=function(e,t,i){return a.a.typeOf.object("first",e),a.a.typeOf.object("second",t),a.a.typeOf.object("result",i),i.x=Math.min(e.x,t.x),i.y=Math.min(e.y,t.y),i},n.maximumByComponent=function(e,t,i){return a.a.typeOf.object("first",e),a.a.typeOf.object("second",t),a.a.typeOf.object("result",i),i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i},n.magnitudeSquared=function(e){return a.a.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y},n.magnitude=function(e){return Math.sqrt(n.magnitudeSquared(e))};var l=new n;n.distance=function(e,t){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),n.subtract(e,t,l),n.magnitude(l)},n.distanceSquared=function(e,t){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),n.subtract(e,t,l),n.magnitudeSquared(l)},n.normalize=function(e,t){a.a.typeOf.object("cartesian",e),a.a.typeOf.object("result",t);var i=n.magnitude(e);if(t.x=e.x/i,t.y=e.y/i,isNaN(t.x)||isNaN(t.y))throw new s.a("normalized result is not a number");return t},n.dot=function(e,t){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),e.x*t.x+e.y*t.y},n.multiplyComponents=function(e,t,i){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i),i.x=e.x*t.x,i.y=e.y*t.y,i},n.divideComponents=function(e,t,i){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i),i.x=e.x/t.x,i.y=e.y/t.y,i},n.add=function(e,t,i){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i),i.x=e.x+t.x,i.y=e.y+t.y,i},n.subtract=function(e,t,i){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),a.a.typeOf.object("result",i),i.x=e.x-t.x,i.y=e.y-t.y,i},n.multiplyByScalar=function(e,t,i){return a.a.typeOf.object("cartesian",e),a.a.typeOf.number("scalar",t),a.a.typeOf.object("result",i),i.x=e.x*t,i.y=e.y*t,i},n.divideByScalar=function(e,t,i){return a.a.typeOf.object("cartesian",e),a.a.typeOf.number("scalar",t),a.a.typeOf.object("result",i),i.x=e.x/t,i.y=e.y/t,i},n.negate=function(e,t){return a.a.typeOf.object("cartesian",e),a.a.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t},n.abs=function(e,t){return a.a.typeOf.object("cartesian",e),a.a.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t};var u=new n;n.lerp=function(e,t,i,r){return a.a.typeOf.object("start",e),a.a.typeOf.object("end",t),a.a.typeOf.number("t",i),a.a.typeOf.object("result",r),n.multiplyByScalar(t,i,u),r=n.multiplyByScalar(e,1-i,r),n.add(u,r,r)};var h=new n,d=new n;n.angleBetween=function(e,t){return a.a.typeOf.object("left",e),a.a.typeOf.object("right",t),n.normalize(e,h),n.normalize(t,d),c.a.acosClamped(n.dot(h,d))};var f=new n;n.mostOrthogonalAxis=function(e,t){a.a.typeOf.object("cartesian",e),a.a.typeOf.object("result",t);var i=n.normalize(e,f);return n.abs(i,i),t=i.x<=i.y?n.clone(n.UNIT_X,t):n.clone(n.UNIT_Y,t)},n.equals=function(e,t){return e===t||Object(o.a)(e)&&Object(o.a)(t)&&e.x===t.x&&e.y===t.y},n.equalsArray=function(e,t,i){return e.x===t[i]&&e.y===t[i+1]},n.equalsEpsilon=function(e,t,i,n){return e===t||Object(o.a)(e)&&Object(o.a)(t)&&c.a.equalsEpsilon(e.x,t.x,i,n)&&c.a.equalsEpsilon(e.y,t.y,i,n)},n.ZERO=Object.freeze(new n(0,0)),n.UNIT_X=Object.freeze(new n(1,0)),n.UNIT_Y=Object.freeze(new n(0,1)),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t,i){return n.equalsEpsilon(this,e,t,i)},n.prototype.toString=function(){return"("+this.x+", "+this.y+")"},t.a=n},St4O:function(e,t,i){"use strict";function n(e){if(!Object(q.a)(e))throw new W.a("scene is required.");this._scene=e,this._transform=ne.a.clone(ne.a.IDENTITY),this._invTransform=ne.a.clone(ne.a.IDENTITY),this._actualTransform=ne.a.clone(ne.a.IDENTITY),this._actualInvTransform=ne.a.clone(ne.a.IDENTITY),this._transformChanged=!1,this.position=new k.a,this._position=new k.a,this._positionWC=new k.a,this._positionCartographic=new V.a,this._oldPositionWC=void 0,this.positionWCDeltaMagnitude=0,this.positionWCDeltaMagnitudeLastFrame=0,this.timeSinceMoved=0,this._lastMovedTimestamp=0,this.direction=new k.a,this._direction=new k.a,this._directionWC=new k.a,this.up=new k.a,this._up=new k.a,this._upWC=new k.a,this.right=new k.a,this._right=new k.a,this._rightWC=new k.a,this.frustum=new oe.a,this.frustum.aspectRatio=e.drawingBufferWidth/e.drawingBufferHeight,this.frustum.fov=te.a.toRadians(60),this.defaultMoveAmount=1e5,this.defaultLookAmount=Math.PI/60,this.defaultRotateAmount=Math.PI/3600,this.defaultZoomAmount=1e5,this.constrainedAxis=void 0,this.maximumZoomFactor=1.5,this._moveStart=new Q.a,this._moveEnd=new Q.a,this._changed=new Q.a,this._changedPosition=void 0,this._changedDirection=void 0,this._changedFrustum=void 0,this.percentageChanged=.5,this._viewMatrix=new ne.a,this._invViewMatrix=new ne.a,a(this),this._mode=fe.a.SCENE3D,this._modeChanged=!0;var t=e.mapProjection;this._projection=t,this._maxCoord=t.project(new V.a(Math.PI,te.a.PI_OVER_TWO)),this._max2Dfrustum=void 0,x(this,n.DEFAULT_VIEW_RECTANGLE,this.position,!0);var i=k.a.magnitude(this.position);i+=i*n.DEFAULT_VIEW_FACTOR,k.a.normalize(this.position,this.position),k.a.multiplyByScalar(this.position,i,this.position)}function a(e){ne.a.computeView(e._position,e._direction,e._up,e._right,e._viewMatrix),ne.a.multiply(e._viewMatrix,e._actualInvTransform,e._viewMatrix),ne.a.inverseTransformation(e._viewMatrix,e._invViewMatrix)}function r(e){if(Object(q.a)(e._oldPositionWC)){e.positionWCDeltaMagnitudeLastFrame=e.positionWCDeltaMagnitude;var t=k.a.subtract(e.positionWC,e._oldPositionWC,e._oldPositionWC);e.positionWCDeltaMagnitude=k.a.magnitude(t),e._oldPositionWC=k.a.clone(e.positionWC,e._oldPositionWC),e.positionWCDeltaMagnitude>0?(e.timeSinceMoved=0,e._lastMovedTimestamp=Object(J.a)()):e.timeSinceMoved=Math.max(Object(J.a)()-e._lastMovedTimestamp,0)/1e3}else e._oldPositionWC=k.a.clone(e.positionWC,e._oldPositionWC)}function o(e){ue.a.basisTo2D(e._projection,e._transform,e._actualTransform)}function s(e){var t=e._projection,i=t.ellipsoid,n=ne.a.getColumn(e._transform,3,_e),a=i.cartesianToCartographic(n,pe),r=t.project(a,me),o=ve;o.x=r.z,o.y=r.x,o.z=r.y,o.w=1;var s=U.a.clone(U.a.UNIT_X,Oe),c=U.a.add(ne.a.getColumn(e._transform,0,ge),n,ge);i.cartesianToCartographic(c,a),t.project(a,r);var l=be;l.x=r.z,l.y=r.x,l.z=r.y,l.w=0,k.a.subtract(l,o,l),l.x=0;var u=ye;if(k.a.magnitudeSquared(l)>te.a.EPSILON10)k.a.cross(s,l,u);else{var h=U.a.add(ne.a.getColumn(e._transform,1,ge),n,ge);i.cartesianToCartographic(h,a),t.project(a,r),u.x=r.z,u.y=r.x,u.z=r.y,u.w=0,k.a.subtract(u,o,u),u.x=0,k.a.magnitudeSquared(u)<te.a.EPSILON10&&(U.a.clone(U.a.UNIT_Y,l),U.a.clone(U.a.UNIT_Z,u))}k.a.cross(u,s,l),k.a.normalize(l,l),k.a.cross(s,l,u),k.a.normalize(u,u),ne.a.setColumn(e._actualTransform,0,l,e._actualTransform),ne.a.setColumn(e._actualTransform,1,u,e._actualTransform),ne.a.setColumn(e._actualTransform,2,s,e._actualTransform),ne.a.setColumn(e._actualTransform,3,o,e._actualTransform)}function c(e){var t=e._mode,i=!1,r=0;t===fe.a.SCENE2D&&(r=e.frustum.right-e.frustum.left,i=r!==e._positionCartographic.height);var c=e._position,l=!k.a.equals(c,e.position)||i;l&&(c=k.a.clone(e.position,e._position));var u=e._direction,h=!k.a.equals(u,e.direction);h&&(k.a.normalize(e.direction,e.direction),u=k.a.clone(e.direction,e._direction));var d=e._up,f=!k.a.equals(d,e.up);f&&(k.a.normalize(e.up,e.up),d=k.a.clone(e.up,e._up));var p=e._right,m=!k.a.equals(p,e.right);m&&(k.a.normalize(e.right,e.right),p=k.a.clone(e.right,e._right));var g=e._transformChanged||e._modeChanged;e._transformChanged=!1,g&&(ne.a.inverseTransformation(e._transform,e._invTransform),e._mode===fe.a.COLUMBUS_VIEW||e._mode===fe.a.SCENE2D?ne.a.equals(ne.a.IDENTITY,e._transform)?ne.a.clone(n.TRANSFORM_2D,e._actualTransform):e._mode===fe.a.COLUMBUS_VIEW?o(e):s(e):ne.a.clone(e._transform,e._actualTransform),ne.a.inverseTransformation(e._actualTransform,e._actualInvTransform),e._modeChanged=!1);var _=e._actualTransform;if(l||g)if(e._positionWC=ne.a.multiplyByPoint(_,c,e._positionWC),t===fe.a.SCENE3D||t===fe.a.MORPHING)e._positionCartographic=e._projection.ellipsoid.cartesianToCartographic(e._positionWC,e._positionCartographic);else{var v=we;v.x=e._positionWC.y,v.y=e._positionWC.z,v.z=e._positionWC.x,t===fe.a.SCENE2D&&(v.z=r),e._projection.unproject(v,e._positionCartographic)}if(h||f||m){var b=k.a.dot(u,k.a.cross(d,p,we));if(Math.abs(1-b)>te.a.EPSILON2){var y=1/k.a.magnitudeSquared(d),O=k.a.dot(d,u)*y,w=k.a.multiplyByScalar(u,O,we);d=k.a.normalize(k.a.subtract(d,w,e._up),e._up),k.a.clone(d,e.up),p=k.a.cross(u,d,e._right),k.a.clone(p,e.right)}}(h||g)&&(e._directionWC=ne.a.multiplyByPointAsVector(_,u,e._directionWC),k.a.normalize(e._directionWC,e._directionWC)),(f||g)&&(e._upWC=ne.a.multiplyByPointAsVector(_,d,e._upWC),k.a.normalize(e._upWC,e._upWC)),(m||g)&&(e._rightWC=ne.a.multiplyByPointAsVector(_,p,e._rightWC),k.a.normalize(e._rightWC,e._rightWC)),(l||h||f||m||g)&&a(e)}function l(e,t){var i;return i=te.a.equalsEpsilon(Math.abs(e.z),1,te.a.EPSILON3)?Math.atan2(t.y,t.x)-te.a.PI_OVER_TWO:Math.atan2(e.y,e.x)-te.a.PI_OVER_TWO,te.a.TWO_PI-te.a.zeroToTwoPi(i)}function u(e){return te.a.PI_OVER_TWO-te.a.acosClamped(e.z)}function h(e,t,i){var n=0;return te.a.equalsEpsilon(Math.abs(e.z),1,te.a.EPSILON3)||(n=Math.atan2(-i.z,t.z),n=te.a.zeroToTwoPi(n+te.a.TWO_PI)),n}function d(e,t,i){var n=ne.a.clone(e.transform,Re),a=ue.a.eastNorthUpToFixedFrame(t,e._projection.ellipsoid,Me);e._setTransform(a),k.a.clone(k.a.ZERO,e.position),i.heading=i.heading-te.a.PI_OVER_TWO;var r=se.a.fromHeadingPitchRoll(i,Le),o=ie.a.fromQuaternion(r,Ne);ie.a.getColumn(o,0,e.direction),ie.a.getColumn(o,2,e.up),k.a.cross(e.direction,e.up,e.right),e._setTransform(n),e._adjustOrthographicFrustum(!0)}function f(e,t,i,n){var a=ne.a.clone(e.transform,Re);if(e._setTransform(ne.a.IDENTITY),!k.a.equals(t,e.positionWC)){if(n){var r=e._projection,o=r.ellipsoid.cartesianToCartographic(t,Fe);t=r.project(o,Ie)}k.a.clone(t,e.position)}i.heading=i.heading-te.a.PI_OVER_TWO;var s=se.a.fromHeadingPitchRoll(i,Le),c=ie.a.fromQuaternion(s,Ne);ie.a.getColumn(c,0,e.direction),ie.a.getColumn(c,2,e.up),k.a.cross(e.direction,e.up,e.right),e._setTransform(a),e._adjustOrthographicFrustum(!0)}function p(e,t,i,n){var a=ne.a.clone(e.transform,Re);if(e._setTransform(ne.a.IDENTITY),!k.a.equals(t,e.positionWC)){if(n){var r=e._projection,o=r.ellipsoid.cartesianToCartographic(t,Fe);t=r.project(o,Ie)}B.a.clone(t,e.position);var s=.5*-t.z,c=-s,l=e.frustum;if(c>s){var u=l.top/l.right;l.right=c,l.left=s,l.top=l.right*u,l.bottom=-l.top}}if(e._scene.mapMode2D===de.a.ROTATE){i.heading=i.heading-te.a.PI_OVER_TWO,i.pitch=-te.a.PI_OVER_TWO,i.roll=0;var h=se.a.fromHeadingPitchRoll(i,Le),d=ie.a.fromQuaternion(h,Ne);ie.a.getColumn(d,2,e.up),k.a.cross(e.direction,e.up,e.right)}e._setTransform(a)}function m(e,t,i,n){var a=k.a.clone(i.direction,ze),r=k.a.clone(i.up,Be);if(e._scene.mode===fe.a.SCENE3D){var o=e._projection.ellipsoid,s=ue.a.eastNorthUpToFixedFrame(t,o,xe),c=ne.a.inverseTransformation(s,Ee);ne.a.multiplyByPointAsVector(c,a,a),ne.a.multiplyByPointAsVector(c,r,r)}var d=k.a.cross(a,r,ke);return n.heading=l(a,r),n.pitch=u(a),n.roll=h(a,r,d),n}function g(e,t){var i,n,a=e._scene.mapMode2D===de.a.ROTATE,r=e._maxCoord.x,o=e._maxCoord.y;a?(n=r,i=-n):(n=t.x-2*r,i=t.x+2*r),t.x>r&&(t.x=n),t.x<-r&&(t.x=i),t.y>o&&(t.y=o),t.y<-o&&(t.y=-o)}function _(e,t){var i=e.position;if(Object(q.a)(e.constrainedAxis)&&!k.a.equalsEpsilon(e.position,k.a.ZERO,te.a.EPSILON2)){var n=k.a.normalize(i,Qe),a=k.a.equalsEpsilon(n,e.constrainedAxis,te.a.EPSILON2),r=k.a.equalsEpsilon(n,k.a.negate(e.constrainedAxis,Ke),te.a.EPSILON2);if(a||r)(a&&t<0||r&&t>0)&&e.rotate(e.right,t);else{var o=k.a.normalize(e.constrainedAxis,Je),s=k.a.dot(n,o),c=te.a.acosClamped(s);t>0&&t>c&&(t=c-te.a.EPSILON4),s=k.a.dot(n,k.a.negate(o,Ke)),c=te.a.acosClamped(s),t<0&&-t>c&&(t=-c+te.a.EPSILON4);var l=k.a.cross(o,n,Ze);e.rotate(l,t)}}else e.rotate(e.right,t)}function v(e,t){Object(q.a)(e.constrainedAxis)?e.rotate(e.constrainedAxis,t):e.rotate(e.up,t)}function b(e,t){var i=e.frustum;if(!(i instanceof re.a&&Object(q.a)(i.left)&&Object(q.a)(i.right)&&Object(q.a)(i.bottom)&&Object(q.a)(i.top)))throw new W.a("The camera frustum is expected to be orthographic for 2D camera control.");var n;if(t*=.5,Math.abs(i.top)+Math.abs(i.bottom)>Math.abs(i.left)+Math.abs(i.right)){var a=i.top-t,r=i.bottom+t,o=e._maxCoord.y;e._scene.mapMode2D===de.a.ROTATE&&(o*=e.maximumZoomFactor),r>o&&(r=o,a=-o),a<=r&&(a=1,r=-1),n=i.right/i.top,i.top=a,i.bottom=r,i.right=i.top*n,i.left=-i.right}else{var s=i.right-t,c=i.left+t,l=e._maxCoord.x;e._scene.mapMode2D===de.a.ROTATE&&(l*=e.maximumZoomFactor),s>l&&(s=l,c=-l),s<=c&&(s=1,c=-1),n=i.top/i.right,i.right=s,i.left=c,i.top=i.right*n,i.bottom=-i.top}}function y(e,t){e.move(e.direction,t)}function O(e,t,i){t=te.a.clamp(t,-te.a.PI_OVER_TWO,te.a.PI_OVER_TWO),e=te.a.zeroToTwoPi(e)-te.a.PI_OVER_TWO;var n=se.a.fromAxisAngle(k.a.UNIT_Y,-t,tt),a=se.a.fromAxisAngle(k.a.UNIT_Z,-e,it),r=se.a.multiply(a,n,a),o=ie.a.fromQuaternion(r,nt),s=k.a.clone(k.a.UNIT_X,et);return ie.a.multiplyByVector(o,s,s),k.a.negate(s,s),k.a.multiplyByScalar(s,i,s),s}function w(e,t,i,n){return Math.abs(k.a.dot(t,i))/n-k.a.dot(e,i)}function x(e,t,i,n){var a=e._projection.ellipsoid,r=n?e:mt,o=t.north,s=t.south,c=t.east,l=t.west;l>c&&(c+=te.a.TWO_PI);var u,h=.5*(l+c);if(s<-te.a.PI_OVER_TWO+te.a.RADIANS_PER_DEGREE&&o>te.a.PI_OVER_TWO-te.a.RADIANS_PER_DEGREE)u=0;else{var d=rt;d.longitude=h,d.latitude=o,d.height=0;var f=ot;f.longitude=h,f.latitude=s,f.height=0;var p=at;Object(q.a)(p)&&p.ellipsoid===a||(at=p=new X.a(void 0,void 0,a)),p.setEndPoints(d,f),u=p.interpolateUsingFraction(.5,rt).latitude}var m=rt;m.longitude=h,m.latitude=u,m.height=0;var g=a.cartographicToCartesian(m,ft),_=rt;_.longitude=c,_.latitude=o;var v=a.cartographicToCartesian(_,st);_.longitude=l;var b=a.cartographicToCartesian(_,lt);_.longitude=h;var y=a.cartographicToCartesian(_,ht);_.latitude=s;var O=a.cartographicToCartesian(_,dt);_.longitude=c;var x=a.cartographicToCartesian(_,ut);_.longitude=l;var E=a.cartographicToCartesian(_,ct);k.a.subtract(b,g,b),k.a.subtract(x,g,x),k.a.subtract(v,g,v),k.a.subtract(E,g,E),k.a.subtract(y,g,y),k.a.subtract(O,g,O);var T=a.geodeticSurfaceNormal(g,r.direction);k.a.negate(T,T);var A=k.a.cross(T,k.a.UNIT_Z,r.right);k.a.normalize(A,A);var C,S=k.a.cross(A,T,r.up);if(e.frustum instanceof ae.a){var j,P,D=Math.max(k.a.distance(v,b),k.a.distance(x,E)),I=Math.max(k.a.distance(v,x),k.a.distance(b,E)),R=e.frustum._offCenterFrustum.right/e.frustum._offCenterFrustum.top,M=I*R;D>M?(j=D,P=j/R):(P=I,j=M),C=Math.max(j,P)}else{var L=Math.tan(.5*e.frustum.fovy),N=e.frustum.aspectRatio*L;if(C=Math.max(w(T,S,b,L),w(T,S,x,L),w(T,S,v,L),w(T,S,E,L),w(T,S,y,L),w(T,S,O,L),w(T,A,b,N),w(T,A,x,N),w(T,A,v,N),w(T,A,E,N),w(T,A,y,N),w(T,A,O,N)),s<0&&o>0){var F=rt;F.longitude=l,F.latitude=0,F.height=0;var z=a.cartographicToCartesian(F,pt);k.a.subtract(z,g,z),C=Math.max(C,w(T,S,z,L),w(T,A,z,N)),F.longitude=c,z=a.cartographicToCartesian(F,pt),k.a.subtract(z,g,z),C=Math.max(C,w(T,S,z,L),w(T,A,z,N))}}return k.a.add(g,k.a.multiplyByScalar(T,-C,pt),i)}function E(e,t,i){var n=e._projection;t.west>t.east&&(t=le.a.MAX_VALUE);var a=e._actualTransform,r=e._actualInvTransform,o=gt;o.longitude=t.east,o.latitude=t.north;var s=n.project(o,_t);ne.a.multiplyByPoint(a,s,s),ne.a.multiplyByPoint(r,s,s),o.longitude=t.west,o.latitude=t.south;var c=n.project(o,vt);if(ne.a.multiplyByPoint(a,c,c),ne.a.multiplyByPoint(r,c,c),i.x=.5*(s.x-c.x)+c.x,i.y=.5*(s.y-c.y)+c.y,Object(q.a)(e.frustum.fovy)){var l=Math.tan(.5*e.frustum.fovy),u=e.frustum.aspectRatio*l;i.z=.5*Math.max((s.x-c.x)/u,(s.y-c.y)/l)}else{var h=s.x-c.x,d=s.y-c.y;i.z=Math.max(h,d)}return i}function T(e,t,i){var n=e._projection,a=t.east;t.west>t.east&&(e._scene.mapMode2D===de.a.INFINITE_SCROLL?a+=te.a.TWO_PI:(t=le.a.MAX_VALUE,a=t.east));var r=bt;r.longitude=a,r.latitude=t.north;var o=n.project(r,yt);r.longitude=t.west,r.latitude=t.south;var s,c,l=n.project(r,Ot),u=.5*Math.abs(o.x-l.x),h=.5*Math.abs(o.y-l.y),d=e.frustum.right/e.frustum.top,f=h*d;return u>f?(s=u,c=s/d):(c=h,s=f),h=Math.max(2*s,2*c),i.x=.5*(o.x-l.x)+l.x,i.y=.5*(o.y-l.y)+l.y,r=n.unproject(i,r),r.height=h,i=n.project(r,i)}function A(e,t,i,n){i=Object(H.a)(i,Y.a.WGS84);var a=e.getPickRay(t,wt),r=ee.a.rayEllipsoid(a,i);if(r){var o=r.start>0?r.start:r.stop;return ce.a.getPoint(a,o,n)}}function C(e,t,i,n){var a=e.getPickRay(t,xt),r=a.origin;r=k.a.fromElements(r.y,r.z,0,r);var o=i.unproject(r);if(!(o.latitude<-te.a.PI_OVER_TWO||o.latitude>te.a.PI_OVER_TWO))return i.ellipsoid.cartographicToCartesian(o,n)}function S(e,t,i,n){var a=e.getPickRay(t,Et),r=-a.origin.x/a.direction.x;ce.a.getPoint(a,r,n);var o=i.unproject(new k.a(n.y,n.z,0));if(!(o.latitude<-te.a.PI_OVER_TWO||o.latitude>te.a.PI_OVER_TWO||o.longitude<-Math.PI||o.longitude>Math.PI))return i.ellipsoid.cartographicToCartesian(o,n)}function j(e,t,i){var n=e._scene.canvas,a=n.clientWidth,r=n.clientHeight,o=Math.tan(.5*e.frustum.fovy),s=e.frustum.aspectRatio*o,c=e.frustum.near,l=2/a*t.x-1,u=2/r*(r-t.y)-1,h=e.positionWC;k.a.clone(h,i.origin);var d=k.a.multiplyByScalar(e.directionWC,c,Tt);k.a.add(h,d,d);var f=k.a.multiplyByScalar(e.rightWC,l*c*s,At),p=k.a.multiplyByScalar(e.upWC,u*c*o,Ct),m=k.a.add(d,f,i.direction);return k.a.add(m,p,m),k.a.subtract(m,h,m),k.a.normalize(m,m),i}function P(e,t,i){var n=e._scene.canvas,a=n.clientWidth,r=n.clientHeight,o=e.frustum;Object(q.a)(o._offCenterFrustum)&&(o=o._offCenterFrustum);var s=2/a*t.x-1;s*=.5*(o.right-o.left);var c=2/r*(r-t.y)-1;c*=.5*(o.top-o.bottom);var l=i.origin;return k.a.clone(e.position,l),k.a.multiplyByScalar(e.right,s,St),k.a.add(St,l,l),k.a.multiplyByScalar(e.up,c,St),k.a.add(St,l,l),k.a.clone(e.directionWC,i.direction),e._mode!==fe.a.COLUMBUS_VIEW&&e._mode!==fe.a.SCENE2D||k.a.fromElements(i.origin.z,i.origin.x,i.origin.y,i.origin),i}function D(e,t,i,n,a,r){function o(i){var n=k.a.lerp(t,s,i.time,new k.a);e.worldToCameraCoordinatesPoint(n,e.position)}var s=k.a.clone(t);return i.y>n?s.y-=i.y-n:i.y<-n&&(s.y+=-n-i.y),i.z>a?s.z-=i.z-a:i.z<-a&&(s.z+=-a-i.z),{easingFunction:G.a.EXPONENTIAL_OUT,startObject:{time:0},stopObject:{time:1},duration:r,update:o}}function I(e,t){var i=e.position,n=e.direction,a=e.worldToCameraCoordinatesVector(k.a.UNIT_X,It),r=-k.a.dot(a,i)/k.a.dot(a,n),o=k.a.add(i,k.a.multiplyByScalar(n,r,Rt),Rt);e.cameraToWorldCoordinatesPoint(o,o),i=e.cameraToWorldCoordinatesPoint(e.position,Mt);var s=Math.tan(.5*e.frustum.fovy),c=e.frustum.aspectRatio*s,l=k.a.magnitude(k.a.subtract(i,o,Lt)),u=c*l,h=s*l,d=e._maxCoord.x,f=e._maxCoord.y,p=Math.max(u-d,d),m=Math.max(h-f,f);if(i.z<-p||i.z>p||i.y<-m||i.y>m){var g=o.y<-p||o.y>p,_=o.z<-m||o.z>m;if(g||_)return D(e,i,o,p,m,t)}}function R(e,t){var i=e.frustum,n=Math.tan(.5*i.fovy),a=i.aspectRatio*n;return Math.max(t/a,t/n)}function M(e,t){var i=e.frustum;Object(q.a)(i._offCenterFrustum)&&(i=i._offCenterFrustum);var n,a,r=i.right/i.top,o=t*r;return t>o?(n=t,a=n/r):(a=t,n=o),1.5*Math.max(n,a)}function L(e,t,i){i=Z.a.clone(Object(q.a)(i)?i:n.DEFAULT_OFFSET);var a=e._scene.screenSpaceCameraController.minimumZoomDistance,r=e._scene.screenSpaceCameraController.maximumZoomDistance,o=i.range;if(!Object(q.a)(o)||0===o){var s=t.radius;0===s?i.range=zt:e.frustum instanceof ae.a||e._mode===fe.a.SCENE2D?i.range=M(e,s):i.range=R(e,s),i.range=te.a.clamp(i.range,a,r)}return i}function N(e,t){var i,n,a=t.radii,r=e.positionWC,o=k.a.multiplyComponents(t.oneOverRadii,r,Yt),s=k.a.magnitude(o),c=k.a.normalize(o,Xt);k.a.equalsEpsilon(c,k.a.UNIT_Z,te.a.EPSILON10)?(i=new k.a(0,1,0),n=new k.a(0,0,1)):(i=k.a.normalize(k.a.cross(k.a.UNIT_Z,c,Qt),Qt),n=k.a.normalize(k.a.cross(c,i,Jt),Jt));var l=Math.sqrt(k.a.magnitudeSquared(o)-1),u=k.a.multiplyByScalar(c,1/s,Yt),h=l/s,d=k.a.multiplyByScalar(i,h,Xt),f=k.a.multiplyByScalar(n,h,Qt),p=k.a.add(u,f,Zt[0]);k.a.subtract(p,d,p),k.a.multiplyComponents(a,p,p);var m=k.a.subtract(u,f,Zt[1]);k.a.subtract(m,d,m),k.a.multiplyComponents(a,m,m);var g=k.a.subtract(u,f,Zt[2]);k.a.add(g,d,g),k.a.multiplyComponents(a,g,g);var _=k.a.add(u,f,Zt[3]);return k.a.add(_,d,_),k.a.multiplyComponents(a,_,_),Zt}function F(e,t,i,n,a,r){Kt.x=e,Kt.y=t;var o=n.pickEllipsoid(Kt,a,$t);return Object(q.a)(o)?(ei[i]=a.cartesianToCartographic(o,ei[i]),1):(ei[i]=a.cartesianToCartographic(r[i],ei[i]),0)}var z=i("lBr9"),B=i("Ss9j"),k=i("Jj+J"),U=i("PDkd"),V=i("I3GD"),H=i("5A4e"),q=i("xC6Q"),W=i("PzDm"),G=i("jxrD"),Y=i("y6fO"),X=i("MWnf"),Q=i("W6xh"),J=i("n08a"),Z=i("ZHSH"),K=i("72xV"),$=i("u909"),ee=i("Myjj"),te=i("fq+p"),ie=i("i3sv"),ne=i("Xjii"),ae=i("ku5u"),re=i("rpO5"),oe=i("MYGk"),se=i("q/xW"),ce=i("/++d"),le=i("Wq1U"),ue=i("g/FO"),he=i("YfNe"),de=i("6Euq"),fe=i("sotJ");n.TRANSFORM_2D=new ne.a(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1),n.TRANSFORM_2D_INVERSE=ne.a.inverseTransformation(n.TRANSFORM_2D,new ne.a),n.DEFAULT_VIEW_RECTANGLE=le.a.fromDegrees(-95,-20,-70,90),n.DEFAULT_VIEW_FACTOR=.5,n.DEFAULT_OFFSET=new Z.a(0,-te.a.PI_OVER_FOUR,0),n.prototype.canPreloadFlight=function(){return Object(q.a)(this._currentFlight)&&this._mode!==fe.a.SCENE2D},n.prototype._updateCameraChanged=function(){var e=this;if(r(e),0!==e._changed.numberOfListeners){var t=e.percentageChanged;if(e._mode===fe.a.SCENE2D){if(!Object(q.a)(e._changedFrustum))return e._changedPosition=k.a.clone(e.position,e._changedPosition),void(e._changedFrustum=e.frustum.clone());var i,n=e.position,a=e._changedPosition,o=e.frustum,s=e._changedFrustum,c=n.x+o.left,l=n.x+o.right,u=a.x+s.left,h=a.x+s.right,d=n.y+o.bottom,f=n.y+o.top,p=a.y+s.bottom,m=a.y+s.top,g=Math.max(c,u),_=Math.min(l,h),v=Math.max(d,p),b=Math.min(f,m);if(g>=_||v>=f)i=1;else{var y=s;c<u&&l>h&&d<p&&f>m&&(y=o),i=1-(_-g)*(b-v)/((y.right-y.left)*(y.top-y.bottom))}return void(i>t&&(e._changed.raiseEvent(i),e._changedPosition=k.a.clone(e.position,e._changedPosition),e._changedFrustum=e.frustum.clone(e._changedFrustum)))}if(!Object(q.a)(e._changedDirection))return e._changedPosition=k.a.clone(e.positionWC,e._changedPosition),void(e._changedDirection=k.a.clone(e.directionWC,e._changedDirection));var O,w=te.a.acosClamped(k.a.dot(e.directionWC,e._changedDirection));O=Object(q.a)(e.frustum.fovy)?w/(.5*e.frustum.fovy):w;var x=k.a.distance(e.positionWC,e._changedPosition),E=x/e.positionCartographic.height;(O>t||E>t)&&(e._changed.raiseEvent(Math.max(O,E)),e._changedPosition=k.a.clone(e.positionWC,e._changedPosition),e._changedDirection=k.a.clone(e.directionWC,e._changedDirection))}};var pe=new V.a,me=new k.a,ge=new k.a,_e=new U.a,ve=new U.a,be=new U.a,ye=new U.a,Oe=new U.a,we=new k.a,xe=new ne.a,Ee=new ne.a;Object.defineProperties(n.prototype,{transform:{get:function(){return this._transform}},inverseTransform:{get:function(){return c(this),this._invTransform}},viewMatrix:{get:function(){return c(this),this._viewMatrix}},inverseViewMatrix:{get:function(){return c(this),this._invViewMatrix}},positionCartographic:{get:function(){return c(this),this._positionCartographic}},positionWC:{get:function(){return c(this),this._positionWC}},directionWC:{get:function(){return c(this),this._directionWC}},upWC:{get:function(){return c(this),this._upWC}},rightWC:{get:function(){return c(this),this._rightWC}},heading:{get:function(){if(this._mode!==fe.a.MORPHING){var e=this._projection.ellipsoid,t=ne.a.clone(this._transform,xe),i=ue.a.eastNorthUpToFixedFrame(this.positionWC,e,Ee);this._setTransform(i);var n=l(this.direction,this.up);return this._setTransform(t),n}}},pitch:{get:function(){if(this._mode!==fe.a.MORPHING){var e=this._projection.ellipsoid,t=ne.a.clone(this._transform,xe),i=ue.a.eastNorthUpToFixedFrame(this.positionWC,e,Ee);this._setTransform(i);var n=u(this.direction);return this._setTransform(t),n}}},roll:{get:function(){if(this._mode!==fe.a.MORPHING){var e=this._projection.ellipsoid,t=ne.a.clone(this._transform,xe),i=ue.a.eastNorthUpToFixedFrame(this.positionWC,e,Ee);this._setTransform(i);var n=h(this.direction,this.up,this.right);return this._setTransform(t),n}}},moveStart:{get:function(){return this._moveStart}},moveEnd:{get:function(){return this._moveEnd}},changed:{get:function(){return this._changed}}}),n.prototype.update=function(e){if(!Object(q.a)(e))throw new W.a("mode is required.");if(e===fe.a.SCENE2D&&!(this.frustum instanceof re.a))throw new W.a("An OrthographicOffCenterFrustum is required in 2D.");if(!(e!==fe.a.SCENE3D&&e!==fe.a.COLUMBUS_VIEW||this.frustum instanceof oe.a||this.frustum instanceof ae.a))throw new W.a("A PerspectiveFrustum or OrthographicFrustum is required in 3D and Columbus view");var t=!1;if(e!==this._mode&&(this._mode=e,this._modeChanged=e!==fe.a.MORPHING,t=this._mode===fe.a.SCENE2D),t){var i=this._max2Dfrustum=this.frustum.clone();if(!(i instanceof re.a))throw new W.a("The camera frustum is expected to be orthographic for 2D camera control.");var n=i.top/i.right;i.right=2*this._maxCoord.x,i.left=-i.right,i.top=n*i.right,i.bottom=-i.top}this._mode===fe.a.SCENE2D&&g(this,this.position)};var Te=new k.a,Ae=new k.a,Ce=new k.a;n.prototype._setTransform=function(e){var t=k.a.clone(this.positionWC,Te),i=k.a.clone(this.upWC,Ae),n=k.a.clone(this.directionWC,Ce);ne.a.clone(e,this._transform),this._transformChanged=!0,c(this);var a=this._actualInvTransform;ne.a.multiplyByPoint(a,t,this.position),ne.a.multiplyByPointAsVector(a,n,this.direction),ne.a.multiplyByPointAsVector(a,i,this.up),k.a.cross(this.direction,this.up,this.right),c(this)};var Se=new B.a,je=new ce.a,Pe=new k.a,De=new k.a;n.prototype._adjustOrthographicFrustum=function(e){if(this.frustum instanceof ae.a&&(e||!(this._positionCartographic.height<15e4))){if(!ne.a.equals(ne.a.IDENTITY,this.transform))return void(this.frustum.width=k.a.magnitude(this.position));var t,i,n=this._scene,a=n.globe;if(Object(q.a)(a)){var r=Se;r.x=n.drawingBufferWidth/2,r.y=n.drawingBufferHeight/2;var o=this.getPickRay(r,je);if(t=a.pickWorldCoordinates(o,n,Pe),n.pickPositionSupported&&(i=n.pickPositionWorldCoordinates(r,De)),Object(q.a)(t)&&Object(q.a)(i)){var s=Object(q.a)(i)?k.a.distance(i,this.positionWC):Number.POSITIVE_INFINITY,c=Object(q.a)(t)?k.a.distance(t,this.positionWC):Number.POSITIVE_INFINITY;this.frustum.width=Math.min(s,c)}else Object(q.a)(i)?this.frustum.width=k.a.distance(i,this.positionWC):Object(q.a)(t)&&(this.frustum.width=k.a.distance(t,this.positionWC))}if(!Object(q.a)(a)||!Object(q.a)(t)&&!Object(q.a)(i)){var l=Math.max(this.positionCartographic.height,0);this.frustum.width=l}}};var Ie=new k.a,Re=new ne.a,Me=new ne.a,Le=new se.a,Ne=new ie.a,Fe=new V.a,ze=new k.a,Be=new k.a,ke=new k.a,Ue={destination:void 0,orientation:{direction:void 0,up:void 0,heading:void 0,pitch:void 0,roll:void 0},convert:void 0,endTransform:void 0},Ve=new K.a;n.prototype.setView=function(e){e=Object(H.a)(e,H.a.EMPTY_OBJECT);var t=Object(H.a)(e.orientation,H.a.EMPTY_OBJECT),i=this._mode;if(i!==fe.a.MORPHING){Object(q.a)(e.endTransform)&&this._setTransform(e.endTransform);var n=Object(H.a)(e.convert,!0),a=Object(H.a)(e.destination,k.a.clone(this.positionWC,Ie));Object(q.a)(a)&&Object(q.a)(a.west)&&(a=this.getRectangleCameraCoordinates(a,Ie),n=!1),Object(q.a)(t.direction)&&(t=m(this,a,t,Ue.orientation)),Ve.heading=Object(H.a)(t.heading,0),Ve.pitch=Object(H.a)(t.pitch,-te.a.PI_OVER_TWO),Ve.roll=Object(H.a)(t.roll,0),i===fe.a.SCENE3D?d(this,a,Ve):i===fe.a.SCENE2D?p(this,a,Ve,n):f(this,a,Ve,n)}};var He=new k.a;n.prototype.flyHome=function(e){var t=this._mode;if(t===fe.a.MORPHING&&this._scene.completeMorph(),t===fe.a.SCENE2D)this.flyTo({destination:n.DEFAULT_VIEW_RECTANGLE,duration:e,endTransform:ne.a.IDENTITY});else if(t===fe.a.SCENE3D){var i=this.getRectangleCameraCoordinates(n.DEFAULT_VIEW_RECTANGLE),a=k.a.magnitude(i);a+=a*n.DEFAULT_VIEW_FACTOR,k.a.normalize(i,i),k.a.multiplyByScalar(i,a,i),this.flyTo({destination:i,duration:e,endTransform:ne.a.IDENTITY})}else if(t===fe.a.COLUMBUS_VIEW){var r=this._projection.ellipsoid.maximumRadius,o=new k.a(0,-1,1);o=k.a.multiplyByScalar(k.a.normalize(o,o),5*r,o),this.flyTo({destination:o,duration:e,orientation:{heading:0,pitch:-Math.acos(k.a.normalize(o,He).z),roll:0},endTransform:ne.a.IDENTITY,convert:!1})}},n.prototype.worldToCameraCoordinates=function(e,t){if(!Object(q.a)(e))throw new W.a("cartesian is required.");return Object(q.a)(t)||(t=new U.a),c(this),ne.a.multiplyByVector(this._actualInvTransform,e,t)},n.prototype.worldToCameraCoordinatesPoint=function(e,t){if(!Object(q.a)(e))throw new W.a("cartesian is required.");return Object(q.a)(t)||(t=new k.a),c(this),ne.a.multiplyByPoint(this._actualInvTransform,e,t)},n.prototype.worldToCameraCoordinatesVector=function(e,t){if(!Object(q.a)(e))throw new W.a("cartesian is required.");return Object(q.a)(t)||(t=new k.a),c(this),ne.a.multiplyByPointAsVector(this._actualInvTransform,e,t)},n.prototype.cameraToWorldCoordinates=function(e,t){if(!Object(q.a)(e))throw new W.a("cartesian is required.");return Object(q.a)(t)||(t=new U.a),c(this),ne.a.multiplyByVector(this._actualTransform,e,t)},n.prototype.cameraToWorldCoordinatesPoint=function(e,t){if(!Object(q.a)(e))throw new W.a("cartesian is required.");return Object(q.a)(t)||(t=new k.a),c(this),ne.a.multiplyByPoint(this._actualTransform,e,t)},n.prototype.cameraToWorldCoordinatesVector=function(e,t){if(!Object(q.a)(e))throw new W.a("cartesian is required.");return Object(q.a)(t)||(t=new k.a),c(this),ne.a.multiplyByPointAsVector(this._actualTransform,e,t)};var qe=new k.a;n.prototype.move=function(e,t){if(!Object(q.a)(e))throw new W.a("direction is required.");var i=this.position;k.a.multiplyByScalar(e,t,qe),k.a.add(i,qe,i),this._mode===fe.a.SCENE2D&&g(this,i),this._adjustOrthographicFrustum(!0)},n.prototype.moveForward=function(e){e=Object(H.a)(e,this.defaultMoveAmount),this._mode===fe.a.SCENE2D?b(this,e):this.move(this.direction,e)},n.prototype.moveBackward=function(e){e=Object(H.a)(e,this.defaultMoveAmount),this._mode===fe.a.SCENE2D?b(this,-e):this.move(this.direction,-e)},n.prototype.moveUp=function(e){e=Object(H.a)(e,this.defaultMoveAmount),this.move(this.up,e)},n.prototype.moveDown=function(e){e=Object(H.a)(e,this.defaultMoveAmount),this.move(this.up,-e)},n.prototype.moveRight=function(e){e=Object(H.a)(e,this.defaultMoveAmount),this.move(this.right,e)},n.prototype.moveLeft=function(e){e=Object(H.a)(e,this.defaultMoveAmount),this.move(this.right,-e)},n.prototype.lookLeft=function(e){e=Object(H.a)(e,this.defaultLookAmount),this._mode!==fe.a.SCENE2D&&this.look(this.up,-e)},n.prototype.lookRight=function(e){e=Object(H.a)(e,this.defaultLookAmount),this._mode!==fe.a.SCENE2D&&this.look(this.up,e)},n.prototype.lookUp=function(e){e=Object(H.a)(e,this.defaultLookAmount),this._mode!==fe.a.SCENE2D&&this.look(this.right,-e)},n.prototype.lookDown=function(e){e=Object(H.a)(e,this.defaultLookAmount),this._mode!==fe.a.SCENE2D&&this.look(this.right,e)};var We=new se.a,Ge=new ie.a;n.prototype.look=function(e,t){if(!Object(q.a)(e))throw new W.a("axis is required.");var i=Object(H.a)(t,this.defaultLookAmount),n=se.a.fromAxisAngle(e,-i,We),a=ie.a.fromQuaternion(n,Ge),r=this.direction,o=this.up,s=this.right;ie.a.multiplyByVector(a,r,r),ie.a.multiplyByVector(a,o,o),ie.a.multiplyByVector(a,s,s)},n.prototype.twistLeft=function(e){e=Object(H.a)(e,this.defaultLookAmount),this.look(this.direction,e)},n.prototype.twistRight=function(e){e=Object(H.a)(e,this.defaultLookAmount),this.look(this.direction,-e)};var Ye=new se.a,Xe=new ie.a;n.prototype.rotate=function(e,t){if(!Object(q.a)(e))throw new W.a("axis is required.");var i=Object(H.a)(t,this.defaultRotateAmount),n=se.a.fromAxisAngle(e,-i,Ye),a=ie.a.fromQuaternion(n,Xe);ie.a.multiplyByVector(a,this.position,this.position),ie.a.multiplyByVector(a,this.direction,this.direction),ie.a.multiplyByVector(a,this.up,this.up),k.a.cross(this.direction,this.up,this.right),k.a.cross(this.right,this.direction,this.up),this._adjustOrthographicFrustum(!1)},n.prototype.rotateDown=function(e){e=Object(H.a)(e,this.defaultRotateAmount),_(this,e)},n.prototype.rotateUp=function(e){e=Object(H.a)(e,this.defaultRotateAmount),_(this,-e)};var Qe=new k.a,Je=new k.a,Ze=new k.a,Ke=new k.a;n.prototype.rotateRight=function(e){e=Object(H.a)(e,this.defaultRotateAmount),v(this,-e)},n.prototype.rotateLeft=function(e){e=Object(H.a)(e,this.defaultRotateAmount),v(this,e)},n.prototype.zoomIn=function(e){e=Object(H.a)(e,this.defaultZoomAmount),this._mode===fe.a.SCENE2D?b(this,e):y(this,e)},n.prototype.zoomOut=function(e){e=Object(H.a)(e,this.defaultZoomAmount),this._mode===fe.a.SCENE2D?b(this,-e):y(this,-e)},n.prototype.getMagnitude=function(){return this._mode===fe.a.SCENE3D?k.a.magnitude(this.position):this._mode===fe.a.COLUMBUS_VIEW?Math.abs(this.position.z):this._mode===fe.a.SCENE2D?Math.max(this.frustum.right-this.frustum.left,this.frustum.top-this.frustum.bottom):void 0};var $e=new ne.a;n.prototype.lookAt=function(e,t){if(!Object(q.a)(e))throw new W.a("target is required");if(!Object(q.a)(t))throw new W.a("offset is required");if(this._mode===fe.a.MORPHING)throw new W.a("lookAt is not supported while morphing.");var i=ue.a.eastNorthUpToFixedFrame(e,Y.a.WGS84,$e);this.lookAtTransform(i,t)};var et=new k.a,tt=new se.a,it=new se.a,nt=new ie.a;n.prototype.lookAtTransform=function(e,t){if(!Object(q.a)(e))throw new W.a("transform is required");if(this._mode===fe.a.MORPHING)throw new W.a("lookAtTransform is not supported while morphing.");if(this._setTransform(e),Object(q.a)(t)){var i;if(i=Object(q.a)(t.heading)?O(t.heading,t.pitch,t.range):t,this._mode===fe.a.SCENE2D){B.a.clone(B.a.ZERO,this.position),k.a.negate(i,this.up),this.up.z=0,k.a.magnitudeSquared(this.up)<te.a.EPSILON10&&k.a.clone(k.a.UNIT_Y,this.up),k.a.normalize(this.up,this.up),this._setTransform(ne.a.IDENTITY),k.a.negate(k.a.UNIT_Z,this.direction),k.a.cross(this.direction,this.up,this.right),k.a.normalize(this.right,this.right);var n=this.frustum,a=n.top/n.right;return n.right=.5*k.a.magnitude(i),n.left=-n.right,n.top=a*n.right,n.bottom=-n.top,void this._setTransform(e)}k.a.clone(i,this.position),k.a.negate(this.position,this.direction),k.a.normalize(this.direction,this.direction),k.a.cross(this.direction,k.a.UNIT_Z,this.right),k.a.magnitudeSquared(this.right)<te.a.EPSILON10&&k.a.clone(k.a.UNIT_X,this.right),k.a.normalize(this.right,this.right),k.a.cross(this.right,this.direction,this.up),k.a.normalize(this.up,this.up),this._adjustOrthographicFrustum(!0)}};var at,rt=new V.a,ot=new V.a,st=new k.a,ct=new k.a,lt=new k.a,ut=new k.a,ht=new k.a,dt=new k.a,ft=new k.a,pt=new k.a,mt={direction:new k.a,right:new k.a,up:new k.a},gt=new V.a,_t=new k.a,vt=new k.a,bt=new V.a,yt=new k.a,Ot=new k.a;n.prototype.getRectangleCameraCoordinates=function(e,t){if(!Object(q.a)(e))throw new W.a("rectangle is required");var i=this._mode;return Object(q.a)(t)||(t=new k.a),i===fe.a.SCENE3D?x(this,e,t):i===fe.a.COLUMBUS_VIEW?E(this,e,t):i===fe.a.SCENE2D?T(this,e,t):void 0};var wt=new ce.a,xt=new ce.a,Et=new ce.a;n.prototype.pickEllipsoid=function(e,t,i){if(!Object(q.a)(e))throw new W.a("windowPosition is required.");var n=this._scene.canvas;if(0!==n.clientWidth&&0!==n.clientHeight){if(Object(q.a)(i)||(i=new k.a),t=Object(H.a)(t,Y.a.WGS84),this._mode===fe.a.SCENE3D)i=A(this,e,t,i);else if(this._mode===fe.a.SCENE2D)i=C(this,e,this._projection,i);else{if(this._mode!==fe.a.COLUMBUS_VIEW)return;i=S(this,e,this._projection,i)}return i}};var Tt=new k.a,At=new k.a,Ct=new k.a,St=new k.a;n.prototype.getPickRay=function(e,t){if(!Object(q.a)(e))throw new W.a("windowPosition is required.");Object(q.a)(t)||(t=new ce.a);var i=this.frustum;return Object(q.a)(i.aspectRatio)&&Object(q.a)(i.fov)&&Object(q.a)(i.near)?j(this,e,t):P(this,e,t)};var jt=new k.a,Pt=new k.a;n.prototype.distanceToBoundingSphere=function(e){if(!Object(q.a)(e))throw new W.a("boundingSphere is required.");var t=k.a.subtract(this.positionWC,e.center,jt),i=k.a.multiplyByScalar(this.directionWC,k.a.dot(t,this.directionWC),Pt);return Math.max(0,k.a.magnitude(i)-e.radius)};var Dt=new B.a;n.prototype.getPixelSize=function(e,t,i){if(!Object(q.a)(e))throw new W.a("boundingSphere is required.");if(!Object(q.a)(t))throw new W.a("drawingBufferWidth is required.");if(!Object(q.a)(i))throw new W.a("drawingBufferHeight is required.");var n=this.distanceToBoundingSphere(e),a=this.frustum.getPixelDimensions(t,i,n,this._scene.pixelRatio,Dt);return Math.max(a.x,a.y)};var It=new k.a,Rt=new k.a,Mt=new k.a,Lt=new k.a;n.prototype.createCorrectPositionTween=function(e){if(!Object(q.a)(e))throw new W.a("duration is required.");if(this._mode===fe.a.COLUMBUS_VIEW)return I(this,e)};var Nt=new k.a,Ft={destination:void 0,heading:void 0,pitch:void 0,roll:void 0,duration:void 0,complete:void 0,cancel:void 0,endTransform:void 0,maximumHeight:void 0,easingFunction:void 0};n.prototype.cancelFlight=function(){Object(q.a)(this._currentFlight)&&(this._currentFlight.cancelTween(),this._currentFlight=void 0)},n.prototype.flyTo=function(e){e=Object(H.a)(e,H.a.EMPTY_OBJECT);var t=e.destination;if(!Object(q.a)(t))throw new W.a("destination is required.");if(this._mode!==fe.a.MORPHING){this.cancelFlight();var i=Object(H.a)(e.orientation,H.a.EMPTY_OBJECT);if(Object(q.a)(i.direction)&&(i=m(this,t,i,Ue.orientation)),Object(q.a)(e.duration)&&e.duration<=0){var a=Ue;return a.destination=e.destination,a.orientation.heading=i.heading,a.orientation.pitch=i.pitch,a.orientation.roll=i.roll,a.convert=e.convert,a.endTransform=e.endTransform,this.setView(a),void("function"==typeof e.complete&&e.complete())}var r=Object(q.a)(t.west);r&&(t=this.getRectangleCameraCoordinates(t,Nt));var o,s=this;Ft.destination=t,Ft.heading=i.heading,Ft.pitch=i.pitch,Ft.roll=i.roll,Ft.duration=e.duration,Ft.complete=function(){o===s._currentFlight&&(s._currentFlight=void 0),Object(q.a)(e.complete)&&e.complete()},Ft.cancel=e.cancel,Ft.endTransform=e.endTransform,Ft.convert=!r&&e.convert,Ft.maximumHeight=e.maximumHeight,Ft.pitchAdjustHeight=e.pitchAdjustHeight,Ft.flyOverLongitude=e.flyOverLongitude,Ft.flyOverLongitudeWeight=e.flyOverLongitudeWeight,Ft.easingFunction=e.easingFunction;var c=this._scene,l=he.a.createTween(c,Ft);if(0===l.duration)return void("function"==typeof l.complete&&l.complete());o=c.tweens.add(l),this._currentFlight=o;var u=this._scene.preloadFlightCamera;this._mode!==fe.a.SCENE2D&&(Object(q.a)(u)||(u=n.clone(this)),u.setView({destination:t,orientation:i}),this._scene.preloadFlightCullingVolume=u.frustum.computeCullingVolume(u.positionWC,u.directionWC,u.upWC))}};var zt=100;n.prototype.viewBoundingSphere=function(e,t){if(!Object(q.a)(e))throw new W.a("boundingSphere is required.");if(this._mode===fe.a.MORPHING)throw new W.a("viewBoundingSphere is not supported while morphing.");t=L(this,e,t),this.lookAt(e.center,t)};var Bt=new ne.a,kt=new k.a,Ut=new k.a,Vt=new k.a,Ht=new k.a,qt=new U.a,Wt=new se.a,Gt=new ie.a;n.prototype.flyToBoundingSphere=function(e,t){if(!Object(q.a)(e))throw new W.a("boundingSphere is required.");t=Object(H.a)(t,H.a.EMPTY_OBJECT);var i=this._mode===fe.a.SCENE2D||this._mode===fe.a.COLUMBUS_VIEW;this._setTransform(ne.a.IDENTITY);var n,a=L(this,e,t.offset);n=i?k.a.multiplyByScalar(k.a.UNIT_Z,a.range,kt):O(a.heading,a.pitch,a.range);var r=ue.a.eastNorthUpToFixedFrame(e.center,Y.a.WGS84,Bt);ne.a.multiplyByPoint(r,n,n);var o,s;if(!i){if(o=k.a.subtract(e.center,n,Ut),k.a.normalize(o,o),s=ne.a.multiplyByPointAsVector(r,k.a.UNIT_Z,Vt),1-Math.abs(k.a.dot(o,s))<te.a.EPSILON6){var c=se.a.fromAxisAngle(o,a.heading,Wt),l=ie.a.fromQuaternion(c,Gt);k.a.fromCartesian4(ne.a.getColumn(r,1,qt),s),ie.a.multiplyByVector(l,s,s)}var u=k.a.cross(o,s,Ht);k.a.cross(u,o,s),k.a.normalize(s,s)}this.flyTo({destination:n,orientation:{direction:o,up:s},duration:t.duration,complete:t.complete,cancel:t.cancel,endTransform:t.endTransform,maximumHeight:t.maximumHeight,easingFunction:t.easingFunction,flyOverLongitude:t.flyOverLongitude,flyOverLongitudeWeight:t.flyOverLongitudeWeight,pitchAdjustHeight:t.pitchAdjustHeight})};var Yt=new k.a,Xt=new k.a,Qt=new k.a,Jt=new k.a,Zt=[new k.a,new k.a,new k.a,new k.a],Kt=new B.a,$t=new k.a,ei=[new V.a,new V.a,new V.a,new V.a];n.prototype.computeViewRectangle=function(e,t){e=Object(H.a)(e,Y.a.WGS84);var i=this.frustum.computeCullingVolume(this.positionWC,this.directionWC,this.upWC),n=new z.a(k.a.ZERO,e.maximumRadius);if(i.computeVisibility(n)!==$.a.OUTSIDE){var a=this._scene.canvas,r=a.clientWidth,o=a.clientHeight,s=0,c=N(this,e);if(s+=F(0,0,0,this,e,c),s+=F(0,o,1,this,e,c),s+=F(r,o,2,this,e,c),(s+=F(r,0,3,this,e,c))<2)return le.a.MAX_VALUE;t=le.a.fromCartographicArray(ei,t);for(var l=0,u=ei[3].longitude,h=0;h<4;++h){var d=ei[h].longitude,f=Math.abs(d-u);f>te.a.PI?l+=te.a.TWO_PI-f:l+=f,u=d}return te.a.equalsEpsilon(Math.abs(l),te.a.TWO_PI,te.a.EPSILON9)&&(t.west=-te.a.PI,t.east=te.a.PI,ei[0].latitude>=0?t.north=te.a.PI_OVER_TWO:t.south=-te.a.PI_OVER_TWO),t}},n.prototype.switchToPerspectiveFrustum=function(){if(!(this._mode===fe.a.SCENE2D||this.frustum instanceof oe.a)){var e=this._scene;this.frustum=new oe.a,this.frustum.aspectRatio=e.drawingBufferWidth/e.drawingBufferHeight,this.frustum.fov=te.a.toRadians(60)}},n.prototype.switchToOrthographicFrustum=function(){if(!(this._mode===fe.a.SCENE2D||this.frustum instanceof ae.a)){var e=this._scene;this.frustum=new ae.a,this.frustum.aspectRatio=e.drawingBufferWidth/e.drawingBufferHeight,this.frustum.width=k.a.magnitude(this.position);var t=this.frustum.projectionMatrix;Object(q.a)(t)&&this._adjustOrthographicFrustum(!0)}},n.clone=function(e,t){return Object(q.a)(t)||(t=new n(e._scene)),k.a.clone(e.position,t.position),k.a.clone(e.direction,t.direction),k.a.clone(e.up,t.up),k.a.clone(e.right,t.right),ne.a.clone(e._transform,t.transform),t._transformChanged=!0,t.frustum=e.frustum.clone(),t},t.a=n},T1En:function(e,t,i){"use strict";t.a="/**\n * The constant identifier for the 3D {@link SceneMode}\n *\n * @name czm_sceneMode3D\n * @glslConstant\n * @see czm_sceneMode\n * @see czm_sceneMode2D\n * @see czm_sceneModeColumbusView\n * @see czm_sceneModeMorphing\n */\nconst float czm_sceneMode3D = 3.0;\n"},T5xC:function(e,t,i){"use strict";function n(e,t){if(!Object(a.a)(e))throw new r.a("scene is required.");this._scene=e,this._duration=t;var i=this;this._command=Object(s.a)(function(){i._scene.camera.flyHome(i._duration)}),this.tooltip="View Home",o.a.track(this,["tooltip"])}var a=i("xC6Q"),r=i("PzDm"),o=i("PKIF"),s=i("E9RU");Object.defineProperties(n.prototype,{scene:{get:function(){return this._scene}},command:{get:function(){return this._command}},duration:{get:function(){return this._duration},set:function(e){if(Object(a.a)(e)&&e<0)throw new r.a("value must be positive.");this._duration=e}}}),t.a=n},T6CX:function(e,t,i){"use strict";t.a='attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\n\n// In 2D and in 3D, texture coordinate normalization component signs encodes:\n// * X sign - sidedness relative to right plane\n// * Y sign - is negative OR magnitude is greater than 1.0 if vertex is on bottom of volume\n#ifndef COLUMBUS_VIEW_2D\nattribute vec4 startHiAndForwardOffsetX;\nattribute vec4 startLoAndForwardOffsetY;\nattribute vec4 startNormalAndForwardOffsetZ;\nattribute vec4 endNormalAndTextureCoordinateNormalizationX;\nattribute vec4 rightNormalAndTextureCoordinateNormalizationY;\n#else\nattribute vec4 startHiLo2D;\nattribute vec4 offsetAndRight2D;\nattribute vec4 startEndNormals2D;\nattribute vec2 texcoordNormalization2D;\n#endif\n\nattribute float batchId;\n\nvarying vec4 v_startPlaneNormalEcAndHalfWidth;\nvarying vec4 v_endPlaneNormalEcAndBatchId;\nvarying vec4 v_rightPlaneEC;\nvarying vec4 v_endEcAndStartEcX;\nvarying vec4 v_texcoordNormalizationAndStartEcYZ;\n\n// For materials\n#ifdef WIDTH_VARYING\nvarying float v_width;\n#endif\n#ifdef ANGLE_VARYING\nvarying float v_polylineAngle;\n#endif\n\n#ifdef PER_INSTANCE_COLOR\nvarying vec4 v_color;\n#endif\n\nvoid main()\n{\n#ifdef COLUMBUS_VIEW_2D\n    vec3 ecStart = (czm_modelViewRelativeToEye * czm_translateRelativeToEye(vec3(0.0, startHiLo2D.xy), vec3(0.0, startHiLo2D.zw))).xyz;\n\n    vec3 forwardDirectionEC = czm_normal * vec3(0.0, offsetAndRight2D.xy);\n    vec3 ecEnd = forwardDirectionEC + ecStart;\n    forwardDirectionEC = normalize(forwardDirectionEC);\n\n    // Right plane\n    v_rightPlaneEC.xyz = czm_normal * vec3(0.0, offsetAndRight2D.zw);\n    v_rightPlaneEC.w = -dot(v_rightPlaneEC.xyz, ecStart);\n\n    // start plane\n    vec4 startPlaneEC;\n    startPlaneEC.xyz =  czm_normal * vec3(0.0, startEndNormals2D.xy);\n    startPlaneEC.w = -dot(startPlaneEC.xyz, ecStart);\n\n    // end plane\n    vec4 endPlaneEC;\n    endPlaneEC.xyz =  czm_normal * vec3(0.0, startEndNormals2D.zw);\n    endPlaneEC.w = -dot(endPlaneEC.xyz, ecEnd);\n\n    v_texcoordNormalizationAndStartEcYZ.x = abs(texcoordNormalization2D.x);\n    v_texcoordNormalizationAndStartEcYZ.y = texcoordNormalization2D.y;\n\n#else // COLUMBUS_VIEW_2D\n    vec3 ecStart = (czm_modelViewRelativeToEye * czm_translateRelativeToEye(startHiAndForwardOffsetX.xyz, startLoAndForwardOffsetY.xyz)).xyz;\n    vec3 offset = czm_normal * vec3(startHiAndForwardOffsetX.w, startLoAndForwardOffsetY.w, startNormalAndForwardOffsetZ.w);\n    vec3 ecEnd = ecStart + offset;\n\n    vec3 forwardDirectionEC = normalize(offset);\n\n    // start plane\n    vec4 startPlaneEC;\n    startPlaneEC.xyz = czm_normal * startNormalAndForwardOffsetZ.xyz;\n    startPlaneEC.w = -dot(startPlaneEC.xyz, ecStart);\n\n    // end plane\n    vec4 endPlaneEC;\n    endPlaneEC.xyz = czm_normal * endNormalAndTextureCoordinateNormalizationX.xyz;\n    endPlaneEC.w = -dot(endPlaneEC.xyz, ecEnd);\n\n    // Right plane\n    v_rightPlaneEC.xyz = czm_normal * rightNormalAndTextureCoordinateNormalizationY.xyz;\n    v_rightPlaneEC.w = -dot(v_rightPlaneEC.xyz, ecStart);\n\n    v_texcoordNormalizationAndStartEcYZ.x = abs(endNormalAndTextureCoordinateNormalizationX.w);\n    v_texcoordNormalizationAndStartEcYZ.y = rightNormalAndTextureCoordinateNormalizationY.w;\n\n#endif // COLUMBUS_VIEW_2D\n\n    v_endEcAndStartEcX.xyz = ecEnd;\n    v_endEcAndStartEcX.w = ecStart.x;\n    v_texcoordNormalizationAndStartEcYZ.zw = ecStart.yz;\n\n#ifdef PER_INSTANCE_COLOR\n    v_color = czm_batchTable_color(batchId);\n#endif // PER_INSTANCE_COLOR\n\n    // Compute a normal along which to "push" the position out, extending the miter depending on view distance.\n    // Position has already been "pushed" by unit length along miter normal, and miter normals are encoded in the planes.\n    // Decode the normal to use at this specific vertex, push the position back, and then push to where it needs to be.\n    vec4 positionRelativeToEye = czm_computePosition();\n\n    // Check distance to the end plane and start plane, pick the plane that is closer\n    vec4 positionEC = czm_modelViewRelativeToEye * positionRelativeToEye; // w = 1.0, see czm_computePosition\n    float absStartPlaneDistance = abs(czm_planeDistance(startPlaneEC, positionEC.xyz));\n    float absEndPlaneDistance = abs(czm_planeDistance(endPlaneEC, positionEC.xyz));\n    vec3 planeDirection = czm_branchFreeTernary(absStartPlaneDistance < absEndPlaneDistance, startPlaneEC.xyz, endPlaneEC.xyz);\n    vec3 upOrDown = normalize(cross(v_rightPlaneEC.xyz, planeDirection)); // Points "up" for start plane, "down" at end plane.\n    vec3 normalEC = normalize(cross(planeDirection, upOrDown));           // In practice, the opposite seems to work too.\n\n    // Extrude bottom vertices downward for far view distances, like for GroundPrimitives\n    upOrDown = cross(forwardDirectionEC, normalEC);\n    upOrDown = float(czm_sceneMode == czm_sceneMode3D) * upOrDown;\n    upOrDown = float(v_texcoordNormalizationAndStartEcYZ.y > 1.0 || v_texcoordNormalizationAndStartEcYZ.y < 0.0) * upOrDown;\n    upOrDown = min(GLOBE_MINIMUM_ALTITUDE, czm_geometricToleranceOverMeter * length(positionRelativeToEye.xyz)) * upOrDown;\n    positionEC.xyz += upOrDown;\n\n    v_texcoordNormalizationAndStartEcYZ.y = czm_branchFreeTernary(v_texcoordNormalizationAndStartEcYZ.y > 1.0, 0.0, abs(v_texcoordNormalizationAndStartEcYZ.y));\n\n    // Determine distance along normalEC to push for a volume of appropriate width.\n    // Make volumes about double pixel width for a conservative fit - in practice the\n    // extra cost here is minimal compared to the loose volume heights.\n    //\n    // N = normalEC (guaranteed "right-facing")\n    // R = rightEC\n    // p = angle between N and R\n    // w = distance to push along R if R == N\n    // d = distance to push along N\n    //\n    //   N   R\n    //  {  p| }      * cos(p) = dot(N, R) = w / d\n    //  d  |  |w    * d = w / dot(N, R)\n    //    { | }\n    //       o---------- polyline segment ----\x3e\n    //\n    float width = czm_batchTable_width(batchId);\n#ifdef WIDTH_VARYING\n    v_width = width;\n#endif\n\n    v_startPlaneNormalEcAndHalfWidth.xyz = startPlaneEC.xyz;\n    v_startPlaneNormalEcAndHalfWidth.w = width * 0.5;\n\n    v_endPlaneNormalEcAndBatchId.xyz = endPlaneEC.xyz;\n    v_endPlaneNormalEcAndBatchId.w = batchId;\n\n    width = width * max(0.0, czm_metersPerPixel(positionEC)); // width = distance to push along R\n    width = width / dot(normalEC, v_rightPlaneEC.xyz); // width = distance to push along N\n\n    // Determine if this vertex is on the "left" or "right"\n#ifdef COLUMBUS_VIEW_2D\n        normalEC *= sign(texcoordNormalization2D.x);\n#else\n        normalEC *= sign(endNormalAndTextureCoordinateNormalizationX.w);\n#endif\n\n    positionEC.xyz += width * normalEC;\n    gl_Position = czm_depthClampFarPlane(czm_projection * positionEC);\n\n#ifdef ANGLE_VARYING\n    // Approximate relative screen space direction of the line.\n    vec2 approxLineDirection = normalize(vec2(forwardDirectionEC.x, -forwardDirectionEC.y));\n    approxLineDirection.y = czm_branchFreeTernary(approxLineDirection.x == 0.0 && approxLineDirection.y == 0.0, -1.0, approxLineDirection.y);\n    v_polylineAngle = czm_fastApproximateAtan(approxLineDirection.x, approxLineDirection.y);\n#endif\n}\n'},T7Or:function(e,t,i){"use strict";var n=i("1L1F"),a={DONT_CARE:n.a.DONT_CARE,FASTEST:n.a.FASTEST,NICEST:n.a.NICEST,validate:function(e){return e===a.DONT_CARE||e===a.FASTEST||e===a.NICEST}};t.a=Object.freeze(a)},TDdX:function(e,t,i){"use strict";function n(e){Object(r.a)(a)||(a=document.createElement("a")),a.href=window.location.href;var t=a.host,i=a.protocol;return a.href=e,a.href=a.href,i!==a.protocol||t!==a.host}var a,r=i("xC6Q");t.a=n},TGuQ:function(e,t,i){"use strict";function n(e){this.id=e,this.vertexFormat=void 0,this.radii=void 0,this.innerRadii=void 0,this.minimumClock=void 0,this.maximumClock=void 0,this.minimumCone=void 0,this.maximumCone=void 0,this.stackPartitions=void 0,this.slicePartitions=void 0,this.subdivisions=void 0,this.offsetAttribute=void 0}function a(e,t){j.a.call(this,{entity:e,scene:t,geometryOptions:new n(e),geometryPropertyName:"ellipsoid",observedPropertyNames:["availability","position","orientation","ellipsoid"]}),this._onEntityPropertyChanged(e,"ellipsoid",e.ellipsoid,void 0)}function r(e,t,i){S.a.call(this,e,t,i),this._scene=e._scene,this._modelMatrix=new b.a,this._attributes=void 0,this._outlineAttributes=void 0,this._lastSceneMode=void 0,this._lastShow=void 0,this._lastOutlineShow=void 0,this._lastOutlineWidth=void 0,this._lastOutlineColor=void 0,this._lastOffset=new o.a,this._material={}}var o=i("Jj+J"),s=i("5F4X"),c=i("6F0S"),l=i("devy"),u=i("5A4e"),h=i("xC6Q"),d=i("2d28"),f=i("2kyc"),p=i("KjOc"),m=i("ckFl"),g=i("izcu"),_=i("2g+t"),v=i("DsDe"),b=i("Xjii"),y=i("wpHJ"),O=i("zSqc"),w=i("JIo7"),x=i("xEUC"),E=i("BOJj"),T=i("0df4"),A=i("sotJ"),C=i("I5FW"),S=i("5s/y"),j=i("rVBE"),P=i("mFnG"),D=i("7xsx"),I=i("uhjI"),R=new C.a(c.a.WHITE),M=o.a.ZERO,L=new o.a,N=new o.a,F=new o.a,z=new c.a,B=new o.a(1,1,1);Object(h.a)(Object.create)&&(a.prototype=Object.create(j.a.prototype),a.prototype.constructor=a),Object.defineProperties(a.prototype,{terrainOffsetProperty:{get:function(){return this._terrainOffsetProperty}}}),a.prototype.createFillGeometryInstance=function(e,t,i){s.a.defined("time",e);var n,a=this._entity,r=a.isAvailable(e),o=new O.a(r&&a.isShowing&&this._showProperty.getValue(e)&&this._fillProperty.getValue(e)),u=this._distanceDisplayConditionProperty.getValue(e),d=f.a.fromDistanceDisplayCondition(u),m={show:o,distanceDisplayCondition:d,color:void 0,offset:void 0};if(this._materialProperty instanceof C.a){var _;Object(h.a)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||r)&&(_=this._materialProperty.color.getValue(e,z)),Object(h.a)(_)||(_=c.a.WHITE),n=l.a.fromColor(_),m.color=n}return Object(h.a)(this._options.offsetAttribute)&&(m.offset=y.a.fromCartesian3(I.a.getValueOrDefault(this._terrainOffsetProperty,e,M,L))),new g.a({id:a,geometry:new p.a(this._options),modelMatrix:t?void 0:a.computeModelMatrixForHeightReference(e,a.ellipsoid.heightReference,.5*this._options.radii.z,this._scene.mapProjection.ellipsoid,i),attributes:m})},a.prototype.createOutlineGeometryInstance=function(e,t,i){s.a.defined("time",e);var n=this._entity,a=n.isAvailable(e),r=I.a.getValueOrDefault(this._outlineColorProperty,e,c.a.BLACK,z),o=this._distanceDisplayConditionProperty.getValue(e),u={show:new O.a(a&&n.isShowing&&this._showProperty.getValue(e)&&this._showOutlineProperty.getValue(e)),color:l.a.fromColor(r),distanceDisplayCondition:f.a.fromDistanceDisplayCondition(o),offset:void 0};return Object(h.a)(this._options.offsetAttribute)&&(u.offset=y.a.fromCartesian3(I.a.getValueOrDefault(this._terrainOffsetProperty,e,M,L))),new g.a({id:n,geometry:new m.a(this._options),modelMatrix:t?void 0:n.computeModelMatrixForHeightReference(e,n.ellipsoid.heightReference,.5*this._options.radii.z,this._scene.mapProjection.ellipsoid,i),attributes:u})},a.prototype._computeCenter=function(e,t){return I.a.getValueOrUndefined(this._entity.position,e,t)},a.prototype._isHidden=function(e,t){return!Object(h.a)(e.position)||!Object(h.a)(t.radii)||j.a.prototype._isHidden.call(this,e,t)},a.prototype._isDynamic=function(e,t){return!(e.position.isConstant&&I.a.isConstant(e.orientation)&&t.radii.isConstant&&I.a.isConstant(t.innerRadii)&&I.a.isConstant(t.stackPartitions)&&I.a.isConstant(t.slicePartitions)&&I.a.isConstant(t.outlineWidth)&&I.a.isConstant(t.minimumClock)&&I.a.isConstant(t.maximumClock)&&I.a.isConstant(t.minimumCone)&&I.a.isConstant(t.maximumCone)&&I.a.isConstant(t.subdivisions))},a.prototype._setStaticOptions=function(e,t){var i=I.a.getValueOrDefault(t.heightReference,v.a.MINIMUM_VALUE,w.a.NONE),n=this._options;n.vertexFormat=this._materialProperty instanceof C.a?E.a.VERTEX_FORMAT:x.a.MaterialSupport.TEXTURED.vertexFormat,n.radii=t.radii.getValue(v.a.MINIMUM_VALUE,n.radii),n.innerRadii=I.a.getValueOrUndefined(t.innerRadii,n.radii),n.minimumClock=I.a.getValueOrUndefined(t.minimumClock,v.a.MINIMUM_VALUE),n.maximumClock=I.a.getValueOrUndefined(t.maximumClock,v.a.MINIMUM_VALUE),n.minimumCone=I.a.getValueOrUndefined(t.minimumCone,v.a.MINIMUM_VALUE),n.maximumCone=I.a.getValueOrUndefined(t.maximumCone,v.a.MINIMUM_VALUE),n.stackPartitions=I.a.getValueOrUndefined(t.stackPartitions,v.a.MINIMUM_VALUE),n.slicePartitions=I.a.getValueOrUndefined(t.slicePartitions,v.a.MINIMUM_VALUE),n.subdivisions=I.a.getValueOrUndefined(t.subdivisions,v.a.MINIMUM_VALUE),n.offsetAttribute=i!==w.a.NONE?_.a.ALL:void 0},a.prototype._onEntityPropertyChanged=P.a,a.DynamicGeometryUpdater=r,Object(h.a)(Object.create)&&(r.prototype=Object.create(S.a.prototype),r.prototype.constructor=r),r.prototype.update=function(e){s.a.defined("time",e);var t=this._entity,i=t.ellipsoid;if(!t.isShowing||!t.isAvailable(e)||!I.a.getValueOrDefault(i.show,e,!0))return Object(h.a)(this._primitive)&&(this._primitive.show=!1),void(Object(h.a)(this._outlinePrimitive)&&(this._outlinePrimitive.show=!1));var n=I.a.getValueOrUndefined(i.radii,e,N),a=Object(h.a)(n)?t.computeModelMatrixForHeightReference(e,i.heightReference,.5*n.z,this._scene.mapProjection.ellipsoid,this._modelMatrix):void 0;if(!Object(h.a)(a)||!Object(h.a)(n))return Object(h.a)(this._primitive)&&(this._primitive.show=!1),void(Object(h.a)(this._outlinePrimitive)&&(this._outlinePrimitive.show=!1));var r=I.a.getValueOrDefault(i.fill,e,!0),p=I.a.getValueOrDefault(i.outline,e,!1),m=I.a.getValueOrClonedDefault(i.outlineColor,e,c.a.BLACK,z),g=D.a.getValue(e,Object(u.a)(i.material,R),this._material),v=I.a.getValueOrUndefined(i.innerRadii,e,F),C=I.a.getValueOrUndefined(i.minimumClock,e),S=I.a.getValueOrUndefined(i.maximumClock,e),j=I.a.getValueOrUndefined(i.minimumCone,e),P=I.a.getValueOrUndefined(i.maximumCone,e),k=I.a.getValueOrUndefined(i.stackPartitions,e),U=I.a.getValueOrUndefined(i.slicePartitions,e),V=I.a.getValueOrUndefined(i.subdivisions,e),H=I.a.getValueOrDefault(i.outlineWidth,e,1),q=I.a.getValueOrDefault(i.heightReference,e,w.a.NONE),W=q!==w.a.NONE?_.a.ALL:void 0,G=this._scene.mode,Y=G===A.a.SCENE3D&&q===w.a.NONE,X=this._options,Q=this._geometryUpdater.shadowsProperty.getValue(e),J=this._geometryUpdater.distanceDisplayConditionProperty,Z=J.getValue(e),K=I.a.getValueOrDefault(this._geometryUpdater.terrainOffsetProperty,e,M,L);if(!Y||this._lastSceneMode!==G||!Object(h.a)(this._primitive)||X.stackPartitions!==k||X.slicePartitions!==U||Object(h.a)(v)&&!o.a.equals(X.innerRadii!==v)||X.minimumClock!==C||X.maximumClock!==S||X.minimumCone!==j||X.maximumCone!==P||X.subdivisions!==V||this._lastOutlineWidth!==H||X.offsetAttribute!==W){var $=this._primitives;if($.removeAndDestroy(this._primitive),$.removeAndDestroy(this._outlinePrimitive),this._primitive=void 0,this._outlinePrimitive=void 0,this._lastSceneMode=G,this._lastOutlineWidth=H,X.stackPartitions=k,X.slicePartitions=U,X.subdivisions=V,X.offsetAttribute=W,X.radii=o.a.clone(Y?B:n,X.radii),Object(h.a)(v))if(Y){var ee=o.a.magnitude(n);X.innerRadii=o.a.fromElements(v.x/ee,v.y/ee,v.z/ee,X.innerRadii)}else X.innerRadii=o.a.clone(v,X.innerRadii);else X.innerRadii=void 0;X.minimumClock=C,X.maximumClock=S,X.minimumCone=j,X.maximumCone=P;var te=new x.a({material:g,translucent:g.isTranslucent(),closed:!0});X.vertexFormat=te.vertexFormat;var ie=this._geometryUpdater.createFillGeometryInstance(e,Y,this._modelMatrix);this._primitive=$.add(new T.a({geometryInstances:ie,appearance:te,asynchronous:!1,shadows:Q}));var ne=this._geometryUpdater.createOutlineGeometryInstance(e,Y,this._modelMatrix);this._outlinePrimitive=$.add(new T.a({geometryInstances:ne,appearance:new E.a({flat:!0,translucent:255!==ne.attributes.color.value[3],renderState:{lineWidth:this._geometryUpdater._scene.clampLineWidth(H)}}),asynchronous:!1,shadows:Q})),this._lastShow=r,this._lastOutlineShow=p,this._lastOutlineColor=c.a.clone(m,this._lastOutlineColor),this._lastDistanceDisplayCondition=Z,this._lastOffset=o.a.clone(K,this._lastOffset)}else if(this._primitive.ready){var ae=this._primitive,re=this._outlinePrimitive;ae.show=!0,re.show=!0,ae.appearance.material=g;var oe=this._attributes;Object(h.a)(oe)||(oe=ae.getGeometryInstanceAttributes(t),this._attributes=oe),r!==this._lastShow&&(oe.show=O.a.toValue(r,oe.show),this._lastShow=r);var se=this._outlineAttributes;Object(h.a)(se)||(se=re.getGeometryInstanceAttributes(t),this._outlineAttributes=se),p!==this._lastOutlineShow&&(se.show=O.a.toValue(p,se.show),this._lastOutlineShow=p),c.a.equals(m,this._lastOutlineColor)||(se.color=l.a.toValue(m,se.color),c.a.clone(m,this._lastOutlineColor)),d.a.equals(Z,this._lastDistanceDisplayCondition)||(oe.distanceDisplayCondition=f.a.toValue(Z,oe.distanceDisplayCondition),se.distanceDisplayCondition=f.a.toValue(Z,se.distanceDisplayCondition),d.a.clone(Z,this._lastDistanceDisplayCondition)),o.a.equals(K,this._lastOffset)||(oe.offset=y.a.toValue(K,oe.offset),se.offset=y.a.toValue(K,oe.offset),o.a.clone(K,this._lastOffset))}Y&&(n.x=Math.max(n.x,.001),n.y=Math.max(n.y,.001),n.z=Math.max(n.z,.001),a=b.a.multiplyByScale(a,n,a),this._primitive.modelMatrix=a,this._outlinePrimitive.modelMatrix=a)},t.a=a},TLNj:function(e,t,i){"use strict";t.a="/**\n * 0.0001\n *\n * @name czm_epsilon4\n * @glslConstant\n */\nconst float czm_epsilon4 = 0.0001;\n"},TWe9:function(e,t,i){"use strict";t.a="attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 normal;\nattribute vec4 color;\nattribute float batchId;\n\nvarying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvarying vec4 v_color;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n    v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n    v_color = color;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n"},TYbU:function(e,t,i){"use strict";var n={HIGHLIGHT:0,REPLACE:1,MIX:2};t.a=Object.freeze(n)},TcQ7:function(e,t,i){var n=i("MU5D"),a=i("52gC");e.exports=function(e){return n(a(e))}},Tenz:function(e,t,i){"use strict";function n(e,t,i,n,a,r,o,s){var u=e.positions,d=T.a.triangulate(e.positions2D,e.holes);d.length<3&&(d=[0,1,2]);var f=O.a.createTypedArray(u.length,d.length);f.set(d);var p=k;if(0!==n){var m=C.a.fromAxisAngle(r,n,B);if(p=x.a.fromQuaternion(m,p),t.tangent||t.bitangent){m=C.a.fromAxisAngle(r,-n,B);var b=x.a.fromQuaternion(m,U);o=l.a.normalize(x.a.multiplyByVector(b,o,o),o),t.bitangent&&(s=l.a.normalize(l.a.cross(r,o,s),s))}}else p=x.a.clone(x.a.IDENTITY,p);var y=I;t.st&&(y.x=i.x,y.y=i.y);for(var E=u.length,S=3*E,P=new Float64Array(S),R=t.normal?new Float32Array(S):void 0,M=t.tangent?new Float32Array(S):void 0,L=t.bitangent?new Float32Array(S):void 0,N=t.st?new Float32Array(2*E):void 0,F=0,z=0,V=0,H=0,q=0,W=0;W<E;W++){var G=u[W];if(P[F++]=G.x,P[F++]=G.y,P[F++]=G.z,t.st){var Y=x.a.multiplyByVector(p,G,j),X=a(Y,D);c.a.subtract(X,y,X);var Q=w.a.clamp(X.x/i.width,0,1),J=w.a.clamp(X.y/i.height,0,1);N[q++]=Q,N[q++]=J}t.normal&&(R[z++]=r.x,R[z++]=r.y,R[z++]=r.z),t.tangent&&(M[H++]=o.x,M[H++]=o.y,M[H++]=o.z),t.bitangent&&(L[V++]=s.x,L[V++]=s.y,L[V++]=s.z)}var Z=new v.a;return t.position&&(Z.position=new _.a({componentDatatype:h.a.DOUBLE,componentsPerAttribute:3,values:P})),t.normal&&(Z.normal=new _.a({componentDatatype:h.a.FLOAT,componentsPerAttribute:3,values:R})),t.tangent&&(Z.tangent=new _.a({componentDatatype:h.a.FLOAT,componentsPerAttribute:3,values:M})),t.bitangent&&(Z.bitangent=new _.a({componentDatatype:h.a.FLOAT,componentsPerAttribute:3,values:L})),t.st&&(Z.st=new _.a({componentDatatype:h.a.FLOAT,componentsPerAttribute:2,values:N})),new g.a({attributes:Z,indices:f,primitiveType:A.a.TRIANGLES})}function a(e){e=Object(f.a)(e,f.a.EMPTY_OBJECT);var t=e.polygonHierarchy;u.a.defined("options.polygonHierarchy",t);var i=Object(f.a)(e.vertexFormat,S.a.DEFAULT);this._vertexFormat=S.a.clone(i),this._polygonHierarchy=t,this._stRotation=Object(f.a)(e.stRotation,0),this._ellipsoid=m.a.clone(Object(f.a)(e.ellipsoid,m.a.WGS84)),this._workerName="createCoplanarPolygonGeometry",this.packedLength=E.a.computeHierarchyPackedLength(t)+S.a.packedLength+m.a.packedLength+2}var r=i("6Ilv"),o=i("or8k"),s=i("lBr9"),c=i("Ss9j"),l=i("Jj+J"),u=i("5F4X"),h=i("YCZg"),d=i("2MMM"),f=i("5A4e"),p=i("xC6Q"),m=i("y6fO"),g=i("RGAo"),_=i("RYD3"),v=i("GaJK"),b=i("izcu"),y=i("odWO"),O=i("oMsT"),w=i("fq+p"),x=i("i3sv"),E=i("qG/l"),T=i("EDAM"),A=i("nHNe"),C=i("q/xW"),S=i("xvTE"),j=new l.a,P=new o.a,D=new c.a,I=new c.a,R=new l.a,M=new l.a,L=new l.a,N=new l.a,F=new l.a,z=new l.a,B=new C.a,k=new x.a,U=new x.a,V=new l.a;a.fromPositions=function(e){return e=Object(f.a)(e,f.a.EMPTY_OBJECT),u.a.defined("options.positions",e.positions),new a({polygonHierarchy:{positions:e.positions},vertexFormat:e.vertexFormat,stRotation:e.stRotation,ellipsoid:e.ellipsoid})},a.pack=function(e,t,i){return u.a.typeOf.object("value",e),u.a.defined("array",t),i=Object(f.a)(i,0),i=E.a.packPolygonHierarchy(e._polygonHierarchy,t,i),m.a.pack(e._ellipsoid,t,i),i+=m.a.packedLength,S.a.pack(e._vertexFormat,t,i),i+=S.a.packedLength,t[i++]=e._stRotation,t[i]=e.packedLength,t};var H=m.a.clone(m.a.UNIT_SPHERE),q=new S.a,W={polygonHierarchy:{}};a.unpack=function(e,t,i){u.a.defined("array",e),t=Object(f.a)(t,0);var n=E.a.unpackPolygonHierarchy(e,t);t=n.startingIndex,delete n.startingIndex;var r=m.a.unpack(e,t,H);t+=m.a.packedLength;var o=S.a.unpack(e,t,q);t+=S.a.packedLength;var s=e[t++],c=e[t];return Object(p.a)(i)||(i=new a(W)),i._polygonHierarchy=n,i._ellipsoid=m.a.clone(r,i._ellipsoid),i._vertexFormat=S.a.clone(o,i._vertexFormat),i._stRotation=s,i.packedLength=c,i},a.createGeometry=function(e){var t=e._vertexFormat,i=e._polygonHierarchy,a=e._stRotation,o=i.positions;if(o=Object(r.a)(o,l.a.equalsEpsilon,!0),!(o.length<3)){var c=R,u=M,h=L,f=F,p=z;if(d.a.computeProjectTo2DArguments(o,N,f,p)){if(c=l.a.cross(f,p,c),c=l.a.normalize(c,c),!l.a.equalsEpsilon(N,l.a.ZERO,w.a.EPSILON6)){var m=e._ellipsoid.geodeticSurfaceNormal(N,V);l.a.dot(c,m)<0&&(c=l.a.negate(c,c),f=l.a.negate(f,f))}var _=d.a.createProjectPointsTo2DFunction(N,f,p),v=d.a.createProjectPointTo2DFunction(N,f,p);t.tangent&&(u=l.a.clone(f,u)),t.bitangent&&(h=l.a.clone(p,h));var x=E.a.polygonsFromHierarchy(i,_,!1),T=x.hierarchy,A=x.polygons;if(0!==T.length){o=T[0].outerRing;for(var C=s.a.fromPoints(o),S=E.a.computeBoundingRectangle(c,v,o,a,P),j=[],D=0;D<A.length;D++){var I=new b.a({geometry:n(A[D],t,S,a,v,c,u,h)});j.push(I)}var B=y.a.combineInstances(j)[0];B.attributes.position.values=new Float64Array(B.attributes.position.values),B.indices=O.a.createTypedArray(B.attributes.position.values.length/3,B.indices);var k=B.attributes;return t.position||delete k.position,new g.a({attributes:k,indices:B.indices,primitiveType:B.primitiveType,boundingSphere:C})}}}},t.a=a},TfeD:function(e,t,i){"use strict";var n={REINHARD:0,MODIFIED_REINHARD:1,FILMIC:2,ACES:3,validate:function(e){return e===n.REINHARD||e===n.MODIFIED_REINHARD||e===n.FILMIC||e===n.ACES}};t.a=Object.freeze(n)},TkFC:function(e,t,i){"use strict";function n(e){c.a.typeOf.object("options",e),c.a.typeOf.object("options.frustum",e.frustum),c.a.typeOf.object("options.origin",e.origin),c.a.typeOf.object("options.orientation",e.orientation);var t,i,n=e.frustum,a=e.orientation,r=e.origin,s=Object(u.a)(e.vertexFormat,O.a.DEFAULT),l=Object(u.a)(e._drawNearPlane,!0);n instanceof v.a?(t=w,i=v.a.packedLength):n instanceof _.a&&(t=x,i=_.a.packedLength),this._frustumType=t,this._frustum=n.clone(),this._origin=o.a.clone(r),this._orientation=y.a.clone(a),this._drawNearPlane=l,this._vertexFormat=s,this._workerName="createFrustumGeometry",this.packedLength=2+i+o.a.packedLength+y.a.packedLength+O.a.packedLength}function a(e,t,i,n,a,r,o,s){for(var c=e/3*2,l=0;l<4;++l)Object(h.a)(t)&&(t[e]=r.x,t[e+1]=r.y,t[e+2]=r.z),Object(h.a)(i)&&(i[e]=o.x,i[e+1]=o.y,i[e+2]=o.z),Object(h.a)(n)&&(n[e]=s.x,n[e+1]=s.y,n[e+2]=s.z),e+=3;a[c]=0,a[c+1]=0,a[c+2]=1,a[c+3]=0,a[c+4]=1,a[c+5]=1,a[c+6]=0,a[c+7]=1}var r=i("lBr9"),o=i("Jj+J"),s=i("PDkd"),c=i("5F4X"),l=i("YCZg"),u=i("5A4e"),h=i("xC6Q"),d=i("RGAo"),f=i("RYD3"),p=i("GaJK"),m=i("i3sv"),g=i("Xjii"),_=i("ku5u"),v=i("MYGk"),b=i("nHNe"),y=i("q/xW"),O=i("xvTE"),w=0,x=1;n.pack=function(e,t,i){c.a.typeOf.object("value",e),c.a.defined("array",t),i=Object(u.a)(i,0);var n=e._frustumType,a=e._frustum;return t[i++]=n,n===w?(v.a.pack(a,t,i),i+=v.a.packedLength):(_.a.pack(a,t,i),i+=_.a.packedLength),o.a.pack(e._origin,t,i),i+=o.a.packedLength,y.a.pack(e._orientation,t,i),i+=y.a.packedLength,O.a.pack(e._vertexFormat,t,i),i+=O.a.packedLength,t[i]=e._drawNearPlane?1:0,t};var E=new v.a,T=new _.a,A=new y.a,C=new o.a,S=new O.a;n.unpack=function(e,t,i){c.a.defined("array",e),t=Object(u.a)(t,0);var a,r=e[t++];r===w?(a=v.a.unpack(e,t,E),t+=v.a.packedLength):(a=_.a.unpack(e,t,T),t+=_.a.packedLength);var s=o.a.unpack(e,t,C);t+=o.a.packedLength;var l=y.a.unpack(e,t,A);t+=y.a.packedLength;var d=O.a.unpack(e,t,S);t+=O.a.packedLength;var f=1===e[t];if(!Object(h.a)(i))return new n({frustum:a,origin:s,orientation:l,vertexFormat:d,_drawNearPlane:f});var p=r===i._frustumType?i._frustum:void 0;return i._frustum=a.clone(p),i._frustumType=r,i._origin=o.a.clone(s,i._origin),i._orientation=y.a.clone(l,i._orientation),i._vertexFormat=O.a.clone(d,i._vertexFormat),i._drawNearPlane=f,i};var j=new m.a,P=new g.a,D=new g.a,I=new o.a,R=new o.a,M=new o.a,L=new o.a,N=new o.a,F=new o.a,z=new Array(3),B=new Array(4);B[0]=new s.a(-1,-1,1,1),B[1]=new s.a(1,-1,1,1),B[2]=new s.a(1,1,1,1),B[3]=new s.a(-1,1,1,1);for(var k=new Array(4),U=0;U<4;++U)k[U]=new s.a;n._computeNearFarPlanes=function(e,t,i,n,a,r,c,l){var d=m.a.fromQuaternion(t,j),f=Object(u.a)(r,I),p=Object(u.a)(c,R),_=Object(u.a)(l,M);f=m.a.getColumn(d,0,f),p=m.a.getColumn(d,1,p),_=m.a.getColumn(d,2,_),o.a.normalize(f,f),o.a.normalize(p,p),o.a.normalize(_,_),o.a.negate(f,f);var v,b,y=g.a.computeView(e,_,p,f,P);if(i===w){var O=n.projectionMatrix,x=g.a.multiply(O,y,D);b=g.a.inverse(x,D)}else v=g.a.inverseTransformation(y,D);Object(h.a)(b)?(z[0]=n.near,z[1]=n.far):(z[0]=0,z[1]=n.near,z[2]=n.far);for(var E=0;E<2;++E)for(var T=0;T<4;++T){var A=s.a.clone(B[T],k[T]);if(Object(h.a)(b)){A=g.a.multiplyByVector(b,A,A);var C=1/A.w;o.a.multiplyByScalar(A,C,A),o.a.subtract(A,e,A),o.a.normalize(A,A);var S=o.a.dot(_,A);o.a.multiplyByScalar(A,z[E]/S,A),o.a.add(A,e,A)}else{Object(h.a)(n._offCenterFrustum)&&(n=n._offCenterFrustum);var L=z[E],N=z[E+1];A.x=.5*(A.x*(n.right-n.left)+n.left+n.right),A.y=.5*(A.y*(n.top-n.bottom)+n.bottom+n.top),A.z=.5*(A.z*(L-N)-L-N),A.w=1,g.a.multiplyByVector(v,A,A)}a[12*E+3*T]=A.x,a[12*E+3*T+1]=A.y,a[12*E+3*T+2]=A.z}},n.createGeometry=function(e){var t=e._frustumType,i=e._frustum,s=e._origin,c=e._orientation,u=e._drawNearPlane,m=e._vertexFormat,g=u?6:5,_=new Float64Array(72);n._computeNearFarPlanes(s,c,t,i,_);var v=24;_[v]=_[12],_[v+1]=_[13],_[v+2]=_[14],_[v+3]=_[0],_[v+4]=_[1],_[v+5]=_[2],_[v+6]=_[9],_[v+7]=_[10],_[v+8]=_[11],_[v+9]=_[21],_[v+10]=_[22],_[v+11]=_[23],v+=12,_[v]=_[15],_[v+1]=_[16],_[v+2]=_[17],_[v+3]=_[3],_[v+4]=_[4],_[v+5]=_[5],_[v+6]=_[0],_[v+7]=_[1],_[v+8]=_[2],_[v+9]=_[12],_[v+10]=_[13],_[v+11]=_[14],v+=12,_[v]=_[3],_[v+1]=_[4],_[v+2]=_[5],_[v+3]=_[15],_[v+4]=_[16],_[v+5]=_[17],_[v+6]=_[18],_[v+7]=_[19],_[v+8]=_[20],_[v+9]=_[6],_[v+10]=_[7],_[v+11]=_[8],v+=12,_[v]=_[6],_[v+1]=_[7],_[v+2]=_[8],_[v+3]=_[18],_[v+4]=_[19],_[v+5]=_[20],_[v+6]=_[21],_[v+7]=_[22],_[v+8]=_[23],_[v+9]=_[9],_[v+10]=_[10],_[v+11]=_[11],u||(_=_.subarray(12));var y=new p.a({position:new f.a({componentDatatype:l.a.DOUBLE,componentsPerAttribute:3,values:_})});if(Object(h.a)(m.normal)||Object(h.a)(m.tangent)||Object(h.a)(m.bitangent)||Object(h.a)(m.st)){var O=Object(h.a)(m.normal)?new Float32Array(12*g):void 0,w=Object(h.a)(m.tangent)?new Float32Array(12*g):void 0,x=Object(h.a)(m.bitangent)?new Float32Array(12*g):void 0,E=Object(h.a)(m.st)?new Float32Array(8*g):void 0,T=I,A=R,C=M,S=o.a.negate(T,L),j=o.a.negate(A,N),P=o.a.negate(C,F);v=0,u&&(a(v,O,w,x,E,P,T,A),v+=12),a(v,O,w,x,E,C,S,A),v+=12,a(v,O,w,x,E,S,P,A),v+=12,a(v,O,w,x,E,j,P,S),v+=12,a(v,O,w,x,E,T,C,A),v+=12,a(v,O,w,x,E,A,C,S),Object(h.a)(O)&&(y.normal=new f.a({componentDatatype:l.a.FLOAT,componentsPerAttribute:3,values:O})),Object(h.a)(w)&&(y.tangent=new f.a({componentDatatype:l.a.FLOAT,componentsPerAttribute:3,values:w})),Object(h.a)(x)&&(y.bitangent=new f.a({componentDatatype:l.a.FLOAT,componentsPerAttribute:3,values:x})),Object(h.a)(E)&&(y.st=new f.a({componentDatatype:l.a.FLOAT,componentsPerAttribute:2,values:E}))}for(var D=new Uint16Array(6*g),z=0;z<g;++z){var B=6*z,k=4*z;D[B]=k,D[B+1]=k+1,D[B+2]=k+2,D[B+3]=k,D[B+4]=k+2,D[B+5]=k+3}return new d.a({attributes:y,indices:D,primitiveType:b.a.TRIANGLES,boundingSphere:r.a.fromVertices(_)})},t.a=n},TkhT:function(e,t,i){"use strict";var n=i("1L1F"),a={RGBA4:n.a.RGBA4,RGB5_A1:n.a.RGB5_A1,RGB565:n.a.RGB565,DEPTH_COMPONENT16:n.a.DEPTH_COMPONENT16,STENCIL_INDEX8:n.a.STENCIL_INDEX8,DEPTH_STENCIL:n.a.DEPTH_STENCIL,validate:function(e){return e===a.RGBA4||e===a.RGB5_A1||e===a.RGB565||e===a.DEPTH_COMPONENT16||e===a.STENCIL_INDEX8||e===a.DEPTH_STENCIL}};t.a=Object.freeze(a)},TnJT:function(e,t,i){"use strict";function n(e,t){if(!Object(f.a)(e))throw new m.a("container is required.");if(!Object(f.a)(t))throw new m.a("clock is required.");e=Object(_.a)(e),this.container=e;var i=document.createElement("div");i.className="cesium-timeline-main",e.appendChild(i),this._topDiv=i,this._endJulian=void 0,this._epochJulian=void 0,this._lastXPos=void 0,this._scrubElement=void 0,this._startJulian=void 0,this._timeBarSecondsSpan=void 0,this._clock=t,this._scrubJulian=t.currentTime,this._mainTicSpan=-1,this._mouseMode=O.none,this._touchMode=w.none,this._touchState={centerX:0,spanX:0},this._mouseX=0,this._timelineDrag=0,this._timelineDragLocation=void 0,this._lastHeight=void 0,this._lastWidth=void 0,this._topDiv.innerHTML='<div class="cesium-timeline-bar"></div><div class="cesium-timeline-trackContainer"><canvas class="cesium-timeline-tracks" width="10" height="1"></canvas></div><div class="cesium-timeline-needle"></div><span class="cesium-timeline-ruler"></span>',this._timeBarEle=this._topDiv.childNodes[0],this._trackContainer=this._topDiv.childNodes[1],this._trackListEle=this._topDiv.childNodes[1].childNodes[0],this._needleEle=this._topDiv.childNodes[2],this._rulerEle=this._topDiv.childNodes[3],this._context=this._trackListEle.getContext("2d"),this._trackList=[],this._highlightRanges=[],this.zoomTo(t.startTime,t.stopTime),this._onMouseDown=r(this),this._onMouseUp=o(this),this._onMouseMove=s(this),this._onMouseWheel=c(this),this._onTouchStart=l(this),this._onTouchMove=h(this),this._onTouchEnd=u(this);var n=this._timeBarEle;document.addEventListener("mouseup",this._onMouseUp,!1),document.addEventListener("mousemove",this._onMouseMove,!1),n.addEventListener("mousedown",this._onMouseDown,!1),n.addEventListener("DOMMouseScroll",this._onMouseWheel,!1),n.addEventListener("mousewheel",this._onMouseWheel,!1),n.addEventListener("touchstart",this._onTouchStart,!1),n.addEventListener("touchmove",this._onTouchMove,!1),n.addEventListener("touchend",this._onTouchEnd,!1),n.addEventListener("touchcancel",this._onTouchEnd,!1),this._topDiv.oncontextmenu=function(){return!1},t.onTick.addEventListener(this.updateFromClock,this),this.updateFromClock()}function a(e){return e<10?"0"+e.toString():e.toString()}function r(e){return function(t){e._mouseMode!==O.touchOnly&&(0===t.button?(e._mouseMode=O.scrub,e._scrubElement&&(e._scrubElement.style.backgroundPosition="-16px 0"),e._onMouseMove(t)):(e._mouseX=t.clientX,2===t.button?e._mouseMode=O.zoom:e._mouseMode=O.slide)),t.preventDefault()}}function o(e){return function(t){e._mouseMode=O.none,e._scrubElement&&(e._scrubElement.style.backgroundPosition="0 0"),e._timelineDrag=0,e._timelineDragLocation=void 0}}function s(e){return function(t){var i;if(e._mouseMode===O.scrub){t.preventDefault();var n=t.clientX-e._topDiv.getBoundingClientRect().left;n<0?(e._timelineDragLocation=0,e._timelineDrag=-.01*e._timeBarSecondsSpan):n>e._topDiv.clientWidth?(e._timelineDragLocation=e._topDiv.clientWidth,e._timelineDrag=.01*e._timeBarSecondsSpan):(e._timelineDragLocation=void 0,e._setTimeBarTime(n,n*e._timeBarSecondsSpan/e._topDiv.clientWidth))}else if(e._mouseMode===O.slide){if(i=e._mouseX-t.clientX,e._mouseX=t.clientX,0!==i){var a=i*e._timeBarSecondsSpan/e._topDiv.clientWidth;e.zoomTo(g.a.addSeconds(e._startJulian,a,new g.a),g.a.addSeconds(e._endJulian,a,new g.a))}}else e._mouseMode===O.zoom&&(i=e._mouseX-t.clientX,e._mouseX=t.clientX,0!==i&&e.zoomFrom(Math.pow(1.01,i)))}}function c(e){return function(t){var i=t.wheelDeltaY||t.wheelDelta||-t.detail;y=Math.max(Math.min(Math.abs(i),y),1),i/=y,e.zoomFrom(Math.pow(1.05,-i))}}function l(e){return function(t){var i,n,a=t.touches.length,r=e._topDiv.getBoundingClientRect().left;t.preventDefault(),e._mouseMode=O.touchOnly,1===a?(i=g.a.secondsDifference(e._scrubJulian,e._startJulian),n=Math.round(i*e._topDiv.clientWidth/e._timeBarSecondsSpan+r),Math.abs(t.touches[0].clientX-n)<50?(e._touchMode=w.scrub,e._scrubElement&&(e._scrubElement.style.backgroundPosition=1===a?"-16px 0":"0 0")):(e._touchMode=w.singleTap,e._touchState.centerX=t.touches[0].clientX-r)):2===a?(e._touchMode=w.slideZoom,e._touchState.centerX=.5*(t.touches[0].clientX+t.touches[1].clientX)-r,e._touchState.spanX=Math.abs(t.touches[0].clientX-t.touches[1].clientX)):e._touchMode=w.ignore}}function u(e){return function(t){var i=t.touches.length,n=e._topDiv.getBoundingClientRect().left;e._touchMode===w.singleTap?(e._touchMode=w.scrub,e._onTouchMove(t)):e._touchMode===w.scrub&&e._onTouchMove(t),e._mouseMode=O.touchOnly,1!==i?e._touchMode=i>0?w.ignore:w.none:e._touchMode===w.slideZoom&&(e._touchState.centerX=t.touches[0].clientX-n),e._scrubElement&&(e._scrubElement.style.backgroundPosition="0 0")}}function h(e){return function(t){var i,n,a,r,o,s,c=1,l=e._topDiv.getBoundingClientRect().left;e._touchMode===w.singleTap&&(e._touchMode=w.slideZoom),e._mouseMode=O.touchOnly,e._touchMode===w.scrub?(t.preventDefault(),1===t.changedTouches.length&&(n=t.changedTouches[0].clientX-l)>=0&&n<=e._topDiv.clientWidth&&e._setTimeBarTime(n,n*e._timeBarSecondsSpan/e._topDiv.clientWidth)):e._touchMode===w.slideZoom&&(a=t.touches.length,2===a?(r=.5*(t.touches[0].clientX+t.touches[1].clientX)-l,o=Math.abs(t.touches[0].clientX-t.touches[1].clientX)):1===a&&(r=t.touches[0].clientX-l,o=0),Object(f.a)(r)&&(o>0&&e._touchState.spanX>0?(c=e._touchState.spanX/o,s=g.a.addSeconds(e._startJulian,(e._touchState.centerX*e._timeBarSecondsSpan-r*e._timeBarSecondsSpan*c)/e._topDiv.clientWidth,new g.a)):(i=e._touchState.centerX-r,s=g.a.addSeconds(e._startJulian,i*e._timeBarSecondsSpan/e._topDiv.clientWidth,new g.a)),e.zoomTo(s,g.a.addSeconds(s,e._timeBarSecondsSpan*c,new g.a)),e._touchState.centerX=r,e._touchState.spanX=o))}}var d=i("P5H1"),f=i("xC6Q"),p=i("6sr8"),m=i("PzDm"),g=i("9Uqs"),_=i("k6tp"),v=i("ZspB"),b=i("MY1y"),y=1e12,O={none:0,scrub:1,slide:2,zoom:3,touchOnly:4},w={none:0,scrub:1,slideZoom:2,singleTap:3,ignore:4},x=[.001,.002,.005,.01,.02,.05,.1,.25,.5,1,2,5,10,15,30,60,120,300,600,900,1800,3600,7200,14400,21600,43200,86400,172800,345600,604800,1296e3,2592e3,5184e3,7776e3,15552e3,31536e3,63072e3,126144e3,15768e4,31536e4,63072e4,126144e4,15768e5,31536e5,63072e5,126144e5,15768e6,31536e6],E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.prototype.addEventListener=function(e,t,i){this._topDiv.addEventListener(e,t,i)},n.prototype.removeEventListener=function(e,t,i){this._topDiv.removeEventListener(e,t,i)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){this._clock.onTick.removeEventListener(this.updateFromClock,this),document.removeEventListener("mouseup",this._onMouseUp,!1),document.removeEventListener("mousemove",this._onMouseMove,!1);var e=this._timeBarEle;e.removeEventListener("mousedown",this._onMouseDown,!1),e.removeEventListener("DOMMouseScroll",this._onMouseWheel,!1),e.removeEventListener("mousewheel",this._onMouseWheel,!1),e.removeEventListener("touchstart",this._onTouchStart,!1),e.removeEventListener("touchmove",this._onTouchMove,!1),e.removeEventListener("touchend",this._onTouchEnd,!1),e.removeEventListener("touchcancel",this._onTouchEnd,!1),this.container.removeChild(this._topDiv),Object(p.a)(this)},n.prototype.addHighlightRange=function(e,t,i){var n=new v.a(e,t,i);return this._highlightRanges.push(n),this.resize(),n},n.prototype.addTrack=function(e,t,i,n){var a=new b.a(e,t,i,n);return this._trackList.push(a),this._lastHeight=void 0,this.resize(),a},n.prototype.zoomTo=function(e,t){if(!Object(f.a)(e))throw new m.a("startTime is required.");if(!Object(f.a)(t))throw new m.a("stopTime is required");if(g.a.lessThanOrEquals(t,e))throw new m.a("Start time must come before end time.");if(this._startJulian=e,this._endJulian=t,this._timeBarSecondsSpan=g.a.secondsDifference(t,e),this._clock&&this._clock.clockRange!==d.a.UNBOUNDED){var i=this._clock.startTime,n=this._clock.stopTime,a=g.a.secondsDifference(n,i),r=g.a.secondsDifference(i,this._startJulian),o=g.a.secondsDifference(n,this._endJulian);this._timeBarSecondsSpan>=a?(this._timeBarSecondsSpan=a,this._startJulian=this._clock.startTime,this._endJulian=this._clock.stopTime):r>0?(this._endJulian=g.a.addSeconds(this._endJulian,r,new g.a),this._startJulian=i,this._timeBarSecondsSpan=g.a.secondsDifference(this._endJulian,this._startJulian)):o<0&&(this._startJulian=g.a.addSeconds(this._startJulian,o,new g.a),this._endJulian=n,this._timeBarSecondsSpan=g.a.secondsDifference(this._endJulian,this._startJulian))}this._makeTics();var s=document.createEvent("Event");s.initEvent("setzoom",!0,!0),s.startJulian=this._startJulian,s.endJulian=this._endJulian,s.epochJulian=this._epochJulian,s.totalSpan=this._timeBarSecondsSpan,s.mainTicSpan=this._mainTicSpan,this._topDiv.dispatchEvent(s)},n.prototype.zoomFrom=function(e){var t=g.a.secondsDifference(this._scrubJulian,this._startJulian);e>1||t<0||t>this._timeBarSecondsSpan?t=.5*this._timeBarSecondsSpan:t+=t-.5*this._timeBarSecondsSpan;var i=this._timeBarSecondsSpan-t;this.zoomTo(g.a.addSeconds(this._startJulian,t-t*e,new g.a),g.a.addSeconds(this._endJulian,i*e-i,new g.a))},n.prototype.makeLabel=function(e){var t=g.a.toGregorianDate(e),i=t.millisecond,n=" UTC";if(i>0&&this._timeBarSecondsSpan<3600){for(n=Math.floor(i).toString();n.length<3;)n="0"+n;n="."+n}return E[t.month-1]+" "+t.day+" "+t.year+" "+a(t.hour)+":"+a(t.minute)+":"+a(t.second)+n},n.prototype.smallestTicInPixels=7,n.prototype._makeTics=function(){function e(e){return Math.floor(b/e)*e}function t(e,t){return Math.ceil(e/t+.5)*t}function i(e){return(e-b)/d}function n(e,t){return e-t*Math.round(e/t)}var a,r=this._timeBarEle,o=g.a.secondsDifference(this._scrubJulian,this._startJulian),s=Math.round(o*this._topDiv.clientWidth/this._timeBarSecondsSpan),c=s-8,l=this;this._needleEle.style.left=s.toString()+"px";var u="",h=0,d=this._timeBarSecondsSpan;d<.01?(d=.01,this._timeBarSecondsSpan=.01,this._endJulian=g.a.addSeconds(this._startJulian,.01,new g.a)):d>31536e6&&(d=31536e6,this._timeBarSecondsSpan=31536e6,this._endJulian=g.a.addSeconds(this._startJulian,31536e6,new g.a));var f=this._timeBarEle.clientWidth;f<10&&(f=10);var p,m=this._startJulian,_=Math.min(d/f*1e-5,.4),v=g.a.toGregorianDate(m);p=d>31536e4?g.a.fromDate(new Date(Date.UTC(100*Math.floor(v.year/100),0))):d>31536e3?g.a.fromDate(new Date(Date.UTC(10*Math.floor(v.year/10),0))):d>86400?g.a.fromDate(new Date(Date.UTC(v.year,0))):g.a.fromDate(new Date(Date.UTC(v.year,v.month,v.day)));var b=g.a.secondsDifference(this._startJulian,g.a.addSeconds(p,_,new g.a)),y=b+d;this._epochJulian=p,this._rulerEle.innerHTML=this.makeLabel(g.a.addSeconds(this._endJulian,-.01,new g.a));var O=this._rulerEle.offsetWidth+20;O<30&&(O=180);var w=h;h-=1e-10;var E={startTime:b,startJulian:m,epochJulian:p,duration:d,timeBarWidth:f,getAlpha:i};this._highlightRanges.forEach(function(e){u+=e.render(E)});var T=0,A=0,C=0,S=O/f;S>1&&(S=1),S*=this._timeBarSecondsSpan;var j,P=-1,D=-1,I=x.length;for(j=0;j<I;++j){var R=x[j];if(++P,T=R,R>S&&R>h)break;D<0&&f*(R/this._timeBarSecondsSpan)>=this.smallestTicInPixels&&(D=P)}if(P>0){for(;P>0;)if(--P,Math.abs(n(T,x[P]))<1e-5){x[P]>=h&&(A=x[P]);break}if(D>=0)for(;D<P;){if(Math.abs(n(A,x[D]))<1e-5&&x[D]>=h){C=x[D];break}++D}}(h=w)>1e-10&&C<1e-5&&Math.abs(h-T)>1e-10&&(C=h,h<=T+1e-10&&(A=0));var M,L=-999999;if(f*(C/this._timeBarSecondsSpan)>=3)for(a=e(C);a<=y;a=t(a,C))u+='<span class="cesium-timeline-ticTiny" style="left: '+Math.round(f*i(a)).toString()+'px;"></span>';if(f*(A/this._timeBarSecondsSpan)>=3)for(a=e(A);a<=y;a=t(a,A))u+='<span class="cesium-timeline-ticSub" style="left: '+Math.round(f*i(a)).toString()+'px;"></span>';if(f*(T/this._timeBarSecondsSpan)>=2){this._mainTicSpan=T,y+=T,a=e(T);for(var N=g.a.computeTaiMinusUtc(p);a<=y;){var F=g.a.addSeconds(m,a-b,new g.a);if(T>2.1){var z=g.a.computeTaiMinusUtc(F);Math.abs(z-N)>.1&&(a+=z-N,F=g.a.addSeconds(m,a-b,new g.a))}var B=Math.round(f*i(a)),k=this.makeLabel(F);this._rulerEle.innerHTML=k,M=this._rulerEle.offsetWidth,M<10&&(M=O);var U=B-(M/2-1);U>L?(L=U+M+5,u+='<span class="cesium-timeline-ticMain" style="left: '+B.toString()+'px;"></span><span class="cesium-timeline-ticLabel" style="left: '+U.toString()+'px;">'+k+"</span>"):u+='<span class="cesium-timeline-ticSub" style="left: '+B.toString()+'px;"></span>',a=t(a,T)}}else this._mainTicSpan=-1;u+='<span class="cesium-timeline-icon16" style="left:'+c+'px;bottom:0;background-position: 0 0;"></span>',r.innerHTML=u,this._scrubElement=r.lastChild,this._context.clearRect(0,0,this._trackListEle.width,this._trackListEle.height),E.y=0,this._trackList.forEach(function(e){e.render(l._context,E),E.y+=e.height})},n.prototype.updateFromClock=function(){this._scrubJulian=this._clock.currentTime;var e=this._scrubElement;if(Object(f.a)(this._scrubElement)){var t=g.a.secondsDifference(this._scrubJulian,this._startJulian),i=Math.round(t*this._topDiv.clientWidth/this._timeBarSecondsSpan);this._lastXPos!==i&&(this._lastXPos=i,e.style.left=i-8+"px",this._needleEle.style.left=i+"px")}Object(f.a)(this._timelineDragLocation)&&(this._setTimeBarTime(this._timelineDragLocation,this._timelineDragLocation*this._timeBarSecondsSpan/this._topDiv.clientWidth),this.zoomTo(g.a.addSeconds(this._startJulian,this._timelineDrag,new g.a),g.a.addSeconds(this._endJulian,this._timelineDrag,new g.a)))},n.prototype._setTimeBarTime=function(e,t){if(e=Math.round(e),this._scrubJulian=g.a.addSeconds(this._startJulian,t,new g.a),this._scrubElement){var i=e-8;this._scrubElement.style.left=i.toString()+"px",this._needleEle.style.left=e.toString()+"px"}var n=document.createEvent("Event");n.initEvent("settime",!0,!0),n.clientX=e,n.timeSeconds=t,n.timeJulian=this._scrubJulian,n.clock=this._clock,this._topDiv.dispatchEvent(n)},n.prototype.resize=function(){var e=this.container.clientWidth,t=this.container.clientHeight;if(e!==this._lastWidth||t!==this._lastHeight){this._trackContainer.style.height=t+"px";var i=1;this._trackList.forEach(function(e){i+=e.height}),this._trackListEle.style.height=i.toString()+"px",this._trackListEle.width=this._trackListEle.clientWidth,this._trackListEle.height=i,this._makeTics(),this._lastXPos=void 0,this._lastWidth=e,this._lastHeight=t}},t.a=n},To3L:function(e,t,i){"use strict";var n=i("+E39"),a=i("lktj"),r=i("1kS7"),o=i("NpIQ"),s=i("sB3e"),c=i("MU5D"),l=Object.assign;e.exports=!l||i("S82l")(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[i]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var i=s(e),l=arguments.length,u=1,h=r.f,d=o.f;l>u;)for(var f,p=c(arguments[u++]),m=h?a(p).concat(h(p)):a(p),g=m.length,_=0;g>_;)f=m[_++],n&&!d.call(p,f)||(i[f]=p[f]);return i}:l},TrlY:function(e,t,i){"use strict";i("PzDm")},TtQE:function(e,t,i){"use strict";t.a='attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\n\nattribute vec4 startHiAndForwardOffsetX;\nattribute vec4 startLoAndForwardOffsetY;\nattribute vec4 startNormalAndForwardOffsetZ;\nattribute vec4 endNormalAndTextureCoordinateNormalizationX;\nattribute vec4 rightNormalAndTextureCoordinateNormalizationY;\nattribute vec4 startHiLo2D;\nattribute vec4 offsetAndRight2D;\nattribute vec4 startEndNormals2D;\nattribute vec2 texcoordNormalization2D;\n\nattribute float batchId;\n\nvarying vec3 v_forwardDirectionEC;\nvarying vec3 v_texcoordNormalizationAndHalfWidth;\nvarying float v_batchId;\n\n// For materials\n#ifdef WIDTH_VARYING\nvarying float v_width;\n#endif\n#ifdef ANGLE_VARYING\nvarying float v_polylineAngle;\n#endif\n\n#ifdef PER_INSTANCE_COLOR\nvarying vec4 v_color;\n#else\nvarying vec2 v_alignedPlaneDistances;\nvarying float v_texcoordT;\n#endif\n\n// Morphing planes using SLERP or NLERP doesn\'t seem to work, so instead draw the material directly on the shadow volume.\n// Morph views are from very far away and aren\'t meant to be used precisely, so this should be sufficient.\nvoid main()\n{\n    v_batchId = batchId;\n\n    // Start position\n    vec4 posRelativeToEye2D = czm_translateRelativeToEye(vec3(0.0, startHiLo2D.xy), vec3(0.0, startHiLo2D.zw));\n    vec4 posRelativeToEye3D = czm_translateRelativeToEye(startHiAndForwardOffsetX.xyz, startLoAndForwardOffsetY.xyz);\n    vec4 posRelativeToEye = czm_columbusViewMorph(posRelativeToEye2D, posRelativeToEye3D, czm_morphTime);\n    vec3 posEc2D = (czm_modelViewRelativeToEye * posRelativeToEye2D).xyz;\n    vec3 posEc3D = (czm_modelViewRelativeToEye * posRelativeToEye3D).xyz;\n    vec3 startEC = (czm_modelViewRelativeToEye * posRelativeToEye).xyz;\n\n    // Start plane\n    vec4 startPlane2D;\n    vec4 startPlane3D;\n    startPlane2D.xyz = czm_normal * vec3(0.0, startEndNormals2D.xy);\n    startPlane3D.xyz = czm_normal * startNormalAndForwardOffsetZ.xyz;\n    startPlane2D.w = -dot(startPlane2D.xyz, posEc2D);\n    startPlane3D.w = -dot(startPlane3D.xyz, posEc3D);\n\n    // Right plane\n    vec4 rightPlane2D;\n    vec4 rightPlane3D;\n    rightPlane2D.xyz = czm_normal * vec3(0.0, offsetAndRight2D.zw);\n    rightPlane3D.xyz = czm_normal * rightNormalAndTextureCoordinateNormalizationY.xyz;\n    rightPlane2D.w = -dot(rightPlane2D.xyz, posEc2D);\n    rightPlane3D.w = -dot(rightPlane3D.xyz, posEc3D);\n\n    // End position\n    posRelativeToEye2D = posRelativeToEye2D + vec4(0.0, offsetAndRight2D.xy, 0.0);\n    posRelativeToEye3D = posRelativeToEye3D + vec4(startHiAndForwardOffsetX.w, startLoAndForwardOffsetY.w, startNormalAndForwardOffsetZ.w, 0.0);\n    posRelativeToEye = czm_columbusViewMorph(posRelativeToEye2D, posRelativeToEye3D, czm_morphTime);\n    posEc2D = (czm_modelViewRelativeToEye * posRelativeToEye2D).xyz;\n    posEc3D = (czm_modelViewRelativeToEye * posRelativeToEye3D).xyz;\n    vec3 endEC = (czm_modelViewRelativeToEye * posRelativeToEye).xyz;\n    vec3 forwardEc3D = czm_normal * normalize(vec3(startHiAndForwardOffsetX.w, startLoAndForwardOffsetY.w, startNormalAndForwardOffsetZ.w));\n    vec3 forwardEc2D = czm_normal * normalize(vec3(0.0, offsetAndRight2D.xy));\n\n    // End plane\n    vec4 endPlane2D;\n    vec4 endPlane3D;\n    endPlane2D.xyz = czm_normal * vec3(0.0, startEndNormals2D.zw);\n    endPlane3D.xyz = czm_normal * endNormalAndTextureCoordinateNormalizationX.xyz;\n    endPlane2D.w = -dot(endPlane2D.xyz, posEc2D);\n    endPlane3D.w = -dot(endPlane3D.xyz, posEc3D);\n\n    // Forward direction\n    v_forwardDirectionEC = normalize(endEC - startEC);\n\n    vec2 cleanTexcoordNormalization2D;\n    cleanTexcoordNormalization2D.x = abs(texcoordNormalization2D.x);\n    cleanTexcoordNormalization2D.y = czm_branchFreeTernary(texcoordNormalization2D.y > 1.0, 0.0, abs(texcoordNormalization2D.y));\n    vec2 cleanTexcoordNormalization3D;\n    cleanTexcoordNormalization3D.x = abs(endNormalAndTextureCoordinateNormalizationX.w);\n    cleanTexcoordNormalization3D.y = rightNormalAndTextureCoordinateNormalizationY.w;\n    cleanTexcoordNormalization3D.y = czm_branchFreeTernary(cleanTexcoordNormalization3D.y > 1.0, 0.0, abs(cleanTexcoordNormalization3D.y));\n\n    v_texcoordNormalizationAndHalfWidth.xy = mix(cleanTexcoordNormalization2D, cleanTexcoordNormalization3D, czm_morphTime);\n\n#ifdef PER_INSTANCE_COLOR\n    v_color = czm_batchTable_color(batchId);\n#else // PER_INSTANCE_COLOR\n    // For computing texture coordinates\n\n    v_alignedPlaneDistances.x = -dot(v_forwardDirectionEC, startEC);\n    v_alignedPlaneDistances.y = -dot(-v_forwardDirectionEC, endEC);\n#endif // PER_INSTANCE_COLOR\n\n#ifdef WIDTH_VARYING\n    float width = czm_batchTable_width(batchId);\n    float halfWidth = width * 0.5;\n    v_width = width;\n    v_texcoordNormalizationAndHalfWidth.z = halfWidth;\n#else\n    float halfWidth = 0.5 * czm_batchTable_width(batchId);\n    v_texcoordNormalizationAndHalfWidth.z = halfWidth;\n#endif\n\n    // Compute a normal along which to "push" the position out, extending the miter depending on view distance.\n    // Position has already been "pushed" by unit length along miter normal, and miter normals are encoded in the planes.\n    // Decode the normal to use at this specific vertex, push the position back, and then push to where it needs to be.\n    // Since this is morphing, compute both 3D and 2D positions and then blend.\n\n    // ****** 3D ******\n    // Check distance to the end plane and start plane, pick the plane that is closer\n    vec4 positionEc3D = czm_modelViewRelativeToEye * czm_translateRelativeToEye(position3DHigh, position3DLow); // w = 1.0, see czm_computePosition\n    float absStartPlaneDistance = abs(czm_planeDistance(startPlane3D, positionEc3D.xyz));\n    float absEndPlaneDistance = abs(czm_planeDistance(endPlane3D, positionEc3D.xyz));\n    vec3 planeDirection = czm_branchFreeTernary(absStartPlaneDistance < absEndPlaneDistance, startPlane3D.xyz, endPlane3D.xyz);\n    vec3 upOrDown = normalize(cross(rightPlane3D.xyz, planeDirection)); // Points "up" for start plane, "down" at end plane.\n    vec3 normalEC = normalize(cross(planeDirection, upOrDown));         // In practice, the opposite seems to work too.\n\n    // Nudge the top vertex upwards to prevent flickering\n    vec3 geodeticSurfaceNormal = normalize(cross(normalEC, forwardEc3D));\n    geodeticSurfaceNormal *= float(0.0 <= rightNormalAndTextureCoordinateNormalizationY.w && rightNormalAndTextureCoordinateNormalizationY.w <= 1.0);\n    geodeticSurfaceNormal *= MAX_TERRAIN_HEIGHT;\n    positionEc3D.xyz += geodeticSurfaceNormal;\n\n    // Determine if this vertex is on the "left" or "right"\n    normalEC *= sign(endNormalAndTextureCoordinateNormalizationX.w);\n\n    // A "perfect" implementation would push along normals according to the angle against forward.\n    // In practice, just pushing the normal out by halfWidth is sufficient for morph views.\n    positionEc3D.xyz += halfWidth * max(0.0, czm_metersPerPixel(positionEc3D)) * normalEC; // prevent artifacts when czm_metersPerPixel is negative (behind camera)\n\n    // ****** 2D ******\n    // Check distance to the end plane and start plane, pick the plane that is closer\n    vec4 positionEc2D = czm_modelViewRelativeToEye * czm_translateRelativeToEye(position2DHigh.zxy, position2DLow.zxy); // w = 1.0, see czm_computePosition\n    absStartPlaneDistance = abs(czm_planeDistance(startPlane2D, positionEc2D.xyz));\n    absEndPlaneDistance = abs(czm_planeDistance(endPlane2D, positionEc2D.xyz));\n    planeDirection = czm_branchFreeTernary(absStartPlaneDistance < absEndPlaneDistance, startPlane2D.xyz, endPlane2D.xyz);\n    upOrDown = normalize(cross(rightPlane2D.xyz, planeDirection)); // Points "up" for start plane, "down" at end plane.\n    normalEC = normalize(cross(planeDirection, upOrDown));         // In practice, the opposite seems to work too.\n\n    // Nudge the top vertex upwards to prevent flickering\n    geodeticSurfaceNormal = normalize(cross(normalEC, forwardEc2D));\n    geodeticSurfaceNormal *= float(0.0 <= texcoordNormalization2D.y && texcoordNormalization2D.y <= 1.0);\n    geodeticSurfaceNormal *= MAX_TERRAIN_HEIGHT;\n    positionEc2D.xyz += geodeticSurfaceNormal;\n\n    // Determine if this vertex is on the "left" or "right"\n    normalEC *= sign(texcoordNormalization2D.x);\n#ifndef PER_INSTANCE_COLOR\n    // Use vertex\'s sidedness to compute its texture coordinate.\n    v_texcoordT = clamp(sign(texcoordNormalization2D.x), 0.0, 1.0);\n#endif\n\n    // A "perfect" implementation would push along normals according to the angle against forward.\n    // In practice, just pushing the normal out by halfWidth is sufficient for morph views.\n    positionEc2D.xyz += halfWidth * max(0.0, czm_metersPerPixel(positionEc2D)) * normalEC; // prevent artifacts when czm_metersPerPixel is negative (behind camera)\n\n    // Blend for actual position\n    gl_Position = czm_projection * mix(positionEc2D, positionEc3D, czm_morphTime);\n\n#ifdef ANGLE_VARYING\n    // Approximate relative screen space direction of the line.\n    vec2 approxLineDirection = normalize(vec2(v_forwardDirectionEC.x, -v_forwardDirectionEC.y));\n    approxLineDirection.y = czm_branchFreeTernary(approxLineDirection.x == 0.0 && approxLineDirection.y == 0.0, -1.0, approxLineDirection.y);\n    v_polylineAngle = czm_fastApproximateAtan(approxLineDirection.x, approxLineDirection.y);\n#endif\n}\n'},TuWn:function(e,t,i){"use strict";function n(e,t){t=Object(o.a)(t,0);var i;if(t>0){i=new Array(t);for(var n=0;n<t;n++)i[n]=a.a}this._numberOfDerivatives=t,this._property=new f.a(a.a,i),this._definitionChanged=new l.a,this._referenceFrame=Object(o.a)(e,u.a.FIXED),this._property._definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this)},this)}var a=i("Jj+J"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("PzDm"),l=i("W6xh"),u=i("IDfv"),h=i("mUvA"),d=i("uhjI"),f=i("mEEk");Object.defineProperties(n.prototype,{isConstant:{get:function(){return this._property.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}},interpolationDegree:{get:function(){return this._property.interpolationDegree}},interpolationAlgorithm:{get:function(){return this._property.interpolationAlgorithm}},numberOfDerivatives:{get:function(){return this._numberOfDerivatives}},forwardExtrapolationType:{get:function(){return this._property.forwardExtrapolationType},set:function(e){this._property.forwardExtrapolationType=e}},forwardExtrapolationDuration:{get:function(){return this._property.forwardExtrapolationDuration},set:function(e){this._property.forwardExtrapolationDuration=e}},backwardExtrapolationType:{get:function(){return this._property.backwardExtrapolationType},set:function(e){this._property.backwardExtrapolationType=e}},backwardExtrapolationDuration:{get:function(){return this._property.backwardExtrapolationDuration},set:function(e){this._property.backwardExtrapolationDuration=e}}}),n.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,u.a.FIXED,t)},n.prototype.getValueInReferenceFrame=function(e,t,i){if(r.a.defined("time",e),r.a.defined("referenceFrame",t),i=this._property.getValue(e,i),Object(s.a)(i))return h.a.convertToReferenceFrame(e,i,this._referenceFrame,t,i)},n.prototype.setInterpolationOptions=function(e){this._property.setInterpolationOptions(e)},n.prototype.addSample=function(e,t,i){var n=this._numberOfDerivatives;if(n>0&&(!Object(s.a)(i)||i.length!==n))throw new c.a("derivatives length must be equal to the number of derivatives.");this._property.addSample(e,t,i)},n.prototype.addSamples=function(e,t,i){this._property.addSamples(e,t,i)},n.prototype.addSamplesPackedArray=function(e,t){this._property.addSamplesPackedArray(e,t)},n.prototype.removeSample=function(e){this._property.removeSample(e)},n.prototype.removeSamples=function(e){this._property.removeSamples(e)},n.prototype.equals=function(e){return this===e||e instanceof n&&d.a.equals(this._property,e._property)&&this._referenceFrame===e._referenceFrame},t.a=n},U8zd:function(e,t,i){"use strict";t.a="uniform sampler2D depthTexture;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main(void)\n{\n    float depth = czm_readDepth(depthTexture, v_textureCoordinates);\n    gl_FragColor = vec4(vec3(depth), 1.0);\n}\n"},UETe:function(e,t,i){"use strict";var n={};/*!
 * Autolinker.js
 * 3.11.0
 *
 * Copyright(c) 2019 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT License
 *
 * https://github.com/gregjacobs/Autolinker.js
 */
!function(e,t){e.Autolinker=function(){function e(e,t){for(var i in t)t.hasOwnProperty(i)&&void 0===e[i]&&(e[i]=t[i]);return e}function t(e,t,i){var n;return e.length>t&&(null==i?(i="&hellip;",n=3):n=i.length,e=e.substring(0,t-n)+i),e}function i(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function n(e,t){for(var i=e.length-1;i>=0;i--)!0===t(e[i])&&e.splice(i,1)}function a(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var i,n=[],a=0;i=t.exec(e);)n.push(e.substring(a,i.index)),n.push(i[0]),a=i.index+i[0].length;return n.push(e.substring(a)),n}function r(e){throw new Error("Unhandled case for value: '"+e+"'")}function o(e,t,i){var n,a;null==i?(i="&hellip;",a=3,n=8):(a=i.length,n=i.length);var r=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},o=function(e,t){var n=t/2,a=Math.ceil(n),r=-1*Math.floor(n),o="";return r<0&&(o=e.substr(r)),e.substr(0,a)+i+o};if(e.length<=t)return e;var s=t-a,c=function(e){var t={},i=e,n=i.match(/^([a-z]+):\/\//i);return n&&(t.scheme=n[1],i=i.substr(n[0].length)),n=i.match(/^(.*?)(?=(\?|#|\/|$))/i),n&&(t.host=n[1],i=i.substr(n[0].length)),n=i.match(/^\/(.*?)(?=(\?|#|$))/i),n&&(t.path=n[1],i=i.substr(n[0].length)),n=i.match(/^\?(.*?)(?=(#|$))/i),n&&(t.query=n[1],i=i.substr(n[0].length)),n=i.match(/^#(.*?)$/i),n&&(t.fragment=n[1]),t}(e);if(c.query){var l=c.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);l&&(c.query=c.query.substr(0,l[1].length),e=r(c))}if(e.length<=t)return e;if(c.host&&(c.host=c.host.replace(/^www\./,""),e=r(c)),e.length<=t)return e;var u="";if(c.host&&(u+=c.host),u.length>=s)return c.host.length==t?(c.host.substr(0,t-a)+i).substr(0,s+n):o(u,s).substr(0,s+n);var h="";if(c.path&&(h+="/"+c.path),c.query&&(h+="?"+c.query),h){if((u+h).length>=s){if((u+h).length==t)return(u+h).substr(0,t);return(u+o(h,s-u.length)).substr(0,s+n)}u+=h}if(c.fragment){var d="#"+c.fragment;if((u+d).length>=s){if((u+d).length==t)return(u+d).substr(0,t);return(u+o(d,s-u.length)).substr(0,s+n)}u+=d}if(c.scheme&&c.host){var f=c.scheme+"://";if((u+f).length<s)return(f+u).substr(0,t)}if(u.length<=t)return u;var p="";return s>0&&(p=u.substr(-1*Math.floor(s/2))),(u.substr(0,Math.ceil(s/2))+i+p).substr(0,s+n)}function s(e,t,i){if(e.length<=t)return e;var n,a;null==i?(i="&hellip;",n=8,a=3):(n=i.length,a=i.length);var r=t-a,o="";return r>0&&(o=e.substr(-1*Math.floor(r/2))),(e.substr(0,Math.ceil(r/2))+i+o).substr(0,r+n)}function c(e,i,n){return t(e,i,n)}function l(e,t){function i(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function u(e,t){function i(){_=0,b=f}function n(){_=1,b=new Y({idx:p})}function a(){var t=e.slice(v,b.idx);t&&u(t,v),"comment"===b.type?h(b.idx):"doctype"===b.type?d(b.idx):(b.isOpening&&c(b.name,b.idx),b.isClosing&&l(b.name,b.idx)),i(),v=p+1}function o(){var t=b.idx+(b.isClosing?2:1);return e.slice(t,p).toLowerCase()}function s(){p--}for(var c=t.onOpenTag,l=t.onCloseTag,u=t.onText,h=t.onComment,d=t.onDoctype,f=new Y,p=0,g=e.length,_=0,v=0,b=f;p<g;){var y=e.charAt(p);switch(_){case 0:!function(e){"<"===e&&n()}(y);break;case 1:!function(e){"!"===e?_=13:"/"===e?(_=2,b=new Y(m({},b,{isClosing:!0}))):"<"===e?n():w.test(e)?(_=3,b=new Y(m({},b,{isOpening:!0}))):(_=0,b=f)}(y);break;case 2:!function(e){">"===e?i():w.test(e)?_=3:i()}(y);break;case 3:!function(e){E.test(e)?(b=new Y(m({},b,{name:o()})),_=4):"<"===e?n():"/"===e?(b=new Y(m({},b,{name:o()})),_=12):">"===e?(b=new Y(m({},b,{name:o()})),a()):w.test(e)||x.test(e)||":"===e||i()}(y);break;case 4:!function(e){E.test(e)||("/"===e?_=12:">"===e?a():"<"===e?n():"="===e||T.test(e)||A.test(e)?i():_=5)}(y);break;case 5:!function(e){E.test(e)?_=6:"/"===e?_=12:"="===e?_=7:">"===e?a():"<"===e?n():T.test(e)&&i()}(y);break;case 6:!function(e){E.test(e)||("/"===e?_=12:"="===e?_=7:">"===e?a():"<"===e?n():T.test(e)?i():_=5)}(y);break;case 7:!function(e){E.test(e)||('"'===e?_=8:"'"===e?_=9:/[>=`]/.test(e)?i():"<"===e?n():_=10)}(y);break;case 8:!function(e){'"'===e&&(_=11)}(y);break;case 9:!function(e){"'"===e&&(_=11)}(y);break;case 10:!function(e){E.test(e)?_=4:">"===e?a():"<"===e&&n()}(y);break;case 11:!function(e){E.test(e)?_=4:"/"===e?_=12:">"===e?a():"<"===e?n():(_=4,s())}(y);break;case 12:!function(e){">"===e?(b=new Y(m({},b,{isClosing:!0})),a()):_=4}(y);break;case 13:!function(t){"--"===e.substr(p,2)?(p+=2,b=new Y(m({},b,{type:"comment"})),_=14):"DOCTYPE"===e.substr(p,7).toUpperCase()?(p+=7,b=new Y(m({},b,{type:"doctype"})),_=20):i()}();break;case 14:!function(e){"-"===e?_=15:">"===e?i():_=16}(y);break;case 15:!function(e){"-"===e?_=18:">"===e?i():_=16}(y);break;case 16:!function(e){"-"===e&&(_=17)}(y);break;case 17:!function(e){_="-"===e?18:16}(y);break;case 18:!function(e){">"===e?a():"!"===e?_=19:"-"===e||(_=16)}(y);break;case 19:!function(e){"-"===e?_=17:">"===e?a():_=16}(y);break;case 20:!function(e){">"===e?a():"<"===e&&n()}(y);break;default:r(_)}p++}v<p&&function(){var t=e.slice(v,p);u(t,v),v=p+1}()}var h=function(){function e(e){void 0===e&&(e={}),this.tagName="",this.attrs={},this.innerHTML="",this.whitespaceRegex=/\s+/,this.tagName=e.tagName||"",this.attrs=e.attrs||{},this.innerHTML=e.innerHtml||e.innerHTML||""}return e.prototype.setTagName=function(e){return this.tagName=e,this},e.prototype.getTagName=function(){return this.tagName||""},e.prototype.setAttr=function(e,t){return this.getAttrs()[e]=t,this},e.prototype.getAttr=function(e){return this.getAttrs()[e]},e.prototype.setAttrs=function(e){return Object.assign(this.getAttrs(),e),this},e.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},e.prototype.setClass=function(e){return this.setAttr("class",e)},e.prototype.addClass=function(e){for(var t,n=this.getClass(),a=this.whitespaceRegex,r=n?n.split(a):[],o=e.split(a);t=o.shift();)-1===i(r,t)&&r.push(t);return this.getAttrs().class=r.join(" "),this},e.prototype.removeClass=function(e){for(var t,n=this.getClass(),a=this.whitespaceRegex,r=n?n.split(a):[],o=e.split(a);r.length&&(t=o.shift());){var s=i(r,t);-1!==s&&r.splice(s,1)}return this.getAttrs().class=r.join(" "),this},e.prototype.getClass=function(){return this.getAttrs().class||""},e.prototype.hasClass=function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},e.prototype.setInnerHTML=function(e){return this.innerHTML=e,this},e.prototype.setInnerHtml=function(e){return this.setInnerHTML(e)},e.prototype.getInnerHTML=function(){return this.innerHTML||""},e.prototype.getInnerHtml=function(){return this.getInnerHTML()},e.prototype.toAnchorString=function(){var e=this.getTagName(),t=this.buildAttrsStr();return t=t?" "+t:"",["<",e,t,">",this.getInnerHtml(),"</",e,">"].join("")},e.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+'="'+e[i]+'"');return t.join(" ")},e}(),d=function(){function e(e){void 0===e&&(e={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=e.newWindow||!1,this.truncate=e.truncate||{},this.className=e.className||""}return e.prototype.build=function(e){return new h({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})},e.prototype.createAttrs=function(e){var t={href:e.getAnchorHref()},i=this.createCssClass(e);return i&&(t.class=i),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},e.prototype.createCssClass=function(e){var t=this.className;if(t){for(var i=[t],n=e.getCssClassSuffixes(),a=0,r=n.length;a<r;a++)i.push(t+"-"+n[a]);return i.join(" ")}return""},e.prototype.processAnchorText=function(e){return e=this.doTruncate(e)},e.prototype.doTruncate=function(e){var t=this.truncate;if(!t||!t.length)return e;var i=t.length,n=t.location;return"smart"===n?o(e,i):"middle"===n?s(e,i):c(e,i)},e}(),f=function(){function e(e){this.__jsduckDummyDocProp=null,this.matchedText="",this.offset=0,this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset}return e.prototype.getMatchedText=function(){return this.matchedText},e.prototype.setOffset=function(e){this.offset=e},e.prototype.getOffset=function(){return this.offset},e.prototype.getCssClassSuffixes=function(){return[this.getType()]},e.prototype.buildTag=function(){return this.tagBuilder.build(this)},e}(),p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},m=function(){return m=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},m.apply(this,arguments)},g=function(e){function t(t){var i=e.call(this,t)||this;return i.email="",i.email=t.email,i}return l(t,e),t.prototype.getType=function(){return"email"},t.prototype.getEmail=function(){return this.email},t.prototype.getAnchorHref=function(){return"mailto:"+this.email},t.prototype.getAnchorText=function(){return this.email},t}(f),_=function(e){function t(t){var i=e.call(this,t)||this;return i.serviceName="",i.hashtag="",i.serviceName=t.serviceName,i.hashtag=t.hashtag,i}return l(t,e),t.prototype.getType=function(){return"hashtag"},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getHashtag=function(){return this.hashtag},t.prototype.getAnchorHref=function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: "+e)}},t.prototype.getAnchorText=function(){return"#"+this.hashtag},t}(f),v=function(e){function t(t){var i=e.call(this,t)||this;return i.serviceName="twitter",i.mention="",i.mention=t.mention,i.serviceName=t.serviceName,i}return l(t,e),t.prototype.getType=function(){return"mention"},t.prototype.getMention=function(){return this.mention},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},t.prototype.getAnchorText=function(){return"@"+this.mention},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),i=this.getServiceName();return i&&t.push(i),t},t}(f),b=function(e){function t(t){var i=e.call(this,t)||this;return i.number="",i.plusSign=!1,i.number=t.number,i.plusSign=t.plusSign,i}return l(t,e),t.prototype.getType=function(){return"phone"},t.prototype.getPhoneNumber=function(){return this.number},t.prototype.getNumber=function(){return this.getPhoneNumber()},t.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},t.prototype.getAnchorText=function(){return this.matchedText},t}(f),y=function(e){function t(t){var i=e.call(this,t)||this;return i.url="",i.urlMatchType="scheme",i.protocolUrlMatch=!1,i.protocolRelativeMatch=!1,i.stripPrefix={scheme:!0,www:!0},i.stripTrailingSlash=!0,i.decodePercentEncoding=!0,i.schemePrefixRegex=/^(https?:\/\/)?/i,i.wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i,i.protocolRelativeRegex=/^\/\//,i.protocolPrepended=!1,i.urlMatchType=t.urlMatchType,i.url=t.url,i.protocolUrlMatch=t.protocolUrlMatch,i.protocolRelativeMatch=t.protocolRelativeMatch,i.stripPrefix=t.stripPrefix,i.stripTrailingSlash=t.stripTrailingSlash,i.decodePercentEncoding=t.decodePercentEncoding,i}return l(t,e),t.prototype.getType=function(){return"url"},t.prototype.getUrlMatchType=function(){return this.urlMatchType},t.prototype.getUrl=function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},t.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},t.prototype.getAnchorText=function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e)),this.stripPrefix.www&&(e=this.stripWwwPrefix(e)),this.stripTrailingSlash&&(e=this.removeTrailingSlash(e)),this.decodePercentEncoding&&(e=this.removePercentEncoding(e)),e},t.prototype.stripSchemePrefix=function(e){return e.replace(this.schemePrefixRegex,"")},t.prototype.stripWwwPrefix=function(e){return e.replace(this.wwwPrefixRegex,"$1")},t.prototype.stripProtocolRelativePrefix=function(e){return e.replace(this.protocolRelativeRegex,"")},t.prototype.removeTrailingSlash=function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e},t.prototype.removePercentEncoding=function(e){var t=e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(t)}catch(e){return t}},t}(f),O=function(){function e(e){this.__jsduckDummyDocProp=null,this.tagBuilder=e.tagBuilder}return e}(),w=/[A-Za-z]/,x=/[0-9]/,E=/\s/,T=/['"]/,A=/[\x00-\x1F\x7F]/,C=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,S=/\u00a9\u00ae\u2000-\u3300\ud83c\ud000-\udfff\ud83d\ud000-\udfff\ud83e\ud000-\udfff/.source,j=/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,P=C+S+j,D=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,I=P+D,R=P+D,M="(?:["+D+"]{1,3}\\.){3}["+D+"]{1,3}",L="["+R+"](?:["+R+"\\-]{0,61}["+R+"])?",N=function(e){return"(?=("+L+"))\\"+e},F=function(e){return"(?:"+N(e)+"(?:\\."+N(e+1)+"){0,126}|"+M+")"},z=new RegExp("["+R+"]"),B=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|etisalat|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|staples|starhub|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|اتصالات|الجزائر|العليان|پاکستان|كاثوليك|موبايلي|இந்தியா|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|भारतम्|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|ایران|بازار|بھارت|سودان|سورية|همراه|भारोत|संगठन|বাংলা|భారత్|ഭാരതം|嘉里大酒店|aarp|able|adac|aero|aigo|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بارت|بيتك|ڀارت|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ভাৰত|ਭਾਰਤ|ભારત|ଭାରତ|ಭಾರತ|ලංකා|グーグル|クラウド|ポイント|大众汽车|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jcp|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|عرب|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ストア|セール|みんな|中文网|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|工行|广东|微博|慈善|手机|手表|招聘|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|珠宝|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)/,k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localPartCharRegex=new RegExp("["+R+"!#$%&'*+/=?^_`{|}~-]"),t.strictTldRegex=new RegExp("^"+B.source+"$"),t}return l(t,e),t.prototype.parseMatches=function(e){function t(e){void 0===e&&(e=2),f=e,p=new U({idx:d})}function i(){f=0,p=u}function n(){if(p.hasDomainDot){var t=e.slice(p.idx,d);/[-.]$/.test(t)&&(t=t.slice(0,-1));var n=p.hasMailtoPrefix?t.slice("mailto:".length):t;(function(e){var t=e.split(".").pop()||"",i=t.toLowerCase();return s.test(i)})(n)&&c.push(new g({tagBuilder:a,matchedText:t,offset:p.idx,email:n}))}i()}for(var a=this.tagBuilder,o=this.localPartCharRegex,s=this.strictTldRegex,c=[],l=e.length,u=new U,h={m:"a",a:"i",i:"l",l:"t",t:"o",o:":"},d=0,f=0,p=u;d<l;){var _=e.charAt(d);switch(f){case 0:!function(e){"m"===e?t(1):o.test(e)&&t()}(_);break;case 1:!function(e,t){":"===e?o.test(t)?(f=2,p=new U(m({},p,{hasMailtoPrefix:!0}))):i():h[e]===t||(o.test(t)?f=2:"."===t?f=3:"@"===t?f=4:i())}(e.charAt(d-1),_);break;case 2:!function(e){"."===e?f=3:"@"===e?f=4:o.test(e)||i()}(_);break;case 3:!function(e){"."===e?i():"@"===e?i():o.test(e)?f=2:i()}(_);break;case 4:!function(e){z.test(e)?f=5:i()}(_);break;case 5:!function(e){"."===e?f=7:"-"===e?f=6:z.test(e)||n()}(_);break;case 6:!function(e){"-"===e||"."===e?n():z.test(e)?f=5:n()}(_);break;case 7:!function(e){"."===e||"-"===e?n():z.test(e)?(f=5,p=new U(m({},p,{hasDomainDot:!0}))):n()}(_);break;default:r(f)}d++}return n(),c},t}(O),U=function(){function e(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.hasMailtoPrefix=!!e.hasMailtoPrefix,this.hasDomainDot=!!e.hasDomainDot}return e}(),V=function(){function e(){}return e.isValid=function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))},e.isValidIpAddress=function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)},e.containsMultipleDots=function(e){var t=e;return this.hasFullProtocolRegex.test(e)&&(t=e.split("://")[1]),t.split("/")[0].indexOf("..")>-1},e.isValidUriScheme=function(e){var t=e.match(this.uriSchemeRegex),i=t&&t[0].toLowerCase();return"javascript:"!==i&&"vbscript:"!==i},e.urlMatchDoesNotHaveProtocolOrDot=function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},e.urlMatchDoesNotHaveAtLeastOneWordChar=function(e,t){return!(!e||!t)&&!this.hasWordCharAfterProtocolRegex.test(e)},e.hasFullProtocolRegex=/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,e.uriSchemeRegex=/^[A-Za-z][-.+A-Za-z0-9]*:/,e.hasWordCharAfterProtocolRegex=new RegExp(":[^\\s]*?["+C+"]"),e.ipRegex=/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,e}(),H=function(e){function t(t){var i=e.call(this,t)||this;return i.stripPrefix={scheme:!0,www:!0},i.stripTrailingSlash=!0,i.decodePercentEncoding=!0,i.matcherRegex=function(){var e=/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/,t=/(?:www\.)/,i=new RegExp("[/?#](?:["+R+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;✓]*["+R+"\\-+&@#/%=~_()|'$*\\[\\]✓])?");return new RegExp(["(?:","(",e.source,F(2),")","|","(","(//)?",t.source,F(6),")","|","(","(//)?",F(10)+"\\.",B.source,"(?![-"+I+"])",")",")","(?::[0-9]+)?","(?:"+i.source+")?"].join(""),"gi")}(),i.wordCharRegExp=new RegExp("["+R+"]"),i.stripPrefix=t.stripPrefix,i.stripTrailingSlash=t.stripTrailingSlash,i.decodePercentEncoding=t.decodePercentEncoding,i}return l(t,e),t.prototype.parseMatches=function(e){for(var t,i=this.matcherRegex,n=this.stripPrefix,a=this.stripTrailingSlash,r=this.decodePercentEncoding,o=this.tagBuilder,s=[],c=this;null!==(t=i.exec(e));)!function(){var i=t[0],l=t[1],u=t[4],h=t[5],d=t[9],f=t.index,p=h||d,m=e.charAt(f-1);if(!V.isValid(i,l))return"continue";if(f>0&&"@"===m)return"continue";if(f>0&&p&&c.wordCharRegExp.test(m))return"continue";if(/\?$/.test(i)&&(i=i.substr(0,i.length-1)),c.matchHasUnbalancedClosingParen(i))i=i.substr(0,i.length-1);else{var g=c.matchHasInvalidCharAfterTld(i,l);g>-1&&(i=i.substr(0,g))}var _=["http://","https://"].find(function(e){return!!l&&-1!==l.indexOf(e)});if(_){var v=i.indexOf(_);i=i.substr(v),l=l.substr(v),f+=v}var b=l?"scheme":u?"www":"tld",O=!!l;s.push(new y({tagBuilder:o,matchedText:i,offset:f,urlMatchType:b,url:i,protocolUrlMatch:O,protocolRelativeMatch:!!p,stripPrefix:n,stripTrailingSlash:a,decodePercentEncoding:r}))}();return s},t.prototype.matchHasUnbalancedClosingParen=function(e){var t,i=e.charAt(e.length-1);if(")"===i)t="(";else{if("]"!==i)return!1;t="["}for(var n=0,a=0,r=e.length-1;a<r;a++){var o=e.charAt(a);o===t?n++:o===i&&(n=Math.max(n-1,0))}return 0===n},t.prototype.matchHasInvalidCharAfterTld=function(e,t){if(!e)return-1;var i=0;t&&(i=e.indexOf(":"),e=e.slice(i));var n=new RegExp("^((.?//)?[-."+R+"]*[-"+R+"]\\.[-"+R+"]+)"),a=n.exec(e);return null===a?-1:(i+=a[1].length,e=e.slice(a[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(e)?i:-1)},t}(O),q=function(e){function t(t){var i=e.call(this,t)||this;return i.serviceName="twitter",i.matcherRegex=new RegExp("#[_"+R+"]{1,139}(?![_"+R+"])","g"),i.nonWordCharRegex=new RegExp("[^"+R+"]"),i.serviceName=t.serviceName,i}return l(t,e),t.prototype.parseMatches=function(e){for(var t,i=this.matcherRegex,n=this.nonWordCharRegex,a=this.serviceName,r=this.tagBuilder,o=[];null!==(t=i.exec(e));){var s=t.index,c=e.charAt(s-1);if(0===s||n.test(c)){var l=t[0],u=t[0].slice(1);o.push(new _({tagBuilder:r,matchedText:l,offset:s,serviceName:a,hashtag:u}))}}return o},t}(O),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.matcherRegex=/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/g,t}return l(t,e),t.prototype.parseMatches=function(e){for(var t,i=this.matcherRegex,n=this.tagBuilder,a=[];null!==(t=i.exec(e));){var r=t[0],o=r.replace(/[^0-9,;#]/g,""),s=!(!t[1]&&!t[2]),c=0==t.index?"":e.substr(t.index-1,1),l=e.substr(t.index+r.length,1),u=!c.match(/\d/)&&!l.match(/\d/);this.testMatch(t[3])&&this.testMatch(r)&&u&&a.push(new b({tagBuilder:n,matchedText:r,offset:t.index,number:o,plusSign:s}))}return a},t.prototype.testMatch=function(e){return/\D/.test(e)},t}(O),G=function(e){function t(t){var i=e.call(this,t)||this;return i.serviceName="twitter",i.matcherRegexes={twitter:new RegExp("@[_"+R+"]{1,50}(?![_"+R+"])","g"),instagram:new RegExp("@[_."+R+"]{1,30}(?![_"+R+"])","g"),soundcloud:new RegExp("@[-_."+R+"]{1,50}(?![-_"+R+"])","g")},i.nonWordCharRegex=new RegExp("[^"+R+"]"),i.serviceName=t.serviceName,i}return l(t,e),t.prototype.parseMatches=function(e){var t,i=this.serviceName,n=this.matcherRegexes[this.serviceName],a=this.nonWordCharRegex,r=this.tagBuilder,o=[];if(!n)return o;for(;null!==(t=n.exec(e));){var s=t.index,c=e.charAt(s-1);if(0===s||a.test(c)){var l=t[0].replace(/\.+$/g,""),u=l.slice(1);o.push(new v({tagBuilder:r,matchedText:l,offset:s,serviceName:i,mention:u}))}}return o},t}(O),Y=function(){function e(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.type=e.type||"tag",this.name=e.name||"",this.isOpening=!!e.isOpening,this.isClosing=!!e.isClosing}return e}();return function(){function t(e){void 0===e&&(e={}),this.version=t.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.matchers=null,this.tagBuilder=null,this.urls=this.normalizeUrlsCfg(e.urls),this.email="boolean"==typeof e.email?e.email:this.email,this.phone="boolean"==typeof e.phone?e.phone:this.phone,this.hashtag=e.hashtag||this.hashtag,this.mention=e.mention||this.mention,this.newWindow="boolean"==typeof e.newWindow?e.newWindow:this.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(e.stripPrefix),this.stripTrailingSlash="boolean"==typeof e.stripTrailingSlash?e.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding="boolean"==typeof e.decodePercentEncoding?e.decodePercentEncoding:this.decodePercentEncoding;var i=this.mention;if(!1!==i&&"twitter"!==i&&"instagram"!==i&&"soundcloud"!==i)throw new Error("invalid `mention` cfg - see docs");var n=this.hashtag;if(!1!==n&&"twitter"!==n&&"facebook"!==n&&"instagram"!==n)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(e.truncate),this.className=e.className||this.className,this.replaceFn=e.replaceFn||this.replaceFn,this.context=e.context||this}return t.link=function(e,i){return new t(i).link(e)},t.parse=function(e,i){return new t(i).parse(e)},t.prototype.normalizeUrlsCfg=function(e){return null==e&&(e=!0),"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}},t.prototype.normalizeStripPrefixCfg=function(e){return null==e&&(e=!0),"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}},t.prototype.normalizeTruncateCfg=function(t){return"number"==typeof t?{length:t,location:"end"}:e(t||{},{length:Number.POSITIVE_INFINITY,location:"end"})},t.prototype.parse=function(e){var t=this,i=["a","style","script"],n=0,r=[];return u(e,{onOpenTag:function(e){i.indexOf(e)>=0&&n++},onText:function(e,i){if(0===n){var o=/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,s=a(e,o),c=i;s.forEach(function(e,i){if(i%2==0){var n=t.parseText(e,c);r.push.apply(r,n)}c+=e.length})}},onCloseTag:function(e){i.indexOf(e)>=0&&(n=Math.max(n-1,0))},onComment:function(e){},onDoctype:function(e){}}),r=this.compactMatches(r),r=this.removeUnwantedMatches(r)},t.prototype.compactMatches=function(e){e.sort(function(e,t){return e.getOffset()-t.getOffset()});for(var t=0;t<e.length-1;t++){var i=e[t],n=i.getOffset(),a=i.getMatchedText().length,r=n+a;if(t+1<e.length){if(e[t+1].getOffset()===n){var o=e[t+1].getMatchedText().length>a?t:t+1;e.splice(o,1);continue}e[t+1].getOffset()<r&&e.splice(t+1,1)}}return e},t.prototype.removeUnwantedMatches=function(e){return this.hashtag||n(e,function(e){return"hashtag"===e.getType()}),this.email||n(e,function(e){return"email"===e.getType()}),this.phone||n(e,function(e){return"phone"===e.getType()}),this.mention||n(e,function(e){return"mention"===e.getType()}),this.urls.schemeMatches||n(e,function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()}),this.urls.wwwMatches||n(e,function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()}),this.urls.tldMatches||n(e,function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()}),e},t.prototype.parseText=function(e,t){void 0===t&&(t=0),t=t||0;for(var i=this.getMatchers(),n=[],a=0,r=i.length;a<r;a++){for(var o=i[a].parseMatches(e),s=0,c=o.length;s<c;s++)o[s].setOffset(t+o[s].getOffset());n.push.apply(n,o)}return n},t.prototype.link=function(e){if(!e)return"";for(var t=this.parse(e),i=[],n=0,a=0,r=t.length;a<r;a++){var o=t[a];i.push(e.substring(n,o.getOffset())),i.push(this.createMatchReturnVal(o)),n=o.getOffset()+o.getMatchedText().length}return i.push(e.substring(n)),i.join("")},t.prototype.createMatchReturnVal=function(e){var t;return this.replaceFn&&(t=this.replaceFn.call(this.context,e)),"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof h?t.toAnchorString():e.buildTag().toAnchorString()},t.prototype.getMatchers=function(){if(this.matchers)return this.matchers;var e=this.getTagBuilder(),t=[new q({tagBuilder:e,serviceName:this.hashtag}),new k({tagBuilder:e}),new W({tagBuilder:e}),new G({tagBuilder:e,serviceName:this.mention}),new H({tagBuilder:e,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=t},t.prototype.getTagBuilder=function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new d({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e},t.version="3.11.0",t.AnchorTagBuilder=d,t.HtmlTag=h,t.matcher={Email:k,Hashtag:q,Matcher:O,Mention:G,Phone:W,Url:H},t.match={Email:g,Hashtag:_,Match:f,Mention:v,Phone:b,Url:y},t}()}()}(n),t.a=n.Autolinker},UQ3W:function(e,t,i){"use strict";t.a="/**\n * DOC_TBA\n *\n * @name czm_multiplyWithColorBalance\n * @glslFunction\n */\nvec3 czm_multiplyWithColorBalance(vec3 left, vec3 right)\n{\n    // Algorithm from Chapter 10 of Graphics Shaders.\n    const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n    \n    vec3 target = left * right;\n    float leftLuminance = dot(left, W);\n    float rightLuminance = dot(right, W);\n    float targetLuminance = dot(target, W);\n    \n    return ((leftLuminance + rightLuminance) / (2.0 * targetLuminance)) * target;\n}\n"},UQXk:function(e,t,i){"use strict";function n(e,t){if(e=Object(d.a)(e,d.a.EMPTY_OBJECT),Object(f.a)(e.disableDepthTestDistance)&&e.disableDepthTestDistance<0)throw new p.a("disableDepthTestDistance must be greater than or equal to 0.0.");var i=e.translucencyByDistance,n=e.pixelOffsetScaleByDistance,a=e.scaleByDistance,r=e.distanceDisplayCondition;if(Object(f.a)(i)){if(i.far<=i.near)throw new p.a("translucencyByDistance.far must be greater than translucencyByDistance.near.");i=_.a.clone(i)}if(Object(f.a)(n)){if(n.far<=n.near)throw new p.a("pixelOffsetScaleByDistance.far must be greater than pixelOffsetScaleByDistance.near.");n=_.a.clone(n)}if(Object(f.a)(a)){if(a.far<=a.near)throw new p.a("scaleByDistance.far must be greater than scaleByDistance.near.");a=_.a.clone(a)}if(Object(f.a)(r)){if(r.far<=r.near)throw new p.a("distanceDisplayCondition.far must be greater than distanceDisplayCondition.near.");r=m.a.clone(r)}this._show=Object(d.a)(e.show,!0),this._position=s.a.clone(Object(d.a)(e.position,s.a.ZERO)),this._actualPosition=s.a.clone(this._position),this._pixelOffset=o.a.clone(Object(d.a)(e.pixelOffset,o.a.ZERO)),this._translate=new o.a(0,0),this._eyeOffset=s.a.clone(Object(d.a)(e.eyeOffset,s.a.ZERO)),this._heightReference=Object(d.a)(e.heightReference,b.a.NONE),this._verticalOrigin=Object(d.a)(e.verticalOrigin,x.a.CENTER),this._horizontalOrigin=Object(d.a)(e.horizontalOrigin,y.a.CENTER),this._scale=Object(d.a)(e.scale,1),this._color=u.a.clone(Object(d.a)(e.color,u.a.WHITE)),this._rotation=Object(d.a)(e.rotation,0),this._alignedAxis=s.a.clone(Object(d.a)(e.alignedAxis,s.a.ZERO)),this._width=e.width,this._height=e.height,this._scaleByDistance=a,this._translucencyByDistance=i,this._pixelOffsetScaleByDistance=n,this._sizeInMeters=Object(d.a)(e.sizeInMeters,!1),this._distanceDisplayCondition=r,this._disableDepthTestDistance=e.disableDepthTestDistance,this._id=e.id,this._collection=Object(d.a)(e.collection,t),this._pickId=void 0,this._pickPrimitive=Object(d.a)(e._pickPrimitive,this),this._billboardCollection=t,this._dirty=!1,this._index=-1,this._batchIndex=void 0,this._imageIndex=-1,this._imageIndexPromise=void 0,this._imageId=void 0,this._image=void 0,this._imageSubRegion=void 0,this._imageWidth=void 0,this._imageHeight=void 0,this._labelDimensions=void 0,this._labelHorizontalOrigin=void 0,this._labelTranslate=void 0;var c=e.image,l=e.imageId;Object(f.a)(c)&&(Object(f.a)(l)||(l="string"==typeof c?c:Object(f.a)(c.src)?c.src:Object(h.a)()),this._imageId=l,this._image=c),Object(f.a)(e.imageSubRegion)&&(this._imageId=l,this._imageSubRegion=e.imageSubRegion),Object(f.a)(this._billboardCollection._textureAtlas)&&this._loadImage(),this._actualClampedPosition=void 0,this._removeCallbackFunc=void 0,this._mode=O.a.SCENE3D,this._clusterShow=!0,this._outlineColor=u.a.clone(Object(d.a)(e.outlineColor,u.a.BLACK)),this._outlineWidth=Object(d.a)(e.outlineWidth,0),this._updateClamping()}function a(e,t){var i=e._billboardCollection;Object(f.a)(i)&&(i._updateBillboard(e,t),e._dirty=!0)}var r=i("or8k"),o=i("Ss9j"),s=i("Jj+J"),c=i("PDkd"),l=i("I3GD"),u=i("6F0S"),h=i("ed27"),d=i("5A4e"),f=i("xC6Q"),p=i("PzDm"),m=i("2d28"),g=i("Xjii"),_=i("UkIP"),v=i("rMjQ"),b=i("JIo7"),y=i("EwVK"),O=i("sotJ"),w=i("D2nr"),x=i("H5bb"),E=n.SHOW_INDEX=0,T=n.POSITION_INDEX=1,A=n.PIXEL_OFFSET_INDEX=2,C=n.EYE_OFFSET_INDEX=3,S=n.HORIZONTAL_ORIGIN_INDEX=4,j=n.VERTICAL_ORIGIN_INDEX=5,P=n.SCALE_INDEX=6,D=n.IMAGE_INDEX_INDEX=7,I=n.COLOR_INDEX=8,R=n.ROTATION_INDEX=9,M=n.ALIGNED_AXIS_INDEX=10,L=n.SCALE_BY_DISTANCE_INDEX=11,N=n.TRANSLUCENCY_BY_DISTANCE_INDEX=12,F=n.PIXEL_OFFSET_SCALE_BY_DISTANCE_INDEX=13,z=n.DISTANCE_DISPLAY_CONDITION=14,B=n.DISABLE_DEPTH_DISTANCE=15;n.TEXTURE_COORDINATE_BOUNDS=16;var k=n.SDF_INDEX=17;n.NUMBER_OF_PROPERTIES=18,Object.defineProperties(n.prototype,{show:{get:function(){return this._show},set:function(e){if(!Object(f.a)(e))throw new p.a("value is required.");this._show!==e&&(this._show=e,a(this,E))}},position:{get:function(){return this._position},set:function(e){if(!Object(f.a)(e))throw new p.a("value is required.");var t=this._position;s.a.equals(t,e)||(s.a.clone(e,t),s.a.clone(e,this._actualPosition),this._updateClamping(),a(this,T))}},heightReference:{get:function(){return this._heightReference},set:function(e){if(!Object(f.a)(e))throw new p.a("value is required.");e!==this._heightReference&&(this._heightReference=e,this._updateClamping(),a(this,T))}},pixelOffset:{get:function(){return this._pixelOffset},set:function(e){if(!Object(f.a)(e))throw new p.a("value is required.");var t=this._pixelOffset;o.a.equals(t,e)||(o.a.clone(e,t),a(this,A))}},scaleByDistance:{get:function(){return this._scaleByDistance},set:function(e){if(Object(f.a)(e)&&e.far<=e.near)throw new p.a("far distance must be greater than near distance.");var t=this._scaleByDistance;_.a.equals(t,e)||(this._scaleByDistance=_.a.clone(e,t),a(this,L))}},translucencyByDistance:{get:function(){return this._translucencyByDistance},set:function(e){if(Object(f.a)(e)&&e.far<=e.near)throw new p.a("far distance must be greater than near distance.");var t=this._translucencyByDistance;_.a.equals(t,e)||(this._translucencyByDistance=_.a.clone(e,t),a(this,N))}},pixelOffsetScaleByDistance:{get:function(){return this._pixelOffsetScaleByDistance},set:function(e){if(Object(f.a)(e)&&e.far<=e.near)throw new p.a("far distance must be greater than near distance.");var t=this._pixelOffsetScaleByDistance;_.a.equals(t,e)||(this._pixelOffsetScaleByDistance=_.a.clone(e,t),a(this,F))}},eyeOffset:{get:function(){return this._eyeOffset},set:function(e){if(!Object(f.a)(e))throw new p.a("value is required.");var t=this._eyeOffset;s.a.equals(t,e)||(s.a.clone(e,t),a(this,C))}},horizontalOrigin:{get:function(){return this._horizontalOrigin},set:function(e){if(!Object(f.a)(e))throw new p.a("value is required.");this._horizontalOrigin!==e&&(this._horizontalOrigin=e,a(this,S))}},verticalOrigin:{get:function(){return this._verticalOrigin},set:function(e){if(!Object(f.a)(e))throw new p.a("value is required.");this._verticalOrigin!==e&&(this._verticalOrigin=e,a(this,j))}},scale:{get:function(){return this._scale},set:function(e){if(!Object(f.a)(e))throw new p.a("value is required.");this._scale!==e&&(this._scale=e,a(this,P))}},color:{get:function(){return this._color},set:function(e){if(!Object(f.a)(e))throw new p.a("value is required.");var t=this._color;u.a.equals(t,e)||(u.a.clone(e,t),a(this,I))}},rotation:{get:function(){return this._rotation},set:function(e){if(!Object(f.a)(e))throw new p.a("value is required.");this._rotation!==e&&(this._rotation=e,a(this,R))}},alignedAxis:{get:function(){return this._alignedAxis},set:function(e){if(!Object(f.a)(e))throw new p.a("value is required.");var t=this._alignedAxis;s.a.equals(t,e)||(s.a.clone(e,t),a(this,M))}},width:{get:function(){return Object(d.a)(this._width,this._imageWidth)},set:function(e){this._width!==e&&(this._width=e,a(this,D))}},height:{get:function(){return Object(d.a)(this._height,this._imageHeight)},set:function(e){this._height!==e&&(this._height=e,a(this,D))}},sizeInMeters:{get:function(){return this._sizeInMeters},set:function(e){this._sizeInMeters!==e&&(this._sizeInMeters=e,a(this,I))}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){if(!m.a.equals(e,this._distanceDisplayCondition)){if(Object(f.a)(e)&&e.far<=e.near)throw new p.a("far distance must be greater than near distance.");this._distanceDisplayCondition=m.a.clone(e,this._distanceDisplayCondition),a(this,z)}}},disableDepthTestDistance:{get:function(){return this._disableDepthTestDistance},set:function(e){if(this._disableDepthTestDistance!==e){if(Object(f.a)(e)&&e<0)throw new p.a("disableDepthTestDistance must be greater than or equal to 0.0.");this._disableDepthTestDistance=e,a(this,B)}}},id:{get:function(){return this._id},set:function(e){this._id=e,Object(f.a)(this._pickId)&&(this._pickId.object.id=e)}},pickPrimitive:{get:function(){return this._pickPrimitive},set:function(e){this._pickPrimitive=e,Object(f.a)(this._pickId)&&(this._pickId.object.primitive=e)}},pickId:{get:function(){return this._pickId}},image:{get:function(){return this._imageId},set:function(e){Object(f.a)(e)?"string"==typeof e?this.setImage(e,e):e instanceof v.a?this.setImage(e.url,e):Object(f.a)(e.src)?this.setImage(e.src,e):this.setImage(Object(h.a)(),e):(this._imageIndex=-1,this._imageSubRegion=void 0,this._imageId=void 0,this._image=void 0,this._imageIndexPromise=void 0,a(this,D))}},ready:{get:function(){return-1!==this._imageIndex}},_clampedPosition:{get:function(){return this._actualClampedPosition},set:function(e){this._actualClampedPosition=s.a.clone(e,this._actualClampedPosition),a(this,T)}},clusterShow:{get:function(){return this._clusterShow},set:function(e){this._clusterShow!==e&&(this._clusterShow=e,a(this,E))}},outlineColor:{get:function(){return this._outlineColor},set:function(e){if(!Object(f.a)(e))throw new p.a("value is required.");var t=this._outlineColor;u.a.equals(t,e)||(u.a.clone(e,t),a(this,k))}},outlineWidth:{get:function(){return this._outlineWidth},set:function(e){this._outlineWidth!==e&&(this._outlineWidth=e,a(this,k))}}}),n.prototype.getPickId=function(e){return Object(f.a)(this._pickId)||(this._pickId=e.createPickId({primitive:this._pickPrimitive,collection:this._collection,id:this._id})),this._pickId},n.prototype._updateClamping=function(){n._updateClamping(this._billboardCollection,this)};var U=new l.a,V=new s.a;n._updateClamping=function(e,t){function i(e){if(t._heightReference===b.a.RELATIVE_TO_GROUND)if(t._mode===O.a.SCENE3D){var i=r.cartesianToCartographic(e,U);i.height+=h.height,r.cartographicToCartesian(i,e)}else e.x+=h.height;t._clampedPosition=s.a.clone(e,t._clampedPosition)}var n=e._scene;if(Object(f.a)(n)&&Object(f.a)(n.globe)){var a=n.globe,r=a.ellipsoid,o=a._surface,c=n.frameState.mode,u=c!==t._mode;if(t._mode=c,(t._heightReference===b.a.NONE||u)&&Object(f.a)(t._removeCallbackFunc)&&(t._removeCallbackFunc(),t._removeCallbackFunc=void 0,t._clampedPosition=void 0),t._heightReference!==b.a.NONE&&Object(f.a)(t._position)){var h=r.cartesianToCartographic(t._position);if(!Object(f.a)(h))return void(t._actualClampedPosition=void 0);Object(f.a)(t._removeCallbackFunc)&&t._removeCallbackFunc(),t._removeCallbackFunc=o.updateHeight(h,i),l.a.clone(h,U);var d=a.getHeight(h);Object(f.a)(d)&&(U.height=d),r.cartographicToCartesian(U,V),i(V)}}else if(t._heightReference!==b.a.NONE)throw new p.a("Height reference is not supported without a scene and globe.")},n.prototype._loadImage=function(){var e,t=this._billboardCollection._textureAtlas,i=this._imageId,n=this._image,o=this._imageSubRegion;if(Object(f.a)(n)&&(e=t.addImage(i,n)),Object(f.a)(o)&&(e=t.addSubRegion(i,o)),this._imageIndexPromise=e,Object(f.a)(e)){var s=this;e.then(function(e){if(s._imageId===i&&s._image===n&&r.a.equals(s._imageSubRegion,o)){var c=t.textureCoordinates[e];s._imageWidth=t.texture.width*c.width,s._imageHeight=t.texture.height*c.height,s._imageIndex=e,s._ready=!0,s._image=void 0,s._imageIndexPromise=void 0,a(s,D)}}).otherwise(function(e){console.error("Error loading image for billboard: "+e),s._imageIndexPromise=void 0})}},n.prototype.setImage=function(e,t){if(!Object(f.a)(e))throw new p.a("id is required.");if(!Object(f.a)(t))throw new p.a("image is required.");this._imageId!==e&&(this._imageIndex=-1,this._imageSubRegion=void 0,this._imageId=e,this._image=t,Object(f.a)(this._billboardCollection._textureAtlas)&&this._loadImage())},n.prototype.setImageSubRegion=function(e,t){if(!Object(f.a)(e))throw new p.a("id is required.");if(!Object(f.a)(t))throw new p.a("subRegion is required.");this._imageId===e&&r.a.equals(this._imageSubRegion,t)||(this._imageIndex=-1,this._imageId=e,this._imageSubRegion=r.a.clone(t),Object(f.a)(this._billboardCollection._textureAtlas)&&this._loadImage())},n.prototype._setTranslate=function(e){if(!Object(f.a)(e))throw new p.a("value is required.");var t=this._translate;o.a.equals(t,e)||(o.a.clone(e,t),a(this,A))},n.prototype._getActualPosition=function(){return Object(f.a)(this._clampedPosition)?this._clampedPosition:this._actualPosition},n.prototype._setActualPosition=function(e){Object(f.a)(this._clampedPosition)||s.a.clone(e,this._actualPosition),a(this,T)};var H=new c.a;n._computeActualPosition=function(e,t,i,n){return Object(f.a)(e._clampedPosition)?(i.mode!==e._mode&&e._updateClamping(),e._clampedPosition):i.mode===O.a.SCENE3D?t:(g.a.multiplyByPoint(n,t,H),w.a.computeActualWgs84Position(i,H))};var q=new s.a;n._computeScreenSpacePosition=function(e,t,i,n,a,r){var s=g.a.multiplyByPoint(e,t,q),c=w.a.wgs84WithEyeOffsetToWindowCoordinates(a,s,i,r);if(Object(f.a)(c))return o.a.add(c,n,c),c};var W=new o.a(0,0);n.prototype.computeScreenSpacePosition=function(e,t){var i=this._billboardCollection;if(Object(f.a)(t)||(t=new o.a),!Object(f.a)(i))throw new p.a("Billboard must be in a collection.  Was it removed?");if(!Object(f.a)(e))throw new p.a("scene is required.");o.a.clone(this._pixelOffset,W),o.a.add(W,this._translate,W);var a=i.modelMatrix,r=this._position;if(Object(f.a)(this._clampedPosition)&&(r=this._clampedPosition,e.mode!==O.a.SCENE3D)){var s=e.mapProjection,c=s.ellipsoid,l=s.unproject(r,U);r=c.cartographicToCartesian(l,q),a=g.a.IDENTITY}return n._computeScreenSpacePosition(a,r,this._eyeOffset,W,e,t)},n.getScreenSpaceBoundingBox=function(e,t,i){var n=e.width,a=e.height,o=e.scale;n*=o,a*=o;var s=t.x;e.horizontalOrigin===y.a.RIGHT?s-=n:e.horizontalOrigin===y.a.CENTER&&(s-=.5*n);var c=t.y;return e.verticalOrigin===x.a.BOTTOM||e.verticalOrigin===x.a.BASELINE?c-=a:e.verticalOrigin===x.a.CENTER&&(c-=.5*a),Object(f.a)(i)||(i=new r.a),i.x=s,i.y=c,i.width=n,i.height=a,i},n.prototype.equals=function(e){return this===e||Object(f.a)(e)&&this._id===e._id&&s.a.equals(this._position,e._position)&&this._imageId===e._imageId&&this._show===e._show&&this._scale===e._scale&&this._verticalOrigin===e._verticalOrigin&&this._horizontalOrigin===e._horizontalOrigin&&this._heightReference===e._heightReference&&r.a.equals(this._imageSubRegion,e._imageSubRegion)&&u.a.equals(this._color,e._color)&&o.a.equals(this._pixelOffset,e._pixelOffset)&&o.a.equals(this._translate,e._translate)&&s.a.equals(this._eyeOffset,e._eyeOffset)&&_.a.equals(this._scaleByDistance,e._scaleByDistance)&&_.a.equals(this._translucencyByDistance,e._translucencyByDistance)&&_.a.equals(this._pixelOffsetScaleByDistance,e._pixelOffsetScaleByDistance)&&m.a.equals(this._distanceDisplayCondition,e._distanceDisplayCondition)&&this._disableDepthTestDistance===e._disableDepthTestDistance},n.prototype._destroy=function(){Object(f.a)(this._customData)&&(this._billboardCollection._scene.globe._surface.removeTileCustomData(this._customData),this._customData=void 0),Object(f.a)(this._removeCallbackFunc)&&(this._removeCallbackFunc(),this._removeCallbackFunc=void 0),this.image=void 0,this._pickId=this._pickId&&this._pickId.destroy(),this._billboardCollection=void 0},t.a=n},UY43:function(e,t,i){"use strict";function n(){a.a.throwInstantiationError()}var a=i("PzDm");n.prototype.update=a.a.throwInstantiationError,n.prototype.getBoundingSphere=a.a.throwInstantiationError,n.prototype.isDestroyed=a.a.throwInstantiationError,n.prototype.destroy=a.a.throwInstantiationError},UZ5h:function(e,t,i){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function a(e,t,i){if(e&&"object"==typeof e&&e instanceof n)return e;var a=new n;return a.parse(e,t,i),a}function r(e){return"string"==typeof e&&(e=a(e)),e instanceof n?e.format():n.prototype.format.call(e)}function o(e,t){return a(e,!1,!0).resolve(t)}function s(e,t){return e?a(e,!1,!0).resolveObject(t):t}var c=i("MsCo"),l=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(d),p=["'"].concat(f),m=["%","/","?",";","#"].concat(p),g=["/","?","#"],_=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=i("WJLM");n.prototype.parse=function(e,t,i){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),a=-1!==n&&n<e.indexOf("#")?"?":"#",r=e.split(a),o=/\\/g;r[0]=r[0].replace(o,"/"),e=r.join(a);var s=e;if(s=s.trim(),!i&&1===e.split("#").length){var u=h.exec(s);if(u)return this.path=s,this.href=s,this.pathname=u[1],u[2]?(this.search=u[2],this.query=t?w.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var d=l.exec(s);if(d){d=d[0];var f=d.toLowerCase();this.protocol=f,s=s.substr(d.length)}if(i||d||s.match(/^\/\/[^@/]+@[^@/]+/)){var x="//"===s.substr(0,2);!x||d&&y[d]||(s=s.substr(2),this.slashes=!0)}if(!y[d]&&(x||d&&!O[d])){for(var E=-1,T=0;T<g.length;T++){var A=s.indexOf(g[T]);-1!==A&&(-1===E||A<E)&&(E=A)}var C,S;S=-1===E?s.lastIndexOf("@"):s.lastIndexOf("@",E),-1!==S&&(C=s.slice(0,S),s=s.slice(S+1),this.auth=decodeURIComponent(C)),E=-1;for(var T=0;T<m.length;T++){var A=s.indexOf(m[T]);-1!==A&&(-1===E||A<E)&&(E=A)}-1===E&&(E=s.length),this.host=s.slice(0,E),s=s.slice(E),this.parseHost(),this.hostname=this.hostname||"";var j="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!j)for(var P=this.hostname.split(/\./),T=0,D=P.length;T<D;T++){var I=P[T];if(I&&!I.match(_)){for(var R="",M=0,L=I.length;M<L;M++)I.charCodeAt(M)>127?R+="x":R+=I[M];if(!R.match(_)){var N=P.slice(0,T),F=P.slice(T+1),z=I.match(v);z&&(N.push(z[1]),F.unshift(z[2])),F.length&&(s="/"+F.join(".")+s),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),j||(this.hostname=c.toASCII(this.hostname));var B=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+B,this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!b[f])for(var T=0,D=p.length;T<D;T++){var U=p[T];if(-1!==s.indexOf(U)){var V=encodeURIComponent(U);V===U&&(V=escape(U)),s=s.split(U).join(V)}}var H=s.indexOf("#");-1!==H&&(this.hash=s.substr(H),s=s.slice(0,H));var q=s.indexOf("?");if(-1!==q?(this.search=s.substr(q),this.query=s.substr(q+1),t&&(this.query=w.parse(this.query)),s=s.slice(0,q)):t&&(this.search="",this.query={}),s&&(this.pathname=s),O[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",W=this.search||"";this.path=B+W}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",n=this.hash||"",a=!1,r="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(r=w.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||r&&"?"+r||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||O[t])&&!1!==a?(a="//"+(a||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),i=i.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),o=o.replace("#","%23"),t+a+i+o+n},n.prototype.resolve=function(e){return this.resolveObject(a(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if("string"==typeof e){var t=new n;t.parse(e,!1,!0),e=t}for(var i=new n,a=Object.keys(this),r=0;r<a.length;r++){var o=a[r];i[o]=this[o]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var l=s[c];"protocol"!==l&&(i[l]=e[l])}return O[i.protocol]&&i.hostname&&!i.pathname&&(i.pathname="/",i.path=i.pathname),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!O[e.protocol]){for(var u=Object.keys(e),h=0;h<u.length;h++){var d=u[h];i[d]=e[d]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||y[e.protocol])i.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var p=i.pathname||"",m=i.search||"";i.path=p+m}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var g=i.pathname&&"/"===i.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=_||g||i.host&&e.pathname,b=v,w=i.pathname&&i.pathname.split("/")||[],f=e.pathname&&e.pathname.split("/")||[],x=i.protocol&&!O[i.protocol];if(x&&(i.hostname="",i.port=null,i.host&&(""===w[0]?w[0]=i.host:w.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),v=v&&(""===f[0]||""===w[0])),_)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,w=f;else if(f.length)w||(w=[]),w.pop(),w=w.concat(f),i.search=e.search,i.query=e.query;else if(null!=e.search){if(x){i.host=w.shift(),i.hostname=i.host;var E=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");E&&(i.auth=E.shift(),i.hostname=E.shift(),i.host=i.hostname)}return i.search=e.search,i.query=e.query,null===i.pathname&&null===i.search||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!w.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var T=w.slice(-1)[0],A=(i.host||e.host||w.length>1)&&("."===T||".."===T)||""===T,C=0,S=w.length;S>=0;S--)T=w[S],"."===T?w.splice(S,1):".."===T?(w.splice(S,1),C++):C&&(w.splice(S,1),C--);if(!v&&!b)for(;C--;C)w.unshift("..");!v||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),A&&"/"!==w.join("/").substr(-1)&&w.push("");var j=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(x){i.hostname=j?"":w.length?w.shift():"",i.host=i.hostname;var E=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");E&&(i.auth=E.shift(),i.hostname=E.shift(),i.host=i.hostname)}return v=v||i.host&&w.length,v&&!j&&w.unshift(""),w.length>0?i.pathname=w.join("/"):(i.pathname=null,i.path=null),null===i.pathname&&null===i.search||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},n.prototype.parseHost=function(){var e=this.host,t=u.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.parse=a,t.resolve=o,t.resolveObject=s,t.format=r,t.Url=n},Uaim:function(e,t,i){"use strict";function n(){this._colorTexture=void 0,this._idTexture=void 0,this._depthStencilTexture=void 0,this._depthStencilRenderbuffer=void 0,this._framebuffer=void 0,this._idFramebuffer=void 0,this._idClearColor=new r.a(0,0,0,0),this._useHdr=void 0,this._clearCommand=new l.a({color:new r.a(0,0,0,0),depth:1,owner:this})}function a(e){e._framebuffer=e._framebuffer&&e._framebuffer.destroy(),e._idFramebuffer=e._idFramebuffer&&e._idFramebuffer.destroy(),e._colorTexture=e._colorTexture&&e._colorTexture.destroy(),e._idTexture=e._idTexture&&e._idTexture.destroy(),e._depthStencilTexture=e._depthStencilTexture&&e._depthStencilTexture.destroy(),e._depthStencilRenderbuffer=e._depthStencilRenderbuffer&&e._depthStencilRenderbuffer.destroy(),e._depthStencilIdTexture=e._depthStencilIdTexture&&e._depthStencilIdTexture.destroy(),e._depthStencilIdRenderbuffer=e._depthStencilIdRenderbuffer&&e._depthStencilIdRenderbuffer.destroy(),e._framebuffer=void 0,e._idFramebuffer=void 0,e._colorTexture=void 0,e._idTexture=void 0,e._depthStencilTexture=void 0,e._depthStencilRenderbuffer=void 0,e._depthStencilIdTexture=void 0,e._depthStencilIdRenderbuffer=void 0}var r=i("6F0S"),o=i("xC6Q"),s=i("6sr8"),c=i("FhYh"),l=i("/DUn"),u=i("YyWD"),h=i("HvCH"),d=i("oosW"),f=i("TkhT"),p=i("l0BX"),m=i("25X5"),g=i("YKq0"),_=i("z2iY"),v=i("L4GL");n.prototype.update=function(e,t,i){var n=t.width,r=t.height,s=this._colorTexture;if(!Object(o.a)(s)||s.width!==n||s.height!==r||i!==this._useHdr){a(this),this._useHdr=i;var l=i?e.halfFloatingPointTexture?h.a.HALF_FLOAT:h.a.FLOAT:h.a.UNSIGNED_BYTE;this._colorTexture=new m.a({context:e,width:n,height:r,pixelFormat:c.a.RGBA,pixelDatatype:l,sampler:new p.a({wrapS:v.a.CLAMP_TO_EDGE,wrapT:v.a.CLAMP_TO_EDGE,minificationFilter:_.a.NEAREST,magnificationFilter:g.a.NEAREST})}),this._idTexture=new m.a({context:e,width:n,height:r,pixelFormat:c.a.RGBA,pixelDatatype:h.a.UNSIGNED_BYTE,sampler:new p.a({wrapS:v.a.CLAMP_TO_EDGE,wrapT:v.a.CLAMP_TO_EDGE,minificationFilter:_.a.NEAREST,magnificationFilter:g.a.NEAREST})}),e.depthTexture?(this._depthStencilTexture=new m.a({context:e,width:n,height:r,pixelFormat:c.a.DEPTH_STENCIL,pixelDatatype:h.a.UNSIGNED_INT_24_8,sampler:new p.a({wrapS:v.a.CLAMP_TO_EDGE,wrapT:v.a.CLAMP_TO_EDGE,minificationFilter:_.a.NEAREST,magnificationFilter:g.a.NEAREST})}),this._depthStencilIdTexture=new m.a({context:e,width:n,height:r,pixelFormat:c.a.DEPTH_STENCIL,pixelDatatype:h.a.UNSIGNED_INT_24_8,sampler:new p.a({wrapS:v.a.CLAMP_TO_EDGE,wrapT:v.a.CLAMP_TO_EDGE,minificationFilter:_.a.NEAREST,magnificationFilter:g.a.NEAREST})})):(this._depthStencilRenderbuffer=new d.a({context:e,width:n,height:r,format:f.a.DEPTH_STENCIL}),this._depthStencilIdRenderbuffer=new d.a({context:e,width:n,height:r,format:f.a.DEPTH_STENCIL})),this._framebuffer=new u.a({context:e,colorTextures:[this._colorTexture],depthStencilTexture:this._depthStencilTexture,depthStencilRenderbuffer:this._depthStencilRenderbuffer,destroyAttachments:!1}),this._idFramebuffer=new u.a({context:e,colorTextures:[this._idTexture],depthStencilTexture:this._depthStencilIdTexture,depthStencilRenderbuffer:this._depthStencilIdRenderbuffer,destroyAttachments:!1})}},n.prototype.clear=function(e,t,i){var n=t.framebuffer;t.framebuffer=this._framebuffer,r.a.clone(i,this._clearCommand.color),this._clearCommand.execute(e,t),t.framebuffer=this._idFramebuffer,r.a.clone(this._idClearColor,this._clearCommand.color),this._clearCommand.execute(e,t),t.framebuffer=n},n.prototype.getFramebuffer=function(){return this._framebuffer},n.prototype.getIdFramebuffer=function(){return this._idFramebuffer},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return a(this),Object(s.a)(this)},t.a=n},Uc30:function(e,t,i){"use strict";function n(e,t){var i=e.extensionsUsed;if(Object(r.a)(i)){var n=i.indexOf(t);n>=0&&i.splice(n,1),Object(a.a)(e,t),0===i.length&&delete e.extensionsUsed}}var a=i("wv+D"),r=i("xC6Q");t.a=n},UcPO:function(e,t,i){e.exports=i("vzCy").EventEmitter},UdIQ:function(e,t,i){"use strict";function n(){this.textureInfo=void 0,this.dimensions=void 0,this.billboard=void 0}function a(e,t,i){this.labelCollection=e,this.index=t,this.dimensions=i}function r(e,t){var i=document.createElement("canvas");i.width=N.x,i.height=N.y;var n=i.getContext("2d");n.fillStyle="#fff",n.fillRect(0,0,i.width,i.height),e.addImage(L,i).then(function(e){t._whitePixelIndex=e})}function o(e,t,i,n,a,r,o){return z.font=t,z.fillColor=i,z.strokeColor=n,z.strokeWidth=a,z.padding=P.a.PADDING,o===I.a.CENTER?z.textBaseline="middle":o===I.a.TOP?z.textBaseline="top":z.textBaseline="bottom",z.fill=r===j.a.FILL||r===j.a.FILL_AND_OUTLINE,z.stroke=r===j.a.OUTLINE||r===j.a.FILL_AND_OUTLINE,z.backgroundColor=g.a.BLACK,Object(w.a)(e,z)}function s(e,t){t.textureInfo=void 0,t.dimensions=void 0;var i=t.billboard;Object(v.a)(i)&&(i.show=!1,i.image=void 0,Object(v.a)(i._removeCallbackFunc)&&(i._removeCallbackFunc(),i._removeCallbackFunc=void 0),e._spareBillboards.push(i),t.billboard=void 0)}function c(e,t,i,n){e.addImage(t,i).then(function(e){n.index=e})}function l(e,t){var i,r,l,u=t._renderedText,h=B.splitGraphemes(u),d=h.length,f=t._glyphs,p=f.length;if(t._relativeSize=t._fontSize/P.a.FONT_SIZE,d<p)for(r=d;r<p;++r)s(e,f[r]);f.length=d;var _=t._showBackground&&u.split("\n").join("").length>0,b=t._backgroundBillboard,y=e._backgroundBillboardCollection;_?(Object(v.a)(b)||(b=y.add({collection:e,image:L,imageSubRegion:F}),t._backgroundBillboard=b),b.color=t._backgroundColor,b.show=t._show,b.position=t._position,b.eyeOffset=t._eyeOffset,b.pixelOffset=t._pixelOffset,b.horizontalOrigin=C.a.LEFT,b.verticalOrigin=t._verticalOrigin,b.heightReference=t._heightReference,b.scale=t.totalScale,b.pickPrimitive=t,b.id=t._id,b.translucencyByDistance=t._translucencyByDistance,b.pixelOffsetScaleByDistance=t._pixelOffsetScaleByDistance,b.scaleByDistance=t._scaleByDistance,b.distanceDisplayCondition=t._distanceDisplayCondition,b.disableDepthTestDistance=t._disableDepthTestDistance):Object(v.a)(b)&&(y.remove(b),t._backgroundBillboard=b=void 0);var O=e._glyphTextureCache;for(l=0;l<d;++l){var w=h[l],E=t._verticalOrigin,T=JSON.stringify([w,t._fontFamily,t._fontStyle,t._fontWeight,+E]),A=O[T];if(!Object(v.a)(A)){var S=t._fontStyle+" "+t._fontWeight+" "+P.a.FONT_SIZE+"px "+t._fontFamily,D=o(w,S,g.a.WHITE,g.a.WHITE,0,j.a.FILL,E);if(A=new a(e,-1,D.dimensions),O[T]=A,D.width>0&&D.height>0){for(var I=Object(x.a)(D,{cutoff:P.a.CUTOFF,radius:P.a.RADIUS}),R=D.getContext("2d"),M=D.width,N=D.height,z=R.getImageData(0,0,M,N),k=0;k<M;k++)for(var U=0;U<N;U++){var V=U*M+k,H=255*I[V],q=4*V;z.data[q+0]=H,z.data[q+1]=H,z.data[q+2]=H,z.data[q+3]=H}R.putImageData(z,0,0)," "!==w&&c(e._textureAtlas,T,D,A)}}if(i=f[l],Object(v.a)(i)?-1===A.index?s(e,i):Object(v.a)(i.textureInfo)&&(i.textureInfo=void 0):(i=new n,f[l]=i),i.textureInfo=A,i.dimensions=A.dimensions,-1!==A.index){var W=i.billboard,G=e._spareBillboards;Object(v.a)(W)||(G.length>0?W=G.pop():(W=e._billboardCollection.add({collection:e}),W._labelDimensions=new m.a,W._labelTranslate=new m.a),i.billboard=W),W.show=t._show,W.position=t._position,W.eyeOffset=t._eyeOffset,W.pixelOffset=t._pixelOffset,W.horizontalOrigin=C.a.LEFT,W.verticalOrigin=t._verticalOrigin,W.heightReference=t._heightReference,W.scale=t.totalScale,W.pickPrimitive=t,W.id=t._id,W.image=T,W.translucencyByDistance=t._translucencyByDistance,W.pixelOffsetScaleByDistance=t._pixelOffsetScaleByDistance,W.scaleByDistance=t._scaleByDistance,W.distanceDisplayCondition=t._distanceDisplayCondition,W.disableDepthTestDistance=t._disableDepthTestDistance,W._batchIndex=t._batchIndex,W.outlineColor=t.outlineColor,t.style===j.a.FILL_AND_OUTLINE?(W.color=t._fillColor,W.outlineWidth=t.outlineWidth):t.style===j.a.FILL?(W.color=t._fillColor,W.outlineWidth=0):t.style===j.a.OUTLINE&&(W.color=g.a.TRANSPARENT,W.outlineWidth=t.outlineWidth)}}t._repositionAllGlyphs=!0}function u(e,t,i){return t===C.a.CENTER?-e/2:t===C.a.RIGHT?-(e+i.x):i.x}function h(e){var t,i,n,a=e._glyphs,r=e._renderedText,o=0,s=0,c=[],l=Number.NEGATIVE_INFINITY,h=0,d=1,f=a.length,p=e._backgroundBillboard,g=m.a.clone(Object(v.a)(p)?e._backgroundPadding:m.a.ZERO,U);for(g.x/=e._relativeSize,g.y/=e._relativeSize,n=0;n<f;++n)"\n"===r.charAt(n)?(c.push(o),++d,o=0):(t=a[n],i=t.dimensions,h=Math.max(h,i.height-i.descent),l=Math.max(l,i.descent),o+=i.width-i.bounds.minx,n<f-1&&(o+=a[n+1].dimensions.bounds.minx),s=Math.max(s,o));c.push(o);var _=h+l,b=e.totalScale,y=e._horizontalOrigin,O=e._verticalOrigin,w=0,x=c[w],E=u(x,y,g),T=M*_,S=T*(d-1),j=s,D=_+S;Object(v.a)(p)&&(j+=2*g.x,D+=2*g.y,p._labelHorizontalOrigin=y),k.x=E*b,k.y=0;var R=!0,L=0;for(n=0;n<f;++n)if("\n"===r.charAt(n))++w,L+=T,x=c[w],E=u(x,y,g),k.x=E*b,R=!0;else if(t=a[n],i=t.dimensions,O===I.a.TOP?(k.y=i.height-h-g.y,k.y+=P.a.PADDING):O===I.a.CENTER?k.y=(S+i.height-h)/2:O===I.a.BASELINE?(k.y=S,k.y-=P.a.PADDING):(k.y=S+l+g.y,k.y-=P.a.PADDING),k.y=(k.y-i.descent-L)*b,R&&(k.x-=P.a.PADDING*b,R=!1),Object(v.a)(t.billboard)&&(t.billboard._setTranslate(k),t.billboard._labelDimensions.x=j,t.billboard._labelDimensions.y=D,t.billboard._labelHorizontalOrigin=y),n<f-1){var N=a[n+1];k.x+=(i.width-i.bounds.minx+N.dimensions.bounds.minx)*b}if(Object(v.a)(p)&&r.split("\n").join("").length>0&&(E=y===C.a.CENTER?-s/2-g.x:y===C.a.RIGHT?-(s+2*g.x):0,k.x=E*b,O===I.a.TOP?k.y=_-h-l:O===I.a.CENTER?k.y=(_-h)/2-l:O===I.a.BASELINE?k.y=-g.y-l:k.y=0,k.y=k.y*b,p.width=j,p.height=D,p._setTranslate(k),p._labelTranslate=m.a.clone(k,p._labelTranslate)),e.heightReference===A.a.CLAMP_TO_GROUND)for(n=0;n<f;++n){t=a[n];var F=t.billboard;Object(v.a)(F)&&(F._labelTranslate=m.a.clone(k,F._labelTranslate))}}function d(e,t){for(var i=t._glyphs,n=0,a=i.length;n<a;++n)s(e,i[n]);Object(v.a)(t._backgroundBillboard)&&(e._backgroundBillboardCollection.remove(t._backgroundBillboard),t._backgroundBillboard=void 0),t._labelCollection=void 0,Object(v.a)(t._removeCallbackFunc)&&t._removeCallbackFunc(),Object(b.a)(t)}function f(e){e=Object(_.a)(e,_.a.EMPTY_OBJECT),this._scene=e.scene,this._batchTable=e.batchTable,this._textureAtlas=void 0,this._backgroundTextureAtlas=void 0,this._whitePixelIndex=void 0,this._backgroundBillboardCollection=new E.a({scene:this._scene}),this._backgroundBillboardCollection.destroyTextureAtlas=!1,this._billboardCollection=new E.a({scene:this._scene,batchTable:this._batchTable}),this._billboardCollection.destroyTextureAtlas=!1,this._billboardCollection._sdf=!0,this._spareBillboards=[],this._glyphTextureCache={},this._labels=[],this._labelsToUpdate=[],this._totalGlyphCount=0,this._highlightColor=g.a.clone(g.a.WHITE),this.modelMatrix=O.a.clone(Object(_.a)(e.modelMatrix,O.a.IDENTITY)),this.debugShowBoundingVolume=Object(_.a)(e.debugShowBoundingVolume,!1),this.blendOption=Object(_.a)(e.blendOption,T.a.OPAQUE_AND_TRANSLUCENT)}var p=i("or8k"),m=i("Ss9j"),g=i("6F0S"),_=i("5A4e"),v=i("xC6Q"),b=i("6sr8"),y=i("PzDm"),O=i("Xjii"),w=i("EFEs"),x=i("Zc6L"),E=i("Hwbb"),T=i("ib1+"),A=i("JIo7"),C=i("EwVK"),S=i("WmND"),j=i("RyAG"),P=i("NFk4"),D=i("ERAX"),I=i("H5bb"),R=i("Zdr5"),M=1.2,L="ID_WHITE_PIXEL",N=new m.a(4,4),F=new p.a(1,1,1,1),z={},B=new R.a,k=new m.a,U=new m.a;Object.defineProperties(f.prototype,{length:{get:function(){return this._labels.length}}}),f.prototype.add=function(e){var t=new S.a(e,this);return this._labels.push(t),this._labelsToUpdate.push(t),t},f.prototype.remove=function(e){if(Object(v.a)(e)&&e._labelCollection===this){var t=this._labels.indexOf(e);if(-1!==t)return this._labels.splice(t,1),d(this,e),!0}return!1},f.prototype.removeAll=function(){for(var e=this._labels,t=0,i=e.length;t<i;++t)d(this,e[t]);e.length=0},f.prototype.contains=function(e){return Object(v.a)(e)&&e._labelCollection===this},f.prototype.get=function(e){if(!Object(v.a)(e))throw new y.a("index is required.");return this._labels[e]},f.prototype.update=function(e){var t=this._billboardCollection,i=this._backgroundBillboardCollection;t.modelMatrix=this.modelMatrix,t.debugShowBoundingVolume=this.debugShowBoundingVolume,i.modelMatrix=this.modelMatrix,i.debugShowBoundingVolume=this.debugShowBoundingVolume;var n=e.context;Object(v.a)(this._textureAtlas)||(this._textureAtlas=new D.a({context:n}),t.textureAtlas=this._textureAtlas),Object(v.a)(this._backgroundTextureAtlas)||(this._backgroundTextureAtlas=new D.a({context:n,initialSize:N}),i.textureAtlas=this._backgroundTextureAtlas,r(this._backgroundTextureAtlas,this));for(var a=this._labelsToUpdate.length,o=0;o<a;++o){var s=this._labelsToUpdate[o];if(!s.isDestroyed()){var c=s._glyphs.length;s._rebindAllGlyphs&&(l(this,s),s._rebindAllGlyphs=!1),s._repositionAllGlyphs&&(h(s),s._repositionAllGlyphs=!1);var u=s._glyphs.length-c;this._totalGlyphCount+=u}}var d=i.length>0?T.a.TRANSLUCENT:this.blendOption;t.blendOption=d,i.blendOption=d,t._highlightColor=this._highlightColor,i._highlightColor=this._highlightColor,this._labelsToUpdate.length=0,i.update(e),t.update(e)},f.prototype.isDestroyed=function(){return!1},f.prototype.destroy=function(){return this.removeAll(),this._billboardCollection=this._billboardCollection.destroy(),this._textureAtlas=this._textureAtlas&&this._textureAtlas.destroy(),this._backgroundBillboardCollection=this._backgroundBillboardCollection.destroy(),this._backgroundTextureAtlas=this._backgroundTextureAtlas&&this._backgroundTextureAtlas.destroy(),Object(b.a)(this)},t.a=f},UkIP:function(e,t,i){"use strict";function n(e,t,i,n){this.near=Object(a.a)(e,0),this.nearValue=Object(a.a)(t,0),this.far=Object(a.a)(i,1),this.farValue=Object(a.a)(n,0)}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm");n.clone=function(e,t){if(Object(r.a)(e))return Object(r.a)(t)?(t.near=e.near,t.nearValue=e.nearValue,t.far=e.far,t.farValue=e.farValue,t):new n(e.near,e.nearValue,e.far,e.farValue)},n.packedLength=4,n.pack=function(e,t,i){if(!Object(r.a)(e))throw new o.a("value is required");if(!Object(r.a)(t))throw new o.a("array is required");return i=Object(a.a)(i,0),t[i++]=e.near,t[i++]=e.nearValue,t[i++]=e.far,t[i]=e.farValue,t},n.unpack=function(e,t,i){if(!Object(r.a)(e))throw new o.a("array is required");return t=Object(a.a)(t,0),Object(r.a)(i)||(i=new n),i.near=e[t++],i.nearValue=e[t++],i.far=e[t++],i.farValue=e[t],i},n.equals=function(e,t){return e===t||Object(r.a)(e)&&Object(r.a)(t)&&e.near===t.near&&e.nearValue===t.nearValue&&e.far===t.far&&e.farValue===t.farValue},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},t.a=n},UkUD:function(e,t,i){"use strict";function n(e,t,i){var n=e._element;if(n===document)return i.x=t.clientX,i.y=t.clientY,i;var a=n.getBoundingClientRect();return i.x=t.clientX-a.left,i.y=t.clientY-a.top,i}function a(e,t){var i=e;return Object(P.a)(t)&&(i+="+"+t),i}function r(e){return e.shiftKey?L.a.SHIFT:e.ctrlKey?L.a.CTRL:e.altKey?L.a.ALT:void 0}function o(e,t,i,n){function a(t){n(e,t)}R.a.isInternetExplorer()?i.addEventListener(t,a,!1):i.addEventListener(t,a,{capture:!1,passive:!1}),e._removalFunctions.push(function(){i.removeEventListener(t,a,!1)})}function s(e){var t=e._element,i=Object(P.a)(t.disableRootEvents)?t:document;R.a.supportsPointerEvents()?(o(e,"pointerdown",t,x),o(e,"pointerup",t,E),o(e,"pointermove",t,T),o(e,"pointercancel",t,E)):(o(e,"mousedown",t,d),o(e,"mouseup",i,p),o(e,"mousemove",i,m),o(e,"touchstart",t,v),o(e,"touchend",i,b),o(e,"touchmove",i,O),o(e,"touchcancel",i,b)),o(e,"dblclick",t,g);var n;n="onwheel"in t?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",o(e,n,t,_)}function c(e){for(var t=e._removalFunctions,i=0;i<t.length;++i)t[i]()}function l(e){e._lastSeenTouchEvent=Object(M.a)()}function u(e){return Object(M.a)()-e._lastSeenTouchEvent>A.mouseEmulationIgnoreMilliseconds}function h(e,t,i){var n=e.x-t.x,a=e.y-t.y;return Math.sqrt(n*n+a*a)<i}function d(e,t){if(u(e)){var i=t.button;e._buttonDown[i]=!0;var a;if(i===F.LEFT)a=N.a.LEFT_DOWN;else if(i===F.MIDDLE)a=N.a.MIDDLE_DOWN;else{if(i!==F.RIGHT)return;a=N.a.RIGHT_DOWN}var o=n(e,t,e._primaryPosition);S.a.clone(o,e._primaryStartPosition),S.a.clone(o,e._primaryPreviousPosition);var s=r(t),c=e.getInputAction(a,s);Object(P.a)(c)&&(S.a.clone(o,z.position),c(z),t.preventDefault())}}function f(e,t,i,a){var o=r(a),s=e.getInputAction(t,o),c=e.getInputAction(i,o);if(Object(P.a)(s)||Object(P.a)(c)){var l=n(e,a,e._primaryPosition);if(Object(P.a)(s)&&(S.a.clone(l,B.position),s(B)),Object(P.a)(c)){h(e._primaryStartPosition,l,e._clickPixelTolerance)&&(S.a.clone(l,k.position),c(k))}}}function p(e,t){if(u(e)){var i=t.button;i!==F.LEFT&&i!==F.MIDDLE&&i!==F.RIGHT||(e._buttonDown[F.LEFT]&&(f(e,N.a.LEFT_UP,N.a.LEFT_CLICK,t),e._buttonDown[F.LEFT]=!1),e._buttonDown[F.MIDDLE]&&(f(e,N.a.MIDDLE_UP,N.a.MIDDLE_CLICK,t),e._buttonDown[F.MIDDLE]=!1),e._buttonDown[F.RIGHT]&&(f(e,N.a.RIGHT_UP,N.a.RIGHT_CLICK,t),e._buttonDown[F.RIGHT]=!1))}}function m(e,t){if(u(e)){var i=r(t),a=n(e,t,e._primaryPosition),o=e._primaryPreviousPosition,s=e.getInputAction(N.a.MOUSE_MOVE,i);Object(P.a)(s)&&(S.a.clone(o,U.startPosition),S.a.clone(a,U.endPosition),s(U)),S.a.clone(a,o),(e._buttonDown[F.LEFT]||e._buttonDown[F.MIDDLE]||e._buttonDown[F.RIGHT])&&t.preventDefault()}}function g(e,t){var i,a=t.button;if(a===F.LEFT){i=N.a.LEFT_DOUBLE_CLICK;var o=r(t),s=e.getInputAction(i,o);Object(P.a)(s)&&(n(e,t,V.position),s(V))}}function _(e,t){var i;if(Object(P.a)(t.deltaY)){var n=t.deltaMode;i=n===t.DOM_DELTA_PIXEL?-t.deltaY:n===t.DOM_DELTA_LINE?40*-t.deltaY:120*-t.deltaY}else i=t.detail>0?-120*t.detail:t.wheelDelta;if(Object(P.a)(i)){var a=r(t),o=e.getInputAction(N.a.WHEEL,a);Object(P.a)(o)&&(o(i),t.preventDefault())}}function v(e,t){l(e);var i,a,r,o=t.changedTouches,s=o.length,c=e._positions;for(i=0;i<s;++i)a=o[i],r=a.identifier,c.set(r,n(e,a,new S.a));y(e,t);var u=e._previousPositions;for(i=0;i<s;++i)a=o[i],r=a.identifier,u.set(r,S.a.clone(c.get(r)))}function b(e,t){l(e);var i,n,a,r=t.changedTouches,o=r.length,s=e._positions;for(i=0;i<o;++i)n=r[i],a=n.identifier,s.remove(a);y(e,t);var c=e._previousPositions;for(i=0;i<o;++i)n=r[i],a=n.identifier,c.remove(a)}function y(e,t){var i,n,a=r(t),o=e._positions,s=o.length,c=e._isPinching;if(1!==s&&e._buttonDown[F.LEFT]){if(e._buttonDown[F.LEFT]=!1,Object(P.a)(e._touchHoldTimer)&&(clearTimeout(e._touchHoldTimer),e._touchHoldTimer=void 0),i=e.getInputAction(N.a.LEFT_UP,a),Object(P.a)(i)&&(S.a.clone(e._primaryPosition,W.position),i(W)),0===s&&!e._isTouchHolding&&(n=e.getInputAction(N.a.LEFT_CLICK,a),Object(P.a)(n))){h(e._primaryStartPosition,e._previousPositions.values[0],e._clickPixelTolerance)&&(S.a.clone(e._primaryPosition,G.position),n(G))}e._isTouchHolding=!1}if(0===s&&c&&(e._isPinching=!1,i=e.getInputAction(N.a.PINCH_END,a),Object(P.a)(i)&&i()),1===s&&!c){var l=o.values[0];S.a.clone(l,e._primaryPosition),S.a.clone(l,e._primaryStartPosition),S.a.clone(l,e._primaryPreviousPosition),e._buttonDown[F.LEFT]=!0,i=e.getInputAction(N.a.LEFT_DOWN,a),Object(P.a)(i)&&(S.a.clone(l,H.position),i(H)),e._touchHoldTimer=setTimeout(function(){if(!e.isDestroyed()&&(e._touchHoldTimer=void 0,e._isTouchHolding=!0,n=e.getInputAction(N.a.RIGHT_CLICK,a),Object(P.a)(n))){h(e._primaryStartPosition,e._previousPositions.values[0],e._holdPixelTolerance)&&(S.a.clone(e._primaryPosition,Y.position),n(Y))}},A.touchHoldDelayMilliseconds),t.preventDefault()}2!==s||c||(e._isPinching=!0,i=e.getInputAction(N.a.PINCH_START,a),Object(P.a)(i)&&(S.a.clone(o.values[0],q.position1),S.a.clone(o.values[1],q.position2),i(q),t.preventDefault()))}function O(e,t){l(e);var i,a,r,o=t.changedTouches,s=o.length,c=e._positions;for(i=0;i<s;++i){a=o[i],r=a.identifier;var u=c.get(r);Object(P.a)(u)&&n(e,a,u)}w(e,t);var h=e._previousPositions;for(i=0;i<s;++i)a=o[i],r=a.identifier,S.a.clone(c.get(r),h.get(r))}function w(e,t){var i,n=r(t),a=e._positions,o=e._previousPositions,s=a.length;if(1===s&&e._buttonDown[F.LEFT]){var c=a.values[0];S.a.clone(c,e._primaryPosition);var l=e._primaryPreviousPosition;i=e.getInputAction(N.a.MOUSE_MOVE,n),Object(P.a)(i)&&(S.a.clone(l,X.startPosition),S.a.clone(c,X.endPosition),i(X)),S.a.clone(c,l),t.preventDefault()}else if(2===s&&e._isPinching&&(i=e.getInputAction(N.a.PINCH_MOVE,n),Object(P.a)(i))){var u=a.values[0],h=a.values[1],d=o.values[0],f=o.values[1],p=h.x-u.x,m=h.y-u.y,g=.25*Math.sqrt(p*p+m*m),_=f.x-d.x,v=f.y-d.y,b=.25*Math.sqrt(_*_+v*v),y=.125*(h.y+u.y),O=.125*(f.y+d.y),w=Math.atan2(m,p),x=Math.atan2(v,_);S.a.fromElements(0,b,Q.distance.startPosition),S.a.fromElements(0,g,Q.distance.endPosition),S.a.fromElements(x,O,Q.angleAndHeight.startPosition),S.a.fromElements(w,y,Q.angleAndHeight.endPosition),i(Q)}}function x(e,t){if(t.target.setPointerCapture(t.pointerId),"touch"===t.pointerType){var i=e._positions,a=t.pointerId;i.set(a,n(e,t,new S.a)),y(e,t);e._previousPositions.set(a,S.a.clone(i.get(a)))}else d(e,t)}function E(e,t){if("touch"===t.pointerType){var i=e._positions,n=t.pointerId;i.remove(n),y(e,t);e._previousPositions.remove(n)}else p(e,t)}function T(e,t){if("touch"===t.pointerType){var i=e._positions,a=t.pointerId,r=i.get(a);if(!Object(P.a)(r))return;n(e,t,r),w(e,t);var o=e._previousPositions;S.a.clone(i.get(a),o.get(a))}else m(e,t)}function A(e){this._inputEvents={},this._buttonDown={LEFT:!1,MIDDLE:!1,RIGHT:!1},this._isPinching=!1,this._isTouchHolding=!1,this._lastSeenTouchEvent=-A.mouseEmulationIgnoreMilliseconds,this._primaryStartPosition=new S.a,this._primaryPosition=new S.a,this._primaryPreviousPosition=new S.a,this._positions=new C.a,this._previousPositions=new C.a,this._removalFunctions=[],this._touchHoldTimer=void 0,this._clickPixelTolerance=5,this._holdPixelTolerance=25,this._element=Object(j.a)(e,document),s(this)}var C=i("7uRt"),S=i("Ss9j"),j=i("5A4e"),P=i("xC6Q"),D=i("6sr8"),I=i("PzDm"),R=i("gjtw"),M=i("n08a"),L=i("j94w"),N=i("szK2"),F={LEFT:0,MIDDLE:1,RIGHT:2},z={position:new S.a},B={position:new S.a},k={position:new S.a},U={startPosition:new S.a,endPosition:new S.a},V={position:new S.a},H={position:new S.a},q={position1:new S.a,position2:new S.a},W={position:new S.a},G={position:new S.a},Y={position:new S.a},X={startPosition:new S.a,endPosition:new S.a},Q={distance:{startPosition:new S.a,endPosition:new S.a},angleAndHeight:{startPosition:new S.a,endPosition:new S.a}};A.prototype.setInputAction=function(e,t,i){if(!Object(P.a)(e))throw new I.a("action is required.");if(!Object(P.a)(t))throw new I.a("type is required.");var n=a(t,i);this._inputEvents[n]=e},A.prototype.getInputAction=function(e,t){if(!Object(P.a)(e))throw new I.a("type is required.");var i=a(e,t);return this._inputEvents[i]},A.prototype.removeInputAction=function(e,t){if(!Object(P.a)(e))throw new I.a("type is required.");var i=a(e,t);delete this._inputEvents[i]},A.prototype.isDestroyed=function(){return!1},A.prototype.destroy=function(){return c(this),Object(D.a)(this)},A.mouseEmulationIgnoreMilliseconds=800,A.touchHoldDelayMilliseconds=1500,t.a=A},UlX4:function(e,t,i){"use strict";t.a="// Thanks for the contribution Jonas\n// http://29a.ch/2012/7/19/webgl-terrain-rendering-water-fog\n\nuniform sampler2D specularMap;\nuniform sampler2D normalMap;\nuniform vec4 baseWaterColor;\nuniform vec4 blendColor;\nuniform float frequency;\nuniform float animationSpeed;\nuniform float amplitude;\nuniform float specularIntensity;\nuniform float fadeFactor;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    float time = czm_frameNumber * animationSpeed;\n\n    // fade is a function of the distance from the fragment and the frequency of the waves\n    float fade = max(1.0, (length(materialInput.positionToEyeEC) / 10000000000.0) * frequency * fadeFactor);\n\n    float specularMapValue = texture2D(specularMap, materialInput.st).r;\n\n    // note: not using directional motion at this time, just set the angle to 0.0;\n    vec4 noise = czm_getWaterNoise(normalMap, materialInput.st * frequency, time, 0.0);\n    vec3 normalTangentSpace = noise.xyz * vec3(1.0, 1.0, (1.0 / amplitude));\n\n    // fade out the normal perturbation as we move further from the water surface\n    normalTangentSpace.xy /= fade;\n\n    // attempt to fade out the normal perturbation as we approach non water areas (low specular map value)\n    normalTangentSpace = mix(vec3(0.0, 0.0, 50.0), normalTangentSpace, specularMapValue);\n\n    normalTangentSpace = normalize(normalTangentSpace);\n\n    // get ratios for alignment of the new normal vector with a vector perpendicular to the tangent plane\n    float tsPerturbationRatio = clamp(dot(normalTangentSpace, vec3(0.0, 0.0, 1.0)), 0.0, 1.0);\n\n    // fade out water effect as specular map value decreases\n    material.alpha = mix(blendColor.a, baseWaterColor.a, specularMapValue) * specularMapValue;\n\n    // base color is a blend of the water and non-water color based on the value from the specular map\n    // may need a uniform blend factor to better control this\n    material.diffuse = mix(blendColor.rgb, baseWaterColor.rgb, specularMapValue);\n\n    // diffuse highlights are based on how perturbed the normal is\n    material.diffuse += (0.1 * tsPerturbationRatio);\n\n    material.diffuse = material.diffuse;\n\n    material.normal = normalize(materialInput.tangentToEyeMatrix * normalTangentSpace);\n\n    material.specular = specularIntensity;\n    material.shininess = 10.0;\n\n    return material;\n}\n"},"Un+M":function(e,t,i){"use strict";e.exports=function(e,t){var i,n,a,r,o,s,c,l,u,h,d,f,p,m,g,_,v,b,y,O,w,x,E,T,A;i=e.state,n=e.next_in,T=e.input,a=n+(e.avail_in-5),r=e.next_out,A=e.output,o=r-(t-e.avail_out),s=r+(e.avail_out-257),c=i.dmax,l=i.wsize,u=i.whave,h=i.wnext,d=i.window,f=i.hold,p=i.bits,m=i.lencode,g=i.distcode,_=(1<<i.lenbits)-1,v=(1<<i.distbits)-1;e:do{p<15&&(f+=T[n++]<<p,p+=8,f+=T[n++]<<p,p+=8),b=m[f&_];t:for(;;){if(y=b>>>24,f>>>=y,p-=y,0===(y=b>>>16&255))A[r++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=m[(65535&b)+(f&(1<<y)-1)];continue t}if(32&y){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}O=65535&b,y&=15,y&&(p<y&&(f+=T[n++]<<p,p+=8),O+=f&(1<<y)-1,f>>>=y,p-=y),p<15&&(f+=T[n++]<<p,p+=8,f+=T[n++]<<p,p+=8),b=g[f&v];i:for(;;){if(y=b>>>24,f>>>=y,p-=y,!(16&(y=b>>>16&255))){if(0==(64&y)){b=g[(65535&b)+(f&(1<<y)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(w=65535&b,y&=15,p<y&&(f+=T[n++]<<p,(p+=8)<y&&(f+=T[n++]<<p,p+=8)),(w+=f&(1<<y)-1)>c){e.msg="invalid distance too far back",i.mode=30;break e}if(f>>>=y,p-=y,y=r-o,w>y){if((y=w-y)>u&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(x=0,E=d,0===h){if(x+=l-y,y<O){O-=y;do{A[r++]=d[x++]}while(--y);x=r-w,E=A}}else if(h<y){if(x+=l+h-y,(y-=h)<O){O-=y;do{A[r++]=d[x++]}while(--y);if(x=0,h<O){y=h,O-=y;do{A[r++]=d[x++]}while(--y);x=r-w,E=A}}}else if(x+=h-y,y<O){O-=y;do{A[r++]=d[x++]}while(--y);x=r-w,E=A}for(;O>2;)A[r++]=E[x++],A[r++]=E[x++],A[r++]=E[x++],O-=3;O&&(A[r++]=E[x++],O>1&&(A[r++]=E[x++]))}else{x=r-w;do{A[r++]=A[x++],A[r++]=A[x++],A[r++]=A[x++],O-=3}while(O>2);O&&(A[r++]=A[x++],O>1&&(A[r++]=A[x++]))}break}}break}}while(n<a&&r<s);O=p>>3,n-=O,p-=O<<3,f&=(1<<p)-1,e.next_in=n,e.next_out=r,e.avail_in=n<a?a-n+5:5-(n-a),e.avail_out=r<s?s-r+257:257-(r-s),i.hold=f,i.bits=p}},UrKe:function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,c),r.a.defined("dimensions",e),r.a.typeOf.number.greaterThanOrEquals("dimensions.x",e.x,0),r.a.typeOf.number.greaterThanOrEquals("dimensions.y",e.y,0),r.a.typeOf.number.greaterThanOrEquals("dimensions.z",e.z,0),this._dimensions=a.a.clone(e)}var a=i("Jj+J"),r=i("5F4X"),o=i("5A4e"),s=i("fq+p"),c=new a.a(1,1,1);Object.defineProperties(n.prototype,{dimensions:{get:function(){return this._dimensions},set:function(e){r.a.defined("value",e),r.a.typeOf.number.greaterThanOrEquals("value.x",e.x,0),r.a.typeOf.number.greaterThanOrEquals("value.y",e.y,0),r.a.typeOf.number.greaterThanOrEquals("value.z",e.z,0),a.a.clone(e,this._dimensions)}}});var l=new a.a;n.prototype.emit=function(e){var t=this._dimensions,i=a.a.multiplyByScalar(t,.5,l),n=s.a.randomBetween(-i.x,i.x),r=s.a.randomBetween(-i.y,i.y),o=s.a.randomBetween(-i.z,i.z);e.position=a.a.fromElements(n,r,o,e.position),e.velocity=a.a.normalize(e.position,e.velocity)}},UuGF:function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},V22k:function(e,t,i){"use strict";function n(e){this.name="RuntimeError",this.message=e;var t;try{throw new Error}catch(e){t=e.stack}this.stack=t}var a=i("xC6Q");Object(a.a)(Object.create)&&(n.prototype=Object.create(Error.prototype),n.prototype.constructor=n),n.prototype.toString=function(){var e=this.name+": "+this.message;return Object(a.a)(this.stack)&&(e+="\n"+this.stack.toString()),e},t.a=n},V2UA:function(e,t,i){"use strict";function n(e){this.tile=e,this.frameLastUpdated=void 0,this.westMeshes=[],this.westTiles=[],this.southMeshes=[],this.southTiles=[],this.eastMeshes=[],this.eastTiles=[],this.northMeshes=[],this.northTiles=[],this.southwestMesh=void 0,this.southwestTile=void 0,this.southeastMesh=void 0,this.southeastTile=void 0,this.northwestMesh=void 0,this.northwestTile=void 0,this.northeastMesh=void 0,this.northeastTile=void 0,this.changedThisFrame=!0,this.visitedFrame=void 0,this.enqueuedFrame=void 0,this.mesh=void 0,this.vertexArray=void 0,this.waterMaskTexture=void 0,this.waterMaskTranslationAndScale=new S.a}function a(e,t,i,n,o,s,c,l,u){if(void 0!==n){for(var h=n;h&&(h._lastSelectionResultFrame!==o||V.a.wasKicked(h._lastSelectionResult)||V.a.originalResult(h._lastSelectionResult)===V.a.CULLED);){if(c)return;var d=h.parent;if(s>=B.a.NORTHWEST&&void 0!==d)switch(s){case B.a.NORTHWEST:h=h===d.northwestChild?d:void 0;break;case B.a.NORTHEAST:h=h===d.northeastChild?d:void 0;break;case B.a.SOUTHWEST:h=h===d.southwestChild?d:void 0;break;case B.a.SOUTHEAST:h=h===d.southeastChild?d:void 0}else h=d}if(void 0!==h){if(h._lastSelectionResult===V.a.RENDERED){if(Object(P.a)(h.data.vertexArray))return;return void r(e,t,i,h,s,o,l,u)}if(V.a.originalResult(n._lastSelectionResult)!==V.a.CULLED)switch(s){case B.a.WEST:a(e,t,i,n.northwestChild,o,s,!0,l,u),a(e,t,i,n.southwestChild,o,s,!0,l,u);break;case B.a.EAST:a(e,t,i,n.southeastChild,o,s,!0,l,u),a(e,t,i,n.northeastChild,o,s,!0,l,u);break;case B.a.SOUTH:a(e,t,i,n.southwestChild,o,s,!0,l,u),a(e,t,i,n.southeastChild,o,s,!0,l,u);break;case B.a.NORTH:a(e,t,i,n.northeastChild,o,s,!0,l,u),a(e,t,i,n.northwestChild,o,s,!0,l,u);break;case B.a.NORTHWEST:a(e,t,i,n.northwestChild,o,s,!0,l,u);break;case B.a.NORTHEAST:a(e,t,i,n.northeastChild,o,s,!0,l,u);break;case B.a.SOUTHWEST:a(e,t,i,n.southwestChild,o,s,!0,l,u);break;case B.a.SOUTHEAST:a(e,t,i,n.southeastChild,o,s,!0,l,u);break;default:throw new D.a("Invalid edge")}}}}function r(e,t,i,a,r,s,c,l){var u=a.data;if(void 0===u.fill)u.fill=new n(a);else if(u.fill.visitedFrame===s)return;u.fill.enqueuedFrame!==s&&(u.fill.enqueuedFrame=s,u.fill.changedThisFrame=!1,c.enqueue(a)),o(e,t,i,a,r,l)}function o(e,t,i,n,a,r){var o,s=n.data.fill,c=i.data.fill;Object(P.a)(c)?(c.visitedFrame=t.frameNumber,c.changedThisFrame&&(l(e,t,i,r),c.changedThisFrame=!1),o=i.data.fill.mesh):o=i.data.mesh;var u,h;switch(a){case B.a.WEST:u=s.westMeshes,h=s.westTiles;break;case B.a.SOUTH:u=s.southMeshes,h=s.southTiles;break;case B.a.EAST:u=s.eastMeshes,h=s.eastTiles;break;case B.a.NORTH:u=s.northMeshes,h=s.northTiles;break;case B.a.NORTHWEST:return s.changedThisFrame=s.changedThisFrame||s.northwestMesh!==o,s.northwestMesh=o,void(s.northwestTile=i);case B.a.NORTHEAST:return s.changedThisFrame=s.changedThisFrame||s.northeastMesh!==o,s.northeastMesh=o,void(s.northeastTile=i);case B.a.SOUTHWEST:return s.changedThisFrame=s.changedThisFrame||s.southwestMesh!==o,s.southwestMesh=o,void(s.southwestTile=i);case B.a.SOUTHEAST:return s.changedThisFrame=s.changedThisFrame||s.southeastMesh!==o,s.southeastMesh=o,void(s.southeastTile=i)}if(i.level<=n.level)return s.changedThisFrame=s.changedThisFrame||u[0]!==o||1!==u.length,u[0]=o,h[0]=i,u.length=1,void(h.length=1);var d,f,p,m,g,_=i.rectangle,v=n.rectangle;switch(a){case B.a.WEST:for(g=(v.north-v.south)*R.a.EPSILON5,d=0;d<h.length&&(p=h[d],m=p.rectangle,!R.a.greaterThan(_.north,m.south,g));++d);for(f=d;f<h.length&&(p=h[f],m=p.rectangle,!R.a.greaterThanOrEquals(_.south,m.north,g));++f);break;case B.a.SOUTH:for(g=(v.east-v.west)*R.a.EPSILON5,d=0;d<h.length&&(p=h[d],m=p.rectangle,!R.a.lessThan(_.west,m.east,g));++d);for(f=d;f<h.length&&(p=h[f],m=p.rectangle,!R.a.lessThanOrEquals(_.east,m.west,g));++f);break;case B.a.EAST:for(g=(v.north-v.south)*R.a.EPSILON5,d=0;d<h.length&&(p=h[d],m=p.rectangle,!R.a.lessThan(_.south,m.north,g));++d);for(f=d;f<h.length&&(p=h[f],m=p.rectangle,!R.a.lessThanOrEquals(_.north,m.south,g));++f);break;case B.a.NORTH:for(g=(v.east-v.west)*R.a.EPSILON5,d=0;d<h.length&&(p=h[d],m=p.rectangle,!R.a.greaterThan(_.east,m.west,g));++d);for(f=d;f<h.length&&(p=h[f],m=p.rectangle,!R.a.greaterThanOrEquals(_.west,m.east,g));++f);}f-d==1?(s.changedThisFrame=s.changedThisFrame||u[d]!==o,u[d]=o,h[d]=i):(s.changedThisFrame=!0,u.splice(d,f-d,o),h.splice(d,f-d,i))}function s(){this.height=0,this.encodedNormal=new A.a}function c(e,t,i,n,a,r,o,s,c){if(Object(P.a)(a))return a;var l;if(Object(P.a)(r)&&Object(P.a)(o))l=.5*(r.height+o.height);else if(Object(P.a)(r))l=r.height;else if(Object(P.a)(o))l=o.height;else if(Object(P.a)(s))l=s.height;else{var u=e.tile.data,h=u.tileBoundingRegion,d=0,f=0;Object(P.a)(h)&&(d=h.minimumHeight,f=h.maximumHeight),l=.5*(d+f)}return p(e,t,i,n,l,c),c}function l(e,t,i,n){U.a.initialize(i,e.terrainProvider,e._imageryLayers);var a=i.data,r=a.fill,o=i.rectangle,s=i.tilingScheme.ellipsoid,l=m(r,s,0,1,r.northwestTile,r.northwestMesh,r.northTiles,r.northMeshes,r.westTiles,r.westMeshes,ee),h=m(r,s,0,0,r.southwestTile,r.southwestMesh,r.westTiles,r.westMeshes,r.southTiles,r.southMeshes,K),d=m(r,s,1,0,r.southeastTile,r.southeastMesh,r.southTiles,r.southMeshes,r.eastTiles,r.eastMeshes,$),f=m(r,s,1,1,r.northeastTile,r.northeastMesh,r.eastTiles,r.eastMeshes,r.northTiles,r.northMeshes,te);l=c(r,s,0,1,l,h,f,d,ee),h=c(r,s,0,0,h,l,d,f,K),d=c(r,s,1,1,d,h,f,l,$),f=c(r,s,1,1,f,d,l,h,te);var p,g,v=h.height,b=d.height,y=l.height,O=f.height,E=Math.min(v,b,y,O),C=Math.max(v,b,y,O),S=.5*(E+C),j=e.getLevelMaximumGeometricError(i.level),D=s.maximumRadius-j,R=4*Math.acos(D/s.maximumRadius);if(R*=1.5,o.width>R&&C-E<=j){var L=new I.a({width:9,height:9,buffer:ie,structure:{heightOffset:C}});r.mesh=L._createMeshSync(i.tilingScheme,i.x,i.y,i.level,1)}else{var N=new F.a(void 0,void 0,void 0,void 0,!0,!0),V=W;V.longitude=.5*(o.east+o.west),V.latitude=.5*(o.north+o.south),V.height=S,N.center=s.cartographicToCartesian(V,N.center);var H,G=5;for(H=r.westMeshes,p=0,g=H.length;p<g;++p)G+=H[p].eastIndicesNorthToSouth.length;for(H=r.southMeshes,p=0,g=H.length;p<g;++p)G+=H[p].northIndicesWestToEast.length;for(H=r.eastMeshes,p=0,g=H.length;p<g;++p)G+=H[p].westIndicesSouthToNorth.length;for(H=r.northMeshes,p=0,g=H.length;p<g;++p)G+=H[p].southIndicesEastToWest.length;var Q=Z;Q.minimumHeight=E,Q.maximumHeight=C;var ne=N.getStride(),ae=new Float32Array(G*ne),re=0,oe=re;re=u(s,o,N,ae,re,0,1,l.height,l.encodedNormal,1,Q),re=_(r,s,N,ae,re,r.westTiles,r.westMeshes,B.a.EAST,Q);var se=re;re=u(s,o,N,ae,re,0,0,h.height,h.encodedNormal,0,Q),re=_(r,s,N,ae,re,r.southTiles,r.southMeshes,B.a.NORTH,Q);var ce=re;re=u(s,o,N,ae,re,1,0,d.height,d.encodedNormal,0,Q),re=_(r,s,N,ae,re,r.eastTiles,r.eastMeshes,B.a.WEST,Q);var le=re;re=u(s,o,N,ae,re,1,1,f.height,f.encodedNormal,1,Q),re=_(r,s,N,ae,re,r.northTiles,r.northMeshes,B.a.SOUTH,Q),E=Q.minimumHeight,C=Q.maximumHeight;var ue=M.a.fromRectangle(o,E,C,i.tilingScheme.ellipsoid),he=k.a.geodeticLatitudeToMercatorAngle(o.south),de=1/(k.a.geodeticLatitudeToMercatorAngle(o.north)-he),fe=(k.a.geodeticLatitudeToMercatorAngle(V.latitude)-he)*de;s.geodeticSurfaceNormalCartographic(q,Y);var pe=x.a.octEncode(Y,X),me=re;N.encode(ae,re*ne,ue.center,A.a.fromElements(.5,.5,J),S,pe,fe),++re;var ge,_e=re,ve=_e<256?1:2,be=3*(_e-1),ye=be*ve,Oe=(ae.length-_e*ne)*Float32Array.BYTES_PER_ELEMENT;if(Oe>=ye){var we=_e*ne*Float32Array.BYTES_PER_ELEMENT;ge=_e<256?new Uint8Array(ae.buffer,we,be):new Uint16Array(ae.buffer,we,be)}else ge=_e<256?new Uint8Array(be):new Uint16Array(be);ae=new Float32Array(ae.buffer,0,_e*ne);var xe=0;for(p=0;p<_e-2;++p)ge[xe++]=me,ge[xe++]=p,ge[xe++]=p+1;ge[xe++]=me,ge[xe++]=p,ge[xe++]=0;var Ee=[];for(p=se;p>=oe;--p)Ee.push(p);var Te=[];for(p=ce;p>=se;--p)Te.push(p);var Ae=[];for(p=le;p>=ce;--p)Ae.push(p);var Ce=[];for(Ce.push(0),p=me-1;p>=le;--p)Ce.push(p);r.mesh=new z.a(N.center,ae,ge,be,_e,E,C,T.a.fromOrientedBoundingBox(ue),w(e,ue.center,o,E,C),N.getStride(),ue,N,t.terrainExaggeration,Ee,Te,Ae,Ce)}var Se=t.context;Object(P.a)(r.vertexArray)&&(Object(P.a)(n)?n.push(r.vertexArray):U.a._freeVertexArray(r.vertexArray)),r.vertexArray=U.a._createVertexArrayForMesh(Se,r.mesh),a.processImagery(i,e.terrainProvider,t,!0);var je=r.waterMaskTexture;if(r.waterMaskTexture=void 0,e.terrainProvider.hasWaterMask){var Pe=a._findAncestorTileWithTerrainData(i);Object(P.a)(Pe)&&Object(P.a)(Pe.data.waterMaskTexture)&&(r.waterMaskTexture=Pe.data.waterMaskTexture,++r.waterMaskTexture.referenceCount,a._computeWaterMaskTranslationAndScale(i,Pe,r.waterMaskTranslationAndScale))}Object(P.a)(je)&&0===--je.referenceCount&&je.destroy()}function u(e,t,i,n,a,r,o,s,c,l,u){var h=q;h.longitude=R.a.lerp(t.west,t.east,r),h.latitude=R.a.lerp(t.south,t.north,o),h.height=s;var d=e.cartographicToCartesian(h,G),f=Q;return f.x=r,f.y=o,i.encode(n,a*i.getStride(),d,f,s,c,l),u.minimumHeight=Math.min(u.minimumHeight,s),u.maximumHeight=Math.max(u.maximumHeight,s),a+1}function h(e,t,i,n){var a=e.rectangle,r=t.rectangle;0===t.x&&1===i.x&&e.x===e.tilingScheme.getNumberOfXTilesAtLevel(e.level)-1?(a=N.a.clone(e.rectangle,ne),a.west-=R.a.TWO_PI,a.east-=R.a.TWO_PI):0===e.x&&0===i.x&&t.x===t.tilingScheme.getNumberOfXTilesAtLevel(t.level)-1&&(a=N.a.clone(e.rectangle,ne),a.west+=R.a.TWO_PI,a.east+=R.a.TWO_PI);var o=a.east-a.west,s=(r.west-a.west)/o,c=(r.east-a.west)/o,l=a.north-a.south,u=(r.south-a.south)/l,h=(r.north-a.south)/l,d=(i.x-s)/(c-s),f=(i.y-u)/(h-u);return Math.abs(d)<Math.EPSILON5?d=0:Math.abs(d-1)<Math.EPSILON5&&(d=1),Math.abs(f)<Math.EPSILON5?f=0:Math.abs(f-1)<Math.EPSILON5&&(f=1),n.x=d,n.y=f,n}function d(e,t,i,n,a){var r=e.encoding,o=e.vertices;if(a.height=r.decodeHeight(o,t),r.hasVertexNormals)r.getOctEncodedNormal(o,t,a.encodedNormal);else{var s=a.encodedNormal;s.x=0,s.y=0}}function f(e,t,i,n,a,r,o,s,c,l){var u,d=n.encoding,f=n.vertices,p=h(t,i,d.decodeTextureCoordinates(f,a,J),J),m=h(t,i,d.decodeTextureCoordinates(f,r,Q),Q);u=c?(o-p.x)/(m.x-p.x):(s-p.y)/(m.y-p.y);var g=d.decodeHeight(f,a),_=d.decodeHeight(f,r),v=i.rectangle;q.longitude=R.a.lerp(v.west,v.east,o),q.latitude=R.a.lerp(v.south,v.north,s),l.height=q.height=R.a.lerp(g,_,u);var b;if(d.hasVertexNormals){var y=d.getOctEncodedNormal(f,a,ae),O=d.getOctEncodedNormal(f,r,re),w=x.a.octDecode(y.x,y.y,G),E=x.a.octDecode(O.x,O.y,oe);b=C.a.lerp(w,E,u,G),C.a.normalize(b,b),x.a.octEncode(b,l.encodedNormal)}else b=e.geodeticSurfaceNormalCartographic(q,G),x.a.octEncode(b,l.encodedNormal)}function p(e,t,i,n,a,r){r.height=a;var o=t.geodeticSurfaceNormalCartographic(q,G);x.a.octEncode(o,r.encodedNormal)}function m(e,t,i,n,a,r,o,s,c,l,u){if(O(e,t,s,o,!1,i,n,u)||O(e,t,l,c,!0,i,n,u))return u;var h;if(y(a,r))return h=0===i?0===n?r.eastIndicesNorthToSouth[0]:r.southIndicesEastToWest[0]:0===n?r.northIndicesWestToEast[0]:r.westIndicesSouthToNorth[0],d(r,h,i,n,u),u;var f;return f=0===i?0===n?g(e.westMeshes,e.westTiles,B.a.EAST,e.southMeshes,e.southTiles,B.a.NORTH,i,n):g(e.northMeshes,e.northTiles,B.a.SOUTH,e.westMeshes,e.westTiles,B.a.EAST,i,n):0===n?g(e.southMeshes,e.southTiles,B.a.NORTH,e.eastMeshes,e.eastTiles,B.a.WEST,i,n):g(e.eastMeshes,e.eastTiles,B.a.WEST,e.northMeshes,e.northTiles,B.a.SOUTH,i,n),Object(P.a)(f)?(p(e,t,i,n,f,u),u):void 0}function g(e,t,i,n,a,r,o,s){var c=b(e,t,!1,i,o,s),l=b(n,a,!0,r,o,s);return Object(P.a)(c)&&Object(P.a)(l)?.5*(c+l):Object(P.a)(c)?c:l}function _(e,t,i,n,a,r,o,s,c){for(var l=0;l<r.length;++l)a=v(e,t,i,n,a,r[l],o[l],s,c);return a}function v(e,t,i,n,a,r,o,s,c){var l=r.rectangle;s===B.a.EAST&&0===e.tile.x?(l=N.a.clone(r.rectangle,ne),l.west-=R.a.TWO_PI,l.east-=R.a.TWO_PI):s===B.a.WEST&&0===r.x&&(l=N.a.clone(r.rectangle,ne),l.west+=R.a.TWO_PI,l.east+=R.a.TWO_PI);var u,d,f=e.tile.rectangle;a>0&&(i.decodeTextureCoordinates(n,a-1,J),u=J.x,d=J.y);var p,m;switch(s){case B.a.WEST:p=o.westIndicesSouthToNorth,m=!1;break;case B.a.NORTH:p=o.northIndicesWestToEast,m=!0;break;case B.a.EAST:p=o.eastIndicesNorthToSouth,m=!1;break;case B.a.SOUTH:p=o.southIndicesEastToWest,m=!0}var g,_,v=r,b=e.tile,y=o.encoding,O=o.vertices,w=i.getStride();y.hasWebMercatorT&&(g=k.a.geodeticLatitudeToMercatorAngle(f.south),_=1/(k.a.geodeticLatitudeToMercatorAngle(f.north)-g));for(var x=0;x<p.length;++x){var E=p[x],T=y.decodeTextureCoordinates(O,E,J);h(v,b,T,T);var A=T.x,C=T.y,S=m?A:C;if(!(S<0||S>1)&&!(Math.abs(A-u)<R.a.EPSILON5&&Math.abs(C-d)<R.a.EPSILON5)){var j=Math.abs(A)<R.a.EPSILON5||Math.abs(A-1)<R.a.EPSILON5,P=Math.abs(C)<R.a.EPSILON5||Math.abs(C-1)<R.a.EPSILON5;if(!j||!P){var D,I=y.decodePosition(O,E,G),M=y.decodeHeight(O,E);y.hasVertexNormals?D=y.getOctEncodedNormal(O,E,X):(D=X,D.x=0,D.y=0);var L=C;if(y.hasWebMercatorT){var F=R.a.lerp(f.south,f.north,C);L=(k.a.geodeticLatitudeToMercatorAngle(F)-g)*_}i.encode(n,a*w,I,T,M,D,L),c.minimumHeight=Math.min(c.minimumHeight,M),c.maximumHeight=Math.max(c.maximumHeight,M),++a}}}return a}function b(e,t,i,n,a,r){var o,s,c;i?(o=0,s=e.length,c=1):(o=e.length-1,s=-1,c=-1);for(var l=o;l!==s;l+=c){var u=e[l];if(y(t[l],u)){var h;switch(n){case B.a.WEST:h=u.westIndicesSouthToNorth;break;case B.a.SOUTH:h=u.southIndicesEastToWest;break;case B.a.EAST:h=u.eastIndicesNorthToSouth;break;case B.a.NORTH:h=u.northIndicesWestToEast}var d=h[i?0:h.length-1];if(Object(P.a)(d))return u.encoding.decodeHeight(u.vertices,d)}}}function y(e,t){return Object(P.a)(t)&&(!Object(P.a)(e.data.fill)||!e.data.fill.changedThisFrame)}function O(e,t,i,n,a,r,o,s){var c,l,u,p,m,g=n[a?0:i.length-1],_=i[a?0:i.length-1];if(y(g,_)&&(0===r?0===o?(c=a?_.northIndicesWestToEast:_.eastIndicesNorthToSouth,l=a,u=a):(c=a?_.eastIndicesNorthToSouth:_.southIndicesEastToWest,l=!a,u=!1):0===o?(c=a?_.westIndicesSouthToNorth:_.northIndicesWestToEast,l=!a,u=!0):(c=a?_.southIndicesEastToWest:_.westIndicesSouthToNorth,l=a,u=!a),c.length>0)){p=a?0:c.length-1,m=c[p],_.encoding.decodeTextureCoordinates(_.vertices,m,J);var v=h(g,e.tile,J,J);if(v.x===r&&v.y===o)return d(_,m,r,o,s),!0;if(!((p=Object(E.a)(c,l?r:o,function(t,i){_.encoding.decodeTextureCoordinates(_.vertices,t,J);var n=h(g,e.tile,J,J);return u?l?n.x-r:n.y-o:l?r-n.x:o-n.y}))<0))return d(_,c[p],r,o,s),!0;if((p=~p)>0&&p<c.length)return f(t,g,e.tile,_,c[p-1],c[p],r,o,l,s),!0}return!1}function w(e,t,i,n,a,r){var o=e.quadtree._occluders.ellipsoid,s=o.ellipsoid,c=se;return C.a.fromRadians(i.west,i.south,a,s,c[0]),C.a.fromRadians(i.east,i.south,a,s,c[1]),C.a.fromRadians(i.west,i.north,a,s,c[2]),C.a.fromRadians(i.east,i.north,a,s,c[3]),o.computeHorizonCullingPointPossiblyUnderEllipsoid(t,c,n,r)}var x=i("j90k"),E=i("KPbu"),T=i("lBr9"),A=i("Ss9j"),C=i("Jj+J"),S=i("PDkd"),j=i("I3GD"),P=i("xC6Q"),D=i("PzDm"),I=i("l3S0"),R=i("fq+p"),M=i("qBw0"),L=i("z43S"),N=i("Wq1U"),F=i("c/Hq"),z=i("o9ZK"),B=i("GpnP"),k=i("6AvQ"),U=i("jR3i"),V=i("qqab");n.prototype.update=function(e,t,i){this.changedThisFrame&&(l(e,t,this.tile,i),this.changedThisFrame=!1)},n.prototype.destroy=function(e){Object(P.a)(this.vertexArray)&&(Object(P.a)(e)?e.push(this.vertexArray):U.a._freeVertexArray(this.vertexArray,e),this.vertexArray=void 0),Object(P.a)(this.waterMaskTexture)&&(--this.waterMaskTexture.referenceCount,0===this.waterMaskTexture.referenceCount&&this.waterMaskTexture.destroy(),this.waterMaskTexture=void 0)};var H=new L.a;n.updateFillTiles=function(e,t,i,n){var r=e._quadtree,o=r._levelZeroTiles,s=r._lastSelectionFrameNumber,c=H;c.clear();for(var l=0;l<t.length;++l){var u=t[l];Object(P.a)(u.data.vertexArray)&&c.enqueue(t[l])}for(var h=c.dequeue();void 0!==h;){var d=h.findTileToWest(o),f=h.findTileToSouth(o),p=h.findTileToEast(o),m=h.findTileToNorth(o);a(e,i,h,d,s,B.a.EAST,!1,c,n),a(e,i,h,f,s,B.a.NORTH,!1,c,n),a(e,i,h,p,s,B.a.WEST,!1,c,n),a(e,i,h,m,s,B.a.SOUTH,!1,c,n);var g=d.findTileToNorth(o),_=d.findTileToSouth(o),v=p.findTileToNorth(o),b=p.findTileToSouth(o);a(e,i,h,g,s,B.a.SOUTHEAST,!1,c,n),a(e,i,h,v,s,B.a.SOUTHWEST,!1,c,n),a(e,i,h,_,s,B.a.NORTHEAST,!1,c,n),a(e,i,h,b,s,B.a.NORTHWEST,!1,c,n),h=c.dequeue()}};var q=new j.a,W=new j.a,G=new C.a,Y=new C.a,X=new A.a,Q=new A.a,J=new A.a,Z={minimumHeight:0,maximumHeight:0},K=new s,$=new s,ee=new s,te=new s,ie="undefined"!=typeof Uint8Array?new Uint8Array(81):void 0,ne=new N.a,ae=new A.a,re=new A.a,oe=new C.a,se=[new C.a,new C.a,new C.a,new C.a];t.a=n},V3tA:function(e,t,i){i("R4wc"),e.exports=i("FeBl").Object.assign},V739:function(e,t,i){"use strict";t.a="uniform samplerCube u_cubeMap;\n\nvarying vec3 v_texCoord;\n\nvoid main()\n{\n    vec4 color = textureCube(u_cubeMap, normalize(v_texCoord));\n    gl_FragColor = vec4(czm_gammaCorrect(color).rgb, czm_morphTime);\n}\n"},VBo5:function(e,t,i){"use strict";function n(e,t,i){var n=e+t;return r.a.sign(e)!==r.a.sign(t)&&Math.abs(n/Math.max(Math.abs(e),Math.abs(t)))<i?0:n}var a=i("PzDm"),r=i("fq+p"),o={};o.computeDiscriminant=function(e,t,i){if("number"!=typeof e)throw new a.a("a is a required number.");if("number"!=typeof t)throw new a.a("b is a required number.");if("number"!=typeof i)throw new a.a("c is a required number.");return t*t-4*e*i},o.computeRealRoots=function(e,t,i){if("number"!=typeof e)throw new a.a("a is a required number.");if("number"!=typeof t)throw new a.a("b is a required number.");if("number"!=typeof i)throw new a.a("c is a required number.");var o;if(0===e)return 0===t?[]:[-i/t];if(0===t){if(0===i)return[0,0];var s=Math.abs(i),c=Math.abs(e);if(s<c&&s/c<r.a.EPSILON14)return[0,0];if(s>c&&c/s<r.a.EPSILON14)return[];if((o=-i/e)<0)return[];var l=Math.sqrt(o);return[-l,l]}if(0===i)return o=-t/e,o<0?[o,0]:[0,o];var u=t*t,h=4*e*i,d=n(u,-h,r.a.EPSILON14);if(d<0)return[];var f=-.5*n(t,r.a.sign(t)*Math.sqrt(d),r.a.EPSILON14);return t>0?[f/e,i/f]:[i/f,f/e]},t.a=o},VF2d:function(e,t,i){"use strict";function n(e,t){if(!Object(r.a)(e))throw new o.a("identifier is required.");Object(r.a)(s[e])||(s[e]=!0,console.warn(Object(a.a)(t,e)))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s={};n.geometryOutlines="Entity geometry outlines are unsupported on terrain. Outlines will be disabled. To enable outlines, disable geometry terrain clamping by explicitly setting height to 0.",n.geometryZIndex="Entity geometry with zIndex are unsupported when height or extrudedHeight are defined.  zIndex will be ignored",n.geometryHeightReference="Entity corridor, ellipse, polygon or rectangle with heightReference must also have a defined height.  heightReference will be ignored",n.geometryExtrudedHeightReference="Entity corridor, ellipse, polygon or rectangle with extrudedHeightReference must also have a defined extrudedHeight.  extrudedHeightReference will be ignored",t.a=n},VFU2:function(e,t,i){"use strict";function n(){this._image=new Image}function a(e){if(e=Object(u.a)(e,u.a.EMPTY_OBJECT),!Object(h.a)(e.url)&&!Object(h.a)(e.metadata))throw new d.a("options.url or options.metadata is required.");var t;if(Object(h.a)(e.metadata))t=e.metadata;else{var i=y.a.createIfNeeded(e.url);t=new m.a(i)}this._metadata=t,this._tileDiscardPolicy=e.tileDiscardPolicy,this._tilingScheme=new p.a({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new v.a(-_.a.PI,-_.a.PI,_.a.PI,_.a.PI),ellipsoid:e.ellipsoid});var a=e.credit;"string"==typeof a&&(a=new c.a(a)),this._credit=a,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=23,Object(h.a)(this._tileDiscardPolicy)||(this._tileDiscardPolicy=new n),this._errorEvent=new f.a,this._ready=!1;var r,o=this;this._readyPromise=t.readyPromise.then(function(e){if(!t.imageryPresent){var i=new O.a("The server "+t.url+" doesn't have imagery");return r=w.a.handleError(r,o,o._errorEvent,i.message,void 0,void 0,void 0,i),E.a.reject(i)}return w.a.handleSuccess(r),o._ready=e,e}).otherwise(function(e){return r=w.a.handleError(r,o,o._errorEvent,e.message,void 0,void 0,void 0,e),E.a.reject(e)})}function r(e,t,i,n,a,r){var o=m.a.tileXYToQuadKey(i,n,a),s=t.imageryVersion;return s=Object(h.a)(s)&&s>0?s:1,e._metadata.resource.getDerivedResource({url:"flatfile?f1-0"+o+"-i."+s.toString(),request:r})}function o(e){var t="JFIF";if(e[6]===t.charCodeAt(0)&&e[7]===t.charCodeAt(1)&&e[8]===t.charCodeAt(2)&&e[9]===t.charCodeAt(3))return"image/jpeg";var i="PNG";return e[1]===i.charCodeAt(0)&&e[2]===i.charCodeAt(1)&&e[3]===i.charCodeAt(2)?"image/png":void 0}function s(e){for(var t=x.a.Reader.create(e),i=t.len,n={};t.pos<i;){var a=t.uint32();switch(a>>>3){case 1:n.imageType=t.uint32();break;case 2:n.imageData=t.bytes();break;case 3:n.alphaType=t.uint32();break;case 4:n.imageAlpha=t.bytes();break;case 5:var r=n.copyrightIds;if(Object(h.a)(r)||(r=n.copyrightIds=[]),2==(7&a))for(var o=t.uint32()+t.pos;t.pos<o;)r.push(t.uint32());else r.push(t.uint32());break;default:t.skipType(7&a)}}var s=n.imageType;if(Object(h.a)(s))switch(s){case 0:n.imageType="image/jpeg";break;case 4:n.imageType="image/png";break;default:throw new O.a("GoogleEarthEnterpriseImageryProvider: Unsupported image type.")}var c=n.alphaType;return Object(h.a)(c)&&0!==c&&(console.log("GoogleEarthEnterpriseImageryProvider: External alpha not supported."),delete n.alphaType,delete n.imageAlpha),n}var c=i("ODTd"),l=i("IwI9"),u=i("5A4e"),h=i("xC6Q"),d=i("PzDm"),f=i("W6xh"),p=i("4MnW"),m=i("GiV9"),g=i("DPpe"),_=i("fq+p"),v=i("Wq1U"),b=i("dI/G"),y=i("rMjQ"),O=i("V22k"),w=i("M1To"),x=i("gHot"),E=i("S7OP");n.prototype.isReady=function(){return!0},n.prototype.shouldDiscardImage=function(e){return e===this._image},Object.defineProperties(a.prototype,{url:{get:function(){return this._metadata.url}},proxy:{get:function(){return this._metadata.proxy}},tileWidth:{get:function(){if(!this._ready)throw new d.a("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this._ready)throw new d.a("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this._ready)throw new d.a("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},minimumLevel:{get:function(){if(!this._ready)throw new d.a("minimumLevel must not be called before the imagery provider is ready.");return 0}},tilingScheme:{get:function(){if(!this._ready)throw new d.a("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},rectangle:{get:function(){if(!this._ready)throw new d.a("rectangle must not be called before the imagery provider is ready.");return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){if(!this._ready)throw new d.a("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!1}}}),a.prototype.getTileCredits=function(e,t,i){if(!this._ready)throw new d.a("getTileCredits must not be called before the imagery provider is ready.");var n=this._metadata,a=n.getTileInformation(e,t,i);if(Object(h.a)(a)){var r=n.providers[a.imageryProvider];if(Object(h.a)(r))return[r]}},a.prototype.requestImage=function(e,t,i,n){if(!this._ready)throw new d.a("requestImage must not be called before the imagery provider is ready.");var a=this._tileDiscardPolicy._image,c=this._metadata,u=m.a.tileXYToQuadKey(e,t,i),f=c.getTileInformation(e,t,i);if(!Object(h.a)(f)){if(c.isValid(u)){var p=new b.a({throttle:n.throttle,throttleByServer:n.throttleByServer,type:n.type,priorityFunction:n.priorityFunction});return void c.populateSubtree(e,t,i,p)}return a}if(!f.hasImagery())return a;var _=r(this,f,e,t,i,n).fetchArrayBuffer();return Object(h.a)(_)?_.then(function(e){Object(l.a)(c.key,e);var t,i=new Uint8Array(e),n=c.protoImagery;if(Object(h.a)(n)&&n||(t=o(i)),!Object(h.a)(t)&&(!Object(h.a)(n)||n)){var r=s(i);t=r.imageType,i=r.imageData}return Object(h.a)(t)&&Object(h.a)(i)?Object(g.a)({uint8Array:i,format:t,flipY:!0}):a}):void 0},a.prototype.pickFeatures=function(e,t,i,n,a){}},VLkd:function(e,t,i){"use strict";function n(){this._definitionChanged=new o.a,this._composite=new s.a,this._composite.definitionChanged.addEventListener(n.prototype._raiseDefinitionChanged,this)}var a=i("xC6Q"),r=i("PzDm"),o=i("W6xh"),s=i("sVWN"),c=i("uhjI");Object.defineProperties(n.prototype,{isConstant:{get:function(){return this._composite.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._composite._intervals}}}),n.prototype.getType=function(e){if(!Object(a.a)(e))throw new r.a("time is required");var t=this._composite._intervals.findDataForIntervalContainingDate(e);if(Object(a.a)(t))return t.getType(e)},n.prototype.getValue=function(e,t){if(!Object(a.a)(e))throw new r.a("time is required");var i=this._composite._intervals.findDataForIntervalContainingDate(e);if(Object(a.a)(i))return i.getValue(e,t)},n.prototype.equals=function(e){return this===e||e instanceof n&&this._composite.equals(e._composite,c.a.equals)},n.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)},t.a=n},VOlO:function(e,t,i){"use strict";var n=i("PzDm");n.a.throwInstantiationError,n.a.throwInstantiationError},VOug:function(e,t,i){"use strict";function n(e,t){return e.msg=M[t],t}function a(e){return(e<<1)-(e>4?9:0)}function r(e){for(var t=e.length;--t>=0;)e[t]=0}function o(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(P.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function s(e,t){D._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,o(e.strm)}function c(e,t){e.pending_buf[e.pending++]=t}function l(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function u(e,t,i,n){var a=e.avail_in;return a>n&&(a=n),0===a?0:(e.avail_in-=a,P.arraySet(t,e.input,e.next_in,a,i),1===e.state.wrap?e.adler=I(e.adler,t,a,i):2===e.state.wrap&&(e.adler=R(e.adler,t,a,i)),e.next_in+=a,e.total_in+=a,a)}function h(e,t){var i,n,a=e.max_chain_length,r=e.strstart,o=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-le?e.strstart-(e.w_size-le):0,l=e.window,u=e.w_mask,h=e.prev,d=e.strstart+ce,f=l[r+o-1],p=l[r+o];e.prev_length>=e.good_match&&(a>>=2),s>e.lookahead&&(s=e.lookahead);do{if(i=t,l[i+o]===p&&l[i+o-1]===f&&l[i]===l[r]&&l[++i]===l[r+1]){r+=2,i++;do{}while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<d);if(n=ce-(d-r),r=d-ce,n>o){if(e.match_start=t,o=n,n>=s)break;f=l[r+o-1],p=l[r+o]}}}while((t=h[t&u])>c&&0!=--a);return o<=e.lookahead?o:e.lookahead}function d(e){var t,i,n,a,r,o=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-le)){P.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,i=e.hash_size,t=i;do{n=e.head[--t],e.head[t]=n>=o?n-o:0}while(--i);i=o,t=i;do{n=e.prev[--t],e.prev[t]=n>=o?n-o:0}while(--i);a+=o}if(0===e.strm.avail_in)break;if(i=u(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=i,e.lookahead+e.insert>=se)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+se-1])&e.hash_mask,e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<se)););}while(e.lookahead<le&&0!==e.strm.avail_in)}function f(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(d(e),0===e.lookahead&&t===L)return ve;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,s(e,!1),0===e.strm.avail_out))return ve;if(e.strstart-e.block_start>=e.w_size-le&&(s(e,!1),0===e.strm.avail_out))return ve}return e.insert=0,t===z?(s(e,!0),0===e.strm.avail_out?ye:Oe):(e.strstart>e.block_start&&(s(e,!1),e.strm.avail_out),ve)}function p(e,t){for(var i,n;;){if(e.lookahead<le){if(d(e),e.lookahead<le&&t===L)return ve;if(0===e.lookahead)break}if(i=0,e.lookahead>=se&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-le&&(e.match_length=h(e,i)),e.match_length>=se)if(n=D._tr_tally(e,e.strstart-e.match_start,e.match_length-se),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=se){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=D._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(s(e,!1),0===e.strm.avail_out))return ve}return e.insert=e.strstart<se-1?e.strstart:se-1,t===z?(s(e,!0),0===e.strm.avail_out?ye:Oe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ve:be}function m(e,t){for(var i,n,a;;){if(e.lookahead<le){if(d(e),e.lookahead<le&&t===L)return ve;if(0===e.lookahead)break}if(i=0,e.lookahead>=se&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=se-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-le&&(e.match_length=h(e,i),e.match_length<=5&&(e.strategy===G||e.match_length===se&&e.strstart-e.match_start>4096)&&(e.match_length=se-1)),e.prev_length>=se&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-se,n=D._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-se),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=se-1,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return ve}else if(e.match_available){if(n=D._tr_tally(e,0,e.window[e.strstart-1]),n&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return ve}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=D._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<se-1?e.strstart:se-1,t===z?(s(e,!0),0===e.strm.avail_out?ye:Oe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ve:be}function g(e,t){for(var i,n,a,r,o=e.window;;){if(e.lookahead<=ce){if(d(e),e.lookahead<=ce&&t===L)return ve;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=se&&e.strstart>0&&(a=e.strstart-1,(n=o[a])===o[++a]&&n===o[++a]&&n===o[++a])){r=e.strstart+ce;do{}while(n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&a<r);e.match_length=ce-(r-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=se?(i=D._tr_tally(e,1,e.match_length-se),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=D._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(s(e,!1),0===e.strm.avail_out))return ve}return e.insert=0,t===z?(s(e,!0),0===e.strm.avail_out?ye:Oe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ve:be}function _(e,t){for(var i;;){if(0===e.lookahead&&(d(e),0===e.lookahead)){if(t===L)return ve;break}if(e.match_length=0,i=D._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return ve}return e.insert=0,t===z?(s(e,!0),0===e.strm.avail_out?ye:Oe):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ve:be}function v(e,t,i,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=a}function b(e){e.window_size=2*e.w_size,r(e.head),e.max_lazy_match=j[e.level].max_lazy,e.good_match=j[e.level].good_length,e.nice_match=j[e.level].nice_length,e.max_chain_length=j[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=se-1,e.match_available=0,e.ins_h=0}function y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new P.Buf16(2*re),this.dyn_dtree=new P.Buf16(2*(2*ne+1)),this.bl_tree=new P.Buf16(2*(2*ae+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new P.Buf16(oe+1),this.heap=new P.Buf16(2*ie+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new P.Buf16(2*ie+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function O(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Z,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?he:ge,e.adler=2===t.wrap?0:1,t.last_flush=L,D._tr_init(t),k):n(e,V)}function w(e){var t=O(e);return t===k&&b(e.state),t}function x(e,t){return e&&e.state?2!==e.state.wrap?V:(e.state.gzhead=t,k):V}function E(e,t,i,a,r,o){if(!e)return V;var s=1;if(t===W&&(t=6),a<0?(s=0,a=-a):a>15&&(s=2,a-=16),r<1||r>$||i!==K||a<8||a>15||t<0||t>9||o<0||o>Q)return n(e,V);8===a&&(a=9);var c=new y;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=a,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=r+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+se-1)/se),c.window=new P.Buf8(2*c.w_size),c.head=new P.Buf16(c.hash_size),c.prev=new P.Buf16(c.w_size),c.lit_bufsize=1<<r+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new P.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=i,w(e)}function T(e,t){return E(e,t,K,ee,te,J)}function A(e,t){var i,s,u,h;if(!e||!e.state||t>B||t<0)return e?n(e,V):V;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===_e&&t!==z)return n(e,0===e.avail_out?q:V);if(s.strm=e,i=s.last_flush,s.last_flush=t,s.status===he)if(2===s.wrap)e.adler=0,c(s,31),c(s,139),c(s,8),s.gzhead?(c(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),c(s,255&s.gzhead.time),c(s,s.gzhead.time>>8&255),c(s,s.gzhead.time>>16&255),c(s,s.gzhead.time>>24&255),c(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),c(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(c(s,255&s.gzhead.extra.length),c(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=R(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=de):(c(s,0),c(s,0),c(s,0),c(s,0),c(s,0),c(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),c(s,we),s.status=ge);else{var d=K+(s.w_bits-8<<4)<<8,f=-1;f=s.strategy>=Y||s.level<2?0:s.level<6?1:6===s.level?2:3,d|=f<<6,0!==s.strstart&&(d|=ue),d+=31-d%31,s.status=ge,l(s,d),0!==s.strstart&&(l(s,e.adler>>>16),l(s,65535&e.adler)),e.adler=1}if(s.status===de)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(e.adler=R(e.adler,s.pending_buf,s.pending-u,u)),o(e),u=s.pending,s.pending!==s.pending_buf_size));)c(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(e.adler=R(e.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=fe)}else s.status=fe;if(s.status===fe)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=R(e.adler,s.pending_buf,s.pending-u,u)),o(e),u=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,c(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>u&&(e.adler=R(e.adler,s.pending_buf,s.pending-u,u)),0===h&&(s.gzindex=0,s.status=pe)}else s.status=pe;if(s.status===pe)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=R(e.adler,s.pending_buf,s.pending-u,u)),o(e),u=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,c(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>u&&(e.adler=R(e.adler,s.pending_buf,s.pending-u,u)),0===h&&(s.status=me)}else s.status=me;if(s.status===me&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&o(e),s.pending+2<=s.pending_buf_size&&(c(s,255&e.adler),c(s,e.adler>>8&255),e.adler=0,s.status=ge)):s.status=ge),0!==s.pending){if(o(e),0===e.avail_out)return s.last_flush=-1,k}else if(0===e.avail_in&&a(t)<=a(i)&&t!==z)return n(e,q);if(s.status===_e&&0!==e.avail_in)return n(e,q);if(0!==e.avail_in||0!==s.lookahead||t!==L&&s.status!==_e){var p=s.strategy===Y?_(s,t):s.strategy===X?g(s,t):j[s.level].func(s,t);if(p!==ye&&p!==Oe||(s.status=_e),p===ve||p===ye)return 0===e.avail_out&&(s.last_flush=-1),k;if(p===be&&(t===N?D._tr_align(s):t!==B&&(D._tr_stored_block(s,0,0,!1),t===F&&(r(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),o(e),0===e.avail_out))return s.last_flush=-1,k}return t!==z?k:s.wrap<=0?U:(2===s.wrap?(c(s,255&e.adler),c(s,e.adler>>8&255),c(s,e.adler>>16&255),c(s,e.adler>>24&255),c(s,255&e.total_in),c(s,e.total_in>>8&255),c(s,e.total_in>>16&255),c(s,e.total_in>>24&255)):(l(s,e.adler>>>16),l(s,65535&e.adler)),o(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?k:U)}function C(e){var t;return e&&e.state?(t=e.state.status)!==he&&t!==de&&t!==fe&&t!==pe&&t!==me&&t!==ge&&t!==_e?n(e,V):(e.state=null,t===ge?n(e,H):k):V}function S(e,t){var i,n,a,o,s,c,l,u,h=t.length;if(!e||!e.state)return V;if(i=e.state,2===(o=i.wrap)||1===o&&i.status!==he||i.lookahead)return V;for(1===o&&(e.adler=I(e.adler,t,h,0)),i.wrap=0,h>=i.w_size&&(0===o&&(r(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new P.Buf8(i.w_size),P.arraySet(u,t,h-i.w_size,i.w_size,0),t=u,h=i.w_size),s=e.avail_in,c=e.next_in,l=e.input,e.avail_in=h,e.next_in=0,e.input=t,d(i);i.lookahead>=se;){n=i.strstart,a=i.lookahead-(se-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+se-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--a);i.strstart=n,i.lookahead=se-1,d(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=se-1,i.match_available=0,e.next_in=c,e.input=l,e.avail_in=s,i.wrap=o,k}var j,P=i("gt5T"),D=i("ZjIE"),I=i("KpjM"),R=i("2WCG"),M=i("2A+V"),L=0,N=1,F=3,z=4,B=5,k=0,U=1,V=-2,H=-3,q=-5,W=-1,G=1,Y=2,X=3,Q=4,J=0,Z=2,K=8,$=9,ee=15,te=8,ie=286,ne=30,ae=19,re=2*ie+1,oe=15,se=3,ce=258,le=ce+se+1,ue=32,he=42,de=69,fe=73,pe=91,me=103,ge=113,_e=666,ve=1,be=2,ye=3,Oe=4,we=3;j=[new v(0,0,0,0,f),new v(4,4,8,4,p),new v(4,5,16,8,p),new v(4,6,32,32,p),new v(4,4,16,16,m),new v(8,16,32,32,m),new v(8,16,128,128,m),new v(8,32,128,256,m),new v(32,128,258,1024,m),new v(32,258,258,4096,m)],t.deflateInit=T,t.deflateInit2=E,t.deflateReset=w,t.deflateResetKeep=O,t.deflateSetHeader=x,t.deflate=A,t.deflateEnd=C,t.deflateSetDictionary=S,t.deflateInfo="pako deflate (from Nodeca project)"},VQnm:function(e,t,i){"use strict";function n(e,t,i,n,a){this.xPoleWander=e,this.yPoleWander=t,this.xPoleOffset=i,this.yPoleOffset=n,this.ut1MinusUtc=a}t.a=n},"VU/8":function(e,t){e.exports=function(e,t,i,n,a,r){var o,s=e=e||{},c=typeof e.default;"object"!==c&&"function"!==c||(o=e,s=e.default);var l="function"==typeof s?s.options:s;t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId=a);var u;if(r?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=u):n&&(u=n),u){var h=l.functional,d=h?l.render:l.beforeCreate;h?(l._injectStyles=u,l.render=function(e,t){return u.call(t),d(e,t)}):l.beforeCreate=d?[].concat(d,u):[u]}return{esModule:o,exports:s,options:l}}},VUWD:function(e,t,i){"use strict";t.a="attribute vec4 currentPosition;\nattribute vec4 previousPosition;\nattribute vec4 nextPosition;\nattribute vec2 expandAndWidth;\nattribute float a_batchId;\n\nuniform mat4 u_modifiedModelView;\n\nvoid main()\n{\n    float expandDir = expandAndWidth.x;\n    float width = abs(expandAndWidth.y) + 0.5;\n    bool usePrev = expandAndWidth.y < 0.0;\n\n    vec4 p = u_modifiedModelView * currentPosition;\n    vec4 prev = u_modifiedModelView * previousPosition;\n    vec4 next = u_modifiedModelView * nextPosition;\n\n    float angle;\n    vec4 positionWC = getPolylineWindowCoordinatesEC(p, prev, next, expandDir, width, usePrev, angle);\n    gl_Position = czm_viewportOrthographic * positionWC;\n\n#ifdef LOG_DEPTH\n    czm_vertexLogDepth(czm_projection * p);\n#endif\n}\n"},VWvt:function(e,t,i){"use strict";function n(e,t){o.a.defined("container",e),o.a.typeOf.object("scene",t),e=Object(h.a)(e);var i=document.createElement("div"),n=document.createElement("div");n.setAttribute("data-bind","visible: performance");var s=new f.a(t,n);this._viewModel=s,this._container=e,this._element=i;var c=document.createElement("div");c.textContent="3D Tiles Inspector",c.className="cesium-cesiumInspector-button",c.setAttribute("data-bind","click: toggleInspector"),i.appendChild(c),i.className="cesium-cesiumInspector cesium-3DTilesInspector",i.setAttribute("data-bind",'css: { "cesium-cesiumInspector-visible" : inspectorVisible, "cesium-cesiumInspector-hidden" : !inspectorVisible}'),e.appendChild(i);var l=document.createElement("div");this._panel=l,l.className="cesium-cesiumInspector-dropDown",i.appendChild(l);var p=d.a.createSection,m=d.a.createCheckbox,g=p(l,"Tileset","tilesetVisible","toggleTileset"),_=p(l,"Display","displayVisible","toggleDisplay"),v=p(l,"Update","updateVisible","toggleUpdate"),b=p(l,"Logging","loggingVisible","toggleLogging"),y=p(l,"Tile Debug Labels","tileDebugLabelsVisible","toggleTileDebugLabels"),O=p(l,"Style","styleVisible","toggleStyle"),w=p(l,"Optimization","optimizationVisible","toggleOptimization"),x=document.createElement("div");x.className="field-group";var E=document.createElement("label");E.className="field-label",E.appendChild(document.createTextNode("Properties: "));var T=document.createElement("div");T.setAttribute("data-bind","text: properties"),x.appendChild(E),x.appendChild(T),g.appendChild(x),g.appendChild(r("togglePickTileset","Pick Tileset","pickActive")),g.appendChild(r("trimTilesCache","Trim Tiles Cache")),g.appendChild(m("Enable Picking","picking")),_.appendChild(m("Colorize","colorize")),_.appendChild(m("Wireframe","wireframe")),_.appendChild(m("Bounding Volumes","showBoundingVolumes")),_.appendChild(m("Content Volumes","showContentBoundingVolumes")),_.appendChild(m("Request Volumes","showRequestVolumes")),_.appendChild(m("Point Cloud Shading","pointCloudShading"));var A=document.createElement("div");A.setAttribute("data-bind","visible: pointCloudShading"),A.appendChild(a("geometricErrorScale",0,2,.01,"Geometric Error Scale")),A.appendChild(a("maximumAttenuation",0,32,1,"Maximum Attenuation")),A.appendChild(a("baseResolution",0,1,.01,"Base Resolution")),A.appendChild(m("Eye Dome Lighting (EDL)","eyeDomeLighting")),_.appendChild(A);var C=document.createElement("div");C.setAttribute("data-bind","visible: eyeDomeLighting"),C.appendChild(a("eyeDomeLightingStrength",0,2,.1,"EDL Strength")),C.appendChild(a("eyeDomeLightingRadius",0,4,.1,"EDL Radius")),A.appendChild(C),v.appendChild(m("Freeze Frame","freezeFrame")),v.appendChild(m("Dynamic Screen Space Error","dynamicScreenSpaceError"));var S=document.createElement("div");S.appendChild(a("maximumScreenSpaceError",0,128,1,"Maximum Screen Space Error")),v.appendChild(S);var j=document.createElement("div");j.setAttribute("data-bind","visible: dynamicScreenSpaceError"),j.appendChild(a("dynamicScreenSpaceErrorDensitySliderValue",0,1,.005,"Screen Space Error Density","dynamicScreenSpaceErrorDensity")),j.appendChild(a("dynamicScreenSpaceErrorFactor",1,10,.1,"Screen Space Error Factor")),v.appendChild(j),b.appendChild(m("Performance","performance")),b.appendChild(n),b.appendChild(m("Statistics","showStatistics"));var P=document.createElement("div");P.className="cesium-3dTilesInspector-statistics",P.setAttribute("data-bind","html: statisticsText, visible: showStatistics"),b.appendChild(P),b.appendChild(m("Pick Statistics","showPickStatistics"));var D=document.createElement("div");D.className="cesium-3dTilesInspector-statistics",D.setAttribute("data-bind","html: pickStatisticsText, visible: showPickStatistics"),b.appendChild(D);var I=document.createElement("div");O.appendChild(I),I.appendChild(document.createTextNode("Color Blend Mode: "));var R=document.createElement("select");R.setAttribute("data-bind",'options: colorBlendModes, optionsText: "text", optionsValue: "value", value: colorBlendMode'),I.appendChild(R);var M=document.createElement("textarea");M.setAttribute("data-bind","textInput: styleString, event: { keydown: styleEditorKeyPress }"),I.className="cesium-cesiumInspector-styleEditor",I.appendChild(M);var L=r("compileStyle","Compile (Ctrl+Enter)");I.appendChild(L);var N=document.createElement("div");N.className="cesium-cesiumInspector-error",N.setAttribute("data-bind","text: editorError"),I.appendChild(N),y.appendChild(m("Show Picked Only","showOnlyPickedTileDebugLabel")),y.appendChild(m("Geometric Error","showGeometricError")),y.appendChild(m("Rendering Statistics","showRenderingStatistics")),y.appendChild(m("Memory Usage (MB)","showMemoryUsage")),y.appendChild(m("Url","showUrl")),w.appendChild(m("Skip Tile LODs","skipLevelOfDetail"));var F=document.createElement("div");F.appendChild(a("skipScreenSpaceErrorFactor",1,50,1,"Skip SSE Factor")),w.appendChild(F);var z=document.createElement("div");z.appendChild(a("baseScreenSpaceError",0,4096,1,"SSE before skipping LOD")),w.appendChild(z);var B=document.createElement("div");B.appendChild(a("skipLevels",0,10,1,"Min. levels to skip")),w.appendChild(B),w.appendChild(m("Load only tiles that meet the max SSE.","immediatelyLoadDesiredLevelOfDetail")),w.appendChild(m("Load siblings of visible tiles","loadSiblings")),u.a.applyBindings(s,i)}function a(e,t,i,n,a,r){r=Object(s.a)(r,e);var o=document.createElement("input");o.setAttribute("data-bind","value: "+r),o.type="number";var c=document.createElement("input");c.type="range",c.min=t,c.max=i,c.step=n,c.setAttribute("data-bind",'valueUpdate: "input", value: '+e);var l=document.createElement("div");l.appendChild(c);var u=document.createElement("div");return u.className="cesium-cesiumInspector-slider",u.appendChild(document.createTextNode(a)),u.appendChild(o),u.appendChild(l),u}function r(e,t,i){var n=document.createElement("button");n.type="button",n.textContent=t,n.className="cesium-cesiumInspector-pickButton";var a="click: "+e;return Object(c.a)(i)&&(a+=', css: {"cesium-cesiumInspector-pickButtonHighlight" : '+i+"}"),n.setAttribute("data-bind",a),n}var o=i("5F4X"),s=i("5A4e"),c=i("xC6Q"),l=i("6sr8"),u=i("PKIF"),h=i("k6tp"),d=i("bhTA"),f=i("ZwHA");Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return u.a.cleanNode(this._element),this._container.removeChild(this._element),this.viewModel.destroy(),Object(l.a)(this)},t.a=n},VdXv:function(e,t,i){"use strict";function n(e,t,i){if(!Object(O.a)(e))throw new x.a("context is required");if(!Object(O.a)(t))throw new x.a("attributes is required");if(!Object(O.a)(i))throw new x.a("numberOfInstances is required");if(this._attributes=t,this._numberOfInstances=i,0!==t.length){var n=a(t),r=e.floatingPointTexture,c=n===A.a.FLOAT&&!r,l=o(t,c),u=s(l,t,c),h=Math.floor(T.a.maximumTextureSize/u),d=Math.min(i,h),f=u*d,p=Math.ceil(i/d),m=1/f,_=.5*m,b=1/p,y=.5*b;this._textureDimensions=new g.a(f,p),this._textureStep=new v.a(m,_,b,y),this._pixelDatatype=c?A.a.UNSIGNED_BYTE:n,this._packFloats=c,this._offsets=l,this._stride=u,this._texture=void 0;var w=4*f*p;this._batchValues=n!==A.a.FLOAT||c?new Uint8Array(w):new Float32Array(w),this._batchValuesDirty=!1}}function a(e){for(var t=!1,i=e.length,n=0;n<i;++n)if(e[n].componentDatatype!==y.a.UNSIGNED_BYTE){t=!0;break}return t?A.a.FLOAT:A.a.UNSIGNED_BYTE}function r(e,t){var i=e[t].componentsPerAttribute;return 2===i?g.a:3===i?_.a:4===i?v.a:Number}function o(e,t){for(var i=new Array(e.length),n=0,a=e.length,r=0;r<a;++r){var o=e[r],s=o.componentDatatype;i[r]=n,s!==y.a.UNSIGNED_BYTE&&t?n+=4:++n}return i}function s(e,t,i){var n=e.length,a=e[n-1];return t[n-1].componentDatatype!==y.a.UNSIGNED_BYTE&&i?a+4:a+1}function c(e,t,i){var n=v.a.unpack(e,t,D),a=v.a.unpackFloat(n);n=v.a.unpack(e,t+4,D);var r=v.a.unpackFloat(n);n=v.a.unpack(e,t+8,D);var o=v.a.unpackFloat(n);n=v.a.unpack(e,t+12,D);var s=v.a.unpackFloat(n);return v.a.fromElements(a,r,o,s,i)}function l(e,t,i){var n=v.a.packFloat(e.x,D);v.a.pack(n,t,i),n=v.a.packFloat(e.y,n),v.a.pack(n,t,i+4),n=v.a.packFloat(e.z,n),v.a.pack(n,t,i+8),n=v.a.packFloat(e.w,n),v.a.pack(n,t,i+12)}function u(e,t){var i=e._textureDimensions;e._texture=new S.a({context:t,pixelFormat:E.a.RGBA,pixelDatatype:e._pixelDatatype,width:i.x,height:i.y,sampler:new C.a({minificationFilter:P.a.NEAREST,magnificationFilter:j.a.NEAREST}),flipY:!1})}function h(e){var t=e._textureDimensions;e._texture.copyFrom({width:t.x,height:t.y,arrayBufferView:e._batchValues})}function d(e){var t=e._stride;return 1===e._textureDimensions.y?"uniform vec4 batchTextureStep; \nvec2 computeSt(float batchId) \n{ \n    float stepX = batchTextureStep.x; \n    float centerX = batchTextureStep.y; \n    float numberOfAttributes = float("+t+"); \n    return vec2(centerX + (batchId * numberOfAttributes * stepX), 0.5); \n} \n":"uniform vec4 batchTextureStep; \nuniform vec2 batchTextureDimensions; \nvec2 computeSt(float batchId) \n{ \n    float stepX = batchTextureStep.x; \n    float centerX = batchTextureStep.y; \n    float stepY = batchTextureStep.z; \n    float centerY = batchTextureStep.w; \n    float numberOfAttributes = float("+t+"); \n    float xId = mod(batchId * numberOfAttributes, batchTextureDimensions.x); \n    float yId = floor(batchId * numberOfAttributes / batchTextureDimensions.x); \n    return vec2(centerX + (xId * stepX), centerY + (yId * stepY)); \n} \n"}function f(e){return 1===e?"float":"vec"+e}function p(e){return 1===e?".x":2===e?".xy":3===e?".xyz":""}function m(e,t){var i=e._attributes,n=i[t],a=n.componentsPerAttribute,r=n.functionName,o=f(a),s=p(a),c=e._offsets[t],l=o+" "+r+"(float batchId) \n{ \n    vec2 st = computeSt(batchId); \n    st.x += batchTextureStep.x * float("+c+"); \n";return e._packFloats&&n.componentDatatype!==A.a.UNSIGNED_BYTE?l+="vec4 textureValue; \ntextureValue.x = czm_unpackFloat(texture2D(batchTexture, st)); \ntextureValue.y = czm_unpackFloat(texture2D(batchTexture, st + vec2(batchTextureStep.x, 0.0))); \ntextureValue.z = czm_unpackFloat(texture2D(batchTexture, st + vec2(batchTextureStep.x * 2.0, 0.0))); \ntextureValue.w = czm_unpackFloat(texture2D(batchTexture, st + vec2(batchTextureStep.x * 3.0, 0.0))); \n":l+="    vec4 textureValue = texture2D(batchTexture, st); \n",l+="    "+o+" value = textureValue"+s+"; \n",e._pixelDatatype!==A.a.UNSIGNED_BYTE||n.componentDatatype!==y.a.UNSIGNED_BYTE||n.normalize?e._pixelDatatype===A.a.FLOAT&&n.componentDatatype===y.a.UNSIGNED_BYTE&&n.normalize&&(l+="value /= 255.0; \n"):l+="value *= 255.0; \n",l+="    return value; \n} \n"}var g=i("Ss9j"),_=i("Jj+J"),v=i("PDkd"),b=i("ZboF"),y=i("YCZg"),O=i("xC6Q"),w=i("6sr8"),x=i("PzDm"),E=i("FhYh"),T=i("J1no"),A=i("HvCH"),C=i("l0BX"),S=i("25X5"),j=i("YKq0"),P=i("z2iY");Object.defineProperties(n.prototype,{attributes:{get:function(){return this._attributes}},numberOfInstances:{get:function(){return this._numberOfInstances}}});var D=new v.a,I=new v.a;n.prototype.getBatchedAttribute=function(e,t,i){if(e<0||e>=this._numberOfInstances)throw new x.a("instanceIndex is out of range.");if(t<0||t>=this._attributes.length)throw new x.a("attributeIndex is out of range");var n,a=this._attributes,o=this._offsets[t],s=this._stride,l=4*s*e+4*o;n=this._packFloats&&a[t].componentDatatype!==A.a.UNSIGNED_BYTE?c(this._batchValues,l,I):v.a.unpack(this._batchValues,l,I);var u=r(a,t);return Object(O.a)(u.fromCartesian4)?u.fromCartesian4(n,i):Object(O.a)(u.clone)?u.clone(n,i):n.x};var R=[void 0,void 0,new g.a,new _.a,new v.a],M=new v.a;n.prototype.setBatchedAttribute=function(e,t,i){if(e<0||e>=this._numberOfInstances)throw new x.a("instanceIndex is out of range.");if(t<0||t>=this._attributes.length)throw new x.a("attributeIndex is out of range");if(!Object(O.a)(i))throw new x.a("value is required.");var n=this._attributes,a=R[n[t].componentsPerAttribute],o=this.getBatchedAttribute(e,t,a),s=r(this._attributes,t);if(!(Object(O.a)(s.equals)?s.equals(o,i):o===i)){var c=M;c.x=Object(O.a)(i.x)?i.x:i,c.y=Object(O.a)(i.y)?i.y:0,c.z=Object(O.a)(i.z)?i.z:0,c.w=Object(O.a)(i.w)?i.w:0;var u=this._offsets[t],h=this._stride,d=4*h*e+4*u;this._packFloats&&n[t].componentDatatype!==A.a.UNSIGNED_BYTE?l(c,this._batchValues,d):v.a.pack(c,this._batchValues,d),this._batchValuesDirty=!0}},n.prototype.update=function(e){Object(O.a)(this._texture)&&!this._batchValuesDirty||0===this._attributes.length||(this._batchValuesDirty=!1,Object(O.a)(this._texture)||u(this,e.context),h(this))},n.prototype.getUniformMapCallback=function(){var e=this;return function(t){if(0===e._attributes.length)return t;var i={batchTexture:function(){return e._texture},batchTextureDimensions:function(){return e._textureDimensions},batchTextureStep:function(){return e._textureStep}};return Object(b.a)(t,i)}},n.prototype.getVertexShaderCallback=function(){var e=this._attributes;if(0===e.length)return function(e){return e};var t="uniform sampler2D batchTexture; \n";t+=d(this)+"\n";for(var i=e.length,n=0;n<i;++n)t+=m(this,n);return function(e){var i=e.indexOf("void main"),n=e.substring(0,i),a=e.substring(i);return n+"\n"+t+"\n"+a}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._texture=this._texture&&this._texture.destroy(),Object(w.a)(this)},t.a=n},VhtT:function(e,t,i){"use strict";function n(e){this._referenceFrame=Object(a.a)(e,c.a.FIXED),this._definitionChanged=new s.a,this._composite=new l.a,this._composite.definitionChanged.addEventListener(n.prototype._raiseDefinitionChanged,this)}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("IDfv"),l=i("sVWN"),u=i("uhjI");Object.defineProperties(n.prototype,{isConstant:{get:function(){return this._composite.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._composite.intervals}},referenceFrame:{get:function(){return this._referenceFrame},set:function(e){this._referenceFrame=e}}}),n.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,c.a.FIXED,t)},n.prototype.getValueInReferenceFrame=function(e,t,i){if(!Object(r.a)(e))throw new o.a("time is required.");if(!Object(r.a)(t))throw new o.a("referenceFrame is required.");var n=this._composite._intervals.findDataForIntervalContainingDate(e);if(Object(r.a)(n))return n.getValueInReferenceFrame(e,t,i)},n.prototype.equals=function(e){return this===e||e instanceof n&&this._referenceFrame===e._referenceFrame&&this._composite.equals(e._composite,u.a.equals)},n.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)},t.a=n},VjSM:function(e,t,i){"use strict";t.a="#ifdef LOG_DEPTH\n// 1.0 at the near plane, increasing linearly from there.\nvarying float v_depthFromNearPlusOne;\n#ifdef SHADOW_MAP\nvarying vec3 v_logPositionEC;\n#endif\n#endif\n\nvec4 czm_updatePositionDepth(vec4 coords) {\n#if defined(LOG_DEPTH)\n\n#ifdef SHADOW_MAP\n    vec3 logPositionEC = (czm_inverseProjection * coords).xyz;\n    v_logPositionEC = logPositionEC;\n#endif\n\n    // With the very high far/near ratios used with the logarithmic depth\n    // buffer, floating point rounding errors can cause linear depth values\n    // to end up on the wrong side of the far plane, even for vertices that\n    // are really nowhere near it. Since we always write a correct logarithmic\n    // depth value in the fragment shader anyway, we just need to make sure\n    // such errors don't cause the primitive to be clipped entirely before\n    // we even get to the fragment shader.\n    coords.z = clamp(coords.z / coords.w, -1.0, 1.0) * coords.w;\n#endif\n\n    return coords;\n}\n\n/**\n * Writes the logarithmic depth to gl_Position using the already computed gl_Position.\n *\n * @name czm_vertexLogDepth\n * @glslFunction\n */\nvoid czm_vertexLogDepth()\n{\n#ifdef LOG_DEPTH\n    v_depthFromNearPlusOne = 1.0 - czm_currentFrustum.x + gl_Position.w;\n    gl_Position = czm_updatePositionDepth(gl_Position);\n#endif\n}\n\n/**\n * Writes the logarithmic depth to gl_Position using the provided clip coordinates.\n * <p>\n * An example use case for this function would be moving the vertex in window coordinates\n * before converting back to clip coordinates. Use the original vertex clip coordinates.\n * </p>\n * @name czm_vertexLogDepth\n * @glslFunction\n *\n * @param {vec4} clipCoords The vertex in clip coordinates.\n *\n * @example\n * czm_vertexLogDepth(czm_projection * vec4(positionEyeCoordinates, 1.0));\n */\nvoid czm_vertexLogDepth(vec4 clipCoords)\n{\n#ifdef LOG_DEPTH\n    v_depthFromNearPlusOne = 1.0 - czm_currentFrustum.x + clipCoords.w;\n    czm_updatePositionDepth(clipCoords);\n#endif\n}\n"},VpTN:function(e,t,i){"use strict";function n(e,t){for(var i=new Array(e.length),n=0;n<e.length;n++){var a=e[n];N=t.cartesianToCartographic(a,N),i[n]=N.height,e[n]=t.scaleToGeodeticSurface(a,a)}return i}function a(e,t,i,n){var a,r=e[0],o=e[1],s=d.a.angleBetween(r,o),c=Math.ceil(s/n),l=new Array(c);if(t===i){for(a=0;a<c;a++)l[a]=t;return l.push(i),l}var u=i-t,h=u/c;for(a=1;a<c;a++){var f=t+a*h;l[a]=f}return l[0]=t,l.push(i),l}function r(e,t,i,n){var a=new g.a(i,n),r=a.projectPointOntoPlane(d.a.add(i,e,F),F),o=a.projectPointOntoPlane(d.a.add(i,t,z),z),s=h.a.angleBetween(r,o);return o.x*r.y-o.y*r.x>=0?-s:s}function o(e,t,i,n,a,o,s,c){var l=q,u=W;k=w.a.eastNorthUpToFixedFrame(e,a,k),l=b.a.multiplyByPointAsVector(k,B,l),l=d.a.normalize(l,l);var h=r(l,t,e,a);V=v.a.fromRotationZ(h,V),G.z=o,k=b.a.multiplyTransformation(k,b.a.fromRotationTranslation(V,G,U),k);var f=H;f[0]=s;for(var p=0;p<c;p++)for(var m=0;m<i.length;m+=3)u=d.a.fromArray(i,m,u),u=v.a.multiplyByVector(f,u,u),u=b.a.multiplyByPoint(k,u,u),n.push(u.x,u.y,u.z);return n}function s(e,t,i,n,a,r,s){for(var c=0;c<e.length;c+=3){n=o(d.a.fromArray(e,c,Y),t,i,n,a,r[c/3],s,1)}return n}function c(e,t){var i=e.length,n=new Array(6*i),a=0,r=t.x+t.width/2,o=t.y+t.height/2,s=e[0];n[a++]=s.x-r,n[a++]=0,n[a++]=s.y-o;for(var c=1;c<i;c++){s=e[c];var l=s.x-r,u=s.y-o;n[a++]=l,n[a++]=0,n[a++]=u,n[a++]=l,n[a++]=0,n[a++]=u}return s=e[0],n[a++]=s.x-r,n[a++]=0,n[a++]=s.y-o,n}function l(e,t){for(var i=e.length,n=new Array(3*i),a=0,r=t.x+t.width/2,o=t.y+t.height/2,s=0;s<i;s++)n[a++]=e[s].x-r,n[a++]=0,n[a++]=e[s].y-o;return n}function u(e,t,i,n,a,r,s,c,l,u){var h,f=d.a.angleBetween(d.a.subtract(t,e,R),d.a.subtract(i,e,M)),p=n===m.a.BEVELED?0:Math.ceil(f/_.a.toRadians(5));h=a?v.a.fromQuaternion(O.a.fromAxisAngle(d.a.negate(e,R),f/(p+1),X),J):v.a.fromQuaternion(O.a.fromAxisAngle(e,f/(p+1),X),J);var g,b;if(t=d.a.clone(t,Q),p>0)for(var y=u?2:1,w=0;w<p;w++)t=v.a.multiplyByVector(h,t,t),g=d.a.subtract(t,e,R),g=d.a.normalize(g,g),a||(g=d.a.negate(g,g)),b=r.scaleToGeodeticSurface(t,M),s=o(b,g,c,s,r,l,1,y);else g=d.a.subtract(t,e,R),g=d.a.normalize(g,g),a||(g=d.a.negate(g,g)),b=r.scaleToGeodeticSurface(t,M),s=o(b,g,c,s,r,l,1,1),i=d.a.clone(i,Q),g=d.a.subtract(i,e,R),g=d.a.normalize(g,g),a||(g=d.a.negate(g,g)),b=r.scaleToGeodeticSurface(i,M),s=o(b,g,c,s,r,l,1,1);return s}var h=i("Ss9j"),d=i("Jj+J"),f=i("PDkd"),p=i("I3GD"),m=i("sEJp"),g=i("GmON"),_=i("fq+p"),v=i("i3sv"),b=i("Xjii"),y=i("QhJM"),O=i("q/xW"),w=i("g/FO"),x=[new d.a,new d.a],E=new d.a,T=new d.a,A=new d.a,C=new d.a,S=new d.a,j=new d.a,P=new d.a,D=new d.a,I=new d.a,R=new d.a,M=new d.a,L={},N=new p.a,F=new d.a,z=new d.a,B=new d.a(-1,0,0),k=new b.a,U=new b.a,V=new v.a,H=v.a.IDENTITY.clone(),q=new d.a,W=new f.a,G=new d.a,Y=new d.a,X=new O.a,Q=new d.a,J=new v.a;L.removeDuplicatesFromShape=function(e){for(var t=e.length,i=[],n=t-1,a=0;a<t;n=a++){var r=e[n],o=e[a];h.a.equals(r,o)||i.push(o)}return i},L.angleIsGreaterThanPi=function(e,t,i,n){var a=new g.a(i,n),r=a.projectPointOntoPlane(d.a.add(i,e,F),F),o=a.projectPointOntoPlane(d.a.add(i,t,z),z);return o.x*r.y-o.y*r.x>=0};var Z=new d.a,K=new d.a;L.computePositions=function(e,t,i,r,h){var f=r._ellipsoid,p=n(e,f),g=r._granularity,v=r._cornerType,b=h?c(t,i):l(t,i),O=h?l(t,i):void 0,w=i.height/2,M=i.width/2,N=e.length,F=[],z=h?[]:void 0,B=E,k=T,U=A,V=C,H=S,q=j,W=P,G=D,Y=I,X=e[0],Q=e[1];V=f.geodeticSurfaceNormal(X,V),B=d.a.subtract(Q,X,B),B=d.a.normalize(B,B),G=d.a.cross(V,B,G),G=d.a.normalize(G,G);var J=p[0],$=p[1];h&&(z=o(X,G,O,z,f,J+w,1,1)),Y=d.a.clone(X,Y),X=Q,k=d.a.negate(B,k);for(var ee,te,ie=1;ie<N-1;ie++){var ne=h?2:1;Q=e[ie+1],B=d.a.subtract(Q,X,B),B=d.a.normalize(B,B),U=d.a.add(B,k,U),U=d.a.normalize(U,U),V=f.geodeticSurfaceNormal(X,V);var ae=d.a.multiplyByScalar(V,d.a.dot(B,V),Z);d.a.subtract(B,ae,ae),d.a.normalize(ae,ae);var re=d.a.multiplyByScalar(V,d.a.dot(k,V),K);d.a.subtract(k,re,re),d.a.normalize(re,re);if(!_.a.equalsEpsilon(Math.abs(d.a.dot(ae,re)),1,_.a.EPSILON7)){U=d.a.cross(U,V,U),U=d.a.cross(V,U,U),U=d.a.normalize(U,U);var oe=1/Math.max(.25,d.a.magnitude(d.a.cross(U,k,R))),se=L.angleIsGreaterThanPi(B,k,X,f);se?(H=d.a.add(X,d.a.multiplyByScalar(U,oe*M,U),H),q=d.a.add(H,d.a.multiplyByScalar(G,M,q),q),x[0]=d.a.clone(Y,x[0]),x[1]=d.a.clone(q,x[1]),ee=a(x,J+w,$+w,g),te=y.a.generateArc({positions:x,granularity:g,ellipsoid:f}),F=s(te,G,b,F,f,ee,1),G=d.a.cross(V,B,G),G=d.a.normalize(G,G),W=d.a.add(H,d.a.multiplyByScalar(G,M,W),W),v===m.a.ROUNDED||v===m.a.BEVELED?u(H,q,W,v,se,f,F,b,$+w,h):(U=d.a.negate(U,U),F=o(X,U,b,F,f,$+w,oe,ne)),Y=d.a.clone(W,Y)):(H=d.a.add(X,d.a.multiplyByScalar(U,oe*M,U),H),q=d.a.add(H,d.a.multiplyByScalar(G,-M,q),q),x[0]=d.a.clone(Y,x[0]),x[1]=d.a.clone(q,x[1]),ee=a(x,J+w,$+w,g),te=y.a.generateArc({positions:x,granularity:g,ellipsoid:f}),F=s(te,G,b,F,f,ee,1),G=d.a.cross(V,B,G),G=d.a.normalize(G,G),W=d.a.add(H,d.a.multiplyByScalar(G,-M,W),W),v===m.a.ROUNDED||v===m.a.BEVELED?u(H,q,W,v,se,f,F,b,$+w,h):F=o(X,U,b,F,f,$+w,oe,ne),Y=d.a.clone(W,Y)),k=d.a.negate(B,k)}else F=o(Y,G,b,F,f,J+w,1,1),Y=X;J=$,$=p[ie+1],X=Q}x[0]=d.a.clone(Y,x[0]),x[1]=d.a.clone(X,x[1]),ee=a(x,J+w,$+w,g),te=y.a.generateArc({positions:x,granularity:g,ellipsoid:f}),F=s(te,G,b,F,f,ee,1),h&&(z=o(X,G,O,z,f,$+w,1,1)),N=F.length;var ce=h?N+z.length:N,le=new Float64Array(ce);return le.set(F),h&&le.set(z,N),le},t.a=L},VvLh:function(e,t,i){"use strict";function n(e){function t(e,t,n,a){var r=t.arrayBufferView;Object(o.a)(r)||(r=t.bufferView);var s=4;Object(o.a)(r)&&(s=u.a.alignmentInBytes(v,b,i)),x.pixelStorei(x.UNPACK_ALIGNMENT,s),Object(o.a)(r)?(x.pixelStorei(x.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,!1),a&&(r=u.a.flipY(r,v,b,_,_)),x.texImage2D(e,0,v,_,_,0,v,b,r)):(x.pixelStorei(x.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n),x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,a),x.texImage2D(e,0,v,v,b,t))}e=Object(r.a)(e,r.a.EMPTY_OBJECT),a.a.defined("options.context",e.context);var i,n,s=e.context,l=e.source;if(Object(o.a)(l)){var f=[l.positiveX,l.negativeX,l.positiveY,l.negativeY,l.positiveZ,l.negativeZ];if(!(f[0]&&f[1]&&f[2]&&f[3]&&f[4]&&f[5]))throw new c.a("options.source requires positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ faces.");i=f[0].width,n=f[0].height;for(var g=1;g<6;++g)if(Number(f[g].width)!==i||Number(f[g].height)!==n)throw new c.a("Each face in options.source must have the same width and height.")}else i=e.width,n=e.height;var _=i,v=Object(r.a)(e.pixelFormat,u.a.RGBA),b=Object(r.a)(e.pixelDatatype,p.a.UNSIGNED_BYTE);if(!Object(o.a)(i)||!Object(o.a)(n))throw new c.a("options requires a source field to create an initialized cube map or width and height fields to create a blank cube map.");if(i!==n)throw new c.a("Width must equal height.");if(_<=0)throw new c.a("Width and height must be greater than zero.");if(_>h.a.maximumCubeMapSize)throw new c.a("Width and height must be less than or equal to the maximum cube map size ("+h.a.maximumCubeMapSize+").  Check maximumCubeMapSize.");if(!u.a.validate(v))throw new c.a("Invalid options.pixelFormat.");if(u.a.isDepthFormat(v))throw new c.a("options.pixelFormat cannot be DEPTH_COMPONENT or DEPTH_STENCIL.");if(!p.a.validate(b))throw new c.a("Invalid options.pixelDatatype.");if(b===p.a.FLOAT&&!s.floatingPointTexture)throw new c.a("When options.pixelDatatype is FLOAT, this WebGL implementation must support the OES_texture_float extension.");if(b===p.a.HALF_FLOAT&&!s.halfFloatingPointTexture)throw new c.a("When options.pixelDatatype is HALF_FLOAT, this WebGL implementation must support the OES_texture_half_float extension.");var y=6*u.a.textureSizeInBytes(v,b,_,_),O=e.preMultiplyAlpha||v===u.a.RGB||v===u.a.LUMINANCE,w=Object(r.a)(e.flipY,!0),x=s._gl,E=x.TEXTURE_CUBE_MAP,T=x.createTexture();x.activeTexture(x.TEXTURE0),x.bindTexture(E,T),Object(o.a)(l)?(t(x.TEXTURE_CUBE_MAP_POSITIVE_X,l.positiveX,O,w),t(x.TEXTURE_CUBE_MAP_NEGATIVE_X,l.negativeX,O,w),t(x.TEXTURE_CUBE_MAP_POSITIVE_Y,l.positiveY,O,w),t(x.TEXTURE_CUBE_MAP_NEGATIVE_Y,l.negativeY,O,w),t(x.TEXTURE_CUBE_MAP_POSITIVE_Z,l.positiveZ,O,w),t(x.TEXTURE_CUBE_MAP_NEGATIVE_Z,l.negativeZ,O,w)):(x.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X,0,v,_,_,0,v,b,null),x.texImage2D(x.TEXTURE_CUBE_MAP_NEGATIVE_X,0,v,_,_,0,v,b,null),x.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_Y,0,v,_,_,0,v,b,null),x.texImage2D(x.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,v,_,_,0,v,b,null),x.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_Z,0,v,_,_,0,v,b,null),x.texImage2D(x.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,v,_,_,0,v,b,null)),x.bindTexture(E,null),this._context=s,this._textureFilterAnisotropic=s._textureFilterAnisotropic,this._textureTarget=E,this._texture=T,this._pixelFormat=v,this._pixelDatatype=b,this._size=_,this._hasMipmap=!1,this._sizeInBytes=y,this._preMultiplyAlpha=O,this._flipY=w,this._sampler=void 0;var A=Object(o.a)(l);this._positiveX=new d.a(x,T,E,x.TEXTURE_CUBE_MAP_POSITIVE_X,v,b,_,O,w,A),this._negativeX=new d.a(x,T,E,x.TEXTURE_CUBE_MAP_NEGATIVE_X,v,b,_,O,w,A),this._positiveY=new d.a(x,T,E,x.TEXTURE_CUBE_MAP_POSITIVE_Y,v,b,_,O,w,A),this._negativeY=new d.a(x,T,E,x.TEXTURE_CUBE_MAP_NEGATIVE_Y,v,b,_,O,w,A),this._positiveZ=new d.a(x,T,E,x.TEXTURE_CUBE_MAP_POSITIVE_Z,v,b,_,O,w,A),this._negativeZ=new d.a(x,T,E,x.TEXTURE_CUBE_MAP_NEGATIVE_Z,v,b,_,O,w,A),this.sampler=Object(o.a)(e.sampler)?e.sampler:new m.a}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("6sr8"),c=i("PzDm"),l=i("fq+p"),u=i("FhYh"),h=i("J1no"),d=i("jzj/"),f=i("T7Or"),p=i("HvCH"),m=i("l0BX"),g=i("YKq0"),_=i("z2iY");Object.defineProperties(n.prototype,{positiveX:{get:function(){return this._positiveX}},negativeX:{get:function(){return this._negativeX}},positiveY:{get:function(){return this._positiveY}},negativeY:{get:function(){return this._negativeY}},positiveZ:{get:function(){return this._positiveZ}},negativeZ:{get:function(){return this._negativeZ}},sampler:{get:function(){return this._sampler},set:function(e){var t=e.minificationFilter,i=e.magnificationFilter,n=t===_.a.NEAREST_MIPMAP_NEAREST||t===_.a.NEAREST_MIPMAP_LINEAR||t===_.a.LINEAR_MIPMAP_NEAREST||t===_.a.LINEAR_MIPMAP_LINEAR,a=this._context,r=this._pixelDatatype;(r===p.a.FLOAT&&!a.textureFloatLinear||r===p.a.HALF_FLOAT&&!a.textureHalfFloatLinear)&&(t=n?_.a.NEAREST_MIPMAP_NEAREST:_.a.NEAREST,i=g.a.NEAREST);var s=a._gl,c=this._textureTarget;s.activeTexture(s.TEXTURE0),s.bindTexture(c,this._texture),s.texParameteri(c,s.TEXTURE_MIN_FILTER,t),s.texParameteri(c,s.TEXTURE_MAG_FILTER,i),s.texParameteri(c,s.TEXTURE_WRAP_S,e.wrapS),s.texParameteri(c,s.TEXTURE_WRAP_T,e.wrapT),Object(o.a)(this._textureFilterAnisotropic)&&s.texParameteri(c,this._textureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.maximumAnisotropy),s.bindTexture(c,null),this._sampler=e}},pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},width:{get:function(){return this._size}},height:{get:function(){return this._size}},sizeInBytes:{get:function(){return this._hasMipmap?Math.floor(4*this._sizeInBytes/3):this._sizeInBytes}},preMultiplyAlpha:{get:function(){return this._preMultiplyAlpha}},flipY:{get:function(){return this._flipY}},_target:{get:function(){return this._textureTarget}}}),n.prototype.generateMipmap=function(e){if(e=Object(r.a)(e,f.a.DONT_CARE),this._size>1&&!l.a.isPowerOfTwo(this._size))throw new c.a("width and height must be a power of two to call generateMipmap().");if(!f.a.validate(e))throw new c.a("hint is invalid.");this._hasMipmap=!0;var t=this._context._gl,i=this._textureTarget;t.hint(t.GENERATE_MIPMAP_HINT,e),t.activeTexture(t.TEXTURE0),t.bindTexture(i,this._texture),t.generateMipmap(i),t.bindTexture(i,null)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._context._gl.deleteTexture(this._texture),this._positiveX=Object(s.a)(this._positiveX),this._negativeX=Object(s.a)(this._negativeX),this._positiveY=Object(s.a)(this._positiveY),this._negativeY=Object(s.a)(this._negativeY),this._positiveZ=Object(s.a)(this._positiveZ),this._negativeZ=Object(s.a)(this._negativeZ),Object(s.a)(this)},t.a=n},VxC8:function(e,t,i){"use strict";function n(e){if(e=Object(B.a)(e,B.a.EMPTY_OBJECT),!Object(k.a)(e.gltf)&&!Object(k.a)(e.url))throw new V.a("Either options.gltf or options.url is required.");if(Object(k.a)(e.gltf)&&Object(k.a)(e.url))throw new V.a("Cannot pass in both options.gltf and options.url.");this.show=Object(B.a)(e.show,!0),this._instancingSupported=!1,this._dynamic=Object(B.a)(e.dynamic,!1),this._allowPicking=Object(B.a)(e.allowPicking,!0),this._ready=!1,this._readyPromise=ee.a.defer(),this._state=oe.NEEDS_LOAD,this._dirty=!1,this._cull=Object(B.a)(e.cull,!0),this._opaquePass=Object(B.a)(e.opaquePass,Z.a.OPAQUE),this._instances=a(this,e.instances),this._batchTable=e.batchTable,this._model=void 0,this._vertexBufferTypedArray=void 0,this._vertexBuffer=void 0,this._batchIdBuffer=void 0,this._instancedUniformsByProgram=void 0,this._drawCommands=[],this._modelCommands=void 0,this._boundingSphere=r(this),this._center=M.a.clone(this._boundingSphere.center),this._rtcTransform=new H.a,this._rtcModelView=new H.a,this._mode=void 0,this.modelMatrix=H.a.clone(H.a.IDENTITY),this._modelMatrix=H.a.clone(this.modelMatrix),this._url=W.a.createIfNeeded(e.url),this._requestType=e.requestType,this._gltf=e.gltf,this._basePath=W.a.createIfNeeded(e.basePath),this._asynchronous=e.asynchronous,this._incrementallyLoadTextures=e.incrementallyLoadTextures,this._upAxis=e.upAxis,this._forwardAxis=e.forwardAxis,this.shadows=Object(B.a)(e.shadows,re.a.ENABLED),this._shadows=this.shadows,this._pickIdLoaded=e.pickIdLoaded,this.debugShowBoundingVolume=Object(B.a)(e.debugShowBoundingVolume,!1),this._debugShowBoundingVolume=!1,this.debugWireframe=Object(B.a)(e.debugWireframe,!1),this._debugWireframe=!1,this._imageBasedLightingFactor=new R.a(1,1),R.a.clone(e.imageBasedLightingFactor,this._imageBasedLightingFactor),this.lightColor=e.lightColor,this.luminanceAtZenith=e.luminanceAtZenith,this.sphericalHarmonicCoefficients=e.sphericalHarmonicCoefficients,this.specularEnvironmentMaps=e.specularEnvironmentMaps}function a(e,t){t=Object(B.a)(t,[]);for(var i=t.length,n=new Array(i),a=0;a<i;++a){var r=t[a],o=r.modelMatrix,s=Object(B.a)(r.batchId,a);n[a]=new ie.a(e,o,s)}return n}function r(e){for(var t=e.length,i=new Array(t),n=0;n<t;++n)i[n]=H.a.getTranslation(e._instances[n]._modelMatrix,new M.a);return I.a.fromPoints(i)}function o(e,t,i,n){return function(a,r){var o=a.semantic;if(Object(k.a)(o)&&e.indexOf(o)>-1){if(!(t.indexOf(o)>-1))throw new G.a('Shader program cannot be optimized for instancing. Uniform "'+r+'" in program "'+i+'" uses unsupported semantic "'+o+'"');n[r]=o}}}function s(e,t){if(Object(k.a)(e._instancedUniformsByProgram))return e._instancedUniformsByProgram[t];var i={};e._instancedUniformsByProgram=i;var n=["MODEL","MODELVIEW","CESIUM_RTC_MODELVIEW","MODELVIEWPROJECTION","MODELINVERSE","MODELVIEWINVERSE","MODELVIEWPROJECTIONINVERSE","MODELINVERSETRANSPOSE","MODELVIEWINVERSETRANSPOSE"],a=["MODELVIEW","CESIUM_RTC_MODELVIEW","MODELVIEWPROJECTION","MODELVIEWINVERSETRANSPOSE"],r=e._model._sourceTechniques;for(var s in r)if(r.hasOwnProperty(s)){var c=r[s],l=c.program;if(!Object(k.a)(i[l])){var u={};i[l]=u,$.a.techniqueUniform(c,o(n,a,t,u))}}return i[t]}function c(e){return function(t,i){var n=s(e,i),a=Object(k.a)(e._batchTable),r=K.a.replaceMain(t,"czm_instancing_main"),o="",c="";for(var l in n)if(n.hasOwnProperty(l)){var u,h=n[l];"MODELVIEW"===h||"CESIUM_RTC_MODELVIEW"===h?u="czm_instanced_modelView":"MODELVIEWPROJECTION"===h?(u="czm_instanced_modelViewProjection",o+="mat4 czm_instanced_modelViewProjection;\n",c+="czm_instanced_modelViewProjection = czm_projection * czm_instanced_modelView;\n"):"MODELVIEWINVERSETRANSPOSE"===h&&(u="czm_instanced_modelViewInverseTranspose",o+="mat3 czm_instanced_modelViewInverseTranspose;\n",c+="czm_instanced_modelViewInverseTranspose = mat3(czm_instanced_modelView);\n");var d=new RegExp("uniform.*"+l+".*");r=r.replace(d,""),d=new RegExp(l+"\\b","g"),r=r.replace(d,u)}var f,p,m;a?(f="attribute float a_batchId;\n",p="",m=""):(f="",p="attribute vec4 pickColor;\nvarying vec4 v_pickColor;\n",m="    v_pickColor = pickColor;\n");var g="uniform mat4 czm_instanced_modifiedModelView;\nuniform mat4 czm_instanced_nodeTransform;\n"+o+"mat4 czm_instanced_modelView;\nattribute vec4 czm_modelMatrixRow0;\nattribute vec4 czm_modelMatrixRow1;\nattribute vec4 czm_modelMatrixRow2;\n"+f+p+r+"void main()\n{\n    mat4 czm_instanced_model = mat4(czm_modelMatrixRow0.x, czm_modelMatrixRow1.x, czm_modelMatrixRow2.x, 0.0, czm_modelMatrixRow0.y, czm_modelMatrixRow1.y, czm_modelMatrixRow2.y, 0.0, czm_modelMatrixRow0.z, czm_modelMatrixRow1.z, czm_modelMatrixRow2.z, 0.0, czm_modelMatrixRow0.w, czm_modelMatrixRow1.w, czm_modelMatrixRow2.w, 1.0);\n    czm_instanced_modelView = czm_instanced_modifiedModelView * czm_instanced_model * czm_instanced_nodeTransform;\n"+c+"    czm_instancing_main();\n"+m+"}\n";if(a){var _=e._model.gltf,v=ne.a.getDiffuseAttributeOrUniform(_,i);g=e._batchTable.getVertexShaderCallback(!0,"a_batchId",v)(g)}return g}}function l(e){return function(t,i){var n=e._batchTable;if(Object(k.a)(n)){var a=e._model.gltf,r=ne.a.getDiffuseAttributeOrUniform(a,i);t=n.getFragmentShaderCallback(!0,r)(t)}else t="varying vec4 v_pickColor;\n"+t;return t}}function u(e,t){return function(){return H.a.multiply(t.uniformState.view,e._rtcTransform,e._rtcModelView)}}function h(e){return function(){return e.computedMatrix}}function d(e,t){return function(i,n,a){i=Object(N.a)(i),i.czm_instanced_modifiedModelView=u(e,t),i.czm_instanced_nodeTransform=h(a);var r=s(e,n);for(var o in r)r.hasOwnProperty(o)&&delete i[o];return Object(k.a)(e._batchTable)&&(i=e._batchTable.getUniformMapCallback()(i)),i}}function f(e){return function(t,i){if(Object(k.a)(e._batchTable)){var n=e._model.gltf,a=ne.a.getDiffuseAttributeOrUniform(n,i);t=e._batchTable.getVertexShaderCallback(!0,"a_batchId",a)(t),t="uniform float a_batchId\n;"+t}return t}}function p(e){return function(t,i){var n=e._batchTable;if(Object(k.a)(n)){var a=e._model.gltf,r=ne.a.getDiffuseAttributeOrUniform(a,i);t=n.getFragmentShaderCallback(!0,r)(t)}else t="uniform vec4 czm_pickColor;\n"+t;return t}}function m(e){return function(t){return Object(k.a)(e._batchTable)&&(t=e._batchTable.getUniformMapCallback()(t)),t}}function g(e){var t=e._instances,i=e.length,n=e._center,a=e._vertexBufferTypedArray;Object(k.a)(a)||(a=new Float32Array(12*i)),e._dynamic&&(e._vertexBufferTypedArray=a);for(var r=0;r<i;++r){var o=t[r]._modelMatrix,s=H.a.clone(o,ce);s[12]-=n.x,s[13]-=n.y,s[14]-=n.z;var c=12*r;a[c+0]=s[0],a[c+1]=s[4],a[c+2]=s[8],a[c+3]=s[12],a[c+4]=s[1],a[c+5]=s[5],a[c+6]=s[9],a[c+7]=s[13],a[c+8]=s[2],a[c+9]=s[6],a[c+10]=s[10],a[c+11]=s[14]}return a}function _(e,t){var i,n=e._instances,a=e.length,r=e._dynamic,o=Object(k.a)(e._batchTable);if(o){var s=new Uint16Array(a);for(i=0;i<a;++i)s[i]=n[i]._instanceId;e._batchIdBuffer=X.a.createVertexBuffer({context:t,typedArray:s,usage:Q.a.STATIC_DRAW})}if(!o){var c=new Uint8Array(4*a);for(i=0;i<a;++i){var l=e._pickIds[i],u=l.color,h=4*i;c[h]=F.a.floatToByte(u.red),c[h+1]=F.a.floatToByte(u.green),c[h+2]=F.a.floatToByte(u.blue),c[h+3]=F.a.floatToByte(u.alpha)}e._pickIdBuffer=X.a.createVertexBuffer({context:t,typedArray:c,usage:Q.a.STATIC_DRAW})}var d=g(e);e._vertexBuffer=X.a.createVertexBuffer({context:t,typedArray:d,usage:r?Q.a.STREAM_DRAW:Q.a.STATIC_DRAW})}function v(e){var t=g(e);e._vertexBuffer.copyFromArrayView(t)}function b(e,t){for(var i=e._instances,n=i.length,a=new Array(n),r=0;r<n;++r)a[r]=t.createPickId(i[r]);return a}function y(e,t){var i=e._instancingSupported,n=Object(k.a)(e._batchTable),a=e._allowPicking,r={url:e._url,requestType:e._requestType,gltf:e._gltf,basePath:e._basePath,shadows:e._shadows,cacheKey:void 0,asynchronous:e._asynchronous,allowPicking:a,incrementallyLoadTextures:e._incrementallyLoadTextures,upAxis:e._upAxis,forwardAxis:e._forwardAxis,precreatedAttributes:void 0,vertexShaderLoaded:void 0,fragmentShaderLoaded:void 0,uniformMapLoaded:void 0,pickIdLoaded:e._pickIdLoaded,ignoreCommands:!0,opaquePass:e._opaquePass,imageBasedLightingFactor:e.imageBasedLightingFactor,lightColor:e.lightColor,luminanceAtZenith:e.luminanceAtZenith,sphericalHarmonicCoefficients:e.sphericalHarmonicCoefficients,specularEnvironmentMaps:e.specularEnvironmentMaps};if(n||(e._pickIds=b(e,t)),i){_(e,t);var o=z.a.getSizeInBytes(z.a.FLOAT),s={czm_modelMatrixRow0:{index:0,vertexBuffer:e._vertexBuffer,componentsPerAttribute:4,componentDatatype:z.a.FLOAT,normalize:!1,offsetInBytes:0,strideInBytes:12*o,instanceDivisor:1},czm_modelMatrixRow1:{index:0,vertexBuffer:e._vertexBuffer,componentsPerAttribute:4,componentDatatype:z.a.FLOAT,normalize:!1,offsetInBytes:4*o,strideInBytes:12*o,instanceDivisor:1},czm_modelMatrixRow2:{index:0,vertexBuffer:e._vertexBuffer,componentsPerAttribute:4,componentDatatype:z.a.FLOAT,normalize:!1,offsetInBytes:8*o,strideInBytes:12*o,instanceDivisor:1}};n&&(s.a_batchId={index:0,vertexBuffer:e._batchIdBuffer,componentsPerAttribute:1,componentDatatype:z.a.UNSIGNED_SHORT,normalize:!1,offsetInBytes:0,strideInBytes:0,instanceDivisor:1}),n||(s.pickColor={index:0,vertexBuffer:e._pickIdBuffer,componentsPerAttribute:4,componentDatatype:z.a.UNSIGNED_BYTE,normalize:!0,offsetInBytes:0,strideInBytes:0,instanceDivisor:1}),r.precreatedAttributes=s,r.vertexShaderLoaded=c(e),r.fragmentShaderLoaded=l(e),r.uniformMapLoaded=d(e,t),Object(k.a)(e._url)&&(r.cacheKey=e._url.getUrlComponent()+"#instanced")}else r.vertexShaderLoaded=f(e),r.fragmentShaderLoaded=p(e),r.uniformMapLoaded=m(e,t);Object(k.a)(e._url)?e._model=te.a.fromGltf(r):e._model=new te.a(r)}function O(e){if(e._debugWireframe!==e.debugWireframe){e._debugWireframe=e.debugWireframe;for(var t=e.debugWireframe?q.a.LINES:q.a.TRIANGLES,i=e._drawCommands,n=i.length,a=0;a<n;++a)i[a].primitiveType=t}}function w(e){if(e.debugShowBoundingVolume!==e._debugShowBoundingVolume){e._debugShowBoundingVolume=e.debugShowBoundingVolume;for(var t=e._drawCommands,i=t.length,n=0;n<i;++n)t[n].debugShowBoundingVolume=e.debugShowBoundingVolume}}function x(e,t){for(var i=t.length,n=e.length,a=e._boundingSphere,r=e._cull,o=0;o<i;++o){var s=J.a.shallowClone(t[o]);s.instanceCount=n,s.boundingVolume=a,s.cull=r,Object(k.a)(e._batchTable)?s.pickId=e._batchTable.getPickId():s.pickId="v_pickColor",e._drawCommands.push(s)}}function E(e){return function(){return e}}function T(e){return function(){return e}}function A(e,t){for(var i=e._instances,n=t.length,a=e.length,r=e._batchTable,o=Object(k.a)(r),s=e._cull,c=0;c<n;++c)for(var l=0;l<a;++l){var u=J.a.shallowClone(t[c]);if(u.modelMatrix=new H.a,u.boundingVolume=new I.a,u.cull=s,u.uniformMap=Object(N.a)(u.uniformMap),o)u.uniformMap.a_batchId=E(i[l]._instanceId);else{var h=e._pickIds[l];u.uniformMap.czm_pickColor=T(h.color)}e._drawCommands.push(u)}}function C(e){for(var t=e._modelCommands,i=t.length,n=e.length,a=e._rtcTransform,r=e._center,o=0;o<i;++o)for(var s=t[o],c=0;c<n;++c){var l=o*n+c,u=e._drawCommands[l],h=H.a.clone(e._instances[c]._modelMatrix,ce);h[12]-=r.x,h[13]-=r.y,h[14]-=r.z,h=H.a.multiply(a,h,ce);var d=s.modelMatrix,f=u.modelMatrix;H.a.multiply(h,d,f);var p=s.boundingVolume,m=u.boundingVolume;I.a.transform(p,h,m)}}function S(e){for(var t=e._nodeCommands,i=t.length,n=[],a=0;a<i;++a){var r=t[a];r.show&&n.push(r.command)}return n}function j(e){for(var t=e._nodeCommands,i=t.length,n=0;n<i;n++){if(t[n].command.dirty)return!0}return!1}function P(e,t){e._drawCommands=[];var i=S(e._model);t?x(e,i):(A(e,i),C(e))}function D(e){if(e.shadows!==e._shadows){e._shadows=e.shadows;for(var t=re.a.castShadows(e.shadows),i=re.a.receiveShadows(e.shadows),n=e._drawCommands,a=n.length,r=0;r<a;++r){var o=n[r];o.castShadows=t,o.receiveShadows=i}}}var I=i("lBr9"),R=i("Ss9j"),M=i("Jj+J"),L=i("5F4X"),N=i("wv0P"),F=i("6F0S"),z=i("YCZg"),B=i("5A4e"),k=i("xC6Q"),U=i("6sr8"),V=i("PzDm"),H=i("Xjii"),q=i("nHNe"),W=i("rMjQ"),G=i("V22k"),Y=i("g/FO"),X=i("tW+E"),Q=i("rFKc"),J=i("1mJh"),Z=i("M0+0"),K=i("x6Ms"),$=i("FJg6"),ee=i("S7OP"),te=i("kRYv"),ie=i("dbGU"),ne=i("67ZH"),ae=i("sotJ"),re=i("ARzC"),oe={NEEDS_LOAD:0,LOADING:1,LOADED:2,FAILED:3};Object.defineProperties(n.prototype,{allowPicking:{get:function(){return this._allowPicking}},length:{get:function(){return this._instances.length}},activeAnimations:{get:function(){return this._model.activeAnimations}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},imageBasedLightingFactor:{get:function(){return this._imageBasedLightingFactor},set:function(e){L.a.typeOf.object("imageBasedLightingFactor",e),L.a.typeOf.number.greaterThanOrEquals("imageBasedLightingFactor.x",e.x,0),L.a.typeOf.number.lessThanOrEquals("imageBasedLightingFactor.x",e.x,1),L.a.typeOf.number.greaterThanOrEquals("imageBasedLightingFactor.y",e.y,0),L.a.typeOf.number.lessThanOrEquals("imageBasedLightingFactor.y",e.y,1),R.a.clone(e,this._imageBasedLightingFactor)}}});var se=new M.a,ce=new H.a;n.prototype.expandBoundingSphere=function(e){var t=H.a.getTranslation(e,se);I.a.expand(this._boundingSphere,t,this._boundingSphere)},n.prototype.update=function(e){if(e.mode!==ae.a.MORPHING&&this.show&&0!==this.length){var t=e.context;if(this._state===oe.NEEDS_LOAD){this._state=oe.LOADING,this._instancingSupported=t.instancedArrays,y(this,t);var i=this;this._model.readyPromise.otherwise(function(e){i._state=oe.FAILED,i._readyPromise.reject(e)})}var n=this._instancingSupported,a=this._model;if(a.imageBasedLightingFactor=this.imageBasedLightingFactor,a.lightColor=this.lightColor,a.luminanceAtZenith=this.luminanceAtZenith,a.sphericalHarmonicCoefficients=this.sphericalHarmonicCoefficients,a.specularEnvironmentMaps=this.specularEnvironmentMaps,a.update(e),a.ready&&this._state===oe.LOADING){this._state=oe.LOADED,this._ready=!0;var r=a.boundingSphere.radius+M.a.magnitude(a.boundingSphere.center);return this._boundingSphere.radius+=r,this._modelCommands=S(a),P(this,n),void this._readyPromise.resolve(this)}if(this._state===oe.LOADED){var o=e.mode!==this._mode,s=this.modelMatrix,c=!H.a.equals(this._modelMatrix,s);if(o||c){this._mode=e.mode,H.a.clone(s,this._modelMatrix);var l=H.a.multiplyByTranslation(this._modelMatrix,this._center,this._rtcTransform);this._mode!==ae.a.SCENE3D&&(l=Y.a.basisTo2D(e.mapProjection,l,l)),H.a.getTranslation(l,this._boundingSphere.center)}n&&this._dirty&&(this._dynamic=!0,this._dirty=!1,v(this)),j(a)&&P(this,n),!n&&(a.dirty||this._dirty||o||c)&&C(this),D(this),O(this),w(this);var u=e.passes;if(u.render||u.pick)for(var h=e.commandList,d=this._drawCommands,f=d.length,p=0;p<f;++p)h.push(d[p])}}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){this._model=this._model&&this._model.destroy();var e=this._pickIds;if(Object(k.a)(e))for(var t=e.length,i=0;i<t;++i)e[i].destroy();return Object(U.a)(this)},t.a=n},"W/pv":function(e,t,i){"use strict";t.a="/**\n * A built-in GLSL floating-point constant for <code>1/2pi</code>.\n *\n * @alias czm_oneOverTwoPi\n * @glslConstant\n *\n * @see CesiumMath.ONE_OVER_TWO_PI\n *\n * @example\n * // GLSL declaration\n * const float czm_oneOverTwoPi = ...;\n *\n * // Example\n * float pi = 2.0 * czm_oneOverTwoPi;\n */\nconst float czm_oneOverTwoPi = 0.15915494309189535;\n"},W00h:function(e,t,i){"use strict";t.a="float czm_private_getLambertDiffuseOfMaterial(vec3 lightDirectionEC, czm_material material)\n{\n    return czm_getLambertDiffuse(lightDirectionEC, material.normal);\n}\n\nfloat czm_private_getSpecularOfMaterial(vec3 lightDirectionEC, vec3 toEyeEC, czm_material material)\n{\n    return czm_getSpecular(lightDirectionEC, toEyeEC, material.normal, material.shininess);\n}\n\n/**\n * Computes a color using the Phong lighting model.\n *\n * @name czm_phong\n * @glslFunction\n *\n * @param {vec3} toEye A normalized vector from the fragment to the eye in eye coordinates.\n * @param {czm_material} material The fragment's material.\n *\n * @returns {vec4} The computed color.\n *\n * @example\n * vec3 positionToEyeEC = // ...\n * czm_material material = // ...\n * vec3 lightDirectionEC = // ...\n * gl_FragColor = czm_phong(normalize(positionToEyeEC), material, lightDirectionEC);\n *\n * @see czm_getMaterial\n */\nvec4 czm_phong(vec3 toEye, czm_material material, vec3 lightDirectionEC)\n{\n    // Diffuse from directional light sources at eye (for top-down)\n    float diffuse = czm_private_getLambertDiffuseOfMaterial(vec3(0.0, 0.0, 1.0), material);\n    if (czm_sceneMode == czm_sceneMode3D) {\n        // (and horizon views in 3D)\n        diffuse += czm_private_getLambertDiffuseOfMaterial(vec3(0.0, 1.0, 0.0), material);\n    }\n\n    float specular = czm_private_getSpecularOfMaterial(lightDirectionEC, toEye, material);\n\n    // Temporary workaround for adding ambient.\n    vec3 materialDiffuse = material.diffuse * 0.5;\n\n    vec3 ambient = materialDiffuse;\n    vec3 color = ambient + material.emission;\n    color += materialDiffuse * diffuse * czm_lightColor;\n    color += material.specular * specular * czm_lightColor;\n\n    return vec4(color, material.alpha);\n}\n\nvec4 czm_private_phong(vec3 toEye, czm_material material, vec3 lightDirectionEC)\n{\n    float diffuse = czm_private_getLambertDiffuseOfMaterial(lightDirectionEC, material);\n    float specular = czm_private_getSpecularOfMaterial(lightDirectionEC, toEye, material);\n\n    vec3 ambient = vec3(0.0);\n    vec3 color = ambient + material.emission;\n    color += material.diffuse * diffuse * czm_lightColor;\n    color += material.specular * specular * czm_lightColor;\n\n    return vec4(color, material.alpha);\n}\n"},W28a:function(e,t,i){"use strict";t.a="/**\n * A built-in GLSL floating-point constant for <code>3pi/2</code>.\n *\n * @alias czm_threePiOver2\n * @glslConstant\n *\n * @see CesiumMath.THREE_PI_OVER_TWO\n *\n * @example\n * // GLSL declaration\n * const float czm_threePiOver2 = ...;\n *\n * // Example\n * float pi = (2.0 / 3.0) * czm_threePiOver2;\n */\nconst float czm_threePiOver2 = 4.71238898038469;\n"},W2nU:function(e,t){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(h===clearTimeout)return clearTimeout(e);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function o(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=a(o);m=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,m=!1,r(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u,h,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(e){u=i}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(e){h=n}}();var f,p=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new c(e,t)),1!==p.length||m||a(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},W3jk:function(e,t,i){"use strict";function n(e){e=Object(l.a)(e,l.a.EMPTY_OBJECT);var t=e.minimum,i=e.maximum;if(s.a.typeOf.object("min",t),s.a.typeOf.object("max",i),Object(u.a)(e.offsetAttribute)&&e.offsetAttribute===m.a.TOP)throw new h.a("GeometryOffsetAttribute.TOP is not a supported options.offsetAttribute for this geometry.");this._min=o.a.clone(t),this._max=o.a.clone(i),this._offsetAttribute=e.offsetAttribute,this._workerName="createBoxOutlineGeometry"}var a=i("Sfsp"),r=i("lBr9"),o=i("Jj+J"),s=i("5F4X"),c=i("YCZg"),l=i("5A4e"),u=i("xC6Q"),h=i("PzDm"),d=i("RGAo"),f=i("RYD3"),p=i("GaJK"),m=i("2g+t"),g=i("nHNe"),_=new o.a;n.fromDimensions=function(e){e=Object(l.a)(e,l.a.EMPTY_OBJECT);var t=e.dimensions;s.a.typeOf.object("dimensions",t),s.a.typeOf.number.greaterThanOrEquals("dimensions.x",t.x,0),s.a.typeOf.number.greaterThanOrEquals("dimensions.y",t.y,0),s.a.typeOf.number.greaterThanOrEquals("dimensions.z",t.z,0);var i=o.a.multiplyByScalar(t,.5,new o.a);return new n({minimum:o.a.negate(i,new o.a),maximum:i,offsetAttribute:e.offsetAttribute})},n.fromAxisAlignedBoundingBox=function(e){return s.a.typeOf.object("boundindBox",e),new n({minimum:e.minimum,maximum:e.maximum})},n.packedLength=2*o.a.packedLength+1,n.pack=function(e,t,i){return s.a.typeOf.object("value",e),s.a.defined("array",t),i=Object(l.a)(i,0),o.a.pack(e._min,t,i),o.a.pack(e._max,t,i+o.a.packedLength),t[i+2*o.a.packedLength]=Object(l.a)(e._offsetAttribute,-1),t};var v=new o.a,b=new o.a,y={minimum:v,maximum:b,offsetAttribute:void 0};n.unpack=function(e,t,i){s.a.defined("array",e),t=Object(l.a)(t,0);var a=o.a.unpack(e,t,v),r=o.a.unpack(e,t+o.a.packedLength,b),c=e[t+2*o.a.packedLength];return Object(u.a)(i)?(i._min=o.a.clone(a,i._min),i._max=o.a.clone(r,i._max),i._offsetAttribute=-1===c?void 0:c,i):(y.offsetAttribute=-1===c?void 0:c,new n(y))},n.createGeometry=function(e){var t=e._min,i=e._max;if(!o.a.equals(t,i)){var n=new p.a,s=new Uint16Array(24),l=new Float64Array(24);l[0]=t.x,l[1]=t.y,l[2]=t.z,l[3]=i.x,l[4]=t.y,l[5]=t.z,l[6]=i.x,l[7]=i.y,l[8]=t.z,l[9]=t.x,l[10]=i.y,l[11]=t.z,l[12]=t.x,l[13]=t.y,l[14]=i.z,l[15]=i.x,l[16]=t.y,l[17]=i.z,l[18]=i.x,l[19]=i.y,l[20]=i.z,l[21]=t.x,l[22]=i.y,l[23]=i.z,n.position=new f.a({componentDatatype:c.a.DOUBLE,componentsPerAttribute:3,values:l}),s[0]=4,s[1]=5,s[2]=5,s[3]=6,s[4]=6,s[5]=7,s[6]=7,s[7]=4,s[8]=0,s[9]=1,s[10]=1,s[11]=2,s[12]=2,s[13]=3,s[14]=3,s[15]=0,s[16]=0,s[17]=4,s[18]=1,s[19]=5,s[20]=2,s[21]=6,s[22]=3,s[23]=7;var h=o.a.subtract(i,t,_),v=.5*o.a.magnitude(h);if(Object(u.a)(e._offsetAttribute)){var b=l.length,y=new Uint8Array(b/3),O=e._offsetAttribute===m.a.NONE?0:1;Object(a.a)(y,O),n.applyOffset=new f.a({componentDatatype:c.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:y})}return new d.a({attributes:n,indices:s,primitiveType:g.a.LINES,boundingSphere:new r.a(o.a.ZERO,v),offsetAttribute:e._offsetAttribute})}},t.a=n},"W55+":function(e,t,i){"use strict";function n(e,t,i,n,r){this._content=e,this._billboard=i,this._label=n,this._polyline=r,this._batchId=t,this._billboardImage=void 0,this._billboardColor=void 0,this._billboardOutlineColor=void 0,this._billboardOutlineWidth=void 0,this._billboardSize=void 0,this._pointSize=void 0,this._color=void 0,this._pointSize=void 0,this._pointOutlineColor=void 0,this._pointOutlineWidth=void 0,this._heightOffset=void 0,this._pickIds=new Array(3),a(this)}function a(e){var t=e._billboard;if(Object(c.a)(e._billboardImage)&&e._billboardImage!==t.image)return void(t.image=e._billboardImage);if(!Object(c.a)(e._billboardImage)){var i=Object(s.a)(e._color,n.defaultColor),a=Object(s.a)(e._pointOutlineColor,n.defaultPointOutlineColor),r=Object(s.a)(e._pointOutlineWidth,n.defaultPointOutlineWidth),u=Object(s.a)(e._pointSize,n.defaultPointSize),h=e._billboardColor,d=e._billboardOutlineColor,f=e._billboardOutlineWidth,p=e._billboardSize;if(!o.a.equals(i,h)||!o.a.equals(a,d)||r!==f||u!==p){e._billboardColor=o.a.clone(i,e._billboardColor),e._billboardOutlineColor=o.a.clone(a,e._billboardOutlineColor),e._billboardOutlineWidth=r,e._billboardSize=u;var m=i.alpha,g=i.toCssColorString(),_=a.toCssColorString(),v=JSON.stringify([g,u,_,r]);t.setImage(v,Object(l.a)(m,g,_,r,u))}}}var r=i("I3GD"),o=i("6F0S"),s=i("5A4e"),c=i("xC6Q"),l=i("vY3F"),u=new r.a;Object.defineProperties(n.prototype,{show:{get:function(){return this._label.show},set:function(e){this._label.show=e,this._billboard.show=e,this._polyline.show=e}},color:{get:function(){return this._color},set:function(e){this._color=o.a.clone(e,this._color),a(this)}},pointSize:{get:function(){return this._pointSize},set:function(e){this._pointSize=e,a(this)}},pointOutlineColor:{get:function(){return this._pointOutlineColor},set:function(e){this._pointOutlineColor=o.a.clone(e,this._pointOutlineColor),a(this)}},pointOutlineWidth:{get:function(){return this._pointOutlineWidth},set:function(e){this._pointOutlineWidth=e,a(this)}},labelColor:{get:function(){return this._label.fillColor},set:function(e){this._label.fillColor=e,this._polyline.show=this._label.show&&e.alpha>0}},labelOutlineColor:{get:function(){return this._label.outlineColor},set:function(e){this._label.outlineColor=e}},labelOutlineWidth:{get:function(){return this._label.outlineWidth},set:function(e){this._label.outlineWidth=e}},font:{get:function(){return this._label.font},set:function(e){this._label.font=e}},labelStyle:{get:function(){return this._label.style},set:function(e){this._label.style=e}},labelText:{get:function(){return this._label.text},set:function(e){Object(c.a)(e)||(e=""),this._label.text=e}},backgroundColor:{get:function(){return this._label.backgroundColor},set:function(e){this._label.backgroundColor=e}},backgroundPadding:{get:function(){return this._label.backgroundPadding},set:function(e){this._label.backgroundPadding=e}},backgroundEnabled:{get:function(){return this._label.showBackground},set:function(e){this._label.showBackground=e}},scaleByDistance:{get:function(){return this._label.scaleByDistance},set:function(e){this._label.scaleByDistance=e,this._billboard.scaleByDistance=e}},translucencyByDistance:{get:function(){return this._label.translucencyByDistance},set:function(e){this._label.translucencyByDistance=e,this._billboard.translucencyByDistance=e}},distanceDisplayCondition:{get:function(){return this._label.distanceDisplayCondition},set:function(e){this._label.distanceDisplayCondition=e,this._polyline.distanceDisplayCondition=e,this._billboard.distanceDisplayCondition=e}},heightOffset:{get:function(){return this._heightOffset},set:function(e){var t=Object(s.a)(this._heightOffset,0),i=this._content.tileset.ellipsoid,n=i.cartesianToCartographic(this._billboard.position,u);n.height=n.height-t+e;var a=i.cartographicToCartesian(n);this._billboard.position=a,this._label.position=this._billboard.position,this._polyline.positions=[this._polyline.positions[0],a],this._heightOffset=e}},anchorLineEnabled:{get:function(){return this._polyline.show},set:function(e){this._polyline.show=e}},anchorLineColor:{get:function(){return this._polyline.material.uniforms.color},set:function(e){this._polyline.material.uniforms.color=o.a.clone(e,this._polyline.material.uniforms.color)}},image:{get:function(){return this._billboardImage},set:function(e){var t=this._billboardImage!==e;this._billboardImage=e,t&&a(this)}},disableDepthTestDistance:{get:function(){return this._label.disableDepthTestDistance},set:function(e){this._label.disableDepthTestDistance=e,this._billboard.disableDepthTestDistance=e}},horizontalOrigin:{get:function(){return this._billboard.horizontalOrigin},set:function(e){this._billboard.horizontalOrigin=e}},verticalOrigin:{get:function(){return this._billboard.verticalOrigin},set:function(e){this._billboard.verticalOrigin=e}},labelHorizontalOrigin:{get:function(){return this._label.horizontalOrigin},set:function(e){this._label.horizontalOrigin=e}},labelVerticalOrigin:{get:function(){return this._label.verticalOrigin},set:function(e){this._label.verticalOrigin=e}},content:{get:function(){return this._content}},tileset:{get:function(){return this._content.tileset}},primitive:{get:function(){return this._content.tileset}},pickIds:{get:function(){var e=this._pickIds;return e[0]=this._billboard.pickId,e[1]=this._label.pickId,e[2]=this._polyline.pickId,e}}}),n.defaultColor=o.a.WHITE,n.defaultPointOutlineColor=o.a.BLACK,n.defaultPointOutlineWidth=0,n.defaultPointSize=8,n.prototype.hasProperty=function(e){return this._content.batchTable.hasProperty(this._batchId,e)},n.prototype.getPropertyNames=function(e){return this._content.batchTable.getPropertyNames(this._batchId,e)},n.prototype.getProperty=function(e){return this._content.batchTable.getProperty(this._batchId,e)},n.prototype.setProperty=function(e,t){this._content.batchTable.setProperty(this._batchId,e,t),this._content.featurePropertiesDirty=!0},n.prototype.isExactClass=function(e){return this._content.batchTable.isExactClass(this._batchId,e)},n.prototype.isClass=function(e){return this._content.batchTable.isClass(this._batchId,e)},n.prototype.getExactClassName=function(){return this._content.batchTable.getExactClassName(this._batchId)},t.a=n},W66u:function(e,t,i){"use strict";function n(e,t,i,n){v.a.typeOf.bool("extentsCulling",e),v.a.typeOf.bool("planarExtents",t),v.a.typeOf.object("appearance",i),v.a.typeOf.bool("useFloatBatchTable",n),this._projectionExtentDefines={eastMostYhighDefine:"",eastMostYlowDefine:"",westMostYhighDefine:"",westMostYlowDefine:""},this._useFloatBatchTable=n;var a=new r;a.requiresTextureCoordinates=e,a.requiresEC=!i.flat;var o=new r;if(o.requiresTextureCoordinates=e,i instanceof j.a)a.requiresNormalEC=!i.flat;else{var s=i.material.shaderSource+"\n"+i.fragmentShaderSource;a.normalEC=-1!==s.indexOf("materialInput.normalEC")||-1!==s.indexOf("czm_getDefaultMaterial"),a.positionToEyeEC=-1!==s.indexOf("materialInput.positionToEyeEC"),a.tangentToEyeMatrix=-1!==s.indexOf("materialInput.tangentToEyeMatrix"),a.st=-1!==s.indexOf("materialInput.st")}this._colorShaderDependencies=a,this._pickShaderDependencies=o,this._appearance=i,this._extentsCulling=e,this._planarExtents=t}function a(e,t,i,n,a,r,o,s,c){var l=n.slice();if(""===c.eastMostYhighDefine){var u=I;u.longitude=E.a.PI,u.latitude=0,u.height=0;var h=o.project(u,D),d=w.a.encode(h.x,R);c.eastMostYhighDefine="EAST_MOST_X_HIGH "+d.high.toFixed((d.high+"").length+1),c.eastMostYlowDefine="EAST_MOST_X_LOW "+d.low.toFixed((d.low+"").length+1);var f=I;f.longitude=-E.a.PI,f.latitude=0,f.height=0;var p=o.project(f,D);d=w.a.encode(p.x,R),c.westMostYhighDefine="WEST_MOST_X_HIGH "+d.high.toFixed((d.high+"").length+1),c.westMostYlowDefine="WEST_MOST_X_LOW "+d.low.toFixed((d.low+"").length+1)}return i&&(l.push(c.eastMostYhighDefine),l.push(c.eastMostYlowDefine),l.push(c.westMostYhighDefine),l.push(c.westMostYlowDefine)),Object(O.a)(r)&&r instanceof j.a&&l.push("PER_INSTANCE_COLOR"),e.requiresTextureCoordinates&&(l.push("TEXTURE_COORDINATES"),t||i||l.push("SPHERICAL"),i&&l.push("COLUMBUS_VIEW_2D")),s||l.push("UINT8_PACKING"),new S.a({defines:l,sources:[a]})}function r(){this._requiresEC=!1,this._requiresWC=!1,this._requiresNormalEC=!1,this._requiresTextureCoordinates=!1,this._usesNormalEC=!1,this._usesPositionToEyeEC=!1,this._usesTangentToEyeMat=!1,this._usesSt=!1}function o(e,t,i){return Math.abs((t.y-e.y)*i.x-(t.x-e.x)*i.y+t.x*e.y-t.y*e.x)/m.a.distance(t,e)}function s(e,t){var i=M,n=m.a.unpack(t,0,i[0]),a=m.a.unpack(t,2,i[1]),r=m.a.unpack(t,4,i[2]);e.uMaxVmax=new x.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:4,normalize:!1,value:[a.x,a.y,r.x,r.y]});var s=1/o(n,a,r),c=1/o(n,r,a);e.uvMinAndExtents=new x.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:4,normalize:!1,value:[n.x,n.y,s,c]})}function c(e,t,i){var n=Math.abs(e),a=Math.floor(n/1e3);n-=1e3*a;var r=Math.floor(n/10);n-=10*r;var o=Math.floor(10*n);n-=.1*o;var s=Math.floor(1e3*n);e<0&&(a=255-a),i[t]=new x.a({componentDatatype:b.a.UNSIGNED_BYTE,componentsPerAttribute:4,normalize:!1,value:[a,r,o,s]})}function l(e,t,i){var n=Math.abs(e),a=Math.floor(n/1e6);n-=1e6*a;var r=Math.floor(n/1e4);n-=1e4*r;var o=Math.floor(n/100);n-=100*o;var s=Math.floor(n);e<0&&(a=255-a),i[t]=new x.a({componentDatatype:b.a.UNSIGNED_BYTE,componentsPerAttribute:4,normalize:!1,value:[a,r,o,s]})}function u(e,t,i){var n=Math.abs(e),a=Math.floor(n/1e4);n-=1e4*a;var r=Math.floor(n/100);n-=100*r;var o=Math.floor(n);n-=o;var s=Math.floor(n/.001);e<0&&(a=255-a),i[t]=new x.a({componentDatatype:b.a.UNSIGNED_BYTE,componentsPerAttribute:4,normalize:!1,value:[a,r,o,s]})}function h(e,t,i,n){var a=L;a.height=0,a.longitude=e.west,a.latitude=e.south;var r=t.project(a,N);a.latitude=e.north;var o=t.project(a,F);a.longitude=e.east,a.latitude=e.south;var s,u=t.project(a,z);if(!n)return s=w.a.encode(r.x,B),l(s.high,"planes2D_HIGH_x",i),c(s.low,"planes2D_LOW_x",i),s=w.a.encode(r.y,B),l(s.high,"planes2D_HIGH_y",i),c(s.low,"planes2D_LOW_y",i),s=w.a.encode(o.y,B),l(s.high,"planes2D_HIGH_z",i),c(s.low,"planes2D_LOW_z",i),s=w.a.encode(u.x,B),l(s.high,"planes2D_HIGH_w",i),void c(s.low,"planes2D_LOW_w",i);var h=[0,0,0,0],d=[0,0,0,0];s=w.a.encode(r.x,B),h[0]=s.high,d[0]=s.low,s=w.a.encode(r.y,B),h[1]=s.high,d[1]=s.low,s=w.a.encode(o.y,B),h[2]=s.high,d[2]=s.low,s=w.a.encode(u.x,B),h[3]=s.high,d[3]=s.low,i.planes2D_HIGH=new x.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:4,normalize:!1,value:h}),i.planes2D_LOW=new x.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:4,normalize:!1,value:d})}function d(e,t,i,n,a,r){var o=A.a.center(e,H);o.height=i;var s=_.a.toCartesian(o,t,V),c=C.a.eastNorthUpToFixedFrame(s,t,k),l=T.a.inverse(c,U),u=e.west,h=e.east,d=e.north,f=e.south,p=q;p[0].latitude=f,p[0].longitude=u,p[1].latitude=d,p[1].longitude=u,p[2].latitude=d,p[2].longitude=h,p[3].latitude=f,p[3].longitude=h;var m=.5*(u+h),v=.5*(d+f);p[4].latitude=f,p[4].longitude=m,p[5].latitude=d,p[5].longitude=m,p[6].latitude=v,p[6].longitude=u,p[7].latitude=v,p[7].longitude=h;for(var b=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,O=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,x=0;x<8;x++){p[x].height=i;var E=_.a.toCartesian(p[x],t,V);T.a.multiplyByPoint(l,E,E),E.z=0,b=Math.min(b,E.x),y=Math.max(y,E.x),O=Math.min(O,E.y),w=Math.max(w,E.y)}var S=n;S.x=b,S.y=O,S.z=0,T.a.multiplyByPoint(c,S,S);var j=a;j.x=y,j.y=O,j.z=0,T.a.multiplyByPoint(c,j,j),g.a.subtract(j,S,a);var P=r;P.x=b,P.y=w,P.z=0,T.a.multiplyByPoint(c,P,P),g.a.subtract(P,S,r)}function f(e,t,i,n){var a=L;a.latitude=e,a.longitude=t,a.height=0;var r=_.a.toCartesian(a,i,X),o=Math.sqrt(r.x*r.x+r.y*r.y),s=E.a.fastApproximateAtan2(o,r.z),c=E.a.fastApproximateAtan2(r.x,r.y);return n.x=s,n.y=c,n}function p(e){return Math.max(e.width,e.height)>n.MAX_WIDTH_FOR_PLANAR_EXTENTS}var m=i("Ss9j"),g=i("Jj+J"),_=i("I3GD"),v=i("5F4X"),b=i("YCZg"),y=i("5A4e"),O=i("xC6Q"),w=i("Is4l"),x=i("WW3v"),E=i("fq+p"),T=i("Xjii"),A=i("Wq1U"),C=i("g/FO"),S=i("x6Ms"),j=i("BOJj"),P=i("XnWo");n.prototype.createFragmentShader=function(e){v.a.typeOf.bool("columbusView2D",e);var t=this._appearance,i=this._colorShaderDependencies,n=[];e||this._planarExtents||n.push("SPHERICAL"),i.requiresEC&&n.push("REQUIRES_EC"),i.requiresWC&&n.push("REQUIRES_WC"),i.requiresTextureCoordinates&&n.push("TEXTURE_COORDINATES"),this._extentsCulling&&n.push("CULL_FRAGMENTS"),i.requiresNormalEC&&n.push("NORMAL_EC"),t instanceof j.a&&n.push("PER_INSTANCE_COLOR"),i.normalEC&&n.push("USES_NORMAL_EC"),i.positionToEyeEC&&n.push("USES_POSITION_TO_EYE_EC"),i.tangentToEyeMatrix&&n.push("USES_TANGENT_TO_EYE"),i.st&&n.push("USES_ST"),t.flat&&n.push("FLAT");var a="";return t instanceof j.a||(a=t.material.shaderSource),new S.a({defines:n,sources:[a,P.a]})},n.prototype.createPickFragmentShader=function(e){v.a.typeOf.bool("columbusView2D",e);var t=this._pickShaderDependencies,i=["PICK"];return e||this._planarExtents||i.push("SPHERICAL"),t.requiresEC&&i.push("REQUIRES_EC"),t.requiresWC&&i.push("REQUIRES_WC"),t.requiresTextureCoordinates&&i.push("TEXTURE_COORDINATES"),this._extentsCulling&&i.push("CULL_FRAGMENTS"),new S.a({defines:i,sources:[P.a],pickColorQualifier:"varying"})},n.prototype.createVertexShader=function(e,t,i,n){return v.a.defined("defines",e),v.a.typeOf.string("vertexShaderSource",t),v.a.typeOf.bool("columbusView2D",i),v.a.defined("mapProjection",n),a(this._colorShaderDependencies,this._planarExtents,i,e,t,this._appearance,n,this._useFloatBatchTable,this._projectionExtentDefines)},n.prototype.createPickVertexShader=function(e,t,i,n){return v.a.defined("defines",e),v.a.typeOf.string("vertexShaderSource",t),v.a.typeOf.bool("columbusView2D",i),v.a.defined("mapProjection",n),a(this._pickShaderDependencies,this._planarExtents,i,e,t,void 0,n,this._useFloatBatchTable,this._projectionExtentDefines)};var D=new g.a,I=new _.a,R={high:0,low:0};Object.defineProperties(r.prototype,{requiresEC:{get:function(){return this._requiresEC},set:function(e){this._requiresEC=e||this._requiresEC}},requiresWC:{get:function(){return this._requiresWC},set:function(e){this._requiresWC=e||this._requiresWC,this.requiresEC=this._requiresWC}},requiresNormalEC:{get:function(){return this._requiresNormalEC},set:function(e){this._requiresNormalEC=e||this._requiresNormalEC,this.requiresEC=this._requiresNormalEC}},requiresTextureCoordinates:{get:function(){return this._requiresTextureCoordinates},set:function(e){this._requiresTextureCoordinates=e||this._requiresTextureCoordinates,this.requiresWC=this._requiresTextureCoordinates}},normalEC:{set:function(e){this.requiresNormalEC=e,this._usesNormalEC=e},get:function(){return this._usesNormalEC}},tangentToEyeMatrix:{set:function(e){this.requiresWC=e,this.requiresNormalEC=e,this._usesTangentToEyeMat=e},get:function(){return this._usesTangentToEyeMat}},positionToEyeEC:{set:function(e){this.requiresEC=e,this._usesPositionToEyeEC=e},get:function(){return this._usesPositionToEyeEC}},st:{set:function(e){this.requiresTextureCoordinates=e,this._usesSt=e},get:function(){return this._usesSt}}});var M=[new m.a,new m.a,new m.a,new m.a],L=new _.a,N=new g.a,F=new g.a,z=new g.a,B={high:0,low:0},k=new T.a,U=new T.a,V=new g.a,H=new _.a,q=[new _.a,new _.a,new _.a,new _.a,new _.a,new _.a,new _.a,new _.a],W=new g.a,G=new g.a,Y=new w.a;n.getPlanarTextureCoordinateAttributes=function(e,t,i,n,a,r){v.a.typeOf.object("boundingRectangle",e),v.a.defined("textureCoordinateRotationPoints",t),v.a.typeOf.object("ellipsoid",i),v.a.typeOf.object("projection",n),v.a.typeOf.bool("useFloatBatchTable",a);var o=N,f=W,p=G;d(e,i,Object(y.a)(r,0),o,f,p);var m={};s(m,t);var _=w.a.fromCartesian(o,Y);if(!a){var O=_.high;l(O.x,"southWest_HIGH_x",m),l(O.y,"southWest_HIGH_y",m),l(O.z,"southWest_HIGH_z",m);var E=_.low;return c(E.x,"southWest_LOW_x",m),c(E.y,"southWest_LOW_y",m),c(E.z,"southWest_LOW_z",m),u(f.x,"eastward_x",m),u(f.y,"eastward_y",m),u(f.z,"eastward_z",m),u(p.x,"northward_x",m),u(p.y,"northward_y",m),u(p.z,"northward_z",m),h(e,n,m,!1),m}return m.southWest_HIGH=new x.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:3,normalize:!1,value:g.a.pack(_.high,[0,0,0])}),m.southWest_LOW=new x.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:3,normalize:!1,value:g.a.pack(_.low,[0,0,0])}),m.eastward=new x.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:3,normalize:!1,value:g.a.pack(f,[0,0,0])}),m.northward=new x.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:3,normalize:!1,value:g.a.pack(p,[0,0,0])}),h(e,n,m,!0),m};var X=new g.a,Q=new m.a;n.getSphericalExtentGeometryInstanceAttributes=function(e,t,i,n,a){v.a.typeOf.object("boundingRectangle",e),v.a.defined("textureCoordinateRotationPoints",t),v.a.typeOf.object("ellipsoid",i),v.a.typeOf.object("projection",n),v.a.typeOf.bool("useFloatBatchTable",a);var r=f(e.south,e.west,i,Q),o=r.x,c=r.y,l=f(e.north,e.east,i,Q),u=l.x,d=l.y,p=0;c>d&&(p=E.a.PI-c,c=-E.a.PI,d+=p),o-=E.a.EPSILON5,c-=E.a.EPSILON5,u+=E.a.EPSILON5,d+=E.a.EPSILON5;var m=1/(d-c),g=1/(u-o),_={sphericalExtents:new x.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:4,normalize:!1,value:[o,c,g,m]}),longitudeRotation:new x.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:1,normalize:!1,value:[p]})};return s(_,t),h(e,n,_,a),_},n.hasAttributesForTextureCoordinatePlanes=function(e){var t=Object(O.a)(e.southWest_HIGH)&&Object(O.a)(e.southWest_LOW)&&Object(O.a)(e.northward)&&Object(O.a)(e.eastward)&&Object(O.a)(e.planes2D_HIGH)&&Object(O.a)(e.planes2D_LOW)&&Object(O.a)(e.uMaxVmax)&&Object(O.a)(e.uvMinAndExtents),i=Object(O.a)(e.southWest_HIGH_x)&&Object(O.a)(e.southWest_LOW_x)&&Object(O.a)(e.southWest_HIGH_y)&&Object(O.a)(e.southWest_LOW_y)&&Object(O.a)(e.southWest_HIGH_z)&&Object(O.a)(e.southWest_LOW_z)&&Object(O.a)(e.northward_x)&&Object(O.a)(e.eastward_x)&&Object(O.a)(e.northward_y)&&Object(O.a)(e.eastward_y)&&Object(O.a)(e.northward_z)&&Object(O.a)(e.eastward_z)&&Object(O.a)(e.planes2D_HIGH_x)&&Object(O.a)(e.planes2D_LOW_x)&&Object(O.a)(e.planes2D_HIGH_y)&&Object(O.a)(e.planes2D_LOW_y)&&Object(O.a)(e.planes2D_HIGH_z)&&Object(O.a)(e.planes2D_LOW_z)&&Object(O.a)(e.planes2D_HIGH_w)&&Object(O.a)(e.planes2D_LOW_w)&&Object(O.a)(e.uMaxVmax)&&Object(O.a)(e.uvMinAndExtents);return t||i},n.hasAttributesForSphericalExtents=function(e){var t=Object(O.a)(e.sphericalExtents)&&Object(O.a)(e.longitudeRotation)&&Object(O.a)(e.planes2D_HIGH)&&Object(O.a)(e.planes2D_LOW)&&Object(O.a)(e.uMaxVmax)&&Object(O.a)(e.uvMinAndExtents),i=Object(O.a)(e.sphericalExtents)&&Object(O.a)(e.longitudeRotation)&&Object(O.a)(e.planes2D_HIGH_x)&&Object(O.a)(e.planes2D_LOW_x)&&Object(O.a)(e.planes2D_HIGH_y)&&Object(O.a)(e.planes2D_LOW_y)&&Object(O.a)(e.planes2D_HIGH_z)&&Object(O.a)(e.planes2D_LOW_z)&&Object(O.a)(e.planes2D_HIGH_w)&&Object(O.a)(e.planes2D_LOW_w)&&Object(O.a)(e.uMaxVmax)&&Object(O.a)(e.uvMinAndExtents);return t||i},n.shouldUseSphericalCoordinates=function(e){return v.a.typeOf.object("rectangle",e),p(e)},n.MAX_WIDTH_FOR_PLANAR_EXTENTS=E.a.toRadians(1),t.a=n},W6xh:function(e,t,i){"use strict";function n(){this._listeners=[],this._scopes=[],this._toRemove=[],this._insideRaiseEvent=!1}function a(e,t){return t-e}var r=i("5F4X"),o=i("xC6Q");Object.defineProperties(n.prototype,{numberOfListeners:{get:function(){return this._listeners.length-this._toRemove.length}}}),n.prototype.addEventListener=function(e,t){r.a.typeOf.func("listener",e),this._listeners.push(e),this._scopes.push(t);var i=this;return function(){i.removeEventListener(e,t)}},n.prototype.removeEventListener=function(e,t){r.a.typeOf.func("listener",e);for(var i=this._listeners,n=this._scopes,a=-1,o=0;o<i.length;o++)if(i[o]===e&&n[o]===t){a=o;break}return-1!==a&&(this._insideRaiseEvent?(this._toRemove.push(a),i[a]=void 0,n[a]=void 0):(i.splice(a,1),n.splice(a,1)),!0)},n.prototype.raiseEvent=function(){this._insideRaiseEvent=!0;var e,t=this._listeners,i=this._scopes,n=t.length;for(e=0;e<n;e++){var r=t[e];Object(o.a)(r)&&t[e].apply(i[e],arguments)}var s=this._toRemove;if((n=s.length)>0){for(s.sort(a),e=0;e<n;e++){var c=s[e];t.splice(c,1),i.splice(c,1)}s.length=0}this._insideRaiseEvent=!1},t.a=n},WAeM:function(e,t,i){"use strict";t.a="/**\n * Calculates the specular intensity of reflected light.\n *\n * @name czm_getSpecular\n * @glslFunction\n *\n * @param {vec3} lightDirectionEC Unit vector pointing to the light source in eye coordinates.\n * @param {vec3} toEyeEC Unit vector pointing to the eye position in eye coordinates.\n * @param {vec3} normalEC The surface normal in eye coordinates.\n * @param {float} shininess The sharpness of the specular reflection.  Higher values create a smaller, more focused specular highlight.\n *\n * @returns {float} The intensity of the specular highlight.\n *\n * @see czm_phong\n *\n * @example\n * float diffuseIntensity = czm_getLambertDiffuse(lightDirectionEC, normalEC);\n * float specularIntensity = czm_getSpecular(lightDirectionEC, toEyeEC, normalEC, 200);\n * vec3 color = (diffuseColor * diffuseIntensity) + (specularColor * specularIntensity);\n */\nfloat czm_getSpecular(vec3 lightDirectionEC, vec3 toEyeEC, vec3 normalEC, float shininess)\n{\n    vec3 toReflectedLight = reflect(-lightDirectionEC, normalEC);\n    float specular = max(dot(toReflectedLight, toEyeEC), 0.0);\n\n    // pow has undefined behavior if both parameters <= 0.\n    // Prevent this by making sure shininess is at least czm_epsilon2.\n    return pow(specular, max(shininess, czm_epsilon2));\n}\n"},WER7:function(e,t,i){"use strict";var n=i("PiFy"),a=i("7ar3"),r=i("HVlG"),o=i("xTtY"),s=a("%Function.prototype.apply%"),c=a("%Function.prototype.call%"),l=a("%Reflect.apply%",!0)||n.call(c,s),u=i("ow1b"),h=a("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new o("a function is required");var t=l(n,c,arguments);return r(t,1+h(0,e.length-(arguments.length-1)),!0)};var d=function(){return l(n,s,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},WHkf:function(e,t,i){"use strict";t.a="/**\n * Determines if a time interval is empty.\n *\n * @name czm_isFull\n * @glslFunction \n * \n * @param {czm_raySegment} interval The interval to test.\n * \n * @returns {bool} <code>true</code> if the time interval is empty; otherwise, <code>false</code>.\n *\n * @example\n * bool b0 = czm_isEmpty(czm_emptyRaySegment);      // true\n * bool b1 = czm_isEmpty(czm_raySegment(0.0, 1.0)); // false\n * bool b2 = czm_isEmpty(czm_raySegment(1.0, 1.0)); // false, contains 1.0.\n */\nbool czm_isFull(czm_raySegment interval)\n{\n    return (interval.start == 0.0 && interval.stop == czm_infinity);\n}\n"},WJLM:function(e,t,i){"use strict";var n=i("yN+k"),a=i("80xk"),r=i("swJc");e.exports={formats:r,parse:a,stringify:n}},WJVr:function(e,t,i){"use strict";var n={AERIAL:2,AERIAL_WITH_LABELS:3,ROAD:4};t.a=Object.freeze(n)},WQL2:function(e,t,i){"use strict";t.a="attribute vec3 position;\nattribute float a_batchId;\n\nuniform mat4 u_modifiedModelViewProjection;\n\nvoid main()\n{\n    gl_Position = czm_depthClampFarPlane(u_modifiedModelViewProjection * vec4(position, 1.0));\n}\n"},WROA:function(e,t,i){"use strict";function n(e){if(!Object(r.a)(e))throw new o.a("uri is required.");var t=new a.a(e);t.normalize();var i=t.path,n=i.lastIndexOf("/");return-1!==n&&(i=i.substr(n+1)),i}var a=i("8Vjj"),r=i("xC6Q"),o=i("PzDm");t.a=n},WUNo:function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT),a.a.typeOf.object("options.scene",e.scene);var t=Object(o.a)(e.accessToken,c.a.defaultAccessToken),i=u.a.createIfNeeded(Object(o.a)(e.server,c.a.defaultServer));i.appendForwardSlash();var n=c.a.getDefaultTokenCredit(t);Object(s.a)(n)&&e.scene.frameState.creditDisplay.addDefaultCredit(r.a.clone(n));var h=i.getDerivedResource({url:"v1/geocode"});Object(s.a)(t)&&h.appendQueryParameters({access_token:t}),this._accessToken=t,this._server=i,this._pelias=new l.a(h)}var a=i("5F4X"),r=i("ODTd"),o=i("5A4e"),s=i("xC6Q"),c=i("dNIU"),l=i("EquO"),u=i("rMjQ");n.prototype.geocode=function(e,t){return this._pelias.geocode(e,t)},t.a=n},WUlw:function(e,t,i){"use strict";function n(e){var t=r(e.vertexShaderText,e.fragmentShaderText);this._gl=e.gl,this._logShaderCompilation=e.logShaderCompilation,this._debugShaders=e.debugShaders,this._attributeLocations=e.attributeLocations,this._program=void 0,this._numberOfVertexAttributes=void 0,this._vertexAttributes=void 0,this._uniformsByName=void 0,this._uniforms=void 0,this._automaticUniforms=void 0,this._manualUniforms=void 0,this._duplicateUniformNames=t.duplicateUniformNames,this._cachedShader=void 0,this.maximumTextureUnitIndex=void 0,this._vertexShaderSource=e.vertexShaderSource,this._vertexShaderText=e.vertexShaderText,this._fragmentShaderSource=e.fragmentShaderSource,this._fragmentShaderText=t.fragmentShaderText,this.id=w++}function a(e){var t=[],i=e.match(/uniform.*?(?![^{]*})(?=[=\[;])/g);if(Object(p.a)(i))for(var n=i.length,a=0;a<n;a++){var r=i[a].trim(),o=r.slice(r.lastIndexOf(" ")+1);t.push(o)}return t}function r(e,t){var i={};if(!b.a.highpFloatSupported||!b.a.highpIntSupported){var n,r,o,s,c=a(e),l=a(t),u=c.length,h=l.length;for(n=0;n<u;n++)for(r=0;r<h;r++)if(c[n]===l[r]){o=c[n],s="czm_mediump_"+o;var d=new RegExp(o+"\\b","g");t=t.replace(d,s),i[s]=o}}return{fragmentShaderText:t,duplicateUniformNames:i}}function o(e,t){var i=t._vertexShaderText,n=t._fragmentShaderText,a=e.createShader(e.VERTEX_SHADER);e.shaderSource(a,i),e.compileShader(a);var r=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(r,n),e.compileShader(r);var o=e.createProgram();e.attachShader(o,a),e.attachShader(o,r),e.deleteShader(a),e.deleteShader(r);var s=t._attributeLocations;if(Object(p.a)(s))for(var c in s)s.hasOwnProperty(c)&&e.bindAttribLocation(o,s[c],c);e.linkProgram(o);var l;if(!e.getProgramParameter(o,e.LINK_STATUS)){var u=t._debugShaders;if(!e.getShaderParameter(r,e.COMPILE_STATUS)){if(l=e.getShaderInfoLog(r),console.error(x+"Fragment shader compile log: "+l),Object(p.a)(u)){var h=u.getTranslatedShaderSource(r);""!==h?console.error(x+"Translated fragment shader source:\n"+h):console.error(x+"Fragment shader translation failed.")}throw e.deleteProgram(o),new _.a("Fragment shader failed to compile.  Compile log: "+l)}if(!e.getShaderParameter(a,e.COMPILE_STATUS)){if(l=e.getShaderInfoLog(a),console.error(x+"Vertex shader compile log: "+l),Object(p.a)(u)){var d=u.getTranslatedShaderSource(a);""!==d?console.error(x+"Translated vertex shader source:\n"+d):console.error(x+"Vertex shader translation failed.")}throw e.deleteProgram(o),new _.a("Vertex shader failed to compile.  Compile log: "+l)}throw l=e.getProgramInfoLog(o),console.error(x+"Shader program link log: "+l),Object(p.a)(u)&&(console.error(x+"Translated vertex shader source:\n"+u.getTranslatedShaderSource(a)),console.error(x+"Translated fragment shader source:\n"+u.getTranslatedShaderSource(r))),e.deleteProgram(o),new _.a("Program failed to link.  Link log: "+l)}var f=t._logShaderCompilation;return f&&(l=e.getShaderInfoLog(a),Object(p.a)(l)&&l.length>0&&console.log(x+"Vertex shader compile log: "+l)),f&&(l=e.getShaderInfoLog(r),Object(p.a)(l)&&l.length>0&&console.log(x+"Fragment shader compile log: "+l)),f&&(l=e.getProgramInfoLog(o),Object(p.a)(l)&&l.length>0&&console.log(x+"Shader program link log: "+l)),o}function s(e,t,i){for(var n={},a=0;a<i;++a){var r=e.getActiveAttrib(t,a),o=e.getAttribLocation(t,r.name);n[r.name]={name:r.name,type:r.type,index:o}}return n}function c(e,t){for(var i={},n=[],a=[],r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),o=0;o<r;++o){var s=e.getActiveUniform(t,o),c=-1!==s.name.indexOf("[0]",s.name.length-"[0]".length)?s.name.slice(0,s.name.length-3):s.name;if(0!==c.indexOf("gl_"))if(s.name.indexOf("[")<0){var l=e.getUniformLocation(t,c);if(null!==l){var u=Object(y.a)(e,s,c,l);i[c]=u,n.push(u),u._setSampler&&a.push(u)}}else{var h,d,f,m,g=c.indexOf("[");if(g>=0){if(h=i[c.slice(0,g)],!Object(p.a)(h))continue;d=h._locations,d.length<=1&&(f=h.value,null!==(m=e.getUniformLocation(t,c))&&(d.push(m),f.push(e.getUniform(t,m))))}else{d=[];for(var _=0;_<s.size;++_)null!==(m=e.getUniformLocation(t,c+"["+_+"]"))&&d.push(m);h=Object(O.a)(e,s,c,d),i[c]=h,n.push(h),h._setSampler&&a.push(h)}}}return{uniformsByName:i,uniforms:n,samplerUniforms:a}}function l(e,t){var i=[],n=[];for(var a in t)if(t.hasOwnProperty(a)){var r=t[a],o=a,s=e._duplicateUniformNames[o];Object(p.a)(s)&&(r.name=s,o=s);var c=v.a[o];Object(p.a)(c)?i.push({uniform:r,automaticUniform:c}):n.push(r)}return{automaticUniforms:i,manualUniforms:n}}function u(e,t,i){e.useProgram(t);for(var n=0,a=i.length,r=0;r<a;++r)n=i[r]._setSampler(n);return e.useProgram(null),n}function h(e){if(!Object(p.a)(e._program)){var t=e._gl,i=o(t,e,e._debugShaders),n=t.getProgramParameter(i,t.ACTIVE_ATTRIBUTES),a=c(t,i),r=l(e,a.uniformsByName);e._program=i,e._numberOfVertexAttributes=n,e._vertexAttributes=s(t,i,n),e._uniformsByName=a.uniformsByName,e._uniforms=a.uniforms,e._automaticUniforms=r.automaticUniforms,e._manualUniforms=r.manualUniforms,e.maximumTextureUnitIndex=u(t,i,a.samplerUniforms)}}var d=i("5F4X"),f=i("5A4e"),p=i("xC6Q"),m=i("6sr8"),g=i("PzDm"),_=i("V22k"),v=i("Zcrm"),b=i("J1no"),y=i("4JNl"),O=i("2bm4"),w=0;n.fromCache=function(e){return e=Object(f.a)(e,f.a.EMPTY_OBJECT),d.a.defined("options.context",e.context),e.context.shaderCache.getShaderProgram(e)},n.replaceCache=function(e){return e=Object(f.a)(e,f.a.EMPTY_OBJECT),d.a.defined("options.context",e.context),e.context.shaderCache.replaceShaderProgram(e)},Object.defineProperties(n.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},vertexAttributes:{get:function(){return h(this),this._vertexAttributes}},numberOfVertexAttributes:{get:function(){return h(this),this._numberOfVertexAttributes}},allUniforms:{get:function(){return h(this),this._uniformsByName}}});var x="[Cesium WebGL] ";n.prototype._bind=function(){h(this),this._gl.useProgram(this._program)},n.prototype._setUniforms=function(e,t,i){var n,a;if(Object(p.a)(e)){var r=this._manualUniforms;for(n=r.length,a=0;a<n;++a){var o=r[a];o.value=e[o.name]()}}var s=this._automaticUniforms;for(n=s.length,a=0;a<n;++a){var c=s[a];c.uniform.value=c.automaticUniform.getValue(t)}var l=this._uniforms;for(n=l.length,a=0;a<n;++a)l[a].set();if(i){var u=this._gl,h=this._program;if(u.validateProgram(h),!u.getProgramParameter(h,u.VALIDATE_STATUS))throw new g.a("Program validation failed.  Program info log: "+u.getProgramInfoLog(h))}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){this._cachedShader.cache.releaseShaderProgram(this)},n.prototype.finalDestroy=function(){return this._gl.deleteProgram(this._program),Object(m.a)(this)},t.a=n},WVIq:function(e,t,i){"use strict";t.a="uniform vec4 fadeInColor;\nuniform vec4 fadeOutColor;\nuniform float maximumDistance;\nuniform bool repeat;\nuniform vec2 fadeDirection;\nuniform vec2 time;\n\nfloat getTime(float t, float coord)\n{\n    float scalar = 1.0 / maximumDistance;\n    float q  = distance(t, coord) * scalar;\n    if (repeat)\n    {\n        float r = distance(t, coord + 1.0) * scalar;\n        float s = distance(t, coord - 1.0) * scalar;\n        q = min(min(r, s), q);\n    }\n    return clamp(q, 0.0, 1.0);\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 st = materialInput.st;\n    float s = getTime(time.x, st.s) * fadeDirection.s;\n    float t = getTime(time.y, st.t) * fadeDirection.t;\n\n    float u = length(vec2(s, t));\n    vec4 color = mix(fadeInColor, fadeOutColor, u);\n\n    color = czm_gammaCorrect(color);\n    material.emission = color.rgb;\n    material.alpha = color.a;\n\n    return material;\n}\n"},WW3v:function(e,t,i){"use strict";function n(e){if(e=Object(a.a)(e,a.a.EMPTY_OBJECT),!Object(r.a)(e.componentDatatype))throw new o.a("options.componentDatatype is required.");if(!Object(r.a)(e.componentsPerAttribute))throw new o.a("options.componentsPerAttribute is required.");if(e.componentsPerAttribute<1||e.componentsPerAttribute>4)throw new o.a("options.componentsPerAttribute must be between 1 and 4.");if(!Object(r.a)(e.value))throw new o.a("options.value is required.");this.componentDatatype=e.componentDatatype,this.componentsPerAttribute=e.componentsPerAttribute,this.normalize=Object(a.a)(e.normalize,!1),this.value=e.value}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm");t.a=n},WZiu:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT),this.color=Object(o.a)(e.color)?a.a.clone(e.color):a.a.WHITE,this.intensity=Object(r.a)(e.intensity,2)}var a=i("6F0S"),r=i("5A4e"),o=i("xC6Q");t.a=n},Wdl7:function(e,t,i){"use strict";function n(e){var t=e.points,i=e.times;if(t.length<3){var n=i[0],o=1/(i[1]-n),s=t[0],c=t[1];return function(e,t){Object(l.a)(t)||(t=new r.a);var i=(e-n)*o;return r.a.lerp(s,c,i,t)}}return function(n,o){Object(l.a)(o)||(o=new r.a);var s=e._lastTimeIndex=e.findTimeInterval(n,e._lastTimeIndex),c=(n-i[s])/(i[s+1]-i[s]),d=f;d.z=c,d.y=c*c,d.x=d.y*c,d.w=1;var g,_,v,b,y;return 0===s?(g=t[0],_=t[1],v=e.firstTangent,b=r.a.subtract(t[2],g,p),r.a.multiplyByScalar(b,.5,b),y=h.a.multiplyByVector(u.a.hermiteCoefficientMatrix,d,d)):s===t.length-2?(g=t[s],_=t[s+1],b=e.lastTangent,v=r.a.subtract(_,t[s-1],p),r.a.multiplyByScalar(v,.5,v),y=h.a.multiplyByVector(u.a.hermiteCoefficientMatrix,d,d)):(g=t[s-1],_=t[s],v=t[s+1],b=t[s+2],y=h.a.multiplyByVector(a.catmullRomCoefficientMatrix,d,d)),o=r.a.multiplyByScalar(g,y.x,o),r.a.multiplyByScalar(_,y.y,m),r.a.add(o,m,o),r.a.multiplyByScalar(v,y.z,m),r.a.add(o,m,o),r.a.multiplyByScalar(b,y.w,m),r.a.add(o,m,o)}}function a(e){e=Object(c.a)(e,c.a.EMPTY_OBJECT);var t=e.points,i=e.times,a=e.firstTangent,o=e.lastTangent;if(s.a.defined("points",t),s.a.defined("times",i),s.a.typeOf.number.greaterThanOrEquals("points.length",t.length,2),s.a.typeOf.number.equals("times.length","points.length",i.length,t.length),t.length>2&&(Object(l.a)(a)||(a=g,r.a.multiplyByScalar(t[1],2,a),r.a.subtract(a,t[2],a),r.a.subtract(a,t[0],a),r.a.multiplyByScalar(a,.5,a)),!Object(l.a)(o))){var u=t.length-1;o=_,r.a.multiplyByScalar(t[u-1],2,o),r.a.subtract(t[u],o,o),r.a.add(o,t[u-2],o),r.a.multiplyByScalar(o,.5,o)}this._times=i,this._points=t,this._firstTangent=r.a.clone(a),this._lastTangent=r.a.clone(o),this._evaluateFunction=n(this),this._lastTimeIndex=0}var r=i("Jj+J"),o=i("PDkd"),s=i("5F4X"),c=i("5A4e"),l=i("xC6Q"),u=i("EShY"),h=i("Xjii"),d=i("Jn+X"),f=new o.a,p=new r.a,m=new r.a,g=new r.a,_=new r.a;Object.defineProperties(a.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}},firstTangent:{get:function(){return this._firstTangent}},lastTangent:{get:function(){return this._lastTangent}}}),a.catmullRomCoefficientMatrix=new h.a(-.5,1,-.5,0,1.5,-2.5,0,1,-1.5,2,.5,0,.5,-.5,0,0),a.prototype.findTimeInterval=d.a.prototype.findTimeInterval,a.prototype.wrapTime=d.a.prototype.wrapTime,a.prototype.clampTime=d.a.prototype.clampTime,a.prototype.evaluate=function(e,t){return this._evaluateFunction(e,t)}},WgMS:function(e,t,i){"use strict";function n(){this.selected=0,this.visited=0,this.numberOfCommands=0,this.numberOfAttemptedRequests=0,this.numberOfPendingRequests=0,this.numberOfTilesProcessing=0,this.numberOfTilesWithContentReady=0,this.numberOfTilesTotal=0,this.numberOfLoadedTilesTotal=0,this.numberOfFeaturesSelected=0,this.numberOfFeaturesLoaded=0,this.numberOfPointsSelected=0,this.numberOfPointsLoaded=0,this.numberOfTrianglesSelected=0,this.numberOfTilesStyled=0,this.numberOfFeaturesStyled=0,this.numberOfTilesCulledWithChildrenUnion=0,this.geometryByteLength=0,this.texturesByteLength=0,this.batchTableByteLength=0}function a(e,t,i,n){var o=t.innerContents,s=t.pointsLength,c=t.trianglesLength,l=t.featuresLength,u=t.geometryByteLength,h=t.texturesByteLength,d=t.batchTableByteLength;if(n?(e.numberOfFeaturesLoaded+=i?-l:l,e.numberOfPointsLoaded+=i?-s:s,e.geometryByteLength+=i?-u:u,e.texturesByteLength+=i?-h:h,e.batchTableByteLength+=i?-d:d):(e.numberOfFeaturesSelected+=i?-l:l,e.numberOfPointsSelected+=i?-s:s,e.numberOfTrianglesSelected+=i?-c:c),Object(r.a)(o))for(var f=o.length,p=0;p<f;++p)a(e,o[p],i,n)}var r=i("xC6Q");n.prototype.clear=function(){this.selected=0,this.visited=0,this.numberOfCommands=0,this.numberOfAttemptedRequests=0,this.numberOfFeaturesSelected=0,this.numberOfPointsSelected=0,this.numberOfTrianglesSelected=0,this.numberOfTilesStyled=0,this.numberOfFeaturesStyled=0,this.numberOfTilesCulledWithChildrenUnion=0},n.prototype.incrementSelectionCounts=function(e){a(this,e,!1,!1)},n.prototype.incrementLoadCounts=function(e){a(this,e,!1,!0)},n.prototype.decrementLoadCounts=function(e){a(this,e,!0,!0)},n.clone=function(e,t){t.selected=e.selected,t.visited=e.visited,t.numberOfCommands=e.numberOfCommands,t.selected=e.selected,t.numberOfAttemptedRequests=e.numberOfAttemptedRequests,t.numberOfPendingRequests=e.numberOfPendingRequests,t.numberOfTilesProcessing=e.numberOfTilesProcessing,t.numberOfTilesWithContentReady=e.numberOfTilesWithContentReady,t.numberOfTilesTotal=e.numberOfTilesTotal,t.numberOfFeaturesSelected=e.numberOfFeaturesSelected,t.numberOfFeaturesLoaded=e.numberOfFeaturesLoaded,t.numberOfPointsSelected=e.numberOfPointsSelected,t.numberOfPointsLoaded=e.numberOfPointsLoaded,t.numberOfTrianglesSelected=e.numberOfTrianglesSelected,t.numberOfTilesStyled=e.numberOfTilesStyled,t.numberOfFeaturesStyled=e.numberOfFeaturesStyled,t.numberOfTilesCulledWithChildrenUnion=e.numberOfTilesCulledWithChildrenUnion,t.geometryByteLength=e.geometryByteLength,t.texturesByteLength=e.texturesByteLength,t.batchTableByteLength=e.batchTableByteLength},t.a=n},WmND:function(e,t,i){"use strict";function n(e){e._rebindAllGlyphs||e._repositionAllGlyphs||e._labelCollection._labelsToUpdate.push(e),e._rebindAllGlyphs=!0}function a(e){e._rebindAllGlyphs||e._repositionAllGlyphs||e._labelCollection._labelsToUpdate.push(e),e._repositionAllGlyphs=!0}function r(e,t){return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}function o(e){var t=S[e._font];if(!Object(v.a)(t)){var i=document.createElement("div");i.style.position="absolute",i.style.opacity=0,i.style.font=e._font,document.body.appendChild(i),t={family:r(i,"font-family"),size:r(i,"font-size").replace("px",""),style:r(i,"font-style"),weight:r(i,"font-weight")},document.body.removeChild(i),j<P&&(S[e._font]=t,j++)}e._fontFamily=t.family,e._fontSize=t.size,e._fontStyle=t.style,e._fontWeight=t.weight}function s(e,t){if(e=Object(_.a)(e,_.a.EMPTY_OBJECT),Object(v.a)(e.disableDepthTestDistance)&&e.disableDepthTestDistance<0)throw new b.a("disableDepthTestDistance must be greater than 0.0.");var i=e.translucencyByDistance,n=e.pixelOffsetScaleByDistance,a=e.scaleByDistance,r=e.distanceDisplayCondition;if(Object(v.a)(i)){if(i.far<=i.near)throw new b.a("translucencyByDistance.far must be greater than translucencyByDistance.near.");i=O.a.clone(i)}if(Object(v.a)(n)){if(n.far<=n.near)throw new b.a("pixelOffsetScaleByDistance.far must be greater than pixelOffsetScaleByDistance.near.");n=O.a.clone(n)}if(Object(v.a)(a)){if(a.far<=a.near)throw new b.a("scaleByDistance.far must be greater than scaleByDistance.near.");a=O.a.clone(a)}if(Object(v.a)(r)){if(r.far<=r.near)throw new b.a("distanceDisplayCondition.far must be greater than distanceDisplayCondition.near.");r=y.a.clone(r)}this._renderedText=void 0,this._text=void 0,this._show=Object(_.a)(e.show,!0),this._font=Object(_.a)(e.font,"30px sans-serif"),this._fillColor=g.a.clone(Object(_.a)(e.fillColor,g.a.WHITE)),this._outlineColor=g.a.clone(Object(_.a)(e.outlineColor,g.a.BLACK)),this._outlineWidth=Object(_.a)(e.outlineWidth,1),this._showBackground=Object(_.a)(e.showBackground,!1),this._backgroundColor=Object(_.a)(e.backgroundColor,new g.a(.165,.165,.165,.8)),this._backgroundPadding=Object(_.a)(e.backgroundPadding,new p.a(7,5)),this._style=Object(_.a)(e.style,T.a.FILL),this._verticalOrigin=Object(_.a)(e.verticalOrigin,C.a.BASELINE),this._horizontalOrigin=Object(_.a)(e.horizontalOrigin,E.a.LEFT),this._pixelOffset=p.a.clone(Object(_.a)(e.pixelOffset,p.a.ZERO)),this._eyeOffset=m.a.clone(Object(_.a)(e.eyeOffset,m.a.ZERO)),this._position=m.a.clone(Object(_.a)(e.position,m.a.ZERO)),this._scale=Object(_.a)(e.scale,1),this._id=e.id,this._translucencyByDistance=i,this._pixelOffsetScaleByDistance=n,this._scaleByDistance=a,this._heightReference=Object(_.a)(e.heightReference,x.a.NONE),this._distanceDisplayCondition=r,this._disableDepthTestDistance=e.disableDepthTestDistance,this._labelCollection=t,this._glyphs=[],this._backgroundBillboard=void 0,this._batchIndex=void 0,this._rebindAllGlyphs=!0,this._repositionAllGlyphs=!0,this._actualClampedPosition=void 0,this._removeCallbackFunc=void 0,this._mode=void 0,this._clusterShow=!0,this.text=Object(_.a)(e.text,""),this._relativeSize=1,o(this),this._updateClamping()}function c(e,t){for(var i=/[a-zA-Z0-9]/,n=/[()[\]{}<>]/,a=[],r="",o=D.LTR,s="",c=e.length,l=0;l<c;++l){var u=e.charAt(l);s=t.test(u)?D.RTL:i.test(u)?D.LTR:n.test(u)?D.BRACKETS:D.WEAK,0===l&&(o=s),o===s&&s!==D.BRACKETS?r+=u:(""!==r&&a.push({Type:o,Word:r}),o=s,r=u)}return a.push({Type:s,Word:r}),a}function l(e){return e.split("").reverse().join("")}function u(e,t,i){return e.slice(0,t)+i+e.slice(t)}function h(e){switch(e){case"(":return")";case")":return"(";case"[":return"]";case"]":return"[";case"{":return"}";case"}":return"{";case"<":return">";case">":return"<"}}function d(e){for(var t=e.split("\n"),i="",n=0;n<t.length;n++){for(var a=t[n],r=I.test(a.charAt(0)),o=c(a,I),s=0,d="",f=0;f<o.length;++f){var p=o[f],m=p.Type===D.BRACKETS?h(p.Word):l(p.Word);r?p.Type===D.RTL?(d=m+d,s=0):p.Type===D.LTR?(d=u(d,s,p.Word),s+=p.Word.length):p.Type!==D.WEAK&&p.Type!==D.BRACKETS||(p.Type===D.WEAK&&o[f-1].Type===D.BRACKETS?d=m+d:o[f-1].Type===D.RTL?(d=m+d,s=0):o.length>f+1?o[f+1].Type===D.RTL?(d=m+d,s=0):(d=u(d,s,p.Word),s+=p.Word.length):d=u(d,0,m)):p.Type===D.RTL?d=u(d,s,m):p.Type===D.LTR?(d+=p.Word,s=d.length):p.Type!==D.WEAK&&p.Type!==D.BRACKETS||(f>0&&o[f-1].Type===D.RTL?o.length>f+1?o[f+1].Type===D.RTL?d=u(d,s,m):(d+=p.Word,s=d.length):d+=p.Word:(d+=p.Word,s=d.length))}i+=d,n<t.length-1&&(i+="\n")}return i}var f=i("or8k"),p=i("Ss9j"),m=i("Jj+J"),g=i("6F0S"),_=i("5A4e"),v=i("xC6Q"),b=i("PzDm"),y=i("2d28"),O=i("UkIP"),w=i("UQXk"),x=i("JIo7"),E=i("EwVK"),T=i("RyAG"),A=i("NFk4"),C=i("H5bb"),S={},j=0,P=256,D=Object.freeze({LTR:0,RTL:1,WEAK:2,BRACKETS:3});Object.defineProperties(s.prototype,{show:{get:function(){return this._show},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");if(this._show!==e){this._show=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var a=t[i].billboard;Object(v.a)(a)&&(a.show=e)}var r=this._backgroundBillboard;Object(v.a)(r)&&(r.show=e)}}},position:{get:function(){return this._position},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");var t=this._position;if(!m.a.equals(t,e)){m.a.clone(e,t);for(var i=this._glyphs,n=0,a=i.length;n<a;n++){var r=i[n].billboard;Object(v.a)(r)&&(r.position=e)}var o=this._backgroundBillboard;Object(v.a)(o)&&(o.position=e),this._updateClamping()}}},heightReference:{get:function(){return this._heightReference},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");if(e!==this._heightReference){this._heightReference=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var r=t[i].billboard;Object(v.a)(r)&&(r.heightReference=e)}var o=this._backgroundBillboard;Object(v.a)(o)&&(o.heightReference=e),a(this),this._updateClamping()}}},text:{get:function(){return this._text},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");this._text!==e&&(this._text=e,this._renderedText=s.enableRightToLeftDetection?d(e):e,n(this))}},font:{get:function(){return this._font},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");this._font!==e&&(this._font=e,n(this),o(this))}},fillColor:{get:function(){return this._fillColor},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");var t=this._fillColor;g.a.equals(t,e)||(g.a.clone(e,t),n(this))}},outlineColor:{get:function(){return this._outlineColor},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");var t=this._outlineColor;g.a.equals(t,e)||(g.a.clone(e,t),n(this))}},outlineWidth:{get:function(){return this._outlineWidth},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");this._outlineWidth!==e&&(this._outlineWidth=e,n(this))}},showBackground:{get:function(){return this._showBackground},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");this._showBackground!==e&&(this._showBackground=e,n(this))}},backgroundColor:{get:function(){return this._backgroundColor},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");var t=this._backgroundColor;if(!g.a.equals(t,e)){g.a.clone(e,t);var i=this._backgroundBillboard;Object(v.a)(i)&&(i.color=t)}}},backgroundPadding:{get:function(){return this._backgroundPadding},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");var t=this._backgroundPadding;p.a.equals(t,e)||(p.a.clone(e,t),a(this))}},style:{get:function(){return this._style},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");this._style!==e&&(this._style=e,n(this))}},pixelOffset:{get:function(){return this._pixelOffset},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");var t=this._pixelOffset;if(!p.a.equals(t,e)){p.a.clone(e,t);for(var i=this._glyphs,n=0,a=i.length;n<a;n++){var r=i[n];Object(v.a)(r.billboard)&&(r.billboard.pixelOffset=e)}var o=this._backgroundBillboard;Object(v.a)(o)&&(o.pixelOffset=e)}}},translucencyByDistance:{get:function(){return this._translucencyByDistance},set:function(e){if(Object(v.a)(e)&&e.far<=e.near)throw new b.a("far distance must be greater than near distance.");var t=this._translucencyByDistance;if(!O.a.equals(t,e)){this._translucencyByDistance=O.a.clone(e,t);for(var i=this._glyphs,n=0,a=i.length;n<a;n++){var r=i[n];Object(v.a)(r.billboard)&&(r.billboard.translucencyByDistance=e)}var o=this._backgroundBillboard;Object(v.a)(o)&&(o.translucencyByDistance=e)}}},pixelOffsetScaleByDistance:{get:function(){return this._pixelOffsetScaleByDistance},set:function(e){if(Object(v.a)(e)&&e.far<=e.near)throw new b.a("far distance must be greater than near distance.");var t=this._pixelOffsetScaleByDistance;if(!O.a.equals(t,e)){this._pixelOffsetScaleByDistance=O.a.clone(e,t);for(var i=this._glyphs,n=0,a=i.length;n<a;n++){var r=i[n];Object(v.a)(r.billboard)&&(r.billboard.pixelOffsetScaleByDistance=e)}var o=this._backgroundBillboard;Object(v.a)(o)&&(o.pixelOffsetScaleByDistance=e)}}},scaleByDistance:{get:function(){return this._scaleByDistance},set:function(e){if(Object(v.a)(e)&&e.far<=e.near)throw new b.a("far distance must be greater than near distance.");var t=this._scaleByDistance;if(!O.a.equals(t,e)){this._scaleByDistance=O.a.clone(e,t);for(var i=this._glyphs,n=0,a=i.length;n<a;n++){var r=i[n];Object(v.a)(r.billboard)&&(r.billboard.scaleByDistance=e)}var o=this._backgroundBillboard;Object(v.a)(o)&&(o.scaleByDistance=e)}}},eyeOffset:{get:function(){return this._eyeOffset},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");var t=this._eyeOffset;if(!m.a.equals(t,e)){m.a.clone(e,t);for(var i=this._glyphs,n=0,a=i.length;n<a;n++){var r=i[n];Object(v.a)(r.billboard)&&(r.billboard.eyeOffset=e)}var o=this._backgroundBillboard;Object(v.a)(o)&&(o.eyeOffset=e)}}},horizontalOrigin:{get:function(){return this._horizontalOrigin},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");this._horizontalOrigin!==e&&(this._horizontalOrigin=e,a(this))}},verticalOrigin:{get:function(){return this._verticalOrigin},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");if(this._verticalOrigin!==e){this._verticalOrigin=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var r=t[i];Object(v.a)(r.billboard)&&(r.billboard.verticalOrigin=e)}var o=this._backgroundBillboard;Object(v.a)(o)&&(o.verticalOrigin=e),a(this)}}},scale:{get:function(){return this._scale},set:function(e){if(!Object(v.a)(e))throw new b.a("value is required.");if(this._scale!==e){this._scale=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var r=t[i];Object(v.a)(r.billboard)&&(r.billboard.scale=e*this._relativeSize)}var o=this._backgroundBillboard;Object(v.a)(o)&&(o.scale=e*this._relativeSize),a(this)}}},totalScale:{get:function(){return this._scale*this._relativeSize}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){if(Object(v.a)(e)&&e.far<=e.near)throw new b.a("far must be greater than near");if(!y.a.equals(e,this._distanceDisplayCondition)){this._distanceDisplayCondition=y.a.clone(e,this._distanceDisplayCondition);for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var a=t[i];Object(v.a)(a.billboard)&&(a.billboard.distanceDisplayCondition=e)}var r=this._backgroundBillboard;Object(v.a)(r)&&(r.distanceDisplayCondition=e)}}},disableDepthTestDistance:{get:function(){return this._disableDepthTestDistance},set:function(e){if(this._disableDepthTestDistance!==e){if(Object(v.a)(e)&&e<0)throw new b.a("disableDepthTestDistance must be greater than 0.0.");this._disableDepthTestDistance=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var a=t[i];Object(v.a)(a.billboard)&&(a.billboard.disableDepthTestDistance=e)}var r=this._backgroundBillboard;Object(v.a)(r)&&(r.disableDepthTestDistance=e)}}},id:{get:function(){return this._id},set:function(e){if(this._id!==e){this._id=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var a=t[i];Object(v.a)(a.billboard)&&(a.billboard.id=e)}var r=this._backgroundBillboard;Object(v.a)(r)&&(r.id=e)}}},pickId:{get:function(){if(0!==this._glyphs.length&&Object(v.a)(this._glyphs[0].billboard))return this._glyphs[0].billboard.pickId}},_clampedPosition:{get:function(){return this._actualClampedPosition},set:function(e){this._actualClampedPosition=m.a.clone(e,this._actualClampedPosition);for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var a=t[i];Object(v.a)(a.billboard)&&(a.billboard._clampedPosition=e)}var r=this._backgroundBillboard;Object(v.a)(r)&&(r._clampedPosition=e)}},clusterShow:{get:function(){return this._clusterShow},set:function(e){if(this._clusterShow!==e){this._clusterShow=e;for(var t=this._glyphs,i=0,n=t.length;i<n;i++){var a=t[i];Object(v.a)(a.billboard)&&(a.billboard.clusterShow=e)}var r=this._backgroundBillboard;Object(v.a)(r)&&(r.clusterShow=e)}}}}),s.prototype._updateClamping=function(){w.a._updateClamping(this._labelCollection,this)},s.prototype.computeScreenSpacePosition=function(e,t){if(!Object(v.a)(e))throw new b.a("scene is required.");Object(v.a)(t)||(t=new p.a);var i=this._labelCollection,n=i.modelMatrix,a=Object(v.a)(this._actualClampedPosition)?this._actualClampedPosition:this._position;return w.a._computeScreenSpacePosition(n,a,this._eyeOffset,this._pixelOffset,e,t)},s.getScreenSpaceBoundingBox=function(e,t,i){var n=0,a=0,r=0,o=0,s=e.totalScale,c=e._backgroundBillboard;if(Object(v.a)(c))n=t.x+c._translate.x,a=t.y-c._translate.y,r=c.width*s,o=c.height*s,e.verticalOrigin===C.a.BOTTOM||e.verticalOrigin===C.a.BASELINE?a-=o:e.verticalOrigin===C.a.CENTER&&(a-=.5*o);else{n=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;for(var l=0,u=0,h=e._glyphs,d=h.length,p=0;p<d;++p){var m=h[p],g=m.billboard;if(Object(v.a)(g)){var _=t.x+g._translate.x,b=t.y-g._translate.y,y=m.dimensions.width*s,O=m.dimensions.height*s;e.verticalOrigin===C.a.BOTTOM||e.verticalOrigin===C.a.BASELINE?b-=O:e.verticalOrigin===C.a.CENTER&&(b-=.5*O),e._verticalOrigin===C.a.TOP?b+=A.a.PADDING*s:e._verticalOrigin!==C.a.BOTTOM&&e._verticalOrigin!==C.a.BASELINE||(b-=A.a.PADDING*s),n=Math.min(n,_),a=Math.min(a,b),l=Math.max(l,_+y),u=Math.max(u,b+O)}}r=l-n,o=u-a}return Object(v.a)(i)||(i=new f.a),i.x=n,i.y=a,i.width=r,i.height=o,i},s.prototype.equals=function(e){return this===e||Object(v.a)(e)&&this._show===e._show&&this._scale===e._scale&&this._outlineWidth===e._outlineWidth&&this._showBackground===e._showBackground&&this._style===e._style&&this._verticalOrigin===e._verticalOrigin&&this._horizontalOrigin===e._horizontalOrigin&&this._heightReference===e._heightReference&&this._renderedText===e._renderedText&&this._font===e._font&&m.a.equals(this._position,e._position)&&g.a.equals(this._fillColor,e._fillColor)&&g.a.equals(this._outlineColor,e._outlineColor)&&g.a.equals(this._backgroundColor,e._backgroundColor)&&p.a.equals(this._backgroundPadding,e._backgroundPadding)&&p.a.equals(this._pixelOffset,e._pixelOffset)&&m.a.equals(this._eyeOffset,e._eyeOffset)&&O.a.equals(this._translucencyByDistance,e._translucencyByDistance)&&O.a.equals(this._pixelOffsetScaleByDistance,e._pixelOffsetScaleByDistance)&&O.a.equals(this._scaleByDistance,e._scaleByDistance)&&y.a.equals(this._distanceDisplayCondition,e._distanceDisplayCondition)&&this._disableDepthTestDistance===e._disableDepthTestDistance&&this._id===e._id},s.prototype.isDestroyed=function(){return!1},s.enableRightToLeftDetection=!1;var I=new RegExp("[א-ת؀-ۿݐ-ݿࢠ-ࣿ]");t.a=s},Wpmx:function(e,t,i){"use strict";function n(e,t,i,n,r){return new a(e,t,i,n,r)}function a(e,t,i,n,a){t=t||r,i=i||o,a=a||Array,this.nodeSize=n||64,this.points=e,this.ids=new a(e.length),this.coords=new a(2*e.length);for(var s=0;s<e.length;s++)this.ids[s]=s,this.coords[2*s]=t(e[s]),this.coords[2*s+1]=i(e[s]);c(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function r(e){return e[0]}function o(e){return e[1]}function s(e,t,i,n,a,r,o){for(var s,c,l=[0,e.length-1,0],u=[];l.length;){var h=l.pop(),d=l.pop(),f=l.pop();if(d-f<=o)for(var p=f;p<=d;p++)s=t[2*p],c=t[2*p+1],s>=i&&s<=a&&c>=n&&c<=r&&u.push(e[p]);else{var m=Math.floor((f+d)/2);s=t[2*m],c=t[2*m+1],s>=i&&s<=a&&c>=n&&c<=r&&u.push(e[m]);var g=(h+1)%2;(0===h?i<=s:n<=c)&&(l.push(f),l.push(m-1),l.push(g)),(0===h?a>=s:r>=c)&&(l.push(m+1),l.push(d),l.push(g))}}return u}function c(e,t,i,n,a,r){if(!(a-n<=i)){var o=Math.floor((n+a)/2);l(e,t,o,n,a,r%2),c(e,t,i,n,o-1,r+1),c(e,t,i,o+1,a,r+1)}}function l(e,t,i,n,a,r){for(;a>n;){if(a-n>600){var o=a-n+1,s=i-n+1,c=Math.log(o),h=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*h*(o-h)/o)*(s-o/2<0?-1:1);l(e,t,i,Math.max(n,Math.floor(i-s*h/o+d)),Math.min(a,Math.floor(i+(o-s)*h/o+d)),r)}var f=t[2*i+r],p=n,m=a;for(u(e,t,n,i),t[2*a+r]>f&&u(e,t,n,a);p<m;){for(u(e,t,p,m),p++,m--;t[2*p+r]<f;)p++;for(;t[2*m+r]>f;)m--}t[2*n+r]===f?u(e,t,n,m):(m++,u(e,t,m,a)),m<=i&&(n=m+1),i<=m&&(a=m-1)}}function u(e,t,i,n){h(e,i,n),h(t,2*i,2*n),h(t,2*i+1,2*n+1)}function h(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function d(e,t,i,n,a,r){for(var o=[0,e.length-1,0],s=[],c=a*a;o.length;){var l=o.pop(),u=o.pop(),h=o.pop();if(u-h<=r)for(var d=h;d<=u;d++)f(t[2*d],t[2*d+1],i,n)<=c&&s.push(e[d]);else{var p=Math.floor((h+u)/2),m=t[2*p],g=t[2*p+1];f(m,g,i,n)<=c&&s.push(e[p]);var _=(l+1)%2;(0===l?i-a<=m:n-a<=g)&&(o.push(h),o.push(p-1),o.push(_)),(0===l?i+a>=m:n+a>=g)&&(o.push(p+1),o.push(u),o.push(_))}}return s}function f(e,t,i,n){var a=e-i,r=t-n;return a*a+r*r}a.prototype={range:function(e,t,i,n){return s(this.ids,this.coords,e,t,i,n,this.nodeSize)},within:function(e,t,i){return d(this.ids,this.coords,e,t,i,this.nodeSize)}},t.a=n},Wq1U:function(e,t,i){"use strict";function n(e,t,i,n){this.west=Object(o.a)(e,0),this.south=Object(o.a)(t,0),this.east=Object(o.a)(i,0),this.north=Object(o.a)(n,0)}var a=i("I3GD"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("y6fO"),l=i("fq+p");Object.defineProperties(n.prototype,{width:{get:function(){return n.computeWidth(this)}},height:{get:function(){return n.computeHeight(this)}}}),n.packedLength=4,n.pack=function(e,t,i){return r.a.typeOf.object("value",e),r.a.defined("array",t),i=Object(o.a)(i,0),t[i++]=e.west,t[i++]=e.south,t[i++]=e.east,t[i]=e.north,t},n.unpack=function(e,t,i){return r.a.defined("array",e),t=Object(o.a)(t,0),Object(s.a)(i)||(i=new n),i.west=e[t++],i.south=e[t++],i.east=e[t++],i.north=e[t],i},n.computeWidth=function(e){r.a.typeOf.object("rectangle",e);var t=e.east,i=e.west;return t<i&&(t+=l.a.TWO_PI),t-i},n.computeHeight=function(e){return r.a.typeOf.object("rectangle",e),e.north-e.south},n.fromDegrees=function(e,t,i,a,r){return e=l.a.toRadians(Object(o.a)(e,0)),t=l.a.toRadians(Object(o.a)(t,0)),i=l.a.toRadians(Object(o.a)(i,0)),a=l.a.toRadians(Object(o.a)(a,0)),Object(s.a)(r)?(r.west=e,r.south=t,r.east=i,r.north=a,r):new n(e,t,i,a)},n.fromRadians=function(e,t,i,a,r){return Object(s.a)(r)?(r.west=Object(o.a)(e,0),r.south=Object(o.a)(t,0),r.east=Object(o.a)(i,0),r.north=Object(o.a)(a,0),r):new n(e,t,i,a)},n.fromCartographicArray=function(e,t){r.a.defined("cartographics",e);for(var i=Number.MAX_VALUE,a=-Number.MAX_VALUE,o=Number.MAX_VALUE,c=-Number.MAX_VALUE,u=Number.MAX_VALUE,h=-Number.MAX_VALUE,d=0,f=e.length;d<f;d++){var p=e[d];i=Math.min(i,p.longitude),a=Math.max(a,p.longitude),u=Math.min(u,p.latitude),h=Math.max(h,p.latitude);var m=p.longitude>=0?p.longitude:p.longitude+l.a.TWO_PI;o=Math.min(o,m),c=Math.max(c,m)}return a-i>c-o&&(i=o,a=c,a>l.a.PI&&(a-=l.a.TWO_PI),i>l.a.PI&&(i-=l.a.TWO_PI)),Object(s.a)(t)?(t.west=i,t.south=u,t.east=a,t.north=h,t):new n(i,u,a,h)},n.fromCartesianArray=function(e,t,i){r.a.defined("cartesians",e),t=Object(o.a)(t,c.a.WGS84);for(var a=Number.MAX_VALUE,u=-Number.MAX_VALUE,h=Number.MAX_VALUE,d=-Number.MAX_VALUE,f=Number.MAX_VALUE,p=-Number.MAX_VALUE,m=0,g=e.length;m<g;m++){var _=t.cartesianToCartographic(e[m]);a=Math.min(a,_.longitude),u=Math.max(u,_.longitude),f=Math.min(f,_.latitude),p=Math.max(p,_.latitude);var v=_.longitude>=0?_.longitude:_.longitude+l.a.TWO_PI;h=Math.min(h,v),d=Math.max(d,v)}return u-a>d-h&&(a=h,u=d,u>l.a.PI&&(u-=l.a.TWO_PI),a>l.a.PI&&(a-=l.a.TWO_PI)),Object(s.a)(i)?(i.west=a,i.south=f,i.east=u,i.north=p,i):new n(a,f,u,p)},n.clone=function(e,t){if(Object(s.a)(e))return Object(s.a)(t)?(t.west=e.west,t.south=e.south,t.east=e.east,t.north=e.north,t):new n(e.west,e.south,e.east,e.north)},n.equalsEpsilon=function(e,t,i){return r.a.typeOf.number("absoluteEpsilon",i),e===t||Object(s.a)(e)&&Object(s.a)(t)&&Math.abs(e.west-t.west)<=i&&Math.abs(e.south-t.south)<=i&&Math.abs(e.east-t.east)<=i&&Math.abs(e.north-t.north)<=i},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.equals=function(e,t){return e===t||Object(s.a)(e)&&Object(s.a)(t)&&e.west===t.west&&e.south===t.south&&e.east===t.east&&e.north===t.north},n.prototype.equalsEpsilon=function(e,t){return r.a.typeOf.number("epsilon",t),n.equalsEpsilon(this,e,t)},n.validate=function(e){r.a.typeOf.object("rectangle",e);var t=e.north;r.a.typeOf.number.greaterThanOrEquals("north",t,-l.a.PI_OVER_TWO),r.a.typeOf.number.lessThanOrEquals("north",t,l.a.PI_OVER_TWO);var i=e.south;r.a.typeOf.number.greaterThanOrEquals("south",i,-l.a.PI_OVER_TWO),r.a.typeOf.number.lessThanOrEquals("south",i,l.a.PI_OVER_TWO);var n=e.west;r.a.typeOf.number.greaterThanOrEquals("west",n,-Math.PI),r.a.typeOf.number.lessThanOrEquals("west",n,Math.PI);var a=e.east;r.a.typeOf.number.greaterThanOrEquals("east",a,-Math.PI),r.a.typeOf.number.lessThanOrEquals("east",a,Math.PI)},n.southwest=function(e,t){return r.a.typeOf.object("rectangle",e),Object(s.a)(t)?(t.longitude=e.west,t.latitude=e.south,t.height=0,t):new a.a(e.west,e.south)},n.northwest=function(e,t){return r.a.typeOf.object("rectangle",e),Object(s.a)(t)?(t.longitude=e.west,t.latitude=e.north,t.height=0,t):new a.a(e.west,e.north)},n.northeast=function(e,t){return r.a.typeOf.object("rectangle",e),Object(s.a)(t)?(t.longitude=e.east,t.latitude=e.north,t.height=0,t):new a.a(e.east,e.north)},n.southeast=function(e,t){return r.a.typeOf.object("rectangle",e),Object(s.a)(t)?(t.longitude=e.east,t.latitude=e.south,t.height=0,t):new a.a(e.east,e.south)},n.center=function(e,t){r.a.typeOf.object("rectangle",e);var i=e.east,n=e.west;i<n&&(i+=l.a.TWO_PI);var o=l.a.negativePiToPi(.5*(n+i)),c=.5*(e.south+e.north);return Object(s.a)(t)?(t.longitude=o,t.latitude=c,t.height=0,t):new a.a(o,c)},n.intersection=function(e,t,i){r.a.typeOf.object("rectangle",e),r.a.typeOf.object("otherRectangle",t);var a=e.east,o=e.west,c=t.east,u=t.west;a<o&&c>0?a+=l.a.TWO_PI:c<u&&a>0&&(c+=l.a.TWO_PI),a<o&&u<0?u+=l.a.TWO_PI:c<u&&o<0&&(o+=l.a.TWO_PI);var h=l.a.negativePiToPi(Math.max(o,u)),d=l.a.negativePiToPi(Math.min(a,c));if(!((e.west<e.east||t.west<t.east)&&d<=h)){var f=Math.max(e.south,t.south),p=Math.min(e.north,t.north);if(!(f>=p))return Object(s.a)(i)?(i.west=h,i.south=f,i.east=d,i.north=p,i):new n(h,f,d,p)}},n.simpleIntersection=function(e,t,i){r.a.typeOf.object("rectangle",e),r.a.typeOf.object("otherRectangle",t);var a=Math.max(e.west,t.west),o=Math.max(e.south,t.south),c=Math.min(e.east,t.east),l=Math.min(e.north,t.north);if(!(o>=l||a>=c))return Object(s.a)(i)?(i.west=a,i.south=o,i.east=c,i.north=l,i):new n(a,o,c,l)},n.union=function(e,t,i){r.a.typeOf.object("rectangle",e),r.a.typeOf.object("otherRectangle",t),Object(s.a)(i)||(i=new n);var a=e.east,o=e.west,c=t.east,u=t.west;a<o&&c>0?a+=l.a.TWO_PI:c<u&&a>0&&(c+=l.a.TWO_PI),a<o&&u<0?u+=l.a.TWO_PI:c<u&&o<0&&(o+=l.a.TWO_PI);var h=l.a.convertLongitudeRange(Math.min(o,u)),d=l.a.convertLongitudeRange(Math.max(a,c));return i.west=h,i.south=Math.min(e.south,t.south),i.east=d,i.north=Math.max(e.north,t.north),i},n.expand=function(e,t,i){return r.a.typeOf.object("rectangle",e),r.a.typeOf.object("cartographic",t),Object(s.a)(i)||(i=new n),i.west=Math.min(e.west,t.longitude),i.south=Math.min(e.south,t.latitude),i.east=Math.max(e.east,t.longitude),i.north=Math.max(e.north,t.latitude),i},n.contains=function(e,t){r.a.typeOf.object("rectangle",e),r.a.typeOf.object("cartographic",t);var i=t.longitude,n=t.latitude,a=e.west,o=e.east;return o<a&&(o+=l.a.TWO_PI,i<0&&(i+=l.a.TWO_PI)),(i>a||l.a.equalsEpsilon(i,a,l.a.EPSILON14))&&(i<o||l.a.equalsEpsilon(i,o,l.a.EPSILON14))&&n>=e.south&&n<=e.north};var u=new a.a;n.subsample=function(e,t,i,a){r.a.typeOf.object("rectangle",e),t=Object(o.a)(t,c.a.WGS84),i=Object(o.a)(i,0),Object(s.a)(a)||(a=[]);var h=0,d=e.north,f=e.south,p=e.east,m=e.west,g=u;g.height=i,g.longitude=m,g.latitude=d,a[h]=t.cartographicToCartesian(g,a[h]),h++,g.longitude=p,a[h]=t.cartographicToCartesian(g,a[h]),h++,g.latitude=f,a[h]=t.cartographicToCartesian(g,a[h]),h++,g.longitude=m,a[h]=t.cartographicToCartesian(g,a[h]),h++,g.latitude=d<0?d:f>0?f:0;for(var _=1;_<8;++_)g.longitude=-Math.PI+_*l.a.PI_OVER_TWO,n.contains(e,g)&&(a[h]=t.cartographicToCartesian(g,a[h]),h++);return 0===g.latitude&&(g.longitude=m,a[h]=t.cartographicToCartesian(g,a[h]),h++,g.longitude=p,a[h]=t.cartographicToCartesian(g,a[h]),h++),a.length=h,a},n.MAX_VALUE=Object.freeze(new n(-Math.PI,-l.a.PI_OVER_TWO,Math.PI,l.a.PI_OVER_TWO)),t.a=n},WvYO:function(e,t,i){"use strict";t.a="/**\n * Converts an HSL color (hue, saturation, lightness) to RGB\n * HSL <-> RGB conversion: {@link http://www.chilliant.com/rgb2hsv.html}\n *\n * @name czm_HSLToRGB\n * @glslFunction\n * \n * @param {vec3} rgb The color in HSL.\n *\n * @returns {vec3} The color in RGB.\n *\n * @example\n * vec3 hsl = czm_RGBToHSL(rgb);\n * hsl.z *= 0.1;\n * rgb = czm_HSLToRGB(hsl);\n */\n\nvec3 hueToRGB(float hue)\n{\n    float r = abs(hue * 6.0 - 3.0) - 1.0;\n    float g = 2.0 - abs(hue * 6.0 - 2.0);\n    float b = 2.0 - abs(hue * 6.0 - 4.0);\n    return clamp(vec3(r, g, b), 0.0, 1.0);\n}\n\nvec3 czm_HSLToRGB(vec3 hsl)\n{\n    vec3 rgb = hueToRGB(hsl.x);\n    float c = (1.0 - abs(2.0 * hsl.z - 1.0)) * hsl.y;\n    return (rgb - 0.5) * c + hsl.z;\n}\n"},WwX8:function(e,t,i){"use strict";function n(e){return Object(l.a)("Assets/Textures/SkyBox/tycho2t3_80_"+e+".jpg")}function a(e){function t(n){if(!e.isDestroyed())if(e._useDefaultRenderLoop)try{var a=e._targetFrameRate;if(Object(f.a)(a)){var r=1e3/a,o=n-i;o>r&&(e.resize(),e.render(),i=n-o%r),Object(b.a)(t)}else e.resize(),e.render(),Object(b.a)(t)}catch(t){if(e._useDefaultRenderLoop=!1,e._renderLoopRunning=!1,e._showRenderLoopErrors){e.showErrorPanel("An error occurred while rendering.  Rendering has stopped.",void 0,t)}}else e._renderLoopRunning=!1}e._renderLoopRunning=!0;var i=0;Object(b.a)(t)}function r(e){var t=e._useBrowserRecommendedResolution?1:window.devicePixelRatio;return t*=e._resolutionScale,Object(f.a)(e._scene)&&(e._scene.pixelRatio=t),t}function o(e){var t=e._canvas,i=t.clientWidth,n=t.clientHeight,a=r(e);e._canvasClientWidth=i,e._canvasClientHeight=n,i*=a,n*=a,t.width=i,t.height=n,e._canRender=0!==i&&0!==n,e._lastDevicePixelRatio=window.devicePixelRatio}function s(e){var t=e._canvas,i=t.width,n=t.height;if(0!==i&&0!==n){var a=e._scene.camera.frustum;Object(f.a)(a.aspectRatio)?a.aspectRatio=i/n:(a.top=a.right*(n/i),a.bottom=-a.top)}}function c(e,t){if(!Object(f.a)(e))throw new m.a("container is required.");e=Object(P.a)(e),t=Object(d.a)(t,d.a.EMPTY_OBJECT);var i=document.createElement("div");i.className="cesium-widget",e.appendChild(i);var a=document.createElement("canvas"),c=_.a.supportsImageRenderingPixelated();this._supportsImageRenderingPixelated=c,c&&(a.style.imageRendering=_.a.imageRenderingValue()),a.oncontextmenu=function(){return!1},a.onselectstart=function(){return!1},i.appendChild(a);var l=document.createElement("div");l.className="cesium-widget-credits";var p=Object(f.a)(t.creditContainer)?Object(P.a)(t.creditContainer):i;p.appendChild(l);var v=Object(f.a)(t.creditViewport)?Object(P.a)(t.creditViewport):i,b=Object(d.a)(t.showRenderLoopErrors,!0),D=Object(d.a)(t.useBrowserRecommendedResolution,!0);this._element=i,this._container=e,this._canvas=a,this._canvasClientWidth=0,this._canvasClientHeight=0,this._lastDevicePixelRatio=0,this._creditViewport=v,this._creditContainer=p,this._innerCreditContainer=l,this._canRender=!1,this._renderLoopRunning=!1,this._showRenderLoopErrors=b,this._resolutionScale=1,this._useBrowserRecommendedResolution=D,this._forceResize=!1,this._clock=Object(f.a)(t.clock)?t.clock:new h.a,o(this);try{var I=new E.a({canvas:a,contextOptions:t.contextOptions,creditContainer:l,creditViewport:v,mapProjection:t.mapProjection,orderIndependentTranslucency:t.orderIndependentTranslucency,scene3DOnly:Object(d.a)(t.scene3DOnly,!1),terrainExaggeration:t.terrainExaggeration,shadows:t.shadows,mapMode2D:t.mapMode2D,requestRenderMode:t.requestRenderMode,maximumRenderTimeChange:t.maximumRenderTimeChange});this._scene=I,I.camera.constrainedAxis=u.a.UNIT_Z,r(this),s(this);var R=Object(d.a)(I.mapProjection.ellipsoid,g.a.WGS84),M=t.globe;Object(f.a)(M)||(M=new w.a(R)),!1!==M&&(I.globe=M,I.globe.shadows=Object(d.a)(t.terrainShadows,A.a.RECEIVE_ONLY));var L=t.skyBox;Object(f.a)(L)||(L=new S.a({sources:{positiveX:n("px"),negativeX:n("mx"),positiveY:n("py"),negativeY:n("my"),positiveZ:n("pz"),negativeZ:n("mz")}})),!1!==L&&(I.skyBox=L,I.sun=new j.a,I.moon=new x.a);var N=t.skyAtmosphere;Object(f.a)(N)||(N=new C.a(R)),!1!==N&&(I.skyAtmosphere=N);var F=!1!==t.globe&&t.imageryProvider;Object(f.a)(F)||(F=Object(O.a)()),!1!==F&&I.imageryLayers.addImageryProvider(F),Object(f.a)(t.terrainProvider)&&!1!==t.globe&&(I.terrainProvider=t.terrainProvider),this._screenSpaceEventHandler=new y.a(a),Object(f.a)(t.sceneMode)&&(t.sceneMode===T.a.SCENE2D&&this._scene.morphTo2D(0),t.sceneMode===T.a.COLUMBUS_VIEW&&this._scene.morphToColumbusView(0)),this._useDefaultRenderLoop=void 0,this.useDefaultRenderLoop=Object(d.a)(t.useDefaultRenderLoop,!0),this._targetFrameRate=void 0,this.targetFrameRate=t.targetFrameRate;var z=this;I.renderError.addEventListener(function(e,t){if(z._useDefaultRenderLoop=!1,z._renderLoopRunning=!1,z._showRenderLoopErrors){z.showErrorPanel("An error occurred while rendering.  Rendering has stopped.",void 0,t)}})}catch(e){if(b){this.showErrorPanel("Error constructing CesiumWidget.",'Visit <a href="http://get.webgl.org">http://get.webgl.org</a> to verify that your web browser and hardware support WebGL.  Consider trying a different web browser or updating your video drivers.  Detailed error information is below:',e)}throw e}}var l=i("CcV0"),u=i("Jj+J"),h=i("gDU9"),d=i("5A4e"),f=i("xC6Q"),p=i("6sr8"),m=i("PzDm"),g=i("y6fO"),_=i("gjtw"),v=i("fr+a"),b=i("JrQp"),y=i("UkUD"),O=i("4Dr5"),w=i("teo2"),x=i("BOHs"),E=i("E+a9"),T=i("sotJ"),A=i("ARzC"),C=i("7wJ7"),S=i("nzLv"),j=i("y04v"),P=i("k6tp");Object.defineProperties(c.prototype,{container:{get:function(){return this._container}},canvas:{get:function(){return this._canvas}},creditContainer:{get:function(){return this._creditContainer}},creditViewport:{get:function(){return this._creditViewport}},scene:{get:function(){return this._scene}},imageryLayers:{get:function(){return this._scene.imageryLayers}},terrainProvider:{get:function(){return this._scene.terrainProvider},set:function(e){this._scene.terrainProvider=e}},camera:{get:function(){return this._scene.camera}},clock:{get:function(){return this._clock}},screenSpaceEventHandler:{get:function(){return this._screenSpaceEventHandler}},targetFrameRate:{get:function(){return this._targetFrameRate},set:function(e){if(e<=0)throw new m.a("targetFrameRate must be greater than 0, or undefined.");this._targetFrameRate=e}},useDefaultRenderLoop:{get:function(){return this._useDefaultRenderLoop},set:function(e){this._useDefaultRenderLoop!==e&&(this._useDefaultRenderLoop=e,e&&!this._renderLoopRunning&&a(this))}},resolutionScale:{get:function(){return this._resolutionScale},set:function(e){if(e<=0)throw new m.a("resolutionScale must be greater than 0.");this._resolutionScale!==e&&(this._resolutionScale=e,this._forceResize=!0)}},useBrowserRecommendedResolution:{get:function(){return this._useBrowserRecommendedResolution},set:function(e){this._useBrowserRecommendedResolution!==e&&(this._useBrowserRecommendedResolution=e,this._forceResize=!0)}}}),c.prototype.showErrorPanel=function(e,t,i){function n(){c.style.maxHeight=Math.max(Math.round(.9*a.clientHeight-100),30)+"px"}var a=this._element,r=document.createElement("div");r.className="cesium-widget-errorPanel";var o=document.createElement("div");o.className="cesium-widget-errorPanel-content",r.appendChild(o);var s=document.createElement("div");s.className="cesium-widget-errorPanel-header",s.appendChild(document.createTextNode(e)),o.appendChild(s);var c=document.createElement("div");if(c.className="cesium-widget-errorPanel-scroll",o.appendChild(c),n(),Object(f.a)(window.addEventListener)&&window.addEventListener("resize",n,!1),Object(f.a)(t)){var l=document.createElement("div");l.className="cesium-widget-errorPanel-message",l.innerHTML="<p>"+t+"</p>",c.appendChild(l)}var u="(no error details available)";Object(f.a)(i)&&(u=Object(v.a)(i));var h=document.createElement("div");h.className="cesium-widget-errorPanel-message",h.appendChild(document.createTextNode(u)),c.appendChild(h);var d=document.createElement("div");d.className="cesium-widget-errorPanel-buttonPanel",o.appendChild(d);var p=document.createElement("button");p.setAttribute("type","button"),p.className="cesium-button",p.appendChild(document.createTextNode("OK")),p.onclick=function(){Object(f.a)(n)&&Object(f.a)(window.removeEventListener)&&window.removeEventListener("resize",n,!1),a.removeChild(r)},d.appendChild(p),a.appendChild(r),"undefined"!=typeof console&&console.error(e+"\n"+t+"\n"+u)},c.prototype.isDestroyed=function(){return!1},c.prototype.destroy=function(){this._scene=this._scene&&this._scene.destroy(),this._container.removeChild(this._element),this._creditContainer.removeChild(this._innerCreditContainer),Object(p.a)(this)},c.prototype.resize=function(){var e=this._canvas;(this._forceResize||this._canvasClientWidth!==e.clientWidth||this._canvasClientHeight!==e.clientHeight||this._lastDevicePixelRatio!==window.devicePixelRatio)&&(this._forceResize=!1,o(this),s(this),this._scene.requestRender())},c.prototype.render=function(){if(this._canRender){this._scene.initializeFrame();var e=this._clock.tick();this._scene.render(e)}else this._clock.tick()},t.a=c},WxlN:function(e,t,i){"use strict";t.a="/**\n * @private\n */\nvec2 cordic(float angle)\n{\n// Scale the vector by the appropriate factor for the 24 iterations to follow.\n    vec2 vector = vec2(6.0725293500888267e-1, 0.0);\n// Iteration 1\n    float sense = (angle < 0.0) ? -1.0 : 1.0;\n //   float factor = sense * 1.0;  // 2^-0\n    mat2 rotation = mat2(1.0, sense, -sense, 1.0);\n    vector = rotation * vector;\n    angle -= sense * 7.8539816339744828e-1;  // atan(2^-0)\n// Iteration 2\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    float factor = sense * 5.0e-1;  // 2^-1\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 4.6364760900080609e-1;  // atan(2^-1)\n// Iteration 3\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 2.5e-1;  // 2^-2\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 2.4497866312686414e-1;  // atan(2^-2)\n// Iteration 4\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.25e-1;  // 2^-3\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 1.2435499454676144e-1;  // atan(2^-3)\n// Iteration 5\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 6.25e-2;  // 2^-4\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 6.2418809995957350e-2;  // atan(2^-4)\n// Iteration 6\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 3.125e-2;  // 2^-5\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 3.1239833430268277e-2;  // atan(2^-5)\n// Iteration 7\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.5625e-2;  // 2^-6\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 1.5623728620476831e-2;  // atan(2^-6)\n// Iteration 8\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 7.8125e-3;  // 2^-7\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 7.8123410601011111e-3;  // atan(2^-7)\n// Iteration 9\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 3.90625e-3;  // 2^-8\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 3.9062301319669718e-3;  // atan(2^-8)\n// Iteration 10\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.953125e-3;  // 2^-9\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 1.9531225164788188e-3;  // atan(2^-9)\n// Iteration 11\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 9.765625e-4;  // 2^-10\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 9.7656218955931946e-4;  // atan(2^-10)\n// Iteration 12\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 4.8828125e-4;  // 2^-11\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 4.8828121119489829e-4;  // atan(2^-11)\n// Iteration 13\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 2.44140625e-4;  // 2^-12\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 2.4414062014936177e-4;  // atan(2^-12)\n// Iteration 14\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.220703125e-4;  // 2^-13\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 1.2207031189367021e-4;  // atan(2^-13)\n// Iteration 15\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 6.103515625e-5;  // 2^-14\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 6.1035156174208773e-5;  // atan(2^-14)\n// Iteration 16\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 3.0517578125e-5;  // 2^-15\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 3.0517578115526096e-5;  // atan(2^-15)\n// Iteration 17\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.52587890625e-5;  // 2^-16\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 1.5258789061315762e-5;  // atan(2^-16)\n// Iteration 18\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 7.62939453125e-6;  // 2^-17\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 7.6293945311019700e-6;  // atan(2^-17)\n// Iteration 19\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 3.814697265625e-6;  // 2^-18\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 3.8146972656064961e-6;  // atan(2^-18)\n// Iteration 20\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.9073486328125e-6;  // 2^-19\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 1.9073486328101870e-6;  // atan(2^-19)\n// Iteration 21\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 9.5367431640625e-7;  // 2^-20\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 9.5367431640596084e-7;  // atan(2^-20)\n// Iteration 22\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 4.76837158203125e-7;  // 2^-21\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 4.7683715820308884e-7;  // atan(2^-21)\n// Iteration 23\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 2.384185791015625e-7;  // 2^-22\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 2.3841857910155797e-7;  // atan(2^-22)\n// Iteration 24\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.1920928955078125e-7;  // 2^-23\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n//    angle -= sense * 1.1920928955078068e-7;  // atan(2^-23)\n\n    return vector;\n}\n\n/**\n * Computes the cosine and sine of the provided angle using the CORDIC algorithm.\n *\n * @name czm_cosineAndSine\n * @glslFunction\n *\n * @param {float} angle The angle in radians.\n *\n * @returns {vec2} The resulting cosine of the angle (as the x coordinate) and sine of the angle (as the y coordinate).\n *\n * @example\n * vec2 v = czm_cosineAndSine(czm_piOverSix);\n * float cosine = v.x;\n * float sine = v.y;\n */\nvec2 czm_cosineAndSine(float angle)\n{\n    if (angle < -czm_piOverTwo || angle > czm_piOverTwo)\n    {\n        if (angle < 0.0)\n        {\n            return -cordic(angle + czm_pi);\n        }\n        else\n        {\n            return -cordic(angle - czm_pi);\n        }\n    }\n    else\n    {\n        return cordic(angle);\n    }\n}\n"},"Wy+Q":function(e,t,i){"use strict";function n(){}function a(e){return e._visible&&e._inRequestVolume}function r(e,t,i){D(e,t,e._maximumScreenSpaceError,e._maximumScreenSpaceError,i)}function o(e,t,i){D(e,t,Number.MAX_VALUE,e._maximumScreenSpaceError,i),R(e,t,i)}function s(e,t,i){D(e,t,Math.max(e.baseScreenSpaceError,e.maximumScreenSpaceError),e.maximumScreenSpaceError,i),R(e,t,i)}function c(e){return e._skipLevelOfDetail}function l(e,t){e._emptyTiles.push(t)}function u(e,t,i){if(t.contentVisibility(i)!==L.a.OUTSIDE){var n=t.content;n.featurePropertiesDirty?(n.featurePropertiesDirty=!1,t.lastStyleTime=0,e._selectedTilesToStyle.push(t)):t._selectedFrame<i.frameNumber-1&&e._selectedTilesToStyle.push(t),t._selectedFrame=i.frameNumber,e._selectedTiles.push(t)}}function h(e,t,i){var n=U.stack;for(n.push(t);n.length>0;){U.stackMaximumLength=Math.max(U.stackMaximumLength,n.length);for(var r=n.pop(),o=r.children,s=o.length,c=0;c<s;++c){var l=o[c];a(l)&&(l.contentAvailable?(w(e,l,i),p(e,l,i),u(e,l,i)):l._depth-t._depth<H&&n.push(l))}}}function d(e,t,i){if(!c(e))return void(t.contentAvailable&&u(e,t,i));var n=t.contentAvailable?t:t._ancestorWithContentAvailable;Object(M.a)(n)?n._shouldSelect=!0:h(e,t,i)}function f(e,t,i){++e._statistics.visited,t._visitedFrame=i.frameNumber}function p(e,t,i){t._touchedFrame!==i.frameNumber&&(e._cache.touch(t),t._touchedFrame=i.frameNumber)}function m(e,t){e._maximumPriority.distance=Math.max(t._priorityHolder._distanceToCamera,e._maximumPriority.distance),e._minimumPriority.distance=Math.min(t._priorityHolder._distanceToCamera,e._minimumPriority.distance),e._maximumPriority.depth=Math.max(t._depth,e._maximumPriority.depth),e._minimumPriority.depth=Math.min(t._depth,e._minimumPriority.depth),e._maximumPriority.foveatedFactor=Math.max(t._priorityHolder._foveatedFactor,e._maximumPriority.foveatedFactor),e._minimumPriority.foveatedFactor=Math.min(t._priorityHolder._foveatedFactor,e._minimumPriority.foveatedFactor),e._maximumPriority.reverseScreenSpaceError=Math.max(t._priorityReverseScreenSpaceError,e._maximumPriority.reverseScreenSpaceError),e._minimumPriority.reverseScreenSpaceError=Math.min(t._priorityReverseScreenSpaceError,e._minimumPriority.reverseScreenSpaceError)}function g(e,t,i){if(!e._cullRequestsWhileMoving)return!0;var n=t.boundingSphere,a=Math.max(2*n.radius,1),r=i.camera,o=0!==r.positionWCDeltaMagnitude?r.positionWCDeltaMagnitude:r.positionWCDeltaMagnitudeLastFrame;return e.cullRequestsWhileMovingMultiplier*o/a<1}function _(e,t,i){if(t._requestedFrame!==i.frameNumber&&(T(t)||t.contentExpired)&&g(e,t,i)){var n=i.camera.timeSinceMoved<e.foveatedTimeDelay;t.priorityDeferred&&n||(t._requestedFrame=i.frameNumber,e._requestedTiles.push(t))}}function v(e,t,i){t._updatedVisibilityFrame!==e._updatedVisibilityFrame&&(t.updateVisibility(i),t._updatedVisibilityFrame=e._updatedVisibilityFrame)}function b(e,t,i){for(var n=!1,r=t.children,o=r.length,s=0;s<o;++s){var c=r[s];v(e,c,i),n=n||a(c)}return n}function y(e,t,i){var n=t.parent;return!(!Object(M.a)(n)||n.hasTilesetContent||n.refine!==z.a.ADD)&&t.getScreenSpaceError(i,!0)<=e._maximumScreenSpaceError}function O(e,t,i){if(v(e,t,i),a(t)){var n=t.children.length>0;if(t.hasTilesetContent&&n){var r=t.children[0];return O(e,r,i),void(t._visible=r._visible)}if(y(e,t,i))return void(t._visible=!1);var o=t.refine===z.a.REPLACE,s=t._optimChildrenWithinParent===F.a.USE_OPTIMIZATION;return o&&s&&n&&!b(e,t,i)?(++e._statistics.numberOfTilesCulledWithChildrenUnion,void(t._visible=!1)):void 0}}function w(e,t,i){O(e,t,i),t.updateExpiration(),t._wasMinPriorityChild=!1,t._priorityHolder=t,m(e,t),t._shouldSelect=!1,t._finalResolution=!0}function x(e,t){e._ancestorWithContent=void 0,e._ancestorWithContentAvailable=void 0;var i=e.parent;if(Object(M.a)(i)){var n=!T(i)||i._requestedFrame===t.frameNumber;e._ancestorWithContent=n?i:i._ancestorWithContent,e._ancestorWithContentAvailable=i.contentAvailable?i:i._ancestorWithContentAvailable}}function E(e){return e.hasEmptyContent||e.hasTilesetContent}function T(e){return!E(e)&&e.contentUnloaded}function A(e,t){var i=t._ancestorWithContent;return!e.immediatelyLoadDesiredLevelOfDetail&&(t._priorityProgressiveResolutionScreenSpaceErrorLeaf||Object(M.a)(i)&&t._screenSpaceError<i._screenSpaceError/e.skipScreenSpaceErrorFactor&&t._depth>i._depth+e.skipLevels)}function C(e,t){return 0===t._distanceToCamera&&0===e._distanceToCamera?t._centerZDepth-e._centerZDepth:t._distanceToCamera-e._distanceToCamera}function S(e,t,i,n){var r,o=t.refine===z.a.REPLACE,s=t.children,l=s.length;for(r=0;r<l;++r)w(e,s[r],n);s.sort(C);var u,h=!c(e)&&o&&!E(t),d=!0,f=!1,m=-1,g=Number.MAX_VALUE;for(r=0;r<l;++r)if(u=s[r],a(u)?(i.push(u),u._foveatedFactor<g&&(m=r,g=u._foveatedFactor),f=!0):(h||e.loadSiblings)&&(u._foveatedFactor<g&&(m=r,g=u._foveatedFactor),_(e,u,n),p(e,u,n)),h){var v;v=!!u._inRequestVolume&&(E(u)?I(e,u,n):u.contentAvailable),d=d&&v}if(f||(d=!1),-1!==m&&!c(e)&&o){var b=s[m];b._wasMinPriorityChild=!0;var y=(t._wasMinPriorityChild||t===e.root)&&g<=t._priorityHolder._foveatedFactor?t._priorityHolder:t;for(y._foveatedFactor=Math.min(b._foveatedFactor,y._foveatedFactor),y._distanceToCamera=Math.min(b._distanceToCamera,y._distanceToCamera),r=0;r<l;++r)u=s[r],u._priorityHolder=y}return d}function j(e,t,i){return!c(e)||!e.immediatelyLoadDesiredLevelOfDetail&&(!Object(M.a)(t._ancestorWithContent)||(0===t._screenSpaceError?t.parent._screenSpaceError>i:t._screenSpaceError>i))}function P(e,t){return 0!==t.children.length&&(t.hasTilesetContent?!t.contentExpired:t._screenSpaceError>e._maximumScreenSpaceError)}function D(e,t,i,n,a){var r=B.stack;for(r.push(t);r.length>0;){B.stackMaximumLength=Math.max(B.stackMaximumLength,r.length);var o=r.pop();x(o,a);var s=j(e,o,i),c=o.refine===z.a.ADD,u=o.refine===z.a.REPLACE,h=o.parent,m=!Object(M.a)(h)||h._refines,g=!1;P(e,o)&&(g=S(e,o,r,a)&&m);var v=!g&&m;E(o)?(l(e,o,a),_(e,o,a),v&&d(e,o,a)):c?(d(e,o,a),_(e,o,a)):u&&(s?(_(e,o,a),v&&d(e,o,a)):v?(d(e,o,a),_(e,o,a)):A(e,o)&&_(e,o,a)),f(e,o,a),p(e,o,a),o._refines=g}}function I(e,t,i){var n=!0,r=k.stack;for(r.push(t);r.length>0;){k.stackMaximumLength=Math.max(k.stackMaximumLength,r.length);var o=r.pop(),s=o.children,c=s.length,l=E(o)&&P(e,o);if(l||o.contentAvailable||(n=!1),w(e,o,i),a(o)||(_(e,o,i),p(e,o,i)),l)for(var u=0;u<c;++u){var h=s[u];r.push(h)}}return n}function R(e,t,i){var n,r=V.stack,o=V.ancestorStack;for(r.push(t);r.length>0||o.length>0;){if(V.stackMaximumLength=Math.max(V.stackMaximumLength,r.length),V.ancestorStackMaximumLength=Math.max(V.ancestorStackMaximumLength,o.length),o.length>0){var s=o.peek();if(s._stackLength===r.length){o.pop(),s!==n&&(s._finalResolution=!1),u(e,s,i);continue}}var c=r.pop();if(Object(M.a)(c)){var l=c.refine===z.a.ADD,h=c._shouldSelect,d=c.children,f=d.length,p=P(e,c);if(h)if(l)u(e,c,i);else{if(c._selectionDepth=o.length,c._selectionDepth>0&&(e._hasMixedContent=!0),n=c,!p){u(e,c,i);continue}o.push(c),c._stackLength=r.length}if(p)for(var m=0;m<f;++m){var g=d[m];a(g)&&r.push(g)}}}}var M=i("xC6Q"),L=i("u909"),N=i("sntn"),F=i("ZU0d"),z=i("Qv/e"),B={stack:new N.a,stackMaximumLength:0},k={stack:new N.a,stackMaximumLength:0},U={stack:new N.a,stackMaximumLength:0},V={stack:new N.a,stackMaximumLength:0,ancestorStack:new N.a,ancestorStackMaximumLength:0},H=2;n.selectTiles=function(e,t){if(e._requestedTiles.length=0,!e.debugFreezeFrame){e._selectedTiles.length=0,e._selectedTilesToStyle.length=0,e._emptyTiles.length=0,e._hasMixedContent=!1;var i=e.root;if(w(e,i,t),a(i)&&!(i.getScreenSpaceError(t,!0)<=e._maximumScreenSpaceError)){c(e)?e.immediatelyLoadDesiredLevelOfDetail?o(e,i,t):s(e,i,t):r(e,i,t),B.stack.trim(B.stackMaximumLength),k.stack.trim(k.stackMaximumLength),U.stack.trim(U.stackMaximumLength),V.stack.trim(V.stackMaximumLength),V.ancestorStack.trim(V.ancestorStackMaximumLength);for(var n=e._requestedTiles,l=n.length,u=0;u<l;++u)n[u].updatePriority()}}},t.a=n},WyUw:function(e,t,i){"use strict";function n(e){if(!Object(a.a)(e)||!Object(a.a)(e.container))throw new o.a("options.container is required.");if(!Object(a.a)(e.scene))throw new o.a("options.scene is required.");var t=Object(c.a)(e.container),i=new l.a(e),n=document.createElement("div");n.className="cesium-performance-watchdog-message-area",n.setAttribute("data-bind","visible: showingLowFrameRateMessage");var r=document.createElement("button");r.setAttribute("type","button"),r.className="cesium-performance-watchdog-message-dismiss",r.innerHTML="&times;",r.setAttribute("data-bind","click: dismissMessage"),n.appendChild(r);var u=document.createElement("div");u.className="cesium-performance-watchdog-message",u.setAttribute("data-bind","html: lowFrameRateMessage"),n.appendChild(u),t.appendChild(n),s.a.applyBindings(i,n),this._container=t,this._viewModel=i,this._element=n}var a=i("xC6Q"),r=i("6sr8"),o=i("PzDm"),s=i("PKIF"),c=i("k6tp"),l=i("+DnM");Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._viewModel.destroy(),s.a.cleanNode(this._element),this._container.removeChild(this._element),Object(r.a)(this)},t.a=n},WzJ8:function(e,t,i){"use strict";function n(e){Object(o.a)(e)&&"function"==typeof e||(e=s.a.ComputeMoon),this._computeFunction=e}function a(e,t,i){var n=d;n.x=Math.cos(e+l.a.PI_OVER_TWO),n.y=Math.sin(e+l.a.PI_OVER_TWO),n.z=0;var a=Math.cos(t),s=p;s.x=a*Math.cos(e),s.y=a*Math.sin(e),s.z=Math.sin(t);var c=r.a.cross(s,n,f);return Object(o.a)(i)||(i=new u.a),i[0]=n.x,i[1]=c.x,i[2]=s.x,i[3]=n.y,i[4]=c.y,i[5]=s.y,i[6]=n.z,i[7]=c.z,i[8]=s.z,i}var r=i("Jj+J"),o=i("xC6Q"),s=i("S8pZ"),c=i("9Uqs"),l=i("fq+p"),u=i("i3sv"),h=i("q/xW"),d=new r.a,f=new r.a,p=new r.a,m=new u.a,g=new h.a;n.prototype.evaluate=function(e,t){Object(o.a)(e)||(e=c.a.now());var i=this._computeFunction(e),n=a(i.rightAscension,i.declination,t),s=l.a.zeroToTwoPi(i.rotation),d=h.a.fromAxisAngle(r.a.UNIT_Z,s,g),f=u.a.fromQuaternion(h.a.conjugate(d,d),m);return u.a.multiply(f,n,n)},t.a=n},X4X3:function(e,t,i){"use strict";function n(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=n(e);if("string"!=typeof t&&(v.isEncoding===b||!b(e)))throw new Error("Unknown encoding: "+e);return t||e}function r(e){this.encoding=a(e);var t;switch(this.encoding){case"utf16le":this.text=d,this.end=f,t=4;break;case"utf8":this.fillLast=l,t=4;break;case"base64":this.text=p,this.end=m,t=3;break;default:return this.write=g,void(this.end=_)}this.lastNeed=0,this.lastTotal=0,this.lastChar=v.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e,t,i){var n=t.length-1;if(n<i)return 0;var a=o(t[n]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--n<i||-2===a?0:(a=o(t[n]))>=0?(a>0&&(e.lastNeed=a-2),a):--n<i||-2===a?0:(a=o(t[n]),a>=0?(a>0&&(2===a?a=0:e.lastNeed=a-3),a):0)}function c(e,t,i){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}function l(e){var t=this.lastTotal-this.lastNeed,i=c(this,e,t);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){var i=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var n=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function d(e,t){if((e.length-t)%2==0){var i=e.toString("utf16le",t);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function f(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function p(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function _(e){return e&&e.length?this.write(e):""}var v=i("oYso").Buffer,b=v.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},r.prototype.end=h,r.prototype.text=u,r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},X72x:function(e,t,i){"use strict";t.a="uniform sampler2D u_texture;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main()\n{\n    vec4 color = texture2D(u_texture, v_textureCoordinates);\n    gl_FragColor = czm_gammaCorrect(color);\n}\n"},X8DO:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},X8rS:function(e,t,i){"use strict";var n={NONE:0,GEODESIC:1,RHUMB:2};t.a=Object.freeze(n)},XHij:function(e,t,i){"use strict";e.exports=SyntaxError},XHlg:function(e,t,i){"use strict";function n(e){this.planes=Object(o.a)(e,[])}var a=i("Jj+J"),r=i("PDkd"),o=i("5A4e"),s=i("xC6Q"),c=i("PzDm"),l=i("u909"),u=i("kRxM"),h=[new a.a,new a.a,new a.a];a.a.clone(a.a.UNIT_X,h[0]),a.a.clone(a.a.UNIT_Y,h[1]),a.a.clone(a.a.UNIT_Z,h[2]);var d=new a.a,f=new a.a,p=new u.a(new a.a(1,0,0),0);n.fromBoundingSphere=function(e,t){if(!Object(s.a)(e))throw new c.a("boundingSphere is required.");Object(s.a)(t)||(t=new n);var i=h.length,o=t.planes;o.length=2*i;for(var l=e.center,u=e.radius,p=0,m=0;m<i;++m){var g=h[m],_=o[p],v=o[p+1];Object(s.a)(_)||(_=o[p]=new r.a),Object(s.a)(v)||(v=o[p+1]=new r.a),a.a.multiplyByScalar(g,-u,d),a.a.add(l,d,d),_.x=g.x,_.y=g.y,_.z=g.z,_.w=-a.a.dot(g,d),a.a.multiplyByScalar(g,u,d),a.a.add(l,d,d),v.x=-g.x,v.y=-g.y,v.z=-g.z,v.w=-a.a.dot(a.a.negate(g,f),d),p+=2}return t},n.prototype.computeVisibility=function(e){if(!Object(s.a)(e))throw new c.a("boundingVolume is required.");for(var t=this.planes,i=!1,n=0,a=t.length;n<a;++n){var r=e.intersectPlane(u.a.fromCartesian4(t[n],p));if(r===l.a.OUTSIDE)return l.a.OUTSIDE;r===l.a.INTERSECTING&&(i=!0)}return i?l.a.INTERSECTING:l.a.INSIDE},n.prototype.computeVisibilityWithPlaneMask=function(e,t){if(!Object(s.a)(e))throw new c.a("boundingVolume is required.");if(!Object(s.a)(t))throw new c.a("parentPlaneMask is required.");if(t===n.MASK_OUTSIDE||t===n.MASK_INSIDE)return t;for(var i=n.MASK_INSIDE,a=this.planes,r=0,o=a.length;r<o;++r){var h=r<31?1<<r:0;if(!(r<31&&0==(t&h))){var d=e.intersectPlane(u.a.fromCartesian4(a[r],p));if(d===l.a.OUTSIDE)return n.MASK_OUTSIDE;d===l.a.INTERSECTING&&(i|=h)}}return i},n.MASK_OUTSIDE=4294967295,n.MASK_INSIDE=0,n.MASK_INDETERMINATE=2147483647,t.a=n},XJYV:function(e,t,i){"use strict";t.a="/**\n * The automatic GLSL constant for {@link Pass#CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW}\n *\n * @name czm_passCesium3DTileClassificationIgnoreShow\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passCesium3DTileClassificationIgnoreShow = 6.0;\n"},XL6Z:function(e,t,i){"use strict";t.a="/**\n * A built-in GLSL floating-point constant for <code>2pi</code>.\n *\n * @alias czm_twoPi\n * @glslConstant\n *\n * @see CesiumMath.TWO_PI\n *\n * @example\n * // GLSL declaration\n * const float czm_twoPi = ...;\n *\n * // Example\n * float pi = czm_twoPi / 2.0;\n */\nconst float czm_twoPi = 6.283185307179586;\n"},XNBP:function(e,t,i){"use strict";function n(e){e=Object(b.a)(e,b.a.EMPTY_OBJECT),this._sp=void 0,this._spTranslucent=void 0,this._rsOpaque=void 0,this._rsTranslucent=void 0,this._vaf=void 0,this._pointPrimitives=[],this._pointPrimitivesToUpdate=[],this._pointPrimitivesToUpdateIndex=0,this._pointPrimitivesRemoved=!1,this._createVertexArray=!1,this._shaderScaleByDistance=!1,this._compiledShaderScaleByDistance=!1,this._shaderTranslucencyByDistance=!1,this._compiledShaderTranslucencyByDistance=!1,this._shaderDistanceDisplayCondition=!1,this._compiledShaderDistanceDisplayCondition=!1,this._shaderDisableDepthDistance=!1,this._compiledShaderDisableDepthDistance=!1,this._propertiesChanged=new Uint32Array(K),this._maxPixelSize=1,this._baseVolume=new g.a,this._baseVolumeWC=new g.a,this._baseVolume2D=new g.a,this._boundingVolume=new g.a,this._boundingVolumeDirty=!1,this._colorCommands=[],this.modelMatrix=T.a.clone(Object(b.a)(e.modelMatrix,T.a.IDENTITY)),this._modelMatrix=T.a.clone(T.a.IDENTITY),this.debugShowBoundingVolume=Object(b.a)(e.debugShowBoundingVolume,!1),this.blendOption=Object(b.a)(e.blendOption,B.a.OPAQUE_AND_TRANSLUCENT),this._blendOption=void 0,this._mode=U.a.SCENE3D,this._maxTotalPointSize=1,this._buffersUsage=[S.a.STATIC_DRAW,S.a.STATIC_DRAW,S.a.STATIC_DRAW,S.a.STATIC_DRAW,S.a.STATIC_DRAW,S.a.STATIC_DRAW,S.a.STATIC_DRAW,S.a.STATIC_DRAW,S.a.STATIC_DRAW];var t=this;this._uniforms={u_maxTotalPointSize:function(){return t._maxTotalPointSize}}}function a(e){for(var t=e.length,i=0;i<t;++i)e[i]&&e[i]._destroy()}function r(e){if(e._pointPrimitivesRemoved){e._pointPrimitivesRemoved=!1;for(var t=[],i=e._pointPrimitives,n=i.length,a=0,r=0;a<n;++a){var o=i[a];o&&(o._index=r++,t.push(o))}e._pointPrimitives=t}}function o(e,t,i){return new L.a(e,[{index:$.positionHighAndSize,componentsPerAttribute:4,componentDatatype:v.a.FLOAT,usage:i[H]},{index:$.positionLowAndShow,componentsPerAttribute:4,componentDatatype:v.a.FLOAT,usage:i[H]},{index:$.compressedAttribute0,componentsPerAttribute:4,componentDatatype:v.a.FLOAT,usage:i[q]},{index:$.compressedAttribute1,componentsPerAttribute:4,componentDatatype:v.a.FLOAT,usage:i[Q]},{index:$.scaleByDistance,componentsPerAttribute:4,componentDatatype:v.a.FLOAT,usage:i[X]},{index:$.distanceDisplayConditionAndDisableDepth,componentsPerAttribute:3,componentDatatype:v.a.FLOAT,usage:i[J]}],t)}function s(e,t,i,n){var a=n._index,r=n._getActualPosition();e._mode===U.a.SCENE3D&&(g.a.expand(e._baseVolume,r,e._baseVolume),e._boundingVolumeDirty=!0),x.a.fromCartesian(r,ee);var o=n.pixelSize,s=n.outlineWidth;e._maxPixelSize=Math.max(e._maxPixelSize,o+s);var c=i[$.positionHighAndSize],l=ee.high;c(a,l.x,l.y,l.z,o);var u=i[$.positionLowAndOutline],h=ee.low;u(a,h.x,h.y,h.z,s)}function c(e,t,i,n){var a=n._index,r=n.color,o=n.getPickId(t).color,s=n.outlineColor,c=_.a.floatToByte(r.red),l=_.a.floatToByte(r.green),u=_.a.floatToByte(r.blue),h=c*te+l*ie+u;c=_.a.floatToByte(s.red),l=_.a.floatToByte(s.green),u=_.a.floatToByte(s.blue);var d=c*te+l*ie+u;c=_.a.floatToByte(o.red),l=_.a.floatToByte(o.green),u=_.a.floatToByte(o.blue);var f=c*te+l*ie+u,p=_.a.floatToByte(r.alpha)*te+_.a.floatToByte(s.alpha)*ie+_.a.floatToByte(o.alpha);(0,i[$.compressedAttribute0])(a,h,d,f,p)}function l(e,t,i,n){var a=n._index,r=0,o=1,s=1,c=1,l=n.translucencyByDistance;Object(y.a)(l)&&(r=l.near,o=l.nearValue,s=l.far,c=l.farValue,1===o&&1===c||(e._shaderTranslucencyByDistance=!0));var u=n.show&&n.clusterShow;0===n.color.alpha&&0===n.outlineColor.alpha&&(u=!1),o=E.a.clamp(o,0,1),o=1===o?255:255*o|0;var h=(u?1:0)*ie+o;c=E.a.clamp(c,0,1),c=1===c?255:255*c|0;var d=c;(0,i[$.compressedAttribute1])(a,h,d,r,s)}function u(e,t,i,n){var a=n._index,r=i[$.scaleByDistance],o=0,s=1,c=1,l=1,u=n.scaleByDistance;Object(y.a)(u)&&(o=u.near,s=u.nearValue,c=u.far,l=u.farValue,1===s&&1===l||(e._shaderScaleByDistance=!0)),r(a,o,s,c,l)}function h(e,t,i,n){var a=n._index,r=i[$.distanceDisplayConditionAndDisableDepth],o=0,s=Number.MAX_VALUE,c=n.distanceDisplayCondition;Object(y.a)(c)&&(o=c.near,s=c.far,o*=o,s*=s,e._shaderDistanceDisplayCondition=!0);var l=n.disableDepthTestDistance;l*=l,l>0&&(e._shaderDisableDepthDistance=!0,l===Number.POSITIVE_INFINITY&&(l=-1)),r(a,o,s,l)}function d(e,t,i,n){s(e,t,i,n),c(e,t,i,n),l(e,t,i,n),u(e,t,i,n),h(e,t,i,n)}function f(e,t,i,n,a,r){var o;n.mode===U.a.SCENE3D?(o=e._baseVolume,e._boundingVolumeDirty=!0):o=e._baseVolume2D;for(var s=[],c=0;c<i;++c){var l=t[c],u=l.position,h=k.a._computeActualPosition(u,n,a);Object(y.a)(h)&&(l._setActualPosition(h),r?s.push(h):g.a.expand(o,h,o))}r&&g.a.fromPoints(s,o)}function p(e,t){var i=t.mode,n=e._pointPrimitives,a=e._pointPrimitivesToUpdate,r=e._modelMatrix;e._createVertexArray||e._mode!==i||i!==U.a.SCENE3D&&!T.a.equals(r,e.modelMatrix)?(e._mode=i,T.a.clone(e.modelMatrix,r),e._createVertexArray=!0,i!==U.a.SCENE3D&&i!==U.a.SCENE2D&&i!==U.a.COLUMBUS_VIEW||f(e,n,n.length,t,r,!0)):i===U.a.MORPHING?f(e,n,n.length,t,r,!0):i!==U.a.SCENE2D&&i!==U.a.COLUMBUS_VIEW||f(e,a,e._pointPrimitivesToUpdateIndex,t,r,!1)}function m(e,t,i){var n=t.camera.getPixelSize(i,t.context.drawingBufferWidth,t.context.drawingBufferHeight),a=n*e._maxPixelSize;i.radius+=a}var g=i("lBr9"),_=i("6F0S"),v=i("YCZg"),b=i("5A4e"),y=i("xC6Q"),O=i("6sr8"),w=i("PzDm"),x=i("Is4l"),E=i("fq+p"),T=i("Xjii"),A=i("nHNe"),C=i("1L1F"),S=i("rFKc"),j=i("J1no"),P=i("1mJh"),D=i("M0+0"),I=i("DrvA"),R=i("WUlw"),M=i("x6Ms"),L=i("OVtG"),N=i("gfcf"),F=i("QgvK"),z=i("OtDm"),B=i("ib1+"),k=i("eHtW"),U=i("sotJ"),V=k.a.SHOW_INDEX,H=k.a.POSITION_INDEX,q=k.a.COLOR_INDEX,W=k.a.OUTLINE_COLOR_INDEX,G=k.a.OUTLINE_WIDTH_INDEX,Y=k.a.PIXEL_SIZE_INDEX,X=k.a.SCALE_BY_DISTANCE_INDEX,Q=k.a.TRANSLUCENCY_BY_DISTANCE_INDEX,J=k.a.DISTANCE_DISPLAY_CONDITION_INDEX,Z=k.a.DISABLE_DEPTH_DISTANCE_INDEX,K=k.a.NUMBER_OF_PROPERTIES,$={positionHighAndSize:0,positionLowAndOutline:1,compressedAttribute0:2,compressedAttribute1:3,scaleByDistance:4,distanceDisplayConditionAndDisableDepth:5};Object.defineProperties(n.prototype,{length:{get:function(){return r(this),this._pointPrimitives.length}}}),n.prototype.add=function(e){var t=new k.a(e,this);return t._index=this._pointPrimitives.length,this._pointPrimitives.push(t),this._createVertexArray=!0,t},n.prototype.remove=function(e){return!!this.contains(e)&&(this._pointPrimitives[e._index]=null,this._pointPrimitivesRemoved=!0,this._createVertexArray=!0,e._destroy(),!0)},n.prototype.removeAll=function(){a(this._pointPrimitives),this._pointPrimitives=[],this._pointPrimitivesToUpdate=[],this._pointPrimitivesToUpdateIndex=0,this._pointPrimitivesRemoved=!1,this._createVertexArray=!0},n.prototype._updatePointPrimitive=function(e,t){e._dirty||(this._pointPrimitivesToUpdate[this._pointPrimitivesToUpdateIndex++]=e),++this._propertiesChanged[t]},n.prototype.contains=function(e){return Object(y.a)(e)&&e._pointPrimitiveCollection===this},n.prototype.get=function(e){if(!Object(y.a)(e))throw new w.a("index is required.");return r(this),this._pointPrimitives[e]},n.prototype.computeNewBuffersUsage=function(){for(var e=this._buffersUsage,t=!1,i=this._propertiesChanged,n=0;n<K;++n){var a=0===i[n]?S.a.STATIC_DRAW:S.a.STREAM_DRAW;t=t||e[n]!==a,e[n]=a}return t};var ee=new x.a,te=65536,ie=256,ne=[];n.prototype.update=function(e){r(this),this._maxTotalPointSize=j.a.maximumAliasedPointSize,p(this,e);var t,i=this._pointPrimitives,n=i.length,a=this._pointPrimitivesToUpdate,f=this._pointPrimitivesToUpdateIndex,_=this._propertiesChanged,v=this._createVertexArray,b=e.context,O=e.passes,w=O.pick;if(v||!w&&this.computeNewBuffersUsage()){this._createVertexArray=!1;for(var x=0;x<K;++x)_[x]=0;if(this._vaf=this._vaf&&this._vaf.destroy(),n>0){this._vaf=o(b,n,this._buffersUsage),t=this._vaf.writers;for(var E=0;E<n;++E){var S=this._pointPrimitives[E];S._dirty=!1,d(this,b,t,S)}this._vaf.commit()}this._pointPrimitivesToUpdateIndex=0}else if(f>0){var L=ne;L.length=0,(_[H]||_[G]||_[Y])&&L.push(s),(_[q]||_[W])&&L.push(c),(_[V]||_[Q])&&L.push(l),_[X]&&L.push(u),(_[J]||_[Z])&&L.push(h);var k=L.length;if(t=this._vaf.writers,f/n>.1){for(var ee=0;ee<f;++ee){var te=a[ee];te._dirty=!1;for(var ie=0;ie<k;++ie)L[ie](this,b,t,te)}this._vaf.commit()}else{for(var ae=0;ae<f;++ae){var re=a[ae];re._dirty=!1;for(var oe=0;oe<k;++oe)L[oe](this,b,t,re);this._vaf.subCommit(re._index,1)}this._vaf.endSubCommits()}this._pointPrimitivesToUpdateIndex=0}if(f>1.5*n&&(a.length=n),Object(y.a)(this._vaf)&&Object(y.a)(this._vaf.va)){this._boundingVolumeDirty&&(this._boundingVolumeDirty=!1,g.a.transform(this._baseVolume,this.modelMatrix,this._baseVolumeWC));var se,ce=T.a.IDENTITY;e.mode===U.a.SCENE3D?(ce=this.modelMatrix,se=g.a.clone(this._baseVolumeWC,this._boundingVolume)):se=g.a.clone(this._baseVolume2D,this._boundingVolume),m(this,e,se);var le=this._blendOption!==this.blendOption;this._blendOption=this.blendOption,le&&(this._blendOption===B.a.OPAQUE||this._blendOption===B.a.OPAQUE_AND_TRANSLUCENT?this._rsOpaque=I.a.fromCache({depthTest:{enabled:!0,func:C.a.LEQUAL},depthMask:!0}):this._rsOpaque=void 0,this._blendOption===B.a.TRANSLUCENT||this._blendOption===B.a.OPAQUE_AND_TRANSLUCENT?this._rsTranslucent=I.a.fromCache({depthTest:{enabled:!0,func:C.a.LEQUAL},depthMask:!1,blending:z.a.ALPHA_BLEND}):this._rsTranslucent=void 0),this._shaderDisableDepthDistance=this._shaderDisableDepthDistance||0!==e.minimumDisableDepthTestDistance;var ue,he;(le||this._shaderScaleByDistance&&!this._compiledShaderScaleByDistance||this._shaderTranslucencyByDistance&&!this._compiledShaderTranslucencyByDistance||this._shaderDistanceDisplayCondition&&!this._compiledShaderDistanceDisplayCondition||this._shaderDisableDepthDistance!==this._compiledShaderDisableDepthDistance)&&(ue=new M.a({sources:[F.a]}),this._shaderScaleByDistance&&ue.defines.push("EYE_DISTANCE_SCALING"),this._shaderTranslucencyByDistance&&ue.defines.push("EYE_DISTANCE_TRANSLUCENCY"),this._shaderDistanceDisplayCondition&&ue.defines.push("DISTANCE_DISPLAY_CONDITION"),this._shaderDisableDepthDistance&&ue.defines.push("DISABLE_DEPTH_DISTANCE"),this._blendOption===B.a.OPAQUE_AND_TRANSLUCENT&&(he=new M.a({defines:["OPAQUE"],sources:[N.a]}),this._sp=R.a.replaceCache({context:b,shaderProgram:this._sp,vertexShaderSource:ue,fragmentShaderSource:he,attributeLocations:$}),he=new M.a({defines:["TRANSLUCENT"],sources:[N.a]}),this._spTranslucent=R.a.replaceCache({context:b,shaderProgram:this._spTranslucent,vertexShaderSource:ue,fragmentShaderSource:he,attributeLocations:$})),this._blendOption===B.a.OPAQUE&&(he=new M.a({sources:[N.a]}),this._sp=R.a.replaceCache({context:b,shaderProgram:this._sp,vertexShaderSource:ue,fragmentShaderSource:he,attributeLocations:$})),this._blendOption===B.a.TRANSLUCENT&&(he=new M.a({sources:[N.a]}),this._spTranslucent=R.a.replaceCache({context:b,shaderProgram:this._spTranslucent,vertexShaderSource:ue,fragmentShaderSource:he,attributeLocations:$})),this._compiledShaderScaleByDistance=this._shaderScaleByDistance,this._compiledShaderTranslucencyByDistance=this._shaderTranslucencyByDistance,this._compiledShaderDistanceDisplayCondition=this._shaderDistanceDisplayCondition,this._compiledShaderDisableDepthDistance=this._shaderDisableDepthDistance);var de,fe,pe,me,ge=e.commandList;if(O.render||w){var _e=this._colorCommands,ve=this._blendOption===B.a.OPAQUE,be=this._blendOption===B.a.OPAQUE_AND_TRANSLUCENT;de=this._vaf.va,fe=de.length,_e.length=fe;var ye=be?2*fe:fe;for(me=0;me<ye;++me){var Oe=ve||be&&me%2==0;pe=_e[me],Object(y.a)(pe)||(pe=_e[me]=new P.a),pe.primitiveType=A.a.POINTS,pe.pass=Oe||!be?D.a.OPAQUE:D.a.TRANSLUCENT,pe.owner=this;var we=be?Math.floor(me/2):me;pe.boundingVolume=se,pe.modelMatrix=ce,pe.shaderProgram=Oe?this._sp:this._spTranslucent,pe.uniformMap=this._uniforms,pe.vertexArray=de[we].va,pe.renderState=Oe?this._rsOpaque:this._rsTranslucent,pe.debugShowBoundingVolume=this.debugShowBoundingVolume,pe.pickId="v_pickColor",ge.push(pe)}}}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._sp=this._sp&&this._sp.destroy(),this._spTranslucent=this._spTranslucent&&this._spTranslucent.destroy(),this._spPick=this._spPick&&this._spPick.destroy(),this._vaf=this._vaf&&this._vaf.destroy(),a(this._pointPrimitives),Object(O.a)(this)},t.a=n},XUgp:function(e,t,i){"use strict";function n(e,t){this.position=e,this.headingPitchRoll=t}t.a=n},XfO2:function(e,t,i){"use strict";function n(){a.a.throwInstantiationError()}var a=i("PzDm");Object.defineProperties(n.prototype,{credits:{get:a.a.throwInstantiationError},waterMask:{get:a.a.throwInstantiationError}}),n.prototype.interpolateHeight=a.a.throwInstantiationError,n.prototype.isChildAvailable=a.a.throwInstantiationError,n.prototype.createMesh=a.a.throwInstantiationError,n.prototype.upsample=a.a.throwInstantiationError,n.prototype.wasCreatedByUpsampling=a.a.throwInstantiationError},Xjii:function(e,t,i){"use strict";function n(e,t,i,n,a,r,o,c,l,u,h,d,f,p,m,g){this[0]=Object(s.a)(e,0),this[1]=Object(s.a)(a,0),this[2]=Object(s.a)(l,0),this[3]=Object(s.a)(f,0),this[4]=Object(s.a)(t,0),this[5]=Object(s.a)(r,0),this[6]=Object(s.a)(u,0),this[7]=Object(s.a)(p,0),this[8]=Object(s.a)(i,0),this[9]=Object(s.a)(o,0),this[10]=Object(s.a)(h,0),this[11]=Object(s.a)(m,0),this[12]=Object(s.a)(n,0),this[13]=Object(s.a)(c,0),this[14]=Object(s.a)(d,0),this[15]=Object(s.a)(g,0)}var a=i("Jj+J"),r=i("PDkd"),o=i("5F4X"),s=i("5A4e"),c=i("xC6Q"),l=i("fq+p"),u=i("i3sv"),h=i("V22k");n.packedLength=16,n.pack=function(e,t,i){return o.a.typeOf.object("value",e),o.a.defined("array",t),i=Object(s.a)(i,0),t[i++]=e[0],t[i++]=e[1],t[i++]=e[2],t[i++]=e[3],t[i++]=e[4],t[i++]=e[5],t[i++]=e[6],t[i++]=e[7],t[i++]=e[8],t[i++]=e[9],t[i++]=e[10],t[i++]=e[11],t[i++]=e[12],t[i++]=e[13],t[i++]=e[14],t[i]=e[15],t},n.unpack=function(e,t,i){return o.a.defined("array",e),t=Object(s.a)(t,0),Object(c.a)(i)||(i=new n),i[0]=e[t++],i[1]=e[t++],i[2]=e[t++],i[3]=e[t++],i[4]=e[t++],i[5]=e[t++],i[6]=e[t++],i[7]=e[t++],i[8]=e[t++],i[9]=e[t++],i[10]=e[t++],i[11]=e[t++],i[12]=e[t++],i[13]=e[t++],i[14]=e[t++],i[15]=e[t],i},n.clone=function(e,t){if(Object(c.a)(e))return Object(c.a)(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new n(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},n.fromArray=n.unpack,n.fromColumnMajorArray=function(e,t){return o.a.defined("values",e),n.clone(e,t)},n.fromRowMajorArray=function(e,t){return o.a.defined("values",e),Object(c.a)(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},n.fromRotationTranslation=function(e,t,i){return o.a.typeOf.object("rotation",e),t=Object(s.a)(t,a.a.ZERO),Object(c.a)(i)?(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=0,i[4]=e[3],i[5]=e[4],i[6]=e[5],i[7]=0,i[8]=e[6],i[9]=e[7],i[10]=e[8],i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,i):new n(e[0],e[3],e[6],t.x,e[1],e[4],e[7],t.y,e[2],e[5],e[8],t.z,0,0,0,1)},n.fromTranslationQuaternionRotationScale=function(e,t,i,a){o.a.typeOf.object("translation",e),o.a.typeOf.object("rotation",t),o.a.typeOf.object("scale",i),Object(c.a)(a)||(a=new n);var r=i.x,s=i.y,l=i.z,u=t.x*t.x,h=t.x*t.y,d=t.x*t.z,f=t.x*t.w,p=t.y*t.y,m=t.y*t.z,g=t.y*t.w,_=t.z*t.z,v=t.z*t.w,b=t.w*t.w,y=u-p-_+b,O=2*(h-v),w=2*(d+g),x=2*(h+v),E=-u+p-_+b,T=2*(m-f),A=2*(d-g),C=2*(m+f),S=-u-p+_+b;return a[0]=y*r,a[1]=x*r,a[2]=A*r,a[3]=0,a[4]=O*s,a[5]=E*s,a[6]=C*s,a[7]=0,a[8]=w*l,a[9]=T*l,a[10]=S*l,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,a},n.fromTranslationRotationScale=function(e,t){return o.a.typeOf.object("translationRotationScale",e),n.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},n.fromTranslation=function(e,t){return o.a.typeOf.object("translation",e),n.fromRotationTranslation(u.a.IDENTITY,e,t)},n.fromScale=function(e,t){return o.a.typeOf.object("scale",e),Object(c.a)(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new n(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},n.fromUniformScale=function(e,t){return o.a.typeOf.number("scale",e),Object(c.a)(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new n(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var d=new a.a,f=new a.a,p=new a.a;n.fromCamera=function(e,t){o.a.typeOf.object("camera",e);var i=e.position,r=e.direction,s=e.up;o.a.typeOf.object("camera.position",i),o.a.typeOf.object("camera.direction",r),o.a.typeOf.object("camera.up",s),a.a.normalize(r,d),a.a.normalize(a.a.cross(d,s,f),f),a.a.normalize(a.a.cross(f,d,p),p);var l=f.x,u=f.y,h=f.z,m=d.x,g=d.y,_=d.z,v=p.x,b=p.y,y=p.z,O=i.x,w=i.y,x=i.z,E=l*-O+u*-w+h*-x,T=v*-O+b*-w+y*-x,A=m*O+g*w+_*x;return Object(c.a)(t)?(t[0]=l,t[1]=v,t[2]=-m,t[3]=0,t[4]=u,t[5]=b,t[6]=-g,t[7]=0,t[8]=h,t[9]=y,t[10]=-_,t[11]=0,t[12]=E,t[13]=T,t[14]=A,t[15]=1,t):new n(l,u,h,E,v,b,y,T,-m,-g,-_,A,0,0,0,1)},n.computePerspectiveFieldOfView=function(e,t,i,n,a){o.a.typeOf.number.greaterThan("fovY",e,0),o.a.typeOf.number.lessThan("fovY",e,Math.PI),o.a.typeOf.number.greaterThan("near",i,0),o.a.typeOf.number.greaterThan("far",n,0),o.a.typeOf.object("result",a);var r=Math.tan(.5*e),s=1/r,c=s/t,l=(n+i)/(i-n),u=2*n*i/(i-n);return a[0]=c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=s,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=l,a[11]=-1,a[12]=0,a[13]=0,a[14]=u,a[15]=0,a},n.computeOrthographicOffCenter=function(e,t,i,n,a,r,s){o.a.typeOf.number("left",e),o.a.typeOf.number("right",t),o.a.typeOf.number("bottom",i),o.a.typeOf.number("top",n),o.a.typeOf.number("near",a),o.a.typeOf.number("far",r),o.a.typeOf.object("result",s);var c=1/(t-e),l=1/(n-i),u=1/(r-a),h=-(t+e)*c,d=-(n+i)*l,f=-(r+a)*u;return c*=2,l*=2,u*=-2,s[0]=c,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=l,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=u,s[11]=0,s[12]=h,s[13]=d,s[14]=f,s[15]=1,s},n.computePerspectiveOffCenter=function(e,t,i,n,a,r,s){o.a.typeOf.number("left",e),o.a.typeOf.number("right",t),o.a.typeOf.number("bottom",i),o.a.typeOf.number("top",n),o.a.typeOf.number("near",a),o.a.typeOf.number("far",r),o.a.typeOf.object("result",s);var c=2*a/(t-e),l=2*a/(n-i),u=(t+e)/(t-e),h=(n+i)/(n-i),d=-(r+a)/(r-a),f=-2*r*a/(r-a);return s[0]=c,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=l,s[6]=0,s[7]=0,s[8]=u,s[9]=h,s[10]=d,s[11]=-1,s[12]=0,s[13]=0,s[14]=f,s[15]=0,s},n.computeInfinitePerspectiveOffCenter=function(e,t,i,n,a,r){o.a.typeOf.number("left",e),o.a.typeOf.number("right",t),o.a.typeOf.number("bottom",i),o.a.typeOf.number("top",n),o.a.typeOf.number("near",a),o.a.typeOf.object("result",r);var s=2*a/(t-e),c=2*a/(n-i),l=(t+e)/(t-e),u=(n+i)/(n-i),h=-2*a;return r[0]=s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=c,r[6]=0,r[7]=0,r[8]=l,r[9]=u,r[10]=-1,r[11]=-1,r[12]=0,r[13]=0,r[14]=h,r[15]=0,r},n.computeViewportTransformation=function(e,t,i,n){o.a.typeOf.object("result",n),e=Object(s.a)(e,s.a.EMPTY_OBJECT);var a=Object(s.a)(e.x,0),r=Object(s.a)(e.y,0),c=Object(s.a)(e.width,0),l=Object(s.a)(e.height,0);t=Object(s.a)(t,0),i=Object(s.a)(i,1);var u=.5*c,h=.5*l,d=.5*(i-t),f=u,p=h,m=d,g=a+u,_=r+h,v=t+d;return n[0]=f,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=p,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=m,n[11]=0,n[12]=g,n[13]=_,n[14]=v,n[15]=1,n},n.computeView=function(e,t,i,n,r){return o.a.typeOf.object("position",e),o.a.typeOf.object("direction",t),o.a.typeOf.object("up",i),o.a.typeOf.object("right",n),o.a.typeOf.object("result",r),r[0]=n.x,r[1]=i.x,r[2]=-t.x,r[3]=0,r[4]=n.y,r[5]=i.y,r[6]=-t.y,r[7]=0,r[8]=n.z,r[9]=i.z,r[10]=-t.z,r[11]=0,r[12]=-a.a.dot(n,e),r[13]=-a.a.dot(i,e),r[14]=a.a.dot(t,e),r[15]=1,r},n.toArray=function(e,t){return o.a.typeOf.object("matrix",e),Object(c.a)(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},n.getElementIndex=function(e,t){return o.a.typeOf.number.greaterThanOrEquals("row",t,0),o.a.typeOf.number.lessThanOrEquals("row",t,3),o.a.typeOf.number.greaterThanOrEquals("column",e,0),o.a.typeOf.number.lessThanOrEquals("column",e,3),4*e+t},n.getColumn=function(e,t,i){o.a.typeOf.object("matrix",e),o.a.typeOf.number.greaterThanOrEquals("index",t,0),o.a.typeOf.number.lessThanOrEquals("index",t,3),o.a.typeOf.object("result",i);var n=4*t,a=e[n],r=e[n+1],s=e[n+2],c=e[n+3];return i.x=a,i.y=r,i.z=s,i.w=c,i},n.setColumn=function(e,t,i,a){o.a.typeOf.object("matrix",e),o.a.typeOf.number.greaterThanOrEquals("index",t,0),o.a.typeOf.number.lessThanOrEquals("index",t,3),o.a.typeOf.object("cartesian",i),o.a.typeOf.object("result",a),a=n.clone(e,a);var r=4*t;return a[r]=i.x,a[r+1]=i.y,a[r+2]=i.z,a[r+3]=i.w,a},n.setTranslation=function(e,t,i){return o.a.typeOf.object("matrix",e),o.a.typeOf.object("translation",t),o.a.typeOf.object("result",i),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=e[15],i};var m=new a.a;n.setScale=function(e,t,i){o.a.typeOf.object("matrix",e),o.a.typeOf.object("scale",t),o.a.typeOf.object("result",i);var r=n.getScale(e,m),s=a.a.divideComponents(t,r,m);return n.multiplyByScale(e,s,i)},n.getRow=function(e,t,i){o.a.typeOf.object("matrix",e),o.a.typeOf.number.greaterThanOrEquals("index",t,0),o.a.typeOf.number.lessThanOrEquals("index",t,3),o.a.typeOf.object("result",i);var n=e[t],a=e[t+4],r=e[t+8],s=e[t+12];return i.x=n,i.y=a,i.z=r,i.w=s,i},n.setRow=function(e,t,i,a){return o.a.typeOf.object("matrix",e),o.a.typeOf.number.greaterThanOrEquals("index",t,0),o.a.typeOf.number.lessThanOrEquals("index",t,3),o.a.typeOf.object("cartesian",i),o.a.typeOf.object("result",a),a=n.clone(e,a),a[t]=i.x,a[t+4]=i.y,a[t+8]=i.z,a[t+12]=i.w,a};var g=new a.a;n.getScale=function(e,t){return o.a.typeOf.object("matrix",e),o.a.typeOf.object("result",t),t.x=a.a.magnitude(a.a.fromElements(e[0],e[1],e[2],g)),t.y=a.a.magnitude(a.a.fromElements(e[4],e[5],e[6],g)),t.z=a.a.magnitude(a.a.fromElements(e[8],e[9],e[10],g)),t};var _=new a.a;n.getMaximumScale=function(e){return n.getScale(e,_),a.a.maximumComponent(_)},n.multiply=function(e,t,i){o.a.typeOf.object("left",e),o.a.typeOf.object("right",t),o.a.typeOf.object("result",i);var n=e[0],a=e[1],r=e[2],s=e[3],c=e[4],l=e[5],u=e[6],h=e[7],d=e[8],f=e[9],p=e[10],m=e[11],g=e[12],_=e[13],v=e[14],b=e[15],y=t[0],O=t[1],w=t[2],x=t[3],E=t[4],T=t[5],A=t[6],C=t[7],S=t[8],j=t[9],P=t[10],D=t[11],I=t[12],R=t[13],M=t[14],L=t[15],N=n*y+c*O+d*w+g*x,F=a*y+l*O+f*w+_*x,z=r*y+u*O+p*w+v*x,B=s*y+h*O+m*w+b*x,k=n*E+c*T+d*A+g*C,U=a*E+l*T+f*A+_*C,V=r*E+u*T+p*A+v*C,H=s*E+h*T+m*A+b*C,q=n*S+c*j+d*P+g*D,W=a*S+l*j+f*P+_*D,G=r*S+u*j+p*P+v*D,Y=s*S+h*j+m*P+b*D,X=n*I+c*R+d*M+g*L,Q=a*I+l*R+f*M+_*L,J=r*I+u*R+p*M+v*L,Z=s*I+h*R+m*M+b*L;return i[0]=N,i[1]=F,i[2]=z,i[3]=B,i[4]=k,i[5]=U,i[6]=V,i[7]=H,i[8]=q,i[9]=W,i[10]=G,i[11]=Y,i[12]=X,i[13]=Q,i[14]=J,i[15]=Z,i},n.add=function(e,t,i){return o.a.typeOf.object("left",e),o.a.typeOf.object("right",t),o.a.typeOf.object("result",i),i[0]=e[0]+t[0],i[1]=e[1]+t[1],i[2]=e[2]+t[2],i[3]=e[3]+t[3],i[4]=e[4]+t[4],i[5]=e[5]+t[5],i[6]=e[6]+t[6],i[7]=e[7]+t[7],i[8]=e[8]+t[8],i[9]=e[9]+t[9],i[10]=e[10]+t[10],i[11]=e[11]+t[11],i[12]=e[12]+t[12],i[13]=e[13]+t[13],i[14]=e[14]+t[14],i[15]=e[15]+t[15],i},n.subtract=function(e,t,i){return o.a.typeOf.object("left",e),o.a.typeOf.object("right",t),o.a.typeOf.object("result",i),i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],i[3]=e[3]-t[3],i[4]=e[4]-t[4],i[5]=e[5]-t[5],i[6]=e[6]-t[6],i[7]=e[7]-t[7],i[8]=e[8]-t[8],i[9]=e[9]-t[9],i[10]=e[10]-t[10],i[11]=e[11]-t[11],i[12]=e[12]-t[12],i[13]=e[13]-t[13],i[14]=e[14]-t[14],i[15]=e[15]-t[15],i},n.multiplyTransformation=function(e,t,i){o.a.typeOf.object("left",e),o.a.typeOf.object("right",t),o.a.typeOf.object("result",i);var n=e[0],a=e[1],r=e[2],s=e[4],c=e[5],l=e[6],u=e[8],h=e[9],d=e[10],f=e[12],p=e[13],m=e[14],g=t[0],_=t[1],v=t[2],b=t[4],y=t[5],O=t[6],w=t[8],x=t[9],E=t[10],T=t[12],A=t[13],C=t[14],S=n*g+s*_+u*v,j=a*g+c*_+h*v,P=r*g+l*_+d*v,D=n*b+s*y+u*O,I=a*b+c*y+h*O,R=r*b+l*y+d*O,M=n*w+s*x+u*E,L=a*w+c*x+h*E,N=r*w+l*x+d*E,F=n*T+s*A+u*C+f,z=a*T+c*A+h*C+p,B=r*T+l*A+d*C+m;return i[0]=S,i[1]=j,i[2]=P,i[3]=0,i[4]=D,i[5]=I,i[6]=R,i[7]=0,i[8]=M,i[9]=L,i[10]=N,i[11]=0,i[12]=F,i[13]=z,i[14]=B,i[15]=1,i},n.multiplyByMatrix3=function(e,t,i){o.a.typeOf.object("matrix",e),o.a.typeOf.object("rotation",t),o.a.typeOf.object("result",i);var n=e[0],a=e[1],r=e[2],s=e[4],c=e[5],l=e[6],u=e[8],h=e[9],d=e[10],f=t[0],p=t[1],m=t[2],g=t[3],_=t[4],v=t[5],b=t[6],y=t[7],O=t[8],w=n*f+s*p+u*m,x=a*f+c*p+h*m,E=r*f+l*p+d*m,T=n*g+s*_+u*v,A=a*g+c*_+h*v,C=r*g+l*_+d*v,S=n*b+s*y+u*O,j=a*b+c*y+h*O,P=r*b+l*y+d*O;return i[0]=w,i[1]=x,i[2]=E,i[3]=0,i[4]=T,i[5]=A,i[6]=C,i[7]=0,i[8]=S,i[9]=j,i[10]=P,i[11]=0,i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15],i},n.multiplyByTranslation=function(e,t,i){o.a.typeOf.object("matrix",e),o.a.typeOf.object("translation",t),o.a.typeOf.object("result",i);var n=t.x,a=t.y,r=t.z,s=n*e[0]+a*e[4]+r*e[8]+e[12],c=n*e[1]+a*e[5]+r*e[9]+e[13],l=n*e[2]+a*e[6]+r*e[10]+e[14];return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=s,i[13]=c,i[14]=l,i[15]=e[15],i};var v=new a.a;n.multiplyByUniformScale=function(e,t,i){return o.a.typeOf.object("matrix",e),o.a.typeOf.number("scale",t),o.a.typeOf.object("result",i),v.x=t,v.y=t,v.z=t,n.multiplyByScale(e,v,i)},n.multiplyByScale=function(e,t,i){o.a.typeOf.object("matrix",e),o.a.typeOf.object("scale",t),o.a.typeOf.object("result",i);var a=t.x,r=t.y,s=t.z;return 1===a&&1===r&&1===s?n.clone(e,i):(i[0]=a*e[0],i[1]=a*e[1],i[2]=a*e[2],i[3]=0,i[4]=r*e[4],i[5]=r*e[5],i[6]=r*e[6],i[7]=0,i[8]=s*e[8],i[9]=s*e[9],i[10]=s*e[10],i[11]=0,i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=1,i)},n.multiplyByVector=function(e,t,i){o.a.typeOf.object("matrix",e),o.a.typeOf.object("cartesian",t),o.a.typeOf.object("result",i);var n=t.x,a=t.y,r=t.z,s=t.w,c=e[0]*n+e[4]*a+e[8]*r+e[12]*s,l=e[1]*n+e[5]*a+e[9]*r+e[13]*s,u=e[2]*n+e[6]*a+e[10]*r+e[14]*s,h=e[3]*n+e[7]*a+e[11]*r+e[15]*s;return i.x=c,i.y=l,i.z=u,i.w=h,i},n.multiplyByPointAsVector=function(e,t,i){o.a.typeOf.object("matrix",e),o.a.typeOf.object("cartesian",t),o.a.typeOf.object("result",i);var n=t.x,a=t.y,r=t.z,s=e[0]*n+e[4]*a+e[8]*r,c=e[1]*n+e[5]*a+e[9]*r,l=e[2]*n+e[6]*a+e[10]*r;return i.x=s,i.y=c,i.z=l,i},n.multiplyByPoint=function(e,t,i){o.a.typeOf.object("matrix",e),o.a.typeOf.object("cartesian",t),o.a.typeOf.object("result",i);var n=t.x,a=t.y,r=t.z,s=e[0]*n+e[4]*a+e[8]*r+e[12],c=e[1]*n+e[5]*a+e[9]*r+e[13],l=e[2]*n+e[6]*a+e[10]*r+e[14];return i.x=s,i.y=c,i.z=l,i},n.multiplyByScalar=function(e,t,i){return o.a.typeOf.object("matrix",e),o.a.typeOf.number("scalar",t),o.a.typeOf.object("result",i),i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t,i[3]=e[3]*t,i[4]=e[4]*t,i[5]=e[5]*t,i[6]=e[6]*t,i[7]=e[7]*t,i[8]=e[8]*t,i[9]=e[9]*t,i[10]=e[10]*t,i[11]=e[11]*t,i[12]=e[12]*t,i[13]=e[13]*t,i[14]=e[14]*t,i[15]=e[15]*t,i},n.negate=function(e,t){return o.a.typeOf.object("matrix",e),o.a.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},n.transpose=function(e,t){o.a.typeOf.object("matrix",e),o.a.typeOf.object("result",t);var i=e[1],n=e[2],a=e[3],r=e[6],s=e[7],c=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=r,t[10]=e[10],t[11]=e[14],t[12]=a,t[13]=s,t[14]=c,t[15]=e[15],t},n.abs=function(e,t){return o.a.typeOf.object("matrix",e),o.a.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},n.equals=function(e,t){return e===t||Object(c.a)(e)&&Object(c.a)(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},n.equalsEpsilon=function(e,t,i){return o.a.typeOf.number("epsilon",i),e===t||Object(c.a)(e)&&Object(c.a)(t)&&Math.abs(e[0]-t[0])<=i&&Math.abs(e[1]-t[1])<=i&&Math.abs(e[2]-t[2])<=i&&Math.abs(e[3]-t[3])<=i&&Math.abs(e[4]-t[4])<=i&&Math.abs(e[5]-t[5])<=i&&Math.abs(e[6]-t[6])<=i&&Math.abs(e[7]-t[7])<=i&&Math.abs(e[8]-t[8])<=i&&Math.abs(e[9]-t[9])<=i&&Math.abs(e[10]-t[10])<=i&&Math.abs(e[11]-t[11])<=i&&Math.abs(e[12]-t[12])<=i&&Math.abs(e[13]-t[13])<=i&&Math.abs(e[14]-t[14])<=i&&Math.abs(e[15]-t[15])<=i},n.getTranslation=function(e,t){return o.a.typeOf.object("matrix",e),o.a.typeOf.object("result",t),t.x=e[12],t.y=e[13],t.z=e[14],t},n.getMatrix3=function(e,t){return o.a.typeOf.object("matrix",e),o.a.typeOf.object("result",t),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var b=new u.a,y=new u.a,O=new r.a,w=new r.a(0,0,0,1);n.inverse=function(e,t){o.a.typeOf.object("matrix",e),o.a.typeOf.object("result",t);var i=e[0],a=e[4],s=e[8],c=e[12],d=e[1],f=e[5],p=e[9],m=e[13],g=e[2],_=e[6],v=e[10],x=e[14],E=e[3],T=e[7],A=e[11],C=e[15],S=v*C,j=x*A,P=_*C,D=x*T,I=_*A,R=v*T,M=g*C,L=x*E,N=g*A,F=v*E,z=g*T,B=_*E,k=S*f+D*p+I*m-(j*f+P*p+R*m),U=j*d+M*p+F*m-(S*d+L*p+N*m),V=P*d+L*f+z*m-(D*d+M*f+B*m),H=R*d+N*f+B*p-(I*d+F*f+z*p),q=j*a+P*s+R*c-(S*a+D*s+I*c),W=S*i+L*s+N*c-(j*i+M*s+F*c),G=D*i+M*a+B*c-(P*i+L*a+z*c),Y=I*i+F*a+z*s-(R*i+N*a+B*s);S=s*m,j=c*p,P=a*m,D=c*f,I=a*p,R=s*f,M=i*m,L=c*d,N=i*p,F=s*d,z=i*f,B=a*d;var X=S*T+D*A+I*C-(j*T+P*A+R*C),Q=j*E+M*A+F*C-(S*E+L*A+N*C),J=P*E+L*T+z*C-(D*E+M*T+B*C),Z=R*E+N*T+B*A-(I*E+F*T+z*A),K=P*v+R*x+j*_-(I*x+S*_+D*v),$=N*x+S*g+L*v-(M*v+F*x+j*g),ee=M*_+B*x+D*g-(z*x+P*g+L*_),te=z*v+I*g+F*_-(N*_+B*v+R*g),ie=i*k+a*U+s*V+c*H;if(Math.abs(ie)<l.a.EPSILON21){if(u.a.equalsEpsilon(n.getMatrix3(e,b),y,l.a.EPSILON7)&&r.a.equals(n.getRow(e,3,O),w))return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=1,t;throw new h.a("matrix is not invertible because its determinate is zero.")}return ie=1/ie,t[0]=k*ie,t[1]=U*ie,t[2]=V*ie,t[3]=H*ie,t[4]=q*ie,t[5]=W*ie,t[6]=G*ie,t[7]=Y*ie,t[8]=X*ie,t[9]=Q*ie,t[10]=J*ie,t[11]=Z*ie,t[12]=K*ie,t[13]=$*ie,t[14]=ee*ie,t[15]=te*ie,t},n.inverseTransformation=function(e,t){o.a.typeOf.object("matrix",e),o.a.typeOf.object("result",t);var i=e[0],n=e[1],a=e[2],r=e[4],s=e[5],c=e[6],l=e[8],u=e[9],h=e[10],d=e[12],f=e[13],p=e[14],m=-i*d-n*f-a*p,g=-r*d-s*f-c*p,_=-l*d-u*f-h*p;return t[0]=i,t[1]=r,t[2]=l,t[3]=0,t[4]=n,t[5]=s,t[6]=u,t[7]=0,t[8]=a,t[9]=c,t[10]=h,t[11]=0,t[12]=m,t[13]=g,t[14]=_,t[15]=1,t},n.IDENTITY=Object.freeze(new n(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),n.ZERO=Object.freeze(new n(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),n.COLUMN0ROW0=0,n.COLUMN0ROW1=1,n.COLUMN0ROW2=2,n.COLUMN0ROW3=3,n.COLUMN1ROW0=4,n.COLUMN1ROW1=5,n.COLUMN1ROW2=6,n.COLUMN1ROW3=7,n.COLUMN2ROW0=8,n.COLUMN2ROW1=9,n.COLUMN2ROW2=10,n.COLUMN2ROW3=11,n.COLUMN3ROW0=12,n.COLUMN3ROW1=13,n.COLUMN3ROW2=14,n.COLUMN3ROW3=15,Object.defineProperties(n.prototype,{length:{get:function(){return n.packedLength}}}),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.equalsArray=function(e,t,i){return e[0]===t[i]&&e[1]===t[i+1]&&e[2]===t[i+2]&&e[3]===t[i+3]&&e[4]===t[i+4]&&e[5]===t[i+5]&&e[6]===t[i+6]&&e[7]===t[i+7]&&e[8]===t[i+8]&&e[9]===t[i+9]&&e[10]===t[i+10]&&e[11]===t[i+11]&&e[12]===t[i+12]&&e[13]===t[i+13]&&e[14]===t[i+14]&&e[15]===t[i+15]},n.prototype.equalsEpsilon=function(e,t){return n.equalsEpsilon(this,e,t)},n.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"},t.a=n},Xku3:function(e,t,i){"use strict";function n(e,t,i){if(a.a.defined("array",e),Object(r.a)(t)&&a.a.typeOf.number("begin",t),Object(r.a)(i)&&a.a.typeOf.number("end",i),"function"==typeof e.slice)return e.slice(t,i);for(var n=Array.prototype.slice.call(e,t,i),s=o.a.typedArrayTypes,c=s.length,l=0;l<c;++l)if(e instanceof s[l]){n=new s[l](n);break}return n}var a=i("5F4X"),r=i("xC6Q"),o=i("gjtw");t.a=n},XnWo:function(e,t,i){"use strict";t.a="#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n#endif\n\n#ifdef TEXTURE_COORDINATES\n#ifdef SPHERICAL\nvarying vec4 v_sphericalExtents;\n#else // SPHERICAL\nvarying vec2 v_inversePlaneExtents;\nvarying vec4 v_westPlane;\nvarying vec4 v_southPlane;\n#endif // SPHERICAL\nvarying vec3 v_uvMinAndSphericalLongitudeRotation;\nvarying vec3 v_uMaxAndInverseDistance;\nvarying vec3 v_vMaxAndInverseDistance;\n#endif // TEXTURE_COORDINATES\n\n#ifdef PER_INSTANCE_COLOR\nvarying vec4 v_color;\n#endif\n\n#ifdef NORMAL_EC\nvec3 getEyeCoordinate3FromWindowCoordinate(vec2 fragCoord, float logDepthOrDepth)\n{\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(fragCoord, logDepthOrDepth);\n    return eyeCoordinate.xyz / eyeCoordinate.w;\n}\n\nvec3 vectorFromOffset(vec4 eyeCoordinate, vec2 positiveOffset)\n{\n    vec2 glFragCoordXY = gl_FragCoord.xy;\n    // Sample depths at both offset and negative offset\n    float upOrRightLogDepth = czm_unpackDepth(texture2D(czm_globeDepthTexture, (glFragCoordXY + positiveOffset) / czm_viewport.zw));\n    float downOrLeftLogDepth = czm_unpackDepth(texture2D(czm_globeDepthTexture, (glFragCoordXY - positiveOffset) / czm_viewport.zw));\n    // Explicitly evaluate both paths\n    // Necessary for multifrustum and for edges of the screen\n    bvec2 upOrRightInBounds = lessThan(glFragCoordXY + positiveOffset, czm_viewport.zw);\n    float useUpOrRight = float(upOrRightLogDepth > 0.0 && upOrRightInBounds.x && upOrRightInBounds.y);\n    float useDownOrLeft = float(useUpOrRight == 0.0);\n    vec3 upOrRightEC = getEyeCoordinate3FromWindowCoordinate(glFragCoordXY + positiveOffset, upOrRightLogDepth);\n    vec3 downOrLeftEC = getEyeCoordinate3FromWindowCoordinate(glFragCoordXY - positiveOffset, downOrLeftLogDepth);\n    return (upOrRightEC - (eyeCoordinate.xyz / eyeCoordinate.w)) * useUpOrRight + ((eyeCoordinate.xyz / eyeCoordinate.w) - downOrLeftEC) * useDownOrLeft;\n}\n#endif // NORMAL_EC\n\nvoid main(void)\n{\n#ifdef REQUIRES_EC\n    float logDepthOrDepth = czm_unpackDepth(texture2D(czm_globeDepthTexture, gl_FragCoord.xy / czm_viewport.zw));\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, logDepthOrDepth);\n#endif\n\n#ifdef REQUIRES_WC\n    vec4 worldCoordinate4 = czm_inverseView * eyeCoordinate;\n    vec3 worldCoordinate = worldCoordinate4.xyz / worldCoordinate4.w;\n#endif\n\n#ifdef TEXTURE_COORDINATES\n    vec2 uv;\n#ifdef SPHERICAL\n    // Treat world coords as a sphere normal for spherical coordinates\n    vec2 sphericalLatLong = czm_approximateSphericalCoordinates(worldCoordinate);\n    sphericalLatLong.y += v_uvMinAndSphericalLongitudeRotation.z;\n    sphericalLatLong.y = czm_branchFreeTernary(sphericalLatLong.y < czm_pi, sphericalLatLong.y, sphericalLatLong.y - czm_twoPi);\n    uv.x = (sphericalLatLong.y - v_sphericalExtents.y) * v_sphericalExtents.w;\n    uv.y = (sphericalLatLong.x - v_sphericalExtents.x) * v_sphericalExtents.z;\n#else // SPHERICAL\n    // Unpack planes and transform to eye space\n    uv.x = czm_planeDistance(v_westPlane, eyeCoordinate.xyz / eyeCoordinate.w) * v_inversePlaneExtents.x;\n    uv.y = czm_planeDistance(v_southPlane, eyeCoordinate.xyz / eyeCoordinate.w) * v_inversePlaneExtents.y;\n#endif // SPHERICAL\n#endif // TEXTURE_COORDINATES\n\n#ifdef PICK\n#ifdef CULL_FRAGMENTS\n    if (0.0 <= uv.x && uv.x <= 1.0 && 0.0 <= uv.y && uv.y <= 1.0)\n    {\n        gl_FragColor.a = 1.0; // 0.0 alpha leads to discard from ShaderSource.createPickFragmentShaderSource\n        czm_writeDepthClampedToFarPlane();\n    }\n#else // CULL_FRAGMENTS\n        gl_FragColor.a = 1.0;\n#endif // CULL_FRAGMENTS\n#else // PICK\n\n#ifdef CULL_FRAGMENTS\n    if (uv.x <= 0.0 || 1.0 <= uv.x || uv.y <= 0.0 || 1.0 <= uv.y)\n    {\n        discard;\n    }\n#endif\n\n#ifdef NORMAL_EC\n    // Compute normal by sampling adjacent pixels in 2x2 block in screen space\n    vec3 downUp = vectorFromOffset(eyeCoordinate, vec2(0.0, 1.0));\n    vec3 leftRight = vectorFromOffset(eyeCoordinate, vec2(1.0, 0.0));\n    vec3 normalEC = normalize(cross(leftRight, downUp));\n#endif\n\n\n#ifdef PER_INSTANCE_COLOR\n\n    vec4 color = czm_gammaCorrect(v_color);\n#ifdef FLAT\n    gl_FragColor = color;\n#else // FLAT\n    czm_materialInput materialInput;\n    materialInput.normalEC = normalEC;\n    materialInput.positionToEyeEC = -eyeCoordinate.xyz;\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    material.diffuse = color.rgb;\n    material.alpha = color.a;\n\n    gl_FragColor = czm_phong(normalize(-eyeCoordinate.xyz), material, czm_lightDirectionEC);\n#endif // FLAT\n\n#else // PER_INSTANCE_COLOR\n\n    // Material support.\n    // USES_ is distinct from REQUIRES_, because some things are dependencies of each other or\n    // dependencies for culling but might not actually be used by the material.\n\n    czm_materialInput materialInput;\n\n#ifdef USES_NORMAL_EC\n    materialInput.normalEC = normalEC;\n#endif\n\n#ifdef USES_POSITION_TO_EYE_EC\n    materialInput.positionToEyeEC = -eyeCoordinate.xyz;\n#endif\n\n#ifdef USES_TANGENT_TO_EYE\n    materialInput.tangentToEyeMatrix = czm_eastNorthUpToEyeCoordinates(worldCoordinate, normalEC);\n#endif\n\n#ifdef USES_ST\n    // Remap texture coordinates from computed (approximately aligned with cartographic space) to the desired\n    // texture coordinate system, which typically forms a tight oriented bounding box around the geometry.\n    // Shader is provided a set of reference points for remapping.\n    materialInput.st.x = czm_lineDistance(v_uvMinAndSphericalLongitudeRotation.xy, v_uMaxAndInverseDistance.xy, uv) * v_uMaxAndInverseDistance.z;\n    materialInput.st.y = czm_lineDistance(v_uvMinAndSphericalLongitudeRotation.xy, v_vMaxAndInverseDistance.xy, uv) * v_vMaxAndInverseDistance.z;\n#endif\n\n    czm_material material = czm_getMaterial(materialInput);\n\n#ifdef FLAT\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#else // FLAT\n    gl_FragColor = czm_phong(normalize(-eyeCoordinate.xyz), material, czm_lightDirectionEC);\n#endif // FLAT\n\n#endif // PER_INSTANCE_COLOR\n    czm_writeDepthClampedToFarPlane();\n#endif // PICK\n}\n"},Xnmy:function(e,t,i){"use strict";function n(){this._workerName="createPlaneOutlineGeometry"}var a=i("lBr9"),r=i("Jj+J"),o=i("5F4X"),s=i("YCZg"),c=i("xC6Q"),l=i("RGAo"),u=i("RYD3"),h=i("GaJK"),d=i("nHNe");n.packedLength=0,n.pack=function(e,t){return o.a.defined("value",e),o.a.defined("array",t),t},n.unpack=function(e,t,i){return o.a.defined("array",e),Object(c.a)(i)?i:new n};var f=new r.a(-.5,-.5,0),p=new r.a(.5,.5,0);n.createGeometry=function(){var e=new h.a,t=new Uint16Array(8),i=new Float64Array(12);return i[0]=f.x,i[1]=f.y,i[2]=f.z,i[3]=p.x,i[4]=f.y,i[5]=f.z,i[6]=p.x,i[7]=p.y,i[8]=f.z,i[9]=f.x,i[10]=p.y,i[11]=f.z,e.position=new u.a({componentDatatype:s.a.DOUBLE,componentsPerAttribute:3,values:i}),t[0]=0,t[1]=1,t[2]=1,t[3]=2,t[4]=2,t[5]=3,t[6]=3,t[7]=0,new l.a({attributes:e,indices:t,primitiveType:d.a.LINES,boundingSphere:new a.a(r.a.ZERO,Math.sqrt(2))})},t.a=n},"Xtn+":function(e,t,i){"use strict";t.a="/**\n * DOC_TBA\n *\n * @name czm_infinity\n * @glslConstant\n */\nconst float czm_infinity = 5906376272000.0;  // Distance from the Sun to Pluto in meters.  TODO: What is best given lowp, mediump, and highp?\n"},XvIW:function(e,t,i){"use strict";t.a="/**\n * @name czm_depthRangeStruct\n * @glslStruct\n */\nstruct czm_depthRangeStruct\n{\n    float near;\n    float far;\n};\n"},Y23K:function(e,t,i){"use strict";function n(e){e=Object(s.a)(e,s.a.EMPTY_OBJECT);var t=e.positions,i=e.maximumHeights,n=e.minimumHeights;if(!Object(c.a)(t))throw new l.a("options.positions is required.");if(Object(c.a)(i)&&i.length!==t.length)throw new l.a("options.positions and options.maximumHeights must have the same length.");if(Object(c.a)(n)&&n.length!==t.length)throw new l.a("options.positions and options.minimumHeights must have the same length.");var a=Object(s.a)(e.vertexFormat,_.a.DEFAULT),o=Object(s.a)(e.granularity,m.a.RADIANS_PER_DEGREE),h=Object(s.a)(e.ellipsoid,u.a.WGS84);this._positions=t,this._minimumHeights=n,this._maximumHeights=i,this._vertexFormat=_.a.clone(a),this._granularity=o,this._ellipsoid=u.a.clone(h),this._workerName="createWallGeometry";var d=1+t.length*r.a.packedLength+2;Object(c.a)(n)&&(d+=n.length),Object(c.a)(i)&&(d+=i.length),this.packedLength=d+u.a.packedLength+_.a.packedLength+1}var a=i("lBr9"),r=i("Jj+J"),o=i("YCZg"),s=i("5A4e"),c=i("xC6Q"),l=i("PzDm"),u=i("y6fO"),h=i("RGAo"),d=i("RYD3"),f=i("GaJK"),p=i("oMsT"),m=i("fq+p"),g=i("nHNe"),_=i("xvTE"),v=i("+yKu"),b=new r.a,y=new r.a,O=new r.a,w=new r.a,x=new r.a,E=new r.a,T=new r.a,A=new r.a;n.pack=function(e,t,i){if(!Object(c.a)(e))throw new l.a("value is required");if(!Object(c.a)(t))throw new l.a("array is required");i=Object(s.a)(i,0);var n,a=e._positions,o=a.length;for(t[i++]=o,n=0;n<o;++n,i+=r.a.packedLength)r.a.pack(a[n],t,i);var h=e._minimumHeights;if(o=Object(c.a)(h)?h.length:0,t[i++]=o,Object(c.a)(h))for(n=0;n<o;++n)t[i++]=h[n];var d=e._maximumHeights;if(o=Object(c.a)(d)?d.length:0,t[i++]=o,Object(c.a)(d))for(n=0;n<o;++n)t[i++]=d[n];return u.a.pack(e._ellipsoid,t,i),i+=u.a.packedLength,_.a.pack(e._vertexFormat,t,i),i+=_.a.packedLength,t[i]=e._granularity,t};var C=u.a.clone(u.a.UNIT_SPHERE),S=new _.a,j={positions:void 0,minimumHeights:void 0,maximumHeights:void 0,ellipsoid:C,vertexFormat:S,granularity:void 0};n.unpack=function(e,t,i){if(!Object(c.a)(e))throw new l.a("array is required");t=Object(s.a)(t,0);var a,o=e[t++],h=new Array(o);for(a=0;a<o;++a,t+=r.a.packedLength)h[a]=r.a.unpack(e,t);o=e[t++];var d;if(o>0)for(d=new Array(o),a=0;a<o;++a)d[a]=e[t++];o=e[t++];var f;if(o>0)for(f=new Array(o),a=0;a<o;++a)f[a]=e[t++];var p=u.a.unpack(e,t,C);t+=u.a.packedLength;var m=_.a.unpack(e,t,S);t+=_.a.packedLength;var g=e[t];return Object(c.a)(i)?(i._positions=h,i._minimumHeights=d,i._maximumHeights=f,i._ellipsoid=u.a.clone(p,i._ellipsoid),i._vertexFormat=_.a.clone(m,i._vertexFormat),i._granularity=g,i):(j.positions=h,j.minimumHeights=d,j.maximumHeights=f,j.granularity=g,new n(j))},n.fromConstantHeights=function(e){e=Object(s.a)(e,s.a.EMPTY_OBJECT);var t=e.positions;if(!Object(c.a)(t))throw new l.a("options.positions is required.");var i,a,r=e.minimumHeight,o=e.maximumHeight,u=Object(c.a)(r),h=Object(c.a)(o);if(u||h){var d=t.length;i=u?new Array(d):void 0,a=h?new Array(d):void 0;for(var f=0;f<d;++f)u&&(i[f]=r),h&&(a[f]=o)}return new n({positions:t,maximumHeights:a,minimumHeights:i,ellipsoid:e.ellipsoid,vertexFormat:e.vertexFormat})},n.createGeometry=function(e){var t=e._positions,i=e._minimumHeights,n=e._maximumHeights,s=e._vertexFormat,l=e._granularity,u=e._ellipsoid,_=v.a.computePositions(u,t,n,i,l,!0);if(Object(c.a)(_)){var C=_.bottomPositions,S=_.topPositions,j=_.numCorners,P=S.length,D=2*P,I=s.position?new Float64Array(D):void 0,R=s.normal?new Float32Array(D):void 0,M=s.tangent?new Float32Array(D):void 0,L=s.bitangent?new Float32Array(D):void 0,N=s.st?new Float32Array(D/3*2):void 0,F=0,z=0,B=0,k=0,U=0,V=A,H=T,q=E,W=!0;P/=3;var G,Y=0,X=1/(P-t.length+1);for(G=0;G<P;++G){var Q=3*G,J=r.a.fromArray(S,Q,b),Z=r.a.fromArray(C,Q,y);if(s.position&&(I[F++]=Z.x,I[F++]=Z.y,I[F++]=Z.z,I[F++]=J.x,I[F++]=J.y,I[F++]=J.z),s.st&&(N[U++]=Y,N[U++]=0,N[U++]=Y,N[U++]=1),s.normal||s.tangent||s.bitangent){var K,$=r.a.clone(r.a.ZERO,x),ee=u.scaleToGeodeticSurface(r.a.fromArray(S,Q,y),y);if(G+1<P&&(K=u.scaleToGeodeticSurface(r.a.fromArray(S,Q+3,O),O),$=r.a.fromArray(S,Q+3,x)),W){var te=r.a.subtract($,J,w),ie=r.a.subtract(ee,J,b);V=r.a.normalize(r.a.cross(ie,te,V),V),W=!1}r.a.equalsEpsilon(K,ee,m.a.EPSILON10)?W=!0:(Y+=X,s.tangent&&(H=r.a.normalize(r.a.subtract(K,ee,H),H)),s.bitangent&&(q=r.a.normalize(r.a.cross(V,H,q),q))),s.normal&&(R[z++]=V.x,R[z++]=V.y,R[z++]=V.z,R[z++]=V.x,R[z++]=V.y,R[z++]=V.z),s.tangent&&(M[k++]=H.x,M[k++]=H.y,M[k++]=H.z,M[k++]=H.x,M[k++]=H.y,M[k++]=H.z),s.bitangent&&(L[B++]=q.x,L[B++]=q.y,L[B++]=q.z,L[B++]=q.x,L[B++]=q.y,L[B++]=q.z)}}var ne=new f.a;s.position&&(ne.position=new d.a({componentDatatype:o.a.DOUBLE,componentsPerAttribute:3,values:I})),s.normal&&(ne.normal=new d.a({componentDatatype:o.a.FLOAT,componentsPerAttribute:3,values:R})),s.tangent&&(ne.tangent=new d.a({componentDatatype:o.a.FLOAT,componentsPerAttribute:3,values:M})),s.bitangent&&(ne.bitangent=new d.a({componentDatatype:o.a.FLOAT,componentsPerAttribute:3,values:L})),s.st&&(ne.st=new d.a({componentDatatype:o.a.FLOAT,componentsPerAttribute:2,values:N}));var ae=D/3;D-=6*(j+1);var re=p.a.createTypedArray(ae,D),oe=0;for(G=0;G<ae-2;G+=2){var se=G,ce=G+2,le=r.a.fromArray(I,3*se,b),ue=r.a.fromArray(I,3*ce,y);if(!r.a.equalsEpsilon(le,ue,m.a.EPSILON10)){var he=G+1,de=G+3;re[oe++]=he,re[oe++]=se,re[oe++]=de,re[oe++]=de,re[oe++]=se,re[oe++]=ce}}return new h.a({attributes:ne,indices:re,primitiveType:g.a.TRIANGLES,boundingSphere:new a.a.fromVertices(I)})}},t.a=n},Y45Y:function(e,t,i){"use strict";function n(e,t){return e.priority-t.priority}function a(){}function r(e){Object(_.a)(e.priorityFunction)&&(e.priority=e.priorityFunction())}function o(e){var t=Object(g.a)(a.requestsByServer[e],a.maximumRequestsPerServer);return C[e]<t}function s(e){return e.state===w.a.UNISSUED&&(e.state=w.a.ISSUED,e.deferred=p.a.defer()),e.deferred.promise}function c(e){return function(t){e.state!==w.a.CANCELLED&&(--x.numberOfActiveRequests,--C[e.serverKey],j.raiseEvent(),e.state=w.a.RECEIVED,e.deferred.resolve(t))}}function l(e){return function(t){e.state!==w.a.CANCELLED&&(++x.numberOfFailedRequests,--x.numberOfActiveRequests,--C[e.serverKey],j.raiseEvent(t),e.state=w.a.FAILED,e.deferred.reject(t))}}function u(e){var t=s(e);return e.state=w.a.ACTIVE,A.push(e),++x.numberOfActiveRequests,++x.numberOfActiveRequestsEver,++C[e.serverKey],e.requestFunction().then(c(e)).otherwise(l(e)),t}function h(e){var t=e.state===w.a.ACTIVE;e.state=w.a.CANCELLED,++x.numberOfCancelledRequests,e.deferred.reject(),t&&(--x.numberOfActiveRequests,--C[e.serverKey],++x.numberOfCancelledActiveRequests),Object(_.a)(e.cancelFunction)&&e.cancelFunction()}function d(){a.debugShowStatistics&&(0===x.numberOfActiveRequests&&x.lastNumberOfActiveRequests>0&&(x.numberOfAttemptedRequests>0&&(console.log("Number of attempted requests: "+x.numberOfAttemptedRequests),x.numberOfAttemptedRequests=0),x.numberOfCancelledRequests>0&&(console.log("Number of cancelled requests: "+x.numberOfCancelledRequests),x.numberOfCancelledRequests=0),x.numberOfCancelledActiveRequests>0&&(console.log("Number of cancelled active requests: "+x.numberOfCancelledActiveRequests),x.numberOfCancelledActiveRequests=0),x.numberOfFailedRequests>0&&(console.log("Number of failed requests: "+x.numberOfFailedRequests),x.numberOfFailedRequests=0)),x.lastNumberOfActiveRequests=x.numberOfActiveRequests)}var f=i("8Vjj"),p=i("S7OP"),m=i("5F4X"),g=i("5A4e"),_=i("xC6Q"),v=i("W6xh"),b=i("km4D"),y=i("3t6G"),O=i("L75e"),w=i("YBjH"),x={numberOfAttemptedRequests:0,numberOfActiveRequests:0,numberOfCancelledRequests:0,numberOfCancelledActiveRequests:0,numberOfFailedRequests:0,numberOfActiveRequestsEver:0,lastNumberOfActiveRequests:0},E=20,T=new b.a({comparator:n});T.maximumLength=E,T.reserve(E);var A=[],C={},S="undefined"!=typeof document?new f.a(document.location.href):new f.a,j=new v.a;a.maximumRequests=50,a.maximumRequestsPerServer=6,a.requestsByServer={"api.cesium.com:443":18,"assets.cesium.com:443":18},a.throttleRequests=!0,a.debugShowStatistics=!1,a.requestCompletedEvent=j,Object.defineProperties(a,{statistics:{get:function(){return x}},priorityHeapLength:{get:function(){return E},set:function(e){if(e<E)for(;T.length>e;){var t=T.pop();h(t)}E=e,T.maximumLength=e,T.reserve(e)}}}),a.update=function(){var e,t,i=0,n=A.length;for(e=0;e<n;++e)t=A[e],t.cancelled&&h(t),t.state===w.a.ACTIVE?i>0&&(A[e-i]=t):++i;A.length-=i;var s=T.internalArray,c=T.length;for(e=0;e<c;++e)r(s[e]);T.resort();for(var l=Math.max(a.maximumRequests-A.length,0),f=0;f<l&&T.length>0;)t=T.pop(),t.cancelled?h(t):!t.throttleByServer||o(t.serverKey)?(u(t),++f):h(t);d()},a.getServerKey=function(e){m.a.typeOf.string("url",e);var t=new f.a(e).resolve(S);t.normalize();var i=t.authority;/:/.test(i)||(i=i+":"+("https"===t.scheme?"443":"80"));var n=C[i];return Object(_.a)(n)||(C[i]=0),i},a.request=function(e){if(m.a.typeOf.object("request",e),m.a.typeOf.string("request.url",e.url),m.a.typeOf.func("request.requestFunction",e.requestFunction),Object(O.a)(e.url)||Object(y.a)(e.url))return j.raiseEvent(),e.state=w.a.RECEIVED,e.requestFunction();if(++x.numberOfAttemptedRequests,Object(_.a)(e.serverKey)||(e.serverKey=a.getServerKey(e.url)),!a.throttleRequests||!e.throttleByServer||o(e.serverKey)){if(!a.throttleRequests||!e.throttle)return u(e);if(!(A.length>=a.maximumRequests)){r(e);var t=T.insert(e);if(Object(_.a)(t)){if(t===e)return;h(t)}return s(e)}}},a.clearForSpecs=function(){for(;T.length>0;){h(T.pop())}for(var e=A.length,t=0;t<e;++t)h(A[t]);A.length=0,C={},x.numberOfAttemptedRequests=0,x.numberOfActiveRequests=0,x.numberOfCancelledRequests=0,x.numberOfCancelledActiveRequests=0,x.numberOfFailedRequests=0,x.numberOfActiveRequestsEver=0,x.lastNumberOfActiveRequests=0},a.numberOfActiveRequestsByServer=function(e){return C[e]},a.requestHeap=T,t.a=a},Y4y7:function(e,t,i){"use strict";function n(e){if(e=Object(r.a)(e,r.a.EMPTY_OBJECT),this._ellipsoid=Object(r.a)(e.ellipsoid,s.a.WGS84),this._numberOfLevelZeroTilesX=Object(r.a)(e.numberOfLevelZeroTilesX,1),this._numberOfLevelZeroTilesY=Object(r.a)(e.numberOfLevelZeroTilesY,1),this._projection=new l.a(this._ellipsoid),Object(o.a)(e.rectangleSouthwestInMeters)&&Object(o.a)(e.rectangleNortheastInMeters))this._rectangleSouthwestInMeters=e.rectangleSouthwestInMeters,this._rectangleNortheastInMeters=e.rectangleNortheastInMeters;else{var t=this._ellipsoid.maximumRadius*Math.PI;this._rectangleSouthwestInMeters=new a.a(-t,-t),this._rectangleNortheastInMeters=new a.a(t,t)}var i=this._projection.unproject(this._rectangleSouthwestInMeters),n=this._projection.unproject(this._rectangleNortheastInMeters);this._rectangle=new c.a(i.longitude,i.latitude,n.longitude,n.latitude)}var a=i("Ss9j"),r=i("5A4e"),o=i("xC6Q"),s=i("y6fO"),c=i("Wq1U"),l=i("6AvQ");Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),n.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},n.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},n.prototype.rectangleToNativeRectangle=function(e,t){var i=this._projection,n=i.project(c.a.southwest(e)),a=i.project(c.a.northeast(e));return Object(o.a)(t)?(t.west=n.x,t.south=n.y,t.east=a.x,t.north=a.y,t):new c.a(n.x,n.y,a.x,a.y)},n.prototype.tileXYToNativeRectangle=function(e,t,i,n){var a=this.getNumberOfXTilesAtLevel(i),r=this.getNumberOfYTilesAtLevel(i),s=(this._rectangleNortheastInMeters.x-this._rectangleSouthwestInMeters.x)/a,l=this._rectangleSouthwestInMeters.x+e*s,u=this._rectangleSouthwestInMeters.x+(e+1)*s,h=(this._rectangleNortheastInMeters.y-this._rectangleSouthwestInMeters.y)/r,d=this._rectangleNortheastInMeters.y-t*h,f=this._rectangleNortheastInMeters.y-(t+1)*h;return Object(o.a)(n)?(n.west=l,n.south=f,n.east=u,n.north=d,n):new c.a(l,f,u,d)},n.prototype.tileXYToRectangle=function(e,t,i,n){var r=this.tileXYToNativeRectangle(e,t,i,n),o=this._projection,s=o.unproject(new a.a(r.west,r.south)),c=o.unproject(new a.a(r.east,r.north));return r.west=s.longitude,r.south=s.latitude,r.east=c.longitude,r.north=c.latitude,r},n.prototype.positionToTileXY=function(e,t,i){var n=this._rectangle;if(c.a.contains(n,e)){var r=this.getNumberOfXTilesAtLevel(t),s=this.getNumberOfYTilesAtLevel(t),l=this._rectangleNortheastInMeters.x-this._rectangleSouthwestInMeters.x,u=l/r,h=this._rectangleNortheastInMeters.y-this._rectangleSouthwestInMeters.y,d=h/s,f=this._projection,p=f.project(e),m=p.x-this._rectangleSouthwestInMeters.x,g=this._rectangleNortheastInMeters.y-p.y,_=m/u|0;_>=r&&(_=r-1);var v=g/d|0;return v>=s&&(v=s-1),Object(o.a)(i)?(i.x=_,i.y=v,i):new a.a(_,v)}},t.a=n},YBjH:function(e,t,i){"use strict";var n={UNISSUED:0,ISSUED:1,ACTIVE:2,RECEIVED:3,CANCELLED:4,FAILED:5};t.a=Object.freeze(n)},YC0M:function(e,t,i){"use strict";function n(e,t){l.a.typeOf.object("clippingPlaneCollection",e),l.a.typeOf.object("context",t);var i=e.unionClippingRegions,n=e.length,c=u.a.useFloatTexture(t),d=u.a.getTextureResolution(e,t,h),f=d.x,p=d.y,m=c?o(f,p):s(f,p);return m+="\n",m+=i?a(n):r(n)}function a(e){return"float clip(vec4 fragCoord, sampler2D clippingPlanes, mat4 clippingPlanesMatrix)\n{\n    vec4 position = czm_windowToEyeCoordinates(fragCoord);\n    vec3 clipNormal = vec3(0.0);\n    vec3 clipPosition = vec3(0.0);\n    float clipAmount;\n    float pixelWidth = czm_metersPerPixel(position);\n    bool breakAndDiscard = false;\n    for (int i = 0; i < "+e+"; ++i)\n    {\n        vec4 clippingPlane = getClippingPlane(clippingPlanes, i, clippingPlanesMatrix);\n        clipNormal = clippingPlane.xyz;\n        clipPosition = -clippingPlane.w * clipNormal;\n        float amount = dot(clipNormal, (position.xyz - clipPosition)) / pixelWidth;\n        clipAmount = czm_branchFreeTernary(i == 0, amount, min(amount, clipAmount));\n        if (amount <= 0.0)\n        {\n           breakAndDiscard = true;\n           break;\n        }\n    }\n    if (breakAndDiscard) {\n        discard;\n    }\n    return clipAmount;\n}\n"}function r(e){return"float clip(vec4 fragCoord, sampler2D clippingPlanes, mat4 clippingPlanesMatrix)\n{\n    bool clipped = true;\n    vec4 position = czm_windowToEyeCoordinates(fragCoord);\n    vec3 clipNormal = vec3(0.0);\n    vec3 clipPosition = vec3(0.0);\n    float clipAmount = 0.0;\n    float pixelWidth = czm_metersPerPixel(position);\n    for (int i = 0; i < "+e+"; ++i)\n    {\n        vec4 clippingPlane = getClippingPlane(clippingPlanes, i, clippingPlanesMatrix);\n        clipNormal = clippingPlane.xyz;\n        clipPosition = -clippingPlane.w * clipNormal;\n        float amount = dot(clipNormal, (position.xyz - clipPosition)) / pixelWidth;\n        clipAmount = max(amount, clipAmount);\n        clipped = clipped && (amount <= 0.0);\n    }\n    if (clipped)\n    {\n        discard;\n    }\n    return clipAmount;\n}\n"}function o(e,t){var i=1/e,n=1/t,a=i+"";-1===a.indexOf(".")&&(a+=".0");var r=n+"";return-1===r.indexOf(".")&&(r+=".0"),"vec4 getClippingPlane(sampler2D packedClippingPlanes, int clippingPlaneNumber, mat4 transform)\n{\n    int pixY = clippingPlaneNumber / "+e+";\n    int pixX = clippingPlaneNumber - (pixY * "+e+");\n    float u = (float(pixX) + 0.5) * "+a+";\n    float v = (float(pixY) + 0.5) * "+r+";\n    vec4 plane = texture2D(packedClippingPlanes, vec2(u, v));\n    return czm_transformPlane(plane, transform);\n}\n"}function s(e,t){var i=1/e,n=1/t,a=i+"";-1===a.indexOf(".")&&(a+=".0");var r=n+"";return-1===r.indexOf(".")&&(r+=".0"),"vec4 getClippingPlane(sampler2D packedClippingPlanes, int clippingPlaneNumber, mat4 transform)\n{\n    int clippingPlaneStartIndex = clippingPlaneNumber * 2;\n    int pixY = clippingPlaneStartIndex / "+e+";\n    int pixX = clippingPlaneStartIndex - (pixY * "+e+");\n    float u = (float(pixX) + 0.5) * "+a+";\n    float v = (float(pixY) + 0.5) * "+r+";\n    vec4 oct32 = texture2D(packedClippingPlanes, vec2(u, v)) * 255.0;\n    vec2 oct = vec2(oct32.x * 256.0 + oct32.y, oct32.z * 256.0 + oct32.w);\n    vec4 plane;\n    plane.xyz = czm_octDecode(oct, 65535.0);\n    plane.w = czm_unpackFloat(texture2D(packedClippingPlanes, vec2(u + "+a+", v)));\n    return czm_transformPlane(plane, transform);\n}\n"}var c=i("Ss9j"),l=i("5F4X"),u=i("Jl4s"),h=new c.a;t.a=n},YCZg:function(e,t,i){"use strict";var n=i("5A4e"),a=i("xC6Q"),r=i("PzDm"),o=i("1L1F"),s={BYTE:o.a.BYTE,UNSIGNED_BYTE:o.a.UNSIGNED_BYTE,SHORT:o.a.SHORT,UNSIGNED_SHORT:o.a.UNSIGNED_SHORT,INT:o.a.INT,UNSIGNED_INT:o.a.UNSIGNED_INT,FLOAT:o.a.FLOAT,DOUBLE:o.a.DOUBLE};s.getSizeInBytes=function(e){if(!Object(a.a)(e))throw new r.a("value is required.");switch(e){case s.BYTE:return Int8Array.BYTES_PER_ELEMENT;case s.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case s.SHORT:return Int16Array.BYTES_PER_ELEMENT;case s.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case s.INT:return Int32Array.BYTES_PER_ELEMENT;case s.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case s.FLOAT:return Float32Array.BYTES_PER_ELEMENT;case s.DOUBLE:return Float64Array.BYTES_PER_ELEMENT;default:throw new r.a("componentDatatype is not a valid value.")}},s.fromTypedArray=function(e){return e instanceof Int8Array?s.BYTE:e instanceof Uint8Array?s.UNSIGNED_BYTE:e instanceof Int16Array?s.SHORT:e instanceof Uint16Array?s.UNSIGNED_SHORT:e instanceof Int32Array?s.INT:e instanceof Uint32Array?s.UNSIGNED_INT:e instanceof Float32Array?s.FLOAT:e instanceof Float64Array?s.DOUBLE:void 0},s.validate=function(e){return Object(a.a)(e)&&(e===s.BYTE||e===s.UNSIGNED_BYTE||e===s.SHORT||e===s.UNSIGNED_SHORT||e===s.INT||e===s.UNSIGNED_INT||e===s.FLOAT||e===s.DOUBLE)},s.createTypedArray=function(e,t){if(!Object(a.a)(e))throw new r.a("componentDatatype is required.");if(!Object(a.a)(t))throw new r.a("valuesOrLength is required.");switch(e){case s.BYTE:return new Int8Array(t);case s.UNSIGNED_BYTE:return new Uint8Array(t);case s.SHORT:return new Int16Array(t);case s.UNSIGNED_SHORT:return new Uint16Array(t);case s.INT:return new Int32Array(t);case s.UNSIGNED_INT:return new Uint32Array(t);case s.FLOAT:return new Float32Array(t);case s.DOUBLE:return new Float64Array(t);default:throw new r.a("componentDatatype is not a valid value.")}},s.createArrayBufferView=function(e,t,i,o){if(!Object(a.a)(e))throw new r.a("componentDatatype is required.");if(!Object(a.a)(t))throw new r.a("buffer is required.");switch(i=Object(n.a)(i,0),o=Object(n.a)(o,(t.byteLength-i)/s.getSizeInBytes(e)),e){case s.BYTE:return new Int8Array(t,i,o);case s.UNSIGNED_BYTE:return new Uint8Array(t,i,o);case s.SHORT:return new Int16Array(t,i,o);case s.UNSIGNED_SHORT:return new Uint16Array(t,i,o);case s.INT:return new Int32Array(t,i,o);case s.UNSIGNED_INT:return new Uint32Array(t,i,o);case s.FLOAT:return new Float32Array(t,i,o);case s.DOUBLE:return new Float64Array(t,i,o);default:throw new r.a("componentDatatype is not a valid value.")}},s.fromName=function(e){switch(e){case"BYTE":return s.BYTE;case"UNSIGNED_BYTE":return s.UNSIGNED_BYTE;case"SHORT":return s.SHORT;case"UNSIGNED_SHORT":return s.UNSIGNED_SHORT;case"INT":return s.INT;case"UNSIGNED_INT":return s.UNSIGNED_INT;case"FLOAT":return s.FLOAT;case"DOUBLE":return s.DOUBLE;default:throw new r.a("name is not a valid value.")}},t.a=Object.freeze(s)},YGJX:function(e,t,i){"use strict";t.a="#ifdef GL_OES_standard_derivatives\n    #extension GL_OES_standard_derivatives : enable\n#endif\n\nuniform vec4 color;\nuniform float spacing;\nuniform float width;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    float distanceToContour = mod(materialInput.height, spacing);\n\n#ifdef GL_OES_standard_derivatives\n    float dxc = abs(dFdx(materialInput.height));\n    float dyc = abs(dFdy(materialInput.height));\n    float dF = max(dxc, dyc) * czm_pixelRatio * width;\n    float alpha = (distanceToContour < dF) ? 1.0 : 0.0;\n#else\n    float alpha = (distanceToContour < (czm_pixelRatio * width)) ? 1.0 : 0.0;\n#endif\n\n    vec4 outColor = czm_gammaCorrect(vec4(color.rgb, alpha));\n    material.diffuse = outColor.rgb;\n    material.alpha = outColor.a;\n\n    return material;\n}\n"},YKq0:function(e,t,i){"use strict";var n=i("1L1F"),a={NEAREST:n.a.NEAREST,LINEAR:n.a.LINEAR,validate:function(e){return e===a.NEAREST||e===a.LINEAR}};t.a=Object.freeze(a)},YMVM:function(e,t,i){"use strict";t.a="/**\n * DOC_TBA\n *\n * @name czm_geodeticSurfaceNormal\n * @glslFunction\n *\n * @param {vec3} positionOnEllipsoid DOC_TBA\n * @param {vec3} ellipsoidCenter DOC_TBA\n * @param {vec3} oneOverEllipsoidRadiiSquared DOC_TBA\n * \n * @returns {vec3} DOC_TBA.\n */\nvec3 czm_geodeticSurfaceNormal(vec3 positionOnEllipsoid, vec3 ellipsoidCenter, vec3 oneOverEllipsoidRadiiSquared)\n{\n    return normalize((positionOnEllipsoid - ellipsoidCenter) * oneOverEllipsoidRadiiSquared);\n}\n"},YQHG:function(e,t,i){"use strict";function n(){this.showInstructions=!1;var e=this;this._command=Object(r.a)(function(){e.showInstructions=!e.showInstructions}),this._showClick=Object(r.a)(function(){e._touch=!1}),this._showTouch=Object(r.a)(function(){e._touch=!0}),this._touch=!1,this.tooltip="Navigation Instructions",a.a.track(this,["tooltip","showInstructions","_touch"])}var a=i("PKIF"),r=i("E9RU");Object.defineProperties(n.prototype,{command:{get:function(){return this._command}},showClick:{get:function(){return this._showClick}},showTouch:{get:function(){return this._showTouch}}}),t.a=n},YfNe:function(e,t,i){"use strict";function n(e,t,i){var n,a,r;if(e instanceof w.a){var o=Math.tan(.5*e.fovy);return n=e.near,a=e.near*o,r=e.aspectRatio*a,Math.max(t*n/r,i*n/a)}return e instanceof x.a?(n=e.near,a=e.top,r=e.right,Math.max(t*n/r,i*n/a)):Math.max(t,i)}function a(e,t,i,n){if(Object(v.a)(n)&&i(.5)>n){var a=i(0),r=i(1),o=i(.5),s=o-a,c=o-r;return function(n){var o=i(n);if(n<=.5){var l=(o-a)/s;return O.a.lerp(e,-O.a.PI_OVER_TWO,l)}var u=(o-r)/c;return O.a.lerp(-O.a.PI_OVER_TWO,t,1-u)}}return function(i){return O.a.lerp(e,t,i)}}function r(e,t,i,a,r){var o=r,s=Math.max(i,a);if(!Object(v.a)(o)){var c=e.position,l=t,u=e.up,h=e.right,d=e.frustum,f=m.a.subtract(c,l,A),p=m.a.magnitude(m.a.multiplyByScalar(u,m.a.dot(f,u),C)),g=m.a.magnitude(m.a.multiplyByScalar(h,m.a.dot(f,h),C));o=Math.min(.2*n(d,p,g),1e9)}if(s<o){var _=-Math.pow(1e6*(o-i),1/8),b=Math.pow(1e6*(o-a),1/8);return function(e){var t=e*(b-_)+_;return-Math.pow(t,8)/1e6+o}}return function(e){return O.a.lerp(i,a,e)}}function o(e,t){return O.a.equalsEpsilon(e,O.a.TWO_PI,O.a.EPSILON11)&&(e=0),t>e+Math.PI?e+=O.a.TWO_PI:t<e-Math.PI&&(e-=O.a.TWO_PI),e}function s(e,t,i,n,a,s,c){function l(e){var r=e.time/t;u.setView({orientation:{heading:O.a.lerp(f,n,r),pitch:O.a.lerp(d,a,r),roll:O.a.lerp(g,s,r)}}),p.a.lerp(h,i,r,u.position),u.position.z=_(r)}var u=e.camera,h=m.a.clone(u.position,S),d=u.pitch,f=o(u.heading,n),g=o(u.roll,s),_=r(u,i,h.z,i.z,c);return l}function c(e,t){e.longitude<t.longitude?e.longitude+=O.a.TWO_PI:t.longitude+=O.a.TWO_PI}function l(e,t){var i=e.longitude-t.longitude;i<-O.a.PI?e.longitude+=O.a.TWO_PI:i>O.a.PI&&(t.longitude+=O.a.TWO_PI)}function u(e,t,i,n,s,u,h,d,f,p){var _=e.camera,b=e.mapProjection,y=b.ellipsoid,w=g.a.clone(_.positionCartographic,j),x=_.pitch,E=o(_.heading,n),T=o(_.roll,u),A=y.cartesianToCartographic(i,P);w.longitude=O.a.zeroToTwoPi(w.longitude),A.longitude=O.a.zeroToTwoPi(A.longitude);var C=!1;if(Object(v.a)(d)){var S=O.a.zeroToTwoPi(d),D=Math.min(w.longitude,A.longitude),I=Math.max(w.longitude,A.longitude),R=S>=D&&S<=I;if(Object(v.a)(f)){var M=Math.abs(w.longitude-A.longitude),L=O.a.TWO_PI-M;(R?M:L)<(R?L:M)*f&&!R&&(C=!0)}else R||(C=!0)}C?c(w,A):l(w,A);var N=r(_,i,w.height,A.height,h),F=a(x,s,N,p);return function(){var e=w.longitude,i=A.longitude,a=w.latitude,r=A.latitude;return function(o){var s=o.time/t,c=m.a.fromRadians(O.a.lerp(e,i,s),O.a.lerp(a,r,s),N(s));_.setView({destination:c,orientation:{heading:O.a.lerp(E,n,s),pitch:F(s),roll:O.a.lerp(T,u,s)}})}}()}function h(e,t,i,n,a,s,c){function l(e){var a=e.time/t;u.setView({orientation:{heading:O.a.lerp(d,n,a)}}),p.a.lerp(h,i,a,u.position);var r=g(a),o=u.frustum,s=o.top/o.right,c=.5*(r-(o.right-o.left));o.right+=c,o.left-=c,o.top=s*o.right,o.bottom=-o.top}var u=e.camera,h=m.a.clone(u.position,S),d=o(u.heading,n),f=u.frustum.right-u.frustum.left,g=r(u,i,f,i.z,c);return l}function d(e,t){return{startObject:{},stopObject:{},duration:0,complete:e,cancel:t}}function f(e,t){function i(){"function"==typeof t&&t(),e.enableInputs=!0}return i}var p=i("Ss9j"),m=i("Jj+J"),g=i("I3GD"),_=i("5A4e"),v=i("xC6Q"),b=i("PzDm"),y=i("jxrD"),O=i("fq+p"),w=i("MYGk"),x=i("IPrE"),E=i("sotJ"),T={},A=new m.a,C=new m.a,S=new m.a,j=new g.a,P=new g.a,D=new g.a,I=new m.a;T.createTween=function(e,t){t=Object(_.a)(t,_.a.EMPTY_OBJECT);var i=t.destination;if(!Object(v.a)(e))throw new b.a("scene is required.");if(!Object(v.a)(i))throw new b.a("destination is required.");var n=e.mode;if(n===E.a.MORPHING)return d();var a=Object(_.a)(t.convert,!0),r=e.mapProjection,o=r.ellipsoid,c=t.maximumHeight,l=t.flyOverLongitude,g=t.flyOverLongitudeWeight,w=t.pitchAdjustHeight,x=t.easingFunction;a&&n!==E.a.SCENE3D&&(o.cartesianToCartographic(i,D),i=r.project(D,I));var T=e.camera,A=t.endTransform;Object(v.a)(A)&&T._setTransform(A);var C=t.duration;Object(v.a)(C)||(C=Math.ceil(m.a.distance(T.position,i)/1e6)+2,C=Math.min(C,3));var S=Object(_.a)(t.heading,0),j=Object(_.a)(t.pitch,-O.a.PI_OVER_TWO),P=Object(_.a)(t.roll,0),R=e.screenSpaceCameraController;R.enableInputs=!1;var M=f(R,t.complete),L=f(R,t.cancel),N=T.frustum,F=e.mode===E.a.SCENE2D;if(F=F&&p.a.equalsEpsilon(T.position,i,O.a.EPSILON6),F=F&&O.a.equalsEpsilon(Math.max(N.right-N.left,N.top-N.bottom),i.z,O.a.EPSILON6),F=F||e.mode!==E.a.SCENE2D&&m.a.equalsEpsilon(i,T.position,O.a.EPSILON10),F=F&&O.a.equalsEpsilon(O.a.negativePiToPi(S),O.a.negativePiToPi(T.heading),O.a.EPSILON10)&&O.a.equalsEpsilon(O.a.negativePiToPi(j),O.a.negativePiToPi(T.pitch),O.a.EPSILON10)&&O.a.equalsEpsilon(O.a.negativePiToPi(P),O.a.negativePiToPi(T.roll),O.a.EPSILON10))return d(M,L);var z=new Array(4);if(z[E.a.SCENE2D]=h,z[E.a.SCENE3D]=u,z[E.a.COLUMBUS_VIEW]=s,C<=0){return d(function(){z[n](e,1,i,S,j,P,c,l,g,w)({time:1}),"function"==typeof M&&M()},L)}var B=z[n](e,C,i,S,j,P,c,l,g,w);if(!Object(v.a)(x)){var k=T.positionCartographic.height;x=k>(n===E.a.SCENE3D?o.cartesianToCartographic(i).height:i.z)&&k>11500?y.a.CUBIC_OUT:y.a.QUINTIC_IN_OUT}return{duration:C,easingFunction:x,startObject:{time:0},stopObject:{time:C},update:B,complete:M,cancel:L}},t.a=T},"YmY/":function(e,t,i){"use strict";function n(e){a.a.throwInstantiationError()}var a=i("PzDm");n.prototype.isReady=a.a.throwInstantiationError,n.prototype.shouldDiscardImage=a.a.throwInstantiationError},YnUm:function(e,t,i){"use strict";function n(e,t){var i=e;return Object(d.a)(t)&&(i+="+"+t),i}function a(e,t){h.a.clone(e.distance.startPosition,t.distance.startPosition),h.a.clone(e.distance.endPosition,t.distance.endPosition),h.a.clone(e.angleAndHeight.startPosition,t.angleAndHeight.startPosition),h.a.clone(e.angleAndHeight.endPosition,t.angleAndHeight.endPosition)}function r(e,t,i){var r=n(b.a.PINCH,t),o=e._update,s=e._isDown,c=e._eventStartPosition,l=e._pressTime,u=e._releaseTime;o[r]=!0,s[r]=!1,c[r]=new h.a;var f=e._movement[r];Object(d.a)(f)||(f=e._movement[r]={}),f.distance={startPosition:new h.a,endPosition:new h.a},f.angleAndHeight={startPosition:new h.a,endPosition:new h.a},f.prevAngle=0,e._eventHandler.setInputAction(function(t){e._buttonsDown++,s[r]=!0,l[r]=new Date,h.a.lerp(t.position1,t.position2,.5,c[r])},v.a.PINCH_START,t),e._eventHandler.setInputAction(function(){e._buttonsDown=Math.max(e._buttonsDown-1,0),s[r]=!1,u[r]=new Date},v.a.PINCH_END,t),e._eventHandler.setInputAction(function(e){if(s[r]){o[r]?(a(e,f),o[r]=!1,f.prevAngle=f.angleAndHeight.startPosition.x):(h.a.clone(e.distance.endPosition,f.distance.endPosition),h.a.clone(e.angleAndHeight.endPosition,f.angleAndHeight.endPosition));for(var t=f.angleAndHeight.endPosition.x,n=f.prevAngle,c=2*Math.PI;t>=n+Math.PI;)t-=c;for(;t<n-Math.PI;)t+=c;f.angleAndHeight.endPosition.x=-t*i.clientWidth/12,f.angleAndHeight.startPosition.x=-n*i.clientWidth/12}},v.a.PINCH_MOVE,t)}function o(e,t){var i=n(b.a.WHEEL,t),a=e._update;a[i]=!0;var r=e._movement[i];Object(d.a)(r)||(r=e._movement[i]={}),r.startPosition=new h.a,r.endPosition=new h.a,e._eventHandler.setInputAction(function(e){var t=15*g.a.toRadians(e);a[i]?(h.a.clone(h.a.ZERO,r.startPosition),r.endPosition.x=0,r.endPosition.y=t,a[i]=!1):r.endPosition.y=r.endPosition.y+t},v.a.WHEEL,t)}function s(e,t,i){var a=n(i,t),r=e._isDown,o=e._eventStartPosition,s=e._pressTime,c=e._releaseTime;r[a]=!1,o[a]=new h.a;var l=e._lastMovement[a];Object(d.a)(l)||(l=e._lastMovement[a]={startPosition:new h.a,endPosition:new h.a,valid:!1});var u,f;i===b.a.LEFT_DRAG?(u=v.a.LEFT_DOWN,f=v.a.LEFT_UP):i===b.a.RIGHT_DRAG?(u=v.a.RIGHT_DOWN,f=v.a.RIGHT_UP):i===b.a.MIDDLE_DRAG&&(u=v.a.MIDDLE_DOWN,f=v.a.MIDDLE_UP),e._eventHandler.setInputAction(function(t){e._buttonsDown++,l.valid=!1,r[a]=!0,s[a]=new Date,h.a.clone(t.position,o[a])},u,t),e._eventHandler.setInputAction(function(){e._buttonsDown=Math.max(e._buttonsDown-1,0),r[a]=!1,c[a]=new Date},f,t)}function c(e,t){h.a.clone(e.startPosition,t.startPosition),h.a.clone(e.endPosition,t.endPosition)}function l(e,t){var i=e._update,a=e._movement,r=e._lastMovement,o=e._isDown;for(var s in b.a)if(b.a.hasOwnProperty(s)){var l=b.a[s];if(Object(d.a)(l)){var u=n(l,t);i[u]=!0,Object(d.a)(e._lastMovement[u])||(e._lastMovement[u]={startPosition:new h.a,endPosition:new h.a,valid:!1}),Object(d.a)(e._movement[u])||(e._movement[u]={startPosition:new h.a,endPosition:new h.a})}}e._eventHandler.setInputAction(function(s){for(var l in b.a)if(b.a.hasOwnProperty(l)){var u=b.a[l];if(Object(d.a)(u)){var f=n(u,t);o[f]&&(i[f]?(c(a[f],r[f]),r[f].valid=!0,c(s,a[f]),i[f]=!1):h.a.clone(s.endPosition,a[f].endPosition))}}h.a.clone(s.endPosition,e._currentMousePosition)},v.a.MOUSE_MOVE,t)}function u(e){if(!Object(d.a)(e))throw new p.a("canvas is required.");this._eventHandler=new _.a(e),this._update={},this._movement={},this._lastMovement={},this._isDown={},this._eventStartPosition={},this._pressTime={},this._releaseTime={},this._buttonsDown=0,this._currentMousePosition=new h.a,o(this,void 0),r(this,void 0,e),s(this,void 0,b.a.LEFT_DRAG),s(this,void 0,b.a.RIGHT_DRAG),s(this,void 0,b.a.MIDDLE_DRAG),l(this,void 0);for(var t in m.a)if(m.a.hasOwnProperty(t)){var i=m.a[t];Object(d.a)(i)&&(o(this,i),r(this,i,e),s(this,i,b.a.LEFT_DRAG),s(this,i,b.a.RIGHT_DRAG),s(this,i,b.a.MIDDLE_DRAG),l(this,i))}}var h=i("Ss9j"),d=i("xC6Q"),f=i("6sr8"),p=i("PzDm"),m=i("j94w"),g=i("fq+p"),_=i("UkUD"),v=i("szK2"),b=i("aApw");Object.defineProperties(u.prototype,{currentMousePosition:{get:function(){return this._currentMousePosition}},anyButtonDown:{get:function(){var e=!(this._update[n(b.a.WHEEL)]&&this._update[n(b.a.WHEEL,m.a.SHIFT)]&&this._update[n(b.a.WHEEL,m.a.CTRL)]&&this._update[n(b.a.WHEEL,m.a.ALT)]);return this._buttonsDown>0||e}}}),u.prototype.isMoving=function(e,t){if(!Object(d.a)(e))throw new p.a("type is required.");var i=n(e,t);return!this._update[i]},u.prototype.getMovement=function(e,t){if(!Object(d.a)(e))throw new p.a("type is required.");var i=n(e,t);return this._movement[i]},u.prototype.getLastMovement=function(e,t){if(!Object(d.a)(e))throw new p.a("type is required.");var i=n(e,t),a=this._lastMovement[i];if(a.valid)return a},u.prototype.isButtonDown=function(e,t){if(!Object(d.a)(e))throw new p.a("type is required.");var i=n(e,t);return this._isDown[i]},u.prototype.getStartMousePosition=function(e,t){if(!Object(d.a)(e))throw new p.a("type is required.");if(e===b.a.WHEEL)return this._currentMousePosition;var i=n(e,t);return this._eventStartPosition[i]},u.prototype.getButtonPressTime=function(e,t){if(!Object(d.a)(e))throw new p.a("type is required.");var i=n(e,t);return this._pressTime[i]},u.prototype.getButtonReleaseTime=function(e,t){if(!Object(d.a)(e))throw new p.a("type is required.");var i=n(e,t);return this._releaseTime[i]},u.prototype.reset=function(){for(var e in this._update)this._update.hasOwnProperty(e)&&(this._update[e]=!0)},u.prototype.isDestroyed=function(){return!1},u.prototype.destroy=function(){return this._eventHandler=this._eventHandler&&this._eventHandler.destroy(),Object(f.a)(this)},t.a=u},YyWD:function(e,t,i){"use strict";function n(e,t,i){var n=e._gl;n.framebufferTexture2D(n.FRAMEBUFFER,t,i._target,i._texture,0)}function a(e,t,i){var n=e._gl;n.framebufferRenderbuffer(n.FRAMEBUFFER,t,n.RENDERBUFFER,i._getRenderbuffer())}function r(e){e=Object(s.a)(e,s.a.EMPTY_OBJECT);var t=e.context;o.a.defined("options.context",t);var i=t._gl,r=d.a.maximumColorAttachments;if(this._gl=i,this._framebuffer=i.createFramebuffer(),this._colorTextures=[],this._colorRenderbuffers=[],this._activeColorAttachments=[],this._depthTexture=void 0,this._depthRenderbuffer=void 0,this._stencilRenderbuffer=void 0,this._depthStencilTexture=void 0,this._depthStencilRenderbuffer=void 0,this.destroyAttachments=Object(s.a)(e.destroyAttachments,!0),Object(c.a)(e.colorTextures)&&Object(c.a)(e.colorRenderbuffers))throw new u.a("Cannot have both color texture and color renderbuffer attachments.");if(Object(c.a)(e.depthTexture)&&Object(c.a)(e.depthRenderbuffer))throw new u.a("Cannot have both a depth texture and depth renderbuffer attachment.");if(Object(c.a)(e.depthStencilTexture)&&Object(c.a)(e.depthStencilRenderbuffer))throw new u.a("Cannot have both a depth-stencil texture and depth-stencil renderbuffer attachment.");var l=Object(c.a)(e.depthTexture)||Object(c.a)(e.depthRenderbuffer),p=Object(c.a)(e.depthStencilTexture)||Object(c.a)(e.depthStencilRenderbuffer);if(l&&p)throw new u.a("Cannot have both a depth and depth-stencil attachment.");if(Object(c.a)(e.stencilRenderbuffer)&&p)throw new u.a("Cannot have both a stencil and depth-stencil attachment.");if(l&&Object(c.a)(e.stencilRenderbuffer))throw new u.a("Cannot have both a depth and stencil attachment.");this._bind();var m,g,_,v,b;if(Object(c.a)(e.colorTextures)){var y=e.colorTextures;if((v=this._colorTextures.length=this._activeColorAttachments.length=y.length)>r)throw new u.a("The number of color attachments exceeds the number supported.");for(_=0;_<v;++_){if(m=y[_],!h.a.isColorFormat(m.pixelFormat))throw new u.a("The color-texture pixel-format must be a color format.");if(m.pixelDatatype===f.a.FLOAT&&!t.colorBufferFloat)throw new u.a("The color texture pixel datatype is FLOAT and the WebGL implementation does not support the EXT_color_buffer_float or WEBGL_color_buffer_float extensions. See Context.colorBufferFloat.");if(m.pixelDatatype===f.a.HALF_FLOAT&&!t.colorBufferHalfFloat)throw new u.a("The color texture pixel datatype is HALF_FLOAT and the WebGL implementation does not support the EXT_color_buffer_half_float extension. See Context.colorBufferHalfFloat.");b=this._gl.COLOR_ATTACHMENT0+_,n(this,b,m),this._activeColorAttachments[_]=b,this._colorTextures[_]=m}}if(Object(c.a)(e.colorRenderbuffers)){var O=e.colorRenderbuffers;if((v=this._colorRenderbuffers.length=this._activeColorAttachments.length=O.length)>r)throw new u.a("The number of color attachments exceeds the number supported.");for(_=0;_<v;++_)g=O[_],b=this._gl.COLOR_ATTACHMENT0+_,a(this,b,g),this._activeColorAttachments[_]=b,this._colorRenderbuffers[_]=g}if(Object(c.a)(e.depthTexture)){if(m=e.depthTexture,m.pixelFormat!==h.a.DEPTH_COMPONENT)throw new u.a("The depth-texture pixel-format must be DEPTH_COMPONENT.");n(this,this._gl.DEPTH_ATTACHMENT,m),this._depthTexture=m}if(Object(c.a)(e.depthRenderbuffer)&&(g=e.depthRenderbuffer,a(this,this._gl.DEPTH_ATTACHMENT,g),this._depthRenderbuffer=g),Object(c.a)(e.stencilRenderbuffer)&&(g=e.stencilRenderbuffer,a(this,this._gl.STENCIL_ATTACHMENT,g),this._stencilRenderbuffer=g),Object(c.a)(e.depthStencilTexture)){if(m=e.depthStencilTexture,m.pixelFormat!==h.a.DEPTH_STENCIL)throw new u.a("The depth-stencil pixel-format must be DEPTH_STENCIL.");n(this,this._gl.DEPTH_STENCIL_ATTACHMENT,m),this._depthStencilTexture=m}Object(c.a)(e.depthStencilRenderbuffer)&&(g=e.depthStencilRenderbuffer,a(this,this._gl.DEPTH_STENCIL_ATTACHMENT,g),this._depthStencilRenderbuffer=g),this._unBind()}var o=i("5F4X"),s=i("5A4e"),c=i("xC6Q"),l=i("6sr8"),u=i("PzDm"),h=i("FhYh"),d=i("J1no"),f=i("HvCH");Object.defineProperties(r.prototype,{status:{get:function(){this._bind();var e=this._gl.checkFramebufferStatus(this._gl.FRAMEBUFFER);return this._unBind(),e}},numberOfColorAttachments:{get:function(){return this._activeColorAttachments.length}},depthTexture:{get:function(){return this._depthTexture}},depthRenderbuffer:{get:function(){return this._depthRenderbuffer}},stencilRenderbuffer:{get:function(){return this._stencilRenderbuffer}},depthStencilTexture:{get:function(){return this._depthStencilTexture}},depthStencilRenderbuffer:{get:function(){return this._depthStencilRenderbuffer}},hasDepthAttachment:{get:function(){return!!(this.depthTexture||this.depthRenderbuffer||this.depthStencilTexture||this.depthStencilRenderbuffer)}}}),r.prototype._bind=function(){var e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer)},r.prototype._unBind=function(){var e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},r.prototype._getActiveColorAttachments=function(){return this._activeColorAttachments},r.prototype.getColorTexture=function(e){if(!Object(c.a)(e)||e<0||e>=this._colorTextures.length)throw new u.a("index is required, must be greater than or equal to zero and must be less than the number of color attachments.");return this._colorTextures[e]},r.prototype.getColorRenderbuffer=function(e){if(!Object(c.a)(e)||e<0||e>=this._colorRenderbuffers.length)throw new u.a("index is required, must be greater than or equal to zero and must be less than the number of color attachments.");return this._colorRenderbuffers[e]},r.prototype.isDestroyed=function(){return!1},r.prototype.destroy=function(){if(this.destroyAttachments){for(var e=0,t=this._colorTextures,i=t.length;e<i;++e){var n=t[e];Object(c.a)(n)&&n.destroy()}var a=this._colorRenderbuffers;for(i=a.length,e=0;e<i;++e){var r=a[e];Object(c.a)(r)&&r.destroy()}this._depthTexture=this._depthTexture&&this._depthTexture.destroy(),this._depthRenderbuffer=this._depthRenderbuffer&&this._depthRenderbuffer.destroy(),this._stencilRenderbuffer=this._stencilRenderbuffer&&this._stencilRenderbuffer.destroy(),this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),this._depthStencilRenderbuffer=this._depthStencilRenderbuffer&&this._depthStencilRenderbuffer.destroy()}return this._gl.deleteFramebuffer(this._framebuffer),Object(l.a)(this)},t.a=r},Yykp:function(e,t,i){"use strict";function n(e,t){for(var i=t.length;i--;)"string"==typeof t[i]&&(t[i]=t[i].toLowerCase()),e[t[i]]=!0;return e}function a(e){var t={},i=void 0;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E(),t=function(e){return o(e)};if(t.version="1.0.8",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var i=e.document,T=!1,A=!1,C=e.document,S=e.DocumentFragment,j=e.HTMLTemplateElement,P=e.Node,D=e.NodeFilter,I=e.NamedNodeMap,R=void 0===I?e.NamedNodeMap||e.MozNamedAttrMap:I,M=e.Text,L=e.Comment,N=e.DOMParser;if("function"==typeof j){var F=C.createElement("template");F.content&&F.content.ownerDocument&&(C=F.content.ownerDocument)}var z=C,B=z.implementation,k=z.createNodeIterator,U=z.getElementsByTagName,V=z.createDocumentFragment,H=i.importNode,q={};t.isSupported=B&&void 0!==B.createHTMLDocument&&9!==C.documentMode;var W=g,G=_,Y=v,X=b,Q=O,J=w,Z=y,K=null,$=n({},[].concat(r(s),r(c),r(l),r(u),r(h))),ee=null,te=n({},[].concat(r(d),r(f),r(p),r(m))),ie=null,ne=null,ae=!0,re=!0,oe=!1,se=!1,ce=!1,le=!1,ue=!1,he=!1,de=!1,fe=!1,pe=!1,me=!0,ge=!0,_e=!1,ve={},be=n({},["audio","head","math","script","style","template","svg","video"]),ye=n({},["audio","video","img","source","image"]),Oe=n({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),we=null,xe=C.createElement("form"),Ee=function(e){"object"!==(void 0===e?"undefined":x(e))&&(e={}),K="ALLOWED_TAGS"in e?n({},e.ALLOWED_TAGS):$,ee="ALLOWED_ATTR"in e?n({},e.ALLOWED_ATTR):te,ie="FORBID_TAGS"in e?n({},e.FORBID_TAGS):{},ne="FORBID_ATTR"in e?n({},e.FORBID_ATTR):{},ve="USE_PROFILES"in e&&e.USE_PROFILES,ae=!1!==e.ALLOW_ARIA_ATTR,re=!1!==e.ALLOW_DATA_ATTR,oe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,se=e.SAFE_FOR_JQUERY||!1,ce=e.SAFE_FOR_TEMPLATES||!1,le=e.WHOLE_DOCUMENT||!1,de=e.RETURN_DOM||!1,fe=e.RETURN_DOM_FRAGMENT||!1,pe=e.RETURN_DOM_IMPORT||!1,he=e.FORCE_BODY||!1,me=!1!==e.SANITIZE_DOM,ge=!1!==e.KEEP_CONTENT,_e=e.IN_PLACE||!1,Z=e.ALLOWED_URI_REGEXP||Z,ce&&(re=!1),fe&&(de=!0),ve&&(K=n({},[].concat(r(h))),ee=[],!0===ve.html&&(n(K,s),n(ee,d)),!0===ve.svg&&(n(K,c),n(ee,f),n(ee,m)),!0===ve.svgFilters&&(n(K,l),n(ee,f),n(ee,m)),!0===ve.mathMl&&(n(K,u),n(ee,p),n(ee,m))),e.ADD_TAGS&&(K===$&&(K=a(K)),n(K,e.ADD_TAGS)),e.ADD_ATTR&&(ee===te&&(ee=a(ee)),n(ee,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&n(Oe,e.ADD_URI_SAFE_ATTR),ge&&(K["#text"]=!0),le&&n(K,["html","head","body"]),K.table&&n(K,["tbody"]),Object&&"freeze"in Object&&Object.freeze(e),we=e},Te=function(e){t.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},Ae=function(e,i){try{t.removed.push({attribute:i.getAttributeNode(e),from:i})}catch(e){t.removed.push({attribute:null,from:i})}i.removeAttribute(e)},Ce=function(e){var t=void 0,i=void 0;if(he)e="<remove></remove>"+e;else{var a=e.match(/^[\s]+/);i=a&&a[0],i&&(e=e.slice(i.length))}if(T)try{t=(new N).parseFromString(e,"text/html")}catch(e){}if(A&&n(ie,["title"]),!t||!t.documentElement){t=B.createHTMLDocument("");var r=t,o=r.body;o.parentNode.removeChild(o.parentNode.firstElementChild),o.outerHTML=e}return i&&t.body.insertBefore(C.createTextNode(i),t.body.childNodes[0]||null),U.call(t,le?"html":"body")[0]};t.isSupported&&(function(){try{Ce('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">').querySelector("svg img")&&(T=!0)}catch(e){}}(),function(){try{Ce("<x/><title>&lt;/title&gt;&lt;img&gt;").querySelector("title").textContent.match(/<\/title/)&&(A=!0)}catch(e){}}());var Se=function(e){return k.call(e.ownerDocument||e,e,D.SHOW_ELEMENT|D.SHOW_COMMENT|D.SHOW_TEXT,function(){return D.FILTER_ACCEPT},!1)},je=function(e){return!(e instanceof M||e instanceof L)&&!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof R&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute)},Pe=function(e){return"object"===(void 0===P?"undefined":x(P))?e instanceof P:e&&"object"===(void 0===e?"undefined":x(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},De=function(e,i,n){q[e]&&q[e].forEach(function(e){e.call(t,i,n,we)})},Ie=function(e){var i=void 0;if(De("beforeSanitizeElements",e,null),je(e))return Te(e),!0;var n=e.nodeName.toLowerCase();if(De("uponSanitizeElement",e,{tagName:n,allowedTags:K}),!K[n]||ie[n]){if(ge&&!be[n]&&"function"==typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}return Te(e),!0}return!se||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(t.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),ce&&3===e.nodeType&&(i=e.textContent,i=i.replace(W," "),i=i.replace(G," "),e.textContent!==i&&(t.removed.push({element:e.cloneNode()}),e.textContent=i)),De("afterSanitizeElements",e,null),!1},Re=function(e,t,i){if(me&&("id"===t||"name"===t)&&(i in C||i in xe))return!1;if(ce&&(i=i.replace(W," "),i=i.replace(G," ")),re&&Y.test(t));else if(ae&&X.test(t));else{if(!ee[t]||ne[t])return!1;if(Oe[t]);else if(Z.test(i.replace(J,"")));else if("src"!==t&&"xlink:href"!==t||"script"===e||0!==i.indexOf("data:")||!ye[e]){if(oe&&!Q.test(i.replace(J,"")));else if(i)return!1}else;}return!0},Me=function(e){var i=void 0,n=void 0,a=void 0,r=void 0,o=void 0;De("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ee};for(o=s.length;o--;){i=s[o];var l=i,u=l.name,h=l.namespaceURI;if(n=i.value.trim(),a=u.toLowerCase(),c.attrName=a,c.attrValue=n,c.keepAttr=!0,De("uponSanitizeAttribute",e,c),n=c.attrValue,"name"===a&&"IMG"===e.nodeName&&s.id)r=s.id,s=Array.prototype.slice.apply(s),Ae("id",e),Ae(u,e),s.indexOf(r)>o&&e.setAttribute("id",r.value);else{if("INPUT"===e.nodeName&&"type"===a&&"file"===n&&(ee[a]||!ne[a]))continue;"id"===u&&e.setAttribute(u,""),Ae(u,e)}if(c.keepAttr){var d=e.nodeName.toLowerCase();if(Re(d,a,n))try{h?e.setAttributeNS(h,u,n):e.setAttribute(u,n),t.removed.pop()}catch(e){}}}De("afterSanitizeAttributes",e,null)}},Le=function e(t){var i=void 0,n=Se(t);for(De("beforeSanitizeShadowDOM",t,null);i=n.nextNode();)De("uponSanitizeShadowNode",i,null),Ie(i)||(i.content instanceof S&&e(i.content),Me(i));De("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(n,a){var r=void 0,o=void 0,s=void 0,c=void 0,l=void 0;if(n||(n="\x3c!--\x3e"),"string"!=typeof n&&!Pe(n)){if("function"!=typeof n.toString)throw new TypeError("toString is not a function");if("string"!=typeof(n=n.toString()))throw new TypeError("dirty is not a string, aborting")}if(!t.isSupported){if("object"===x(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof n)return e.toStaticHTML(n);if(Pe(n))return e.toStaticHTML(n.outerHTML)}return n}if(ue||Ee(a),t.removed=[],_e);else if(n instanceof P)r=Ce("\x3c!--\x3e"),o=r.ownerDocument.importNode(n,!0),1===o.nodeType&&"BODY"===o.nodeName?r=o:r.appendChild(o);else{if(!de&&!le&&-1===n.indexOf("<"))return n;if(!(r=Ce(n)))return de?null:""}r&&he&&Te(r.firstChild);for(var u=Se(_e?n:r);s=u.nextNode();)3===s.nodeType&&s===c||Ie(s)||(s.content instanceof S&&Le(s.content),Me(s),c=s);if(_e)return n;if(de){if(fe)for(l=V.call(r.ownerDocument);r.firstChild;)l.appendChild(r.firstChild);else l=r;return pe&&(l=H.call(i,l,!0)),l}return le?r.outerHTML:r.innerHTML},t.setConfig=function(e){Ee(e),ue=!0},t.clearConfig=function(){we=null,ue=!1},t.isValidAttribute=function(e,t,i){we||Ee({});var n=e.toLowerCase(),a=t.toLowerCase();return Re(n,a,i)},t.addHook=function(e,t){"function"==typeof t&&(q[e]=q[e]||[],q[e].push(t))},t.removeHook=function(e){q[e]&&q[e].pop()},t.removeHooks=function(e){q[e]&&(q[e]=[])},t.removeAllHooks=function(){q={}},t}var s=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],c=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],l=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"],u=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],h=["#text"],d=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],f=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],p=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],m=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"],g=/\{\{[\s\S]*|[\s\S]*\}\}/gm,_=/<%[\s\S]*|[\s\S]*%>/gm,v=/^data-[\-\w.\u00B7-\uFFFF]/,b=/^aria-[\-\w]+$/,y=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,O=/^(?:\w+script|data):/i,w=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=function(){return"undefined"==typeof window?null:window},T=o();t.a=T},"Z/cH":function(e,t,i){"use strict";function n(e){function t(e){O._image=e,O._tileWidth=e.width,O._tileHeight=e.height,O._ready=!0,O._readyPromise.resolve(!0),f.a.handleSuccess(O._errorEvent)}function i(e){var t="Failed to load image "+g.url+".";y=f.a.handleError(y,O,O._errorEvent,t,0,0,0,n,e),O._readyPromise.reject(new d.a(t))}function n(){m.a.loadImage(null,g).then(t).otherwise(i)}if(e=Object(r.a)(e,r.a.EMPTY_OBJECT),!Object(o.a)(e.url))throw new s.a("options.url is required.");var g=h.a.createIfNeeded(e.url),_=Object(r.a)(e.rectangle,u.a.MAX_VALUE),v=new l.a({rectangle:_,numberOfLevelZeroTilesX:1,numberOfLevelZeroTilesY:1,ellipsoid:e.ellipsoid});this._tilingScheme=v,this._resource=g,this._image=void 0,this._texture=void 0,this._tileWidth=0,this._tileHeight=0,this._errorEvent=new c.a,this._ready=!1,this._readyPromise=p.a.defer();var b=e.credit;"string"==typeof b&&(b=new a.a(b)),this._credit=b;var y,O=this;n()}var a=i("ODTd"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("W6xh"),l=i("4MnW"),u=i("Wq1U"),h=i("rMjQ"),d=i("V22k"),f=i("M1To"),p=i("S7OP"),m=i("1eBa");Object.defineProperties(n.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){if(!this._ready)throw new s.a("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this._ready)throw new s.a("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this._ready)throw new s.a("maximumLevel must not be called before the imagery provider is ready.");return 0}},minimumLevel:{get:function(){if(!this._ready)throw new s.a("minimumLevel must not be called before the imagery provider is ready.");return 0}},tilingScheme:{get:function(){if(!this._ready)throw new s.a("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){if(!this._ready)throw new s.a("tileDiscardPolicy must not be called before the imagery provider is ready.")}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),n.prototype.getTileCredits=function(e,t,i){},n.prototype.requestImage=function(e,t,i,n){if(!this._ready)throw new s.a("requestImage must not be called before the imagery provider is ready.");return this._image},n.prototype.pickFeatures=function(e,t,i,n,a){},t.a=n},Z1NC:function(e,t,i){"use strict";function n(e,t,i,a,o,s,c){this.primitives=e,this.appearanceType=t,this.materialProperty=i,this.depthFailAppearanceType=a,this.depthFailMaterialProperty=o,this.closed=s,this.shadows=c,this.updaters=new r.a,this.createPrimitive=!0,this.primitive=void 0,this.oldPrimitive=void 0,this.geometry=new r.a,this.material=void 0,this.depthFailMaterial=void 0,this.updatersWithAttributes=new r.a,this.attributes=new r.a,this.invalidated=!1,this.removeMaterialSubscription=i.definitionChanged.addEventListener(n.prototype.onMaterialChanged,this),this.subscriptions=new r.a,this.showsUpdated=new r.a}function a(e,t,i,n,a){this._items=[],this._primitives=e,this._appearanceType=t,this._depthFailAppearanceType=i,this._closed=n,this._shadows=a}var r=i("7uRt"),o=i("Jj+J"),s=i("6F0S"),c=i("devy"),l=i("xC6Q"),u=i("2d28"),h=i("2kyc"),d=i("wpHJ"),f=i("zSqc"),p=i("0df4"),m=i("P+tD"),g=i("I5FW"),_=i("7xsx"),v=i("uhjI"),b=new u.a,y=new u.a,O=o.a.ZERO,w=new o.a;n.prototype.onMaterialChanged=function(){this.invalidated=!0},n.prototype.isMaterial=function(e){var t=this.materialProperty,i=e.fillMaterialProperty,n=this.depthFailMaterialProperty,a=e.depthFailMaterialProperty;if(i===t&&a===n)return!0;var r=Object(l.a)(t)&&t.equals(i);return r=(!Object(l.a)(n)&&!Object(l.a)(a)||Object(l.a)(n)&&n.equals(a))&&r},n.prototype.add=function(e,t){var i=t.id;if(this.updaters.set(i,t),this.geometry.set(i,t.createFillGeometryInstance(e)),t.hasConstantFill&&t.fillMaterialProperty.isConstant&&v.a.isConstant(t.distanceDisplayConditionProperty)&&v.a.isConstant(t.terrainOffsetProperty)){var n=this;this.subscriptions.set(i,t.entity.definitionChanged.addEventListener(function(e,i,a,r){"isShowing"===i&&n.showsUpdated.set(t.id,t)}))}else this.updatersWithAttributes.set(i,t);this.createPrimitive=!0},n.prototype.remove=function(e){var t=e.id;if(this.createPrimitive=this.geometry.remove(t)||this.createPrimitive,this.updaters.remove(t)){this.updatersWithAttributes.remove(t);var i=this.subscriptions.get(t);return Object(l.a)(i)&&(i(),this.subscriptions.remove(t),this.showsUpdated.remove(t)),!0}return!1};var x=new s.a;n.prototype.update=function(e){var t,i=!0,n=this.primitive,a=this.primitives,r=this.geometry.values;if(this.createPrimitive){if(r.length>0){Object(l.a)(n)&&(Object(l.a)(this.oldPrimitive)?a.remove(n):this.oldPrimitive=n),this.material=_.a.getValue(e,this.materialProperty,this.material);var m;Object(l.a)(this.depthFailMaterialProperty)&&(this.depthFailMaterial=_.a.getValue(e,this.depthFailMaterialProperty,this.depthFailMaterial),m=new this.depthFailAppearanceType({material:this.depthFailMaterial,translucent:this.depthFailMaterial.isTranslucent(),closed:this.closed})),n=new p.a({show:!1,asynchronous:!0,geometryInstances:r.slice(),appearance:new this.appearanceType({material:this.material,translucent:this.material.isTranslucent(),closed:this.closed}),depthFailAppearance:m,shadows:this.shadows}),a.add(n),i=!1}else{Object(l.a)(n)&&(a.remove(n),n=void 0);var E=this.oldPrimitive;Object(l.a)(E)&&(a.remove(E),this.oldPrimitive=void 0)}this.attributes.removeAll(),this.primitive=n,this.createPrimitive=!1}else if(Object(l.a)(n)&&n.ready){n.show=!0,Object(l.a)(this.oldPrimitive)&&(a.remove(this.oldPrimitive),this.oldPrimitive=void 0),this.material=_.a.getValue(e,this.materialProperty,this.material),this.primitive.appearance.material=this.material,!Object(l.a)(this.depthFailAppearanceType)||this.depthFailMaterialProperty instanceof g.a||(this.depthFailMaterial=_.a.getValue(e,this.depthFailMaterialProperty,this.depthFailMaterial),this.primitive.depthFailAppearance.material=this.depthFailMaterial);var T=this.updatersWithAttributes.values,A=T.length;for(t=0;t<A;t++){var C=T[t],S=C.entity,j=this.geometry.get(C.id),P=this.attributes.get(j.id.id);if(Object(l.a)(P)||(P=n.getGeometryInstanceAttributes(j.id),this.attributes.set(j.id.id,P)),Object(l.a)(this.depthFailAppearanceType)&&this.depthFailMaterialProperty instanceof g.a&&!C.depthFailMaterialProperty.isConstant){var D=C.depthFailMaterialProperty.color,I=v.a.getValueOrDefault(D,e,s.a.WHITE,x);s.a.equals(P._lastDepthFailColor,I)||(P._lastDepthFailColor=s.a.clone(I,P._lastDepthFailColor),P.depthFailColor=c.a.toValue(I,P.depthFailColor))}var R=S.isShowing&&(C.hasConstantFill||C.isFilled(e)),M=1===P.show[0];R!==M&&(P.show=f.a.toValue(R,P.show));var L=C.distanceDisplayConditionProperty;if(!v.a.isConstant(L)){var N=v.a.getValueOrDefault(L,e,y,b);u.a.equals(N,P._lastDistanceDisplayCondition)||(P._lastDistanceDisplayCondition=u.a.clone(N,P._lastDistanceDisplayCondition),P.distanceDisplayCondition=h.a.toValue(N,P.distanceDisplayCondition))}var F=C.terrainOffsetProperty;if(!v.a.isConstant(F)){var z=v.a.getValueOrDefault(F,e,O,w);o.a.equals(z,P._lastOffset)||(P._lastOffset=o.a.clone(z,P._lastOffset),P.offset=d.a.toValue(z,P.offset))}}this.updateShows(n)}else Object(l.a)(n)&&!n.ready&&(i=!1);return i},n.prototype.updateShows=function(e){for(var t=this.showsUpdated.values,i=t.length,n=0;n<i;n++){var a=t[n],r=a.entity,o=this.geometry.get(a.id),s=this.attributes.get(o.id.id);Object(l.a)(s)||(s=e.getGeometryInstanceAttributes(o.id),this.attributes.set(o.id.id,s));var c=r.isShowing;c!==(1===s.show[0])&&(s.show=f.a.toValue(c,s.show),o.attributes.show.value[0]=s.show[0])}this.showsUpdated.removeAll()},n.prototype.contains=function(e){return this.updaters.contains(e.id)},n.prototype.getBoundingSphere=function(e,t){var i=this.primitive;if(!i.ready)return m.a.PENDING;var n=i.getGeometryInstanceAttributes(e.entity);return!Object(l.a)(n)||!Object(l.a)(n.boundingSphere)||Object(l.a)(n.show)&&0===n.show[0]?m.a.FAILED:(n.boundingSphere.clone(t),m.a.DONE)},n.prototype.destroy=function(){var e=this.primitive,t=this.primitives;Object(l.a)(e)&&t.remove(e);var i=this.oldPrimitive;Object(l.a)(i)&&t.remove(i),this.removeMaterialSubscription()},a.prototype.add=function(e,t){for(var i=this._items,a=i.length,r=0;r<a;r++){var o=i[r];if(o.isMaterial(t))return void o.add(e,t)}var s=new n(this._primitives,this._appearanceType,t.fillMaterialProperty,this._depthFailAppearanceType,t.depthFailMaterialProperty,this._closed,this._shadows);s.add(e,t),i.push(s)},a.prototype.remove=function(e){for(var t=this._items,i=t.length,n=i-1;n>=0;n--){var a=t[n];if(a.remove(e)){0===a.updaters.length&&(t.splice(n,1),a.destroy());break}}},a.prototype.update=function(e){var t,i=this._items,n=i.length;for(t=n-1;t>=0;t--){var a=i[t];if(a.invalidated){i.splice(t,1);for(var r=a.updaters.values,o=r.length,s=0;s<o;s++)this.add(e,r[s]);a.destroy()}}var c=!0;for(t=0;t<i.length;t++)c=i[t].update(e)&&c;return c},a.prototype.getBoundingSphere=function(e,t){for(var i=this._items,n=i.length,a=0;a<n;a++){var r=i[a];if(r.contains(e))return r.getBoundingSphere(e,t)}return m.a.FAILED},a.prototype.removeAllPrimitives=function(){for(var e=this._items,t=e.length,i=0;i<t;i++)e[i].destroy();this._items.length=0},t.a=a},Z1rx:function(e,t,i){"use strict";function n(e){for(var t=e.propertyNames,i=t.length,n=0;n<i;n++)e[t[n]]=void 0;e._name=void 0,e._availability=void 0}function a(e,t,i,n){_[0]=i,_[1]=n.id,t[JSON.stringify(_)]=n.definitionChanged.addEventListener(s.prototype._onDefinitionChanged,e)}function r(e,t,i,n){_[0]=i,_[1]=n.id;var a=JSON.stringify(_);t[a](),t[a]=void 0}function o(e){if(e._shouldRecomposite=!0,0===e._suspendCount){var t,i,o,c,l,u,d=e._collections,f=d.length,_=e._collectionsCopy,v=_.length,b=e._composite,y=new m.a(e),O=e._eventHash;for(t=0;t<v;t++)for(l=_[t],l.collectionChanged.removeEventListener(s.prototype._onCollectionChanged,e),o=l.values,u=l.id,c=o.length-1;c>-1;c--)i=o[c],r(e,O,u,i);for(t=f-1;t>=0;t--)for(l=d[t],l.collectionChanged.addEventListener(s.prototype._onCollectionChanged,e),o=l.values,u=l.id,c=o.length-1;c>-1;c--){i=o[c],a(e,O,u,i);var w=y.getById(i.id);Object(h.a)(w)||(w=b.getById(i.id),Object(h.a)(w)?n(w):(g.id=i.id,w=new p.a(g)),y.add(w)),w.merge(i)}e._collectionsCopy=d.slice(0),b.suspendEvents(),b.removeAll();var x=y.values;for(t=0;t<x.length;t++)b.add(x[t]);b.resumeEvents()}}function s(e,t){this._owner=t,this._composite=new m.a(this),this._suspendCount=0,this._collections=Object(h.a)(e)?e.slice():[],this._collectionsCopy=[],this._id=Object(u.a)(),this._eventHash={},o(this),this._shouldRecomposite=!1}function c(e,t){if(!Object(h.a)(t))throw new d.a("collection is required.");var i=e.indexOf(t);if(-1===i)throw new d.a("collection is not in this composite.");return i}function l(e,t,i){var n=e._collections;if(t=f.a.clamp(t,0,n.length-1),i=f.a.clamp(i,0,n.length-1),t!==i){var a=n[t];n[t]=n[i],n[i]=a,o(e)}}var u=i("ed27"),h=i("xC6Q"),d=i("PzDm"),f=i("fq+p"),p=i("dMpj"),m=i("K+QI"),g={id:void 0},_=new Array(2);Object.defineProperties(s.prototype,{collectionChanged:{get:function(){return this._composite._collectionChanged}},id:{get:function(){return this._id}},values:{get:function(){return this._composite.values}},owner:{get:function(){return this._owner}}}),s.prototype.addCollection=function(e,t){var i=Object(h.a)(t);if(!Object(h.a)(e))throw new d.a("collection is required.");if(i){if(t<0)throw new d.a("index must be greater than or equal to zero.");if(t>this._collections.length)throw new d.a("index must be less than or equal to the number of collections.")}i?this._collections.splice(t,0,e):(t=this._collections.length,this._collections.push(e)),o(this)},s.prototype.removeCollection=function(e){var t=this._collections.indexOf(e);return-1!==t&&(this._collections.splice(t,1),o(this),!0)},s.prototype.removeAllCollections=function(){this._collections.length=0,o(this)},s.prototype.containsCollection=function(e){return-1!==this._collections.indexOf(e)},s.prototype.contains=function(e){return this._composite.contains(e)},s.prototype.indexOfCollection=function(e){return this._collections.indexOf(e)},s.prototype.getCollection=function(e){if(!Object(h.a)(e))throw new d.a("index is required.","index");return this._collections[e]},s.prototype.getCollectionsLength=function(){return this._collections.length},s.prototype.raiseCollection=function(e){var t=c(this._collections,e);l(this,t,t+1)},s.prototype.lowerCollection=function(e){var t=c(this._collections,e);l(this,t,t-1)},s.prototype.raiseCollectionToTop=function(e){var t=c(this._collections,e);t!==this._collections.length-1&&(this._collections.splice(t,1),this._collections.push(e),o(this))},s.prototype.lowerCollectionToBottom=function(e){var t=c(this._collections,e);0!==t&&(this._collections.splice(t,1),this._collections.splice(0,0,e),o(this))},s.prototype.suspendEvents=function(){this._suspendCount++,this._composite.suspendEvents()},s.prototype.resumeEvents=function(){if(0===this._suspendCount)throw new d.a("resumeEvents can not be called before suspendEvents.");this._suspendCount--,this._shouldRecomposite&&0===this._suspendCount&&(o(this),this._shouldRecomposite=!1),this._composite.resumeEvents()},s.prototype.computeAvailability=function(){return this._composite.computeAvailability()},s.prototype.getById=function(e){return this._composite.getById(e)},s.prototype._onCollectionChanged=function(e,t,i){var o=this._collectionsCopy,s=o.length,c=this._composite;c.suspendEvents();var l,u,d,f,m=i.length,_=this._eventHash,v=e.id;for(l=0;l<m;l++){var b=i[l];r(this,_,v,b);var y=b.id;for(u=s-1;u>=0;u--)d=o[u].getById(y),Object(h.a)(d)&&(Object(h.a)(f)||(f=c.getById(y),n(f)),f.merge(d));Object(h.a)(f)||c.removeById(y),f=void 0}var O=t.length;for(l=0;l<O;l++){var w=t[l];a(this,_,v,w);var x=w.id;for(u=s-1;u>=0;u--)d=o[u].getById(x),Object(h.a)(d)&&(Object(h.a)(f)||(f=c.getById(x),Object(h.a)(f)?n(f):(g.id=x,f=new p.a(g),c.add(f))),f.merge(d));f=void 0}c.resumeEvents()},s.prototype._onDefinitionChanged=function(e,t,i,n){for(var a=this._collections,r=this._composite,o=a.length,s=e.id,c=r.getById(s),l=c[t],u=!Object(h.a)(l),d=!0,f=o-1;f>=0;f--){var p=a[f].getById(e.id);if(Object(h.a)(p)){var m=p[t];if(Object(h.a)(m)){if(d){if(d=!1,!Object(h.a)(m.merge)||!Object(h.a)(m.clone)){l=m;break}l=m.clone(l)}l.merge(m)}}}u&&-1===c.propertyNames.indexOf(t)&&c.addProperty(t),c[t]=l}},Z2Pl:function(e,t,i){"use strict";function n(e,t){for(var i=e._batches,n=i.length,a=0;a<n;a++)i[a].remove(t)}function a(e,t,i){if(i.isDynamic)return void e._dynamicBatch.add(t,i);if(i.clampToGround&&i.fillEnabled){var n=i.classificationTypeProperty.getValue(t);return void e._groundBatches[n].add(t,i)}var a;i.fillEnabled&&(a=i.shadowsProperty.getValue(t));var r=0;Object(u.a)(i.depthFailMaterialProperty)&&(r=i.depthFailMaterialProperty instanceof _.a?1:2);var o;Object(u.a)(a)&&(o=a+r*m.a.NUMBER_OF_SHADOW_MODES),i.fillEnabled&&(i.fillMaterialProperty instanceof _.a?e._colorBatches[o].add(t,i):e._materialBatches[o].add(t,i))}function r(e,t,i,n){c.a.defined("scene",e),c.a.defined("entityCollection",t),n=Object(l.a)(n,e.groundPrimitives),i=Object(l.a)(i,e.primitives),this._scene=e,this._primitives=i,this._entityCollection=void 0,this._addedObjects=new o.a,this._removedObjects=new o.a,this._changedObjects=new o.a;var a,s=m.a.NUMBER_OF_SHADOW_MODES;for(this._colorBatches=new Array(3*s),this._materialBatches=new Array(3*s),a=0;a<s;++a)this._colorBatches[a]=new y.a(i,f.a,void 0,!1,a),this._materialBatches[a]=new O.a(i,p.a,void 0,!1,a),this._colorBatches[a+s]=new y.a(i,f.a,f.a,!1,a),this._materialBatches[a+s]=new O.a(i,p.a,f.a,!1,a),this._colorBatches[a+2*s]=new y.a(i,f.a,p.a,!1,a),this._materialBatches[a+2*s]=new O.a(i,p.a,p.a,!1,a);this._dynamicBatch=new v.a(i,n);var u=d.a.NUMBER_OF_CLASSIFICATION_TYPES;for(this._groundBatches=new Array(u),a=0;a<u;++a)this._groundBatches[a]=new w.a(n,a);this._batches=this._colorBatches.concat(this._materialBatches,this._dynamicBatch,this._groundBatches),this._subscriptions=new o.a,this._updaters=new o.a,this._entityCollection=t,t.collectionChanged.addEventListener(r.prototype._onCollectionChanged,this),this._onCollectionChanged(t,t.values,x)}var o=i("7uRt"),s=i("lBr9"),c=i("5F4X"),l=i("5A4e"),u=i("xC6Q"),h=i("6sr8"),d=i("M1dj"),f=i("DWwl"),p=i("87Vu"),m=i("ARzC"),g=i("P+tD"),_=i("I5FW"),v=i("C3wi"),b=i("N2ZB"),y=i("t5zj"),O=i("Z1NC"),w=i("NzWT"),x=[];r.prototype.update=function(e){c.a.defined("time",e);var t,i,o,s,l=this._addedObjects,u=l.values,h=this._removedObjects,d=h.values,f=this._changedObjects,p=f.values;for(t=p.length-1;t>-1;t--)i=p[t],o=i.id,s=this._updaters.get(o),s.entity===i?(n(this,s),a(this,e,s)):(d.push(i),u.push(i));for(t=d.length-1;t>-1;t--)i=d[t],o=i.id,s=this._updaters.get(o),n(this,s),s.destroy(),this._updaters.remove(o),this._subscriptions.get(o)(),this._subscriptions.remove(o);for(t=u.length-1;t>-1;t--)i=u[t],o=i.id,s=new b.a(i,this._scene),this._updaters.set(o,s),a(this,e,s),this._subscriptions.set(o,s.geometryChanged.addEventListener(r._onGeometryChanged,this));l.removeAll(),h.removeAll(),f.removeAll();var m=!0,g=this._batches,_=g.length;for(t=0;t<_;t++)m=g[t].update(e)&&m;return m};var E=[],T=new s.a;r.prototype.getBoundingSphere=function(e,t){c.a.defined("entity",e),c.a.defined("result",t);for(var i=E,n=T,a=0,r=g.a.DONE,o=this._batches,l=o.length,u=this._updaters.get(e.id),h=0;h<l;h++){if((r=o[h].getBoundingSphere(u,n))===g.a.PENDING)return g.a.PENDING;r===g.a.DONE&&(i[a]=s.a.clone(n,i[a]),a++)}return 0===a?g.a.FAILED:(i.length=a,s.a.fromBoundingSpheres(i,t),g.a.DONE)},r.prototype.isDestroyed=function(){return!1},r.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(r.prototype._onCollectionChanged,this),this._addedObjects.removeAll(),this._removedObjects.removeAll();var e,t=this._batches,i=t.length;for(e=0;e<i;e++)t[e].removeAllPrimitives();var n=this._subscriptions.values;for(i=n.length,e=0;e<i;e++)n[e]();return this._subscriptions.removeAll(),Object(h.a)(this)},r._onGeometryChanged=function(e){var t=this._removedObjects,i=this._changedObjects,n=e.entity,a=n.id;Object(u.a)(t.get(a))||Object(u.a)(i.get(a))||i.set(a,n)},r.prototype._onCollectionChanged=function(e,t,i){var n,a,r,o=this._addedObjects,s=this._removedObjects,c=this._changedObjects;for(n=i.length-1;n>-1;n--)r=i[n],a=r.id,o.remove(a)||(s.set(a,r),c.remove(a));for(n=t.length-1;n>-1;n--)r=t[n],a=r.id,s.remove(a)?c.set(a,r):o.set(a,r)},t.a=r},Z8Uk:function(e,t,i){"use strict";function n(e,t,i){this._name=i.name,this._startTime=o.a.clone(e.startTime),this._delay=Object(a.a)(e.delay,0),this._stopTime=e.stopTime,this.removeOnStop=Object(a.a)(e.removeOnStop,!1),this._multiplier=Object(a.a)(e.multiplier,1),this._reverse=Object(a.a)(e.reverse,!1),this._loop=Object(a.a)(e.loop,s.a.NONE),this.start=new r.a,this.update=new r.a,this.stop=new r.a,this._state=c.a.STOPPED,this._runtimeAnimation=i,this._computedStartTime=void 0,this._duration=void 0;var n=this;this._raiseStartEvent=function(){n.start.raiseEvent(t,n)},this._updateEventTime=0,this._raiseUpdateEvent=function(){n.update.raiseEvent(t,n,n._updateEventTime)},this._raiseStopEvent=function(){n.stop.raiseEvent(t,n)}}var a=i("5A4e"),r=i("W6xh"),o=i("9Uqs"),s=i("jn3B"),c=i("vvtH");Object.defineProperties(n.prototype,{name:{get:function(){return this._name}},startTime:{get:function(){return this._startTime}},delay:{get:function(){return this._delay}},stopTime:{get:function(){return this._stopTime}},multiplier:{get:function(){return this._multiplier}},reverse:{get:function(){return this._reverse}},loop:{get:function(){return this._loop}}}),t.a=n},ZGiz:function(e,t,i){"use strict";function n(e){return r.a.shader(e,function(e){a(e)}),r.a.buffer(e,function(e){a(e)}),r.a.image(e,function(e){a(e),r.a.compressedImage(e,function(e){a(e)})}),a(e),e}function a(e){e.extras=Object(o.a)(e.extras)?e.extras:{},e.extras._pipeline=Object(o.a)(e.extras._pipeline)?e.extras._pipeline:{}}var r=i("FJg6"),o=i("xC6Q");t.a=n},ZHSH:function(e,t,i){"use strict";function n(e,t,i){this.heading=Object(a.a)(e,0),this.pitch=Object(a.a)(t,0),this.range=Object(a.a)(i,0)}var a=i("5A4e"),r=i("xC6Q");n.clone=function(e,t){if(Object(r.a)(e))return Object(r.a)(t)||(t=new n),t.heading=e.heading,t.pitch=e.pitch,t.range=e.range,t},t.a=n},ZIO3:function(e,t,i){"use strict";function n(e){return new d.a(e)}function a(e){return new f.a(e,n)}function r(e){return new f.a(e)}function o(e){this._definitionChanged=new u.a,this._show=void 0,this._showSubscription=void 0,this._uri=void 0,this._uriSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this._minimumPixelSize=void 0,this._minimumPixelSizeSubscription=void 0,this._maximumScale=void 0,this._maximumScaleSubscription=void 0,this._incrementallyLoadTextures=void 0,this._incrementallyLoadTexturesSubscription=void 0,this._runAnimations=void 0,this._runAnimationsSubscription=void 0,this._clampAnimations=void 0,this._clampAnimationsSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._silhouetteColor=void 0,this._silhouetteColorSubscription=void 0,this._silhouetteSize=void 0,this._silhouetteSizeSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._colorBlendMode=void 0,this._colorBlendModeSubscription=void 0,this._colorBlendAmount=void 0,this._colorBlendAmountSubscription=void 0,this._imageBasedLightingFactor=void 0,this._imageBasedLightingFactorSubscription=void 0,this._lightColor=void 0,this._lightColorSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._nodeTransformations=void 0,this._nodeTransformationsSubscription=void 0,this._articulations=void 0,this._articulationsSubscription=void 0,this._clippingPlanes=void 0,this._clippingPlanesSubscription=void 0,this.merge(Object(s.a)(e,s.a.EMPTY_OBJECT))}var s=i("5A4e"),c=i("xC6Q"),l=i("PzDm"),u=i("W6xh"),h=i("7687"),d=i("6kgQ"),f=i("RbQZ");Object.defineProperties(o.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(h.a)("show"),uri:Object(h.a)("uri"),scale:Object(h.a)("scale"),minimumPixelSize:Object(h.a)("minimumPixelSize"),maximumScale:Object(h.a)("maximumScale"),incrementallyLoadTextures:Object(h.a)("incrementallyLoadTextures"),runAnimations:Object(h.a)("runAnimations"),clampAnimations:Object(h.a)("clampAnimations"),shadows:Object(h.a)("shadows"),heightReference:Object(h.a)("heightReference"),silhouetteColor:Object(h.a)("silhouetteColor"),silhouetteSize:Object(h.a)("silhouetteSize"),color:Object(h.a)("color"),colorBlendMode:Object(h.a)("colorBlendMode"),colorBlendAmount:Object(h.a)("colorBlendAmount"),imageBasedLightingFactor:Object(h.a)("imageBasedLightingFactor"),lightColor:Object(h.a)("lightColor"),distanceDisplayCondition:Object(h.a)("distanceDisplayCondition"),nodeTransformations:Object(h.a)("nodeTransformations",void 0,a),articulations:Object(h.a)("articulations",void 0,r),clippingPlanes:Object(h.a)("clippingPlanes")}),o.prototype.clone=function(e){return Object(c.a)(e)?(e.show=this.show,e.uri=this.uri,e.scale=this.scale,e.minimumPixelSize=this.minimumPixelSize,e.maximumScale=this.maximumScale,e.incrementallyLoadTextures=this.incrementallyLoadTextures,e.runAnimations=this.runAnimations,e.clampAnimations=this.clampAnimations,e.heightReference=this._heightReference,e.silhouetteColor=this.silhouetteColor,e.silhouetteSize=this.silhouetteSize,e.color=this.color,e.colorBlendMode=this.colorBlendMode,e.colorBlendAmount=this.colorBlendAmount,e.imageBasedLightingFactor=this.imageBasedLightingFactor,e.lightColor=this.lightColor,e.distanceDisplayCondition=this.distanceDisplayCondition,e.nodeTransformations=this.nodeTransformations,e.articulations=this.articulations,e.clippingPlanes=this.clippingPlanes,e):new o(this)},o.prototype.merge=function(e){if(!Object(c.a)(e))throw new l.a("source is required.");this.show=Object(s.a)(this.show,e.show),this.uri=Object(s.a)(this.uri,e.uri),this.scale=Object(s.a)(this.scale,e.scale),this.minimumPixelSize=Object(s.a)(this.minimumPixelSize,e.minimumPixelSize),this.maximumScale=Object(s.a)(this.maximumScale,e.maximumScale),this.incrementallyLoadTextures=Object(s.a)(this.incrementallyLoadTextures,e.incrementallyLoadTextures),this.runAnimations=Object(s.a)(this.runAnimations,e.runAnimations),this.clampAnimations=Object(s.a)(this.clampAnimations,e.clampAnimations),this.shadows=Object(s.a)(this.shadows,e.shadows),this.heightReference=Object(s.a)(this.heightReference,e.heightReference),this.silhouetteColor=Object(s.a)(this.silhouetteColor,e.silhouetteColor),this.silhouetteSize=Object(s.a)(this.silhouetteSize,e.silhouetteSize),this.color=Object(s.a)(this.color,e.color),this.colorBlendMode=Object(s.a)(this.colorBlendMode,e.colorBlendMode),this.colorBlendAmount=Object(s.a)(this.colorBlendAmount,e.colorBlendAmount),this.imageBasedLightingFactor=Object(s.a)(this.imageBasedLightingFactor,e.imageBasedLightingFactor),this.lightColor=Object(s.a)(this.lightColor,e.lightColor),this.distanceDisplayCondition=Object(s.a)(this.distanceDisplayCondition,e.distanceDisplayCondition),this.clippingPlanes=Object(s.a)(this.clippingPlanes,e.clippingPlanes);var t=e.nodeTransformations;if(Object(c.a)(t)){var i=this.nodeTransformations;Object(c.a)(i)?i.merge(t):this.nodeTransformations=new f.a(t,n)}var a=e.articulations;if(Object(c.a)(a)){var r=this.articulations;Object(c.a)(r)?r.merge(a):this.articulations=new f.a(a)}},t.a=o},"ZT9/":function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._positions=void 0,this._positionsSubscription=void 0,this._minimumHeights=void 0,this._minimumHeightsSubscription=void 0,this._maximumHeights=void 0,this._maximumHeightsSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("6ktF"),l=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l.a)("show"),positions:Object(l.a)("positions"),minimumHeights:Object(l.a)("minimumHeights"),maximumHeights:Object(l.a)("maximumHeights"),granularity:Object(l.a)("granularity"),fill:Object(l.a)("fill"),material:Object(c.a)("material"),outline:Object(l.a)("outline"),outlineColor:Object(l.a)("outlineColor"),outlineWidth:Object(l.a)("outlineWidth"),shadows:Object(l.a)("shadows"),distanceDisplayCondition:Object(l.a)("distanceDisplayCondition")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.positions=this.positions,e.minimumHeights=this.minimumHeights,e.maximumHeights=this.maximumHeights,e.granularity=this.granularity,e.fill=this.fill,e.material=this.material,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.positions=Object(a.a)(this.positions,e.positions),this.minimumHeights=Object(a.a)(this.minimumHeights,e.minimumHeights),this.maximumHeights=Object(a.a)(this.maximumHeights,e.maximumHeights),this.granularity=Object(a.a)(this.granularity,e.granularity),this.fill=Object(a.a)(this.fill,e.fill),this.material=Object(a.a)(this.material,e.material),this.outline=Object(a.a)(this.outline,e.outline),this.outlineColor=Object(a.a)(this.outlineColor,e.outlineColor),this.outlineWidth=Object(a.a)(this.outlineWidth,e.outlineWidth),this.shadows=Object(a.a)(this.shadows,e.shadows),this.distanceDisplayCondition=Object(a.a)(this.distanceDisplayCondition,e.distanceDisplayCondition)},t.a=n},ZU0d:function(e,t,i){"use strict";var n={NOT_COMPUTED:-1,USE_OPTIMIZATION:1,SKIP_OPTIMIZATION:0};t.a=Object.freeze(n)},ZboF:function(e,t,i){"use strict";function n(e,t,i){i=Object(a.a)(i,!1);var o,s,c,l={},u=Object(r.a)(e),h=Object(r.a)(t);if(u)for(o in e)e.hasOwnProperty(o)&&(s=e[o],h&&i&&"object"==typeof s&&t.hasOwnProperty(o)?(c=t[o],l[o]="object"==typeof c?n(s,c,i):s):l[o]=s);if(h)for(o in t)t.hasOwnProperty(o)&&!l.hasOwnProperty(o)&&(c=t[o],l[o]=c);return l}var a=i("5A4e"),r=i("xC6Q");t.a=n},Zc6L:function(e,t,i){"use strict";function n(e,t,i){return t<i?e<t?t:e>i?i:e:e<i?i:e>t?t:e}function a(e,t){t||(t={});var i,a,o,c,l,u,h,d,f,p,m,g=null==t.cutoff?.25:t.cutoff,_=null==t.radius?8:t.radius,v=t.channel||0;if(ArrayBuffer.isView(e)||Array.isArray(e)){if(!t.width||!t.height)throw Error("For raw data width and height should be provided by options");i=t.width,a=t.height,c=e,u=t.stride?t.stride:Math.floor(e.length/i/a)}else window.HTMLCanvasElement&&e instanceof window.HTMLCanvasElement?(d=e,h=d.getContext("2d"),i=d.width,a=d.height,f=h.getImageData(0,0,i,a),c=f.data,u=4):window.CanvasRenderingContext2D&&e instanceof window.CanvasRenderingContext2D?(d=e.canvas,h=e,i=d.width,a=d.height,f=h.getImageData(0,0,i,a),c=f.data,u=4):window.ImageData&&e instanceof window.ImageData&&(f=e,i=e.width,a=e.height,c=f.data,u=4);if(o=Math.max(i,a),window.Uint8ClampedArray&&c instanceof window.Uint8ClampedArray||window.Uint8Array&&c instanceof window.Uint8Array)for(l=c,c=Array(i*a),p=0,m=l.length;p<m;p++)c[p]=l[p*u+v]/255;else if(1!==u)throw Error("Raw data can have only 1 value per pixel");var b=Array(i*a),y=Array(i*a),O=Array(o),w=Array(o),x=Array(o+1),E=Array(o);for(p=0,m=i*a;p<m;p++){var T=c[p];b[p]=1===T?0:0===T?s:Math.pow(Math.max(0,.5-T),2),y[p]=1===T?s:0===T?0:Math.pow(Math.max(0,T-.5),2)}r(b,i,a,O,w,E,x),r(y,i,a,O,w,E,x);var A=window.Float32Array?new Float32Array(i*a):new Array(i*a);for(p=0,m=i*a;p<m;p++)A[p]=n(1-((b[p]-y[p])/_+g),0,1);return A}function r(e,t,i,n,a,r,s){for(var c=0;c<t;c++){for(var l=0;l<i;l++)n[l]=e[l*t+c];for(o(n,a,r,s,i),l=0;l<i;l++)e[l*t+c]=a[l]}for(l=0;l<i;l++){for(c=0;c<t;c++)n[c]=e[l*t+c];for(o(n,a,r,s,t),c=0;c<t;c++)e[l*t+c]=Math.sqrt(a[c])}}function o(e,t,i,n,a){i[0]=0,n[0]=-s,n[1]=+s;for(var r=1,o=0;r<a;r++){for(var c=(e[r]+r*r-(e[i[o]]+i[o]*i[o]))/(2*r-2*i[o]);c<=n[o];)o--,c=(e[r]+r*r-(e[i[o]]+i[o]*i[o]))/(2*r-2*i[o]);o++,i[o]=r,n[o]=c,n[o+1]=+s}for(r=0,o=0;r<a;r++){for(;n[o+1]<r;)o++;t[r]=(r-i[o])*(r-i[o])+e[i[o]]}}var s=1e20;t.a=a},Zcrm:function(e,t,i){"use strict";function n(e){this._size=e.size,this._datatype=e.datatype,this.getValue=e.getValue}var a=i("Jj+J"),r=i("Xjii"),o=i("1L1F"),s=new a.a,c={};c[o.a.FLOAT]="float",c[o.a.FLOAT_VEC2]="vec2",c[o.a.FLOAT_VEC3]="vec3",c[o.a.FLOAT_VEC4]="vec4",c[o.a.INT]="int",c[o.a.INT_VEC2]="ivec2",c[o.a.INT_VEC3]="ivec3",c[o.a.INT_VEC4]="ivec4",c[o.a.BOOL]="bool",c[o.a.BOOL_VEC2]="bvec2",c[o.a.BOOL_VEC3]="bvec3",c[o.a.BOOL_VEC4]="bvec4",c[o.a.FLOAT_MAT2]="mat2",c[o.a.FLOAT_MAT3]="mat3",c[o.a.FLOAT_MAT4]="mat4",c[o.a.SAMPLER_2D]="sampler2D",c[o.a.SAMPLER_CUBE]="samplerCube",n.prototype.getDeclaration=function(e){var t="uniform "+c[this._datatype]+" "+e,i=this._size;return t+=1===i?";":"["+i.toString()+"];"};var l={czm_viewport:new n({size:1,datatype:o.a.FLOAT_VEC4,getValue:function(e){return e.viewportCartesian4}}),czm_viewportOrthographic:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.viewportOrthographic}}),czm_viewportTransformation:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.viewportTransformation}}),czm_globeDepthTexture:new n({size:1,datatype:o.a.SAMPLER_2D,getValue:function(e){return e.globeDepthTexture}}),czm_model:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.model}}),czm_inverseModel:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.inverseModel}}),czm_view:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.view}}),czm_view3D:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.view3D}}),czm_viewRotation:new n({size:1,datatype:o.a.FLOAT_MAT3,getValue:function(e){return e.viewRotation}}),czm_viewRotation3D:new n({size:1,datatype:o.a.FLOAT_MAT3,getValue:function(e){return e.viewRotation3D}}),czm_inverseView:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.inverseView}}),czm_inverseView3D:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.inverseView3D}}),czm_inverseViewRotation:new n({size:1,datatype:o.a.FLOAT_MAT3,getValue:function(e){return e.inverseViewRotation}}),czm_inverseViewRotation3D:new n({size:1,datatype:o.a.FLOAT_MAT3,getValue:function(e){return e.inverseViewRotation3D}}),czm_projection:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.projection}}),czm_inverseProjection:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.inverseProjection}}),czm_infiniteProjection:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.infiniteProjection}}),czm_modelView:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.modelView}}),czm_modelView3D:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.modelView3D}}),czm_modelViewRelativeToEye:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.modelViewRelativeToEye}}),czm_inverseModelView:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.inverseModelView}}),czm_inverseModelView3D:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.inverseModelView3D}}),czm_viewProjection:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.viewProjection}}),czm_inverseViewProjection:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.inverseViewProjection}}),czm_modelViewProjection:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.modelViewProjection}}),czm_inverseModelViewProjection:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.inverseModelViewProjection}}),czm_modelViewProjectionRelativeToEye:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.modelViewProjectionRelativeToEye}}),czm_modelViewInfiniteProjection:new n({size:1,datatype:o.a.FLOAT_MAT4,getValue:function(e){return e.modelViewInfiniteProjection}}),czm_orthographicIn3D:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.orthographicIn3D?1:0}}),czm_normal:new n({size:1,datatype:o.a.FLOAT_MAT3,getValue:function(e){return e.normal}}),czm_normal3D:new n({size:1,datatype:o.a.FLOAT_MAT3,getValue:function(e){return e.normal3D}}),czm_inverseNormal:new n({size:1,datatype:o.a.FLOAT_MAT3,getValue:function(e){return e.inverseNormal}}),czm_inverseNormal3D:new n({size:1,datatype:o.a.FLOAT_MAT3,getValue:function(e){return e.inverseNormal3D}}),czm_eyeHeight2D:new n({size:1,datatype:o.a.FLOAT_VEC2,getValue:function(e){return e.eyeHeight2D}}),czm_entireFrustum:new n({size:1,datatype:o.a.FLOAT_VEC2,getValue:function(e){return e.entireFrustum}}),czm_currentFrustum:new n({size:1,datatype:o.a.FLOAT_VEC2,getValue:function(e){return e.currentFrustum}}),czm_frustumPlanes:new n({size:1,datatype:o.a.FLOAT_VEC4,getValue:function(e){return e.frustumPlanes}}),czm_farDepthFromNearPlusOne:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.farDepthFromNearPlusOne}}),czm_log2FarDepthFromNearPlusOne:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.log2FarDepthFromNearPlusOne}}),czm_oneOverLog2FarDepthFromNearPlusOne:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.oneOverLog2FarDepthFromNearPlusOne}}),czm_sunPositionWC:new n({size:1,datatype:o.a.FLOAT_VEC3,getValue:function(e){return e.sunPositionWC}}),czm_sunPositionColumbusView:new n({size:1,datatype:o.a.FLOAT_VEC3,getValue:function(e){return e.sunPositionColumbusView}}),czm_sunDirectionEC:new n({size:1,datatype:o.a.FLOAT_VEC3,getValue:function(e){return e.sunDirectionEC}}),czm_sunDirectionWC:new n({size:1,datatype:o.a.FLOAT_VEC3,getValue:function(e){return e.sunDirectionWC}}),czm_moonDirectionEC:new n({size:1,datatype:o.a.FLOAT_VEC3,getValue:function(e){return e.moonDirectionEC}}),czm_lightDirectionEC:new n({size:1,datatype:o.a.FLOAT_VEC3,getValue:function(e){return e.lightDirectionEC}}),czm_lightDirectionWC:new n({size:1,datatype:o.a.FLOAT_VEC3,getValue:function(e){return e.lightDirectionWC}}),czm_lightColor:new n({size:1,datatype:o.a.FLOAT_VEC3,getValue:function(e){return e.lightColor}}),czm_lightColorHdr:new n({size:1,datatype:o.a.FLOAT_VEC3,getValue:function(e){return e.lightColorHdr}}),czm_encodedCameraPositionMCHigh:new n({size:1,datatype:o.a.FLOAT_VEC3,getValue:function(e){return e.encodedCameraPositionMCHigh}}),czm_encodedCameraPositionMCLow:new n({size:1,datatype:o.a.FLOAT_VEC3,getValue:function(e){return e.encodedCameraPositionMCLow}}),czm_viewerPositionWC:new n({size:1,datatype:o.a.FLOAT_VEC3,getValue:function(e){return r.a.getTranslation(e.inverseView,s)}}),czm_frameNumber:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.frameState.frameNumber}}),czm_morphTime:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.frameState.morphTime}}),czm_sceneMode:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.frameState.mode}}),czm_pass:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.pass}}),czm_backgroundColor:new n({size:1,datatype:o.a.FLOAT_VEC4,getValue:function(e){return e.backgroundColor}}),czm_brdfLut:new n({size:1,datatype:o.a.SAMPLER_2D,getValue:function(e){return e.brdfLut}}),czm_environmentMap:new n({size:1,datatype:o.a.SAMPLER_CUBE,getValue:function(e){return e.environmentMap}}),czm_specularEnvironmentMaps:new n({size:1,datatype:o.a.SAMPLER_2D,getValue:function(e){return e.specularEnvironmentMaps}}),czm_specularEnvironmentMapSize:new n({size:1,datatype:o.a.FLOAT_VEC2,getValue:function(e){return e.specularEnvironmentMapsDimensions}}),czm_specularEnvironmentMapsMaximumLOD:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.specularEnvironmentMapsMaximumLOD}}),czm_sphericalHarmonicCoefficients:new n({size:9,datatype:o.a.FLOAT_VEC3,getValue:function(e){return e.sphericalHarmonicCoefficients}}),czm_temeToPseudoFixed:new n({size:1,datatype:o.a.FLOAT_MAT3,getValue:function(e){return e.temeToPseudoFixedMatrix}}),czm_pixelRatio:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.pixelRatio}}),czm_fogDensity:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.fogDensity}}),czm_imagerySplitPosition:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.imagerySplitPosition}}),czm_geometricToleranceOverMeter:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.geometricToleranceOverMeter}}),czm_minimumDisableDepthTestDistance:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.minimumDisableDepthTestDistance}}),czm_invertClassificationColor:new n({size:1,datatype:o.a.FLOAT_VEC4,getValue:function(e){return e.invertClassificationColor}}),czm_gamma:new n({size:1,datatype:o.a.FLOAT,getValue:function(e){return e.gamma}})};t.a=l},Zdr5:function(e,t,i){"use strict";function n(){function e(e,t){return 55296<=e.charCodeAt(t)&&e.charCodeAt(t)<=56319&&56320<=e.charCodeAt(t+1)&&e.charCodeAt(t+1)<=57343}function t(e,t){void 0===t&&(t=0);var i=e.charCodeAt(t);if(55296<=i&&i<=56319&&t<e.length-1){var n=i,a=e.charCodeAt(t+1);return 56320<=a&&a<=57343?1024*(n-55296)+(a-56320)+65536:n}if(56320<=i&&i<=57343&&t>=1){var n=e.charCodeAt(t-1),a=i;return 55296<=n&&n<=56319?1024*(n-55296)+(a-56320)+65536:a}return i}function i(e,t,i){var n=[e].concat(t).concat([i]),m=n[n.length-2],C=i,S=n.lastIndexOf(v);if(S>1&&n.slice(1,S).every(function(e){return e==s})&&-1==[s,_,O].indexOf(e))return E;var j=n.lastIndexOf(c);if(j>0&&n.slice(1,j).every(function(e){return e==c})&&-1==[g,c].indexOf(m))return n.filter(function(e){return e==c}).length%2==1?T:A;if(m==a&&C==r)return w;if(m==o||m==a||m==r)return C==v&&t.every(function(e){return e==s})?E:x;if(C==o||C==a||C==r)return x;if(m==u&&(C==u||C==h||C==f||C==p))return w;if(!(m!=f&&m!=h||C!=h&&C!=d))return w;if((m==p||m==d)&&C==d)return w;if(C==s||C==b)return w;if(C==l)return w;if(m==g)return w;var P=-1!=n.indexOf(s)?n.lastIndexOf(s)-1:n.length-2;return-1!=[_,O].indexOf(n[P])&&n.slice(P+1,-1).every(function(e){return e==s})&&C==v?w:m==b&&-1!=[y,O].indexOf(C)?w:-1!=t.indexOf(c)?E:m==c&&C==c?w:x}function n(e){return 1536<=e&&e<=1541||1757==e||1807==e||2274==e||3406==e||69821==e||70082<=e&&e<=70083||72250==e||72326<=e&&e<=72329||73030==e?g:13==e?a:10==e?r:0<=e&&e<=9||11<=e&&e<=12||14<=e&&e<=31||127<=e&&e<=159||173==e||1564==e||6158==e||8203==e||8206<=e&&e<=8207||8232==e||8233==e||8234<=e&&e<=8238||8288<=e&&e<=8292||8293==e||8294<=e&&e<=8303||55296<=e&&e<=57343||65279==e||65520<=e&&e<=65528||65529<=e&&e<=65531||113824<=e&&e<=113827||119155<=e&&e<=119162||917504==e||917505==e||917506<=e&&e<=917535||917632<=e&&e<=917759||918e3<=e&&e<=921599?o:768<=e&&e<=879||1155<=e&&e<=1159||1160<=e&&e<=1161||1425<=e&&e<=1469||1471==e||1473<=e&&e<=1474||1476<=e&&e<=1477||1479==e||1552<=e&&e<=1562||1611<=e&&e<=1631||1648==e||1750<=e&&e<=1756||1759<=e&&e<=1764||1767<=e&&e<=1768||1770<=e&&e<=1773||1809==e||1840<=e&&e<=1866||1958<=e&&e<=1968||2027<=e&&e<=2035||2070<=e&&e<=2073||2075<=e&&e<=2083||2085<=e&&e<=2087||2089<=e&&e<=2093||2137<=e&&e<=2139||2260<=e&&e<=2273||2275<=e&&e<=2306||2362==e||2364==e||2369<=e&&e<=2376||2381==e||2385<=e&&e<=2391||2402<=e&&e<=2403||2433==e||2492==e||2494==e||2497<=e&&e<=2500||2509==e||2519==e||2530<=e&&e<=2531||2561<=e&&e<=2562||2620==e||2625<=e&&e<=2626||2631<=e&&e<=2632||2635<=e&&e<=2637||2641==e||2672<=e&&e<=2673||2677==e||2689<=e&&e<=2690||2748==e||2753<=e&&e<=2757||2759<=e&&e<=2760||2765==e||2786<=e&&e<=2787||2810<=e&&e<=2815||2817==e||2876==e||2878==e||2879==e||2881<=e&&e<=2884||2893==e||2902==e||2903==e||2914<=e&&e<=2915||2946==e||3006==e||3008==e||3021==e||3031==e||3072==e||3134<=e&&e<=3136||3142<=e&&e<=3144||3146<=e&&e<=3149||3157<=e&&e<=3158||3170<=e&&e<=3171||3201==e||3260==e||3263==e||3266==e||3270==e||3276<=e&&e<=3277||3285<=e&&e<=3286||3298<=e&&e<=3299||3328<=e&&e<=3329||3387<=e&&e<=3388||3390==e||3393<=e&&e<=3396||3405==e||3415==e||3426<=e&&e<=3427||3530==e||3535==e||3538<=e&&e<=3540||3542==e||3551==e||3633==e||3636<=e&&e<=3642||3655<=e&&e<=3662||3761==e||3764<=e&&e<=3769||3771<=e&&e<=3772||3784<=e&&e<=3789||3864<=e&&e<=3865||3893==e||3895==e||3897==e||3953<=e&&e<=3966||3968<=e&&e<=3972||3974<=e&&e<=3975||3981<=e&&e<=3991||3993<=e&&e<=4028||4038==e||4141<=e&&e<=4144||4146<=e&&e<=4151||4153<=e&&e<=4154||4157<=e&&e<=4158||4184<=e&&e<=4185||4190<=e&&e<=4192||4209<=e&&e<=4212||4226==e||4229<=e&&e<=4230||4237==e||4253==e||4957<=e&&e<=4959||5906<=e&&e<=5908||5938<=e&&e<=5940||5970<=e&&e<=5971||6002<=e&&e<=6003||6068<=e&&e<=6069||6071<=e&&e<=6077||6086==e||6089<=e&&e<=6099||6109==e||6155<=e&&e<=6157||6277<=e&&e<=6278||6313==e||6432<=e&&e<=6434||6439<=e&&e<=6440||6450==e||6457<=e&&e<=6459||6679<=e&&e<=6680||6683==e||6742==e||6744<=e&&e<=6750||6752==e||6754==e||6757<=e&&e<=6764||6771<=e&&e<=6780||6783==e||6832<=e&&e<=6845||6846==e||6912<=e&&e<=6915||6964==e||6966<=e&&e<=6970||6972==e||6978==e||7019<=e&&e<=7027||7040<=e&&e<=7041||7074<=e&&e<=7077||7080<=e&&e<=7081||7083<=e&&e<=7085||7142==e||7144<=e&&e<=7145||7149==e||7151<=e&&e<=7153||7212<=e&&e<=7219||7222<=e&&e<=7223||7376<=e&&e<=7378||7380<=e&&e<=7392||7394<=e&&e<=7400||7405==e||7412==e||7416<=e&&e<=7417||7616<=e&&e<=7673||7675<=e&&e<=7679||8204==e||8400<=e&&e<=8412||8413<=e&&e<=8416||8417==e||8418<=e&&e<=8420||8421<=e&&e<=8432||11503<=e&&e<=11505||11647==e||11744<=e&&e<=11775||12330<=e&&e<=12333||12334<=e&&e<=12335||12441<=e&&e<=12442||42607==e||42608<=e&&e<=42610||42612<=e&&e<=42621||42654<=e&&e<=42655||42736<=e&&e<=42737||43010==e||43014==e||43019==e||43045<=e&&e<=43046||43204<=e&&e<=43205||43232<=e&&e<=43249||43302<=e&&e<=43309||43335<=e&&e<=43345||43392<=e&&e<=43394||43443==e||43446<=e&&e<=43449||43452==e||43493==e||43561<=e&&e<=43566||43569<=e&&e<=43570||43573<=e&&e<=43574||43587==e||43596==e||43644==e||43696==e||43698<=e&&e<=43700||43703<=e&&e<=43704||43710<=e&&e<=43711||43713==e||43756<=e&&e<=43757||43766==e||44005==e||44008==e||44013==e||64286==e||65024<=e&&e<=65039||65056<=e&&e<=65071||65438<=e&&e<=65439||66045==e||66272==e||66422<=e&&e<=66426||68097<=e&&e<=68099||68101<=e&&e<=68102||68108<=e&&e<=68111||68152<=e&&e<=68154||68159==e||68325<=e&&e<=68326||69633==e||69688<=e&&e<=69702||69759<=e&&e<=69761||69811<=e&&e<=69814||69817<=e&&e<=69818||69888<=e&&e<=69890||69927<=e&&e<=69931||69933<=e&&e<=69940||70003==e||70016<=e&&e<=70017||70070<=e&&e<=70078||70090<=e&&e<=70092||70191<=e&&e<=70193||70196==e||70198<=e&&e<=70199||70206==e||70367==e||70371<=e&&e<=70378||70400<=e&&e<=70401||70460==e||70462==e||70464==e||70487==e||70502<=e&&e<=70508||70512<=e&&e<=70516||70712<=e&&e<=70719||70722<=e&&e<=70724||70726==e||70832==e||70835<=e&&e<=70840||70842==e||70845==e||70847<=e&&e<=70848||70850<=e&&e<=70851||71087==e||71090<=e&&e<=71093||71100<=e&&e<=71101||71103<=e&&e<=71104||71132<=e&&e<=71133||71219<=e&&e<=71226||71229==e||71231<=e&&e<=71232||71339==e||71341==e||71344<=e&&e<=71349||71351==e||71453<=e&&e<=71455||71458<=e&&e<=71461||71463<=e&&e<=71467||72193<=e&&e<=72198||72201<=e&&e<=72202||72243<=e&&e<=72248||72251<=e&&e<=72254||72263==e||72273<=e&&e<=72278||72281<=e&&e<=72283||72330<=e&&e<=72342||72344<=e&&e<=72345||72752<=e&&e<=72758||72760<=e&&e<=72765||72767==e||72850<=e&&e<=72871||72874<=e&&e<=72880||72882<=e&&e<=72883||72885<=e&&e<=72886||73009<=e&&e<=73014||73018==e||73020<=e&&e<=73021||73023<=e&&e<=73029||73031==e||92912<=e&&e<=92916||92976<=e&&e<=92982||94095<=e&&e<=94098||113821<=e&&e<=113822||119141==e||119143<=e&&e<=119145||119150<=e&&e<=119154||119163<=e&&e<=119170||119173<=e&&e<=119179||119210<=e&&e<=119213||119362<=e&&e<=119364||121344<=e&&e<=121398||121403<=e&&e<=121452||121461==e||121476==e||121499<=e&&e<=121503||121505<=e&&e<=121519||122880<=e&&e<=122886||122888<=e&&e<=122904||122907<=e&&e<=122913||122915<=e&&e<=122916||122918<=e&&e<=122922||125136<=e&&e<=125142||125252<=e&&e<=125258||917536<=e&&e<=917631||917760<=e&&e<=917999?s:127462<=e&&e<=127487?c:2307==e||2363==e||2366<=e&&e<=2368||2377<=e&&e<=2380||2382<=e&&e<=2383||2434<=e&&e<=2435||2495<=e&&e<=2496||2503<=e&&e<=2504||2507<=e&&e<=2508||2563==e||2622<=e&&e<=2624||2691==e||2750<=e&&e<=2752||2761==e||2763<=e&&e<=2764||2818<=e&&e<=2819||2880==e||2887<=e&&e<=2888||2891<=e&&e<=2892||3007==e||3009<=e&&e<=3010||3014<=e&&e<=3016||3018<=e&&e<=3020||3073<=e&&e<=3075||3137<=e&&e<=3140||3202<=e&&e<=3203||3262==e||3264<=e&&e<=3265||3267<=e&&e<=3268||3271<=e&&e<=3272||3274<=e&&e<=3275||3330<=e&&e<=3331||3391<=e&&e<=3392||3398<=e&&e<=3400||3402<=e&&e<=3404||3458<=e&&e<=3459||3536<=e&&e<=3537||3544<=e&&e<=3550||3570<=e&&e<=3571||3635==e||3763==e||3902<=e&&e<=3903||3967==e||4145==e||4155<=e&&e<=4156||4182<=e&&e<=4183||4228==e||6070==e||6078<=e&&e<=6085||6087<=e&&e<=6088||6435<=e&&e<=6438||6441<=e&&e<=6443||6448<=e&&e<=6449||6451<=e&&e<=6456||6681<=e&&e<=6682||6741==e||6743==e||6765<=e&&e<=6770||6916==e||6965==e||6971==e||6973<=e&&e<=6977||6979<=e&&e<=6980||7042==e||7073==e||7078<=e&&e<=7079||7082==e||7143==e||7146<=e&&e<=7148||7150==e||7154<=e&&e<=7155||7204<=e&&e<=7211||7220<=e&&e<=7221||7393==e||7410<=e&&e<=7411||7415==e||43043<=e&&e<=43044||43047==e||43136<=e&&e<=43137||43188<=e&&e<=43203||43346<=e&&e<=43347||43395==e||43444<=e&&e<=43445||43450<=e&&e<=43451||43453<=e&&e<=43456||43567<=e&&e<=43568||43571<=e&&e<=43572||43597==e||43755==e||43758<=e&&e<=43759||43765==e||44003<=e&&e<=44004||44006<=e&&e<=44007||44009<=e&&e<=44010||44012==e||69632==e||69634==e||69762==e||69808<=e&&e<=69810||69815<=e&&e<=69816||69932==e||70018==e||70067<=e&&e<=70069||70079<=e&&e<=70080||70188<=e&&e<=70190||70194<=e&&e<=70195||70197==e||70368<=e&&e<=70370||70402<=e&&e<=70403||70463==e||70465<=e&&e<=70468||70471<=e&&e<=70472||70475<=e&&e<=70477||70498<=e&&e<=70499||70709<=e&&e<=70711||70720<=e&&e<=70721||70725==e||70833<=e&&e<=70834||70841==e||70843<=e&&e<=70844||70846==e||70849==e||71088<=e&&e<=71089||71096<=e&&e<=71099||71102==e||71216<=e&&e<=71218||71227<=e&&e<=71228||71230==e||71340==e||71342<=e&&e<=71343||71350==e||71456<=e&&e<=71457||71462==e||72199<=e&&e<=72200||72249==e||72279<=e&&e<=72280||72343==e||72751==e||72766==e||72873==e||72881==e||72884==e||94033<=e&&e<=94078||119142==e||119149==e?l:4352<=e&&e<=4447||43360<=e&&e<=43388?u:4448<=e&&e<=4519||55216<=e&&e<=55238?h:4520<=e&&e<=4607||55243<=e&&e<=55291?d:44032==e||44060==e||44088==e||44116==e||44144==e||44172==e||44200==e||44228==e||44256==e||44284==e||44312==e||44340==e||44368==e||44396==e||44424==e||44452==e||44480==e||44508==e||44536==e||44564==e||44592==e||44620==e||44648==e||44676==e||44704==e||44732==e||44760==e||44788==e||44816==e||44844==e||44872==e||44900==e||44928==e||44956==e||44984==e||45012==e||45040==e||45068==e||45096==e||45124==e||45152==e||45180==e||45208==e||45236==e||45264==e||45292==e||45320==e||45348==e||45376==e||45404==e||45432==e||45460==e||45488==e||45516==e||45544==e||45572==e||45600==e||45628==e||45656==e||45684==e||45712==e||45740==e||45768==e||45796==e||45824==e||45852==e||45880==e||45908==e||45936==e||45964==e||45992==e||46020==e||46048==e||46076==e||46104==e||46132==e||46160==e||46188==e||46216==e||46244==e||46272==e||46300==e||46328==e||46356==e||46384==e||46412==e||46440==e||46468==e||46496==e||46524==e||46552==e||46580==e||46608==e||46636==e||46664==e||46692==e||46720==e||46748==e||46776==e||46804==e||46832==e||46860==e||46888==e||46916==e||46944==e||46972==e||47e3==e||47028==e||47056==e||47084==e||47112==e||47140==e||47168==e||47196==e||47224==e||47252==e||47280==e||47308==e||47336==e||47364==e||47392==e||47420==e||47448==e||47476==e||47504==e||47532==e||47560==e||47588==e||47616==e||47644==e||47672==e||47700==e||47728==e||47756==e||47784==e||47812==e||47840==e||47868==e||47896==e||47924==e||47952==e||47980==e||48008==e||48036==e||48064==e||48092==e||48120==e||48148==e||48176==e||48204==e||48232==e||48260==e||48288==e||48316==e||48344==e||48372==e||48400==e||48428==e||48456==e||48484==e||48512==e||48540==e||48568==e||48596==e||48624==e||48652==e||48680==e||48708==e||48736==e||48764==e||48792==e||48820==e||48848==e||48876==e||48904==e||48932==e||48960==e||48988==e||49016==e||49044==e||49072==e||49100==e||49128==e||49156==e||49184==e||49212==e||49240==e||49268==e||49296==e||49324==e||49352==e||49380==e||49408==e||49436==e||49464==e||49492==e||49520==e||49548==e||49576==e||49604==e||49632==e||49660==e||49688==e||49716==e||49744==e||49772==e||49800==e||49828==e||49856==e||49884==e||49912==e||49940==e||49968==e||49996==e||50024==e||50052==e||50080==e||50108==e||50136==e||50164==e||50192==e||50220==e||50248==e||50276==e||50304==e||50332==e||50360==e||50388==e||50416==e||50444==e||50472==e||50500==e||50528==e||50556==e||50584==e||50612==e||50640==e||50668==e||50696==e||50724==e||50752==e||50780==e||50808==e||50836==e||50864==e||50892==e||50920==e||50948==e||50976==e||51004==e||51032==e||51060==e||51088==e||51116==e||51144==e||51172==e||51200==e||51228==e||51256==e||51284==e||51312==e||51340==e||51368==e||51396==e||51424==e||51452==e||51480==e||51508==e||51536==e||51564==e||51592==e||51620==e||51648==e||51676==e||51704==e||51732==e||51760==e||51788==e||51816==e||51844==e||51872==e||51900==e||51928==e||51956==e||51984==e||52012==e||52040==e||52068==e||52096==e||52124==e||52152==e||52180==e||52208==e||52236==e||52264==e||52292==e||52320==e||52348==e||52376==e||52404==e||52432==e||52460==e||52488==e||52516==e||52544==e||52572==e||52600==e||52628==e||52656==e||52684==e||52712==e||52740==e||52768==e||52796==e||52824==e||52852==e||52880==e||52908==e||52936==e||52964==e||52992==e||53020==e||53048==e||53076==e||53104==e||53132==e||53160==e||53188==e||53216==e||53244==e||53272==e||53300==e||53328==e||53356==e||53384==e||53412==e||53440==e||53468==e||53496==e||53524==e||53552==e||53580==e||53608==e||53636==e||53664==e||53692==e||53720==e||53748==e||53776==e||53804==e||53832==e||53860==e||53888==e||53916==e||53944==e||53972==e||54e3==e||54028==e||54056==e||54084==e||54112==e||54140==e||54168==e||54196==e||54224==e||54252==e||54280==e||54308==e||54336==e||54364==e||54392==e||54420==e||54448==e||54476==e||54504==e||54532==e||54560==e||54588==e||54616==e||54644==e||54672==e||54700==e||54728==e||54756==e||54784==e||54812==e||54840==e||54868==e||54896==e||54924==e||54952==e||54980==e||55008==e||55036==e||55064==e||55092==e||55120==e||55148==e||55176==e?f:44033<=e&&e<=44059||44061<=e&&e<=44087||44089<=e&&e<=44115||44117<=e&&e<=44143||44145<=e&&e<=44171||44173<=e&&e<=44199||44201<=e&&e<=44227||44229<=e&&e<=44255||44257<=e&&e<=44283||44285<=e&&e<=44311||44313<=e&&e<=44339||44341<=e&&e<=44367||44369<=e&&e<=44395||44397<=e&&e<=44423||44425<=e&&e<=44451||44453<=e&&e<=44479||44481<=e&&e<=44507||44509<=e&&e<=44535||44537<=e&&e<=44563||44565<=e&&e<=44591||44593<=e&&e<=44619||44621<=e&&e<=44647||44649<=e&&e<=44675||44677<=e&&e<=44703||44705<=e&&e<=44731||44733<=e&&e<=44759||44761<=e&&e<=44787||44789<=e&&e<=44815||44817<=e&&e<=44843||44845<=e&&e<=44871||44873<=e&&e<=44899||44901<=e&&e<=44927||44929<=e&&e<=44955||44957<=e&&e<=44983||44985<=e&&e<=45011||45013<=e&&e<=45039||45041<=e&&e<=45067||45069<=e&&e<=45095||45097<=e&&e<=45123||45125<=e&&e<=45151||45153<=e&&e<=45179||45181<=e&&e<=45207||45209<=e&&e<=45235||45237<=e&&e<=45263||45265<=e&&e<=45291||45293<=e&&e<=45319||45321<=e&&e<=45347||45349<=e&&e<=45375||45377<=e&&e<=45403||45405<=e&&e<=45431||45433<=e&&e<=45459||45461<=e&&e<=45487||45489<=e&&e<=45515||45517<=e&&e<=45543||45545<=e&&e<=45571||45573<=e&&e<=45599||45601<=e&&e<=45627||45629<=e&&e<=45655||45657<=e&&e<=45683||45685<=e&&e<=45711||45713<=e&&e<=45739||45741<=e&&e<=45767||45769<=e&&e<=45795||45797<=e&&e<=45823||45825<=e&&e<=45851||45853<=e&&e<=45879||45881<=e&&e<=45907||45909<=e&&e<=45935||45937<=e&&e<=45963||45965<=e&&e<=45991||45993<=e&&e<=46019||46021<=e&&e<=46047||46049<=e&&e<=46075||46077<=e&&e<=46103||46105<=e&&e<=46131||46133<=e&&e<=46159||46161<=e&&e<=46187||46189<=e&&e<=46215||46217<=e&&e<=46243||46245<=e&&e<=46271||46273<=e&&e<=46299||46301<=e&&e<=46327||46329<=e&&e<=46355||46357<=e&&e<=46383||46385<=e&&e<=46411||46413<=e&&e<=46439||46441<=e&&e<=46467||46469<=e&&e<=46495||46497<=e&&e<=46523||46525<=e&&e<=46551||46553<=e&&e<=46579||46581<=e&&e<=46607||46609<=e&&e<=46635||46637<=e&&e<=46663||46665<=e&&e<=46691||46693<=e&&e<=46719||46721<=e&&e<=46747||46749<=e&&e<=46775||46777<=e&&e<=46803||46805<=e&&e<=46831||46833<=e&&e<=46859||46861<=e&&e<=46887||46889<=e&&e<=46915||46917<=e&&e<=46943||46945<=e&&e<=46971||46973<=e&&e<=46999||47001<=e&&e<=47027||47029<=e&&e<=47055||47057<=e&&e<=47083||47085<=e&&e<=47111||47113<=e&&e<=47139||47141<=e&&e<=47167||47169<=e&&e<=47195||47197<=e&&e<=47223||47225<=e&&e<=47251||47253<=e&&e<=47279||47281<=e&&e<=47307||47309<=e&&e<=47335||47337<=e&&e<=47363||47365<=e&&e<=47391||47393<=e&&e<=47419||47421<=e&&e<=47447||47449<=e&&e<=47475||47477<=e&&e<=47503||47505<=e&&e<=47531||47533<=e&&e<=47559||47561<=e&&e<=47587||47589<=e&&e<=47615||47617<=e&&e<=47643||47645<=e&&e<=47671||47673<=e&&e<=47699||47701<=e&&e<=47727||47729<=e&&e<=47755||47757<=e&&e<=47783||47785<=e&&e<=47811||47813<=e&&e<=47839||47841<=e&&e<=47867||47869<=e&&e<=47895||47897<=e&&e<=47923||47925<=e&&e<=47951||47953<=e&&e<=47979||47981<=e&&e<=48007||48009<=e&&e<=48035||48037<=e&&e<=48063||48065<=e&&e<=48091||48093<=e&&e<=48119||48121<=e&&e<=48147||48149<=e&&e<=48175||48177<=e&&e<=48203||48205<=e&&e<=48231||48233<=e&&e<=48259||48261<=e&&e<=48287||48289<=e&&e<=48315||48317<=e&&e<=48343||48345<=e&&e<=48371||48373<=e&&e<=48399||48401<=e&&e<=48427||48429<=e&&e<=48455||48457<=e&&e<=48483||48485<=e&&e<=48511||48513<=e&&e<=48539||48541<=e&&e<=48567||48569<=e&&e<=48595||48597<=e&&e<=48623||48625<=e&&e<=48651||48653<=e&&e<=48679||48681<=e&&e<=48707||48709<=e&&e<=48735||48737<=e&&e<=48763||48765<=e&&e<=48791||48793<=e&&e<=48819||48821<=e&&e<=48847||48849<=e&&e<=48875||48877<=e&&e<=48903||48905<=e&&e<=48931||48933<=e&&e<=48959||48961<=e&&e<=48987||48989<=e&&e<=49015||49017<=e&&e<=49043||49045<=e&&e<=49071||49073<=e&&e<=49099||49101<=e&&e<=49127||49129<=e&&e<=49155||49157<=e&&e<=49183||49185<=e&&e<=49211||49213<=e&&e<=49239||49241<=e&&e<=49267||49269<=e&&e<=49295||49297<=e&&e<=49323||49325<=e&&e<=49351||49353<=e&&e<=49379||49381<=e&&e<=49407||49409<=e&&e<=49435||49437<=e&&e<=49463||49465<=e&&e<=49491||49493<=e&&e<=49519||49521<=e&&e<=49547||49549<=e&&e<=49575||49577<=e&&e<=49603||49605<=e&&e<=49631||49633<=e&&e<=49659||49661<=e&&e<=49687||49689<=e&&e<=49715||49717<=e&&e<=49743||49745<=e&&e<=49771||49773<=e&&e<=49799||49801<=e&&e<=49827||49829<=e&&e<=49855||49857<=e&&e<=49883||49885<=e&&e<=49911||49913<=e&&e<=49939||49941<=e&&e<=49967||49969<=e&&e<=49995||49997<=e&&e<=50023||50025<=e&&e<=50051||50053<=e&&e<=50079||50081<=e&&e<=50107||50109<=e&&e<=50135||50137<=e&&e<=50163||50165<=e&&e<=50191||50193<=e&&e<=50219||50221<=e&&e<=50247||50249<=e&&e<=50275||50277<=e&&e<=50303||50305<=e&&e<=50331||50333<=e&&e<=50359||50361<=e&&e<=50387||50389<=e&&e<=50415||50417<=e&&e<=50443||50445<=e&&e<=50471||50473<=e&&e<=50499||50501<=e&&e<=50527||50529<=e&&e<=50555||50557<=e&&e<=50583||50585<=e&&e<=50611||50613<=e&&e<=50639||50641<=e&&e<=50667||50669<=e&&e<=50695||50697<=e&&e<=50723||50725<=e&&e<=50751||50753<=e&&e<=50779||50781<=e&&e<=50807||50809<=e&&e<=50835||50837<=e&&e<=50863||50865<=e&&e<=50891||50893<=e&&e<=50919||50921<=e&&e<=50947||50949<=e&&e<=50975||50977<=e&&e<=51003||51005<=e&&e<=51031||51033<=e&&e<=51059||51061<=e&&e<=51087||51089<=e&&e<=51115||51117<=e&&e<=51143||51145<=e&&e<=51171||51173<=e&&e<=51199||51201<=e&&e<=51227||51229<=e&&e<=51255||51257<=e&&e<=51283||51285<=e&&e<=51311||51313<=e&&e<=51339||51341<=e&&e<=51367||51369<=e&&e<=51395||51397<=e&&e<=51423||51425<=e&&e<=51451||51453<=e&&e<=51479||51481<=e&&e<=51507||51509<=e&&e<=51535||51537<=e&&e<=51563||51565<=e&&e<=51591||51593<=e&&e<=51619||51621<=e&&e<=51647||51649<=e&&e<=51675||51677<=e&&e<=51703||51705<=e&&e<=51731||51733<=e&&e<=51759||51761<=e&&e<=51787||51789<=e&&e<=51815||51817<=e&&e<=51843||51845<=e&&e<=51871||51873<=e&&e<=51899||51901<=e&&e<=51927||51929<=e&&e<=51955||51957<=e&&e<=51983||51985<=e&&e<=52011||52013<=e&&e<=52039||52041<=e&&e<=52067||52069<=e&&e<=52095||52097<=e&&e<=52123||52125<=e&&e<=52151||52153<=e&&e<=52179||52181<=e&&e<=52207||52209<=e&&e<=52235||52237<=e&&e<=52263||52265<=e&&e<=52291||52293<=e&&e<=52319||52321<=e&&e<=52347||52349<=e&&e<=52375||52377<=e&&e<=52403||52405<=e&&e<=52431||52433<=e&&e<=52459||52461<=e&&e<=52487||52489<=e&&e<=52515||52517<=e&&e<=52543||52545<=e&&e<=52571||52573<=e&&e<=52599||52601<=e&&e<=52627||52629<=e&&e<=52655||52657<=e&&e<=52683||52685<=e&&e<=52711||52713<=e&&e<=52739||52741<=e&&e<=52767||52769<=e&&e<=52795||52797<=e&&e<=52823||52825<=e&&e<=52851||52853<=e&&e<=52879||52881<=e&&e<=52907||52909<=e&&e<=52935||52937<=e&&e<=52963||52965<=e&&e<=52991||52993<=e&&e<=53019||53021<=e&&e<=53047||53049<=e&&e<=53075||53077<=e&&e<=53103||53105<=e&&e<=53131||53133<=e&&e<=53159||53161<=e&&e<=53187||53189<=e&&e<=53215||53217<=e&&e<=53243||53245<=e&&e<=53271||53273<=e&&e<=53299||53301<=e&&e<=53327||53329<=e&&e<=53355||53357<=e&&e<=53383||53385<=e&&e<=53411||53413<=e&&e<=53439||53441<=e&&e<=53467||53469<=e&&e<=53495||53497<=e&&e<=53523||53525<=e&&e<=53551||53553<=e&&e<=53579||53581<=e&&e<=53607||53609<=e&&e<=53635||53637<=e&&e<=53663||53665<=e&&e<=53691||53693<=e&&e<=53719||53721<=e&&e<=53747||53749<=e&&e<=53775||53777<=e&&e<=53803||53805<=e&&e<=53831||53833<=e&&e<=53859||53861<=e&&e<=53887||53889<=e&&e<=53915||53917<=e&&e<=53943||53945<=e&&e<=53971||53973<=e&&e<=53999||54001<=e&&e<=54027||54029<=e&&e<=54055||54057<=e&&e<=54083||54085<=e&&e<=54111||54113<=e&&e<=54139||54141<=e&&e<=54167||54169<=e&&e<=54195||54197<=e&&e<=54223||54225<=e&&e<=54251||54253<=e&&e<=54279||54281<=e&&e<=54307||54309<=e&&e<=54335||54337<=e&&e<=54363||54365<=e&&e<=54391||54393<=e&&e<=54419||54421<=e&&e<=54447||54449<=e&&e<=54475||54477<=e&&e<=54503||54505<=e&&e<=54531||54533<=e&&e<=54559||54561<=e&&e<=54587||54589<=e&&e<=54615||54617<=e&&e<=54643||54645<=e&&e<=54671||54673<=e&&e<=54699||54701<=e&&e<=54727||54729<=e&&e<=54755||54757<=e&&e<=54783||54785<=e&&e<=54811||54813<=e&&e<=54839||54841<=e&&e<=54867||54869<=e&&e<=54895||54897<=e&&e<=54923||54925<=e&&e<=54951||54953<=e&&e<=54979||54981<=e&&e<=55007||55009<=e&&e<=55035||55037<=e&&e<=55063||55065<=e&&e<=55091||55093<=e&&e<=55119||55121<=e&&e<=55147||55149<=e&&e<=55175||55177<=e&&e<=55203?p:9757==e||9977==e||9994<=e&&e<=9997||127877==e||127938<=e&&e<=127940||127943==e||127946<=e&&e<=127948||128066<=e&&e<=128067||128070<=e&&e<=128080||128110==e||128112<=e&&e<=128120||128124==e||128129<=e&&e<=128131||128133<=e&&e<=128135||128170==e||128372<=e&&e<=128373||128378==e||128400==e||128405<=e&&e<=128406||128581<=e&&e<=128583||128587<=e&&e<=128591||128675==e||128692<=e&&e<=128694||128704==e||128716==e||129304<=e&&e<=129308||129310<=e&&e<=129311||129318==e||129328<=e&&e<=129337||129341<=e&&e<=129342||129489<=e&&e<=129501?_:127995<=e&&e<=127999?v:8205==e?b:9792==e||9794==e||9877<=e&&e<=9878||9992==e||10084==e||127752==e||127806==e||127859==e||127891==e||127908==e||127912==e||127979==e||127981==e||128139==e||128187<=e&&e<=128188||128295==e||128300==e||128488==e||128640==e||128658==e?y:128102<=e&&e<=128105?O:m}var a=0,r=1,o=2,s=3,c=4,l=5,u=6,h=7,d=8,f=9,p=10,m=11,g=12,_=13,v=14,b=15,y=16,O=17,w=0,x=1,E=2,T=3,A=4;return this.nextBreak=function(a,r){if(void 0===r&&(r=0),r<0)return 0;if(r>=a.length-1)return a.length;for(var o=n(t(a,r)),s=[],c=r+1;c<a.length;c++)if(!e(a,c-1)){var l=n(t(a,c));if(i(o,s,l))return c;s.push(l)}return a.length},this.splitGraphemes=function(e){for(var t,i=[],n=0;(t=this.nextBreak(e,n))<e.length;)i.push(e.slice(n,t)),n=t;return n<e.length&&i.push(e.slice(n)),i},this.iterateGraphemes=function(e){var t=0,i={next:function(){var i,n;return(n=this.nextBreak(e,t))<e.length?(i=e.slice(t,n),t=n,{value:i,done:!1}):t<e.length?(i=e.slice(t),t=e.length,{value:i,done:!1}):{value:void 0,done:!0}}.bind(this)};return"undefined"!=typeof Symbol&&Symbol.iterator&&(i[Symbol.iterator]=function(){return i}),i},this.countGraphemes=function(e){for(var t,i=0,n=0;(t=this.nextBreak(e,n))<e.length;)n=t,i++;return n<e.length&&i++,i},this}t.a=n},Zg8T:function(e,t,i){"use strict";function n(e,t,i,n,r,o){this._tileset=e,this._tile=t,this._resource=i,this._contents=[],this._readyPromise=u.a.defer(),a(this,n,r,o)}function a(e,t,i,n){i=Object(r.a)(i,0);var a=new Uint8Array(t),s=new DataView(t);i+=h;var d=s.getUint32(i,!0);if(1!==d)throw new l.a("Only Composite Tile version 1 is supported. Version "+d+" is not.");i+=h,i+=h;var f=s.getUint32(i,!0);i+=h;for(var p=[],m=0;m<f;++m){var g=Object(c.a)(a,i),_=s.getUint32(i+2*h,!0),v=n[g];if(!Object(o.a)(v))throw new l.a("Unknown tile content type, "+g+", inside Composite tile");var b=v(e._tileset,e._tile,e._resource,t,i);e._contents.push(b),p.push(b.readyPromise),i+=_}u.a.all(p).then(function(){e._readyPromise.resolve(e)}).otherwise(function(t){e._readyPromise.reject(t)})}var r=i("5A4e"),o=i("xC6Q"),s=i("6sr8"),c=i("l7qC"),l=i("V22k"),u=i("S7OP");Object.defineProperties(n.prototype,{featurePropertiesDirty:{get:function(){for(var e=this._contents,t=e.length,i=0;i<t;++i)if(e[i].featurePropertiesDirty)return!0;return!1},set:function(e){for(var t=this._contents,i=t.length,n=0;n<i;++n)t[n].featurePropertiesDirty=e}},featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){return this._contents}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){}}});var h=Uint32Array.BYTES_PER_ELEMENT;n.prototype.hasProperty=function(e,t){return!1},n.prototype.getFeature=function(e){},n.prototype.applyDebugSettings=function(e,t){for(var i=this._contents,n=i.length,a=0;a<n;++a)i[a].applyDebugSettings(e,t)},n.prototype.applyStyle=function(e){for(var t=this._contents,i=t.length,n=0;n<i;++n)t[n].applyStyle(e)},n.prototype.update=function(e,t){for(var i=this._contents,n=i.length,a=0;a<n;++a)i[a].update(e,t)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){for(var e=this._contents,t=e.length,i=0;i<t;++i)e[i].destroy();return Object(s.a)(this)},t.a=n},Zj43:function(e,t,i){"use strict";function n(e){w.a.typeOf.object("scene",e),this._scene=e,this._currentTweens=[],this._morphHandler=void 0,this._morphCancelled=!1,this._completeMorph=void 0,this._morphToOrthographic=!1}function a(e,t){if(e._scene.completeMorphOnUserInput){e._morphHandler=new I.a(e._scene.canvas);var i=function(){e._morphCancelled=!0,e._scene.camera.cancelFlight(),t(e)};e._completeMorph=i,e._morphHandler.setInputAction(i,R.a.LEFT_DOWN),e._morphHandler.setInputAction(i,R.a.MIDDLE_DOWN),e._morphHandler.setInputAction(i,R.a.RIGHT_DOWN),e._morphHandler.setInputAction(i,R.a.WHEEL)}}function r(e){for(var t=e._currentTweens,i=0;i<t.length;++i)t[i].cancelTween();e._currentTweens.length=0,e._morphHandler=e._morphHandler&&e._morphHandler.destroy()}function o(e,t){var i=e._scene,n=i.camera,a=Q,r=a.position,o=a.direction,s=a.up,c=i.mapProjection.unproject(n.position,Z);t.cartographicToCartesian(c,r);var l=t.scaleToGeodeticSurface(r,K),u=M.a.eastNorthUpToFixedFrame(l,t,$);return C.a.multiplyByPointAsVector(u,n.direction,o),C.a.multiplyByPointAsVector(u,n.up,s),a}function s(e,t,i,n){function a(e){l(s,h,e.time,o.position),l(c,d,e.time,o.direction),l(u,f,e.time,o.up),y.a.cross(o.direction,o.up,o.right),y.a.normalize(o.right,o.right)}t*=.5;var r=e._scene,o=r.camera,s=y.a.clone(o.position,ee),c=y.a.clone(o.direction,te),u=y.a.clone(o.up,ie),h=C.a.multiplyByPoint(L.a.TRANSFORM_2D_INVERSE,i.position,ne),d=C.a.multiplyByPointAsVector(L.a.TRANSFORM_2D_INVERSE,i.direction,ae),f=C.a.multiplyByPointAsVector(L.a.TRANSFORM_2D_INVERSE,i.up,re),p=r.tweens.add({duration:t,easingFunction:T.a.QUARTIC_OUT,startObject:{time:0},stopObject:{time:1},update:a,complete:function(){g(e,r,0,1,t,n)}});e._currentTweens.push(p)}function c(e,t,i){t/=3;var n,r=e._scene,c=r.camera;t>0?(n=Q,y.a.fromDegrees(0,0,5*i.maximumRadius,i,n.position),y.a.negate(n.position,n.direction),y.a.normalize(n.direction,n.direction),y.a.clone(y.a.UNIT_Z,n.up)):(c.position.z=c.frustum.right-c.frustum.left,n=o(e,i));var l;e._morphToOrthographic?(l=oe,l.aspectRatio=r.drawingBufferWidth/r.drawingBufferHeight,l.width=c.frustum.right-c.frustum.left):(l=J,l.aspectRatio=r.drawingBufferWidth/r.drawingBufferHeight,l.fov=A.a.toRadians(60)),n.frustum=l;var u=_(n);a(e,u);var h;h=e._morphToOrthographic?function(){s(e,t,n,u)}:function(){f(e,t,n,function(){s(e,t,n,u)})},t>0?(r._mode=N.a.SCENE2D,c.flyTo({duration:t,destination:y.a.fromDegrees(0,0,5*i.maximumRadius,i,ue),complete:function(){r._mode=N.a.MORPHING,h()}})):h()}function l(e,t,i,n){return y.a.lerp(e,t,i,n)}function u(e,t,i,n,a){function r(e){s.frustum.fov=A.a.lerp(c,l,e.time);var t=u/Math.tan(.5*s.frustum.fov);n(s,t)}var o=e._scene,s=o.camera;if(!(s.frustum instanceof S.a)){var c=s.frustum.fov,l=.5*A.a.RADIANS_PER_DEGREE,u=i.position.z*Math.tan(.5*c);s.frustum.far=u/Math.tan(.5*l)+1e7;var h=o.tweens.add({duration:t,easingFunction:T.a.QUARTIC_OUT,startObject:{time:0},stopObject:{time:1},update:r,complete:function(){s.frustum=i.frustum.clone(),a(e)}});e._currentTweens.push(h)}}function h(e,t){function i(e){l(s,p,e.time,o.position),l(c,d,e.time,o.direction),l(h,f,e.time,o.up),y.a.cross(o.direction,o.up,o.right),y.a.normalize(o.right,o.right),o._adjustOrthographicFrustum(!0)}function n(e,t){e.position.z=t}t*=.5;var r=e._scene,o=r.camera,s=y.a.clone(o.position,fe),c=y.a.clone(o.direction,pe),h=y.a.clone(o.up,me),d=y.a.negate(y.a.UNIT_Z,_e),f=y.a.clone(y.a.UNIT_Y,ve),p=ge;if(t>0)y.a.clone(y.a.ZERO,ge),p.z=5*r.mapProjection.ellipsoid.maximumRadius;else{y.a.clone(s,ge);var m=ye;C.a.multiplyByPoint(L.a.TRANSFORM_2D,s,m.origin),C.a.multiplyByPointAsVector(L.a.TRANSFORM_2D,c,m.direction);var g=r.globe;if(Object(x.a)(g)){var _=g.pickWorldCoordinates(m,r,Oe);Object(x.a)(_)&&(C.a.multiplyByPoint(L.a.TRANSFORM_2D_INVERSE,_,p),p.z+=y.a.distance(s,p))}}var b=be;b.right=.5*p.z,b.left=-b.right,b.top=b.right*(r.drawingBufferHeight/r.drawingBufferWidth),b.bottom=-b.top;var O=we;O.position=p,O.direction=d,O.up=f,O.frustum=b;var w=v(O);a(e,w);var E=r.tweens.add({duration:t,easingFunction:T.a.QUARTIC_OUT,startObject:{time:0},stopObject:{time:1},update:i,complete:function(){u(e,t,O,n,w)}});e._currentTweens.push(E)}function d(e,t,i){function n(e,t){e.position.x=t}function r(){u(e,t,c,n,w)}t*=.5;var o=e._scene,s=o.camera,c=Ee;if(t>0)y.a.clone(y.a.ZERO,c.position),c.position.z=5*i.maximumRadius,y.a.negate(y.a.UNIT_Z,c.direction),y.a.clone(y.a.UNIT_Y,c.up);else{i.cartesianToCartographic(s.positionWC,xe),o.mapProjection.project(xe,c.position),y.a.negate(y.a.UNIT_Z,c.direction),y.a.clone(y.a.UNIT_Y,c.up);var l=Ce;y.a.clone(c.position2D,l.origin);var h=y.a.clone(s.directionWC,l.direction),d=i.scaleToGeodeticSurface(s.positionWC,je),f=M.a.eastNorthUpToFixedFrame(d,i,Se);C.a.inverseTransformation(f,f),C.a.multiplyByPointAsVector(f,h,h),C.a.multiplyByPointAsVector(L.a.TRANSFORM_2D,h,h);var p=o.globe;if(Object(x.a)(p)){var g=p.pickWorldCoordinates(l,o,Ae);if(Object(x.a)(g)){var _=y.a.distance(c.position2D,g);g.x+=_,y.a.clone(g,c.position2D)}}}C.a.multiplyByPoint(L.a.TRANSFORM_2D,c.position,c.position2D),C.a.multiplyByPointAsVector(L.a.TRANSFORM_2D,c.direction,c.direction2D),C.a.multiplyByPointAsVector(L.a.TRANSFORM_2D,c.up,c.up2D);var b=c.frustum;b.right=.5*c.position.z,b.left=-b.right,b.top=b.right*(o.drawingBufferHeight/o.drawingBufferWidth),b.bottom=-b.top;var O=Te;C.a.multiplyByPoint(L.a.TRANSFORM_2D_INVERSE,c.position2D,O.position),y.a.clone(c.direction,O.direction),y.a.clone(c.up,O.up),O.frustum=b;var w=v(O);a(e,w),m(e,t,c,r)}function f(e,t,i,n){function a(e){o.frustum.fov=A.a.lerp(l,c,e.time),o.position.z=u/Math.tan(.5*o.frustum.fov)}var r=e._scene,o=r.camera,s=o.frustum.right-o.frustum.left;o.frustum=i.frustum.clone();var c=o.frustum.fov,l=.5*A.a.RADIANS_PER_DEGREE,u=s*Math.tan(.5*c);o.frustum.far=u/Math.tan(.5*l)+1e7,o.frustum.fov=l;var h=r.tweens.add({duration:t,easingFunction:T.a.QUARTIC_OUT,startObject:{time:0},stopObject:{time:1},update:a,complete:function(){n(e)}});e._currentTweens.push(h)}function p(e,t,i,n){function a(){function a(e){l(h,s,e.time,o.position),l(d,c,e.time,o.direction),l(f,u,e.time,o.up),y.a.cross(o.direction,o.up,o.right),y.a.normalize(o.right,o.right)}o.frustum=i.frustum.clone();var h=y.a.clone(o.position,se),d=y.a.clone(o.direction,ce),f=y.a.clone(o.up,le);h.z=s.z;var p=r.tweens.add({duration:t,easingFunction:T.a.QUARTIC_OUT,startObject:{time:0},stopObject:{time:1},update:a,complete:function(){n(e)}});e._currentTweens.push(p)}t*=.5;var r=e._scene,o=r.camera,s=y.a.clone(i.position,ue),c=y.a.clone(i.direction,he),u=y.a.clone(i.up,de);r._mode=N.a.MORPHING,e._morphToOrthographic?a():f(e,0,i,a)}function m(e,t,i,n){function a(e){l(s,h,e.time,o.position),l(c,d,e.time,o.direction),l(u,f,e.time,o.up),y.a.cross(o.direction,o.up,o.right),y.a.normalize(o.right,o.right),o._adjustOrthographicFrustum(!0)}var r=e._scene,o=r.camera,s=y.a.clone(o.position,se),c=y.a.clone(o.direction,ce),u=y.a.clone(o.up,le),h=y.a.clone(i.position2D,ue),d=y.a.clone(i.direction2D,he),f=y.a.clone(i.up2D,de),p=r.tweens.add({duration:t,easingFunction:T.a.QUARTIC_OUT,startObject:{time:0},stopObject:{time:1},update:a,complete:function(){g(e,r,1,0,t,n)}});e._currentTweens.push(p)}function g(e,t,i,n,a,r){var o={object:t,property:"morphTime",startValue:i,stopValue:n,duration:a,easingFunction:T.a.QUARTIC_OUT};Object(x.a)(r)&&(o.complete=function(){r(e)});var s=t.tweens.addProperty(o);e._currentTweens.push(s)}function _(e){return function(t){var i=t._scene;i._mode=N.a.SCENE3D,i.morphTime=N.a.getMorphTime(N.a.SCENE3D),r(t);var n=i.camera;(t._previousMode!==N.a.MORPHING||t._morphCancelled)&&(t._morphCancelled=!1,y.a.clone(e.position,n.position),y.a.clone(e.direction,n.direction),y.a.clone(e.up,n.up),y.a.cross(n.direction,n.up,n.right),y.a.normalize(n.right,n.right),n.frustum=e.frustum.clone());var a=n.frustum;i.frameState.useLogDepth&&(a.near=.1,a.far=1e10);var o=Object(x.a)(t._completeMorph);t._completeMorph=void 0,i.camera.update(i.mode),t._scene.morphComplete.raiseEvent(t,t._previousMode,N.a.SCENE3D,o)}}function v(e){return function(t){var i=t._scene;i._mode=N.a.SCENE2D,i.morphTime=N.a.getMorphTime(N.a.SCENE2D),r(t);var n=i.camera;y.a.clone(e.position,n.position),n.position.z=2*i.mapProjection.ellipsoid.maximumRadius,y.a.clone(e.direction,n.direction),y.a.clone(e.up,n.up),y.a.cross(n.direction,n.up,n.right),y.a.normalize(n.right,n.right),n.frustum=e.frustum.clone();var a=Object(x.a)(t._completeMorph);t._completeMorph=void 0,i.camera.update(i.mode),t._scene.morphComplete.raiseEvent(t,t._previousMode,N.a.SCENE2D,a)}}function b(e){return function(t){var i=t._scene;i._mode=N.a.COLUMBUS_VIEW,i.morphTime=N.a.getMorphTime(N.a.COLUMBUS_VIEW),r(t);var n=i.camera;(t._previousModeMode!==N.a.MORPHING||t._morphCancelled)&&(t._morphCancelled=!1,y.a.clone(e.position,n.position),y.a.clone(e.direction,n.direction),y.a.clone(e.up,n.up),y.a.cross(n.direction,n.up,n.right),y.a.normalize(n.right,n.right));var a=n.frustum;i.frameState.useLogDepth&&(a.near=.1,a.far=1e10);var o=Object(x.a)(t._completeMorph);t._completeMorph=void 0,i.camera.update(i.mode),t._scene.morphComplete.raiseEvent(t,t._previousMode,N.a.COLUMBUS_VIEW,o)}}var y=i("Jj+J"),O=i("I3GD"),w=i("5F4X"),x=i("xC6Q"),E=i("6sr8"),T=i("jxrD"),A=i("fq+p"),C=i("Xjii"),S=i("ku5u"),j=i("rpO5"),P=i("MYGk"),D=i("/++d"),I=i("UkUD"),R=i("szK2"),M=i("g/FO"),L=i("St4O"),N=i("sotJ");n.prototype.completeMorph=function(){Object(x.a)(this._completeMorph)&&this._completeMorph()},n.prototype.morphTo2D=function(e,t){Object(x.a)(this._completeMorph)&&this._completeMorph();var i=this._scene;this._previousMode=i.mode,this._morphToOrthographic=i.camera.frustum instanceof S.a,this._previousMode!==N.a.SCENE2D&&this._previousMode!==N.a.MORPHING&&(this._scene.morphStart.raiseEvent(this,this._previousMode,N.a.SCENE2D,!0),i._mode=N.a.MORPHING,i.camera._setTransform(C.a.IDENTITY),this._previousMode===N.a.COLUMBUS_VIEW?h(this,e):d(this,e,t),0===e&&Object(x.a)(this._completeMorph)&&this._completeMorph())};var F=new y.a,z=new y.a,B=new y.a,k=new y.a,U=new y.a,V=new y.a,H=new y.a,q=new O.a,W=new C.a,G=new P.a,Y=new S.a,X={position:void 0,direction:void 0,up:void 0,position2D:void 0,direction2D:void 0,up2D:void 0,frustum:void 0};n.prototype.morphToColumbusView=function(e,t){Object(x.a)(this._completeMorph)&&this._completeMorph();var i=this._scene;if(this._previousMode=i.mode,this._previousMode!==N.a.COLUMBUS_VIEW&&this._previousMode!==N.a.MORPHING){this._scene.morphStart.raiseEvent(this,this._previousMode,N.a.COLUMBUS_VIEW,!0),i.camera._setTransform(C.a.IDENTITY);var n=F,r=z,o=B;if(e>0)n.x=0,n.y=-1,n.z=1,n=y.a.multiplyByScalar(y.a.normalize(n,n),5*t.maximumRadius,n),y.a.negate(y.a.normalize(n,r),r),y.a.cross(y.a.UNIT_X,r,o);else{var s=i.camera;if(this._previousMode===N.a.SCENE2D)y.a.clone(s.position,n),n.z=s.frustum.right-s.frustum.left,y.a.negate(y.a.UNIT_Z,r),y.a.clone(y.a.UNIT_Y,o);else{y.a.clone(s.positionWC,n),y.a.clone(s.directionWC,r),y.a.clone(s.upWC,o);var c=t.scaleToGeodeticSurface(n,H),l=M.a.eastNorthUpToFixedFrame(c,t,W);C.a.inverseTransformation(l,l),i.mapProjection.project(t.cartesianToCartographic(n,q),n),C.a.multiplyByPointAsVector(l,r,r),C.a.multiplyByPointAsVector(l,o,o)}}var u;this._morphToOrthographic?(u=Y,u.width=i.camera.frustum.right-i.camera.frustum.left,u.aspectRatio=i.drawingBufferWidth/i.drawingBufferHeight):(u=G,u.aspectRatio=i.drawingBufferWidth/i.drawingBufferHeight,u.fov=A.a.toRadians(60));var h=X;h.position=n,h.direction=r,h.up=o,h.frustum=u;var d=b(h);a(this,d),this._previousMode===N.a.SCENE2D?p(this,e,h,d):(h.position2D=C.a.multiplyByPoint(L.a.TRANSFORM_2D,n,k),h.direction2D=C.a.multiplyByPointAsVector(L.a.TRANSFORM_2D,r,U),h.up2D=C.a.multiplyByPointAsVector(L.a.TRANSFORM_2D,o,V),i._mode=N.a.MORPHING,m(this,e,h,d)),0===e&&Object(x.a)(this._completeMorph)&&this._completeMorph()}};var Q={position:new y.a,direction:new y.a,up:new y.a,frustum:void 0},J=new P.a;n.prototype.morphTo3D=function(e,t){Object(x.a)(this._completeMorph)&&this._completeMorph();var i=this._scene;if(this._previousMode=i.mode,this._previousMode!==N.a.SCENE3D&&this._previousMode!==N.a.MORPHING){if(this._scene.morphStart.raiseEvent(this,this._previousMode,N.a.SCENE3D,!0),i._mode=N.a.MORPHING,i.camera._setTransform(C.a.IDENTITY),this._previousMode===N.a.SCENE2D)c(this,e,t);else{var n;e>0?(n=Q,y.a.fromDegrees(0,0,5*t.maximumRadius,t,n.position),y.a.negate(n.position,n.direction),y.a.normalize(n.direction,n.direction),y.a.clone(y.a.UNIT_Z,n.up)):n=o(this,t);var r,l=i.camera;l.frustum instanceof S.a?r=l.frustum.clone():(r=J,r.aspectRatio=i.drawingBufferWidth/i.drawingBufferHeight,r.fov=A.a.toRadians(60)),n.frustum=r;var u=_(n);a(this,u),s(this,e,n,u)}0===e&&Object(x.a)(this._completeMorph)&&this._completeMorph()}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return r(this),Object(E.a)(this)};var Z=new O.a,K=new y.a,$=new C.a,ee=new y.a,te=new y.a,ie=new y.a,ne=new y.a,ae=new y.a,re=new y.a,oe=new S.a,se=new y.a,ce=new y.a,le=new y.a,ue=new y.a,he=new y.a,de=new y.a,fe=new y.a,pe=new y.a,me=new y.a,ge=new y.a,_e=new y.a,ve=new y.a,be=new j.a,ye=new D.a,Oe=new y.a,we={position:void 0,direction:void 0,up:void 0,frustum:void 0},xe=new O.a,Ee={position:new y.a,direction:new y.a,up:new y.a,position2D:new y.a,direction2D:new y.a,up2D:new y.a,frustum:new j.a},Te={position:new y.a,direction:new y.a,up:new y.a,frustum:void 0},Ae=new y.a,Ce=new D.a,Se=new C.a,je=new y.a;t.a=n},ZjIE:function(e,t,i){"use strict";function n(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e,t,i,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}function r(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function o(e){return e<256?re[e]:re[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function c(e,t,i){e.bi_valid>Y-i?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>Y-e.bi_valid,e.bi_valid+=i-Y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function l(e,t,i){c(e,i[2*t],i[2*t+1])}function u(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function h(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function d(e,t){var i,n,a,r,o,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(r=0;r<=G;r++)e.bl_count[r]=0;for(c[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<W;i++)n=e.heap[i],r=c[2*c[2*n+1]+1]+1,r>p&&(r=p,m++),c[2*n+1]=r,n>l||(e.bl_count[r]++,o=0,n>=f&&(o=d[n-f]),s=c[2*n],e.opt_len+=s*(r+o),h&&(e.static_len+=s*(u[2*n+1]+o)));if(0!==m){do{for(r=p-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(r=p;0!==r;r--)for(n=e.bl_count[r];0!==n;)(a=e.heap[--i])>l||(c[2*a+1]!==r&&(e.opt_len+=(r-c[2*a+1])*c[2*a],c[2*a+1]=r),n--)}}function f(e,t,i){var n,a,r=new Array(G+1),o=0;for(n=1;n<=G;n++)r[n]=o=o+i[n-1]<<1;for(a=0;a<=t;a++){var s=e[2*a+1];0!==s&&(e[2*a]=u(r[s]++,s))}}function p(){var e,t,i,n,r,o=new Array(G+1);for(i=0,n=0;n<k-1;n++)for(se[n]=i,e=0;e<1<<$[n];e++)oe[i++]=n;for(oe[i-1]=n,r=0,n=0;n<16;n++)for(ce[n]=r,e=0;e<1<<ee[n];e++)re[r++]=n;for(r>>=7;n<H;n++)for(ce[n]=r<<7,e=0;e<1<<ee[n]-7;e++)re[256+r++]=n;for(t=0;t<=G;t++)o[t]=0;for(e=0;e<=143;)ne[2*e+1]=8,e++,o[8]++;for(;e<=255;)ne[2*e+1]=9,e++,o[9]++;for(;e<=279;)ne[2*e+1]=7,e++,o[7]++;for(;e<=287;)ne[2*e+1]=8,e++,o[8]++;for(f(ne,V+1,o),e=0;e<H;e++)ae[2*e+1]=5,ae[2*e]=u(e,5);le=new a(ne,$,U+1,V,G),ue=new a(ae,ee,0,H,G),he=new a(new Array(0),te,0,q,X)}function m(e){var t;for(t=0;t<V;t++)e.dyn_ltree[2*t]=0;for(t=0;t<H;t++)e.dyn_dtree[2*t]=0;for(t=0;t<q;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Q]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function _(e,t,i,n){g(e),n&&(s(e,i),s(e,~i)),I.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}function v(e,t,i,n){var a=2*t,r=2*i;return e[a]<e[r]||e[a]===e[r]&&n[t]<=n[i]}function b(e,t,i){for(var n=e.heap[i],a=i<<1;a<=e.heap_len&&(a<e.heap_len&&v(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!v(t,n,e.heap[a],e.depth));)e.heap[i]=e.heap[a],i=a,a<<=1;e.heap[i]=n}function y(e,t,i){var n,a,r,s,u=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],a=e.pending_buf[e.l_buf+u],u++,0===n?l(e,a,t):(r=oe[a],l(e,r+U+1,t),s=$[r],0!==s&&(a-=se[r],c(e,a,s)),n--,r=o(n),l(e,r,i),0!==(s=ee[r])&&(n-=ce[r],c(e,n,s)))}while(u<e.last_lit);l(e,Q,t)}function O(e,t){var i,n,a,r=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=W,i=0;i<c;i++)0!==r[2*i]?(e.heap[++e.heap_len]=l=i,e.depth[i]=0):r[2*i+1]=0;for(;e.heap_len<2;)a=e.heap[++e.heap_len]=l<2?++l:0,r[2*a]=1,e.depth[a]=0,e.opt_len--,s&&(e.static_len-=o[2*a+1]);for(t.max_code=l,i=e.heap_len>>1;i>=1;i--)b(e,r,i);a=c;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],b(e,r,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,r[2*a]=r[2*i]+r[2*n],e.depth[a]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,r[2*i+1]=r[2*n+1]=a,e.heap[1]=a++,b(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],d(e,t),f(r,l,e.bl_count)}function w(e,t,i){var n,a,r=-1,o=t[1],s=0,c=7,l=4;for(0===o&&(c=138,l=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)a=o,o=t[2*(n+1)+1],++s<c&&a===o||(s<l?e.bl_tree[2*a]+=s:0!==a?(a!==r&&e.bl_tree[2*a]++,e.bl_tree[2*J]++):s<=10?e.bl_tree[2*Z]++:e.bl_tree[2*K]++,s=0,r=a,0===o?(c=138,l=3):a===o?(c=6,l=3):(c=7,l=4))}function x(e,t,i){var n,a,r=-1,o=t[1],s=0,u=7,h=4;for(0===o&&(u=138,h=3),n=0;n<=i;n++)if(a=o,o=t[2*(n+1)+1],!(++s<u&&a===o)){if(s<h)do{l(e,a,e.bl_tree)}while(0!=--s);else 0!==a?(a!==r&&(l(e,a,e.bl_tree),s--),l(e,J,e.bl_tree),c(e,s-3,2)):s<=10?(l(e,Z,e.bl_tree),c(e,s-3,3)):(l(e,K,e.bl_tree),c(e,s-11,7));s=0,r=a,0===o?(u=138,h=3):a===o?(u=6,h=3):(u=7,h=4)}}function E(e){var t;for(w(e,e.dyn_ltree,e.l_desc.max_code),w(e,e.dyn_dtree,e.d_desc.max_code),O(e,e.bl_desc),t=q-1;t>=3&&0===e.bl_tree[2*ie[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function T(e,t,i,n){var a;for(c(e,t-257,5),c(e,i-1,5),c(e,n-4,4),a=0;a<n;a++)c(e,e.bl_tree[2*ie[a]+1],3);x(e,e.dyn_ltree,t-1),x(e,e.dyn_dtree,i-1)}function A(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return M;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return L;for(t=32;t<U;t++)if(0!==e.dyn_ltree[2*t])return L;return M}function C(e){de||(p(),de=!0),e.l_desc=new r(e.dyn_ltree,le),e.d_desc=new r(e.dyn_dtree,ue),e.bl_desc=new r(e.bl_tree,he),e.bi_buf=0,e.bi_valid=0,m(e)}function S(e,t,i,n){c(e,(F<<1)+(n?1:0),3),_(e,t,i,!0)}function j(e){c(e,z<<1,3),l(e,Q,ne),h(e)}function P(e,t,i,n){var a,r,o=0;e.level>0?(e.strm.data_type===N&&(e.strm.data_type=A(e)),O(e,e.l_desc),O(e,e.d_desc),o=E(e),a=e.opt_len+3+7>>>3,(r=e.static_len+3+7>>>3)<=a&&(a=r)):a=r=i+5,i+4<=a&&-1!==t?S(e,t,i,n):e.strategy===R||r===a?(c(e,(z<<1)+(n?1:0),3),y(e,ne,ae)):(c(e,(B<<1)+(n?1:0),3),T(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),y(e,e.dyn_ltree,e.dyn_dtree)),m(e),n&&g(e)}function D(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(oe[i]+U+1)]++,e.dyn_dtree[2*o(t)]++),e.last_lit===e.lit_bufsize-1}var I=i("gt5T"),R=4,M=0,L=1,N=2,F=0,z=1,B=2,k=29,U=256,V=U+1+k,H=30,q=19,W=2*V+1,G=15,Y=16,X=7,Q=256,J=16,Z=17,K=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=new Array(2*(V+2));n(ne);var ae=new Array(2*H);n(ae);var re=new Array(512);n(re);var oe=new Array(256);n(oe);var se=new Array(k);n(se);var ce=new Array(H);n(ce);var le,ue,he,de=!1;t._tr_init=C,t._tr_stored_block=S,t._tr_flush_block=P,t._tr_tally=D,t._tr_align=j},ZmAt:function(e,t,i){"use strict";function n(e){e=Object(C.a)(e,C.a.EMPTY_OBJECT),this.modelMatrix=N.a.clone(Object(C.a)(e.modelMatrix,N.a.IDENTITY)),this._modelMatrix=N.a.clone(N.a.IDENTITY),this.debugShowBoundingVolume=Object(C.a)(e.debugShowBoundingVolume,!1),this._opaqueRS=void 0,this._translucentRS=void 0,this._colorCommands=[],this._polylinesUpdated=!1,this._polylinesRemoved=!1,this._createVertexArray=!1,this._propertiesChanged=new Uint32Array(le),this._polylines=[],this._polylineBuckets={},this._positionBufferUsage={bufferUsage:k.a.STATIC_DRAW,frameCount:0},this._mode=void 0,this._polylinesToUpdate=[],this._vertexArrays=[],this._positionBuffer=void 0,this._texCoordExpandAndBatchIndexBuffer=void 0,this._batchTable=void 0,this._createBatchTable=!1,this._useHighlightColor=!1,this._highlightColor=E.a.clone(E.a.WHITE);var t=this;this._uniformMap={u_highlightColor:function(){return t._highlightColor}}}function a(e,t){Object(S.a)(e._batchTable)&&e._batchTable.destroy();var i=[{functionName:"batchTable_getWidthAndShow",componentDatatype:A.a.UNSIGNED_BYTE,componentsPerAttribute:2},{functionName:"batchTable_getPickColor",componentDatatype:A.a.UNSIGNED_BYTE,componentsPerAttribute:4,normalize:!0},{functionName:"batchTable_getCenterHigh",componentDatatype:A.a.FLOAT,componentsPerAttribute:3},{functionName:"batchTable_getCenterLowAndRadius",componentDatatype:A.a.FLOAT,componentsPerAttribute:4},{functionName:"batchTable_getDistanceDisplayCondition",componentDatatype:A.a.FLOAT,componentsPerAttribute:2}];e._batchTable=new K.a(t,i,e._polylines.length)}function r(e,t,i,n){for(var a=t.context,r=t.commandList,o=i.length,s=0,c=!0,u=e._vertexArrays,h=e.debugShowBoundingVolume,d=e._batchTable,f=d.getUniformMapCallback(),p=u.length,m=0;m<p;++m)for(var g=u[m],_=g.buckets,v=_.length,y=0;y<v;++y){for(var O,w,x,E,A=_[y],C=A.offset,j=A.bucket.shaderProgram,P=A.bucket.polylines,D=P.length,I=0,R=0;R<D;++R){var M=P[R],L=l(M._material);if(L!==O){if(Object(S.a)(O)&&I>0){var N=w.isTranslucent();s>=o?(x=new V.a({owner:e}),i.push(x)):x=i[s],++s,E=Object(T.a)(f(w._uniforms),e._uniformMap),x.boundingVolume=b.a.clone(pe,x.boundingVolume),x.modelMatrix=n,x.shaderProgram=j,x.vertexArray=g.va,x.renderState=N?e._translucentRS:e._opaqueRS,x.pass=N?H.a.TRANSLUCENT:H.a.OPAQUE,x.debugShowBoundingVolume=h,x.pickId="v_pickColor",x.uniformMap=E,x.count=I,x.offset=C,C+=I,I=0,c=!0,r.push(x)}w=M._material,w.update(a),O=L}for(var F=M._locatorBuckets,z=F.length,B=0;B<z;++B){var k=F[B];k.locator===A&&(I+=k.count)}var U;t.mode===ie.a.SCENE3D?U=M._boundingVolumeWC:t.mode===ie.a.COLUMBUS_VIEW?U=M._boundingVolume2D:t.mode===ie.a.SCENE2D?Object(S.a)(M._boundingVolume2D)&&(U=b.a.clone(M._boundingVolume2D,me),U.center.x=0):Object(S.a)(M._boundingVolumeWC)&&Object(S.a)(M._boundingVolume2D)&&(U=b.a.union(M._boundingVolumeWC,M._boundingVolume2D,me)),c?(c=!1,b.a.clone(U,pe)):b.a.union(U,pe,pe)}Object(S.a)(O)&&I>0&&(s>=o?(x=new V.a({owner:e}),i.push(x)):x=i[s],++s,E=Object(T.a)(f(w._uniforms),e._uniformMap),x.boundingVolume=b.a.clone(pe,x.boundingVolume),x.modelMatrix=n,x.shaderProgram=j,x.vertexArray=g.va,x.renderState=w.isTranslucent()?e._translucentRS:e._opaqueRS,x.pass=w.isTranslucent()?H.a.TRANSLUCENT:H.a.OPAQUE,x.debugShowBoundingVolume=h,x.pickId="v_pickColor",x.uniformMap=E,x.count=I,x.offset=C,c=!0,r.push(x)),O=void 0}i.length=s}function o(e){var t=!1,i=e._propertiesChanged,n=e._positionBufferUsage;return i[re]?n.bufferUsage!==k.a.STREAM_DRAW?(t=!0,n.bufferUsage=k.a.STREAM_DRAW,n.frameCount=100):n.frameCount=100:n.bufferUsage!==k.a.STATIC_DRAW&&(0===n.frameCount?(t=!0,n.bufferUsage=k.a.STATIC_DRAW):n.frameCount--),t}function s(e,t,i){e._createVertexArray=!1,f(e),p(e),u(e);var n,a,r=[[]],o=r[0],s=e._batchTable,c=e._useHighlightColor,l=[0],h=0,d=[[]],m=0,g=e._polylineBuckets;for(n in g)g.hasOwnProperty(n)&&(a=g[n],a.updateShader(t,s,c),m+=a.lengthOfPositions);if(m>0){var _,v=e._mode,b=new Float32Array(6*m*3),y=new Float32Array(4*m),O=0,w=0,x=0;for(n in g)if(g.hasOwnProperty(n)){a=g[n],a.write(b,y,O,w,x,s,t,i),v===ie.a.MORPHING&&(Object(S.a)(_)||(_=new Float32Array(6*m*3)),a.writeForMorph(_,O));var E=a.lengthOfPositions;O+=6*E*3,w+=4*E,x+=4*E,h=a.updateIndices(r,l,d,h)}var T=e._positionBufferUsage.bufferUsage,C=k.a.STATIC_DRAW;e._positionBuffer=B.a.createVertexBuffer({context:t,typedArray:b,usage:T});var j;Object(S.a)(_)&&(j=B.a.createVertexBuffer({context:t,typedArray:_,usage:T})),e._texCoordExpandAndBatchIndexBuffer=B.a.createVertexBuffer({context:t,typedArray:y,usage:C});for(var P=3*Float32Array.BYTES_PER_ELEMENT,D=4*Float32Array.BYTES_PER_ELEMENT,I=0,M=r.length,N=0;N<M;++N)if(o=r[N],o.length>0){var F=new Uint16Array(o),z=B.a.createIndexBuffer({context:t,typedArray:F,usage:k.a.STATIC_DRAW,indexDatatype:R.a.UNSIGNED_SHORT});I+=l[N];var U,V,H,q,W=6*(N*(P*L.a.SIXTY_FOUR_KILOBYTES)-I*P),G=P+W,Y=P+G,Q=P+Y,J=P+Q,Z=P+J,K=N*(D*L.a.SIXTY_FOUR_KILOBYTES)-I*D,$=[{index:ue.position3DHigh,componentsPerAttribute:3,componentDatatype:A.a.FLOAT,offsetInBytes:W,strideInBytes:6*P},{index:ue.position3DLow,componentsPerAttribute:3,componentDatatype:A.a.FLOAT,offsetInBytes:G,strideInBytes:6*P},{index:ue.position2DHigh,componentsPerAttribute:3,componentDatatype:A.a.FLOAT,offsetInBytes:W,strideInBytes:6*P},{index:ue.position2DLow,componentsPerAttribute:3,componentDatatype:A.a.FLOAT,offsetInBytes:G,strideInBytes:6*P},{index:ue.prevPosition3DHigh,componentsPerAttribute:3,componentDatatype:A.a.FLOAT,offsetInBytes:Y,strideInBytes:6*P},{index:ue.prevPosition3DLow,componentsPerAttribute:3,componentDatatype:A.a.FLOAT,offsetInBytes:Q,strideInBytes:6*P},{index:ue.prevPosition2DHigh,componentsPerAttribute:3,componentDatatype:A.a.FLOAT,offsetInBytes:Y,strideInBytes:6*P},{index:ue.prevPosition2DLow,componentsPerAttribute:3,componentDatatype:A.a.FLOAT,offsetInBytes:Q,strideInBytes:6*P},{index:ue.nextPosition3DHigh,componentsPerAttribute:3,componentDatatype:A.a.FLOAT,offsetInBytes:J,strideInBytes:6*P},{index:ue.nextPosition3DLow,componentsPerAttribute:3,componentDatatype:A.a.FLOAT,offsetInBytes:Z,strideInBytes:6*P},{index:ue.nextPosition2DHigh,componentsPerAttribute:3,componentDatatype:A.a.FLOAT,offsetInBytes:J,strideInBytes:6*P},{index:ue.nextPosition2DLow,componentsPerAttribute:3,componentDatatype:A.a.FLOAT,offsetInBytes:Z,strideInBytes:6*P},{index:ue.texCoordExpandAndBatchIndex,componentsPerAttribute:4,componentDatatype:A.a.FLOAT,vertexBuffer:e._texCoordExpandAndBatchIndexBuffer,offsetInBytes:K}];v===ie.a.SCENE3D?(U=e._positionBuffer,V="vertexBuffer",H=ge,q="value"):v===ie.a.SCENE2D||v===ie.a.COLUMBUS_VIEW?(U=ge,V="value",H=e._positionBuffer,q="vertexBuffer"):(U=j,V="vertexBuffer",H=e._positionBuffer,q="vertexBuffer"),$[0][V]=U,$[1][V]=U,$[2][q]=H,$[3][q]=H,$[4][V]=U,$[5][V]=U,$[6][q]=H,$[7][q]=H,$[8][V]=U,$[9][V]=U,$[10][q]=H,$[11][q]=H;var ee=new X.a({context:t,attributes:$,indexBuffer:z});e._vertexArrays.push({va:ee,buckets:d[N]})}}}function c(e,t){return t instanceof Y.a?t.id:t}function l(e){var t=ee.a._uniformList[e.type],i=t.length;_e.length=2*i;for(var n=0,a=0;a<i;++a){var r=t[a];_e[n]=r,_e[n+1]=e._uniforms[r](),n+=2}return e.type+":"+JSON.stringify(_e,c)}function u(e){for(var t=e._mode,i=e._modelMatrix,n=e._polylineBuckets={},a=e._polylines,r=a.length,o=0;o<r;++o){var s=a[o];if(s._actualPositions.length>1){s.update();var c=s.material,l=n[c.type];Object(S.a)(l)||(l=n[c.type]=new _(c,t,i)),l.addPolyline(s)}}}function h(e,t){var i=t.mode;e._mode===i&&N.a.equals(e._modelMatrix,e.modelMatrix)||(e._mode=i,e._modelMatrix=N.a.clone(e.modelMatrix),e._createVertexArray=!0)}function d(e){if(e._polylinesRemoved){e._polylinesRemoved=!1;for(var t,i=[],n=[],a=0,r=e._polylines.length,o=0;o<r;++o)t=e._polylines[o],t.isDestroyed||(t._index=a++,n.push(t),i.push(t));e._polylines=i,e._polylinesToUpdate=n}}function f(e){for(var t=e._polylines,i=t.length,n=0;n<i;++n)if(!t[n].isDestroyed){var a=t[n]._bucket;Object(S.a)(a)&&(a.shaderProgram=a.shaderProgram&&a.shaderProgram.destroy())}}function p(e){for(var t=e._vertexArrays.length,i=0;i<t;++i)e._vertexArrays[i].va.destroy();e._vertexArrays.length=0}function m(e){for(var t=e._polylines,i=t.length,n=0;n<i;++n)t[n].isDestroyed||t[n]._destroy()}function g(e,t,i){this.count=e,this.offset=t,this.bucket=i}function _(e,t,i){this.polylines=[],this.lengthOfPositions=0,this.material=e,this.shaderProgram=void 0,this.mode=t,this.modelMatrix=i}function v(e){return O.a.dot(O.a.UNIT_X,e._boundingVolume.center)<0||e._boundingVolume.intersectPlane(F.a.ORIGIN_ZX_PLANE)===M.a.INTERSECTING}var b=i("lBr9"),y=i("Ss9j"),O=i("Jj+J"),w=i("PDkd"),x=i("I3GD"),E=i("6F0S"),T=i("ZboF"),A=i("YCZg"),C=i("5A4e"),S=i("xC6Q"),j=i("6sr8"),P=i("PzDm"),D=i("Is4l"),I=i("gjtw"),R=i("oMsT"),M=i("u909"),L=i("fq+p"),N=i("Xjii"),F=i("kRxM"),z=i("V22k"),B=i("tW+E"),k=i("rFKc"),U=i("J1no"),V=i("1mJh"),H=i("M0+0"),q=i("DrvA"),W=i("WUlw"),G=i("x6Ms"),Y=i("25X5"),X=i("+0EW"),Q=i("6fa5"),J=i("/Ufj"),Z=i("xW/D"),K=i("VdXv"),$=i("OtDm"),ee=i("5SZ+"),te=i("fEkY"),ie=i("sotJ"),ne=te.a.SHOW_INDEX,ae=te.a.WIDTH_INDEX,re=te.a.POSITION_INDEX,oe=te.a.MATERIAL_INDEX,se=te.a.POSITION_SIZE_INDEX,ce=te.a.DISTANCE_DISPLAY_CONDITION,le=te.a.NUMBER_OF_PROPERTIES,ue={texCoordExpandAndBatchIndex:0,position3DHigh:1,position3DLow:2,position2DHigh:3,position2DLow:4,prevPosition3DHigh:5,prevPosition3DLow:6,prevPosition2DHigh:7,prevPosition2DLow:8,nextPosition3DHigh:9,nextPosition3DLow:10,nextPosition2DHigh:11,nextPosition2DLow:12};Object.defineProperties(n.prototype,{length:{get:function(){return d(this),this._polylines.length}}}),n.prototype.add=function(e){var t=new te.a(e,this);return t._index=this._polylines.length,this._polylines.push(t),this._createVertexArray=!0,this._createBatchTable=!0,t},n.prototype.remove=function(e){if(this.contains(e)){if(this._polylinesRemoved=!0,this._createVertexArray=!0,this._createBatchTable=!0,Object(S.a)(e._bucket)){var t=e._bucket;t.shaderProgram=t.shaderProgram&&t.shaderProgram.destroy()}return e._destroy(),!0}return!1},n.prototype.removeAll=function(){f(this),m(this),this._polylineBuckets={},this._polylinesRemoved=!1,this._polylines.length=0,this._polylinesToUpdate.length=0,this._createVertexArray=!0},n.prototype.contains=function(e){return Object(S.a)(e)&&e._polylineCollection===this},n.prototype.get=function(e){if(!Object(S.a)(e))throw new P.a("index is required.");return d(this),this._polylines[e]};var he=new D.a,de=new w.a,fe=new y.a;n.prototype.update=function(e){if(d(this),0!==this._polylines.length){h(this,e);var t,i=e.context,n=e.mapProjection,c=this._propertiesChanged;if(this._createBatchTable){if(0===U.a.maximumVertexTextureImageUnits)throw new z.a("Vertex texture fetch support is required to render polylines. The maximum number of vertex texture image units must be greater than zero.");a(this,i),this._createBatchTable=!1}if(this._createVertexArray||o(this))s(this,i,n);else if(this._polylinesUpdated){var l=this._polylinesToUpdate;if(this._mode!==ie.a.SCENE3D)for(var u=l.length,f=0;f<u;++f)t=l[f],t.update();if(c[se]||c[oe])s(this,i,n);else for(var p=l.length,m=this._polylineBuckets,g=0;g<p;++g){t=l[g],c=t._propertiesChanged;var _=t._bucket,v=0;for(var b in m)if(m.hasOwnProperty(b)){if(m[b]===_){c[re]&&_.writeUpdate(v,t,this._positionBuffer,n);break}v+=m[b].lengthOfPositions}if((c[ne]||c[ae])&&this._batchTable.setBatchedAttribute(t._index,0,new y.a(t._width,t._show)),this._batchTable.attributes.length>2){if(c[re]||c[se]){var O=e.mode===ie.a.SCENE2D?t._boundingVolume2D:t._boundingVolumeWC,x=D.a.fromCartesian(O.center,he),E=w.a.fromElements(x.low.x,x.low.y,x.low.z,O.radius,de);this._batchTable.setBatchedAttribute(t._index,2,x.high),this._batchTable.setBatchedAttribute(t._index,3,E)}if(c[ce]){var T=fe;T.x=0,T.y=Number.MAX_VALUE;var A=t.distanceDisplayCondition;Object(S.a)(A)&&(T.x=A.near,T.y=A.far),this._batchTable.setBatchedAttribute(t._index,4,T)}}t._clean()}l.length=0,this._polylinesUpdated=!1}c=this._propertiesChanged;for(var C=0;C<le;++C)c[C]=0;var j=N.a.IDENTITY;e.mode===ie.a.SCENE3D&&(j=this.modelMatrix);var P=e.passes,I=0!==e.morphTime;if(Object(S.a)(this._opaqueRS)&&this._opaqueRS.depthTest.enabled===I||(this._opaqueRS=q.a.fromCache({depthMask:I,depthTest:{enabled:I}})),Object(S.a)(this._translucentRS)&&this._translucentRS.depthTest.enabled===I||(this._translucentRS=q.a.fromCache({blending:$.a.ALPHA_BLEND,depthMask:!I,depthTest:{enabled:I}})),this._batchTable.update(e),P.render||P.pick){r(this,e,this._colorCommands,j)}}};var pe=new b.a,me=new b.a;n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return p(this),f(this),m(this),this._batchTable=this._batchTable&&this._batchTable.destroy(),Object(j.a)(this)};var ge=[0,0,0],_e=[];n.prototype._updatePolyline=function(e,t){this._polylinesUpdated=!0,e._dirty||this._polylinesToUpdate.push(e),++this._propertiesChanged[t]},_.prototype.addPolyline=function(e){this.polylines.push(e),e._actualLength=this.getPolylinePositionsLength(e),this.lengthOfPositions+=e._actualLength,e._bucket=this},_.prototype.updateShader=function(e,t,i){if(!Object(S.a)(this.shaderProgram)){var n=["DISTANCE_DISPLAY_CONDITION"];i&&n.push("VECTOR_TILE"),-1!==this.material.shaderSource.search(/varying\s+float\s+v_polylineAngle;/g)&&n.push("POLYLINE_DASH"),I.a.isInternetExplorer()||n.push("CLIP_POLYLINE");var a=new G.a({defines:n,sources:["varying vec4 v_pickColor;\n",this.material.shaderSource,J.a]}),r=t.getVertexShaderCallback()(Z.a),o=new G.a({defines:n,sources:[Q.a,r]});this.shaderProgram=W.a.fromCache({context:e,vertexShaderSource:o,fragmentShaderSource:a,attributeLocations:ue})}},_.prototype.getPolylinePositionsLength=function(e){var t;if(this.mode===ie.a.SCENE3D||!v(e))return 4*(t=e._actualPositions.length)-4;var i=0,n=e._segments.lengths;t=n.length;for(var a=0;a<t;++a)i+=4*n[a]-4;return i};var ve=new O.a,be=new O.a,ye=new O.a,Oe=new O.a,we=new w.a,xe=new y.a;_.prototype.write=function(e,t,i,n,a,r,o,s){for(var c=this.mode,l=s.ellipsoid.maximumRadius*L.a.PI,u=this.polylines,h=u.length,d=0;d<h;++d){for(var f,p=u[d],m=p.width,g=p.show&&m>0,_=p._index,v=this.getSegments(p,s),b=v.positions,y=v.lengths,x=b.length,T=p.getPickId(o).color,A=0,C=0,j=0;j<x;++j){0===j?p._loop?f=b[x-2]:(f=Oe,O.a.subtract(b[0],b[1],f),O.a.add(b[0],f,f)):f=b[j-1],O.a.clone(f,be),O.a.clone(b[j],ve),j===x-1?p._loop?f=b[1]:(f=Oe,O.a.subtract(b[x-1],b[x-2],f),O.a.add(b[x-1],f,f)):f=b[j+1],O.a.clone(f,ye);var P=y[A];j===C+P&&(C+=P,++A);var I=j-C==0,R=j===C+y[A]-1;c===ie.a.SCENE2D&&(be.z=0,ve.z=0,ye.z=0),c!==ie.a.SCENE2D&&c!==ie.a.MORPHING||(I||R)&&l-Math.abs(ve.x)<1&&((ve.x<0&&be.x>0||ve.x>0&&be.x<0)&&O.a.clone(ve,be),(ve.x<0&&ye.x>0||ve.x>0&&ye.x<0)&&O.a.clone(ve,ye));for(var M=I?2:0,N=R?2:4,F=M;F<N;++F){D.a.writeElements(ve,e,i),D.a.writeElements(be,e,i+6),D.a.writeElements(ye,e,i+12);var z=F-2<0?-1:1;t[a]=j/(x-1),t[a+1]=F%2*2-1,t[a+2]=z,t[a+3]=_,i+=18,a+=4}}var B=we;B.x=E.a.floatToByte(T.red),B.y=E.a.floatToByte(T.green),B.z=E.a.floatToByte(T.blue),B.w=E.a.floatToByte(T.alpha);var k=xe;k.x=m,k.y=g?1:0;var U=c===ie.a.SCENE2D?p._boundingVolume2D:p._boundingVolumeWC,V=D.a.fromCartesian(U.center,he),H=V.high,q=w.a.fromElements(V.low.x,V.low.y,V.low.z,U.radius,de),W=fe;W.x=0,W.y=Number.MAX_VALUE;var G=p.distanceDisplayCondition;Object(S.a)(G)&&(W.x=G.near,W.y=G.far),r.setBatchedAttribute(_,0,k),r.setBatchedAttribute(_,1,B),r.attributes.length>2&&(r.setBatchedAttribute(_,2,H),r.setBatchedAttribute(_,3,q),r.setBatchedAttribute(_,4,W))}};var Ee=new O.a,Te=new O.a,Ae=new O.a,Ce=new O.a;_.prototype.writeForMorph=function(e,t){for(var i=this.modelMatrix,n=this.polylines,a=n.length,r=0;r<a;++r)for(var o=n[r],s=o._segments.positions,c=o._segments.lengths,l=s.length,u=0,h=0,d=0;d<l;++d){var f;0===d?o._loop?f=s[l-2]:(f=Ce,O.a.subtract(s[0],s[1],f),O.a.add(s[0],f,f)):f=s[d-1],f=N.a.multiplyByPoint(i,f,Te);var p,m=N.a.multiplyByPoint(i,s[d],Ee);d===l-1?o._loop?p=s[1]:(p=Ce,O.a.subtract(s[l-1],s[l-2],p),O.a.add(s[l-1],p,p)):p=s[d+1],p=N.a.multiplyByPoint(i,p,Ae);var g=c[u];d===h+g&&(h+=g,++u);for(var _=d-h==0,v=d===h+c[u]-1,b=_?2:0,y=v?2:4,w=b;w<y;++w)D.a.writeElements(m,e,t),D.a.writeElements(f,e,t+6),D.a.writeElements(p,e,t+12),t+=18}};var Se=new Array(1);_.prototype.updateIndices=function(e,t,i,n){var a=i.length-1,r=new g(0,n,this);i[a].push(r);var o=0,s=e[e.length-1],c=0;s.length>0&&(c=s[s.length-1]+1);for(var l=this.polylines,u=l.length,h=0;h<u;++h){var d=l[h];d._locatorBuckets=[];var f;if(this.mode===ie.a.SCENE3D){f=Se;var p=d._actualPositions.length;if(!(p>0))continue;f[0]=p}else f=d._segments.lengths;var m=f.length;if(m>0){for(var _=0,v=0;v<m;++v)for(var b=f[v]-1,y=0;y<b;++y)c+4>L.a.SIXTY_FOUR_KILOBYTES&&(d._locatorBuckets.push({locator:r,count:_}),_=0,t.push(4),s=[],e.push(s),c=0,r.count=o,o=0,n=0,r=new g(0,0,this),i[++a]=[r]),s.push(c,c+2,c+1),s.push(c+1,c+2,c+3),_+=6,o+=6,n+=6,c+=4;d._locatorBuckets.push({locator:r,count:_}),c+4>L.a.SIXTY_FOUR_KILOBYTES&&(t.push(0),s=[],e.push(s),c=0,r.count=o,n=0,o=0,r=new g(0,0,this),i[++a]=[r])}d._clean()}return r.count=o,n},_.prototype.getPolylineStartIndex=function(e){for(var t=this.polylines,i=0,n=t.length,a=0;a<n;++a){var r=t[a];if(r===e)break;i+=r._actualLength}return i};var je={positions:void 0,lengths:void 0},Pe=new Array(1),De=new O.a,Ie=new x.a;_.prototype.getSegments=function(e,t){var i=e._actualPositions;if(this.mode===ie.a.SCENE3D)return Pe[0]=i.length,je.positions=i,je.lengths=Pe,je;v(e)&&(i=e._segments.positions);for(var n,a=t.ellipsoid,r=[],o=this.modelMatrix,s=i.length,c=De,l=0;l<s;++l)n=i[l],c=N.a.multiplyByPoint(o,n,c),r.push(t.project(a.cartesianToCartographic(c,Ie)));if(r.length>0){e._boundingVolume2D=b.a.fromPoints(r,e._boundingVolume2D);var u=e._boundingVolume2D.center;e._boundingVolume2D.center=new O.a(u.z,u.x,u.y)}return je.positions=r,je.lengths=e._segments.lengths,je};var Re;_.prototype.writeUpdate=function(e,t,i,n){var a=this.mode,r=n.ellipsoid.maximumRadius*L.a.PI,o=t._actualLength;if(o){e+=this.getPolylineStartIndex(t);var s=Re,c=6*o*3;!Object(S.a)(s)||s.length<c?s=Re=new Float32Array(c):s.length>c&&(s=new Float32Array(s.buffer,0,c));var l,u=this.getSegments(t,n),h=u.positions,d=u.lengths,f=0,p=0,m=0;o=h.length;for(var g=0;g<o;++g){0===g?t._loop?l=h[o-2]:(l=Oe,O.a.subtract(h[0],h[1],l),O.a.add(h[0],l,l)):l=h[g-1],O.a.clone(l,be),O.a.clone(h[g],ve),g===o-1?t._loop?l=h[1]:(l=Oe,O.a.subtract(h[o-1],h[o-2],l),O.a.add(h[o-1],l,l)):l=h[g+1],O.a.clone(l,ye);var _=d[p];g===m+_&&(m+=_,++p);var v=g-m==0,b=g===m+d[p]-1;a===ie.a.SCENE2D&&(be.z=0,ve.z=0,ye.z=0),a!==ie.a.SCENE2D&&a!==ie.a.MORPHING||(v||b)&&r-Math.abs(ve.x)<1&&((ve.x<0&&be.x>0||ve.x>0&&be.x<0)&&O.a.clone(ve,be),(ve.x<0&&ye.x>0||ve.x>0&&ye.x<0)&&O.a.clone(ve,ye));for(var y=v?2:0,w=b?2:4,x=y;x<w;++x)D.a.writeElements(ve,s,f),D.a.writeElements(be,s,f+6),D.a.writeElements(ye,s,f+12),f+=18}i.copyFromArrayView(s,18*Float32Array.BYTES_PER_ELEMENT*e)}},t.a=n},ZmQD:function(e,t,i){"use strict";function n(e){var t=e.techniques,i={},n={};if(Object(c.a)(t)){var l={programs:[],shaders:[],techniques:[]},u=e.glExtensionsUsed;delete e.glExtensionsUsed,s.a.technique(e,function(t,a){var r,c={name:t.name,program:void 0,attributes:{},uniforms:{}};s.a.techniqueAttribute(t,function(e,i){r=t.parameters[e],c.attributes[i]={semantic:r.semantic}}),s.a.techniqueUniform(t,function(e,n){r=t.parameters[e],c.uniforms[n]={count:r.count,node:r.node,type:r.type,semantic:r.semantic,value:r.value},i[e]=n});var h=e.programs[t.program],d={name:h.name,fragmentShader:void 0,vertexShader:void 0,glExtensions:u},f=e.shaders[h.fragmentShader];d.fragmentShader=Object(o.a)(l.shaders,f,!0);var p=e.shaders[h.vertexShader];d.vertexShader=Object(o.a)(l.shaders,p,!0),c.program=Object(o.a)(l.programs,d),n[a]=Object(o.a)(l.techniques,c)}),l.techniques.length>0&&(Object(c.a)(e.extensions)||(e.extensions={}),e.extensions.KHR_techniques_webgl=l,Object(a.a)(e,"KHR_techniques_webgl"),Object(r.a)(e,"KHR_techniques_webgl"))}return s.a.material(e,function(e){if(Object(c.a)(e.technique)){var t={technique:n[e.technique]};s.a.objectLegacy(e.values,function(e,n){Object(c.a)(t.values)||(t.values={});var a=i[n];t.values[a]=e}),Object(c.a)(e.extensions)||(e.extensions={}),e.extensions.KHR_techniques_webgl=t}delete e.technique,delete e.values}),delete e.techniques,delete e.programs,delete e.shaders,e}var a=i("o/vQ"),r=i("vTeM"),o=i("gjak"),s=i("FJg6"),c=i("xC6Q");t.a=n},Zoe1:function(e,t,i){"use strict";var n=i("7ar3"),a=i("gcUb"),r=i("GybJ"),o=i("xTtY"),s=n("%WeakMap%",!0),c=n("%Map%",!0),l=a("WeakMap.prototype.get",!0),u=a("WeakMap.prototype.set",!0),h=a("WeakMap.prototype.has",!0),d=a("Map.prototype.get",!0),f=a("Map.prototype.set",!0),p=a("Map.prototype.has",!0),m=function(e,t){for(var i,n=e;null!==(i=n.next);n=i)if(i.key===t)return n.next=i.next,i.next=e.next,e.next=i,i},g=function(e,t){var i=m(e,t);return i&&i.value},_=function(e,t,i){var n=m(e,t);n?n.value=i:e.next={key:t,next:e.next,value:i}},v=function(e,t){return!!m(e,t)};e.exports=function(){var e,t,i,n={assert:function(e){if(!n.has(e))throw new o("Side channel does not contain "+r(e))},get:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return l(e,n)}else if(c){if(t)return d(t,n)}else if(i)return g(i,n)},has:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return h(e,n)}else if(c){if(t)return p(t,n)}else if(i)return v(i,n);return!1},set:function(n,a){s&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new s),u(e,n,a)):c?(t||(t=new c),f(t,n,a)):(i||(i={key:{},next:null}),_(i,n,a))}};return n}},ZqVu:function(e,t,i){(function(e){function i(){if(void 0!==r)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){r=null}}else r=null;return r}function n(e){var t=i();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function a(e){return"function"==typeof e}t.fetch=a(e.fetch)&&a(e.ReadableStream),t.writableStream=a(e.WritableStream),t.abortController=a(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var r,o=void 0!==e.ArrayBuffer,s=o&&a(e.ArrayBuffer.prototype.slice);t.arraybuffer=t.fetch||o&&n("arraybuffer"),t.msstream=!t.fetch&&s&&n("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o&&n("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!i()&&a(i().overrideMimeType),t.vbArray=a(e.VBArray),r=null}).call(t,i("DuR2"))},Zraw:function(e,t,i){"use strict";t.a="\nfloat czm_private_shadowVisibility(float visibility, float nDotL, float normalShadingSmooth, float darkness)\n{\n#ifdef USE_NORMAL_SHADING\n#ifdef USE_NORMAL_SHADING_SMOOTH\n    float strength = clamp(nDotL / normalShadingSmooth, 0.0, 1.0);\n#else\n    float strength = step(0.0, nDotL);\n#endif\n    visibility *= strength;\n#endif\n\n    visibility = max(visibility, darkness);\n    return visibility;\n}\n\n#ifdef USE_CUBE_MAP_SHADOW\nfloat czm_shadowVisibility(samplerCube shadowMap, czm_shadowParameters shadowParameters)\n{\n    float depthBias = shadowParameters.depthBias;\n    float depth = shadowParameters.depth;\n    float nDotL = shadowParameters.nDotL;\n    float normalShadingSmooth = shadowParameters.normalShadingSmooth;\n    float darkness = shadowParameters.darkness;\n    vec3 uvw = shadowParameters.texCoords;\n\n    depth -= depthBias;\n    float visibility = czm_shadowDepthCompare(shadowMap, uvw, depth);\n    return czm_private_shadowVisibility(visibility, nDotL, normalShadingSmooth, darkness);\n}\n#else\nfloat czm_shadowVisibility(sampler2D shadowMap, czm_shadowParameters shadowParameters)\n{\n    float depthBias = shadowParameters.depthBias;\n    float depth = shadowParameters.depth;\n    float nDotL = shadowParameters.nDotL;\n    float normalShadingSmooth = shadowParameters.normalShadingSmooth;\n    float darkness = shadowParameters.darkness;\n    vec2 uv = shadowParameters.texCoords;\n\n    depth -= depthBias;\n#ifdef USE_SOFT_SHADOWS\n    vec2 texelStepSize = shadowParameters.texelStepSize;\n    float radius = 1.0;\n    float dx0 = -texelStepSize.x * radius;\n    float dy0 = -texelStepSize.y * radius;\n    float dx1 = texelStepSize.x * radius;\n    float dy1 = texelStepSize.y * radius;\n    float visibility = (\n        czm_shadowDepthCompare(shadowMap, uv, depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, dy0), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(0.0, dy0), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, dy0), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, 0.0), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, 0.0), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, dy1), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(0.0, dy1), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, dy1), depth)\n    ) * (1.0 / 9.0);\n#else\n    float visibility = czm_shadowDepthCompare(shadowMap, uv, depth);\n#endif\n\n    return czm_private_shadowVisibility(visibility, nDotL, normalShadingSmooth, darkness);\n}\n#endif\n"},ZspB:function(e,t,i){"use strict";function n(e,t,i){this._color=e,this._height=t,this._base=Object(a.a)(i,0)}var a=i("5A4e"),r=i("9Uqs");n.prototype.getHeight=function(){return this._height},n.prototype.getBase=function(){return this._base},n.prototype.getStartTime=function(){return this._start},n.prototype.getStopTime=function(){return this._stop},n.prototype.setRange=function(e,t){this._start=e,this._stop=t},n.prototype.render=function(e){var t="";if(this._start&&this._stop&&this._color){var i=r.a.secondsDifference(this._start,e.epochJulian),n=Math.round(e.timeBarWidth*e.getAlpha(i)),a=r.a.secondsDifference(this._stop,e.epochJulian),o=Math.round(e.timeBarWidth*e.getAlpha(a))-n;n<0&&(o+=n,n=0),n+o>e.timeBarWidth&&(o=e.timeBarWidth-n),o>0&&(t='<span class="cesium-timeline-highlight" style="left: '+n.toString()+"px; width: "+o.toString()+"px; bottom: "+this._base.toString()+"px; height: "+this._height+"px; background-color: "+this._color+';"></span>')}return t},t.a=n},Zw1C:function(e,t,i){"use strict";function n(e,t){var i=e._ellipsoid,n=t.height,a=t.width,r=t.northCap,o=t.southCap,s=n,c=2,l=0,h=4;r&&(c-=1,s-=1,l+=1,h-=2),o&&(c-=1,s-=1,l+=1,h-=2),l+=c*a+2*s-h;var d,f=new Float64Array(3*l),p=0,v=0,y=C;if(r)E.a.computePosition(t,i,!1,v,0,y),f[p++]=y.x,f[p++]=y.y,f[p++]=y.z;else for(d=0;d<a;d++)E.a.computePosition(t,i,!1,v,d,y),f[p++]=y.x,f[p++]=y.y,f[p++]=y.z;for(d=a-1,v=1;v<n;v++)E.a.computePosition(t,i,!1,v,d,y),f[p++]=y.x,f[p++]=y.y,f[p++]=y.z;if(v=n-1,!o)for(d=a-2;d>=0;d--)E.a.computePosition(t,i,!1,v,d,y),f[p++]=y.x,f[p++]=y.y,f[p++]=y.z;for(d=0,v=n-2;v>0;v--)E.a.computePosition(t,i,!1,v,d,y),f[p++]=y.x,f[p++]=y.y,f[p++]=y.z;for(var O=f.length/3*2,x=b.a.createTypedArray(f.length/3,O),T=0,A=0;A<f.length/3-1;A++)x[T++]=A,x[T++]=A+1;x[T++]=f.length/3-1,x[T++]=0;var S=new m.a({attributes:new _.a,primitiveType:w.a.LINES});return S.attributes.position=new g.a({componentDatatype:u.a.DOUBLE,componentsPerAttribute:3,values:f}),S.indices=x,S}function a(e,t){var i=e._surfaceHeight,a=e._extrudedHeight,r=e._ellipsoid,o=a,s=i,c=n(e,t),l=t.height,u=t.width,h=O.a.scaleToGeodeticHeight(c.attributes.position.values,s,r,!1),d=h.length,f=new Float64Array(2*d);f.set(h);var p=O.a.scaleToGeodeticHeight(c.attributes.position.values,o,r);f.set(p,d),c.attributes.position.values=f;var m=t.northCap,g=t.southCap,_=4;m&&(_-=1),g&&(_-=1);var v=2*(f.length/3+_),y=b.a.createTypedArray(f.length/3,v);d=f.length/6;for(var w=0,x=0;x<d-1;x++)y[w++]=x,y[w++]=x+1,y[w++]=x+d,y[w++]=x+d+1;y[w++]=d-1,y[w++]=0,y[w++]=d+d-1,y[w++]=d,y[w++]=0,y[w++]=d;var E;if(m)E=l-1;else{var T=u-1;y[w++]=T,y[w++]=T+d,E=u+l-2}if(y[w++]=E,y[w++]=E+d,!g){var A=u+E-1;y[w++]=A,y[w]=A+d}return c.indices=y,c}function r(e){e=Object(h.a)(e,h.a.EMPTY_OBJECT);var t=e.rectangle,i=Object(h.a)(e.granularity,y.a.RADIANS_PER_DEGREE),n=Object(h.a)(e.ellipsoid,p.a.WGS84),a=Object(h.a)(e.rotation,0);if(!Object(d.a)(t))throw new f.a("rectangle is required.");if(x.a.validate(t),t.north<t.south)throw new f.a("options.rectangle.north must be greater than options.rectangle.south");var r=Object(h.a)(e.height,0),o=Object(h.a)(e.extrudedHeight,r);this._rectangle=x.a.clone(t),this._granularity=i,this._ellipsoid=n,this._surfaceHeight=Math.max(r,o),this._rotation=a,this._extrudedHeight=Math.min(r,o),this._offsetAttribute=e.offsetAttribute,this._workerName="createRectangleOutlineGeometry"}var o=i("Sfsp"),s=i("lBr9"),c=i("Jj+J"),l=i("I3GD"),u=i("YCZg"),h=i("5A4e"),d=i("xC6Q"),f=i("PzDm"),p=i("y6fO"),m=i("RGAo"),g=i("RYD3"),_=i("GaJK"),v=i("2g+t"),b=i("oMsT"),y=i("fq+p"),O=i("EDAM"),w=i("nHNe"),x=i("Wq1U"),E=i("0dqR"),T=new s.a,A=new s.a,C=new c.a,S=new x.a;r.packedLength=x.a.packedLength+p.a.packedLength+5,r.pack=function(e,t,i){if(!Object(d.a)(e))throw new f.a("value is required");if(!Object(d.a)(t))throw new f.a("array is required");return i=Object(h.a)(i,0),x.a.pack(e._rectangle,t,i),i+=x.a.packedLength,p.a.pack(e._ellipsoid,t,i),i+=p.a.packedLength,t[i++]=e._granularity,t[i++]=e._surfaceHeight,t[i++]=e._rotation,t[i++]=e._extrudedHeight,t[i]=Object(h.a)(e._offsetAttribute,-1),t};var j=new x.a,P=p.a.clone(p.a.UNIT_SPHERE),D={rectangle:j,ellipsoid:P,granularity:void 0,height:void 0,rotation:void 0,extrudedHeight:void 0,offsetAttribute:void 0};r.unpack=function(e,t,i){if(!Object(d.a)(e))throw new f.a("array is required");t=Object(h.a)(t,0);var n=x.a.unpack(e,t,j);t+=x.a.packedLength;var a=p.a.unpack(e,t,P);t+=p.a.packedLength;var o=e[t++],s=e[t++],c=e[t++],l=e[t++],u=e[t];return Object(d.a)(i)?(i._rectangle=x.a.clone(n,i._rectangle),i._ellipsoid=p.a.clone(a,i._ellipsoid),i._surfaceHeight=s,i._rotation=c,i._extrudedHeight=l,i._offsetAttribute=-1===u?void 0:u,i):(D.granularity=o,D.height=s,D.rotation=c,D.extrudedHeight=l,D.offsetAttribute=-1===u?void 0:u,new r(D))};var I=new l.a;r.createGeometry=function(e){var t,i,r=e._rectangle,c=e._ellipsoid,l=E.a.computeOptions(r,e._granularity,e._rotation,0,S,I);if(!y.a.equalsEpsilon(r.north,r.south,y.a.EPSILON10)&&!y.a.equalsEpsilon(r.east,r.west,y.a.EPSILON10)){var h,f=e._surfaceHeight,p=e._extrudedHeight,_=!y.a.equalsEpsilon(f,p,0,y.a.EPSILON2);if(_){if(t=a(e,l),Object(d.a)(e._offsetAttribute)){var b=t.attributes.position.values.length/3,x=new Uint8Array(b);e._offsetAttribute===v.a.TOP?x=Object(o.a)(x,1,0,b/2):(h=e._offsetAttribute===v.a.NONE?0:1,x=Object(o.a)(x,h)),t.attributes.applyOffset=new g.a({componentDatatype:u.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:x})}var C=s.a.fromRectangle3D(r,c,f,A),j=s.a.fromRectangle3D(r,c,p,T);i=s.a.union(C,j)}else{if(t=n(e,l),t.attributes.position.values=O.a.scaleToGeodeticHeight(t.attributes.position.values,f,c,!1),Object(d.a)(e._offsetAttribute)){var P=t.attributes.position.values.length,D=new Uint8Array(P/3);h=e._offsetAttribute===v.a.NONE?0:1,Object(o.a)(D,h),t.attributes.applyOffset=new g.a({componentDatatype:u.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:D})}i=s.a.fromRectangle3D(r,c,f)}return new m.a({attributes:t.attributes,indices:t.indices,primitiveType:w.a.LINES,boundingSphere:i,offsetAttribute:e._offsetAttribute})}},t.a=r},ZwHA:function(e,t,i){"use strict";function n(e){return function(t){var i=e._scene.pick(t.position);Object(h.a)(i)&&i.primitive instanceof v.a&&(e.tileset=i.primitive),e.pickActive=!1}}function a(e,t){t?e._eventHandler.setInputAction(function(t){var i=e._scene.pick(t.endPosition);Object(h.a)(i)&&i.primitive instanceof v.a&&(e.tileset=i.primitive)},p.a.MOUSE_MOVE):(e._eventHandler.removeInputAction(p.a.MOUSE_MOVE),e.picking=e.picking)}function r(e){var t=e/1048576;return t<1?t.toLocaleString(void 0,w):Math.round(t).toLocaleString()}function o(e,t){if(!Object(h.a)(e))return"";var i=t?e._statisticsPerPass[_.a.PICK]:e._statisticsPerPass[_.a.RENDER],n='<ul class="cesium-cesiumInspector-statistics">';return n+="<li><strong>Visited: </strong>"+i.visited.toLocaleString()+"</li><li><strong>Selected: </strong>"+i.selected.toLocaleString()+"</li><li><strong>Commands: </strong>"+i.numberOfCommands.toLocaleString()+"</li>",n+="</ul>",t||(n+='<ul class="cesium-cesiumInspector-statistics">',n+="<li><strong>Requests: </strong>"+i.numberOfPendingRequests.toLocaleString()+"</li><li><strong>Attempted: </strong>"+i.numberOfAttemptedRequests.toLocaleString()+"</li><li><strong>Processing: </strong>"+i.numberOfTilesProcessing.toLocaleString()+"</li><li><strong>Content Ready: </strong>"+i.numberOfTilesWithContentReady.toLocaleString()+"</li><li><strong>Total: </strong>"+i.numberOfTilesTotal.toLocaleString()+"</li>",n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+="<li><strong>Features Selected: </strong>"+i.numberOfFeaturesSelected.toLocaleString()+"</li><li><strong>Features Loaded: </strong>"+i.numberOfFeaturesLoaded.toLocaleString()+"</li><li><strong>Points Selected: </strong>"+i.numberOfPointsSelected.toLocaleString()+"</li><li><strong>Points Loaded: </strong>"+i.numberOfPointsLoaded.toLocaleString()+"</li><li><strong>Triangles Selected: </strong>"+i.numberOfTrianglesSelected.toLocaleString()+"</li>",n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+="<li><strong>Tiles styled: </strong>"+i.numberOfTilesStyled.toLocaleString()+"</li><li><strong>Features styled: </strong>"+i.numberOfFeaturesStyled.toLocaleString()+"</li>",n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+="<li><strong>Children Union Culled: </strong>"+i.numberOfTilesCulledWithChildrenUnion.toLocaleString()+"</li>",n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+="<li><strong>Geometry Memory (MB): </strong>"+r(i.geometryByteLength)+"</li><li><strong>Texture Memory (MB): </strong>"+r(i.texturesByteLength)+"</li><li><strong>Batch Table Memory (MB): </strong>"+r(i.batchTableByteLength)+"</li>",n+="</ul>"),n}function s(e,t){l.a.typeOf.object("scene",e),l.a.typeOf.object("performanceContainer",t);var i=this,r=e.canvas;this._eventHandler=new f.a(r),this._scene=e,this._performanceContainer=t,this._canvas=r,this._performanceDisplay=new y.a({container:t}),this._statisticsText="",this._pickStatisticsText="",this._editorError="",this.performance=!1,this.showStatistics=!0,this.showPickStatistics=!0,this.inspectorVisible=!0,this.tilesetVisible=!1,this.displayVisible=!1,this.updateVisible=!1,this.loggingVisible=!1,this.styleVisible=!1,this.tileDebugLabelsVisible=!1,this.optimizationVisible=!1,this.styleString="{}",this._tileset=void 0,this._feature=void 0,this._tile=void 0,O.a.track(this,["performance","inspectorVisible","_statisticsText","_pickStatisticsText","_editorError","showPickStatistics","showStatistics","tilesetVisible","displayVisible","updateVisible","loggingVisible","styleVisible","optimizationVisible","tileDebugLabelsVisible","styleString","_feature","_tile"]),this._properties=O.a.observable({}),this.properties=[],O.a.defineProperty(this,"properties",function(){var e=[],t=i._properties();for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e});var o=O.a.observable();O.a.defineProperty(this,"dynamicScreenSpaceError",{get:function(){return o()},set:function(e){o(e),Object(h.a)(i._tileset)&&(i._tileset.dynamicScreenSpaceError=e)}}),this.dynamicScreenSpaceError=!1;var s=O.a.observable();O.a.defineProperty(this,"colorBlendMode",{get:function(){return s()},set:function(e){s(e),Object(h.a)(i._tileset)&&(i._tileset.colorBlendMode=e,i._scene.requestRender())}}),this.colorBlendMode=m.a.HIGHLIGHT;var c=O.a.observable();O.a.defineProperty(this,"picking",{get:function(){return c()},set:function(t){c(t),t?i._eventHandler.setInputAction(function(t){var n=e.pick(t.endPosition);if(n instanceof g.a?(i.feature=n,i.tile=n.content.tile):Object(h.a)(n)&&Object(h.a)(n.content)?(i.feature=void 0,i.tile=n.content.tile):(i.feature=void 0,i.tile=void 0),Object(h.a)(i._tileset)){if(x&&Object(h.a)(n)&&Object(h.a)(n.content)){var a;e.pickPositionSupported&&(a=e.pickPosition(t.endPosition),Object(h.a)(a)&&(i._tileset.debugPickPosition=a)),i._tileset.debugPickedTile=n.content.tile}else i._tileset.debugPickedTile=void 0;i._scene.requestRender()}},p.a.MOUSE_MOVE):(i.feature=void 0,i.tile=void 0,i._eventHandler.removeInputAction(p.a.MOUSE_MOVE))}}),this.picking=!0;var u=O.a.observable();O.a.defineProperty(this,"colorize",{get:function(){return u()},set:function(e){u(e),Object(h.a)(i._tileset)&&(i._tileset.debugColorizeTiles=e,i._scene.requestRender())}}),this.colorize=!1;var d=O.a.observable();O.a.defineProperty(this,"wireframe",{get:function(){return d()},set:function(e){d(e),Object(h.a)(i._tileset)&&(i._tileset.debugWireframe=e,i._scene.requestRender())}}),this.wireframe=!1;var _=O.a.observable();O.a.defineProperty(this,"showBoundingVolumes",{get:function(){return _()},set:function(e){_(e),Object(h.a)(i._tileset)&&(i._tileset.debugShowBoundingVolume=e,i._scene.requestRender())}}),this.showBoundingVolumes=!1;var v=O.a.observable();O.a.defineProperty(this,"showContentBoundingVolumes",{get:function(){return v()},set:function(e){v(e),Object(h.a)(i._tileset)&&(i._tileset.debugShowContentBoundingVolume=e,i._scene.requestRender())}}),this.showContentBoundingVolumes=!1;var b=O.a.observable();O.a.defineProperty(this,"showRequestVolumes",{get:function(){return b()},set:function(e){b(e),Object(h.a)(i._tileset)&&(i._tileset.debugShowViewerRequestVolume=e,i._scene.requestRender())}}),this.showRequestVolumes=!1;var w=O.a.observable();O.a.defineProperty(this,"freezeFrame",{get:function(){return w()},set:function(e){w(e),Object(h.a)(i._tileset)&&(i._tileset.debugFreezeFrame=e,i._scene.debugShowFrustumPlanes=e,i._scene.requestRender())}}),this.freezeFrame=!1;var x=O.a.observable();O.a.defineProperty(this,"showOnlyPickedTileDebugLabel",{get:function(){return x()},set:function(e){x(e),Object(h.a)(i._tileset)&&(i._tileset.debugPickedTileLabelOnly=e,i._scene.requestRender())}}),this.showOnlyPickedTileDebugLabel=!1;var E=O.a.observable();O.a.defineProperty(this,"showGeometricError",{get:function(){return E()},set:function(e){E(e),Object(h.a)(i._tileset)&&(i._tileset.debugShowGeometricError=e,i._scene.requestRender())}}),this.showGeometricError=!1;var T=O.a.observable();O.a.defineProperty(this,"showRenderingStatistics",{get:function(){return T()},set:function(e){T(e),Object(h.a)(i._tileset)&&(i._tileset.debugShowRenderingStatistics=e,i._scene.requestRender())}}),this.showRenderingStatistics=!1;var A=O.a.observable();O.a.defineProperty(this,"showMemoryUsage",{get:function(){return A()},set:function(e){A(e),Object(h.a)(i._tileset)&&(i._tileset.debugShowMemoryUsage=e,i._scene.requestRender())}}),this.showMemoryUsage=!1;var C=O.a.observable();O.a.defineProperty(this,"showUrl",{get:function(){return C()},set:function(e){C(e),Object(h.a)(i._tileset)&&(i._tileset.debugShowUrl=e,i._scene.requestRender())}}),this.showUrl=!1;var S=O.a.observable();O.a.defineProperty(this,"maximumScreenSpaceError",{get:function(){return S()},set:function(e){e=Number(e),isNaN(e)||(S(e),Object(h.a)(i._tileset)&&(i._tileset.maximumScreenSpaceError=e))}}),this.maximumScreenSpaceError=16;var j=O.a.observable();O.a.defineProperty(this,"dynamicScreenSpaceErrorDensity",{get:function(){return j()},set:function(e){e=Number(e),isNaN(e)||(j(e),Object(h.a)(i._tileset)&&(i._tileset.dynamicScreenSpaceErrorDensity=e))}}),this.dynamicScreenSpaceErrorDensity=.00278,this.dynamicScreenSpaceErrorDensitySliderValue=void 0,O.a.defineProperty(this,"dynamicScreenSpaceErrorDensitySliderValue",{get:function(){return Math.pow(j(),1/6)},set:function(e){j(Math.pow(e,6))}});var P=O.a.observable();O.a.defineProperty(this,"dynamicScreenSpaceErrorFactor",{get:function(){return P()},set:function(e){e=Number(e),isNaN(e)||(P(e),Object(h.a)(i._tileset)&&(i._tileset.dynamicScreenSpaceErrorFactor=e))}}),this.dynamicScreenSpaceErrorFactor=4;var D=n(this),I=O.a.observable();O.a.defineProperty(this,"pickActive",{get:function(){return I()},set:function(e){I(e),e?i._eventHandler.setInputAction(D,p.a.LEFT_CLICK):i._eventHandler.removeInputAction(p.a.LEFT_CLICK)}});var R=O.a.observable();O.a.defineProperty(this,"pointCloudShading",{get:function(){return R()},set:function(e){R(e),Object(h.a)(i._tileset)&&(i._tileset.pointCloudShading.attenuation=e)}}),this.pointCloudShading=!1;var M=O.a.observable();O.a.defineProperty(this,"geometricErrorScale",{get:function(){return M()},set:function(e){e=Number(e),isNaN(e)||(M(e),Object(h.a)(i._tileset)&&(i._tileset.pointCloudShading.geometricErrorScale=e))}}),this.geometricErrorScale=1;var L=O.a.observable();O.a.defineProperty(this,"maximumAttenuation",{get:function(){return L()},set:function(e){e=Number(e),isNaN(e)||(L(e),Object(h.a)(i._tileset)&&(i._tileset.pointCloudShading.maximumAttenuation=0===e?void 0:e))}}),this.maximumAttenuation=0;var N=O.a.observable();O.a.defineProperty(this,"baseResolution",{get:function(){return N()},set:function(e){e=Number(e),isNaN(e)||(N(e),Object(h.a)(i._tileset)&&(i._tileset.pointCloudShading.baseResolution=0===e?void 0:e))}}),this.baseResolution=0;var F=O.a.observable();O.a.defineProperty(this,"eyeDomeLighting",{get:function(){return F()},set:function(e){F(e),Object(h.a)(i._tileset)&&(i._tileset.pointCloudShading.eyeDomeLighting=e)}}),this.eyeDomeLighting=!1;var z=O.a.observable();O.a.defineProperty(this,"eyeDomeLightingStrength",{get:function(){return z()},set:function(e){e=Number(e),isNaN(e)||(z(e),Object(h.a)(i._tileset)&&(i._tileset.pointCloudShading.eyeDomeLightingStrength=e))}}),this.eyeDomeLightingStrength=1;var B=O.a.observable();O.a.defineProperty(this,"eyeDomeLightingRadius",{get:function(){return B()},set:function(e){e=Number(e),isNaN(e)||(B(e),Object(h.a)(i._tileset)&&(i._tileset.pointCloudShading.eyeDomeLightingRadius=e))}}),this.eyeDomeLightingRadius=1,this.pickActive=!1;var k=O.a.observable();O.a.defineProperty(this,"skipLevelOfDetail",{get:function(){return k()},set:function(e){k(e),Object(h.a)(i._tileset)&&(i._tileset.skipLevelOfDetail=e)}}),this.skipLevelOfDetail=!0;var U=O.a.observable();O.a.defineProperty(this,"skipScreenSpaceErrorFactor",{get:function(){return U()},set:function(e){e=Number(e),isNaN(e)||(U(e),Object(h.a)(i._tileset)&&(i._tileset.skipScreenSpaceErrorFactor=e))}}),this.skipScreenSpaceErrorFactor=16;var V=O.a.observable();O.a.defineProperty(this,"baseScreenSpaceError",{get:function(){return V()},set:function(e){e=Number(e),isNaN(e)||(V(e),Object(h.a)(i._tileset)&&(i._tileset.baseScreenSpaceError=e))}}),this.baseScreenSpaceError=1024;var H=O.a.observable();O.a.defineProperty(this,"skipLevels",{get:function(){return H()},set:function(e){e=Number(e),isNaN(e)||(H(e),Object(h.a)(i._tileset)&&(i._tileset.skipLevels=e))}}),this.skipLevels=1;var q=O.a.observable();O.a.defineProperty(this,"immediatelyLoadDesiredLevelOfDetail",{get:function(){return q()},set:function(e){q(e),Object(h.a)(i._tileset)&&(i._tileset.immediatelyLoadDesiredLevelOfDetail=e)}}),this.immediatelyLoadDesiredLevelOfDetail=!1;var W=O.a.observable();O.a.defineProperty(this,"loadSiblings",{get:function(){return W()},set:function(e){W(e),Object(h.a)(i._tileset)&&(i._tileset.loadSiblings=e)}}),this.loadSiblings=!1,this._style=void 0,this._shouldStyle=!1,this._definedProperties=["properties","dynamicScreenSpaceError","colorBlendMode","picking","colorize","wireframe","showBoundingVolumes","showContentBoundingVolumes","showRequestVolumes","freezeFrame","maximumScreenSpaceError","dynamicScreenSpaceErrorDensity","baseScreenSpaceError","skipScreenSpaceErrorFactor","skipLevelOfDetail","skipLevels","immediatelyLoadDesiredLevelOfDetail","loadSiblings","dynamicScreenSpaceErrorDensitySliderValue","dynamicScreenSpaceErrorFactor","pickActive","showOnlyPickedTileDebugLabel","showGeometricError","showRenderingStatistics","showMemoryUsage","showUrl","pointCloudShading","geometricErrorScale","maximumAttenuation","baseResolution","eyeDomeLighting","eyeDomeLightingStrength","eyeDomeLightingRadius"],this._removePostRenderEvent=e.postRender.addEventListener(function(){i._update()}),Object(h.a)(this._tileset)||a(this,!0)}function c(e){if(e.featuresLength>0)return!0;var t=e.innerContents;if(Object(h.a)(t)){for(var i=t.length,n=0;n<i;++n)if(!c(t[n]))return!1;return!0}return!1}var l=i("5F4X"),u=i("6F0S"),h=i("xC6Q"),d=i("6sr8"),f=i("UkUD"),p=i("szK2"),m=i("TYbU"),g=i("/Wph"),_=i("2Fo0"),v=i("sRds"),b=i("C5Kx"),y=i("/Yk1"),O=i("PKIF"),w={maximumFractionDigits:3},x=[{text:"Highlight",value:m.a.HIGHLIGHT},{text:"Replace",value:m.a.REPLACE},{text:"Mix",value:m.a.MIX}],E=new u.a(1,1,0,.4),T=new u.a,A=new u.a;Object.defineProperties(s.prototype,{scene:{get:function(){return this._scene}},performanceContainer:{get:function(){return this._performanceContainer}},statisticsText:{get:function(){return this._statisticsText}},pickStatisticsText:{get:function(){return this._pickStatisticsText}},colorBlendModes:{get:function(){return x}},editorError:{get:function(){return this._editorError}},tileset:{get:function(){return this._tileset},set:function(e){if(this._tileset=e,this._style=void 0,this.styleString="{}",this.feature=void 0,this.tile=void 0,Object(h.a)(e)){var t=this;e.readyPromise.then(function(e){t.isDestroyed()||t._properties(e.properties)});for(var i=["colorize","wireframe","showBoundingVolumes","showContentBoundingVolumes","showRequestVolumes","freezeFrame","showOnlyPickedTileDebugLabel","showGeometricError","showRenderingStatistics","showMemoryUsage","showUrl"],n=i.length,r=0;r<n;++r){var s=i[r];this[s]=this[s]}this.maximumScreenSpaceError=e.maximumScreenSpaceError,this.dynamicScreenSpaceError=e.dynamicScreenSpaceError,this.dynamicScreenSpaceErrorDensity=e.dynamicScreenSpaceErrorDensity,this.dynamicScreenSpaceErrorFactor=e.dynamicScreenSpaceErrorFactor,this.colorBlendMode=e.colorBlendMode,this.skipLevelOfDetail=e.skipLevelOfDetail,this.skipScreenSpaceErrorFactor=e.skipScreenSpaceErrorFactor,this.baseScreenSpaceError=e.baseScreenSpaceError,this.skipLevels=e.skipLevels,this.immediatelyLoadDesiredLevelOfDetail=e.immediatelyLoadDesiredLevelOfDetail,this.loadSiblings=e.loadSiblings;var c=e.pointCloudShading;this.pointCloudShading=c.attenuation,this.geometricErrorScale=c.geometricErrorScale,this.maximumAttenuation=c.maximumAttenuation?c.maximumAttenuation:0,this.baseResolution=c.baseResolution?c.baseResolution:0,this.eyeDomeLighting=c.eyeDomeLighting,this.eyeDomeLightingStrength=c.eyeDomeLightingStrength,this.eyeDomeLightingRadius=c.eyeDomeLightingRadius,this._scene.requestRender()}else this._properties({});this._statisticsText=o(e,!1),this._pickStatisticsText=o(e,!0),a(this,!1)}},feature:{get:function(){return this._feature},set:function(e){if(this._feature!==e){var t=this._feature;Object(h.a)(t)&&!t.content.isDestroyed()&&(!this.colorize&&Object(h.a)(this._style)?t.color=Object(h.a)(this._style.color)?this._style.color.evaluateColor(t,T):u.a.WHITE:t.color=A,this._scene.requestRender()),Object(h.a)(e)&&(u.a.clone(e.color,A),e.color=E,this._scene.requestRender()),this._feature=e}}},tile:{get:function(){return this._tile},set:function(e){if(this._tile!==e){var t=this._tile;!Object(h.a)(t)||t.isDestroyed()||c(t.content)||(t.color=A,this._scene.requestRender()),Object(h.a)(e)&&!c(e.content)&&(u.a.clone(e.color,A),e.color=E,this._scene.requestRender()),this._tile=e}}}}),s.prototype.togglePickTileset=function(){this.pickActive=!this.pickActive},s.prototype.toggleInspector=function(){this.inspectorVisible=!this.inspectorVisible},s.prototype.toggleTileset=function(){this.tilesetVisible=!this.tilesetVisible},s.prototype.toggleDisplay=function(){this.displayVisible=!this.displayVisible},s.prototype.toggleUpdate=function(){this.updateVisible=!this.updateVisible},s.prototype.toggleLogging=function(){this.loggingVisible=!this.loggingVisible},s.prototype.toggleStyle=function(){this.styleVisible=!this.styleVisible},s.prototype.toggleTileDebugLabels=function(){this.tileDebugLabelsVisible=!this.tileDebugLabelsVisible},s.prototype.toggleOptimization=function(){this.optimizationVisible=!this.optimizationVisible},s.prototype.trimTilesCache=function(){Object(h.a)(this._tileset)&&this._tileset.trimLoadedTiles()},s.prototype.compileStyle=function(){var e=this._tileset;if(Object(h.a)(e)&&this.styleString!==JSON.stringify(e.style)){this._editorError="";try{0===this.styleString.length&&(this.styleString="{}"),this._style=new b.a(JSON.parse(this.styleString)),this._shouldStyle=!0,this._scene.requestRender()}catch(e){this._editorError=e.toString()}this.feature=this._feature,this.tile=this._tile}},s.prototype.styleEditorKeyPress=function(e,t){if(9===t.keyCode){t.preventDefault();var i,n=t.target,a=n.selectionStart,r=n.selectionEnd,o=r,s=n.value.slice(a,r),c=s.split("\n"),l=c.length;if(t.shiftKey)for(i=0;i<l;++i)" "===c[i][0]&&(" "===c[i][1]?(c[i]=c[i].substr(2),o-=2):(c[i]=c[i].substr(1),o-=1));else for(i=0;i<l;++i)c[i]="  "+c[i],o+=2;var u=c.join("\n");n.value=n.value.slice(0,a)+u+n.value.slice(r),n.selectionStart=a!==r?a:o,n.selectionEnd=o}else!t.ctrlKey||10!==t.keyCode&&13!==t.keyCode||this.compileStyle();return!0},s.prototype._update=function(){var e=this._tileset;if(this.performance&&this._performanceDisplay.update(),Object(h.a)(e)){if(e.isDestroyed())return this.tile=void 0,this.feature=void 0,void(this.tileset=void 0);var t=e.style;this._style!==e.style&&(this._shouldStyle?(e.style=this._style,this._shouldStyle=!1):(this._style=t,this.styleString=JSON.stringify(t.style,null,"  ")))}this.showStatistics&&(this._statisticsText=o(e,!1),this._pickStatisticsText=o(e,!0))},s.prototype.isDestroyed=function(){return!1},s.prototype.destroy=function(){this._eventHandler.destroy(),this._removePostRenderEvent();var e=this;return this._definedProperties.forEach(function(t){O.a.getObservable(e,t).dispose()}),Object(d.a)(this)},s.getStatistics=o,t.a=s},a1IE:function(e,t,i){"use strict";t.a="/**\n * Computes a color from the third order spherical harmonic coefficients and a normalized direction vector.\n * <p>\n * The order of the coefficients is [L00, L1_1, L10, L11, L2_2, L2_1, L20, L21, L22].\n * </p>\n *\n * @name czm_sphericalHarmonics\n * @glslFunction\n *\n * @param {vec3} normal The normalized direction.\n * @param {vec3[9]} coefficients The third order spherical harmonic coefficients.\n * @returns {vec3} The color at the direction.\n *\n * @see https://graphics.stanford.edu/papers/envmap/envmap.pdf\n */\nvec3 czm_sphericalHarmonics(vec3 normal, vec3 coefficients[9])\n{\n    const float c1 = 0.429043;\n    const float c2 = 0.511664;\n    const float c3 = 0.743125;\n    const float c4 = 0.886227;\n    const float c5 = 0.247708;\n\n    vec3 L00 = coefficients[0];\n    vec3 L1_1 = coefficients[1];\n    vec3 L10 = coefficients[2];\n    vec3 L11 = coefficients[3];\n    vec3 L2_2 = coefficients[4];\n    vec3 L2_1 = coefficients[5];\n    vec3 L20 = coefficients[6];\n    vec3 L21 = coefficients[7];\n    vec3 L22 = coefficients[8];\n\n    float x = normal.x;\n    float y = normal.y;\n    float z = normal.z;\n\n    return c1 * L22 * (x * x - y * y) + c3 * L20 * z * z + c4 * L00 - c5 * L20 +\n           2.0 * c1 * (L2_2 * x * y + L21 * x * z + L2_1 * y * z) +\n           2.0 * c2 * (L11 * x + L1_1 * y + L10 * z);\n}\n"},a2Pd:function(e,t,i){"use strict";t.a="uniform sampler2D u_floatTexture;\n\nvoid main()\n{\n    float actual = texture2D(u_floatTexture, vec2(0.5, 0.5)).r;\n    float expected = 123456.0;\n    gl_FragColor = vec4(abs(actual - expected), 0.0, 0.0, 1.0);\n}\n"},aApw:function(e,t,i){"use strict";var n={LEFT_DRAG:0,RIGHT_DRAG:1,MIDDLE_DRAG:2,WHEEL:3,PINCH:4};t.a=Object.freeze(n)},aKd4:function(e,t,i){"use strict";var n={LEFT:-1,NONE:0,RIGHT:1};t.a=Object.freeze(n)},aLyO:function(e,t,i){"use strict";t.a="varying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvarying vec4 v_color;\n\nvoid main()\n{\n    vec3 positionToEyeEC = -v_positionEC;\n\n    vec3 normalEC = normalize(v_normalEC);\n#ifdef FACE_FORWARD\n    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n#endif\n\n    vec4 color = czm_gammaCorrect(v_color);\n\n    czm_materialInput materialInput;\n    materialInput.normalEC = normalEC;\n    materialInput.positionToEyeEC = positionToEyeEC;\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    material.diffuse = color.rgb;\n    material.alpha = color.a;\n\n    gl_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n}\n"},aMfN:function(e,t,i){"use strict";t.a="/**\n * The radius of the WGS84 ellipsoid.\n *\n * @name czm_ellipsoidRadii\n * @glslConstant\n */\nconst vec3 czm_ellipsoidRadii = vec3(6378137.0, 6378137.0, 6356752.314245);\n"},aN6r:function(e,t,i){"use strict";function n(){}var a=i("PzDm");n.prototype.evaluate=function(e,t){a.a.throwInstantiationError()},n.prototype.evaluateColor=function(e,t){a.a.throwInstantiationError()},n.prototype.getShaderFunction=function(e,t,i,n){a.a.throwInstantiationError()}},abEu:function(e,t,i){"use strict";t.a="/**\n * @private\n */\nvec4 czm_getWaterNoise(sampler2D normalMap, vec2 uv, float time, float angleInRadians)\n{\n    float cosAngle = cos(angleInRadians);\n    float sinAngle = sin(angleInRadians);\n\n    // time dependent sampling directions\n    vec2 s0 = vec2(1.0/17.0, 0.0);\n    vec2 s1 = vec2(-1.0/29.0, 0.0);\n    vec2 s2 = vec2(1.0/101.0, 1.0/59.0);\n    vec2 s3 = vec2(-1.0/109.0, -1.0/57.0);\n\n    // rotate sampling direction by specified angle\n    s0 = vec2((cosAngle * s0.x) - (sinAngle * s0.y), (sinAngle * s0.x) + (cosAngle * s0.y));\n    s1 = vec2((cosAngle * s1.x) - (sinAngle * s1.y), (sinAngle * s1.x) + (cosAngle * s1.y));\n    s2 = vec2((cosAngle * s2.x) - (sinAngle * s2.y), (sinAngle * s2.x) + (cosAngle * s2.y));\n    s3 = vec2((cosAngle * s3.x) - (sinAngle * s3.y), (sinAngle * s3.x) + (cosAngle * s3.y));\n\n    vec2 uv0 = (uv/103.0) + (time * s0);\n    vec2 uv1 = uv/107.0 + (time * s1) + vec2(0.23);\n    vec2 uv2 = uv/vec2(897.0, 983.0) + (time * s2) + vec2(0.51);\n    vec2 uv3 = uv/vec2(991.0, 877.0) + (time * s3) + vec2(0.71);\n\n    uv0 = fract(uv0);\n    uv1 = fract(uv1);\n    uv2 = fract(uv2);\n    uv3 = fract(uv3);\n    vec4 noise = (texture2D(normalMap, uv0)) +\n                 (texture2D(normalMap, uv1)) +\n                 (texture2D(normalMap, uv2)) +\n                 (texture2D(normalMap, uv3));\n\n    // average and scale to between -1 and 1\n    return ((noise / 4.0) - 0.5) * 2.0;\n}\n"},ainS:function(e,t,i){"use strict";function n(e,t){this._tileset=e,this._tile=t,this.featurePropertiesDirty=!1}var a=i("6sr8");Object.defineProperties(n.prototype,{featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){}},readyPromise:{get:function(){}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){}},batchTable:{get:function(){}}}),n.prototype.hasProperty=function(e,t){return!1},n.prototype.getFeature=function(e){},n.prototype.applyDebugSettings=function(e,t){},n.prototype.applyStyle=function(e){},n.prototype.update=function(e,t){},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return Object(a.a)(this)},t.a=n},apxI:function(e,t,i){"use strict";function n(e,t,i){if(!Object(m.a)(e))throw new g.a("type is required.");if(this.type=e,!Object(m.a)(t))if("json"===e)t="application/json";else if("xml"===e)t="text/xml";else if("html"===e)t="text/html";else{if("text"!==e)throw new g.a('format is required when type is not "json", "xml", "html", or "text".');t="text/plain"}if(this.format=t,!Object(m.a)(i))if("json"===e)i=a;else if("xml"===e)i=r;else if("html"===e)i=f;else{if("text"!==e)throw new g.a('callback is required when type is not "json", "xml", "html", or "text".');i=f}this.callback=i}function a(e){for(var t=[],i=e.features,n=0;n<i.length;++n){var a=i[n],r=new v.a;if(r.data=a,r.properties=a.properties,r.configureNameFromProperties(a.properties),r.configureDescriptionFromProperties(a.properties),Object(m.a)(a.geometry)&&"Point"===a.geometry.type){var o=a.geometry.coordinates[0],s=a.geometry.coordinates[1];r.position=p.a.fromDegrees(o,s)}t.push(r)}return t}function r(e){var t=e.documentElement;if("MultiFeatureCollection"===t.localName&&t.namespaceURI===b)return o(e);if("FeatureInfoResponse"===t.localName&&t.namespaceURI===y)return s(e);if("FeatureCollection"===t.localName&&t.namespaceURI===O)return c(e);if("ServiceExceptionReport"===t.localName)throw new _.a((new XMLSerializer).serializeToString(t));return"msGMLOutput"===t.localName?l(e):d(e)}function o(e){for(var t=[],i=e.documentElement,n=i.getElementsByTagNameNS(b,"Feature"),a=0;a<n.length;++a){for(var r=n[a],o={},s=r.getElementsByTagNameNS(b,"Val"),c=0;c<s.length;++c){var l=s[c];if(l.hasAttribute("ref")){var u=l.getAttribute("ref"),h=l.textContent.trim();o[u]=h}}var d=new v.a;d.data=r,d.properties=o,d.configureNameFromProperties(o),d.configureDescriptionFromProperties(o),t.push(d)}return t}function s(e){var t,i=e.documentElement,n=[],a=i.getElementsByTagNameNS("*","FIELDS");if(a.length>0)for(var r=0;r<a.length;++r){var o=a[r];t={};for(var s=o.attributes,c=0;c<s.length;++c){var l=s[c];t[l.name]=l.value}n.push(h(o,t))}else for(var u=i.getElementsByTagNameNS("*","FeatureInfo"),d=0;d<u.length;++d){var f=u[d];t={};for(var p=f.childNodes,m=0;m<p.length;++m){var g=p[m];g.nodeType===Node.ELEMENT_NODE&&(t[g.localName]=g.textContent)}n.push(h(f,t))}return n}function c(e){for(var t=[],i=e.documentElement,n=i.getElementsByTagNameNS(w,"featureMember"),a=0;a<n.length;++a){var r=n[a],o={};u(r,o),t.push(h(r,o))}return t}function l(e){for(var t,i=[],n=e.documentElement.childNodes,a=0;a<n.length;a++)if(n[a].nodeType===Node.ELEMENT_NODE){t=n[a];break}if(!Object(m.a)(t))throw new _.a("Unable to find first child of the feature info xml document");for(var r=t.childNodes,o=0;o<r.length;++o){var s=r[o];if(s.nodeType===Node.ELEMENT_NODE){var c={};u(s,c),i.push(h(s,c))}}return i}function u(e,t){for(var i=!0,n=0;n<e.childNodes.length;++n){var a=e.childNodes[n];a.nodeType===Node.ELEMENT_NODE&&(i=!1),"Point"!==a.localName&&"LineString"!==a.localName&&"Polygon"!==a.localName&&"boundedBy"!==a.localName&&(a.hasChildNodes()&&u(a,t)&&(t[a.localName]=a.textContent))}return i}function h(e,t){var i=new v.a;return i.data=e,i.properties=t,i.configureNameFromProperties(t),i.configureDescriptionFromProperties(t),i}function d(e){var t=(new XMLSerializer).serializeToString(e),i=document.createElement("div"),n=document.createElement("pre");n.textContent=t,i.appendChild(n);var a=new v.a;return a.data=e,a.description=i.innerHTML,[a]}function f(e){if(!x.test(e)&&!E.test(e)){var t,i=T.exec(e);i&&i.length>1&&(t=i[1]);var n=new v.a;return n.name=t,n.description=e,n.data=e,[n]}}var p=i("I3GD"),m=i("xC6Q"),g=i("PzDm"),_=i("V22k"),v=i("ePuJ"),b="http://www.mapinfo.com/mxp",y="http://www.esri.com/wms",O="http://www.opengis.net/wfs",w="http://www.opengis.net/gml",x=/<body>\s*<\/body>/im,E=/<ServiceExceptionReport([\s\S]*)<\/ServiceExceptionReport>/im,T=/<title>([\s\S]*)<\/title>/im;t.a=n},ax3d:function(e,t,i){var n=i("e8AB")("keys"),a=i("3Eo+");e.exports=function(e){return n[e]||(n[e]=a(e))}},"b/a4":function(e,t,i){"use strict";t.a="attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec4 color;\nattribute float batchId;\n\nvarying vec4 v_color;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_color = color;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n"},b49P:function(e,t,i){"use strict";function n(e){this._positions=e.positions,this._batchTable=e.batchTable,this._batchIds=e.batchIds,this._rectangle=e.rectangle,this._minHeight=e.minimumHeight,this._maxHeight=e.maximumHeight,this._billboardCollection=void 0,this._labelCollection=void 0,this._polylineCollection=void 0,this._verticesPromise=void 0,this._packedBuffer=void 0,this._ready=!1,this._readyPromise=v.a.defer(),this._resolvedPromise=!1}function a(e,t){var i=e._rectangle,n=e._minHeight,a=e._maxHeight,r=2+g.a.packedLength+p.a.packedLength,o=new Float64Array(r),s=0;return o[s++]=n,o[s++]=a,g.a.pack(i,o,s),s+=g.a.packedLength,p.a.pack(t,o,s),o}function r(e,t){if(!Object(h.a)(e._billboardCollection)){var i;if(!Object(h.a)(e._verticesPromise)){i=e._positions;var n=e._packedBuffer;Object(h.a)(n)||(i=e._positions=Object(s.a)(i),e._batchIds=Object(s.a)(e._batchIds),n=e._packedBuffer=a(e,t));var r=[i.buffer,n.buffer],o={positions:i.buffer,packedBuffer:n.buffer},c=e._verticesPromise=A.scheduleTask(o,r);if(!Object(h.a)(c))return;c.then(function(t){e._positions=new Float64Array(t.positions),e._ready=!0})}if(e._ready&&!Object(h.a)(e._billboardCollection)){i=e._positions;var u=e._batchTable,d=e._batchIds,f=e._billboardCollection=new b.a({batchTable:u}),p=e._labelCollection=new w.a({batchTable:u}),m=e._polylineCollection=new E.a;m._useHighlightColor=!0;for(var g=i.length/3,_=0;_<g;++_){var v=d[_],y=l.a.unpack(i,3*_,C),O=f.add();O.position=y,O._batchIndex=v;var x=p.add();x.text=" ",x.position=y,x._batchIndex=v;m.add().positions=[l.a.clone(y),l.a.clone(y)]}e._positions=void 0,e._packedBuffer=void 0}}}function o(e,t){for(var i=e._batchIds,n=i.length,a=0;a<n;++a){var r=i[a],o=t[r];o.show=!0,o.pointSize=y.a.defaultPointSize,o.color=y.a.defaultColor,o.pointOutlineColor=y.a.defaultPointOutlineColor,o.pointOutlineWidth=y.a.defaultPointOutlineWidth,o.labelColor=u.a.WHITE,o.labelOutlineColor=u.a.WHITE,o.labelOutlineWidth=1,o.font="30px sans-serif",o.labelStyle=x.a.FILL,o.labelText=void 0,o.backgroundColor=new u.a(.165,.165,.165,.8),o.backgroundPadding=new c.a(7,5),o.backgroundEnabled=!1,o.scaleByDistance=void 0,o.translucencyByDistance=void 0,o.distanceDisplayCondition=void 0,o.heightOffset=0,o.anchorLineEnabled=!1,o.anchorLineColor=u.a.WHITE,o.image=void 0,o.disableDepthTestDistance=0,o.horizontalOrigin=O.a.CENTER,o.verticalOrigin=T.a.CENTER,o.labelHorizontalOrigin=O.a.RIGHT,o.labelVerticalOrigin=T.a.BASELINE}}var s=i("Xku3"),c=i("Ss9j"),l=i("Jj+J"),u=i("6F0S"),h=i("xC6Q"),d=i("6sr8"),f=i("2d28"),p=i("y6fO"),m=i("UkIP"),g=i("Wq1U"),_=i("JlUm"),v=i("S7OP"),b=i("Hwbb"),y=i("W55+"),O=i("EwVK"),w=i("UdIQ"),x=i("RyAG"),E=i("ZmAt"),T=i("H5bb");Object.defineProperties(n.prototype,{pointsLength:{get:function(){return this._billboardCollection.length}},texturesByteLength:{get:function(){return this._billboardCollection.textureAtlas.texture.sizeInBytes+this._labelCollection._textureAtlas.texture.sizeInBytes}},readyPromise:{get:function(){return this._readyPromise.promise}}});var A=new _.a("createVectorTilePoints"),C=new l.a;n.prototype.createFeatures=function(e,t){for(var i=this._billboardCollection,n=this._labelCollection,a=this._polylineCollection,r=this._batchIds,o=r.length,s=0;s<o;++s){var c=r[s],l=i.get(s),u=n.get(s),h=a.get(s);t[c]=new y.a(e,c,l,u,h)}},n.prototype.applyDebugSettings=function(e,t){e?(u.a.clone(t,this._billboardCollection._highlightColor),u.a.clone(t,this._labelCollection._highlightColor),u.a.clone(t,this._polylineCollection._highlightColor)):(u.a.clone(u.a.WHITE,this._billboardCollection._highlightColor),u.a.clone(u.a.WHITE,this._labelCollection._highlightColor),u.a.clone(u.a.WHITE,this._polylineCollection._highlightColor))};var S=new u.a,j=new u.a,P=new u.a,D=new u.a,I=new u.a,R=new u.a,M=new m.a,L=new m.a,N=new f.a;n.prototype.applyStyle=function(e,t){if(!Object(h.a)(e))return void o(this,t);for(var i=this._batchIds,n=i.length,a=0;a<n;++a){var r=i[a],s=t[r];if(Object(h.a)(e.show)&&(s.show=e.show.evaluate(s)),Object(h.a)(e.pointSize)&&(s.pointSize=e.pointSize.evaluate(s)),Object(h.a)(e.color)&&(s.color=e.color.evaluateColor(s,S)),Object(h.a)(e.pointOutlineColor)&&(s.pointOutlineColor=e.pointOutlineColor.evaluateColor(s,j)),Object(h.a)(e.pointOutlineWidth)&&(s.pointOutlineWidth=e.pointOutlineWidth.evaluate(s)),Object(h.a)(e.labelColor)&&(s.labelColor=e.labelColor.evaluateColor(s,P)),Object(h.a)(e.labelOutlineColor)&&(s.labelOutlineColor=e.labelOutlineColor.evaluateColor(s,D)),Object(h.a)(e.labelOutlineWidth)&&(s.labelOutlineWidth=e.labelOutlineWidth.evaluate(s)),Object(h.a)(e.font)&&(s.font=e.font.evaluate(s)),Object(h.a)(e.labelStyle)&&(s.labelStyle=e.labelStyle.evaluate(s)),Object(h.a)(e.labelText)?s.labelText=e.labelText.evaluate(s):s.labelText=void 0,Object(h.a)(e.backgroundColor)&&(s.backgroundColor=e.backgroundColor.evaluateColor(s,I)),Object(h.a)(e.backgroundPadding)&&(s.backgroundPadding=e.backgroundPadding.evaluate(s)),Object(h.a)(e.backgroundEnabled)&&(s.backgroundEnabled=e.backgroundEnabled.evaluate(s)),Object(h.a)(e.scaleByDistance)){var c=e.scaleByDistance.evaluate(s);M.near=c.x,M.nearValue=c.y,M.far=c.z,M.farValue=c.w,s.scaleByDistance=M}else s.scaleByDistance=void 0;if(Object(h.a)(e.translucencyByDistance)){var l=e.translucencyByDistance.evaluate(s);L.near=l.x,L.nearValue=l.y,L.far=l.z,L.farValue=l.w,s.translucencyByDistance=L}else s.translucencyByDistance=void 0;if(Object(h.a)(e.distanceDisplayCondition)){var u=e.distanceDisplayCondition.evaluate(s);N.near=u.x,N.far=u.y,s.distanceDisplayCondition=N}else s.distanceDisplayCondition=void 0;Object(h.a)(e.heightOffset)&&(s.heightOffset=e.heightOffset.evaluate(s)),Object(h.a)(e.anchorLineEnabled)&&(s.anchorLineEnabled=e.anchorLineEnabled.evaluate(s)),Object(h.a)(e.anchorLineColor)&&(s.anchorLineColor=e.anchorLineColor.evaluateColor(s,R)),Object(h.a)(e.image)?s.image=e.image.evaluate(s):s.image=void 0,Object(h.a)(e.disableDepthTestDistance)&&(s.disableDepthTestDistance=e.disableDepthTestDistance.evaluate(s)),Object(h.a)(e.horizontalOrigin)&&(s.horizontalOrigin=e.horizontalOrigin.evaluate(s)),Object(h.a)(e.verticalOrigin)&&(s.verticalOrigin=e.verticalOrigin.evaluate(s)),Object(h.a)(e.labelHorizontalOrigin)&&(s.labelHorizontalOrigin=e.labelHorizontalOrigin.evaluate(s)),Object(h.a)(e.labelVerticalOrigin)&&(s.labelVerticalOrigin=e.labelVerticalOrigin.evaluate(s))}},n.prototype.update=function(e){r(this,e.mapProjection.ellipsoid),this._ready&&(this._polylineCollection.update(e),this._billboardCollection.update(e),this._labelCollection.update(e),this._resolvedPromise||(this._readyPromise.resolve(),this._resolvedPromise=!0))},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._billboardCollection=this._billboardCollection&&this._billboardCollection.destroy(),this._labelCollection=this._labelCollection&&this._labelCollection.destroy(),this._polylineCollection=this._polylineCollection&&this._polylineCollection.destroy(),Object(d.a)(this)},t.a=n},bA2o:function(e,t,i){"use strict";t.a="// emulated noperspective\n#ifndef LOG_DEPTH\nvarying float v_WindowZ;\n#endif\n\n/**\n * Clamps a vertex to the far plane.\n *\n * @name czm_depthClampFarPlane\n * @glslFunction\n *\n * @param {vec4} coords The vertex in clip coordinates.\n * @returns {vec4} The vertex clipped to the far plane.\n *\n * @example\n * gl_Position = czm_depthClampFarPlane(czm_modelViewProjection * vec4(position, 1.0));\n *\n * @see czm_writeDepthClampedToFarPlane\n */\nvec4 czm_depthClampFarPlane(vec4 coords)\n{\n#ifndef LOG_DEPTH\n    v_WindowZ = (0.5 * (coords.z / coords.w) + 0.5) * coords.w;\n    coords.z = min(coords.z, coords.w);\n#endif\n    return coords;\n}\n"},bCEy:function(e,t,i){"use strict";/* Copyright 2015-2018 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */
var n={};!function(){var e=function(){var e={};e.defaultNoDataValue=-3.4027999387901484e38,e.decode=function(r,o){o=o||{};var s=o.encodedMaskData||null===o.encodedMaskData,c=a(r,o.inputOffset||0,s),l=null!==o.noDataValue?o.noDataValue:e.defaultNoDataValue,u=t(c,o.pixelType||Float32Array,o.encodedMaskData,l,o.returnMask),h={width:c.width,height:c.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:c.pixels.maxValue,noDataValue:l};return u.resultMask&&(h.maskData=u.resultMask),o.returnEncodedMask&&c.mask&&(h.encodedMaskData=c.mask.bitset?c.mask.bitset:null),o.returnFileInfo&&(h.fileInfo=i(c),o.computeUsedBitDepths&&(h.fileInfo.bitDepths=n(c))),h};var t=function(e,t,i,n,a){var o,s=0,c=e.pixels.numBlocksX,l=e.pixels.numBlocksY,u=Math.floor(e.width/c),h=Math.floor(e.height/l),d=2*e.maxZError,f=Number.MAX_VALUE;i=i||(e.mask?e.mask.bitset:null);var p,m;p=new t(e.width*e.height),a&&i&&(m=new Uint8Array(e.width*e.height));for(var g,_,v=new Float32Array(u*h),b=0;b<=l;b++){var y=b!==l?h:e.height%l;if(0!==y)for(var O=0;O<=c;O++){var w=O!==c?u:e.width%c;if(0!==w){var x,E,T,A=b*e.width*h+O*u,C=e.width-w,S=e.pixels.blocks[s];S.encoding<2?(0===S.encoding?x=S.rawData:(r(S.stuffedData,S.bitsPerPixel,S.numValidPixels,S.offset,d,v,e.pixels.maxValue),x=v),E=0):T=2===S.encoding?0:S.offset;var j;if(i)for(_=0;_<y;_++){for(7&A&&(j=i[A>>3],j<<=7&A),g=0;g<w;g++)7&A||(j=i[A>>3]),128&j?(m&&(m[A]=1),o=S.encoding<2?x[E++]:T,f=f>o?o:f,p[A++]=o):(m&&(m[A]=0),p[A++]=n),j<<=1;A+=C}else if(S.encoding<2)for(_=0;_<y;_++){for(g=0;g<w;g++)o=x[E++],f=f>o?o:f,p[A++]=o;A+=C}else for(f=f>T?T:f,_=0;_<y;_++){for(g=0;g<w;g++)p[A++]=T;A+=C}if(1===S.encoding&&E!==S.numValidPixels)throw"Block and Mask do not match";s++}}}return{resultPixels:p,resultMask:m,minValue:f}},i=function(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n=function(e){for(var t=e.pixels.numBlocksX*e.pixels.numBlocksY,i={},n=0;n<t;n++){var a=e.pixels.blocks[n];0===a.encoding?i.float32=!0:1===a.encoding?i[a.bitsPerPixel]=!0:i[0]=!0}return Object.keys(i)},a=function(e,t,i){var n={},a=new Uint8Array(e,t,10);if(n.fileIdentifierString=String.fromCharCode.apply(null,a),"CntZImage"!==n.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+=10;var r=new DataView(e,t,24);if(n.fileVersion=r.getInt32(0,!0),n.imageType=r.getInt32(4,!0),n.height=r.getUint32(8,!0),n.width=r.getUint32(12,!0),n.maxZError=r.getFloat64(16,!0),t+=24,!i)if(r=new DataView(e,t,16),n.mask={},n.mask.numBlocksY=r.getUint32(0,!0),n.mask.numBlocksX=r.getUint32(4,!0),n.mask.numBytes=r.getUint32(8,!0),n.mask.maxValue=r.getFloat32(12,!0),t+=16,n.mask.numBytes>0){var o=new Uint8Array(Math.ceil(n.width*n.height/8));r=new DataView(e,t,n.mask.numBytes);var s=r.getInt16(0,!0),c=2,l=0;do{if(s>0)for(;s--;)o[l++]=r.getUint8(c++);else{var u=r.getUint8(c++);for(s=-s;s--;)o[l++]=u}s=r.getInt16(c,!0),c+=2}while(c<n.mask.numBytes);if(-32768!==s||l<o.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset=o,t+=n.mask.numBytes}else 0==(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)&&(n.mask.bitset=new Uint8Array(Math.ceil(n.width*n.height/8)));r=new DataView(e,t,16),n.pixels={},n.pixels.numBlocksY=r.getUint32(0,!0),n.pixels.numBlocksX=r.getUint32(4,!0),n.pixels.numBytes=r.getUint32(8,!0),n.pixels.maxValue=r.getFloat32(12,!0),t+=16;var h=n.pixels.numBlocksX,d=n.pixels.numBlocksY,f=h+(n.width%h>0?1:0),p=d+(n.height%d>0?1:0);n.pixels.blocks=new Array(f*p);for(var m=0,g=0;g<p;g++)for(var _=0;_<f;_++){var v=0,b=e.byteLength-t;r=new DataView(e,t,Math.min(10,b));var y={};n.pixels.blocks[m++]=y;var O=r.getUint8(0);if(v++,y.encoding=63&O,y.encoding>3)throw"Invalid block encoding ("+y.encoding+")";if(2!==y.encoding){if(0!==O&&2!==O){if(O>>=6,y.offsetType=O,2===O)y.offset=r.getInt8(1),v++;else if(1===O)y.offset=r.getInt16(1,!0),v+=2;else{if(0!==O)throw"Invalid block offset type";y.offset=r.getFloat32(1,!0),v+=4}if(1===y.encoding)if(O=r.getUint8(v),v++,y.bitsPerPixel=63&O,O>>=6,y.numValidPixelsType=O,2===O)y.numValidPixels=r.getUint8(v),v++;else if(1===O)y.numValidPixels=r.getUint16(v,!0),v+=2;else{if(0!==O)throw"Invalid valid pixel count type";y.numValidPixels=r.getUint32(v,!0),v+=4}}if(t+=v,3!==y.encoding){var w,x;if(0===y.encoding){var E=(n.pixels.numBytes-1)/4;if(E!==Math.floor(E))throw"uncompressed block has invalid length";w=new ArrayBuffer(4*E),x=new Uint8Array(w),x.set(new Uint8Array(e,t,4*E));var T=new Float32Array(w);y.rawData=T,t+=4*E}else if(1===y.encoding){var A=Math.ceil(y.numValidPixels*y.bitsPerPixel/8),C=Math.ceil(A/4);w=new ArrayBuffer(4*C),x=new Uint8Array(w),x.set(new Uint8Array(e,t,A)),y.stuffedData=new Uint32Array(w),t+=A}}}else t++}return n.eofOffset=t,n},r=function(e,t,i,n,a,r,o){var s,c,l,u=(1<<t)-1,h=0,d=0,f=Math.ceil((o-n)/a),p=4*e.length-Math.ceil(t*i/8);for(e[e.length-1]<<=8*p,s=0;s<i;s++){if(0===d&&(l=e[h++],d=32),d>=t)c=l>>>d-t&u,d-=t;else{var m=t-d;c=(l&u)<<m&u,l=e[h++],d=32-m,c+=l>>>d}r[s]=c<f?n+c*a:o}return r};return e}(),t=function(){var e={unstuff:function(e,t,i,n,a,r,o,s){var c,l,u,h,d,f=(1<<i)-1,p=0,m=0,g=4*e.length-Math.ceil(i*n/8);if(e[e.length-1]<<=8*g,a)for(c=0;c<n;c++)0===m&&(u=e[p++],m=32),m>=i?(l=u>>>m-i&f,m-=i):(h=i-m,l=(u&f)<<h&f,u=e[p++],m=32-h,l+=u>>>m),t[c]=a[l];else for(d=Math.ceil((s-r)/o),c=0;c<n;c++)0===m&&(u=e[p++],m=32),m>=i?(l=u>>>m-i&f,m-=i):(h=i-m,l=(u&f)<<h&f,u=e[p++],m=32-h,l+=u>>>m),t[c]=l<d?r+l*o:s},unstuffLUT:function(e,t,i,n,a,r){var o,s=(1<<t)-1,c=0,l=0,u=0,h=0,d=0,f=[],p=4*e.length-Math.ceil(t*i/8);e[e.length-1]<<=8*p;var m=Math.ceil((r-n)/a);for(l=0;l<i;l++)0===h&&(o=e[c++],h=32),h>=t?(d=o>>>h-t&s,h-=t):(u=t-h,d=(o&s)<<u&s,o=e[c++],h=32-u,d+=o>>>h),f[l]=d<m?n+d*a:r;return f.unshift(n),f},unstuff2:function(e,t,i,n,a,r,o,s){var c,l,u,h,d=(1<<i)-1,f=0,p=0,m=0;if(a)for(c=0;c<n;c++)0===p&&(u=e[f++],p=32,m=0),p>=i?(l=u>>>m&d,p-=i,m+=i):(h=i-p,l=u>>>m&d,u=e[f++],p=32-h,l|=(u&(1<<h)-1)<<i-h,m=h),t[c]=a[l];else{var g=Math.ceil((s-r)/o);for(c=0;c<n;c++)0===p&&(u=e[f++],p=32,m=0),p>=i?(l=u>>>m&d,p-=i,m+=i):(h=i-p,l=u>>>m&d,u=e[f++],p=32-h,l|=(u&(1<<h)-1)<<i-h,m=h),t[c]=l<g?r+l*o:s}return t},unstuffLUT2:function(e,t,i,n,a,r){var o,s=(1<<t)-1,c=0,l=0,u=0,h=0,d=0,f=0,p=[],m=Math.ceil((r-n)/a);for(l=0;l<i;l++)0===h&&(o=e[c++],h=32,f=0),h>=t?(d=o>>>f&s,h-=t,f+=t):(u=t-h,d=o>>>f&s,o=e[c++],h=32-u,d|=(o&(1<<u)-1)<<t-u,f=u),p[l]=d<m?n+d*a:r;return p.unshift(n),p},originalUnstuff:function(e,t,i,n){var a,r,o,s,c=(1<<i)-1,l=0,u=0,h=4*e.length-Math.ceil(i*n/8);for(e[e.length-1]<<=8*h,a=0;a<n;a++)0===u&&(o=e[l++],u=32),u>=i?(r=o>>>u-i&c,u-=i):(s=i-u,r=(o&c)<<s&c,o=e[l++],u=32-s,r+=o>>>u),t[a]=r;return t},originalUnstuff2:function(e,t,i,n){var a,r,o,s,c=(1<<i)-1,l=0,u=0,h=0;for(a=0;a<n;a++)0===u&&(o=e[l++],u=32,h=0),u>=i?(r=o>>>h&c,u-=i,h+=i):(s=i-u,r=o>>>h&c,o=e[l++],u=32-s,r|=(o&(1<<s)-1)<<i-s,h=s),t[a]=r;return t}},t={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t=65535,i=65535,n=e.length,a=Math.floor(n/2),r=0;a;){var o=a>=359?359:a;a-=o;do{t+=e[r++]<<8,i+=t+=e[r++]}while(--o);t=(65535&t)+(t>>>16),i=(65535&i)+(i>>>16)}return 1&n&&(i+=t+=e[r]<<8),t=(65535&t)+(t>>>16),((i=(65535&i)+(i>>>16))<<16|t)>>>0},readHeaderInfo:function(e,t){var i=t.ptr,n=new Uint8Array(e,i,6),a={};if(a.fileIdentifierString=String.fromCharCode.apply(null,n),0!==a.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+a.fileIdentifierString;i+=6;var r=new DataView(e,i,8),o=r.getInt32(0,!0);a.fileVersion=o,i+=4,o>=3&&(a.checksum=r.getUint32(4,!0),i+=4),r=new DataView(e,i,12),a.height=r.getUint32(0,!0),a.width=r.getUint32(4,!0),i+=8,o>=4?(a.numDims=r.getUint32(8,!0),i+=4):a.numDims=1,r=new DataView(e,i,40),a.numValidPixel=r.getUint32(0,!0),a.microBlockSize=r.getInt32(4,!0),a.blobSize=r.getInt32(8,!0),a.imageType=r.getInt32(12,!0),a.maxZError=r.getFloat64(16,!0),a.zMin=r.getFloat64(24,!0),a.zMax=r.getFloat64(32,!0),i+=40,t.headerInfo=a,t.ptr=i;var s;if(o>=3&&(s=o>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,i-s,a.blobSize-14))!==a.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var i=t.headerInfo,n=this.getDataTypeArray(i.imageType),a=i.numDims*this.getDataTypeSize(i.imageType),r=this.readSubArray(e,t.ptr,n,a),o=this.readSubArray(e,t.ptr+a,n,a);t.ptr+=2*a;var s,c=!0;for(s=0;s<i.numDims;s++)if(r[s]!==o[s]){c=!1;break}return i.minValues=r,i.maxValues=o,c},readSubArray:function(e,t,i,n){var a;if(i===Uint8Array)a=new Uint8Array(e,t,n);else{var r=new ArrayBuffer(n);new Uint8Array(r).set(new Uint8Array(e,t,n)),a=new i(r)}return a},readMask:function(e,t){var i=t.ptr,n=t.headerInfo,a=n.width*n.height,r=n.numValidPixel,o=new DataView(e,i,4),s={};if(s.numBytes=o.getUint32(0,!0),i+=4,(0===r||a===r)&&0!==s.numBytes)throw"invalid mask";var c,l;if(0===r)c=new Uint8Array(Math.ceil(a/8)),s.bitset=c,l=new Uint8Array(a),t.pixels.resultMask=l,i+=s.numBytes;else if(s.numBytes>0){c=new Uint8Array(Math.ceil(a/8)),o=new DataView(e,i,s.numBytes);var u=o.getInt16(0,!0),h=2,d=0,f=0;do{if(u>0)for(;u--;)c[d++]=o.getUint8(h++);else for(f=o.getUint8(h++),u=-u;u--;)c[d++]=f;u=o.getInt16(h,!0),h+=2}while(h<s.numBytes);if(-32768!==u||d<c.length)throw"Unexpected end of mask RLE encoding";l=new Uint8Array(a);var p=0,m=0;for(m=0;m<a;m++)7&m?(p=c[m>>3],p<<=7&m):p=c[m>>3],128&p&&(l[m]=1);t.pixels.resultMask=l,s.bitset=c,i+=s.numBytes}return t.ptr=i,t.mask=s,!0},readDataOneSweep:function(e,i,n){var a,r=i.ptr,o=i.headerInfo,s=o.numDims,c=o.width*o.height,l=o.imageType,u=o.numValidPixel*t.getDataTypeSize(l)*s,h=i.pixels.resultMask;if(n===Uint8Array)a=new Uint8Array(e,r,u);else{var d=new ArrayBuffer(u);new Uint8Array(d).set(new Uint8Array(e,r,u)),a=new n(d)}if(a.length===c*s)i.pixels.resultPixels=a;else{i.pixels.resultPixels=new n(c*s);var f=0,p=0,m=0,g=0;if(s>1)for(m=0;m<s;m++)for(g=m*c,p=0;p<c;p++)h[p]&&(i.pixels.resultPixels[g+p]=a[f++]);else for(p=0;p<c;p++)h[p]&&(i.pixels.resultPixels[p]=a[f++])}return r+=u,i.ptr=r,!0},readHuffmanTree:function(e,n){var a=this.HUFFMAN_LUT_BITS_MAX,r=new DataView(e,n.ptr,16);if(n.ptr+=16,r.getInt32(0,!0)<2)throw"unsupported Huffman version";var o=r.getInt32(4,!0),s=r.getInt32(8,!0),c=r.getInt32(12,!0);if(s>=c)return!1;var l=new Uint32Array(c-s);t.decodeBits(e,n,l);var u,h,d,f,p=[];for(u=s;u<c;u++)h=u-(u<o?0:o),p[h]={first:l[u-s],second:null};var m=e.byteLength-n.ptr,g=Math.ceil(m/4),_=new ArrayBuffer(4*g);new Uint8Array(_).set(new Uint8Array(e,n.ptr,m));var v,b=new Uint32Array(_),y=0,O=0;for(v=b[0],u=s;u<c;u++)h=u-(u<o?0:o),(f=p[h].first)>0&&(p[h].second=v<<y>>>32-f,32-y>=f?32===(y+=f)&&(y=0,O++,v=b[O]):(y+=f-32,O++,v=b[O],p[h].second|=v>>>32-y));var w=0,x=0,E=new i;for(u=0;u<p.length;u++)void 0!==p[u]&&(w=Math.max(w,p[u].first));x=w>=a?a:w,w>=30&&console.log("WARning, large NUM LUT BITS IS "+w);var T,A,C,S,j,P,D=[];for(u=s;u<c;u++)if(h=u-(u<o?0:o),(f=p[h].first)>0)if(T=[f,h],f<=x)for(A=p[h].second<<x-f,C=1<<x-f,d=0;d<C;d++)D[A|d]=T;else for(A=p[h].second,P=E,S=f-1;S>=0;S--)j=A>>>S&1,j?(P.right||(P.right=new i),P=P.right):(P.left||(P.left=new i),P=P.left),0!==S||P.val||(P.val=T[1]);return{decodeLut:D,numBitsLUTQick:x,numBitsLUT:w,tree:E,stuffedData:b,srcPtr:O,bitPos:y}},readHuffman:function(e,t,i){var n,a,r,o,s,c,l,u,h,d,f=t.headerInfo,p=f.numDims,m=t.headerInfo.height,g=t.headerInfo.width,_=g*m,v=this.readHuffmanTree(e,t),b=v.decodeLut,y=v.tree,O=v.stuffedData,w=v.srcPtr,x=v.bitPos,E=v.numBitsLUTQick,T=v.numBitsLUT,A=0===t.headerInfo.imageType?128:0,C=t.pixels.resultMask,S=0;x>0&&(w++,x=0);var j,P=O[w],D=1===t.encodeMode,I=new i(_*p),R=I;for(j=0;j<f.numDims;j++){if(p>1&&(R=new i(I.buffer,_*j,_),S=0),t.headerInfo.numValidPixel===g*m)for(h=0,l=0;l<m;l++)for(u=0;u<g;u++,h++){if(a=0,o=P<<x>>>32-E,s=o,32-x<E&&(o|=O[w+1]>>>64-x-E,s=o),b[s])a=b[s][1],x+=b[s][0];else for(o=P<<x>>>32-T,s=o,32-x<T&&(o|=O[w+1]>>>64-x-T,s=o),n=y,d=0;d<T;d++)if(c=o>>>T-d-1&1,n=c?n.right:n.left,!n.left&&!n.right){a=n.val,x=x+d+1;break}x>=32&&(x-=32,w++,P=O[w]),r=a-A,D?(r+=u>0?S:l>0?R[h-g]:S,r&=255,R[h]=r,S=r):R[h]=r}else for(h=0,l=0;l<m;l++)for(u=0;u<g;u++,h++)if(C[h]){if(a=0,o=P<<x>>>32-E,s=o,32-x<E&&(o|=O[w+1]>>>64-x-E,s=o),b[s])a=b[s][1],x+=b[s][0];else for(o=P<<x>>>32-T,s=o,32-x<T&&(o|=O[w+1]>>>64-x-T,s=o),n=y,d=0;d<T;d++)if(c=o>>>T-d-1&1,n=c?n.right:n.left,!n.left&&!n.right){a=n.val,x=x+d+1;break}x>=32&&(x-=32,w++,P=O[w]),r=a-A,D?(u>0&&C[h-1]?r+=S:l>0&&C[h-g]?r+=R[h-g]:r+=S,r&=255,R[h]=r,S=r):R[h]=r}t.ptr=t.ptr+4*(w+1)+(x>0?4:0)}t.pixels.resultPixels=I},decodeBits:function(t,i,n,a,r){var o=i.headerInfo,s=o.fileVersion,c=0,l=t.byteLength-i.ptr>=5?5:t.byteLength-i.ptr,u=new DataView(t,i.ptr,l),h=u.getUint8(0);c++;var d=h>>6,f=0===d?4:3-d,p=(32&h)>0,m=31&h,g=0;if(1===f)g=u.getUint8(c),c++;else if(2===f)g=u.getUint16(c,!0),c+=2;else{if(4!==f)throw"Invalid valid pixel count type";g=u.getUint32(c,!0),c+=4}var _,v,b,y,O,w,x,E,T,A=2*o.maxZError,C=o.numDims>1?o.maxValues[r]:o.zMax;if(p){for(i.counter.lut++,E=u.getUint8(c),m,c++,y=Math.ceil((E-1)*m/8),O=Math.ceil(y/4),v=new ArrayBuffer(4*O),b=new Uint8Array(v),i.ptr+=c,b.set(new Uint8Array(t,i.ptr,y)),x=new Uint32Array(v),i.ptr+=y,T=0;E-1>>>T;)T++;y=Math.ceil(g*T/8),O=Math.ceil(y/4),v=new ArrayBuffer(4*O),b=new Uint8Array(v),b.set(new Uint8Array(t,i.ptr,y)),_=new Uint32Array(v),i.ptr+=y,w=s>=3?e.unstuffLUT2(x,m,E-1,a,A,C):e.unstuffLUT(x,m,E-1,a,A,C),s>=3?e.unstuff2(_,n,T,g,w):e.unstuff(_,n,T,g,w)}else i.counter.bitstuffer++,T=m,i.ptr+=c,T>0&&(y=Math.ceil(g*T/8),O=Math.ceil(y/4),v=new ArrayBuffer(4*O),b=new Uint8Array(v),b.set(new Uint8Array(t,i.ptr,y)),_=new Uint32Array(v),i.ptr+=y,s>=3?null===a?e.originalUnstuff2(_,n,T,g):e.unstuff2(_,n,T,g,!1,a,A,C):null===a?e.originalUnstuff(_,n,T,g):e.unstuff(_,n,T,g,!1,a,A,C))},readTiles:function(e,i,n){var a=i.headerInfo,r=a.width,o=a.height,s=a.microBlockSize,c=a.imageType,l=t.getDataTypeSize(c),u=Math.ceil(r/s),h=Math.ceil(o/s);i.pixels.numBlocksY=h,i.pixels.numBlocksX=u,i.pixels.ptr=0;var d,f,p,m,g,_,v,b,y,O=0,w=0,x=0,E=0,T=0,A=0,C=0,S=0,j=0,P=0,D=0,I=0,R=0,M=0,L=0,N=new n(s*s),F=o%s||s,z=r%s||s,B=a.numDims,k=i.pixels.resultMask,U=i.pixels.resultPixels;for(x=0;x<h;x++)for(T=x!==h-1?s:F,E=0;E<u;E++)for(A=E!==u-1?s:z,P=x*r*s+E*s,D=r-A,y=0;y<B;y++){if(B>1&&(U=new n(i.pixels.resultPixels.buffer,r*o*y*l,r*o)),C=e.byteLength-i.ptr,d=new DataView(e,i.ptr,Math.min(10,C)),f={},L=0,S=d.getUint8(0),L++,j=S>>6&255,(S>>2&15)!==(E*s>>3&15))throw"integrity issue";if((_=3&S)>3)throw i.ptr+=L,"Invalid block encoding ("+_+")";if(2!==_)if(0===_){if(i.counter.uncompressed++,i.ptr+=L,I=T*A*l,R=e.byteLength-i.ptr,I=I<R?I:R,p=new ArrayBuffer(I%l==0?I:I+l-I%l),m=new Uint8Array(p),m.set(new Uint8Array(e,i.ptr,I)),g=new n(p),M=0,k)for(O=0;O<T;O++){for(w=0;w<A;w++)k[P]&&(U[P]=g[M++]),P++;P+=D}else for(O=0;O<T;O++){for(w=0;w<A;w++)U[P++]=g[M++];P+=D}i.ptr+=M*l}else if(v=t.getDataTypeUsed(c,j),b=t.getOnePixel(f,L,v,d),L+=t.getDataTypeSize(v),3===_)if(i.ptr+=L,i.counter.constantoffset++,k)for(O=0;O<T;O++){for(w=0;w<A;w++)k[P]&&(U[P]=b),P++;P+=D}else for(O=0;O<T;O++){for(w=0;w<A;w++)U[P++]=b;P+=D}else if(i.ptr+=L,t.decodeBits(e,i,N,b,y),L=0,k)for(O=0;O<T;O++){for(w=0;w<A;w++)k[P]&&(U[P]=N[L++]),P++;P+=D}else for(O=0;O<T;O++){for(w=0;w<A;w++)U[P++]=N[L++];P+=D}else i.counter.constant++,i.ptr+=L}},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:t.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e){var t=e.headerInfo.zMax,i=e.headerInfo.numDims,n=e.headerInfo.height*e.headerInfo.width,a=n*i,r=0,o=0,s=0,c=e.pixels.resultMask;if(c)if(i>1)for(r=0;r<i;r++)for(s=r*n,o=0;o<n;o++)c[o]&&(e.pixels.resultPixels[s+o]=t);else for(o=0;o<n;o++)c[o]&&(e.pixels.resultPixels[o]=t);else if(e.pixels.resultPixels.fill)e.pixels.resultPixels.fill(t);else for(o=0;o<a;o++)e.pixels.resultPixels[o]=t},getDataTypeArray:function(e){var t;switch(e){case 0:t=Int8Array;break;case 1:t=Uint8Array;break;case 2:t=Int16Array;break;case 3:t=Uint16Array;break;case 4:t=Int32Array;break;case 5:t=Uint32Array;break;case 6:t=Float32Array;break;case 7:t=Float64Array;break;default:t=Float32Array}return t},getPixelType:function(e){var t;switch(e){case 0:t="S8";break;case 1:t="U8";break;case 2:t="S16";break;case 3:t="U16";break;case 4:t="S32";break;case 5:t="U32";break;case 6:t="F32";break;case 7:t="F64";break;default:t="F32"}return t},isValidPixelValue:function(e,t){if(null===t)return!1;var i;switch(e){case 0:i=t>=-128&&t<=127;break;case 1:i=t>=0&&t<=255;break;case 2:i=t>=-32768&&t<=32767;break;case 3:i=t>=0&&t<=65536;break;case 4:i=t>=-2147483648&&t<=2147483647;break;case 5:i=t>=0&&t<=4294967296;break;case 6:i=t>=-3.4027999387901484e38&&t<=3.4027999387901484e38;break;case 7:i=t>=5e-324&&t<=1.7976931348623157e308;break;default:i=!1}return i},getDataTypeSize:function(e){var t=0;switch(e){case 0:case 1:t=1;break;case 2:case 3:t=2;break;case 4:case 5:case 6:t=4;break;case 7:t=8;break;default:t=e}return t},getDataTypeUsed:function(e,t){var i=e;switch(e){case 2:case 4:i=e-t;break;case 3:case 5:i=e-2*t;break;case 6:i=0===t?e:1===t?2:1;break;case 7:i=0===t?e:e-2*t+1;break;default:i=e}return i},getOnePixel:function(e,t,i,n){var a=0;switch(i){case 0:a=n.getInt8(t);break;case 1:a=n.getUint8(t);break;case 2:a=n.getInt16(t,!0);break;case 3:a=n.getUint16(t,!0);break;case 4:a=n.getInt32(t,!0);break;case 5:a=n.getUInt32(t,!0);break;case 6:a=n.getFloat32(t,!0);break;case 7:a=n.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return a}},i=function(e,t,i){this.val=e,this.left=t,this.right=i};return{decode:function(e,i){i=i||{};var n=i.noDataValue,a=0,r={};if(r.ptr=i.inputOffset||0,r.pixels={},t.readHeaderInfo(e,r)){var o=r.headerInfo,s=o.fileVersion,c=t.getDataTypeArray(o.imageType);t.readMask(e,r),o.numValidPixel===o.width*o.height||r.pixels.resultMask||(r.pixels.resultMask=i.maskData);var l=o.width*o.height;if(r.pixels.resultPixels=new c(l*o.numDims),r.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0},0!==o.numValidPixel)if(o.zMax===o.zMin)t.constructConstantSurface(r);else if(s>=4&&t.checkMinMaxRanges(e,r))t.constructConstantSurface(r);else{var u=new DataView(e,r.ptr,2),h=u.getUint8(0);if(r.ptr++,h)t.readDataOneSweep(e,r,c);else if(s>1&&o.imageType<=1&&Math.abs(o.maxZError-.5)<1e-5){var d=u.getUint8(1);if(r.ptr++,r.encodeMode=d,d>2||s<4&&d>1)throw"Invalid Huffman flag "+d;d?t.readHuffman(e,r,c):t.readTiles(e,r,c)}else t.readTiles(e,r,c)}r.eofOffset=r.ptr;var f;i.inputOffset?(f=r.headerInfo.blobSize+i.inputOffset-r.ptr,Math.abs(f)>=1&&(r.eofOffset=i.inputOffset+r.headerInfo.blobSize)):(f=r.headerInfo.blobSize-r.ptr,Math.abs(f)>=1&&(r.eofOffset=r.headerInfo.blobSize));var p={width:o.width,height:o.height,pixelData:r.pixels.resultPixels,minValue:o.zMin,maxValue:o.zMax,validPixelCount:o.numValidPixel,dimCount:o.numDims,dimStats:{minValues:o.minValues,maxValues:o.maxValues},maskData:r.pixels.resultMask};if(r.pixels.resultMask&&t.isValidPixelValue(o.imageType,n)){var m=r.pixels.resultMask;for(a=0;a<l;a++)m[a]||(p.pixelData[a]=n);p.noDataValue=n}return r.noDataValue=n,i.returnFileInfo&&(p.fileInfo=t.formatFileInfo(r)),p}},getBandCount:function(e){var i=0,n=0,a={};for(a.ptr=0,a.pixels={};n<e.byteLength-58;)t.readHeaderInfo(e,a),n+=a.headerInfo.blobSize,i++,a.ptr=n;return i}}}(),i=function(){var e=new ArrayBuffer(4),t=new Uint8Array(e);return new Uint32Array(e)[0]=1,1===t[0]}(),a={decode:function(n,a){if(!i)throw"Big endian system is not supported.";a=a||{};var r,o,s=a.inputOffset||0,c=new Uint8Array(n,s,10),l=String.fromCharCode.apply(null,c);if("CntZImage"===l.trim())r=e,o=1;else{if("Lerc2"!==l.substring(0,5))throw"Unexpected file identifier string: "+l;r=t,o=2}for(var u,h,d,f=0,p=n.byteLength-10,m=[],g={width:0,height:0,pixels:[],pixelType:a.pixelType,mask:null,statistics:[]};s<p;){var _=r.decode(n,{inputOffset:s,encodedMaskData:u,maskData:d,returnMask:0===f,returnEncodedMask:0===f,returnFileInfo:!0,pixelType:a.pixelType||null,noDataValue:a.noDataValue||null});s=_.fileInfo.eofOffset,0===f&&(u=_.encodedMaskData,d=_.maskData,g.width=_.width,g.height=_.height,g.dimCount=_.dimCount||1,g.pixelType=_.pixelType||_.fileInfo.pixelType,g.mask=_.maskData),o>1&&_.fileInfo.mask&&_.fileInfo.mask.numBytes>0&&m.push(_.maskData),f++,g.pixels.push(_.pixelData),g.statistics.push({minValue:_.minValue,maxValue:_.maxValue,noDataValue:_.noDataValue,dimStats:_.dimStats})}var v,b,y;if(o>1&&m.length>1){for(y=g.width*g.height,g.bandMasks=m,d=new Uint8Array(y),d.set(m[0]),v=1;v<m.length;v++)for(h=m[v],b=0;b<y;b++)d[b]=d[b]&h[b];g.maskData=d}return g}};n.Lerc=a}();n.Lerc},bDe7:function(e,t,i){"use strict";t.a="/**\n * Converts a CIE Yxy color to RGB.\n * <p>The conversion is described in\n * {@link http://content.gpwiki.org/index.php/D3DBook:High-Dynamic_Range_Rendering#Luminance_Transform|Luminance Transform}\n * </p>\n * \n * @name czm_XYZToRGB\n * @glslFunction\n * \n * @param {vec3} Yxy The color in CIE Yxy.\n *\n * @returns {vec3} The color in RGB.\n *\n * @example\n * vec3 xyz = czm_RGBToXYZ(rgb);\n * xyz.x = max(xyz.x - luminanceThreshold, 0.0);\n * rgb = czm_XYZToRGB(xyz);\n */\nvec3 czm_XYZToRGB(vec3 Yxy)\n{\n    const mat3 XYZ2RGB = mat3( 3.2405, -0.9693,  0.0556,\n                              -1.5371,  1.8760, -0.2040,\n                              -0.4985,  0.0416,  1.0572);\n    vec3 xyz;\n    xyz.r = Yxy.r * Yxy.g / Yxy.b;\n    xyz.g = Yxy.r;\n    xyz.b = Yxy.r * (1.0 - Yxy.g - Yxy.b) / Yxy.b;\n    \n    return XYZ2RGB * xyz;\n}\n"},bL1c:function(e,t,i){"use strict";t.a="uniform vec4 color;\nuniform vec4 rimColor;\nuniform float width;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    // See http://www.fundza.com/rman_shaders/surface/fake_rim/fake_rim1.html\n    float d = 1.0 - dot(materialInput.normalEC, normalize(materialInput.positionToEyeEC));\n    float s = smoothstep(1.0 - width, 1.0, d);\n\n    vec4 outColor = czm_gammaCorrect(color);\n    vec4 outRimColor = czm_gammaCorrect(rimColor);\n\n    material.diffuse = outColor.rgb;\n    material.emission = outRimColor.rgb * s;\n    material.alpha = mix(outColor.a, outRimColor.a, s);\n\n    return material;\n}\n"},bOmZ:function(e,t,i){"use strict";function n(){this._framebuffer=void 0,this._colorTexture=void 0,this._drawCommand=void 0}function a(e,t){var i=e._framebuffer,n=t.createViewportQuadCommand(v.a,{framebuffer:i,renderState:d.a.fromCache({viewport:new o.a(0,0,256,256)})});e._drawCommand=n}function r(e,t){var i=new p.a({context:t,width:256,height:256,pixelFormat:l.a.RGBA,pixelDatatype:h.a.UNSIGNED_BYTE,sampler:new f.a({wrapS:_.a.CLAMP_TO_EDGE,wrapT:_.a.CLAMP_TO_EDGE,minificationFilter:g.a.NEAREST,magnificationFilter:m.a.NEAREST})});e._colorTexture=i;var n=new u.a({context:t,colorTextures:[i],destroyAttachments:!1});e._framebuffer=n}var o=i("or8k"),s=i("xC6Q"),c=i("6sr8"),l=i("FhYh"),u=i("YyWD"),h=i("HvCH"),d=i("DrvA"),f=i("l0BX"),p=i("25X5"),m=i("YKq0"),g=i("z2iY"),_=i("L4GL"),v=i("uqjm");Object.defineProperties(n.prototype,{colorTexture:{get:function(){return this._colorTexture}}}),n.prototype.update=function(e){if(!Object(s.a)(this._colorTexture)){var t=e.context;r(this,t),a(this,t),this._drawCommand.execute(t),this._framebuffer=this._framebuffer&&this._framebuffer.destroy(),this._drawCommand.shaderProgram=this._drawCommand.shaderProgram&&this._drawCommand.shaderProgram.destroy()}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._colorTexture=this._colorTexture&&this._colorTexture.destroy(),Object(c.a)(this)},t.a=n},"bWd/":function(e,t,i){"use strict";var n=i("PzDm");n.a.throwInstantiationError,n.a.throwInstantiationError},beGl:function(e,t,i){"use strict";function n(e){var t;return o.a.accessorWithSemantic(e,"JOINTS_0",function(i){var n=e.accessors[i];t=n.componentType,t===l.a.BYTE?a(e,n,c.a.UNSIGNED_BYTE):t!==l.a.UNSIGNED_BYTE&&t!==l.a.UNSIGNED_SHORT&&a(e,n,c.a.UNSIGNED_SHORT)}),o.a.accessorWithSemantic(e,"WEIGHTS_0",function(i){var n=e.accessors[i];t=n.componentType,t===l.a.BYTE?a(e,n,c.a.UNSIGNED_BYTE):t===l.a.SHORT&&a(e,n,c.a.UNSIGNED_SHORT)}),e}function a(e,t,i){var n=c.a.createTypedArray(i,Object(s.a)(e,t)),a=new Uint8Array(n.buffer);t.bufferView=Object(r.a)(e,a),t.componentType=i,t.byteOffset=0}var r=i("vLm7"),o=i("FJg6"),s=i("qavO"),c=i("YCZg"),l=i("1L1F");t.a=n},bhTA:function(e,t,i){"use strict";var n=i("5F4X"),a=i("xC6Q"),r={};r.createCheckbox=function(e,t,i){n.a.typeOf.string("labelText",e),n.a.typeOf.string("checkedBinding",t);var r=document.createElement("div"),o=document.createElement("label"),s=document.createElement("input");s.type="checkbox";var c="checked: "+t;return Object(a.a)(i)&&(c+=", enable: "+i),s.setAttribute("data-bind",c),o.appendChild(s),o.appendChild(document.createTextNode(e)),r.appendChild(o),r},r.createSection=function(e,t,i,a){n.a.defined("panel",e),n.a.typeOf.string("headerText",t),n.a.typeOf.string("sectionVisibleBinding",i),n.a.typeOf.string("toggleSectionVisibilityBinding",a);var r=document.createElement("div");r.className="cesium-cesiumInspector-section",r.setAttribute("data-bind",'css: { "cesium-cesiumInspector-section-collapsed": !'+i+" }"),e.appendChild(r);var o=document.createElement("h3");o.className="cesium-cesiumInspector-sectionHeader",o.appendChild(document.createTextNode(t)),o.setAttribute("data-bind","click: "+a),r.appendChild(o);var s=document.createElement("div");return s.className="cesium-cesiumInspector-sectionContent",r.appendChild(s),s},t.a=r},bidq:function(e,t,i){"use strict";var n=Array.prototype.slice,a=i("t+1C"),r=Object.keys,o=r?function(e){return r(e)}:i("7ciz"),s=Object.keys;o.shim=function(){if(Object.keys){(function(){var e=Object.keys(arguments);return e&&e.length===arguments.length})(1,2)||(Object.keys=function(e){return s(a(e)?n.call(e):e)})}else Object.keys=o;return Object.keys||o},e.exports=o},bnBh:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._radii=void 0,this._radiiSubscription=void 0,this._innerRadii=void 0,this._innerRadiiSubscription=void 0,this._minimumClock=void 0,this._minimumClockSubscription=void 0,this._maximumClock=void 0,this._maximumClockSubscription=void 0,this._minimumCone=void 0,this._minimumConeSubscription=void 0,this._maximumCone=void 0,this._maximumConeSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._stackPartitions=void 0,this._stackPartitionsSubscription=void 0,this._slicePartitions=void 0,this._slicePartitionsSubscription=void 0,this._subdivisions=void 0,this._subdivisionsSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("6ktF"),l=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l.a)("show"),radii:Object(l.a)("radii"),innerRadii:Object(l.a)("innerRadii"),minimumClock:Object(l.a)("minimumClock"),maximumClock:Object(l.a)("maximumClock"),minimumCone:Object(l.a)("minimumCone"),maximumCone:Object(l.a)("maximumCone"),heightReference:Object(l.a)("heightReference"),fill:Object(l.a)("fill"),material:Object(c.a)("material"),outline:Object(l.a)("outline"),outlineColor:Object(l.a)("outlineColor"),outlineWidth:Object(l.a)("outlineWidth"),stackPartitions:Object(l.a)("stackPartitions"),slicePartitions:Object(l.a)("slicePartitions"),subdivisions:Object(l.a)("subdivisions"),shadows:Object(l.a)("shadows"),distanceDisplayCondition:Object(l.a)("distanceDisplayCondition")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.radii=this.radii,e.innerRadii=this.innerRadii,e.minimumClock=this.minimumClock,e.maximumClock=this.maximumClock,e.minimumCone=this.minimumCone,e.maximumCone=this.maximumCone,e.heightReference=this.heightReference,e.fill=this.fill,e.material=this.material,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.stackPartitions=this.stackPartitions,e.slicePartitions=this.slicePartitions,e.subdivisions=this.subdivisions,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.radii=Object(a.a)(this.radii,e.radii),this.innerRadii=Object(a.a)(this.innerRadii,e.innerRadii),this.minimumClock=Object(a.a)(this.minimumClock,e.minimumClock),this.maximumClock=Object(a.a)(this.maximumClock,e.maximumClock),this.minimumCone=Object(a.a)(this.minimumCone,e.minimumCone),this.maximumCone=Object(a.a)(this.maximumCone,e.maximumCone),this.heightReference=Object(a.a)(this.heightReference,e.heightReference),this.fill=Object(a.a)(this.fill,e.fill),this.material=Object(a.a)(this.material,e.material),this.outline=Object(a.a)(this.outline,e.outline),this.outlineColor=Object(a.a)(this.outlineColor,e.outlineColor),this.outlineWidth=Object(a.a)(this.outlineWidth,e.outlineWidth),this.stackPartitions=Object(a.a)(this.stackPartitions,e.stackPartitions),this.slicePartitions=Object(a.a)(this.slicePartitions,e.slicePartitions),this.subdivisions=Object(a.a)(this.subdivisions,e.subdivisions),this.shadows=Object(a.a)(this.shadows,e.shadows),this.distanceDisplayCondition=Object(a.a)(this.distanceDisplayCondition,e.distanceDisplayCondition)},t.a=n},bo7c:function(e,t,i){"use strict";function n(e,t,i,n){this.rightAscension=e,this.declination=t,this.rotation=i,this.rotationRate=n}t.a=n},bqkI:function(e,t,i){"use strict";t.a="/**\n * Returns 1.0 if the given value is positive or zero, and -1.0 if it is negative.  This is similar to the GLSL\n * built-in function <code>sign</code> except that returns 1.0 instead of 0.0 when the input value is 0.0.\n * \n * @name czm_signNotZero\n * @glslFunction\n *\n * @param {} value The value for which to determine the sign.\n * @returns {} 1.0 if the value is positive or zero, -1.0 if the value is negative.\n */\nfloat czm_signNotZero(float value)\n{\n    return value >= 0.0 ? 1.0 : -1.0;\n}\n\nvec2 czm_signNotZero(vec2 value)\n{\n    return vec2(czm_signNotZero(value.x), czm_signNotZero(value.y));\n}\n\nvec3 czm_signNotZero(vec3 value)\n{\n    return vec3(czm_signNotZero(value.x), czm_signNotZero(value.y), czm_signNotZero(value.z));\n}\n\nvec4 czm_signNotZero(vec4 value)\n{\n    return vec4(czm_signNotZero(value.x), czm_signNotZero(value.y), czm_signNotZero(value.z), czm_signNotZero(value.w));\n}\n"},bte5:function(e,t,i){"use strict";t.a="/**\n * An czm_material with default values. Every material's czm_getMaterial\n * should use this default material as a base for the material it returns.\n * The default normal value is given by materialInput.normalEC.\n *\n * @name czm_getDefaultMaterial\n * @glslFunction\n *\n * @param {czm_materialInput} input The input used to construct the default material.\n *\n * @returns {czm_material} The default material.\n *\n * @see czm_materialInput\n * @see czm_material\n * @see czm_getMaterial\n */\nczm_material czm_getDefaultMaterial(czm_materialInput materialInput)\n{\n    czm_material material;\n    material.diffuse = vec3(0.0);\n    material.specular = 0.0;\n    material.shininess = 1.0;\n    material.normal = materialInput.normalEC;\n    material.emission = vec3(0.0);\n    material.alpha = 1.0;\n    return material;\n}\n"},buKJ:function(e,t,i){"use strict";var n=(i("fwwW"),i("Jj+J"));new n.a},"c/Hq":function(e,t,i){"use strict";function n(e,t,i,n,a,r){var s,u,m,b=d.a.NONE;if(Object(l.a)(e)&&Object(l.a)(t)&&Object(l.a)(i)&&Object(l.a)(n)){var y=e.minimum,O=e.maximum,w=o.a.subtract(O,y,p),x=i-t;b=Math.max(o.a.maximumComponent(w),x)<v-1?d.a.BITS12:d.a.NONE,s=e.center,u=h.a.inverseTransformation(n,new h.a);var E=o.a.negate(y,f);h.a.multiply(h.a.fromTranslation(E,g),u,u);var T=f;T.x=1/w.x,T.y=1/w.y,T.z=1/w.z,h.a.multiply(h.a.fromScale(T,g),u,u),m=h.a.clone(n),h.a.setTranslation(m,o.a.ZERO,m),n=h.a.clone(n,new h.a);var A=h.a.fromTranslation(y,g),C=h.a.fromScale(w,_),S=h.a.multiply(A,C,g);h.a.multiply(n,S,n),h.a.multiply(m,S,m)}this.quantization=b,this.minimumHeight=t,this.maximumHeight=i,this.center=s,this.toScaledENU=u,this.fromScaledENU=n,this.matrix=m,this.hasVertexNormals=a,this.hasWebMercatorT=Object(c.a)(r,!1)}var a=i("j90k"),r=i("Ss9j"),o=i("Jj+J"),s=i("YCZg"),c=i("5A4e"),l=i("xC6Q"),u=i("fq+p"),h=i("Xjii"),d=i("CWGf"),f=new o.a,p=new o.a,m=new r.a,g=new h.a,_=new h.a,v=Math.pow(2,12);n.prototype.encode=function(e,t,i,n,s,c,l){var p=n.x,g=n.y;if(this.quantization===d.a.BITS12){i=h.a.multiplyByPoint(this.toScaledENU,i,f),i.x=u.a.clamp(i.x,0,1),i.y=u.a.clamp(i.y,0,1),i.z=u.a.clamp(i.z,0,1);var _=this.maximumHeight-this.minimumHeight,v=u.a.clamp((s-this.minimumHeight)/_,0,1);r.a.fromElements(i.x,i.y,m);var b=a.a.compressTextureCoordinates(m);r.a.fromElements(i.z,v,m);var y=a.a.compressTextureCoordinates(m);r.a.fromElements(p,g,m);var O=a.a.compressTextureCoordinates(m);if(e[t++]=b,e[t++]=y,e[t++]=O,this.hasWebMercatorT){r.a.fromElements(l,0,m);var w=a.a.compressTextureCoordinates(m);e[t++]=w}}else o.a.subtract(i,this.center,f),e[t++]=f.x,e[t++]=f.y,e[t++]=f.z,e[t++]=s,e[t++]=p,e[t++]=g,this.hasWebMercatorT&&(e[t++]=l);return this.hasVertexNormals&&(e[t++]=a.a.octPackFloat(c)),t},n.prototype.decodePosition=function(e,t,i){if(Object(l.a)(i)||(i=new o.a),t*=this.getStride(),this.quantization===d.a.BITS12){var n=a.a.decompressTextureCoordinates(e[t],m);i.x=n.x,i.y=n.y;var r=a.a.decompressTextureCoordinates(e[t+1],m);return i.z=r.x,h.a.multiplyByPoint(this.fromScaledENU,i,i)}return i.x=e[t],i.y=e[t+1],i.z=e[t+2],o.a.add(i,this.center,i)},n.prototype.decodeTextureCoordinates=function(e,t,i){return Object(l.a)(i)||(i=new r.a),t*=this.getStride(),this.quantization===d.a.BITS12?a.a.decompressTextureCoordinates(e[t+2],i):r.a.fromElements(e[t+4],e[t+5],i)},n.prototype.decodeHeight=function(e,t){if(t*=this.getStride(),this.quantization===d.a.BITS12){return a.a.decompressTextureCoordinates(e[t+1],m).y*(this.maximumHeight-this.minimumHeight)+this.minimumHeight}return e[t+3]},n.prototype.decodeWebMercatorT=function(e,t){return t*=this.getStride(),this.quantization===d.a.BITS12?a.a.decompressTextureCoordinates(e[t+3],m).x:e[t+6]},n.prototype.getOctEncodedNormal=function(e,t,i){t=(t+1)*this.getStride()-1;var n=e[t]/256,a=Math.floor(n),o=256*(n-a);return r.a.fromElements(a,o,i)},n.prototype.getStride=function(){var e;switch(this.quantization){case d.a.BITS12:e=3;break;default:e=6}return this.hasWebMercatorT&&++e,this.hasVertexNormals&&++e,e};var b={position3DAndHeight:0,textureCoordAndEncodedNormals:1},y={compressed0:0,compressed1:1};n.prototype.getAttributes=function(e){var t,i=s.a.FLOAT,n=s.a.getSizeInBytes(i);if(this.quantization===d.a.NONE){var a=2;return this.hasWebMercatorT&&++a,this.hasVertexNormals&&++a,t=(4+a)*n,[{index:b.position3DAndHeight,vertexBuffer:e,componentDatatype:i,componentsPerAttribute:4,offsetInBytes:0,strideInBytes:t},{index:b.textureCoordAndEncodedNormals,vertexBuffer:e,componentDatatype:i,componentsPerAttribute:a,offsetInBytes:4*n,strideInBytes:t}]}var r=3,o=0;return(this.hasWebMercatorT||this.hasVertexNormals)&&++r,this.hasWebMercatorT&&this.hasVertexNormals?(++o,t=(r+o)*n,[{index:y.compressed0,vertexBuffer:e,componentDatatype:i,componentsPerAttribute:r,offsetInBytes:0,strideInBytes:t},{index:y.compressed1,vertexBuffer:e,componentDatatype:i,componentsPerAttribute:o,offsetInBytes:r*n,strideInBytes:t}]):[{index:y.compressed0,vertexBuffer:e,componentDatatype:i,componentsPerAttribute:r}]},n.prototype.getAttributeLocations=function(){return this.quantization===d.a.NONE?b:y},n.clone=function(e,t){return Object(l.a)(t)||(t=new n),t.quantization=e.quantization,t.minimumHeight=e.minimumHeight,t.maximumHeight=e.maximumHeight,t.center=o.a.clone(e.center),t.toScaledENU=h.a.clone(e.toScaledENU),t.fromScaledENU=h.a.clone(e.fromScaledENU),t.matrix=h.a.clone(e.matrix),t.hasVertexNormals=e.hasVertexNormals,t.hasWebMercatorT=e.hasWebMercatorT,t},t.a=n},c4pm:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._intervals=new l.a,this._intervals.changedEvent.addEventListener(n.prototype._intervalsChanged,this),this._referenceFrame=Object(a.a)(e,c.a.FIXED)}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("IDfv"),l=i("vDBe"),u=i("mUvA"),h=i("uhjI");Object.defineProperties(n.prototype,{isConstant:{get:function(){return this._intervals.isEmpty}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._intervals}},referenceFrame:{get:function(){return this._referenceFrame}}}),n.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,c.a.FIXED,t)},n.prototype.getValueInReferenceFrame=function(e,t,i){if(!Object(r.a)(e))throw new o.a("time is required.");if(!Object(r.a)(t))throw new o.a("referenceFrame is required.");var n=this._intervals.findDataForIntervalContainingDate(e);if(Object(r.a)(n))return u.a.convertToReferenceFrame(e,n,this._referenceFrame,t,i)},n.prototype.equals=function(e){return this===e||e instanceof n&&this._intervals.equals(e._intervals,h.a.equals)&&this._referenceFrame===e._referenceFrame},n.prototype._intervalsChanged=function(){this._definitionChanged.raiseEvent(this)},t.a=n},c7Hj:function(e,t,i){"use strict";t.a="/**\n * Computes the fraction of a Web Wercator rectangle at which a given geodetic latitude is located.\n *\n * @name czm_latitudeToWebMercatorFraction\n * @glslFunction\n *\n * @param {float} latitude The geodetic latitude, in radians.\n * @param {float} southMercatorY The Web Mercator coordinate of the southern boundary of the rectangle.\n * @param {float} oneOverMercatorHeight The total height of the rectangle in Web Mercator coordinates.\n *\n * @returns {float} The fraction of the rectangle at which the latitude occurs.  If the latitude is the southern\n *          boundary of the rectangle, the return value will be zero.  If it is the northern boundary, the return\n *          value will be 1.0.  Latitudes in between are mapped according to the Web Mercator projection.\n */ \nfloat czm_latitudeToWebMercatorFraction(float latitude, float southMercatorY, float oneOverMercatorHeight)\n{\n    float sinLatitude = sin(latitude);\n    float mercatorY = 0.5 * log((1.0 + sinLatitude) / (1.0 - sinLatitude));\n    \n    return (mercatorY - southMercatorY) * oneOverMercatorHeight;\n}\n"},c8Ld:function(e,t,i){"use strict";function n(e){return A.a.fromDegrees(e[0],e[1],e[2])}function a(e,t){var i="";for(var n in e)if(e.hasOwnProperty(n)){if(n===t||-1!==le.indexOf(n))continue;var r=e[n];Object(D.a)(r)&&(i+="object"==typeof r?"<tr><th>"+n+"</th><td>"+a(r)+"</td></tr>":"<tr><th>"+n+"</th><td>"+r+"</td></tr>")}return i.length>0&&(i='<table class="cesium-infoBox-defaultTable"><tbody>'+i+"</tbody></table>"),i}function r(e,t,i){var n;return function(a,r){return Object(D.a)(n)||(n=e(t,i)),n}}function o(e,t){return new q.a(r(a,e,t),!0)}function s(e,t,i){var n=e.id;if(Object(D.a)(n)&&"Feature"===e.type){for(var a=2,r=n;Object(D.a)(t.getById(r));)r=n+"_"+a,a++;n=r}else n=Object(S.a)();var o=t.getOrCreateEntity(n),s=e.properties;if(Object(D.a)(s)){o.properties=s;var c,l=s.title;if(Object(D.a)(l))o.name=l,c="title";else{var u=Number.MAX_VALUE;for(var h in s)if(s.hasOwnProperty(h)&&s[h]){var d=h.toLowerCase();if(u>1&&"title"===d){u=1,c=h;break}u>2&&"name"===d?(u=2,c=h):u>3&&/title/i.test(h)?(u=3,c=h):u>4&&/name/i.test(h)&&(u=4,c=h)}Object(D.a)(c)&&(o.name=s[c])}var f=s.description;null!==f&&(o.description=Object(D.a)(f)?new Y.a(f):i(s,c))}return o}function c(e,t){for(var i=new Array(e.length),n=0;n<e.length;n++)i[n]=t(e[n]);return i}function l(e,t,i,n,a){if(null===t.geometry)return void s(t,e._entityCollection,a.describe);if(!Object(D.a)(t.geometry))throw new z.a("feature.geometry is required.");var r=t.geometry.type,o=he[r];if(!Object(D.a)(o))throw new z.a("Unknown geometry type: "+r);o(e,t,t.geometry,n,a)}function u(e,t,i,n,a){for(var r=t.features,o=0,s=r.length;o<s;o++)l(e,r[o],void 0,n,a)}function h(e,t,i,n,a){for(var r=i.geometries,o=0,s=r.length;o<s;o++){var c=r[o],l=c.type,u=he[l];if(!Object(D.a)(u))throw new z.a("Unknown geometry type: "+l);u(e,t,c,n,a)}}function d(e,t,i,n,a){var r=a.markerSymbol,o=a.markerColor,c=a.markerSize,l=t.properties;if(Object(D.a)(l)){var u=l["marker-color"];Object(D.a)(u)&&(o=C.a.fromCssColorString(u)),c=Object(P.a)(ce[l["marker-size"]],c);var h=l["marker-symbol"];Object(D.a)(h)&&(r=h)}var d;d=Object(D.a)(r)?1===r.length?e._pinBuilder.fromText(r.toUpperCase(),o,c):e._pinBuilder.fromMakiIconId(r,o,c):e._pinBuilder.fromColor(o,c);var f=new H.a;f.verticalOrigin=new Y.a(k.a.BOTTOM),2===n.length&&a.clampToGround&&(f.heightReference=B.a.CLAMP_TO_GROUND);var p=s(t,e._entityCollection,a.describe);p.billboard=f,p.position=new G.a(i(n));var m=Object(V.a)(d).then(function(e){f.image=new Y.a(e)}).otherwise(function(){f.image=new Y.a(e._pinBuilder.fromColor(o,c))});e._promises.push(m)}function f(e,t,i,n,a){d(e,t,n,i.coordinates,a)}function p(e,t,i,n,a){for(var r=i.coordinates,o=0;o<r.length;o++)d(e,t,n,r[o],a)}function m(e,t,i,n,a){var r=a.strokeMaterialProperty,o=a.strokeWidthProperty,l=t.properties;if(Object(D.a)(l)){var u=l["stroke-width"];Object(D.a)(u)&&(o=new Y.a(u));var h,d=l.stroke;Object(D.a)(d)&&(h=C.a.fromCssColorString(d));var f=l["stroke-opacity"];Object(D.a)(f)&&1!==f&&(Object(D.a)(h)||(h=r.color.clone()),h.alpha=f),Object(D.a)(h)&&(r=new W.a(h))}var p=s(t,e._entityCollection,a.describe),m=new K.a;p.polyline=m,m.clampToGround=a.clampToGround,m.material=r,m.width=o,m.positions=new Y.a(c(n,i)),m.arcType=T.a.RHUMB}function g(e,t,i,n,a){m(e,t,n,i.coordinates,a)}function _(e,t,i,n,a){for(var r=i.coordinates,o=0;o<r.length;o++)m(e,t,n,r[o],a)}function v(e,t,i,n,a){if(0!==n.length&&0!==n[0].length){var r=a.strokeMaterialProperty.color,o=a.fillMaterialProperty,l=a.strokeWidthProperty,u=t.properties;if(Object(D.a)(u)){var h=u["stroke-width"];Object(D.a)(h)&&(l=new Y.a(h));var d,f=u.stroke;Object(D.a)(f)&&(d=C.a.fromCssColorString(f));var p=u["stroke-opacity"];Object(D.a)(p)&&1!==p&&(Object(D.a)(d)||(d=a.strokeMaterialProperty.color.clone()),d.alpha=p),Object(D.a)(d)&&(r=new Y.a(d));var m,g=u.fill;Object(D.a)(g)&&(m=C.a.fromCssColorString(g),m.alpha=o.color.alpha),p=u["fill-opacity"],Object(D.a)(p)&&p!==o.color.alpha&&(Object(D.a)(m)||(m=o.color.clone()),m.alpha=p),Object(D.a)(m)&&(o=new W.a(m))}var _=new Z.a;_.outline=new Y.a(!0),_.outlineColor=r,_.outlineWidth=l,_.material=o,_.arcType=T.a.RHUMB;for(var v=[],b=1,y=n.length;b<y;b++)v.push(new N.a(c(n[b],i)));var O=n[0];_.hierarchy=new Y.a(new N.a(c(O,i),v)),O[0].length>2?_.perPositionHeight=new Y.a(!0):a.clampToGround||(_.height=0);s(t,e._entityCollection,a.describe).polygon=_}}function b(e,t,i,n,a){v(e,t,n,i.coordinates,a)}function y(e,t,i,n,a){for(var r=i.coordinates,o=0;o<r.length;o++)v(e,t,n,r[o],a)}function O(e,t,i,n,a){for(var r in i.objects)if(i.objects.hasOwnProperty(r)){var o=U.a.feature(i,i.objects[r]),s=ue[o.type];s(e,o,o,n,a)}}function w(e){this._name=e,this._changed=new R.a,this._error=new R.a,this._isLoading=!1,this._loading=new R.a,this._entityCollection=new J.a(this),this._promises=[],this._pinBuilder=new L.a,this._entityCluster=new Q.a,this._credit=void 0,this._resourceCredits=[]}function x(e,t,i,a){var r;Object(D.a)(a)&&(r=Object(M.a)(a)),Object(D.a)(r)&&e._name!==r&&(e._name=r,e._changed.raiseEvent(e));var o=ue[t.type];if(!Object(D.a)(o))throw new z.a("Unsupported GeoJSON object type: "+t.type);var s=t.crs,c=null!==s?n:null;if(Object(D.a)(s)){if(!Object(D.a)(s.properties))throw new z.a("crs.properties is undefined.");var l=s.properties;if("name"===s.type){if(c=$[l.name],!Object(D.a)(c))throw new z.a("Unknown crs name: "+l.name)}else if("link"===s.type){var u=ee[l.href];if(Object(D.a)(u)||(u=te[l.type]),!Object(D.a)(u))throw new z.a("Unable to resolve crs link: "+JSON.stringify(l));c=u(l)}else{if("EPSG"!==s.type)throw new z.a("Unknown crs type: "+s.type);if(c=$["EPSG:"+l.code],!Object(D.a)(c))throw new z.a("Unknown crs EPSG code: "+l.code)}}return Object(V.a)(c,function(n){return e._entityCollection.removeAll(),null!==n&&o(e,t,t,n,i),V.a.all(e._promises,function(){return e._promises.length=0,X.a.setLoading(e,!1),e})})}var E,T=i("X8rS"),A=i("Jj+J"),C=i("6F0S"),S=i("ed27"),j=i("ODTd"),P=i("5A4e"),D=i("xC6Q"),I=i("PzDm"),R=i("W6xh"),M=i("WROA"),L=i("Fd8u"),N=i("rEiK"),F=i("rMjQ"),z=i("V22k"),B=i("JIo7"),k=i("H5bb"),U=i("3FSN"),V=i("S7OP"),H=i("1L+j"),q=i("h3qT"),W=i("I5FW"),G=i("jQbM"),Y=i("53NE"),X=i("jjt3"),Q=i("eZY8"),J=i("K+QI"),Z=i("o8TK"),K=i("xtiq"),$={"urn:ogc:def:crs:OGC:1.3:CRS84":n,"EPSG:4326":n,"urn:ogc:def:crs:EPSG::4326":n},ee={},te={},ie=48,ne=C.a.ROYALBLUE,ae=C.a.YELLOW,re=2,oe=C.a.fromBytes(255,255,0,100),se=!1,ce={small:24,medium:48,large:64},le=["title","description","marker-size","marker-symbol","marker-color","stroke","stroke-opacity","stroke-width","fill","fill-opacity"],ue={Feature:l,FeatureCollection:u,GeometryCollection:h,LineString:g,MultiLineString:_,MultiPoint:p,MultiPolygon:y,Point:f,Polygon:b,Topology:O},he={GeometryCollection:h,LineString:g,MultiLineString:_,MultiPoint:p,MultiPolygon:y,Point:f,Polygon:b,Topology:O};w.load=function(e,t){return(new w).load(e,t)},Object.defineProperties(w,{markerSize:{get:function(){return ie},set:function(e){ie=e}},markerSymbol:{get:function(){return E},set:function(e){E=e}},markerColor:{get:function(){return ne},set:function(e){ne=e}},stroke:{get:function(){return ae},set:function(e){ae=e}},strokeWidth:{get:function(){return re},set:function(e){re=e}},fill:{get:function(){return oe},set:function(e){oe=e}},clampToGround:{get:function(){return se},set:function(e){se=e}},crsNames:{get:function(){return $}},crsLinkHrefs:{get:function(){return ee}},crsLinkTypes:{get:function(){return te}}}),Object.defineProperties(w.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{value:void 0,writable:!1},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!Object(D.a)(e))throw new I.a("value must be defined.");this._entityCluster=e}},credit:{get:function(){return this._credit}}}),w.prototype.load=function(e,t){if(!Object(D.a)(e))throw new I.a("data is required.");X.a.setLoading(this,!0),t=Object(P.a)(t,P.a.EMPTY_OBJECT);var i=t.credit;"string"==typeof i&&(i=new j.a(i)),this._credit=i;var n=e,a=t.sourceUri;if("string"==typeof e||e instanceof F.a){e=F.a.createIfNeeded(e),n=e.fetchJson(),a=Object(P.a)(a,e.getUrlComponent());var r=this._resourceCredits,s=e.credits;if(Object(D.a)(s))for(var c=s.length,l=0;l<c;l++)r.push(s[l])}t={describe:Object(P.a)(t.describe,o),markerSize:Object(P.a)(t.markerSize,ie),markerSymbol:Object(P.a)(t.markerSymbol,E),markerColor:Object(P.a)(t.markerColor,ne),strokeWidthProperty:new Y.a(Object(P.a)(t.strokeWidth,re)),strokeMaterialProperty:new W.a(Object(P.a)(t.stroke,ae)),fillMaterialProperty:new W.a(Object(P.a)(t.fill,oe)),clampToGround:Object(P.a)(t.clampToGround,se)};var u=this;return Object(V.a)(n,function(e){return x(u,e,t,a)}).otherwise(function(e){return X.a.setLoading(u,!1),u._error.raiseEvent(u,e),console.log(e),V.a.reject(e)})},t.a=w},cB1V:function(e,t,i){"use strict";function n(e,t,i){this.type="KmlTourFlyTo",this.blocking=!0,this.activeCamera=null,this.activeCallback=null,this.duration=e,this.view=i,this.flyToMode=t}var a=i("lBr9"),r=i("ZboF"),o=i("xC6Q"),s=i("jxrD");n.prototype.play=function(e,t,i){if(this.activeCamera=t,Object(o.a)(e)&&null!==e){var n=this;this.activeCallback=function(t){delete n.activeCallback,delete n.activeCamera,e(!Object(o.a)(t)&&t)}}var r=this.getCameraOptions(i);if(this.view.headingPitchRoll)t.flyTo(r);else if(this.view.headingPitchRange){var s=new a.a(this.view.position);t.flyToBoundingSphere(s,r)}},n.prototype.stop=function(){Object(o.a)(this.activeCamera)&&this.activeCamera.cancelFlight(),Object(o.a)(this.activeCallback)&&this.activeCallback(!0)},n.prototype.getCameraOptions=function(e){var t={duration:this.duration};return Object(o.a)(this.activeCallback)&&(t.complete=this.activeCallback),"smooth"===this.flyToMode&&(t.easingFunction=s.a.LINEAR_NONE),this.view.headingPitchRoll?(t.destination=this.view.position,t.orientation=this.view.headingPitchRoll):this.view.headingPitchRange&&(t.offset=this.view.headingPitchRange),Object(o.a)(e)&&(t=Object(r.a)(t,e)),t},t.a=n},cH2j:function(e,t,i){"use strict";t.a="varying vec3 v_positionEC;\nvarying vec3 v_normalEC;\n\nvoid main()\n{\n    vec3 positionToEyeEC = -v_positionEC;\n\n    vec3 normalEC = normalize(v_normalEC);\n#ifdef FACE_FORWARD\n    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n#endif\n\n    czm_materialInput materialInput;\n    materialInput.normalEC = normalEC;\n    materialInput.positionToEyeEC = positionToEyeEC;\n    czm_material material = czm_getMaterial(materialInput);\n\n#ifdef FLAT\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#else\n    gl_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n#endif\n}\n"},cHuy:function(e,t,i){"use strict";function n(e){return function(t){return new e(t)}}function a(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT);var t=e.assetId;r.a.typeOf.number("options.assetId",t),this.defaultAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,this._ready=!1,this._tileCredits=void 0,this._errorEvent=new l.a;var i=this,n=u.a._createEndpointResource(t,e),c=e.assetId.toString()+e.accessToken+e.server,f=a._endpointCache[c];Object(s.a)(f)||(f=n.fetchJson(),a._endpointCache[c]=f),this._readyPromise=f.then(function(e){if("IMAGERY"!==e.type)return d.a.reject(new h.a("Cesium ion asset "+t+" is not an imagery asset."));var a,r=e.externalType;if(Object(s.a)(r)){var o=w[r];if(!Object(s.a)(o))return d.a.reject(new h.a("Unrecognized Cesium ion imagery type: "+r));a=o(e.options)}else a=new m.a({url:new u.a(e,n)});return i._tileCredits=u.a.getCreditsFromEndpoint(e,n),a.errorEvent.addEventListener(function(e){e.provider=i,i._errorEvent.raiseEvent(e)}),i._imageryProvider=a,a.readyPromise.then(function(){return i._ready=!0,!0})})}var r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("PzDm"),l=i("W6xh"),u=i("PTtG"),h=i("V22k"),d=i("S7OP"),f=i("2JXb"),p=i("vcY8"),m=i("nBeE"),g=i("7Hyf"),_=i("xBRe"),v=i("Z/cH"),b=i("LS2q"),y=i("npu7"),O=i("K3VA"),w={ARCGIS_MAPSERVER:n(f.a),BING:n(p.a),GOOGLE_EARTH:n(g.a),MAPBOX:n(_.a),SINGLE_TILE:n(v.a),TMS:n(m.a),URL_TEMPLATE:n(b.a),WMS:n(y.a),WMTS:n(O.a)};Object.defineProperties(a.prototype,{ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},rectangle:{get:function(){if(!this._ready)throw new c.a("tileHeight must not be called before the imagery provider is ready.");return this._imageryProvider.rectangle}},tileWidth:{get:function(){if(!this._ready)throw new c.a("tileWidth must not be called before the imagery provider is ready.");return this._imageryProvider.tileWidth}},tileHeight:{get:function(){if(!this._ready)throw new c.a("tileHeight must not be called before the imagery provider is ready.");return this._imageryProvider.tileHeight}},maximumLevel:{get:function(){if(!this._ready)throw new c.a("maximumLevel must not be called before the imagery provider is ready.");return this._imageryProvider.maximumLevel}},minimumLevel:{get:function(){if(!this._ready)throw new c.a("minimumLevel must not be called before the imagery provider is ready.");return this._imageryProvider.minimumLevel}},tilingScheme:{get:function(){if(!this._ready)throw new c.a("tilingScheme must not be called before the imagery provider is ready.");return this._imageryProvider.tilingScheme}},tileDiscardPolicy:{get:function(){if(!this._ready)throw new c.a("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._imageryProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){if(!this._ready)throw new c.a("credit must not be called before the imagery provider is ready.");return this._imageryProvider.credit}},hasAlphaChannel:{get:function(){if(!this._ready)throw new c.a("hasAlphaChannel must not be called before the imagery provider is ready.");return this._imageryProvider.hasAlphaChannel}}}),a.prototype.getTileCredits=function(e,t,i){if(!this._ready)throw new c.a("getTileCredits must not be called before the imagery provider is ready.");var n=this._imageryProvider.getTileCredits(e,t,i);return Object(s.a)(n)?this._tileCredits.concat(n):this._tileCredits},a.prototype.requestImage=function(e,t,i,n){if(!this._ready)throw new c.a("requestImage must not be called before the imagery provider is ready.");return this._imageryProvider.requestImage(e,t,i,n)},a.prototype.pickFeatures=function(e,t,i,n,a){if(!this._ready)throw new c.a("pickFeatures must not be called before the imagery provider is ready.");return this._imageryProvider.pickFeatures(e,t,i,n,a)},a._endpointCache={},t.a=a},cLHE:function(e,t,i){"use strict";t.a="/**\n * Holds material information that can be used for lighting. Returned by all czm_getMaterial functions.\n *\n * @name czm_material\n * @glslStruct\n *\n * @property {vec3} diffuse Incoming light that scatters evenly in all directions.\n * @property {float} specular Intensity of incoming light reflecting in a single direction.\n * @property {float} shininess The sharpness of the specular reflection.  Higher values create a smaller, more focused specular highlight.\n * @property {vec3} normal Surface's normal in eye coordinates. It is used for effects such as normal mapping. The default is the surface's unmodified normal.\n * @property {vec3} emission Light emitted by the material equally in all directions. The default is vec3(0.0), which emits no light.\n * @property {float} alpha Opacity of this material. 0.0 is completely transparent; 1.0 is completely opaque.\n */\nstruct czm_material\n{\n    vec3 diffuse;\n    float specular;\n    float shininess;\n    vec3 normal;\n    vec3 emission;\n    float alpha;\n};\n"},cRnE:function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\nuniform sampler2D colorTexture2;\n\nuniform vec2 center;\nuniform float radius;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main()\n{\n    vec4 color0 = texture2D(colorTexture, v_textureCoordinates);\n    vec4 color1 = texture2D(colorTexture2, v_textureCoordinates);\n\n    float x = length(gl_FragCoord.xy - center) / radius;\n    float t = smoothstep(0.5, 0.8, x);\n    gl_FragColor = mix(color0 + color1, color1, t);\n}\n"},cSWu:function(e,t,i){t=e.exports=i("Rt1F"),t.Stream=t,t.Readable=t,t.Writable=i("7dSG"),t.Duplex=i("DsFX"),t.Transform=i("D1Va"),t.PassThrough=i("f48b")},cTEo:function(e,t,i){"use strict";function n(e,t,i,n,a){this._tileset=e,this._tile=t,this._resource=i,this._model=void 0,this._batchTable=void 0,this._features=void 0,this._batchIdAttributeName=void 0,this._diffuseAttributeOrUniformName={},this._rtcCenterTransform=void 0,this._contentModelMatrix=void 0,this.featurePropertiesDirty=!1,u(this,n,a)}function a(e){var t=D.a.getAttributeOrUniformBySemantic(e,"_BATCHID");return Object(g.a)(t)||(t=D.a.getAttributeOrUniformBySemantic(e,"BATCHID"),Object(g.a)(t)&&n._deprecationWarning("b3dm-legacy-batchid","The glTF in this b3dm uses the semantic `BATCHID`. Application-specific semantics should be prefixed with an underscore: `_BATCHID`.")),t}function r(e){return function(t,i){var n=e._batchTable,r=!Object(g.a)(e._tileset.classificationType),o=e._model.gltf;Object(g.a)(o)&&(e._batchIdAttributeName=a(o),e._diffuseAttributeOrUniformName[i]=D.a.getDiffuseAttributeOrUniform(o,i));var s=n.getVertexShaderCallback(r,e._batchIdAttributeName,e._diffuseAttributeOrUniformName[i]);return Object(g.a)(s)?s(t):t}}function o(e){return function(t,i){var n=e._batchTable,a=!Object(g.a)(e._tileset.classificationType),r=e._model.gltf;Object(g.a)(r)&&(e._diffuseAttributeOrUniformName[i]=D.a.getDiffuseAttributeOrUniform(r,i));var o=n.getFragmentShaderCallback(a,e._diffuseAttributeOrUniformName[i]);return Object(g.a)(o)?o(t):t}}function s(e){return function(){return e._batchTable.getPickId()}}function c(e){return function(t){var i=e._batchTable,n=i.getClassificationFragmentShaderCallback();return Object(g.a)(n)?n(t):t}}function l(e){return function(t,i){e._model.updateCommands(t,i)}}function u(e,t,i){var a=e._tileset,u=e._tile,h=e._resource,f=Object(m.a)(i,0);i=f;var _=new Uint8Array(t),v=new DataView(t);i+=I;var b=v.getUint32(i,!0);if(1!==b)throw new x.a("Only Batched 3D Model version 1 is supported.  Version "+b+" is not.");i+=I;var C=v.getUint32(i,!0);i+=I;var D=v.getUint32(i,!0);i+=I;var R=v.getUint32(i,!0);i+=I;var M=v.getUint32(i,!0);i+=I;var L=v.getUint32(i,!0);i+=I;var N;M>=570425344?(i-=2*I,N=D,M=R,L=0,D=0,R=0,n._deprecationWarning("b3dm-legacy-header","This b3dm header is using the legacy format [batchLength] [batchTableByteLength]. The new format is [featureTableJsonByteLength] [featureTableBinaryByteLength] [batchTableJsonByteLength] [batchTableBinaryByteLength] from https://github.com/CesiumGS/3d-tiles/tree/master/specification/TileFormats/Batched3DModel.")):L>=570425344&&(i-=I,N=M,M=D,L=R,D=0,R=0,n._deprecationWarning("b3dm-legacy-header","This b3dm header is using the legacy format [batchTableJsonByteLength] [batchTableBinaryByteLength] [batchLength]. The new format is [featureTableJsonByteLength] [featureTableBinaryByteLength] [batchTableJsonByteLength] [batchTableBinaryByteLength] from https://github.com/CesiumGS/3d-tiles/tree/master/specification/TileFormats/Batched3DModel."));var F;if(0===D)F={BATCH_LENGTH:Object(m.a)(N,0)};else{var z=Object(y.a)(_,i,D);F=JSON.parse(z),i+=D}var B=new Uint8Array(t,i,R);i+=R;var k=new S.a(F,B);N=k.getGlobalProperty("BATCH_LENGTH"),k.featuresLength=N;var U,V;if(M>0){var H=Object(y.a)(_,i,M);U=JSON.parse(H),i+=M,L>0&&(V=new Uint8Array(t,i,L),V=new Uint8Array(V),i+=L)}var q;Object(g.a)(a.classificationType)&&(q=l(e));var W=new A.a(e,N,U,V,q);e._batchTable=W;var G=f+C-i;if(0===G)throw new x.a("glTF byte length must be greater than 0.");var Y;i%4==0?Y=new Uint8Array(t,i,G):(n._deprecationWarning("b3dm-glb-unaligned","The embedded glb is not aligned to a 4-byte boundary."),Y=new Uint8Array(_.subarray(i,i+G)));var X={content:e,primitive:a};e._rtcCenterTransform=O.a.IDENTITY;var Q=k.getGlobalProperty("RTC_CENTER",p.a.FLOAT,3);Object(g.a)(Q)&&(e._rtcCenterTransform=O.a.fromTranslation(d.a.fromArray(Q))),e._contentModelMatrix=O.a.multiply(u.computedTransform,e._rtcCenterTransform,new O.a),Object(g.a)(a.classificationType)?e._model=new j.a({gltf:Y,cull:!1,basePath:h,requestType:w.a.TILES3D,modelMatrix:e._contentModelMatrix,upAxis:a._gltfUpAxis,forwardAxis:T.a.X,debugWireframe:a.debugWireframe,vertexShaderLoaded:r(e),classificationShaderLoaded:c(e),uniformMapLoaded:W.getUniformMapCallback(),pickIdLoaded:s(e),classificationType:a._classificationType,batchTable:W}):e._model=new P.a({gltf:Y,cull:!1,releaseGltfJson:!0,opaquePass:E.a.CESIUM_3D_TILE,basePath:h,requestType:w.a.TILES3D,modelMatrix:e._contentModelMatrix,upAxis:a._gltfUpAxis,forwardAxis:T.a.X,shadows:a.shadows,debugWireframe:a.debugWireframe,incrementallyLoadTextures:!1,vertexShaderLoaded:r(e),fragmentShaderLoaded:o(e),uniformMapLoaded:W.getUniformMapCallback(),pickIdLoaded:s(e),addBatchIdToGeneratedShaders:N>0,pickObject:X,imageBasedLightingFactor:a.imageBasedLightingFactor,lightColor:a.lightColor,luminanceAtZenith:a.luminanceAtZenith,sphericalHarmonicCoefficients:a.sphericalHarmonicCoefficients,specularEnvironmentMaps:a.specularEnvironmentMaps})}function h(e){var t=e.featuresLength;if(!Object(g.a)(e._features)&&t>0){for(var i=new Array(t),n=0;n<t;++n)i[n]=new C.a(e,n);e._features=i}}var d=i("Jj+J"),f=i("6F0S"),p=i("YCZg"),m=i("5A4e"),g=i("xC6Q"),_=i("49Ew"),v=i("6sr8"),b=i("PzDm"),y=i("Q+B7"),O=i("Xjii"),w=i("0pio"),x=i("V22k"),E=i("M0+0"),T=i("gsn9"),A=i("sNK4"),C=i("/Wph"),S=i("6aMI"),j=i("Atl/"),P=i("kRYv"),D=i("67ZH");n._deprecationWarning=_.a,Object.defineProperties(n.prototype,{featuresLength:{get:function(){return this._batchTable.featuresLength}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return this._model.trianglesLength}},geometryByteLength:{get:function(){return this._model.geometryByteLength}},texturesByteLength:{get:function(){return this._model.texturesByteLength}},batchTableByteLength:{get:function(){return this._batchTable.memorySizeInBytes}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._model.readyPromise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){return this._batchTable}}});var I=Uint32Array.BYTES_PER_ELEMENT;n.prototype.hasProperty=function(e,t){return this._batchTable.hasProperty(e,t)},n.prototype.getFeature=function(e){var t=this.featuresLength;if(!Object(g.a)(e)||e<0||e>=t)throw new b.a("batchId is required and between zero and featuresLength - 1 ("+(t-1)+").");return h(this),this._features[e]},n.prototype.applyDebugSettings=function(e,t){t=e?t:f.a.WHITE,0===this.featuresLength?this._model.color=t:this._batchTable.setAllColor(t)},n.prototype.applyStyle=function(e){if(0===this.featuresLength){var t=Object(g.a)(e)&&Object(g.a)(e.color),i=Object(g.a)(e)&&Object(g.a)(e.show);this._model.color=t?e.color.evaluateColor(void 0,this._model.color):f.a.clone(f.a.WHITE,this._model.color),this._model.show=!i||e.show.evaluate(void 0)}else this._batchTable.applyStyle(e)},n.prototype.update=function(e,t){var i=t.commandList.length;this._batchTable.update(e,t),this._contentModelMatrix=O.a.multiply(this._tile.computedTransform,this._rtcCenterTransform,this._contentModelMatrix),this._model.modelMatrix=this._contentModelMatrix,this._model.shadows=this._tileset.shadows,this._model.imageBasedLightingFactor=this._tileset.imageBasedLightingFactor,this._model.lightColor=this._tileset.lightColor,this._model.luminanceAtZenith=this._tileset.luminanceAtZenith,this._model.sphericalHarmonicCoefficients=this._tileset.sphericalHarmonicCoefficients,this._model.specularEnvironmentMaps=this._tileset.specularEnvironmentMaps,this._model.debugWireframe=this._tileset.debugWireframe;var n=this._tileset.clippingPlanes;this._model.clippingPlanesOriginMatrix=this._tileset.clippingPlanesOriginMatrix,Object(g.a)(n)&&this._tile.clippingPlanesDirty&&(this._model._clippingPlanes=n.enabled&&this._tile._isClipped?n:void 0),Object(g.a)(n)&&Object(g.a)(this._model._clippingPlanes)&&this._model._clippingPlanes!==n&&(this._model._clippingPlanes=n),this._model.update(t),i<t.commandList.length&&(t.passes.render||t.passes.pick)&&!Object(g.a)(e.classificationType)&&this._batchTable.addDerivedCommands(t,i)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._model=this._model&&this._model.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),Object(v.a)(this)},t.a=n},cesB:function(e,t,i){"use strict";function n(e,t,i){return c.a.typeOf.object("terrainProvider",e),c.a.typeOf.number("level",t),c.a.defined("positions",i),e.readyPromise.then(function(){return a(e,t,i)})}function a(e,t,i){var n,a=e.tilingScheme,c=[],l={};for(n=0;n<i.length;++n){var u=a.positionToTileXY(i[n],t),h=u.toString();if(!l.hasOwnProperty(h)){var d={x:u.x,y:u.y,level:t,tilingScheme:a,terrainProvider:e,positions:[]};l[h]=d,c.push(d)}l[h].positions.push(i[n])}var f=[];for(n=0;n<c.length;++n){var p=c[n],m=p.terrainProvider.requestTileGeometry(p.x,p.y,p.level),g=m.then(r(p)).otherwise(o(p));f.push(g)}return s.a.all(f,function(){return i})}function r(e){var t=e.positions,i=e.tilingScheme.tileXYToRectangle(e.x,e.y,e.level);return function(e){for(var n=0;n<t.length;++n){var a=t[n];a.height=e.interpolateHeight(i,a.longitude,a.latitude)}}}function o(e){var t=e.positions;return function(){for(var e=0;e<t.length;++e){t[e].height=void 0}}}var s=i("S7OP"),c=i("5F4X");t.a=n},ckFl:function(e,t,i){"use strict";function n(e){e=Object(c.a)(e,c.a.EMPTY_OBJECT);var t=Object(c.a)(e.radii,b),i=Object(c.a)(e.innerRadii,t),n=Object(c.a)(e.minimumClock,0),a=Object(c.a)(e.maximumClock,_.a.TWO_PI),r=Object(c.a)(e.minimumCone,0),s=Object(c.a)(e.maximumCone,_.a.PI),h=Math.round(Object(c.a)(e.stackPartitions,10)),d=Math.round(Object(c.a)(e.slicePartitions,8)),f=Math.round(Object(c.a)(e.subdivisions,128));if(h<1)throw new u.a("options.stackPartitions cannot be less than 1");if(d<0)throw new u.a("options.slicePartitions cannot be less than 0");if(f<0)throw new u.a("options.subdivisions must be greater than or equal to zero.");if(Object(l.a)(e.offsetAttribute)&&e.offsetAttribute===m.a.TOP)throw new u.a("GeometryOffsetAttribute.TOP is not a supported options.offsetAttribute for this geometry.");this._radii=o.a.clone(t),this._innerRadii=o.a.clone(i),this._minimumClock=n,this._maximumClock=a,this._minimumCone=r,this._maximumCone=s,this._stackPartitions=h,this._slicePartitions=d,this._subdivisions=f,this._offsetAttribute=e.offsetAttribute,this._workerName="createEllipsoidOutlineGeometry"}var a=i("Sfsp"),r=i("lBr9"),o=i("Jj+J"),s=i("YCZg"),c=i("5A4e"),l=i("xC6Q"),u=i("PzDm"),h=i("y6fO"),d=i("RGAo"),f=i("RYD3"),p=i("GaJK"),m=i("2g+t"),g=i("oMsT"),_=i("fq+p"),v=i("nHNe"),b=new o.a(1,1,1),y=Math.cos,O=Math.sin;n.packedLength=2*o.a.packedLength+8,n.pack=function(e,t,i){if(!Object(l.a)(e))throw new u.a("value is required");if(!Object(l.a)(t))throw new u.a("array is required");return i=Object(c.a)(i,0),o.a.pack(e._radii,t,i),i+=o.a.packedLength,o.a.pack(e._innerRadii,t,i),i+=o.a.packedLength,t[i++]=e._minimumClock,t[i++]=e._maximumClock,t[i++]=e._minimumCone,t[i++]=e._maximumCone,t[i++]=e._stackPartitions,t[i++]=e._slicePartitions,t[i++]=e._subdivisions,t[i]=Object(c.a)(e._offsetAttribute,-1),t};var w=new o.a,x=new o.a,E={radii:w,innerRadii:x,minimumClock:void 0,maximumClock:void 0,minimumCone:void 0,maximumCone:void 0,stackPartitions:void 0,slicePartitions:void 0,subdivisions:void 0,offsetAttribute:void 0};n.unpack=function(e,t,i){if(!Object(l.a)(e))throw new u.a("array is required");t=Object(c.a)(t,0);var a=o.a.unpack(e,t,w);t+=o.a.packedLength;var r=o.a.unpack(e,t,x);t+=o.a.packedLength;var s=e[t++],h=e[t++],d=e[t++],f=e[t++],p=e[t++],m=e[t++],g=e[t++],_=e[t];return Object(l.a)(i)?(i._radii=o.a.clone(a,i._radii),i._innerRadii=o.a.clone(r,i._innerRadii),i._minimumClock=s,i._maximumClock=h,i._minimumCone=d,i._maximumCone=f,i._stackPartitions=p,i._slicePartitions=m,i._subdivisions=g,i._offsetAttribute=-1===_?void 0:_,i):(E.minimumClock=s,E.maximumClock=h,E.minimumCone=d,E.maximumCone=f,E.stackPartitions=p,E.slicePartitions=m,E.subdivisions=g,E.offsetAttribute=-1===_?void 0:_,new n(E))},n.createGeometry=function(e){var t=e._radii;if(!(t.x<=0||t.y<=0||t.z<=0)){var i=e._innerRadii;if(!(i.x<=0||i.y<=0||i.z<=0)){var n=e._minimumClock,o=e._maximumClock,c=e._minimumCone,u=e._maximumCone,b=e._subdivisions,w=h.a.fromCartesian3(t),x=e._slicePartitions+1,E=e._stackPartitions+1;x=Math.round(x*Math.abs(o-n)/_.a.TWO_PI),E=Math.round(E*Math.abs(u-c)/_.a.PI),x<2&&(x=2),E<2&&(E=2);var T=0,A=1,C=i.x!==t.x||i.y!==t.y||i.z!==t.z,S=!1,j=!1;C&&(A=2,c>0&&(S=!0,T+=x),u<Math.PI&&(j=!0,T+=x));var P,D,I,R,M=b*A*(E+x),L=new Float64Array(3*M),N=2*(M+T-(x+E)*A),F=g.a.createTypedArray(M,N),z=0,B=new Array(E),k=new Array(E);for(P=0;P<E;P++)R=c+P*(u-c)/(E-1),B[P]=O(R),k[P]=y(R);var U=new Array(b),V=new Array(b);for(P=0;P<b;P++)I=n+P*(o-n)/(b-1),U[P]=O(I),V[P]=y(I);for(P=0;P<E;P++)for(D=0;D<b;D++)L[z++]=t.x*B[P]*V[D],L[z++]=t.y*B[P]*U[D],L[z++]=t.z*k[P];if(C)for(P=0;P<E;P++)for(D=0;D<b;D++)L[z++]=i.x*B[P]*V[D],L[z++]=i.y*B[P]*U[D],L[z++]=i.z*k[P];for(B.length=b,k.length=b,P=0;P<b;P++)R=c+P*(u-c)/(b-1),B[P]=O(R),k[P]=y(R);for(U.length=x,V.length=x,P=0;P<x;P++)I=n+P*(o-n)/(x-1),U[P]=O(I),V[P]=y(I);for(P=0;P<b;P++)for(D=0;D<x;D++)L[z++]=t.x*B[P]*V[D],L[z++]=t.y*B[P]*U[D],L[z++]=t.z*k[P];if(C)for(P=0;P<b;P++)for(D=0;D<x;D++)L[z++]=i.x*B[P]*V[D],L[z++]=i.y*B[P]*U[D],L[z++]=i.z*k[P];for(z=0,P=0;P<E*A;P++){var H=P*b;for(D=0;D<b-1;D++)F[z++]=H+D,F[z++]=H+D+1}var q=E*b*A;for(P=0;P<x;P++)for(D=0;D<b-1;D++)F[z++]=q+P+D*x,F[z++]=q+P+(D+1)*x;if(C)for(q=E*b*A+x*b,P=0;P<x;P++)for(D=0;D<b-1;D++)F[z++]=q+P+D*x,F[z++]=q+P+(D+1)*x;if(C){var W=E*b*A,G=W+b*x;if(S)for(P=0;P<x;P++)F[z++]=W+P,F[z++]=G+P;if(j)for(W+=b*x-x,G+=b*x-x,P=0;P<x;P++)F[z++]=W+P,F[z++]=G+P}var Y=new p.a({position:new f.a({componentDatatype:s.a.DOUBLE,componentsPerAttribute:3,values:L})});if(Object(l.a)(e._offsetAttribute)){var X=L.length,Q=new Uint8Array(X/3),J=e._offsetAttribute===m.a.NONE?0:1;Object(a.a)(Q,J),Y.applyOffset=new f.a({componentDatatype:s.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:Q})}return new d.a({attributes:Y,indices:F,primitiveType:v.a.LINES,boundingSphere:r.a.fromEllipsoid(w),offsetAttribute:e._offsetAttribute})}}},t.a=n},cvEb:function(e,t,i){"use strict";t.a="/**\n * Transforms a position from window to eye coordinates.\n * The transform from window to normalized device coordinates is done using components\n * of (@link czm_viewport} and {@link czm_viewportTransformation} instead of calculating\n * the inverse of <code>czm_viewportTransformation</code>. The transformation from\n * normalized device coordinates to clip coordinates is done using <code>fragmentCoordinate.w</code>,\n * which is expected to be the scalar used in the perspective divide. The transformation\n * from clip to eye coordinates is done using {@link czm_inverseProjection}.\n *\n * @name czm_windowToEyeCoordinates\n * @glslFunction\n *\n * @param {vec4} fragmentCoordinate The position in window coordinates to transform.\n *\n * @returns {vec4} The transformed position in eye coordinates.\n *\n * @see czm_modelToWindowCoordinates\n * @see czm_eyeToWindowCoordinates\n * @see czm_inverseProjection\n * @see czm_viewport\n * @see czm_viewportTransformation\n *\n * @example\n * vec4 positionEC = czm_windowToEyeCoordinates(gl_FragCoord);\n */\nvec4 czm_windowToEyeCoordinates(vec4 fragmentCoordinate)\n{\n    // Reconstruct NDC coordinates\n    float x = 2.0 * (fragmentCoordinate.x - czm_viewport.x) / czm_viewport.z - 1.0;\n    float y = 2.0 * (fragmentCoordinate.y - czm_viewport.y) / czm_viewport.w - 1.0;\n    float z = (fragmentCoordinate.z - czm_viewportTransformation[3][2]) / czm_viewportTransformation[2][2];\n    vec4 q = vec4(x, y, z, 1.0);\n\n    // Reverse the perspective division to obtain clip coordinates.\n    q /= fragmentCoordinate.w;\n\n    // Reverse the projection transformation to obtain eye coordinates.\n    if (!(czm_inverseProjection == mat4(0.0))) // IE and Edge sometimes do something weird with != between mat4s\n    {\n        q = czm_inverseProjection * q;\n    }\n    else\n    {\n        float top = czm_frustumPlanes.x;\n        float bottom = czm_frustumPlanes.y;\n        float left = czm_frustumPlanes.z;\n        float right = czm_frustumPlanes.w;\n\n        float near = czm_currentFrustum.x;\n        float far = czm_currentFrustum.y;\n\n        q.x = (q.x * (right - left) + left + right) * 0.5;\n        q.y = (q.y * (top - bottom) + bottom + top) * 0.5;\n        q.z = (q.z * (near - far) - near - far) * 0.5;\n        q.w = 1.0;\n    }\n\n    return q;\n}\n\n/**\n * Transforms a position given as window x/y and a depth or a log depth from window to eye coordinates.\n * This function produces more accurate results for window positions with log depth than\n * conventionally unpacking the log depth using czm_reverseLogDepth and using the standard version\n * of czm_windowToEyeCoordinates.\n *\n * @name czm_windowToEyeCoordinates\n * @glslFunction\n *\n * @param {vec2} fragmentCoordinateXY The XY position in window coordinates to transform.\n * @param {float} depthOrLogDepth A depth or log depth for the fragment.\n *\n * @see czm_modelToWindowCoordinates\n * @see czm_eyeToWindowCoordinates\n * @see czm_inverseProjection\n * @see czm_viewport\n * @see czm_viewportTransformation\n *\n * @returns {vec4} The transformed position in eye coordinates.\n */\nvec4 czm_windowToEyeCoordinates(vec2 fragmentCoordinateXY, float depthOrLogDepth)\n{\n    // See reverseLogDepth.glsl. This is separate to re-use the pow.\n#ifdef LOG_DEPTH\n    float near = czm_currentFrustum.x;\n    float far = czm_currentFrustum.y;\n    float log2Depth = depthOrLogDepth * czm_log2FarDepthFromNearPlusOne;\n    float depthFromNear = pow(2.0, log2Depth) - 1.0;\n    float depthFromCamera = depthFromNear + near;\n    vec4 windowCoord = vec4(fragmentCoordinateXY, far * (1.0 - near / depthFromCamera) / (far - near), 1.0);\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(windowCoord);\n    eyeCoordinate.w = 1.0 / depthFromCamera; // Better precision\n    return eyeCoordinate;\n#else\n    vec4 windowCoord = vec4(fragmentCoordinateXY, depthOrLogDepth, 1.0);\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(windowCoord);\n#endif\n    return eyeCoordinate;\n}\n"},"d+Fs":function(e,t,i){"use strict";function n(e,t){var i="WebGL Error:  ";switch(t){case e.INVALID_ENUM:i+="INVALID_ENUM";break;case e.INVALID_VALUE:i+="INVALID_VALUE";break;case e.INVALID_OPERATION:i+="INVALID_OPERATION";break;case e.OUT_OF_MEMORY:i+="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:i+="CONTEXT_LOST_WEBGL lost";break;default:i+="Unknown ("+t+")"}return i}function a(e,t,i,a){for(var r=n(e,a)+": "+t.name+"(",o=0;o<i.length;++o)0!==o&&(r+=", "),r+=i[o];return r+=");"}function r(e,t,i){var n=e.getError();if(n!==e.NO_ERROR)throw new P.a(a(e,t,i,n))}function o(e,t,i){return{get:function(){var n=e[t];return i(e,"get: "+t,n),e[t]},set:function(n){e[t]=n,i(e,"set: "+t,n)}}}function s(e,t){if(!Object(w.a)(t))return e;var i={};for(var n in e){var a=e[n];a instanceof Function?i[n]=function(i){return function(){var n=i.apply(e,arguments);return t(e,i,arguments),n}}(a):Object.defineProperty(i,n,o(e,n,t))}return i}function c(e,t){for(var i=t.length,n=0;n<i;++n){var a=e.getExtension(t[n]);if(a)return a}}function l(e,t){if("undefined"==typeof WebGLRenderingContext)throw new P.a("The browser does not support WebGL.  Visit http://get.webgl.org.");g.a.defined("canvas",e),this._canvas=e,t=Object(_.a)(t,!0),t=Object(O.a)(t,{}),t.allowTextureFilterAnisotropic=Object(O.a)(t.allowTextureFilterAnisotropic,!0);var i=Object(O.a)(t.webgl,{});i.alpha=Object(O.a)(i.alpha,!1),i.stencil=Object(O.a)(i.stencil,!0);var n,a=Object(O.a)(t.requestWebgl2,!1)&&"undefined"!=typeof WebGL2RenderingContext,r=!1,o=t.getWebGLStub;if(Object(w.a)(o))n=o(e,i);else if(a&&(n=e.getContext("webgl2",i)||e.getContext("experimental-webgl2",i)||void 0,Object(w.a)(n)&&(r=!0)),Object(w.a)(n)||(n=e.getContext("webgl",i)||e.getContext("experimental-webgl",i)||void 0),!Object(w.a)(n))throw new P.a("The browser supports WebGL, but initialization failed.");this._originalGLContext=n,this._gl=n,this._webgl2=r,this._id=Object(y.a)(),this.validateFramebuffer=!1,this.validateShaderProgram=!1,this.logShaderCompilation=!1,this._throwOnWebGLError=!1,this._shaderCache=new V.a(this),this._textureCache=new W.a;var s=n;this._stencilBits=s.getParameter(s.STENCIL_BITS),N.a._maximumCombinedTextureImageUnits=s.getParameter(s.MAX_COMBINED_TEXTURE_IMAGE_UNITS),N.a._maximumCubeMapSize=s.getParameter(s.MAX_CUBE_MAP_TEXTURE_SIZE),N.a._maximumFragmentUniformVectors=s.getParameter(s.MAX_FRAGMENT_UNIFORM_VECTORS),N.a._maximumTextureImageUnits=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),N.a._maximumRenderbufferSize=s.getParameter(s.MAX_RENDERBUFFER_SIZE),N.a._maximumTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),N.a._maximumVaryingVectors=s.getParameter(s.MAX_VARYING_VECTORS),N.a._maximumVertexAttributes=s.getParameter(s.MAX_VERTEX_ATTRIBS),N.a._maximumVertexTextureImageUnits=s.getParameter(s.MAX_VERTEX_TEXTURE_IMAGE_UNITS),N.a._maximumVertexUniformVectors=s.getParameter(s.MAX_VERTEX_UNIFORM_VECTORS);var l=s.getParameter(s.ALIASED_LINE_WIDTH_RANGE);N.a._minimumAliasedLineWidth=l[0],N.a._maximumAliasedLineWidth=l[1];var u=s.getParameter(s.ALIASED_POINT_SIZE_RANGE);N.a._minimumAliasedPointSize=u[0],N.a._maximumAliasedPointSize=u[1];var h=s.getParameter(s.MAX_VIEWPORT_DIMS);N.a._maximumViewportWidth=h[0],N.a._maximumViewportHeight=h[1];var d=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT);N.a._highpFloatSupported=0!==d.precision;var f=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_INT);N.a._highpIntSupported=0!==f.rangeMax,this._antialias=s.getContextAttributes().antialias,this._standardDerivatives=!!c(s,["OES_standard_derivatives"]),this._blendMinmax=!!c(s,["EXT_blend_minmax"]),this._elementIndexUint=!!c(s,["OES_element_index_uint"]),this._depthTexture=!!c(s,["WEBGL_depth_texture","WEBKIT_WEBGL_depth_texture"]),this._fragDepth=!!c(s,["EXT_frag_depth"]),this._debugShaders=c(s,["WEBGL_debug_shaders"]),this._textureFloat=!!c(s,["OES_texture_float"]),this._textureHalfFloat=!!c(s,["OES_texture_half_float"]),this._textureFloatLinear=!!c(s,["OES_texture_float_linear"]),this._textureHalfFloatLinear=!!c(s,["OES_texture_half_float_linear"]),this._colorBufferFloat=!!c(s,["EXT_color_buffer_float","WEBGL_color_buffer_float"]),this._floatBlend=!!c(s,["EXT_float_blend"]),this._colorBufferHalfFloat=!!c(s,["EXT_color_buffer_half_float"]),this._s3tc=!!c(s,["WEBGL_compressed_texture_s3tc","MOZ_WEBGL_compressed_texture_s3tc","WEBKIT_WEBGL_compressed_texture_s3tc"]),this._pvrtc=!!c(s,["WEBGL_compressed_texture_pvrtc","WEBKIT_WEBGL_compressed_texture_pvrtc"]),this._etc1=!!c(s,["WEBGL_compressed_texture_etc1"]);var p=t.allowTextureFilterAnisotropic?c(s,["EXT_texture_filter_anisotropic","WEBKIT_EXT_texture_filter_anisotropic"]):void 0;this._textureFilterAnisotropic=p,N.a._maximumTextureFilterAnisotropy=Object(w.a)(p)?s.getParameter(p.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1;var m,b,x,E,T,A,C,S,j,I;if(r){var R=this;m=function(){return R._gl.createVertexArray()},b=function(e){R._gl.bindVertexArray(e)},x=function(e){R._gl.deleteVertexArray(e)},E=function(e,t,i,n,a){s.drawElementsInstanced(e,t,i,n,a)},T=function(e,t,i,n){s.drawArraysInstanced(e,t,i,n)},A=function(e,t){s.vertexAttribDivisor(e,t)},C=function(e){s.drawBuffers(e)}}else S=c(s,["OES_vertex_array_object"]),Object(w.a)(S)&&(m=function(){return S.createVertexArrayOES()},b=function(e){S.bindVertexArrayOES(e)},x=function(e){S.deleteVertexArrayOES(e)}),j=c(s,["ANGLE_instanced_arrays"]),Object(w.a)(j)&&(E=function(e,t,i,n,a){j.drawElementsInstancedANGLE(e,t,i,n,a)},T=function(e,t,i,n){j.drawArraysInstancedANGLE(e,t,i,n)},A=function(e,t){j.vertexAttribDivisorANGLE(e,t)}),I=c(s,["WEBGL_draw_buffers"]),Object(w.a)(I)&&(C=function(e){I.drawBuffersWEBGL(e)});this.glCreateVertexArray=m,this.glBindVertexArray=b,this.glDeleteVertexArray=x,this.glDrawElementsInstanced=E,this.glDrawArraysInstanced=T,this.glVertexAttribDivisor=A,this.glDrawBuffers=C,this._vertexArrayObject=!!S,this._instancedArrays=!!j,this._drawBuffers=!!I,N.a._maximumDrawBuffers=this.drawBuffers?s.getParameter(D.a.MAX_DRAW_BUFFERS):1,N.a._maximumColorAttachments=this.drawBuffers?s.getParameter(D.a.MAX_COLOR_ATTACHMENTS):1,this._clearColor=new v.a(0,0,0,0),this._clearDepth=1,this._clearStencil=0;var L=new G.a,F=new B.a(this),z=U.a.fromCache();this._defaultPassState=F,this._defaultRenderState=z,this._defaultTexture=void 0,this._defaultCubeMap=void 0,this._us=L,this._currentRenderState=z,this._currentPassState=F,this._currentFramebuffer=void 0,this._maxFrameTextureUnitIndex=0,this._vertexAttribDivisors=[],this._previousDrawInstanced=!1;for(var k=0;k<N.a._maximumVertexAttributes;k++)this._vertexAttribDivisors.push(0);this._pickObjects={},this._nextPickColor=new Uint32Array(1),this.options=t,this.cache={},U.a.apply(s,z,F),this._floatTexSixPlaces=Object(M.a)(this)}function u(e){if(e.validateFramebuffer){var t=e._gl,i=t.checkFramebufferStatus(t.FRAMEBUFFER);if(i!==t.FRAMEBUFFER_COMPLETE){var n;switch(i){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:n="Framebuffer is not complete.  Incomplete attachment: at least one attachment point with a renderbuffer or texture attached has its attached object no longer in existence or has an attached image with a width or height of zero, or the color attachment point has a non-color-renderable image attached, or the depth attachment point has a non-depth-renderable image attached, or the stencil attachment point has a non-stencil-renderable image attached.  Color-renderable formats include GL_RGBA4, GL_RGB5_A1, and GL_RGB565. GL_DEPTH_COMPONENT16 is the only depth-renderable format. GL_STENCIL_INDEX8 is the only stencil-renderable format.";break;case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:n="Framebuffer is not complete.  Incomplete dimensions: not all attached images have the same width and height.";break;case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:n="Framebuffer is not complete.  Missing attachment: no images are attached to the framebuffer.";break;case t.FRAMEBUFFER_UNSUPPORTED:n="Framebuffer is not complete.  Unsupported: the combination of internal formats of the attached images violates an implementation-dependent set of restrictions."}throw new E.a(n)}}}function h(e,t,i,n){var a=e._currentRenderState,r=e._currentPassState;e._currentRenderState=t,e._currentPassState=i,U.a.partialApply(e._gl,a,t,r,i,n)}function d(e,t){if(t!==e._currentFramebuffer){e._currentFramebuffer=t;var i=Q;if(Object(w.a)(t))t._bind(),u(e),i=t._getActiveColorAttachments();else{var n=e._gl;n.bindFramebuffer(n.FRAMEBUFFER,null)}e.drawBuffers&&e.glDrawBuffers(i)}}function f(e,t,i,n,a){if(Object(w.a)(t)&&a.depthTest&&a.depthTest.enabled&&!t.hasDepthAttachment)throw new E.a("The depth test can not be enabled (drawCommand.renderState.depthTest.enabled) because the framebuffer (drawCommand.framebuffer) does not have a depth or depth-stencil renderbuffer.");d(e,t),h(e,a,i,!1),n._bind(),e._maxFrameTextureUnitIndex=Math.max(e._maxFrameTextureUnitIndex,n.maximumTextureUnitIndex)}function p(e,t,i,n){var a=t._primitiveType,r=t._vertexArray,o=t._offset,s=t._count,c=t.instanceCount;if(!j.a.validate(a))throw new E.a("drawCommand.primitiveType is required and must be valid.");if(g.a.defined("drawCommand.vertexArray",r),g.a.typeOf.number.greaterThanOrEquals("drawCommand.offset",o,0),Object(w.a)(s)&&g.a.typeOf.number.greaterThanOrEquals("drawCommand.count",s,0),g.a.typeOf.number.greaterThanOrEquals("drawCommand.instanceCount",c,0),c>0&&!e.instancedArrays)throw new E.a("Instanced arrays extension is not supported");e._us.model=Object(O.a)(t._modelMatrix,C.a.IDENTITY),i._setUniforms(n,e._us,e.validateShaderProgram),r._bind();var l=r.indexBuffer;Object(w.a)(l)?(o*=l.bytesPerIndex,s=Object(O.a)(s,l.numberOfIndices),0===c?e._gl.drawElements(a,s,l.indexDatatype,o):e.glDrawElementsInstanced(a,s,l.indexDatatype,o,c)):(s=Object(O.a)(s,r.numberOfVertices),0===c?e._gl.drawArrays(a,o,s):e.glDrawArraysInstanced(a,o,s,c)),r._unBind()}function m(e,t,i){this._pickObjects=e,this.key=t,this.color=i}var g=i("5F4X"),_=i("wv0P"),v=i("6F0S"),b=i("YCZg"),y=i("ed27"),O=i("5A4e"),w=i("xC6Q"),x=i("6sr8"),E=i("PzDm"),T=i("RGAo"),A=i("RYD3"),C=i("Xjii"),S=i("FhYh"),j=i("nHNe"),P=i("V22k"),D=i("1L1F"),I=i("yOzb"),R=i("rFKc"),M=i("5Vrx"),L=i("/DUn"),N=i("J1no"),F=i("VvLh"),z=i("1mJh"),B=i("o12a"),k=i("HvCH"),U=i("DrvA"),V=i("zarC"),H=i("WUlw"),q=i("25X5"),W=i("1u5j"),G=i("qT6X"),Y=i("+0EW"),X={};Object.defineProperties(l.prototype,{id:{get:function(){return this._id}},webgl2:{get:function(){return this._webgl2}},canvas:{get:function(){return this._canvas}},shaderCache:{get:function(){return this._shaderCache}},textureCache:{get:function(){return this._textureCache}},uniformState:{get:function(){return this._us}},stencilBits:{get:function(){return this._stencilBits}},stencilBuffer:{get:function(){return this._stencilBits>=8}},antialias:{get:function(){return this._antialias}},standardDerivatives:{get:function(){return this._standardDerivatives||this._webgl2}},floatBlend:{get:function(){return this._floatBlend}},blendMinmax:{get:function(){return this._blendMinmax||this._webgl2}},elementIndexUint:{get:function(){return this._elementIndexUint||this._webgl2}},depthTexture:{get:function(){return this._depthTexture||this._webgl2}},floatingPointTexture:{get:function(){return this._webgl2||this._textureFloat}},floatTextureSixPlaces:{get:function(){return this._floatTexSixPlaces}},halfFloatingPointTexture:{get:function(){return this._webgl2||this._textureHalfFloat}},textureFloatLinear:{get:function(){return this._textureFloatLinear}},textureHalfFloatLinear:{get:function(){return this._webgl2&&this._textureFloatLinear||!this._webgl2&&this._textureHalfFloatLinear}},textureFilterAnisotropic:{get:function(){return!!this._textureFilterAnisotropic}},s3tc:{get:function(){return this._s3tc}},pvrtc:{get:function(){return this._pvrtc}},etc1:{get:function(){return this._etc1}},vertexArrayObject:{get:function(){return this._vertexArrayObject||this._webgl2}},fragmentDepth:{get:function(){return this._fragDepth||this._webgl2}},instancedArrays:{get:function(){return this._instancedArrays||this._webgl2}},colorBufferFloat:{get:function(){return this._colorBufferFloat}},colorBufferHalfFloat:{get:function(){return this._webgl2&&this._colorBufferFloat||!this._webgl2&&this._colorBufferHalfFloat}},drawBuffers:{get:function(){return this._drawBuffers||this._webgl2}},debugShaders:{get:function(){return this._debugShaders}},throwOnWebGLError:{get:function(){return this._throwOnWebGLError},set:function(e){this._throwOnWebGLError=e,this._gl=s(this._originalGLContext,e?r:void 0)}},defaultTexture:{get:function(){return void 0===this._defaultTexture&&(this._defaultTexture=new q.a({context:this,source:{width:1,height:1,arrayBufferView:new Uint8Array([255,255,255,255])},flipY:!1})),this._defaultTexture}},defaultCubeMap:{get:function(){if(void 0===this._defaultCubeMap){var e={width:1,height:1,arrayBufferView:new Uint8Array([255,255,255,255])};this._defaultCubeMap=new F.a({context:this,source:{positiveX:e,negativeX:e,positiveY:e,negativeY:e,positiveZ:e,negativeZ:e},flipY:!1})}return this._defaultCubeMap}},drawingBufferHeight:{get:function(){return this._gl.drawingBufferHeight}},drawingBufferWidth:{get:function(){return this._gl.drawingBufferWidth}},defaultFramebuffer:{get:function(){return X}}});var Q;"undefined"!=typeof WebGLRenderingContext&&(Q=[D.a.BACK]);var J=new L.a;l.prototype.clear=function(e,t){e=Object(O.a)(e,J),t=Object(O.a)(t,this._defaultPassState);var i=this._gl,n=0,a=e.color,r=e.depth,o=e.stencil;Object(w.a)(a)&&(v.a.equals(this._clearColor,a)||(v.a.clone(a,this._clearColor),i.clearColor(a.red,a.green,a.blue,a.alpha)),n|=i.COLOR_BUFFER_BIT),Object(w.a)(r)&&(r!==this._clearDepth&&(this._clearDepth=r,i.clearDepth(r)),n|=i.DEPTH_BUFFER_BIT),Object(w.a)(o)&&(o!==this._clearStencil&&(this._clearStencil=o,i.clearStencil(o)),n|=i.STENCIL_BUFFER_BIT),h(this,Object(O.a)(e.renderState,this._defaultRenderState),t,!0),d(this,Object(O.a)(e.framebuffer,t.framebuffer)),i.clear(n)},l.prototype.draw=function(e,t,i,n){g.a.defined("drawCommand",e),g.a.defined("drawCommand.shaderProgram",e._shaderProgram),t=Object(O.a)(t,this._defaultPassState);var a=Object(O.a)(e._framebuffer,t.framebuffer),r=Object(O.a)(e._renderState,this._defaultRenderState);i=Object(O.a)(i,e._shaderProgram),n=Object(O.a)(n,e._uniformMap),f(this,a,t,i,r),p(this,e,i,n)},l.prototype.endFrame=function(){var e=this._gl;e.useProgram(null),this._currentFramebuffer=void 0,e.bindFramebuffer(e.FRAMEBUFFER,null);var t=Q;this.drawBuffers&&this.glDrawBuffers(t);var i=this._maxFrameTextureUnitIndex;this._maxFrameTextureUnitIndex=0;for(var n=0;n<i;++n)e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_CUBE_MAP,null)},l.prototype.readPixels=function(e){var t=this._gl;e=Object(O.a)(e,O.a.EMPTY_OBJECT);var i=Math.max(Object(O.a)(e.x,0),0),n=Math.max(Object(O.a)(e.y,0),0),a=Object(O.a)(e.width,t.drawingBufferWidth),r=Object(O.a)(e.height,t.drawingBufferHeight),o=e.framebuffer;g.a.typeOf.number.greaterThan("readState.width",a,0),g.a.typeOf.number.greaterThan("readState.height",r,0);var s=k.a.UNSIGNED_BYTE;Object(w.a)(o)&&o.numberOfColorAttachments>0&&(s=o.getColorTexture(0).pixelDatatype);var c=S.a.createTypedArray(S.a.RGBA,s,a,r);return d(this,o),t.readPixels(i,n,a,r,S.a.RGBA,s,c),c};var Z={position:0,textureCoordinates:1};l.prototype.getViewportQuadVertexArray=function(){var e=this.cache.viewportQuad_vertexArray;if(!Object(w.a)(e)){var t=new T.a({attributes:{position:new A.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:2,values:[-1,-1,1,-1,1,1,-1,1]}),textureCoordinates:new A.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:2,values:[0,0,1,0,1,1,0,1]})},indices:new Uint16Array([0,1,2,0,2,3]),primitiveType:j.a.TRIANGLES});e=Y.a.fromGeometry({context:this,geometry:t,attributeLocations:Z,bufferUsage:R.a.STATIC_DRAW,interleave:!0}),this.cache.viewportQuad_vertexArray=e}return e},l.prototype.createViewportQuadCommand=function(e,t){return t=Object(O.a)(t,O.a.EMPTY_OBJECT),new z.a({vertexArray:this.getViewportQuadVertexArray(),primitiveType:j.a.TRIANGLES,renderState:t.renderState,shaderProgram:H.a.fromCache({context:this,vertexShaderSource:I.a,fragmentShaderSource:e,attributeLocations:Z}),uniformMap:t.uniformMap,owner:t.owner,framebuffer:t.framebuffer,pass:t.pass})},l.prototype.getObjectByPickColor=function(e){return g.a.defined("pickColor",e),this._pickObjects[e.toRgba()]},Object.defineProperties(m.prototype,{object:{get:function(){return this._pickObjects[this.key]},set:function(e){this._pickObjects[this.key]=e}}}),m.prototype.destroy=function(){delete this._pickObjects[this.key]},l.prototype.createPickId=function(e){g.a.defined("object",e),++this._nextPickColor[0];var t=this._nextPickColor[0];if(0===t)throw new P.a("Out of unique Pick IDs.");return this._pickObjects[t]=e,new m(this._pickObjects,t,v.a.fromRgba(t))},l.prototype.isDestroyed=function(){return!1},l.prototype.destroy=function(){var e=this.cache;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];Object(w.a)(i.destroy)&&i.destroy()}return this._shaderCache=this._shaderCache.destroy(),this._textureCache=this._textureCache.destroy(),this._defaultTexture=this._defaultTexture&&this._defaultTexture.destroy(),this._defaultCubeMap=this._defaultCubeMap&&this._defaultCubeMap.destroy(),Object(x.a)(this)},t.a=l},"d+a7":function(e,t,i){"use strict";function n(e,t){t=Object(W.a)(t,W.a.EMPTY_OBJECT);var i=t.targetVersion,n=e.version;e.asset=Object(W.a)(e.asset,{version:"1.0"}),e.asset.version=Object(W.a)(e.asset.version,"1.0"),n=Object(W.a)(n,e.asset.version).toString(),Object.prototype.hasOwnProperty.call(J,n)||(Object(G.a)(n)&&(n=n.substring(0,3)),Object.prototype.hasOwnProperty.call(J,n)||(n="1.0"));for(var a=J[n];Object(G.a)(a)&&n!==i;)a(e,t),n=e.asset.version,a=J[n];return e}function a(e){var t=e.materials;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i],a=n.instanceTechnique;Object(G.a)(a)&&(n.technique=a.technique,n.values=a.values,delete n.instanceTechnique)}}function r(e){var t=e.meshes;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i],a=n.primitives;if(Object(G.a)(a))for(var r=a.length,o=0;o<r;++o){var s=a[o],c=Object(W.a)(s.primitive,Q.a.TRIANGLES);s.mode=Object(W.a)(s.mode,c),delete s.primitive}}}function o(e){var t=e.nodes,i=new U.a,n=new X.a;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var r=t[a];if(Object(G.a)(r.rotation)){var o=r.rotation;U.a.fromArray(o,0,i),X.a.fromAxisAngle(i,o[3],n),r.rotation=[n.x,n.y,n.z,n.w]}var s=r.instanceSkin;Object(G.a)(s)&&(r.skeletons=s.skeletons,r.skin=s.skin,r.meshes=s.meshes,delete r.instanceSkin)}}function s(e){var t=e.animations,i=e.accessors,n=e.bufferViews,a=e.buffers,r={},o=new U.a,s=new X.a;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var l=t[c],u=l.channels,h=l.parameters,d=l.samplers;if(Object(G.a)(u))for(var f=u.length,p=0;p<f;++p){var m=u[p];if("rotation"===m.target.path){var g=h[d[m.sampler].output];if(Object(G.a)(r[g]))continue;r[g]=!0;for(var _=i[g],v=n[_.bufferView],b=a[v.buffer],y=b.extras._pipeline.source,O=y.byteOffset+v.byteOffset+_.byteOffset,w=_.componentType,x=_.count,E=Object(N.a)(_.type),T=_.count*E,A=q.a.createArrayBufferView(w,y.buffer,O,T),C=0;C<x;C++){var S=C*E;U.a.unpack(A,S,o);var j=A[S+3];X.a.fromAxisAngle(o,j,s),X.a.pack(s,A,S)}}}}}function c(e){var t=e.techniques;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i],a=n.passes;if(Object(G.a)(a)){var r=Object(W.a)(n.pass,"defaultPass");if(Object.prototype.hasOwnProperty.call(a,r)){var o=a[r],s=o.instanceProgram;n.attributes=Object(W.a)(n.attributes,s.attributes),n.program=Object(W.a)(n.program,s.program),n.uniforms=Object(W.a)(n.uniforms,s.uniforms),n.states=Object(W.a)(n.states,o.states)}delete n.passes,delete n.pass}}}function l(e){Object(G.a)(e.asset)||(e.asset={});var t=e.asset;if(t.version="1.0","string"==typeof t.profile){var i=t.profile.split(" ");t.profile={api:i[0],version:i[1]}}else t.profile={};if(Object(G.a)(e.version)&&delete e.version,a(e),r(e),o(e),s(e),c(e),Object(G.a)(e.allExtensions)&&(e.extensionsUsed=e.allExtensions,delete e.allExtensions),Object(G.a)(e.lights)){var n=Object(W.a)(e.extensions,{});e.extensions=n;var l=Object(W.a)(n.KHR_materials_common,{});n.KHR_materials_common=l,l.lights=e.lights,delete e.lights,Object(D.a)(e,"KHR_materials_common")}}function u(e){var t=e.animations;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i],a=n.parameters;if(Object(G.a)(a)){var r=n.samplers;for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var s=r[o];s.input=a[s.input],s.output=a[s.output]}delete n.parameters}}}function h(e,t){var i=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=e[n];t[n]=i.length,i.push(a),Object(G.a)(a.name)||(a.name=n)}return i}function d(e){var t,i,n={accessors:{},animations:{},buffers:{},bufferViews:{},cameras:{},images:{},materials:{},meshes:{},nodes:{},programs:{},samplers:{},scenes:{},shaders:{},skins:{},textures:{},techniques:{}},a={},r=e.nodes;for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i=r[o].jointName,Object(G.a)(i)&&(a[i]=o));for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Object(G.a)(n[s])){var c={},l=e[s];e[s]=h(l,c),n[s]=c}for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(a[i]=n.nodes[a[i]]);Object(G.a)(e.scene)&&(e.scene=n.scenes[e.scene]),M.a.bufferView(e,function(e){Object(G.a)(e.buffer)&&(e.buffer=n.buffers[e.buffer])}),M.a.accessor(e,function(e){Object(G.a)(e.bufferView)&&(e.bufferView=n.bufferViews[e.bufferView])}),M.a.shader(e,function(e){var t=e.extensions;if(Object(G.a)(t)){var i=t.KHR_binary_glTF;Object(G.a)(i)&&(e.bufferView=n.bufferViews[i.bufferView],delete t.KHR_binary_glTF),0===Object.keys(t).length&&delete e.extensions}}),M.a.program(e,function(e){Object(G.a)(e.vertexShader)&&(e.vertexShader=n.shaders[e.vertexShader]),Object(G.a)(e.fragmentShader)&&(e.fragmentShader=n.shaders[e.fragmentShader])}),M.a.technique(e,function(e){Object(G.a)(e.program)&&(e.program=n.programs[e.program]),M.a.techniqueParameter(e,function(e){Object(G.a)(e.node)&&(e.node=n.nodes[e.node]);var t=e.value;"string"==typeof t&&(e.value={index:n.textures[t]})})}),M.a.mesh(e,function(e){M.a.meshPrimitive(e,function(e){Object(G.a)(e.indices)&&(e.indices=n.accessors[e.indices]),M.a.meshPrimitiveAttribute(e,function(t,i){e.attributes[i]=n.accessors[t]}),Object(G.a)(e.material)&&(e.material=n.materials[e.material])})}),M.a.node(e,function(i){var a=i.children;if(Object(G.a)(a)){var r=a.length;for(t=0;t<r;++t)a[t]=n.nodes[a[t]]}if(Object(G.a)(i.meshes)){var o=i.meshes,s=o.length;if(s>0)for(i.mesh=n.meshes[o[0]],t=1;t<s;++t){var c={mesh:n.meshes[o[t]]},l=Object(I.a)(e.nodes,c);Object(G.a)(a)||(a=[],i.children=a),a.push(l)}delete i.meshes}if(Object(G.a)(i.camera)&&(i.camera=n.cameras[i.camera]),Object(G.a)(i.skin)&&(i.skin=n.skins[i.skin]),Object(G.a)(i.skeletons)){var u=i.skeletons;if(u.length>0&&Object(G.a)(i.skin)){e.skins[i.skin].skeleton=n.nodes[u[0]]}delete i.skeletons}Object(G.a)(i.jointName)&&delete i.jointName}),M.a.skin(e,function(e){Object(G.a)(e.inverseBindMatrices)&&(e.inverseBindMatrices=n.accessors[e.inverseBindMatrices]);var i=e.jointNames;if(Object(G.a)(i)){var r=[],o=i.length;for(t=0;t<o;++t)r[t]=a[i[t]];e.joints=r,delete e.jointNames}}),M.a.scene(e,function(e){var i=e.nodes;if(Object(G.a)(i)){var a=i.length;for(t=0;t<a;++t)i[t]=n.nodes[i[t]]}}),M.a.animation(e,function(e){var t={};e.samplers=h(e.samplers,t),M.a.animationSampler(e,function(e){e.input=n.accessors[e.input],e.output=n.accessors[e.output]}),M.a.animationChannel(e,function(e){e.sampler=t[e.sampler];var i=e.target;Object(G.a)(i)&&(i.node=n.nodes[i.id],delete i.id)})}),M.a.material(e,function(e){Object(G.a)(e.technique)&&(e.technique=n.techniques[e.technique]),M.a.materialValue(e,function(t,i){"string"==typeof t&&(e.values[i]={index:n.textures[t]})});var t=e.extensions;if(Object(G.a)(t)){var i=t.KHR_materials_common;Object(G.a)(i)&&M.a.materialValue(i,function(e,t){"string"==typeof e&&(i.values[t]={index:n.textures[e]})})}}),M.a.image(e,function(e){var t=e.extensions;if(Object(G.a)(t)){var i=t.KHR_binary_glTF;Object(G.a)(i)&&(e.bufferView=n.bufferViews[i.bufferView],e.mimeType=i.mimeType,delete t.KHR_binary_glTF),0===Object.keys(t).length&&delete e.extensions}M.a.compressedImage(e,function(e){var i=e.extensions;if(Object(G.a)(i)){var a=i.KHR_binary_glTF;Object(G.a)(a)&&(e.bufferView=n.bufferViews[a.bufferView],e.mimeType=a.mimeType,delete i.KHR_binary_glTF),0===Object.keys(t).length&&delete e.extensions}})}),M.a.texture(e,function(e){Object(G.a)(e.sampler)&&(e.sampler=n.samplers[e.sampler]),Object(G.a)(e.source)&&(e.source=n.images[e.source])})}function f(e){M.a.animation(e,function(e){M.a.animationSampler(e,function(e){delete e.name})})}function p(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=e[t];Array.isArray(i)&&0===i.length&&delete e[t]}M.a.node(e,function(e){Object(G.a)(e.children)&&0===e.children.length&&delete e.children})}function m(e){var t=e.asset;delete t.profile,delete t.premultipliedAlpha}function g(e){var t=e.extensionsUsed;if(e.extensionsRequired=Object(W.a)(e.extensionsRequired,[]),Object(G.a)(t))for(var i=t.length,n=0;n<i;++n){var a=t[n];Object(G.a)(Z[a])&&e.extensionsRequired.push(a)}}function _(e){M.a.buffer(e,function(e){delete e.type})}function v(e){M.a.texture(e,function(e){delete e.format,delete e.internalFormat,delete e.target,delete e.type})}function b(e){M.a.mesh(e,function(e){M.a.meshPrimitive(e,function(e){M.a.meshPrimitiveAttribute(e,function(t,i){"TEXCOORD"===i?e.attributes.TEXCOORD_0=t:"COLOR"===i&&(e.attributes.COLOR_0=t)}),delete e.attributes.TEXCOORD,delete e.attributes.COLOR})}),M.a.technique(e,function(e){M.a.techniqueParameter(e,function(e){var t=e.semantic;Object(G.a)(t)&&("TEXCOORD"===t?e.semantic="TEXCOORD_0":"COLOR"===t&&(e.semantic="COLOR_0"))})})}function y(e){var t={};M.a.mesh(e,function(e){M.a.meshPrimitive(e,function(e){M.a.meshPrimitiveAttribute(e,function(e,i){if("_"!==i.charAt(0)){var n=i.search(/_[0-9]+/g),a=i,r="_0";n>=0&&(a=i.substring(0,n),r=i.substring(n));var o,s=$[a];Object(G.a)(s)?(o=s+r,t[i]=o):Object(G.a)(K[a])||(o="_"+i,t[i]=o)}});for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i],a=e.attributes[i];Object(G.a)(a)&&(delete e.attributes[i],e.attributes[n]=a)}})}),M.a.technique(e,function(e){M.a.techniqueParameter(e,function(e){var i=t[e.semantic];Object(G.a)(i)&&(e.semantic=i)})})}function O(e){M.a.camera(e,function(e){var t=e.perspective;if(Object(G.a)(t)){var i=t.aspectRatio;Object(G.a)(i)&&0===i&&delete t.aspectRatio;var n=t.yfov;Object(G.a)(n)&&0===n&&(t.yfov=1)}})}function w(e,t){return Object(G.a)(t.byteStride)&&0!==t.byteStride?t.byteStride:Object(L.a)(e,t)}function x(e){M.a.buffer(e,function(e){Object(G.a)(e.byteLength)||(e.byteLength=e.extras._pipeline.source.length)}),M.a.accessor(e,function(t){var i=t.bufferView;if(Object(G.a)(i)){var n=e.bufferViews[i],a=w(e,t),r=t.byteOffset+t.count*a;n.byteLength=Math.max(Object(W.a)(n.byteLength,0),r)}})}function E(e){var t,i,n,a=e.bufferViews,r={};M.a.accessorContainingVertexAttributeData(e,function(t){var i=e.accessors[t];Object(G.a)(i.bufferView)&&(r[i.bufferView]=!0)});var o={};M.a.accessor(e,function(e){Object(G.a)(e.bufferView)&&(o[e.bufferView]=Object(W.a)(o[e.bufferView],[]),o[e.bufferView].push(e))});for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)){n=a[s];var c=o[s];c.sort(function(e,t){return e.byteOffset-t.byteOffset});var l=0,u=0,h=c.length;for(t=0;t<h;++t){var d=c[t],f=w(e,d),p=d.byteOffset,m=d.count*f;delete d.byteStride;var g=t<h-1,_=g?w(e,c[t+1]):void 0;if(f!==_){var v=Object(H.a)(n,!0);r[s]&&(v.byteStride=f),v.byteOffset+=l,v.byteLength=p+m-l;var b=Object(I.a)(a,v);for(i=u;i<=t;++i)d=c[i],d.bufferView=b,d.byteOffset=d.byteOffset-l;l=g?c[t+1].byteOffset:void 0,u=t+1}}}Object(B.a)(e,["accessor","bufferView","buffer"])}function T(e){M.a.accessorWithSemantic(e,"POSITION",function(t){var i=e.accessors[t];if(!Object(G.a)(i.min)||!Object(G.a)(i.max)){var n=Object(R.a)(e,i);i.min=n.min,i.max=n.max}})}function A(e){return(!Object(G.a)(e.children)||0===e.children.length)&&(!Object(G.a)(e.meshes)||0===e.meshes.length)&&!Object(G.a)(e.camera)&&!Object(G.a)(e.skin)&&!Object(G.a)(e.skeletons)&&!Object(G.a)(e.jointName)&&(!Object(G.a)(e.translation)||U.a.fromArray(e.translation).equals(U.a.ZERO))&&(!Object(G.a)(e.scale)||U.a.fromArray(e.scale).equals(new U.a(1,1,1)))&&(!Object(G.a)(e.rotation)||V.a.fromArray(e.rotation).equals(new V.a(0,0,0,1)))&&(!Object(G.a)(e.matrix)||Y.a.fromColumnMajorArray(e.matrix).equals(Y.a.IDENTITY))&&!Object(G.a)(e.extensions)&&!Object(G.a)(e.extras)}function C(e,t){M.a.scene(e,function(e){var i=e.nodes;if(Object(G.a)(i))for(var n=i.length,a=n;a>=0;--a)if(i[a]===t)return void i.splice(a,1)}),M.a.node(e,function(i,n){if(Object(G.a)(i.children)){var a=i.children.indexOf(t);a>-1&&(i.children.splice(a,1),A(i)&&C(e,n))}}),delete e.nodes[t]}function S(e){return M.a.node(e,function(t,i){A(t)&&C(e,i)}),e}function j(e){M.a.animation(e,function(t){M.a.animationSampler(t,function(t){var i=e.accessors[t.input];if(!Object(G.a)(i.min)||!Object(G.a)(i.max)){var n=Object(R.a)(e,i);i.min=n.min,i.max=n.max}})})}function P(e){e.asset=Object(W.a)(e.asset,{}),e.asset.version="2.0",a(e),u(e),S(e),d(e),f(e),m(e),g(e),x(e),E(e),T(e),j(e),_(e),v(e),b(e),y(e),Object(k.a)(e),O(e),Object(F.a)(e),Object(z.a)(e),p(e)}var D=i("o/vQ"),I=i("gjak"),R=i("OdOp"),M=i("FJg6"),L=i("dWoC"),N=i("8uSS"),F=i("opDe"),z=i("ZmQD"),B=i("Q8Zd"),k=i("beGl"),U=i("Jj+J"),V=i("PDkd"),H=i("wv0P"),q=i("YCZg"),W=i("5A4e"),G=i("xC6Q"),Y=i("Xjii"),X=i("q/xW"),Q=i("1L1F"),J={.8:l,"1.0":P,"2.0":void 0},Z={CESIUM_RTC:!0,KHR_materials_common:!0,WEB3D_quantized_attributes:!0},K={POSITION:!0,NORMAL:!0,TANGENT:!0},$={COLOR:"COLOR",JOINT:"JOINTS",JOINTS:"JOINTS",TEXCOORD:"TEXCOORD",WEIGHT:"WEIGHTS",WEIGHTS:"WEIGHTS"};t.a=n},d0ze:function(e,t,i){"use strict";var n=i("cTEo"),a=i("Zg8T"),r=i("sFKM"),o=i("ds2s"),s=i("Khf6"),c=i("yFAi"),l=i("Q35R"),u={b3dm:function(e,t,i,a,r){return new n.a(e,t,i,a,r)},pnts:function(e,t,i,n,a){return new s.a(e,t,i,n,a)},i3dm:function(e,t,i,n,a){return new o.a(e,t,i,n,a)},cmpt:function(e,t,i,n,r){return new a.a(e,t,i,n,r,u)},json:function(e,t,i,n,a){return new c.a(e,t,i,n,a)},geom:function(e,t,i,n,a){return new r.a(e,t,i,n,a)},vctr:function(e,t,i,n,a){return new l.a(e,t,i,n,a)}};t.a=u},d6cF:function(e,t,i){"use strict";e.exports=EvalError},dBXn:function(e,t,i){"use strict";function n(e,t,i){var n,a=!i,r=e.length;if(!a&&r>1){var o=e[0].modelMatrix;for(n=1;n<r;++n)if(!S.a.equals(o,e[n].modelMatrix)){a=!0;break}}if(a)for(n=0;n<r;++n)Object(b.a)(e[n].geometry)&&A.a.transformToWorldCoordinates(e[n]);else S.a.multiplyTransformation(t,e[0].modelMatrix,t)}function a(e,t){var i=e.attributes,n=i.position,a=n.values.length/n.componentsPerAttribute;i.batchId=new E.a({componentDatatype:_.a.FLOAT,componentsPerAttribute:1,values:new Float32Array(a)});for(var r=i.batchId.values,o=0;o<a;++o)r[o]=t}function r(e){for(var t=e.length,i=0;i<t;++i){var n=e[i];Object(b.a)(n.geometry)?a(n.geometry,i):Object(b.a)(n.westHemisphereGeometry)&&Object(b.a)(n.eastHemisphereGeometry)&&(a(n.westHemisphereGeometry,i),a(n.eastHemisphereGeometry,i))}}function o(e){var t,i,a,o=e.instances,s=e.projection,c=e.elementIndexUintSupported,l=e.scene3DOnly,u=e.vertexCacheOptimize,h=e.compressVertices,d=e.modelMatrix,f=o.length;for(t=0;t<f;++t)if(Object(b.a)(o[t].geometry)){a=o[t].geometry.primitiveType;break}for(t=1;t<f;++t)if(Object(b.a)(o[t].geometry)&&o[t].geometry.primitiveType!==a)throw new y.a("All instance geometries must have the same primitiveType.");if(n(o,d,l),!l)for(t=0;t<f;++t)Object(b.a)(o[t].geometry)&&A.a.splitLongitude(o[t]);if(r(o),u)for(t=0;t<f;++t){var p=o[t];Object(b.a)(p.geometry)?(A.a.reorderForPostVertexCache(p.geometry),A.a.reorderForPreVertexCache(p.geometry)):Object(b.a)(p.westHemisphereGeometry)&&Object(b.a)(p.eastHemisphereGeometry)&&(A.a.reorderForPostVertexCache(p.westHemisphereGeometry),A.a.reorderForPreVertexCache(p.westHemisphereGeometry),A.a.reorderForPostVertexCache(p.eastHemisphereGeometry),A.a.reorderForPreVertexCache(p.eastHemisphereGeometry))}var m=A.a.combineInstances(o);for(f=m.length,t=0;t<f;++t){i=m[t];var v,O=i.attributes;if(l)for(v in O)O.hasOwnProperty(v)&&O[v].componentDatatype===_.a.DOUBLE&&A.a.encodeAttribute(i,v,v+"3DHigh",v+"3DLow");else for(v in O)if(O.hasOwnProperty(v)&&O[v].componentDatatype===_.a.DOUBLE){var w=v+"3D",x=v+"2D";A.a.projectTo2D(i,v,w,x,s),Object(b.a)(i.boundingSphere)&&"position"===v&&(i.boundingSphereCV=g.a.fromVertices(i.attributes.position2D.values)),A.a.encodeAttribute(i,w,w+"High",w+"Low"),A.a.encodeAttribute(i,x,x+"High",x+"Low")}h&&A.a.compressVertices(i)}if(!c){var E=[];for(f=m.length,t=0;t<f;++t)i=m[t],E=E.concat(A.a.fitToUnsignedShortIndices(i));m=E}return m}function s(e,t,i,n){var a,r,o,s=n.length-1;if(s>=0){var c=n[s];a=c.offset+c.count,o=c.index,r=i[o].indices.length}else a=0,o=0,r=i[o].indices.length;for(var l=e.length,u=0;u<l;++u){var h=e[u],d=h[t];if(Object(b.a)(d)){var f=d.indices.length;a+f>r&&(a=0,r=i[++o].indices.length),n.push({index:o,offset:a,count:f}),a+=f}}}function c(e,t){var i=[];return s(e,"geometry",t,i),s(e,"westHemisphereGeometry",t,i),s(e,"eastHemisphereGeometry",t,i),i}function l(e,t){var i=e.attributes;for(var n in i)if(i.hasOwnProperty(n)){var a=i[n];Object(b.a)(a)&&Object(b.a)(a.values)&&t.push(a.values.buffer)}Object(b.a)(e.indices)&&t.push(e.indices.buffer)}function u(e,t){for(var i=e.length,n=0;n<i;++n)l(e[n],t)}function h(e){for(var t=1,i=e.length,n=0;n<i;n++){var a=e[n];if(++t,Object(b.a)(a)){var r=a.attributes;t+=7+2*g.a.packedLength+(Object(b.a)(a.indices)?a.indices.length:0);for(var o in r)if(r.hasOwnProperty(o)&&Object(b.a)(r[o])){var s=r[o];t+=5+s.values.length}}}return t}function d(e,t){var i=e.length,n=new Float64Array(1+19*i),a=0;n[a++]=i;for(var r=0;r<i;r++){var o=e[r];if(S.a.pack(o.modelMatrix,n,a),a+=S.a.packedLength,Object(b.a)(o.attributes)&&Object(b.a)(o.attributes.offset)){var s=o.attributes.offset.value;n[a]=s[0],n[a+1]=s[1],n[a+2]=s[2]}a+=3}return t.push(n.buffer),n}function f(e){for(var t=e,i=new Array(t[0]),n=0,a=1;a<t.length;){var r,o=S.a.unpack(t,a);a+=S.a.packedLength,Object(b.a)(t[a])&&(r={offset:new j.a(t[a],t[a+1],t[a+2])}),a+=3,i[n++]={modelMatrix:o,attributes:r}}return i}function p(e){var t=e.length,i=1+(g.a.packedLength+1)*t,n=new Float32Array(i),a=0;n[a++]=t;for(var r=0;r<t;++r){var o=e[r];Object(b.a)(o)?(n[a++]=1,g.a.pack(e[r],n,a)):n[a++]=0,a+=g.a.packedLength}return n}function m(e){for(var t=new Array(e[0]),i=0,n=1;n<e.length;)1===e[n++]&&(t[i]=g.a.unpack(e,n)),++i,n+=g.a.packedLength;return t}var g=i("lBr9"),_=i("YCZg"),v=i("5A4e"),b=i("xC6Q"),y=i("PzDm"),O=i("y6fO"),w=i("eUIW"),x=i("RGAo"),E=i("RYD3"),T=i("GaJK"),A=i("odWO"),C=i("oMsT"),S=i("Xjii"),j=i("wpHJ"),P=i("6AvQ"),D={};D.combineGeometry=function(e){var t,i,n,a,r=e.instances,s=r.length,l=!1;s>0&&(t=o(e),t.length>0&&(i=A.a.createAttributeLocations(t[0]),e.createPickOffsets&&(n=c(r,t))),Object(b.a)(r[0].attributes)&&Object(b.a)(r[0].attributes.offset)&&(a=new Array(s),l=!0));for(var u=new Array(s),h=new Array(s),d=0;d<s;++d){var f=r[d],p=f.geometry;Object(b.a)(p)&&(u[d]=p.boundingSphere,h[d]=p.boundingSphereCV,l&&(a[d]=f.geometry.offsetAttribute));var m=f.eastHemisphereGeometry,_=f.westHemisphereGeometry;Object(b.a)(m)&&Object(b.a)(_)&&(Object(b.a)(m.boundingSphere)&&Object(b.a)(_.boundingSphere)&&(u[d]=g.a.union(m.boundingSphere,_.boundingSphere)),Object(b.a)(m.boundingSphereCV)&&Object(b.a)(_.boundingSphereCV)&&(h[d]=g.a.union(m.boundingSphereCV,_.boundingSphereCV)))}return{geometries:t,modelMatrix:e.modelMatrix,attributeLocations:i,pickOffsets:n,offsetInstanceExtend:a,boundingSpheres:u,boundingSpheresCV:h}},D.packCreateGeometryResults=function(e,t){var i=new Float64Array(h(e)),n=[],a={},r=e.length,o=0;i[o++]=r;for(var s=0;s<r;s++){var c=e[s],l=Object(b.a)(c);if(i[o++]=l?1:0,l){i[o++]=c.primitiveType,i[o++]=c.geometryType,i[o++]=Object(v.a)(c.offsetAttribute,-1);var u=Object(b.a)(c.boundingSphere)?1:0;i[o++]=u,u&&g.a.pack(c.boundingSphere,i,o),o+=g.a.packedLength;var d=Object(b.a)(c.boundingSphereCV)?1:0;i[o++]=d,d&&g.a.pack(c.boundingSphereCV,i,o),o+=g.a.packedLength;var f=c.attributes,p=[];for(var m in f)f.hasOwnProperty(m)&&Object(b.a)(f[m])&&(p.push(m),Object(b.a)(a[m])||(a[m]=n.length,n.push(m)));i[o++]=p.length;for(var _=0;_<p.length;_++){var y=p[_],O=f[y];i[o++]=a[y],i[o++]=O.componentDatatype,i[o++]=O.componentsPerAttribute,i[o++]=O.normalize?1:0,i[o++]=O.values.length,i.set(O.values,o),o+=O.values.length}var w=Object(b.a)(c.indices)?c.indices.length:0;i[o++]=w,w>0&&(i.set(c.indices,o),o+=w)}}return t.push(i.buffer),{stringTable:n,packedData:i}},D.unpackCreateGeometryResults=function(e){for(var t,i=e.stringTable,n=e.packedData,a=new Array(n[0]),r=0,o=1;o<n.length;){if(1===n[o++]){var s=n[o++],c=n[o++],l=n[o++];-1===l&&(l=void 0);var u,h;1===n[o++]&&(u=g.a.unpack(n,o)),o+=g.a.packedLength;1===n[o++]&&(h=g.a.unpack(n,o)),o+=g.a.packedLength;var d,f,p,m=new T.a,v=n[o++];for(t=0;t<v;t++){var b=i[n[o++]],y=n[o++];p=n[o++];var O=0!==n[o++];d=n[o++],f=_.a.createTypedArray(y,d);for(var w=0;w<d;w++)f[w]=n[o++];m[b]=new E.a({componentDatatype:y,componentsPerAttribute:p,normalize:O,values:f})}var A;if((d=n[o++])>0){var S=f.length/p;for(A=C.a.createTypedArray(S,d),t=0;t<d;t++)A[t]=n[o++]}a[r++]=new x.a({primitiveType:s,geometryType:c,boundingSphere:u,boundingSphereCV:h,indices:A,attributes:m,offsetAttribute:l})}else a[r++]=void 0}return a},D.packCombineGeometryParameters=function(e,t){for(var i=e.createGeometryResults,n=i.length,a=0;a<n;a++)t.push(i[a].packedData.buffer);return{createGeometryResults:e.createGeometryResults,packedInstances:d(e.instances,t),ellipsoid:e.ellipsoid,isGeographic:e.projection instanceof w.a,elementIndexUintSupported:e.elementIndexUintSupported,scene3DOnly:e.scene3DOnly,vertexCacheOptimize:e.vertexCacheOptimize,compressVertices:e.compressVertices,modelMatrix:e.modelMatrix,createPickOffsets:e.createPickOffsets}},D.unpackCombineGeometryParameters=function(e){for(var t=f(e.packedInstances),i=e.createGeometryResults,n=i.length,a=0,r=0;r<n;r++)for(var o=D.unpackCreateGeometryResults(i[r]),s=o.length,c=0;c<s;c++){var l=o[c],u=t[a];u.geometry=l,++a}var h=O.a.clone(e.ellipsoid);return{instances:t,ellipsoid:h,projection:e.isGeographic?new w.a(h):new P.a(h),elementIndexUintSupported:e.elementIndexUintSupported,scene3DOnly:e.scene3DOnly,vertexCacheOptimize:e.vertexCacheOptimize,compressVertices:e.compressVertices,modelMatrix:S.a.clone(e.modelMatrix),createPickOffsets:e.createPickOffsets}},D.packCombineGeometryResults=function(e,t){Object(b.a)(e.geometries)&&u(e.geometries,t);var i=p(e.boundingSpheres),n=p(e.boundingSpheresCV);return t.push(i.buffer,n.buffer),{geometries:e.geometries,attributeLocations:e.attributeLocations,modelMatrix:e.modelMatrix,pickOffsets:e.pickOffsets,offsetInstanceExtend:e.offsetInstanceExtend,boundingSpheres:i,boundingSpheresCV:n}},D.unpackCombineGeometryResults=function(e){return{geometries:e.geometries,attributeLocations:e.attributeLocations,modelMatrix:e.modelMatrix,pickOffsets:e.pickOffsets,offsetInstanceExtend:e.offsetInstanceExtend,boundingSpheres:m(e.boundingSpheres),boundingSpheresCV:m(e.boundingSpheresCV)}},t.a=D},dDui:function(e,t,i){"use strict";t.a="#ifdef INSTANCED\nattribute vec2 direction;\n#endif\nattribute vec4 positionHighAndScale;\nattribute vec4 positionLowAndRotation;\nattribute vec4 compressedAttribute0;                       // pixel offset, translate, horizontal origin, vertical origin, show, direction, texture coordinates (texture offset)\nattribute vec4 compressedAttribute1;                       // aligned axis, translucency by distance, image width\nattribute vec4 compressedAttribute2;                       // label horizontal origin, image height, color, pick color, size in meters, valid aligned axis, 13 bits free\nattribute vec4 eyeOffset;                                  // eye offset in meters, 4 bytes free (texture range)\nattribute vec4 scaleByDistance;                            // near, nearScale, far, farScale\nattribute vec4 pixelOffsetScaleByDistance;                 // near, nearScale, far, farScale\nattribute vec4 compressedAttribute3;                       // distance display condition near, far, disableDepthTestDistance, dimensions\nattribute vec2 sdf;                                        // sdf outline color (rgb) and width (w)\n#if defined(VERTEX_DEPTH_CHECK) || defined(FRAGMENT_DEPTH_CHECK)\nattribute vec4 textureCoordinateBoundsOrLabelTranslate;    // the min and max x and y values for the texture coordinates\n#endif\n#ifdef VECTOR_TILE\nattribute float a_batchId;\n#endif\n\nvarying vec2 v_textureCoordinates;\n#ifdef FRAGMENT_DEPTH_CHECK\nvarying vec4 v_textureCoordinateBounds;\nvarying vec4 v_originTextureCoordinateAndTranslate;\nvarying vec4 v_compressed;                                 // x: eyeDepth, y: applyTranslate & enableDepthCheck, z: dimensions, w: imageSize\nvarying mat2 v_rotationMatrix;\n#endif\n\nvarying vec4 v_pickColor;\nvarying vec4 v_color;\n#ifdef SDF\nvarying vec4 v_outlineColor;\nvarying float v_outlineWidth;\n#endif\n\nconst float UPPER_BOUND = 32768.0;\n\nconst float SHIFT_LEFT16 = 65536.0;\nconst float SHIFT_LEFT12 = 4096.0;\nconst float SHIFT_LEFT8 = 256.0;\nconst float SHIFT_LEFT7 = 128.0;\nconst float SHIFT_LEFT5 = 32.0;\nconst float SHIFT_LEFT3 = 8.0;\nconst float SHIFT_LEFT2 = 4.0;\nconst float SHIFT_LEFT1 = 2.0;\n\nconst float SHIFT_RIGHT12 = 1.0 / 4096.0;\nconst float SHIFT_RIGHT8 = 1.0 / 256.0;\nconst float SHIFT_RIGHT7 = 1.0 / 128.0;\nconst float SHIFT_RIGHT5 = 1.0 / 32.0;\nconst float SHIFT_RIGHT3 = 1.0 / 8.0;\nconst float SHIFT_RIGHT2 = 1.0 / 4.0;\nconst float SHIFT_RIGHT1 = 1.0 / 2.0;\n\nvec4 addScreenSpaceOffset(vec4 positionEC, vec2 imageSize, float scale, vec2 direction, vec2 origin, vec2 translate, vec2 pixelOffset, vec3 alignedAxis, bool validAlignedAxis, float rotation, bool sizeInMeters, out mat2 rotationMatrix, out float mpp)\n{\n    // Note the halfSize cannot be computed in JavaScript because it is sent via\n    // compressed vertex attributes that coerce it to an integer.\n    vec2 halfSize = imageSize * scale * 0.5;\n    halfSize *= ((direction * 2.0) - 1.0);\n\n    vec2 originTranslate = origin * abs(halfSize);\n\n#if defined(ROTATION) || defined(ALIGNED_AXIS)\n    if (validAlignedAxis || rotation != 0.0)\n    {\n        float angle = rotation;\n        if (validAlignedAxis)\n        {\n            vec4 projectedAlignedAxis = czm_modelViewProjection * vec4(alignedAxis, 0.0);\n            angle += sign(-projectedAlignedAxis.x) * acos(sign(projectedAlignedAxis.y) * (projectedAlignedAxis.y * projectedAlignedAxis.y) /\n                    (projectedAlignedAxis.x * projectedAlignedAxis.x + projectedAlignedAxis.y * projectedAlignedAxis.y));\n        }\n\n        float cosTheta = cos(angle);\n        float sinTheta = sin(angle);\n        rotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);\n        halfSize = rotationMatrix * halfSize;\n    }\n    else\n    {\n        rotationMatrix = mat2(1.0, 0.0, 0.0, 1.0);\n    }\n#endif\n\n    mpp = czm_metersPerPixel(positionEC);\n    positionEC.xy += (originTranslate + halfSize) * czm_branchFreeTernary(sizeInMeters, 1.0, mpp);\n    positionEC.xy += (translate + pixelOffset) * mpp;\n\n    return positionEC;\n}\n\n#ifdef VERTEX_DEPTH_CHECK\nfloat getGlobeDepth(vec4 positionEC)\n{\n    vec4 posWC = czm_eyeToWindowCoordinates(positionEC);\n\n    float globeDepth = czm_unpackDepth(texture2D(czm_globeDepthTexture, posWC.xy / czm_viewport.zw));\n\n    if (globeDepth == 0.0)\n    {\n        return 0.0; // not on the globe\n    }\n\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(posWC.xy, globeDepth);\n    return eyeCoordinate.z / eyeCoordinate.w;\n}\n#endif\nvoid main()\n{\n    // Modifying this shader may also require modifications to Billboard._computeScreenSpacePosition\n\n    // unpack attributes\n    vec3 positionHigh = positionHighAndScale.xyz;\n    vec3 positionLow = positionLowAndRotation.xyz;\n    float scale = positionHighAndScale.w;\n\n#if defined(ROTATION) || defined(ALIGNED_AXIS)\n    float rotation = positionLowAndRotation.w;\n#else\n    float rotation = 0.0;\n#endif\n\n    float compressed = compressedAttribute0.x;\n\n    vec2 pixelOffset;\n    pixelOffset.x = floor(compressed * SHIFT_RIGHT7);\n    compressed -= pixelOffset.x * SHIFT_LEFT7;\n    pixelOffset.x -= UPPER_BOUND;\n\n    vec2 origin;\n    origin.x = floor(compressed * SHIFT_RIGHT5);\n    compressed -= origin.x * SHIFT_LEFT5;\n\n    origin.y = floor(compressed * SHIFT_RIGHT3);\n    compressed -= origin.y * SHIFT_LEFT3;\n\n#ifdef FRAGMENT_DEPTH_CHECK\n    vec2 depthOrigin = origin.xy;\n#endif\n    origin -= vec2(1.0);\n\n    float show = floor(compressed * SHIFT_RIGHT2);\n    compressed -= show * SHIFT_LEFT2;\n\n#ifdef INSTANCED\n    vec2 textureCoordinatesBottomLeft = czm_decompressTextureCoordinates(compressedAttribute0.w);\n    vec2 textureCoordinatesRange = czm_decompressTextureCoordinates(eyeOffset.w);\n    vec2 textureCoordinates = textureCoordinatesBottomLeft + direction * textureCoordinatesRange;\n#else\n    vec2 direction;\n    direction.x = floor(compressed * SHIFT_RIGHT1);\n    direction.y = compressed - direction.x * SHIFT_LEFT1;\n\n    vec2 textureCoordinates = czm_decompressTextureCoordinates(compressedAttribute0.w);\n#endif\n\n    float temp = compressedAttribute0.y  * SHIFT_RIGHT8;\n    pixelOffset.y = -(floor(temp) - UPPER_BOUND);\n\n    vec2 translate;\n    translate.y = (temp - floor(temp)) * SHIFT_LEFT16;\n\n    temp = compressedAttribute0.z * SHIFT_RIGHT8;\n    translate.x = floor(temp) - UPPER_BOUND;\n\n    translate.y += (temp - floor(temp)) * SHIFT_LEFT8;\n    translate.y -= UPPER_BOUND;\n\n    temp = compressedAttribute1.x * SHIFT_RIGHT8;\n    float temp2 = floor(compressedAttribute2.w * SHIFT_RIGHT2);\n\n    vec2 imageSize = vec2(floor(temp), temp2);\n\n#ifdef FRAGMENT_DEPTH_CHECK\n    float labelHorizontalOrigin = floor(compressedAttribute2.w - (temp2 * SHIFT_LEFT2));\n    float applyTranslate = 0.0;\n    if (labelHorizontalOrigin != 0.0) // is a billboard, so set apply translate to false\n    {\n        applyTranslate = 1.0;\n        labelHorizontalOrigin -= 2.0;\n        depthOrigin.x = labelHorizontalOrigin + 1.0;\n    }\n\n    depthOrigin = vec2(1.0) - (depthOrigin * 0.5);\n#endif\n\n#ifdef EYE_DISTANCE_TRANSLUCENCY\n    vec4 translucencyByDistance;\n    translucencyByDistance.x = compressedAttribute1.z;\n    translucencyByDistance.z = compressedAttribute1.w;\n\n    translucencyByDistance.y = ((temp - floor(temp)) * SHIFT_LEFT8) / 255.0;\n\n    temp = compressedAttribute1.y * SHIFT_RIGHT8;\n    translucencyByDistance.w = ((temp - floor(temp)) * SHIFT_LEFT8) / 255.0;\n#endif\n\n#if defined(VERTEX_DEPTH_CHECK) || defined(FRAGMENT_DEPTH_CHECK)\n    temp = compressedAttribute3.w;\n    temp = temp * SHIFT_RIGHT12;\n\n    vec2 dimensions;\n    dimensions.y = (temp - floor(temp)) * SHIFT_LEFT12;\n    dimensions.x = floor(temp);\n#endif\n\n#ifdef ALIGNED_AXIS\n    vec3 alignedAxis = czm_octDecode(floor(compressedAttribute1.y * SHIFT_RIGHT8));\n    temp = compressedAttribute2.z * SHIFT_RIGHT5;\n    bool validAlignedAxis = (temp - floor(temp)) * SHIFT_LEFT1 > 0.0;\n#else\n    vec3 alignedAxis = vec3(0.0);\n    bool validAlignedAxis = false;\n#endif\n\n    vec4 pickColor;\n    vec4 color;\n\n    temp = compressedAttribute2.y;\n    temp = temp * SHIFT_RIGHT8;\n    pickColor.b = (temp - floor(temp)) * SHIFT_LEFT8;\n    temp = floor(temp) * SHIFT_RIGHT8;\n    pickColor.g = (temp - floor(temp)) * SHIFT_LEFT8;\n    pickColor.r = floor(temp);\n\n    temp = compressedAttribute2.x;\n    temp = temp * SHIFT_RIGHT8;\n    color.b = (temp - floor(temp)) * SHIFT_LEFT8;\n    temp = floor(temp) * SHIFT_RIGHT8;\n    color.g = (temp - floor(temp)) * SHIFT_LEFT8;\n    color.r = floor(temp);\n\n    temp = compressedAttribute2.z * SHIFT_RIGHT8;\n    bool sizeInMeters = floor((temp - floor(temp)) * SHIFT_LEFT7) > 0.0;\n    temp = floor(temp) * SHIFT_RIGHT8;\n\n    pickColor.a = (temp - floor(temp)) * SHIFT_LEFT8;\n    pickColor /= 255.0;\n\n    color.a = floor(temp);\n    color /= 255.0;\n\n    ///////////////////////////////////////////////////////////////////////////\n\n    vec4 p = czm_translateRelativeToEye(positionHigh, positionLow);\n    vec4 positionEC = czm_modelViewRelativeToEye * p;\n\n#if defined(FRAGMENT_DEPTH_CHECK) || defined(VERTEX_DEPTH_CHECK)\n    float eyeDepth = positionEC.z;\n#endif\n\n    positionEC = czm_eyeOffset(positionEC, eyeOffset.xyz);\n    positionEC.xyz *= show;\n\n    ///////////////////////////////////////////////////////////////////////////\n\n#if defined(EYE_DISTANCE_SCALING) || defined(EYE_DISTANCE_TRANSLUCENCY) || defined(EYE_DISTANCE_PIXEL_OFFSET) || defined(DISTANCE_DISPLAY_CONDITION) || defined(DISABLE_DEPTH_DISTANCE)\n    float lengthSq;\n    if (czm_sceneMode == czm_sceneMode2D)\n    {\n        // 2D camera distance is a special case\n        // treat all billboards as flattened to the z=0.0 plane\n        lengthSq = czm_eyeHeight2D.y;\n    }\n    else\n    {\n        lengthSq = dot(positionEC.xyz, positionEC.xyz);\n    }\n#endif\n\n#ifdef EYE_DISTANCE_SCALING\n    float distanceScale = czm_nearFarScalar(scaleByDistance, lengthSq);\n    scale *= distanceScale;\n    translate *= distanceScale;\n    // push vertex behind near plane for clipping\n    if (scale == 0.0)\n    {\n        positionEC.xyz = vec3(0.0);\n    }\n#endif\n\n    float translucency = 1.0;\n#ifdef EYE_DISTANCE_TRANSLUCENCY\n    translucency = czm_nearFarScalar(translucencyByDistance, lengthSq);\n    // push vertex behind near plane for clipping\n    if (translucency == 0.0)\n    {\n        positionEC.xyz = vec3(0.0);\n    }\n#endif\n\n#ifdef EYE_DISTANCE_PIXEL_OFFSET\n    float pixelOffsetScale = czm_nearFarScalar(pixelOffsetScaleByDistance, lengthSq);\n    pixelOffset *= pixelOffsetScale;\n#endif\n\n#ifdef DISTANCE_DISPLAY_CONDITION\n    float nearSq = compressedAttribute3.x;\n    float farSq = compressedAttribute3.y;\n    if (lengthSq < nearSq || lengthSq > farSq)\n    {\n        positionEC.xyz = vec3(0.0);\n    }\n#endif\n\n    mat2 rotationMatrix;\n    float mpp;\n\n#ifdef DISABLE_DEPTH_DISTANCE\n    float disableDepthTestDistance = compressedAttribute3.z;\n#endif\n\n#ifdef VERTEX_DEPTH_CHECK\nif (lengthSq < disableDepthTestDistance) {\n    float depthsilon = 10.0;\n\n    vec2 labelTranslate = textureCoordinateBoundsOrLabelTranslate.xy;\n    vec4 pEC1 = addScreenSpaceOffset(positionEC, dimensions, scale, vec2(0.0), origin, labelTranslate, pixelOffset, alignedAxis, validAlignedAxis, rotation, sizeInMeters, rotationMatrix, mpp);\n    float globeDepth1 = getGlobeDepth(pEC1);\n\n    if (globeDepth1 != 0.0 && pEC1.z + depthsilon < globeDepth1)\n    {\n        vec4 pEC2 = addScreenSpaceOffset(positionEC, dimensions, scale, vec2(0.0, 1.0), origin, labelTranslate, pixelOffset, alignedAxis, validAlignedAxis, rotation, sizeInMeters, rotationMatrix, mpp);\n        float globeDepth2 = getGlobeDepth(pEC2);\n\n        if (globeDepth2 != 0.0 && pEC2.z + depthsilon < globeDepth2)\n        {\n            vec4 pEC3 = addScreenSpaceOffset(positionEC, dimensions, scale, vec2(1.0), origin, labelTranslate, pixelOffset, alignedAxis, validAlignedAxis, rotation, sizeInMeters, rotationMatrix, mpp);\n            float globeDepth3 = getGlobeDepth(pEC3);\n            if (globeDepth3 != 0.0 && pEC3.z + depthsilon < globeDepth3)\n            {\n                positionEC.xyz = vec3(0.0);\n            }\n        }\n    }\n}\n#endif\n\n    positionEC = addScreenSpaceOffset(positionEC, imageSize, scale, direction, origin, translate, pixelOffset, alignedAxis, validAlignedAxis, rotation, sizeInMeters, rotationMatrix, mpp);\n    gl_Position = czm_projection * positionEC;\n    v_textureCoordinates = textureCoordinates;\n\n#ifdef LOG_DEPTH\n    czm_vertexLogDepth();\n#endif\n\n#ifdef DISABLE_DEPTH_DISTANCE\n    if (disableDepthTestDistance == 0.0 && czm_minimumDisableDepthTestDistance != 0.0)\n    {\n        disableDepthTestDistance = czm_minimumDisableDepthTestDistance;\n    }\n\n    if (disableDepthTestDistance != 0.0)\n    {\n        // Don't try to \"multiply both sides\" by w.  Greater/less-than comparisons won't work for negative values of w.\n        float zclip = gl_Position.z / gl_Position.w;\n        bool clipped = (zclip < -1.0 || zclip > 1.0);\n        if (!clipped && (disableDepthTestDistance < 0.0 || (lengthSq > 0.0 && lengthSq < disableDepthTestDistance)))\n        {\n            // Position z on the near plane.\n            gl_Position.z = -gl_Position.w;\n#ifdef LOG_DEPTH\n            v_depthFromNearPlusOne = 1.0;\n#endif\n        }\n    }\n#endif\n\n#ifdef FRAGMENT_DEPTH_CHECK\n    if (sizeInMeters) {\n        translate /= mpp;\n        dimensions /= mpp;\n        imageSize /= mpp;\n    }\n\n#if defined(ROTATION) || defined(ALIGNED_AXIS)\n    v_rotationMatrix = rotationMatrix;\n#else\n    v_rotationMatrix = mat2(1.0, 0.0, 0.0, 1.0);\n#endif\n\n    float enableDepthCheck = 0.0;\n    if (lengthSq < disableDepthTestDistance)\n    {\n        enableDepthCheck = 1.0;\n    }\n\n    float dw = floor(clamp(dimensions.x, 0.0, SHIFT_LEFT12));\n    float dh = floor(clamp(dimensions.y, 0.0, SHIFT_LEFT12));\n\n    float iw = floor(clamp(imageSize.x, 0.0, SHIFT_LEFT12));\n    float ih = floor(clamp(imageSize.y, 0.0, SHIFT_LEFT12));\n\n    v_compressed.x = eyeDepth;\n    v_compressed.y = applyTranslate * SHIFT_LEFT1 + enableDepthCheck;\n    v_compressed.z = dw * SHIFT_LEFT12 + dh;\n    v_compressed.w = iw * SHIFT_LEFT12 + ih;\n    v_originTextureCoordinateAndTranslate.xy = depthOrigin;\n    v_originTextureCoordinateAndTranslate.zw = translate;\n    v_textureCoordinateBounds = textureCoordinateBoundsOrLabelTranslate;\n\n#endif\n\n#ifdef SDF\n    vec4 outlineColor;\n    float outlineWidth;\n\n    temp = sdf.x;\n    temp = temp * SHIFT_RIGHT8;\n    outlineColor.b = (temp - floor(temp)) * SHIFT_LEFT8;\n    temp = floor(temp) * SHIFT_RIGHT8;\n    outlineColor.g = (temp - floor(temp)) * SHIFT_LEFT8;\n    outlineColor.r = floor(temp);\n\n    temp = sdf.y;\n    temp = temp * SHIFT_RIGHT8;\n    float temp3 = (temp - floor(temp)) * SHIFT_LEFT8;\n    temp = floor(temp) * SHIFT_RIGHT8;\n    outlineWidth = (temp - floor(temp)) * SHIFT_LEFT8;\n    outlineColor.a = floor(temp);\n    outlineColor /= 255.0;\n\n    v_outlineWidth = outlineWidth / 255.0;\n    v_outlineColor = outlineColor;\n#endif\n\n    v_pickColor = pickColor;\n\n    v_color = color;\n    v_color.a *= translucency;\n\n}\n"},"dI/G":function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT);var t=Object(a.a)(e.throttleByServer,!1),i=Object(a.a)(e.throttle,!1);this.url=e.url,this.requestFunction=e.requestFunction,this.cancelFunction=e.cancelFunction,this.priorityFunction=e.priorityFunction,this.priority=Object(a.a)(e.priority,0),this.throttle=i,this.throttleByServer=t,this.type=Object(a.a)(e.type,s.a.OTHER),this.serverKey=void 0,this.state=o.a.UNISSUED,this.deferred=void 0,this.cancelled=!1}var a=i("5A4e"),r=i("xC6Q"),o=i("YBjH"),s=i("0pio");n.prototype.cancel=function(){this.cancelled=!0},n.prototype.clone=function(e){return Object(r.a)(e)?(e.url=this.url,e.requestFunction=this.requestFunction,e.cancelFunction=this.cancelFunction,e.priorityFunction=this.priorityFunction,e.priority=this.priority,e.throttle=this.throttle,e.throttleByServer=this.throttleByServer,e.type=this.type,e.serverKey=this.serverKey,e.state=this.RequestState.UNISSUED,e.deferred=void 0,e.cancelled=!1,e):new n(this)},t.a=n},dMpj:function(e,t,i){"use strict";function n(e){return new T.a(e)}function a(e,t){return Object(C.a)(e,void 0,function(e){return e instanceof t?e:new t(e)})}function r(e){e=Object(h.a)(e,h.a.EMPTY_OBJECT);var t=e.id;Object(d.a)(t)||(t=Object(u.a)()),this._availability=void 0,this._id=t,this._definitionChanged=new p.a,this._name=e.name,this._show=Object(h.a)(e.show,!0),this._parent=void 0,this._propertyNames=["billboard","box","corridor","cylinder","description","ellipse","ellipsoid","label","model","tileset","orientation","path","plane","point","polygon","polyline","polylineVolume","position","properties","rectangle","viewFrom","wall"],this._billboard=void 0,this._billboardSubscription=void 0,this._box=void 0,this._boxSubscription=void 0,this._corridor=void 0,this._corridorSubscription=void 0,this._cylinder=void 0,this._cylinderSubscription=void 0,this._description=void 0,this._descriptionSubscription=void 0,this._ellipse=void 0,this._ellipseSubscription=void 0,this._ellipsoid=void 0,this._ellipsoidSubscription=void 0,this._label=void 0,this._labelSubscription=void 0,this._model=void 0,this._modelSubscription=void 0,this._tileset=void 0,this._tilesetSubscription=void 0,this._orientation=void 0,this._orientationSubscription=void 0,this._path=void 0,this._pathSubscription=void 0,this._plane=void 0,this._planeSubscription=void 0,this._point=void 0,this._pointSubscription=void 0,this._polygon=void 0,this._polygonSubscription=void 0,this._polyline=void 0,this._polylineSubscription=void 0,this._polylineVolume=void 0,this._polylineVolumeSubscription=void 0,this._position=void 0,this._positionSubscription=void 0,this._properties=void 0,this._propertiesSubscription=void 0,this._rectangle=void 0,this._rectangleSubscription=void 0,this._viewFrom=void 0,this._viewFromSubscription=void 0,this._wall=void 0,this._wallSubscription=void 0,this._children=[],this.entityCollection=void 0,this.parent=e.parent,this.merge(e)}function o(e,t,i){for(var n=t.length,a=0;a<n;a++){var r=t[a],s=r._show;(!i&&s)!==(i&&s)&&o(r,r._children,i)}e._definitionChanged.raiseEvent(e,"isShowing",i,!i)}var s=i("Jj+J"),c=i("I3GD"),l=i("5F4X"),u=i("ed27"),h=i("5A4e"),d=i("xC6Q"),f=i("PzDm"),p=i("W6xh"),m=i("fq+p"),g=i("i3sv"),_=i("Xjii"),v=i("q/xW"),b=i("g/FO"),y=i("u/r6"),O=i("zGMv"),w=i("JIo7"),x=i("1L+j"),E=i("w6iD"),T=i("jQbM"),A=i("L47L"),C=i("7687"),S=i("huC5"),j=i("yKBu"),P=i("t7Qx"),D=i("bnBh"),I=i("nO52"),R=i("ZIO3"),M=i("kVOD"),L=i("lwv5"),N=i("zFgJ"),F=i("PCU7"),z=i("o8TK"),B=i("xtiq"),k=i("ybqt"),U=i("uhjI"),V=i("RbQZ"),H=i("rFgN"),q=i("ZT9/"),W=new c.a;Object.defineProperties(r.prototype,{availability:Object(S.a)("availability"),id:{get:function(){return this._id}},definitionChanged:{get:function(){return this._definitionChanged}},name:Object(S.a)("name"),show:{get:function(){return this._show},set:function(e){if(!Object(d.a)(e))throw new f.a("value is required.");if(e!==this._show){var t=this.isShowing;this._show=e;var i=this.isShowing;t!==i&&o(this,this._children,i),this._definitionChanged.raiseEvent(this,"show",e,!e)}}},isShowing:{get:function(){return this._show&&(!Object(d.a)(this.entityCollection)||this.entityCollection.show)&&(!Object(d.a)(this._parent)||this._parent.isShowing)}},parent:{get:function(){return this._parent},set:function(e){var t=this._parent;if(t!==e){var i=this.isShowing;if(Object(d.a)(t)){var n=t._children.indexOf(this);t._children.splice(n,1)}this._parent=e,Object(d.a)(e)&&e._children.push(this);var a=this.isShowing;i!==a&&o(this,this._children,a),this._definitionChanged.raiseEvent(this,"parent",e,t)}}},propertyNames:{get:function(){return this._propertyNames}},billboard:a("billboard",x.a),box:a("box",E.a),corridor:a("corridor",A.a),cylinder:a("cylinder",j.a),description:Object(C.a)("description"),ellipse:a("ellipse",P.a),ellipsoid:a("ellipsoid",D.a),label:a("label",I.a),model:a("model",R.a),tileset:a("tileset",M.a),orientation:Object(C.a)("orientation"),path:a("path",L.a),plane:a("plane",N.a),point:a("point",F.a),polygon:a("polygon",z.a),polyline:a("polyline",B.a),polylineVolume:a("polylineVolume",k.a),properties:a("properties",V.a),position:function(e){return Object(C.a)(e,void 0,n)}("position"),rectangle:a("rectangle",H.a),viewFrom:Object(C.a)("viewFrom"),wall:a("wall",q.a)}),r.prototype.isAvailable=function(e){if(!Object(d.a)(e))throw new f.a("time is required.");var t=this._availability;return!Object(d.a)(t)||t.contains(e)},r.prototype.addProperty=function(e){var t=this._propertyNames;if(!Object(d.a)(e))throw new f.a("propertyName is required.");if(-1!==t.indexOf(e))throw new f.a(e+" is already a registered property.");if(e in this)throw new f.a(e+" is a reserved property name.");t.push(e),Object.defineProperty(this,e,Object(S.a)(e,!0))},r.prototype.removeProperty=function(e){var t=this._propertyNames,i=t.indexOf(e);if(!Object(d.a)(e))throw new f.a("propertyName is required.");if(-1===i)throw new f.a(e+" is not a registered property.");this._propertyNames.splice(i,1),delete this[e]},r.prototype.merge=function(e){if(!Object(d.a)(e))throw new f.a("source is required.");this.name=Object(h.a)(this.name,e.name),this.availability=Object(h.a)(this.availability,e.availability);for(var t=this._propertyNames,i=Object(d.a)(e._propertyNames)?e._propertyNames:Object.keys(e),n=i.length,a=0;a<n;a++){var r=i[a];if("parent"!==r){var o=this[r],s=e[r];Object(d.a)(o)||-1!==t.indexOf(r)||this.addProperty(r),Object(d.a)(s)&&(Object(d.a)(o)?Object(d.a)(o.merge)&&o.merge(s):Object(d.a)(s.merge)&&Object(d.a)(s.clone)?this[r]=s.clone():this[r]=s)}}};var G=new g.a,Y=new s.a,X=new v.a;r.prototype.computeModelMatrix=function(e,t){l.a.typeOf.object("time",e);var i=U.a.getValueOrUndefined(this._position,e,Y);if(Object(d.a)(i)){var n=U.a.getValueOrUndefined(this._orientation,e,X);return t=Object(d.a)(n)?_.a.fromRotationTranslation(g.a.fromQuaternion(n,G),i,t):b.a.eastNorthUpToFixedFrame(i,void 0,t)}},r.prototype.computeModelMatrixForHeightReference=function(e,t,i,n,a){l.a.typeOf.object("time",e);var r=U.a.getValueOrDefault(t,e,w.a.NONE),o=U.a.getValueOrUndefined(this._position,e,Y);if(r===w.a.NONE||!Object(d.a)(o)||s.a.equalsEpsilon(o,s.a.ZERO,m.a.EPSILON8))return this.computeModelMatrix(e,a);var c=n.cartesianToCartographic(o,W);r===w.a.CLAMP_TO_GROUND?c.height=i:c.height+=i,o=n.cartographicToCartesian(c,o);var u=U.a.getValueOrUndefined(this._orientation,e,X);return a=Object(d.a)(u)?_.a.fromRotationTranslation(g.a.fromQuaternion(u,G),o,a):b.a.eastNorthUpToFixedFrame(o,void 0,a)},r.supportsMaterialsforEntitiesOnTerrain=function(e){return O.a.supportsMaterials(e)},r.supportsPolylinesOnTerrain=function(e){return y.a.isSupported(e)},t.a=r},dNIU:function(e,t,i){"use strict";var n,a=i("ODTd"),r=i("xC6Q"),o=i("rMjQ"),s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJhZmRiYzgzMy1hODQ3LTRkMDktYjE0Ni0zNTViMTdmNGEyZWEiLCJpZCI6MjU5LCJzY29wZXMiOlsiYXNyIiwiZ2MiXSwiaWF0IjoxNTgzMTYzMTYwfQ.blu_ATsUNqSYK0fIBrNRvxq9HiCzY5Ul_4v_4-3F5QY",c={};c.defaultAccessToken=s,c.defaultServer=new o.a({url:"https://api.cesium.com/"}),c.getDefaultTokenCredit=function(e){if(e===s){if(!Object(r.a)(n)){n=new a.a('<b>             This application is using Cesium\'s default ion access token. Please assign <i>Cesium.Ion.defaultAccessToken</i>             with an access token from your ion account before making any Cesium API calls.             You can sign up for a free ion account at <a href="https://cesium.com">https://cesium.com</a>.</b>',!0)}return n}},t.a=c},dSt4:function(e,t,i){"use strict";function n(e){if(!Object(T.a)(e))throw new C.a("options is required.");if(!Object(T.a)(e.terrainProvider))throw new C.a("options.terrainProvider is required.");if(!Object(T.a)(e.imageryLayers))throw new C.a("options.imageryLayers is required.");if(!Object(T.a)(e.surfaceShaderSet))throw new C.a("options.surfaceShaderSet is required.");this.lightingFadeOutDistance=65e5,this.lightingFadeInDistance=9e6,this.hasWaterMask=!1,this.oceanNormalMap=void 0,this.zoomedOutOceanSpecularIntensity=.5,this.enableLighting=!1,this.dynamicAtmosphereLighting=!1,this.dynamicAtmosphereLightingFromSun=!1,this.showGroundAtmosphere=!1,this.shadows=oe.a.RECEIVE_ONLY,this.fillHighlightColor=void 0,this.hueShift=0,this.saturationShift=0,this.brightnessShift=0,this.showSkirts=!0,this.backFaceCulling=!0,this._quadtree=void 0,this._terrainProvider=e.terrainProvider,this._imageryLayers=e.imageryLayers,this._surfaceShaderSet=e.surfaceShaderSet,this._renderState=void 0,this._blendRenderState=void 0,this._disableCullingRenderState=void 0,this._disableCullingBlendRenderState=void 0,this._errorEvent=new S.a,this._imageryLayers.layerAdded.addEventListener(n.prototype._onLayerAdded,this),this._imageryLayers.layerRemoved.addEventListener(n.prototype._onLayerRemoved,this),this._imageryLayers.layerMoved.addEventListener(n.prototype._onLayerMoved,this),this._imageryLayers.layerShownOrHidden.addEventListener(n.prototype._onLayerShownOrHidden,this),this._imageryLayersUpdatedEvent=new S.a,this._layerOrderChanged=!1,this._tilesToRenderByTextureCount=[],this._drawCommands=[],this._uniformMaps=[],this._usedDrawCommands=0,this._vertexArraysToDestroy=[],this._debug={wireframe:!1,boundingSphereTile:void 0},this._baseColor=void 0,this._firstPassInitialColor=void 0,this.baseColor=new O.a(0,0,.5,1),this._clippingPlanes=void 0,this.cartographicLimitRectangle=z.a.clone(z.a.MAX_VALUE),this._hasLoadedTilesThisFrame=!1,this._hasFillTilesThisFrame=!1}function a(e,t){var i=e.loadingImagery;Object(T.a)(i)||(i=e.readyImagery);var n=t.loadingImagery;return Object(T.a)(n)||(n=t.readyImagery),i.imageryLayer._layerIndex-n.imageryLayer._layerIndex}function r(e,t){var i=t.creditDisplay;e._terrainProvider.ready&&Object(T.a)(e._terrainProvider.credit)&&i.addCredit(e._terrainProvider.credit);for(var n=e._imageryLayers,a=0,r=n.length;a<r;++a){var o=n.get(a).imageryProvider;o.ready&&Object(T.a)(o.credit)&&i.addCredit(o.credit)}}function o(e,t){if(t.west<t.east)return t;var i=z.a.clone(t,fe);return z.a.center(e,pe).longitude>0?i.east=R.a.PI:i.west=-R.a.PI,i}function s(e,t,i,n,a,r){var o=e.quadtree._occluders.ellipsoid,s=o.ellipsoid,c=Ae;return _.a.fromRadians(i.west,i.south,a,s,c[0]),_.a.fromRadians(i.east,i.south,a,s,c[1]),_.a.fromRadians(i.west,i.north,a,s,c[2]),_.a.fromRadians(i.east,i.north,a,s,c[3]),o.computeHorizonCullingPointPossiblyUnderEllipsoid(t,c,n,r)}function c(e,t,i){var n=e.data;void 0===n&&(n=e.data=new $.a),void 0===n.tileBoundingRegion&&(n.tileBoundingRegion=new le.a({computeBoundingVolumes:!1,rectangle:e.rectangle,ellipsoid:e.tilingScheme.ellipsoid,minimumHeight:0,maximumHeight:0}));var a=n.terrainData,r=n.mesh,o=n.tileBoundingRegion;if(void 0!==r&&void 0!==r.minimumHeight&&void 0!==r.maximumHeight)return o.minimumHeight=r.minimumHeight,o.maximumHeight=r.maximumHeight,e;if(void 0!==a&&void 0!==a._minimumHeight&&void 0!==a._maximumHeight)return o.minimumHeight=a._minimumHeight*i.terrainExaggeration,o.maximumHeight=a._maximumHeight*i.terrainExaggeration,e;o.minimumHeight=Number.NaN,o.maximumHeight=Number.NaN;for(var s=e.parent;void 0!==s;){var c=s.data;if(void 0!==c){var l=c.mesh;if(void 0!==l&&void 0!==l.minimumHeight&&void 0!==l.maximumHeight)return o.minimumHeight=l.minimumHeight,o.maximumHeight=l.maximumHeight,s;var u=c.terrainData;if(void 0!==u&&void 0!==u._minimumHeight&&void 0!==u._maximumHeight)return o.minimumHeight=u._minimumHeight*i.terrainExaggeration,o.maximumHeight=u._maximumHeight*i.terrainExaggeration,s}s=s.parent}}function l(e,t,i){return function(n){var a,r,o,s=-1,c=n.data.imagery,l=c.length;for(o=0;o<l;++o)if(a=c[o],r=Object(E.a)(a.readyImagery,a.loadingImagery),r.imageryLayer===t){s=o;break}if(-1!==s){var u=s+e;if(a=c[u],r=Object(T.a)(a)?Object(E.a)(a.readyImagery,a.loadingImagery):void 0,!Object(T.a)(r)||r.imageryLayer!==t)return!t._createTileImagerySkeletons(n,i,u);for(o=s;o<u;++o)c[o].freeResources();c.splice(s,e)}return!0}}function u(e,t){return{u_initialColor:function(){return this.properties.initialColor},u_fillHighlightColor:function(){return this.properties.fillHighlightColor},u_zoomedOutOceanSpecularIntensity:function(){return this.properties.zoomedOutOceanSpecularIntensity},u_oceanNormalMap:function(){return this.properties.oceanNormalMap},u_lightingFadeDistance:function(){return this.properties.lightingFadeDistance},u_nightFadeDistance:function(){return this.properties.nightFadeDistance},u_center3D:function(){return this.properties.center3D},u_tileRectangle:function(){return this.properties.tileRectangle},u_modifiedModelView:function(){var t=e.context.uniformState.view,i=M.a.multiplyByPoint(t,this.properties.rtc,xe);return M.a.setTranslation(t,i,ve),ve},u_modifiedModelViewProjection:function(){var t=e.context.uniformState.view,i=e.context.uniformState.projection,n=M.a.multiplyByPoint(t,this.properties.rtc,xe);return M.a.setTranslation(t,n,be),M.a.multiply(i,be,be),be},u_dayTextures:function(){return this.properties.dayTextures},u_dayTextureTranslationAndScale:function(){return this.properties.dayTextureTranslationAndScale},u_dayTextureTexCoordsRectangle:function(){return this.properties.dayTextureTexCoordsRectangle},u_dayTextureUseWebMercatorT:function(){return this.properties.dayTextureUseWebMercatorT},u_dayTextureAlpha:function(){return this.properties.dayTextureAlpha},u_dayTextureBrightness:function(){return this.properties.dayTextureBrightness},u_dayTextureContrast:function(){return this.properties.dayTextureContrast},u_dayTextureHue:function(){return this.properties.dayTextureHue},u_dayTextureSaturation:function(){return this.properties.dayTextureSaturation},u_dayTextureOneOverGamma:function(){return this.properties.dayTextureOneOverGamma},u_dayIntensity:function(){return this.properties.dayIntensity},u_southAndNorthLatitude:function(){return this.properties.southAndNorthLatitude},u_southMercatorYAndOneOverHeight:function(){return this.properties.southMercatorYAndOneOverHeight},u_waterMask:function(){return this.properties.waterMask},u_waterMaskTranslationAndScale:function(){return this.properties.waterMaskTranslationAndScale},u_minMaxHeight:function(){return this.properties.minMaxHeight},u_scaleAndBias:function(){return this.properties.scaleAndBias},u_dayTextureSplit:function(){return this.properties.dayTextureSplit},u_dayTextureCutoutRectangles:function(){return this.properties.dayTextureCutoutRectangles},u_clippingPlanes:function(){var i=t._clippingPlanes;return Object(T.a)(i)&&Object(T.a)(i.texture)?i.texture:e.context.defaultTexture},u_cartographicLimitRectangle:function(){return this.properties.localizedCartographicLimitRectangle},u_clippingPlanesMatrix:function(){var i=t._clippingPlanes;return Object(T.a)(i)?M.a.multiply(e.context.uniformState.view,i.modelMatrix,Pe):M.a.IDENTITY},u_clippingPlanesEdgeStyle:function(){var e=this.properties.clippingPlanesEdgeColor;return e.alpha=this.properties.clippingPlanesEdgeWidth,e},u_minimumBrightness:function(){return e.fog.minimumBrightness},u_hsbShift:function(){return this.properties.hsbShift},u_colorsToAlpha:function(){return this.properties.colorsToAlpha},properties:{initialColor:new v.a(0,0,.5,1),fillHighlightColor:new O.a(0,0,0,0),zoomedOutOceanSpecularIntensity:.5,oceanNormalMap:void 0,lightingFadeDistance:new g.a(65e5,9e6),nightFadeDistance:new g.a(1e7,4e7),hsbShift:new _.a,center3D:void 0,rtc:new _.a,modifiedModelView:new M.a,tileRectangle:new v.a,dayTextures:[],dayTextureTranslationAndScale:[],dayTextureTexCoordsRectangle:[],dayTextureUseWebMercatorT:[],dayTextureAlpha:[],dayTextureBrightness:[],dayTextureContrast:[],dayTextureHue:[],dayTextureSaturation:[],dayTextureOneOverGamma:[],dayTextureSplit:[],dayTextureCutoutRectangles:[],dayIntensity:0,colorsToAlpha:[],southAndNorthLatitude:new g.a,southMercatorYAndOneOverHeight:new g.a,waterMask:void 0,waterMaskTranslationAndScale:new v.a,minMaxHeight:new g.a,scaleAndBias:new M.a,clippingPlanesEdgeColor:O.a.clone(O.a.WHITE),clippingPlanesEdgeWidth:0,localizedCartographicLimitRectangle:new v.a}}}function h(e,t,i){var n,a,r=i.data;if(Object(T.a)(r.vertexArray)?(n=r.mesh,a=r.vertexArray):Object(T.a)(r.fill)&&Object(T.a)(r.fill.vertexArray)&&(n=r.fill.mesh,a=r.fill.vertexArray),Object(T.a)(n)&&Object(T.a)(a)){if(Object(T.a)(r.wireframeVertexArray)){if(r.wireframeVertexArray.mesh===n)return;r.wireframeVertexArray.destroy(),r.wireframeVertexArray=void 0}r.wireframeVertexArray=d(e,a,n),r.wireframeVertexArray.mesh=n}}function d(e,t,i){var n=i.indices,a={indices:n,primitiveType:F.a.TRIANGLES};P.a.toWireframe(a);var r=a.indices,o=H.a.createIndexBuffer({context:e,typedArray:r,usage:q.a.STATIC_DRAW,indexDatatype:D.a.fromSizeInBytes(r.BYTES_PER_ELEMENT)});return new Q.a({context:e,attributes:t._attributes,indexBuffer:o})}function f(e,t,i){var n=t.data;Object(T.a)(n.vertexArray)||(void 0===n.fill&&(n.fill=new se.a(t)),n.fill.update(e,i));var a=i.creditDisplay,r=n.terrainData;if(Object(T.a)(r)&&Object(T.a)(r.credits))for(var s=r.credits,c=0,l=s.length;c<l;++c)a.addCredit(s[c]);var d=W.a.maximumTextureImageUnits,f=n.waterMaskTexture,m=n.waterMaskTranslationAndScale;!Object(T.a)(f)&&Object(T.a)(n.fill)&&(f=n.fill.waterMaskTexture,m=n.fill.waterMaskTranslationAndScale);var g=e.hasWaterMask&&Object(T.a)(f),b=e.oceanNormalMap,y=g&&Object(T.a)(b),w=e.terrainProvider.ready&&e.terrainProvider.hasVertexNormals,E=i.fog.enabled,A=e.showGroundAtmosphere,S=oe.a.castShadows(e.shadows),j=oe.a.receiveShadows(e.shadows),P=e.hueShift,D=e.saturationShift,I=e.brightnessShift,N=!(R.a.equalsEpsilon(P,0,R.a.EPSILON7)&&R.a.equalsEpsilon(D,0,R.a.EPSILON7)&&R.a.equalsEpsilon(I,0,R.a.EPSILON7)),B=!1;if(A){var U,H=i.mode,q=i.camera;U=H===re.a.SCENE2D||H===re.a.COLUMBUS_VIEW?q.positionCartographic.height:_.a.magnitude(q.positionWC);var X=e.nightFadeOutDistance;H!==re.a.SCENE3D&&(X-=i.mapProjection.ellipsoid.maximumRadius),B=U>X}g&&--d,y&&--d,Object(T.a)(i.shadowState)&&i.shadowState.shadowsEnabled&&--d,Object(T.a)(e.clippingPlanes)&&e.clippingPlanes.enabled&&--d;var Q=n.renderedMesh,J=Q.center,Z=Q.encoding,K=ye,$=0,te=0,ie=0,ne=0,ae=!1;if(i.mode!==re.a.SCENE3D){var ce=i.mapProjection,le=ce.project(z.a.southwest(t.rectangle),Ee),ue=ce.project(z.a.northeast(t.rectangle),Te);if(K.x=le.x,K.y=le.y,K.z=ue.x,K.w=ue.y,i.mode!==re.a.MORPHING&&(J=we,J.x=0,J.y=.5*(K.z+K.x),J.z=.5*(K.w+K.y),K.x-=J.y,K.y-=J.z,K.z-=J.y,K.w-=J.z),i.mode===re.a.SCENE2D&&Z.quantization===k.a.BITS12){var he=1/(Math.pow(2,12)-1)*.5,fe=(K.z-K.x)*he,pe=(K.w-K.y)*he;K.x-=fe,K.y-=pe,K.z+=fe,K.w+=pe}ce instanceof V.a&&($=t.rectangle.south,te=t.rectangle.north,ie=V.a.geodeticLatitudeToMercatorAngle($),ne=1/(V.a.geodeticLatitudeToMercatorAngle(te)-ie),ae=!0)}var me=Ie;me.frameState=i,me.surfaceTile=n,me.showReflectiveOcean=g,me.showOceanWaves=y,me.enableLighting=e.enableLighting,me.dynamicAtmosphereLighting=e.dynamicAtmosphereLighting,me.dynamicAtmosphereLightingFromSun=e.dynamicAtmosphereLightingFromSun,me.showGroundAtmosphere=A,me.perFragmentGroundAtmosphere=B,me.hasVertexNormals=w,me.useWebMercatorProjection=ae,me.clippedByBoundaries=n.clippedByBoundaries;var ge=n.imagery,_e=0,ve=ge.length,be=e.backFaceCulling?e._renderState:e._disableCullingRenderState,xe=e.backFaceCulling?e._blendRenderState:e._disableCullingBlendRenderState,Ae=be,Pe=e._firstPassInitialColor,Re=i.context;Object(T.a)(e._debug.boundingSphereTile)||je();do{var Me,Le,Ne=0;if(e._drawCommands.length<=e._usedDrawCommands?(Me=new G.a,Me.owner=t,Me.cull=!1,Me.boundingVolume=new p.a,Me.orientedBoundingBox=void 0,Le=u(i,e),e._drawCommands.push(Me),e._uniformMaps.push(Le)):(Me=e._drawCommands[e._usedDrawCommands],Le=e._uniformMaps[e._usedDrawCommands]),Me.owner=t,++e._usedDrawCommands,t===e._debug.boundingSphereTile){var Fe=n.orientedBoundingBox;Object(T.a)(Fe)?Ce(Fe,O.a.RED).update(i):Object(T.a)(Q)&&Object(T.a)(Q.boundingSphere3D)&&Se(Q.boundingSphere3D,O.a.RED).update(i)}var ze=Le.properties;v.a.clone(Pe,ze.initialColor),ze.oceanNormalMap=b,ze.lightingFadeDistance.x=e.lightingFadeOutDistance,ze.lightingFadeDistance.y=e.lightingFadeInDistance,ze.nightFadeDistance.x=e.nightFadeOutDistance,ze.nightFadeDistance.y=e.nightFadeInDistance,ze.zoomedOutOceanSpecularIntensity=e.zoomedOutOceanSpecularIntensity;var Be=!Object(T.a)(n.vertexArray)&&Object(T.a)(e.fillHighlightColor)&&e.fillHighlightColor.alpha>0;Be&&O.a.clone(e.fillHighlightColor,ze.fillHighlightColor),ze.center3D=Q.center,_.a.clone(J,ze.rtc),v.a.clone(K,ze.tileRectangle),ze.southAndNorthLatitude.x=$,ze.southAndNorthLatitude.y=te,ze.southMercatorYAndOneOverHeight.x=ie,ze.southMercatorYAndOneOverHeight.y=ne;var ke=Oe,Ue=o(t.rectangle,e.cartographicLimitRectangle);_.a.fromElements(P,D,I,ze.hsbShift);var Ve=t.rectangle,He=1/Ve.width,qe=1/Ve.height;ke.x=(Ue.west-Ve.west)*He,ke.y=(Ue.south-Ve.south)*qe,ke.z=(Ue.east-Ve.west)*He,ke.w=(Ue.north-Ve.south)*qe,v.a.clone(ke,ze.localizedCartographicLimitRectangle);var We=E&&R.a.fog(t._distance,i.fog.density)>R.a.EPSILON3;N=N&&(We||A);for(var Ge=!1,Ye=!1,Xe=!1,Qe=!1,Je=!1,Ze=!1,Ke=!1,$e=!1,et=!1;Ne<d&&_e<ve;){var tt=ge[_e],it=tt.readyImagery;if(++_e,Object(T.a)(it)&&0!==it.imageryLayer.alpha){var nt=tt.useWebMercatorT?it.textureWebMercator:it.texture;if(!Object(T.a)(nt))throw new C.a("readyImagery is not actually ready!");var at=it.imageryLayer;Object(T.a)(tt.textureTranslationAndScale)||(tt.textureTranslationAndScale=at._calculateTextureTranslationAndScale(t,tt)),ze.dayTextures[Ne]=nt,ze.dayTextureTranslationAndScale[Ne]=tt.textureTranslationAndScale,ze.dayTextureTexCoordsRectangle[Ne]=tt.textureCoordinateRectangle,ze.dayTextureUseWebMercatorT[Ne]=tt.useWebMercatorT,ze.dayTextureAlpha[Ne]=at.alpha,Ze=Ze||1!==ze.dayTextureAlpha[Ne],ze.dayTextureBrightness[Ne]=at.brightness,Ge=Ge||ze.dayTextureBrightness[Ne]!==ee.a.DEFAULT_BRIGHTNESS,ze.dayTextureContrast[Ne]=at.contrast,Ye=Ye||ze.dayTextureContrast[Ne]!==ee.a.DEFAULT_CONTRAST,ze.dayTextureHue[Ne]=at.hue,Xe=Xe||ze.dayTextureHue[Ne]!==ee.a.DEFAULT_HUE,ze.dayTextureSaturation[Ne]=at.saturation,Qe=Qe||ze.dayTextureSaturation[Ne]!==ee.a.DEFAULT_SATURATION,ze.dayTextureOneOverGamma[Ne]=1/at.gamma,Je=Je||ze.dayTextureOneOverGamma[Ne]!==1/ee.a.DEFAULT_GAMMA,ze.dayTextureSplit[Ne]=at.splitDirection,Ke=Ke||0!==ze.dayTextureSplit[Ne];var rt=ze.dayTextureCutoutRectangles[Ne];if(Object(T.a)(rt)||(rt=ze.dayTextureCutoutRectangles[Ne]=new v.a),v.a.clone(v.a.ZERO,rt),Object(T.a)(at.cutoutRectangle)){var ot=o(Ve,at.cutoutRectangle),st=z.a.simpleIntersection(ot,Ve,de);$e=Object(T.a)(st)||$e,rt.x=(ot.west-Ve.west)*He,rt.y=(ot.south-Ve.south)*qe,rt.z=(ot.east-Ve.west)*He,rt.w=(ot.north-Ve.south)*qe}var ct=ze.colorsToAlpha[Ne];Object(T.a)(ct)||(ct=ze.colorsToAlpha[Ne]=new v.a);var lt=Object(T.a)(at.colorToAlpha)&&at.colorToAlphaThreshold>0;if(et=et||lt,lt){var ut=at.colorToAlpha;ct.x=ut.red,ct.y=ut.green,ct.z=ut.blue,ct.w=at.colorToAlphaThreshold}else ct.w=-1;if(Object(T.a)(it.credits))for(var ht=it.credits,dt=0,ft=ht.length;dt<ft;++dt)a.addCredit(ht[dt]);++Ne}}ze.dayTextures.length=Ne,ze.waterMask=f,v.a.clone(m,ze.waterMaskTranslationAndScale),ze.minMaxHeight.x=Z.minimumHeight,ze.minMaxHeight.y=Z.maximumHeight,M.a.clone(Z.matrix,ze.scaleAndBias);var pt=e._clippingPlanes,mt=Object(T.a)(pt)&&pt.enabled&&t.isClipped;mt&&(ze.clippingPlanesEdgeColor=O.a.clone(pt.edgeColor,ze.clippingPlanesEdgeColor),ze.clippingPlanesEdgeWidth=pt.edgeWidth),Object(T.a)(e.uniformMap)&&(Le=Object(x.a)(Le,e.uniformMap)),me.numberOfDayTextures=Ne,me.applyBrightness=Ge,me.applyContrast=Ye,me.applyHue=Xe,me.applySaturation=Qe,me.applyGamma=Je,me.applyAlpha=Ze,me.applySplit=Ke,me.enableFog=We,me.enableClippingPlanes=mt,me.clippingPlanes=pt,me.hasImageryLayerCutout=$e,me.colorCorrect=N,me.highlightFillTile=Be,me.colorToAlpha=et;var gt=n.renderedMesh.indices.length;e.showSkirts||(gt=n.renderedMesh.indexCountWithoutSkirts),Me.shaderProgram=e._surfaceShaderSet.getShaderProgram(me),Me.castShadows=S,Me.receiveShadows=j,Me.renderState=Ae,Me.primitiveType=F.a.TRIANGLES,Me.vertexArray=n.vertexArray||n.fill.vertexArray,Me.count=gt,Me.uniformMap=Le,Me.pass=Y.a.GLOBE,e._debug.wireframe&&(h(Re,e,t),Object(T.a)(n.wireframeVertexArray)&&(Me.vertexArray=n.wireframeVertexArray,Me.primitiveType=F.a.LINES,Me.count=2*gt));var _t=Me.boundingVolume,vt=Me.orientedBoundingBox;if(i.mode!==re.a.SCENE3D){var bt=n.tileBoundingRegion;p.a.fromRectangleWithHeights2D(t.rectangle,i.mapProjection,bt.minimumHeight,bt.maximumHeight,_t),_.a.fromElements(_t.center.z,_t.center.x,_t.center.y,_t.center),i.mode===re.a.MORPHING&&(_t=p.a.union(Q.boundingSphere3D,_t,_t))}else Me.boundingVolume=p.a.clone(Q.boundingSphere3D,_t),Me.orientedBoundingBox=L.a.clone(n.orientedBoundingBox,vt);Me.dirty=!0,i.commandList.push(Me),Ae=xe,Pe=De}while(_e<ve)}var p=i("lBr9"),m=i("W3jk"),g=i("Ss9j"),_=i("Jj+J"),v=i("PDkd"),b=i("I3GD"),y=i("wv0P"),O=i("6F0S"),w=i("devy"),x=i("ZboF"),E=i("5A4e"),T=i("xC6Q"),A=i("6sr8"),C=i("PzDm"),S=i("W6xh"),j=i("izcu"),P=i("odWO"),D=i("oMsT"),I=i("u909"),R=i("fq+p"),M=i("Xjii"),L=i("qBw0"),N=i("ku5u"),F=i("nHNe"),z=i("Wq1U"),B=i("+VVU"),k=i("CWGf"),U=i("h+i9"),V=i("6AvQ"),H=i("tW+E"),q=i("rFKc"),W=i("J1no"),G=i("1mJh"),Y=i("M0+0"),X=i("DrvA"),Q=i("+0EW"),J=i("OtDm"),Z=i("Jl4s"),K=i("jFv/"),$=i("jR3i"),ee=i("u/3x"),te=i("l1tn"),ie=i("BOJj"),ne=i("0df4"),ae=i("u1iC"),re=i("sotJ"),oe=i("ARzC"),se=i("V2UA"),ce=i("+Bp5"),le=i("JozK"),ue=i("qqab");Object.defineProperties(n.prototype,{baseColor:{get:function(){return this._baseColor},set:function(e){if(!Object(T.a)(e))throw new C.a("value is required.");this._baseColor=e,this._firstPassInitialColor=v.a.fromColor(e,this._firstPassInitialColor)}},quadtree:{get:function(){return this._quadtree},set:function(e){if(!Object(T.a)(e))throw new C.a("value is required.");this._quadtree=e}},ready:{get:function(){return this._terrainProvider.ready&&(0===this._imageryLayers.length||this._imageryLayers.get(0).imageryProvider.ready)}},tilingScheme:{get:function(){return this._terrainProvider.tilingScheme}},errorEvent:{get:function(){return this._errorEvent}},imageryLayersUpdatedEvent:{get:function(){return this._imageryLayersUpdatedEvent}},terrainProvider:{get:function(){return this._terrainProvider},set:function(e){if(this._terrainProvider!==e){if(!Object(T.a)(e))throw new C.a("terrainProvider is required.");this._terrainProvider=e,Object(T.a)(this._quadtree)&&this._quadtree.invalidateAllTiles()}}},clippingPlanes:{get:function(){return this._clippingPlanes},set:function(e){Z.a.setOwner(e,this,"_clippingPlanes")}}}),n.prototype.update=function(e){this._imageryLayers._update()},n.prototype.initialize=function(e){this._imageryLayers.queueReprojectionCommands(e),this._layerOrderChanged&&(this._layerOrderChanged=!1,this._quadtree.forEachLoadedTile(function(e){e.data.imagery.sort(a)})),r(this,e);for(var t=this._vertexArraysToDestroy,i=t.length,n=0;n<i;++n)$.a._freeVertexArray(t[n]);t.length=0},n.prototype.beginUpdate=function(e){for(var t=this._tilesToRenderByTextureCount,i=0,n=t.length;i<n;++i){var a=t[i];Object(T.a)(a)&&(a.length=0)}var r=this._clippingPlanes;Object(T.a)(r)&&r.enabled&&r.update(e),this._usedDrawCommands=0,this._hasLoadedTilesThisFrame=!1,this._hasFillTilesThisFrame=!1},n.prototype.endUpdate=function(e){if(Object(T.a)(this._renderState)||(this._renderState=X.a.fromCache({cull:{enabled:!0},depthTest:{enabled:!0,func:K.a.LESS}}),this._blendRenderState=X.a.fromCache({cull:{enabled:!0},depthTest:{enabled:!0,func:K.a.LESS_OR_EQUAL},blending:J.a.ALPHA_BLEND})),!this.backFaceCulling&&!Object(T.a)(this._disableCullingRenderState)){var t=Object(y.a)(this._renderState,!0);t.cull.enabled=!1,this._disableCullingRenderState=X.a.fromCache(t),t=Object(y.a)(this._blendRenderState,!0),t.cull.enabled=!1,this._disableCullingBlendRenderState=X.a.fromCache(t)}this._hasFillTilesThisFrame&&this._hasLoadedTilesThisFrame&&se.a.updateFillTiles(this,this._quadtree._tilesToRender,e,this._vertexArraysToDestroy);for(var i=this._tilesToRenderByTextureCount,n=0,a=i.length;n<a;++n){var r=i[n];if(Object(T.a)(r))for(var o=0,s=r.length;o<s;++o){var c=r[o],l=c.data.tileBoundingRegion;f(this,c,e),e.minimumTerrainHeight=Math.min(e.minimumTerrainHeight,l.minimumHeight)}}},n.prototype.updateForPick=function(e){for(var t=this._drawCommands,i=0,n=this._usedDrawCommands;i<n;++i)e.commandList.push(t[i])},n.prototype.cancelReprojections=function(){this._imageryLayers.cancelReprojections()},n.prototype.getLevelMaximumGeometricError=function(e){return this._terrainProvider.getLevelMaximumGeometricError(e)},n.prototype.loadTile=function(e,t){var i,n=t.data,a=!0;Object(T.a)(n)&&(a=n.boundingVolumeSourceTile!==t||t._lastSelectionResult===ue.a.CULLED_BUT_NEEDED,i=n.terrainState),$.a.processStateMachine(t,e,this.terrainProvider,this._imageryLayers,this._vertexArraysToDestroy,a),n=t.data,a&&i!==t.data.terrainState&&this.computeTileVisibility(t,e,this.quadtree.occluders)&&n.boundingVolumeSourceTile===t&&(a=!1,$.a.processStateMachine(t,e,this.terrainProvider,this._imageryLayers,this._vertexArraysToDestroy,a))};var he=new p.a,de=new z.a,fe=new z.a,pe=new b.a;n.prototype.computeTileVisibility=function(e,t,i){var n=this.computeDistanceToTile(e,t);if(e._distance=n,t.fog.enabled&&R.a.fog(n,t.fog.density)>=1)return U.a.NONE;var a=e.data,r=a.tileBoundingRegion;if(void 0===a.boundingVolumeSourceTile)return U.a.PARTIAL;var s=t.cullingVolume,c=a.orientedBoundingBox;!Object(T.a)(c)&&Object(T.a)(a.renderedMesh)&&(c=a.renderedMesh.boundingSphere3D),a.clippedByBoundaries=!1;var l=o(e.rectangle,this.cartographicLimitRectangle),u=z.a.simpleIntersection(l,e.rectangle,de);if(!Object(T.a)(u))return U.a.NONE;if(z.a.equals(u,e.rectangle)||(a.clippedByBoundaries=!0),t.mode!==re.a.SCENE3D&&(c=he,p.a.fromRectangleWithHeights2D(e.rectangle,t.mapProjection,r.minimumHeight,r.maximumHeight,c),_.a.fromElements(c.center.z,c.center.x,c.center.y,c.center),t.mode===re.a.MORPHING&&Object(T.a)(a.renderedMesh)&&(c=p.a.union(a.renderedMesh.boundingSphere3D,c,c))),!Object(T.a)(c))return I.a.INTERSECTING;var h=this._clippingPlanes;if(Object(T.a)(h)&&h.enabled){var d=h.computeIntersectionWithBoundingVolume(c);if(e.isClipped=d!==I.a.INSIDE,d===I.a.OUTSIDE)return U.a.NONE}var f=s.computeVisibility(c);if(f===I.a.OUTSIDE)return U.a.NONE;var m=t.mode===re.a.SCENE3D&&t.camera.frustum instanceof N.a;if(t.mode===re.a.SCENE3D&&!m&&Object(T.a)(i)){var g=a.occludeePointInScaledSpace;return Object(T.a)(g)?i.ellipsoid.isScaledSpacePointVisiblePossiblyUnderEllipsoid(g,r.minimumHeight)?f:U.a.NONE:f}return f},n.prototype.canRefine=function(e){return!!Object(T.a)(e.data.terrainData)||void 0!==this.terrainProvider.getTileDataAvailable(2*e.x,2*e.y,e.level+1)};var me=[],ge=[];n.prototype.canRenderWithoutLosingDetail=function(e,t){var i=e.data,n=me;n.length=this._imageryLayers.length;var a,r=!1,o=!1;Object(T.a)(i)&&(r=i.terrainState===ce.a.READY,o=!0,a=i.imagery);var s,c;for(s=0,c=n.length;s<c;++s)n[s]=o;if(Object(T.a)(a))for(s=0,c=a.length;s<c;++s){var l=a[s],u=l.loadingImagery,h=!Object(T.a)(u)||u.state===te.a.FAILED||u.state===te.a.INVALID,d=(l.loadingImagery||l.readyImagery).imageryLayer._layerIndex;n[d]=h&&n[d]}var f=this.quadtree._lastSelectionFrameNumber,p=ge;for(p.length=0,p.push(e.southwestChild,e.southeastChild,e.northwestChild,e.northeastChild);p.length>0;){var m=p.pop(),g=m._lastSelectionResultFrame===f?m._lastSelectionResult:ue.a.NONE;if(g===ue.a.RENDERED){var _=m.data;if(!Object(T.a)(_))continue;if(!r&&m.data.terrainState===ce.a.READY)return!1;var v=m.data.imagery;for(s=0,c=v.length;s<c;++s){var b=v[s],y=b.loadingImagery,O=!Object(T.a)(y)||y.state===te.a.FAILED||y.state===te.a.INVALID,w=(b.loadingImagery||b.readyImagery).imageryLayer._layerIndex;if(O&&!n[w])return!1}}else g===ue.a.REFINED&&p.push(m.southwestChild,m.southeastChild,m.northwestChild,m.northeastChild)}return!0};var _e=new _.a;n.prototype.computeTileLoadPriority=function(e,t){var i=e.data;if(void 0===i)return 0;var n=i.orientedBoundingBox;if(void 0===n)return 0;var a=t.camera.positionWC,r=t.camera.directionWC,o=_.a.subtract(n.center,a,_e),s=_.a.magnitude(o);return s<R.a.EPSILON5?0:(_.a.divideByScalar(o,s,o),(1-_.a.dot(o,r))*e._distance)};var ve=new M.a,be=new M.a,ye=new v.a,Oe=new v.a,we=new _.a,xe=new _.a,Ee=new _.a,Te=new _.a;n.prototype.showTileThisFrame=function(e,t){for(var i=0,n=e.data.imagery,a=0,r=n.length;a<r;++a){var o=n[a];Object(T.a)(o.readyImagery)&&0!==o.readyImagery.imageryLayer.alpha&&++i}var s=this._tilesToRenderByTextureCount[i];Object(T.a)(s)||(s=[],this._tilesToRenderByTextureCount[i]=s),s.push(e);var c=e.data;Object(T.a)(c.vertexArray)?this._hasLoadedTilesThisFrame=!0:this._hasFillTilesThisFrame=!0;var l=this._debug;++l.tilesRendered,l.texturesRendered+=i};var Ae=[new _.a,new _.a,new _.a,new _.a];n.prototype.computeDistanceToTile=function(e,t){var i=c(e,this.terrainProvider,t),n=e.data,a=n.tileBoundingRegion;if(void 0===i)return 9999999999;if(n.boundingVolumeSourceTile!==i){n.boundingVolumeSourceTile=i;var r=e.rectangle;Object(T.a)(r)&&(n.orientedBoundingBox=L.a.fromRectangle(e.rectangle,a.minimumHeight,a.maximumHeight,e.tilingScheme.ellipsoid,n.orientedBoundingBox),n.occludeePointInScaledSpace=s(this,n.orientedBoundingBox.center,e.rectangle,a.minimumHeight,a.maximumHeight,n.occludeePointInScaledSpace))}var o=a.minimumHeight,l=a.maximumHeight;if(n.boundingVolumeSourceTile!==e){var u=t.camera.positionCartographic.height;Math.abs(u-o)>Math.abs(u-l)?(a.minimumHeight=o,a.maximumHeight=o):(a.minimumHeight=l,a.maximumHeight=l)}var h=a.distanceToCamera(t);return a.minimumHeight=o,a.maximumHeight=l,h},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._tileProvider=this._tileProvider&&this._tileProvider.destroy(),this._clippingPlanes=this._clippingPlanes&&this._clippingPlanes.destroy(),Object(A.a)(this)},n.prototype._onLayerAdded=function(e,t){if(e.show){var i=this._terrainProvider,n=this,a=e.imageryProvider,r=this._imageryLayersUpdatedEvent;a._reload=function(){e._imageryCache={},n._quadtree.forEachLoadedTile(function(t){if(!Object(T.a)(t._loadedCallbacks[e._layerIndex])){var n,a=t.data.imagery,r=a.length,o=-1,s=0;for(n=0;n<r;++n){var c=a[n];if(Object(E.a)(c.readyImagery,c.loadingImagery).imageryLayer===e)-1===o&&(o=n),++s;else if(-1!==o)break}if(-1!==o){var u=o+s;e._createTileImagerySkeletons(t,i,u)&&(t._loadedCallbacks[e._layerIndex]=l(s,e,i),t.state=ae.a.LOADING)}}})},this._quadtree.forEachLoadedTile(function(t){e._createTileImagerySkeletons(t,i)&&(t.state=ae.a.LOADING,0===t.level||t._lastSelectionResultFrame===n.quadtree._lastSelectionFrameNumber&&t._lastSelectionResult===ue.a.RENDERED||(t.renderable=!1))}),this._layerOrderChanged=!0,r.raiseEvent()}},n.prototype._onLayerRemoved=function(e,t){this._quadtree.forEachLoadedTile(function(t){for(var i=t.data.imagery,n=-1,a=0,r=0,o=i.length;r<o;++r){var s=i[r],c=s.loadingImagery;if(Object(T.a)(c)||(c=s.readyImagery),c.imageryLayer===e)-1===n&&(n=r),s.freeResources(),++a;else if(-1!==n)break}-1!==n&&i.splice(n,a)}),Object(T.a)(e.imageryProvider)&&(e.imageryProvider._reload=void 0),this._imageryLayersUpdatedEvent.raiseEvent()},n.prototype._onLayerMoved=function(e,t,i){this._layerOrderChanged=!0,this._imageryLayersUpdatedEvent.raiseEvent()},n.prototype._onLayerShownOrHidden=function(e,t,i){i?this._onLayerAdded(e,t):this._onLayerRemoved(e,t)};var Ce,Se,je,Pe=new M.a;!function(){function e(e){return new ne.a({geometryInstances:e,appearance:new ie.a({translucent:!1,flat:!0}),asynchronous:!1})}var t,i,n=new j.a({geometry:m.a.fromDimensions({dimensions:new _.a(2,2,2)})}),a=new j.a({geometry:new B.a({radius:1})}),r=new M.a;Ce=function(a,o){return a===t?i:(je(),t=a,r=M.a.fromRotationTranslation(a.halfAxes,a.center,r),n.modelMatrix=r,n.attributes.color=w.a.fromColor(o),i=e(n))},Se=function(n,o){return n===t?i:(je(),t=n,r=M.a.fromTranslation(n.center,r),r=M.a.multiplyByUniformScale(r,n.radius,r),a.modelMatrix=r,a.attributes.color=w.a.fromColor(o),i=e(a))},je=function(){Object(T.a)(i)&&(i.destroy(),i=void 0,t=void 0)}}();var De=new v.a(0,0,0,0),Ie={frameState:void 0,surfaceTile:void 0,numberOfDayTextures:void 0,applyBrightness:void 0,applyContrast:void 0,applyHue:void 0,applySaturation:void 0,applyGamma:void 0,applyAlpha:void 0,applySplit:void 0,showReflectiveOcean:void 0,showOceanWaves:void 0,enableLighting:void 0,dynamicAtmosphereLighting:void 0,dynamicAtmosphereLightingFromSun:void 0,showGroundAtmosphere:void 0,perFragmentGroundAtmosphere:void 0,hasVertexNormals:void 0,useWebMercatorProjection:void 0,enableFog:void 0,enableClippingPlanes:void 0,clippingPlanes:void 0,clippedByBoundaries:void 0,hasImageryLayerCutout:void 0,colorCorrect:void 0,colorToAlpha:void 0};t.a=n},dWoC:function(e,t,i){"use strict";function n(e,t){var i=t.bufferView;if(Object(o.a)(i)){var n=e.bufferViews[i];if(Object(o.a)(n.byteStride)&&n.byteStride>0)return n.byteStride}return r.a.getSizeInBytes(t.componentType)*Object(a.a)(t.type)}var a=i("8uSS"),r=i("YCZg"),o=i("xC6Q");t.a=n},dYlf:function(e,t,i){"use strict";function n(e,t){function i(e){r.raiseEvent(e)}this.entity=e,this.scene=t;for(var a=new Array(F.length),r=new h.a,o=new d.a,s=0;s<a.length;s++){var c=new F[s](e,t);o.add(c.geometryChanged,i),a[s]=c}this.updaters=a,this.geometryChanged=r,this.eventHelper=o,this._removeEntitySubscription=e.definitionChanged.addEventListener(n.prototype._onEntityPropertyChanged,this)}function a(e,t,i,n){s.a.defined("scene",e),s.a.defined("entityCollection",t),i=Object(c.a)(i,e.primitives),n=Object(c.a)(n,e.groundPrimitives),this._scene=e,this._primitives=i,this._groundPrimitives=n,this._entityCollection=void 0,this._addedObjects=new r.a,this._removedObjects=new r.a,this._changedObjects=new r.a;var o=g.a.NUMBER_OF_SHADOW_MODES;this._outlineBatches=new Array(2*o),this._closedColorBatches=new Array(2*o),this._closedMaterialBatches=new Array(2*o),this._openColorBatches=new Array(2*o),this._openMaterialBatches=new Array(2*o);var l=T.a.supportsMaterialsforEntitiesOnTerrain(e);this._supportsMaterialsforEntitiesOnTerrain=l;var u;for(u=0;u<o;++u)this._outlineBatches[u]=new M.a(i,e,u,!1),this._outlineBatches[o+u]=new M.a(i,e,u,!0),this._closedColorBatches[u]=new P.a(i,m.a,void 0,!0,u,!0),this._closedColorBatches[o+u]=new P.a(i,m.a,void 0,!0,u,!1),this._closedMaterialBatches[u]=new D.a(i,p.a,void 0,!0,u,!0),this._closedMaterialBatches[o+u]=new D.a(i,p.a,void 0,!0,u,!1),this._openColorBatches[u]=new P.a(i,m.a,void 0,!1,u,!0),this._openColorBatches[o+u]=new P.a(i,m.a,void 0,!1,u,!1),this._openMaterialBatches[u]=new D.a(i,p.a,void 0,!1,u,!0),this._openMaterialBatches[o+u]=new D.a(i,p.a,void 0,!1,u,!1);var h=f.a.NUMBER_OF_CLASSIFICATION_TYPES,d=new Array(h),_=[];if(l)for(u=0;u<h;++u)_.push(new R.a(n,u,p.a)),d[u]=new I.a(n,u);else for(u=0;u<h;++u)d[u]=new I.a(n,u);this._groundColorBatches=d,this._groundMaterialBatches=_,this._dynamicBatch=new w.a(i,n),this._batches=this._outlineBatches.concat(this._closedColorBatches,this._closedMaterialBatches,this._openColorBatches,this._openMaterialBatches,this._groundColorBatches,this._groundMaterialBatches,this._dynamicBatch),this._subscriptions=new r.a,this._updaterSets=new r.a,this._entityCollection=t,t.collectionChanged.addEventListener(a.prototype._onCollectionChanged,this),this._onCollectionChanged(t,t.values,N)}var r=i("7uRt"),o=i("lBr9"),s=i("5F4X"),c=i("5A4e"),l=i("xC6Q"),u=i("6sr8"),h=i("W6xh"),d=i("HMO3"),f=i("M1dj"),p=i("xEUC"),m=i("BOJj"),g=i("ARzC"),_=i("P+tD"),v=i("4eJ4"),b=i("I5FW"),y=i("6cxr"),O=i("So8u"),w=i("C3wi"),x=i("++9R"),E=i("TGuQ"),T=i("dMpj"),A=i("nUpE"),C=i("7fNQ"),S=i("0RrP"),j=i("zlN4"),P=i("t5zj"),D=i("Z1NC"),I=i("7j96"),R=i("Dg5Q"),M=i("3a1T"),L=i("urdP"),N=[],F=[v.a,O.a,y.a,x.a,E.a,A.a,C.a,S.a,j.a,L.a];n.prototype._onEntityPropertyChanged=function(e,t,i,n){for(var a=this.updaters,r=0;r<a.length;r++)a[r]._onEntityPropertyChanged(e,t,i,n)},n.prototype.forEach=function(e){for(var t=this.updaters,i=0;i<t.length;i++)e(t[i])},n.prototype.destroy=function(){this.eventHelper.removeAll();for(var e=this.updaters,t=0;t<e.length;t++)e[t].destroy();this._removeEntitySubscription(),Object(u.a)(this)},a.prototype.update=function(e){s.a.defined("time",e);var t,i,r,o,c=this._addedObjects,l=c.values,u=this._removedObjects,h=u.values,d=this._changedObjects,f=d.values,p=this;for(t=f.length-1;t>-1;t--)i=f[t],r=i.id,o=this._updaterSets.get(r),o.entity===i?o.forEach(function(t){p._removeUpdater(t),p._insertUpdaterIntoBatch(e,t)}):(h.push(i),l.push(i));for(t=h.length-1;t>-1;t--)i=h[t],r=i.id,o=this._updaterSets.get(r),o.forEach(this._removeUpdater.bind(this)),o.destroy(),this._updaterSets.remove(r),this._subscriptions.get(r)(),this._subscriptions.remove(r);for(t=l.length-1;t>-1;t--)i=l[t],r=i.id,o=new n(i,this._scene),this._updaterSets.set(r,o),o.forEach(function(t){p._insertUpdaterIntoBatch(e,t)}),this._subscriptions.set(r,o.geometryChanged.addEventListener(a._onGeometryChanged,this));c.removeAll(),u.removeAll(),d.removeAll();var m=!0,g=this._batches,_=g.length;for(t=0;t<_;t++)m=g[t].update(e)&&m;return m};var z=[],B=new o.a;a.prototype.getBoundingSphere=function(e,t){s.a.defined("entity",e),s.a.defined("result",t);for(var i=z,n=B,a=0,r=_.a.DONE,c=this._batches,l=c.length,u=e.id,h=this._updaterSets.get(u).updaters,d=0;d<h.length;d++)for(var f=h[d],p=0;p<l;p++){if((r=c[p].getBoundingSphere(f,n))===_.a.PENDING)return _.a.PENDING;r===_.a.DONE&&(i[a]=o.a.clone(n,i[a]),a++)}return 0===a?_.a.FAILED:(i.length=a,o.a.fromBoundingSpheres(i,t),_.a.DONE)},a.prototype.isDestroyed=function(){return!1},a.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(a.prototype._onCollectionChanged,this),this._addedObjects.removeAll(),this._removedObjects.removeAll();var e,t=this._batches,i=t.length;for(e=0;e<i;e++)t[e].removeAllPrimitives();var n=this._subscriptions.values;for(i=n.length,e=0;e<i;e++)n[e]();this._subscriptions.removeAll();var r=this._updaterSets.values;for(i=r.length,e=0;e<i;e++)r[e].destroy();return this._updaterSets.removeAll(),Object(u.a)(this)},a.prototype._removeUpdater=function(e){for(var t=this._batches,i=t.length,n=0;n<i;n++)t[n].remove(e)},a.prototype._insertUpdaterIntoBatch=function(e,t){if(t.isDynamic)return void this._dynamicBatch.add(e,t);var i;(t.outlineEnabled||t.fillEnabled)&&(i=t.shadowsProperty.getValue(e));var n=g.a.NUMBER_OF_SHADOW_MODES;if(t.outlineEnabled&&(Object(l.a)(t.terrainOffsetProperty)?this._outlineBatches[n+i].add(e,t):this._outlineBatches[i].add(e,t)),t.fillEnabled)if(t.onTerrain){var a=t.classificationTypeProperty.getValue(e);t.fillMaterialProperty instanceof b.a?this._groundColorBatches[a].add(e,t):this._groundMaterialBatches[a].add(e,t)}else t.isClosed?t.fillMaterialProperty instanceof b.a?Object(l.a)(t.terrainOffsetProperty)?this._closedColorBatches[n+i].add(e,t):this._closedColorBatches[i].add(e,t):Object(l.a)(t.terrainOffsetProperty)?this._closedMaterialBatches[n+i].add(e,t):this._closedMaterialBatches[i].add(e,t):t.fillMaterialProperty instanceof b.a?Object(l.a)(t.terrainOffsetProperty)?this._openColorBatches[n+i].add(e,t):this._openColorBatches[i].add(e,t):Object(l.a)(t.terrainOffsetProperty)?this._openMaterialBatches[n+i].add(e,t):this._openMaterialBatches[i].add(e,t)},a._onGeometryChanged=function(e){var t=this._removedObjects,i=this._changedObjects,n=e.entity,a=n.id;Object(l.a)(t.get(a))||Object(l.a)(i.get(a))||i.set(a,n)},a.prototype._onCollectionChanged=function(e,t,i){var n,a,r,o=this._addedObjects,s=this._removedObjects,c=this._changedObjects;for(n=i.length-1;n>-1;n--)r=i[n],a=r.id,o.remove(a)||(s.set(a,r),c.remove(a));for(n=t.length-1;n>-1;n--)r=t[n],a=r.id,s.remove(a)?c.set(a,r):o.set(a,r)},t.a=a},dbGU:function(e,t,i){"use strict";function n(e,t,i){this.primitive=e,this._modelMatrix=a.a.clone(t),this._instanceId=i}var a=i("Xjii");Object.defineProperties(n.prototype,{instanceId:{get:function(){return this._instanceId}},model:{get:function(){return this.primitive._model}},modelMatrix:{get:function(){return a.a.clone(this._modelMatrix)},set:function(e){a.a.clone(e,this._modelMatrix),this.primitive.expandBoundingSphere(this._modelMatrix),this.primitive._dirty=!0}}}),t.a=n},devy:function(e,t,i){"use strict";function n(e,t,i,n){e=Object(o.a)(e,1),t=Object(o.a)(t,1),i=Object(o.a)(i,1),n=Object(o.a)(n,1),this.value=new Uint8Array([a.a.floatToByte(e),a.a.floatToByte(t),a.a.floatToByte(i),a.a.floatToByte(n)])}var a=i("6F0S"),r=i("YCZg"),o=i("5A4e"),s=i("xC6Q"),c=i("PzDm");Object.defineProperties(n.prototype,{componentDatatype:{get:function(){return r.a.UNSIGNED_BYTE}},componentsPerAttribute:{get:function(){return 4}},normalize:{get:function(){return!0}}}),n.fromColor=function(e){if(!Object(s.a)(e))throw new c.a("color is required.");return new n(e.red,e.green,e.blue,e.alpha)},n.toValue=function(e,t){if(!Object(s.a)(e))throw new c.a("color is required.");return Object(s.a)(t)?e.toBytes(t):new Uint8Array(e.toBytes())},n.equals=function(e,t){return e===t||Object(s.a)(e)&&Object(s.a)(t)&&e.value[0]===t.value[0]&&e.value[1]===t.value[1]&&e.value[2]===t.value[2]&&e.value[3]===t.value[3]},t.a=n},dhnS:function(e,t,i){var n=i("EuP9").Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(n.isBuffer(e)){for(var t=new Uint8Array(e.length),i=e.length,a=0;a<i;a++)t[a]=e[a];return t.buffer}throw new Error("Argument must be a Buffer")}},dhoM:function(e,t,i){"use strict";t.a="uniform sampler2D randomTexture;\nuniform sampler2D depthTexture;\nuniform float intensity;\nuniform float bias;\nuniform float lengthCap;\nuniform float stepSize;\nuniform float frustumLength;\n\nvarying vec2 v_textureCoordinates;\n\nvec4 clipToEye(vec2 uv, float depth)\n{\n    vec2 xy = vec2((uv.x * 2.0 - 1.0), ((1.0 - uv.y) * 2.0 - 1.0));\n    vec4 posEC = czm_inverseProjection * vec4(xy, depth, 1.0);\n    posEC = posEC / posEC.w;\n    return posEC;\n}\n\n//Reconstruct Normal Without Edge Removation\nvec3 getNormalXEdge(vec3 posInCamera, float depthU, float depthD, float depthL, float depthR, vec2 pixelSize)\n{\n    vec4 posInCameraUp = clipToEye(v_textureCoordinates - vec2(0.0, pixelSize.y), depthU);\n    vec4 posInCameraDown = clipToEye(v_textureCoordinates + vec2(0.0, pixelSize.y), depthD);\n    vec4 posInCameraLeft = clipToEye(v_textureCoordinates - vec2(pixelSize.x, 0.0), depthL);\n    vec4 posInCameraRight = clipToEye(v_textureCoordinates + vec2(pixelSize.x, 0.0), depthR);\n\n    vec3 up = posInCamera.xyz - posInCameraUp.xyz;\n    vec3 down = posInCameraDown.xyz - posInCamera.xyz;\n    vec3 left = posInCamera.xyz - posInCameraLeft.xyz;\n    vec3 right = posInCameraRight.xyz - posInCamera.xyz;\n\n    vec3 DX = length(left) < length(right) ? left : right;\n    vec3 DY = length(up) < length(down) ? up : down;\n\n    return normalize(cross(DY, DX));\n}\n\nvoid main(void)\n{\n    float depth = czm_readDepth(depthTexture, v_textureCoordinates);\n    vec4 posInCamera = clipToEye(v_textureCoordinates, depth);\n\n    if (posInCamera.z > frustumLength)\n    {\n        gl_FragColor = vec4(1.0);\n        return;\n    }\n\n    vec2 pixelSize = czm_pixelRatio / czm_viewport.zw;\n    float depthU = czm_readDepth(depthTexture, v_textureCoordinates - vec2(0.0, pixelSize.y));\n    float depthD = czm_readDepth(depthTexture, v_textureCoordinates + vec2(0.0, pixelSize.y));\n    float depthL = czm_readDepth(depthTexture, v_textureCoordinates - vec2(pixelSize.x, 0.0));\n    float depthR = czm_readDepth(depthTexture, v_textureCoordinates + vec2(pixelSize.x, 0.0));\n    vec3 normalInCamera = getNormalXEdge(posInCamera.xyz, depthU, depthD, depthL, depthR, pixelSize);\n\n    float ao = 0.0;\n    vec2 sampleDirection = vec2(1.0, 0.0);\n    float gapAngle = 90.0 * czm_radiansPerDegree;\n\n    // RandomNoise\n    float randomVal = texture2D(randomTexture, v_textureCoordinates).x;\n\n    //Loop for each direction\n    for (int i = 0; i < 4; i++)\n    {\n        float newGapAngle = gapAngle * (float(i) + randomVal);\n        float cosVal = cos(newGapAngle);\n        float sinVal = sin(newGapAngle);\n\n        //Rotate Sampling Direction\n        vec2 rotatedSampleDirection = vec2(cosVal * sampleDirection.x - sinVal * sampleDirection.y, sinVal * sampleDirection.x + cosVal * sampleDirection.y);\n        float localAO = 0.0;\n        float localStepSize = stepSize;\n\n        //Loop for each step\n        for (int j = 0; j < 6; j++)\n        {\n            vec2 newCoords = v_textureCoordinates + rotatedSampleDirection * localStepSize * pixelSize;\n\n            //Exception Handling\n            if(newCoords.x > 1.0 || newCoords.y > 1.0 || newCoords.x < 0.0 || newCoords.y < 0.0)\n            {\n                break;\n            }\n\n            float stepDepthInfo = czm_readDepth(depthTexture, newCoords);\n            vec4 stepPosInCamera = clipToEye(newCoords, stepDepthInfo);\n            vec3 diffVec = stepPosInCamera.xyz - posInCamera.xyz;\n            float len = length(diffVec);\n\n            if (len > lengthCap)\n            {\n                break;\n            }\n\n            float dotVal = clamp(dot(normalInCamera, normalize(diffVec)), 0.0, 1.0 );\n            float weight = len / lengthCap;\n            weight = 1.0 - weight * weight;\n\n            if (dotVal < bias)\n            {\n                dotVal = 0.0;\n            }\n\n            localAO = max(localAO, dotVal * weight);\n            localStepSize += stepSize;\n        }\n        ao += localAO;\n    }\n\n    ao /= 4.0;\n    ao = 1.0 - clamp(ao, 0.0, 1.0);\n    ao = pow(ao, intensity);\n    gl_FragColor = vec4(vec3(ao), 1.0);\n}\n"},dnpE:function(e,t,i){"use strict";function n(e,t){return Object(a.a)(e.extensionsUsed)&&e.extensionsUsed.indexOf(t)>=0}var a=i("xC6Q");t.a=n},dp99:function(e,t,i){"use strict";function n(e,t,i){i=l.a.cross(e,t,i);var n=l.a.magnitude(i);return l.a.multiplyByScalar(i,m.a.EPSILON7/n,i)}function a(e,t){var i=l.a.normalize(e,w);return n(e,l.a.equalsEpsilon(i,l.a.UNIT_X,m.a.EPSILON6)?l.a.UNIT_Y:l.a.UNIT_X,t)}function r(e){var t=f.a.getColumn(e,0,b),i=f.a.getColumn(e,1,y),r=f.a.getColumn(e,2,O),o=l.a.equals(t,l.a.ZERO),s=l.a.equals(i,l.a.ZERO),c=l.a.equals(r,l.a.ZERO);return o||s||c?o&&s&&c?(e[0]=m.a.EPSILON7,e[4]=m.a.EPSILON7,e[8]=m.a.EPSILON7,e):(!o||s||c?o||!s||c?o||s||!c?o?s?c||(t=a(r,t),i=n(r,t,i)):(t=a(i,t),r=n(i,t,r)):(i=a(t,i),r=n(i,t,r)):r=n(i,t,r):i=n(t,r,i):t=n(i,r,t),f.a.setColumn(e,0,t,e),f.a.setColumn(e,1,i,e),f.a.setColumn(e,2,r,e),e):e}function o(e,t){t=r(t),this._orientedBoundingBox=new g.a(e,t),this._boundingSphere=s.a.fromOrientedBoundingBox(this._orientedBoundingBox)}var s=i("lBr9"),c=i("W3jk"),l=i("Jj+J"),u=i("5F4X"),h=i("devy"),d=i("izcu"),f=i("i3sv"),p=i("Xjii"),m=i("fq+p"),g=i("qBw0"),_=i("BOJj"),v=i("0df4"),b=new l.a,y=new l.a,O=new l.a,w=new l.a;Object.defineProperties(o.prototype,{boundingVolume:{get:function(){return this._orientedBoundingBox}},boundingSphere:{get:function(){return this._boundingSphere}}}),o.prototype.distanceToCamera=function(e){return u.a.defined("frameState",e),Math.sqrt(this._orientedBoundingBox.distanceSquaredTo(e.camera.positionWC))},o.prototype.intersectPlane=function(e){return u.a.defined("plane",e),this._orientedBoundingBox.intersectPlane(e)},o.prototype.update=function(e,t){l.a.clone(e,this._orientedBoundingBox.center),t=r(t),f.a.clone(t,this._orientedBoundingBox.halfAxes),s.a.fromOrientedBoundingBox(this._orientedBoundingBox,this._boundingSphere)},o.prototype.createDebugVolume=function(e){u.a.defined("color",e);var t=new c.a({minimum:new l.a(-1,-1,-1),maximum:new l.a(1,1,1)}),i=p.a.fromRotationTranslation(this.boundingVolume.halfAxes,this.boundingVolume.center),n=new d.a({geometry:t,id:"outline",modelMatrix:i,attributes:{color:h.a.fromColor(e)}});return new v.a({geometryInstances:n,appearance:new _.a({translucent:!1,flat:!0}),asynchronous:!1})},t.a=o},ds2s:function(e,t,i){"use strict";function n(e,t,i,n,a){this._tileset=e,this._tile=t,this._resource=i,this._modelInstanceCollection=void 0,this._batchTable=void 0,this._features=void 0,this.featurePropertiesDirty=!1,r(this,n,a)}function a(e){return function(){return e._batchTable.getPickId()}}function r(e,t,i){var r=Object(h.a)(i,0);i=r;var o=new Uint8Array(t),l=new DataView(t);i+=D;var f=l.getUint32(i,!0);if(1!==f)throw new w.a("Only Instanced 3D Model version 1 is supported. Version "+f+" is not.");i+=D;var p=l.getUint32(i,!0);i+=D;var m=l.getUint32(i,!0);if(0===m)throw new w.a("featureTableJsonByteLength is zero, the feature table must be defined.");i+=D;var S=l.getUint32(i,!0);i+=D;var M=l.getUint32(i,!0);i+=D;var L=l.getUint32(i,!0);i+=D;var N=l.getUint32(i,!0);if(1!==N&&0!==N)throw new w.a("Only glTF format 0 (uri) or 1 (embedded) are supported. Format "+N+" is not.");i+=D;var F=Object(_.a)(o,i,m),z=JSON.parse(F);i+=m;var B=new Uint8Array(t,i,S);i+=S;var k=new j.a(z,B),U=k.getGlobalProperty("INSTANCES_LENGTH");if(k.featuresLength=U,!Object(d.a)(U))throw new w.a("Feature table global property: INSTANCES_LENGTH must be defined");var V,H;if(M>0){var q=Object(_.a)(o,i,M);V=JSON.parse(q),i+=M,L>0&&(H=new Uint8Array(t,i,L),H=new Uint8Array(H),i+=L)}e._batchTable=new C.a(e,U,V,H);var W=r+p-i;if(0===W)throw new w.a("glTF byte length is zero, i3dm must have a glTF to instance.");var G;i%4==0?G=new Uint8Array(t,i,W):(n._deprecationWarning("i3dm-glb-unaligned","The embedded glb is not aligned to a 4-byte boundary."),G=new Uint8Array(o.subarray(i,i+W)));var Y=e._tileset,X={instances:new Array(U),batchTable:e._batchTable,cull:!1,url:void 0,requestType:O.a.TILES3D,gltf:void 0,basePath:void 0,incrementallyLoadTextures:!1,upAxis:Y._gltfUpAxis,forwardAxis:A.a.X,opaquePass:T.a.CESIUM_3D_TILE,pickIdLoaded:a(e),imageBasedLightingFactor:Y.imageBasedLightingFactor,lightColor:Y.lightColor,luminanceAtZenith:Y.luminanceAtZenith,sphericalHarmonicCoefficients:Y.sphericalHarmonicCoefficients,specularEnvironmentMaps:Y.specularEnvironmentMaps};if(0===N){var Q=Object(_.a)(G);Q=Q.replace(/[\s\0]+$/,""),X.url=e._resource.getDerivedResource({url:Q})}else X.gltf=G,X.basePath=e._resource.clone();var J,Z=k.getGlobalProperty("EAST_NORTH_UP"),K=k.getGlobalProperty("RTC_CENTER",u.a.FLOAT,3);Object(d.a)(K)&&(J=c.a.unpack(K));for(var $=X.instances,ee=new c.a,te=new Array(3),ie=new c.a,ne=new c.a,ae=new c.a,re=new v.a,oe=new y.a,se=new c.a,ce=new E.a,le=new b.a,ue=0;ue<U;ue++){var he=k.getProperty("POSITION",u.a.FLOAT,3,ue,I);if(!Object(d.a)(he)){he=te;var de=k.getProperty("POSITION_QUANTIZED",u.a.UNSIGNED_SHORT,3,ue,I);if(!Object(d.a)(de))throw new w.a("Either POSITION or POSITION_QUANTIZED must be defined for each instance.");var fe=k.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",u.a.FLOAT,3);if(!Object(d.a)(fe))throw new w.a("Global property: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");var pe=k.getGlobalProperty("QUANTIZED_VOLUME_SCALE",u.a.FLOAT,3);if(!Object(d.a)(pe))throw new w.a("Global property: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");for(var me=0;me<3;me++)he[me]=de[me]/65535*pe[me]+fe[me]}c.a.unpack(he,0,ee),Object(d.a)(J)&&c.a.add(ee,J,ee),ce.translation=ee;var ge=k.getProperty("NORMAL_UP",u.a.FLOAT,3,ue,I),_e=k.getProperty("NORMAL_RIGHT",u.a.FLOAT,3,ue,R),ve=!1;if(Object(d.a)(ge)){if(!Object(d.a)(_e))throw new w.a("To define a custom orientation, both NORMAL_UP and NORMAL_RIGHT must be defined.");c.a.unpack(ge,0,ne),c.a.unpack(_e,0,ie),ve=!0}else{var be=k.getProperty("NORMAL_UP_OCT32P",u.a.UNSIGNED_SHORT,2,ue,I),ye=k.getProperty("NORMAL_RIGHT_OCT32P",u.a.UNSIGNED_SHORT,2,ue,R);if(Object(d.a)(be)){if(!Object(d.a)(ye))throw new w.a("To define a custom orientation with oct-encoded vectors, both NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P must be defined.");s.a.octDecodeInRange(be[0],be[1],65535,ne),s.a.octDecodeInRange(ye[0],ye[1],65535,ie),ve=!0}else Z?(x.a.eastNorthUpToFixedFrame(ee,g.a.WGS84,le),b.a.getMatrix3(le,re)):v.a.clone(v.a.IDENTITY,re)}ve&&(c.a.cross(ie,ne,ae),c.a.normalize(ae,ae),v.a.setColumn(re,0,ie,re),v.a.setColumn(re,1,ne,re),v.a.setColumn(re,2,ae,re)),y.a.fromRotationMatrix(re,oe),ce.rotation=oe,se=c.a.fromElements(1,1,1,se);var Oe=k.getProperty("SCALE",u.a.FLOAT,1,ue);Object(d.a)(Oe)&&c.a.multiplyByScalar(se,Oe,se);var we=k.getProperty("SCALE_NON_UNIFORM",u.a.FLOAT,3,ue,I);Object(d.a)(we)&&(se.x*=we[0],se.y*=we[1],se.z*=we[2]),ce.scale=se;var xe=k.getProperty("BATCH_ID",u.a.UNSIGNED_SHORT,1,ue);Object(d.a)(xe)||(xe=ue),b.a.fromTranslationRotationScale(ce,le);var Ee=le.clone();$[ue]={modelMatrix:Ee,batchId:xe}}e._modelInstanceCollection=new P.a(X)}function o(e){var t=e.featuresLength;if(!Object(d.a)(e._features)&&t>0){for(var i=new Array(t),n=0;n<t;++n)i[n]=new S.a(e,n);e._features=i}}var s=i("j90k"),c=i("Jj+J"),l=i("6F0S"),u=i("YCZg"),h=i("5A4e"),d=i("xC6Q"),f=i("49Ew"),p=i("6sr8"),m=i("PzDm"),g=i("y6fO"),_=i("Q+B7"),v=i("i3sv"),b=i("Xjii"),y=i("q/xW"),O=i("0pio"),w=i("V22k"),x=i("g/FO"),E=i("jrQD"),T=i("M0+0"),A=i("gsn9"),C=i("sNK4"),S=i("/Wph"),j=i("6aMI"),P=i("VxC8");n._deprecationWarning=f.a,Object.defineProperties(n.prototype,{featuresLength:{get:function(){return this._batchTable.featuresLength}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){var e=this._modelInstanceCollection._model;return Object(d.a)(e)?e.trianglesLength:0}},geometryByteLength:{get:function(){var e=this._modelInstanceCollection._model;return Object(d.a)(e)?e.geometryByteLength:0}},texturesByteLength:{get:function(){var e=this._modelInstanceCollection._model;return Object(d.a)(e)?e.texturesByteLength:0}},batchTableByteLength:{get:function(){return this._batchTable.memorySizeInBytes}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._modelInstanceCollection.readyPromise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){return this._batchTable}}});var D=Uint32Array.BYTES_PER_ELEMENT,I=new Array(4),R=new Array(4);n.prototype.hasProperty=function(e,t){return this._batchTable.hasProperty(e,t)},n.prototype.getFeature=function(e){var t=this.featuresLength;if(!Object(d.a)(e)||e<0||e>=t)throw new m.a("batchId is required and between zero and featuresLength - 1 ("+(t-1)+").");return o(this),this._features[e]},n.prototype.applyDebugSettings=function(e,t){t=e?t:l.a.WHITE,this._batchTable.setAllColor(t)},n.prototype.applyStyle=function(e){this._batchTable.applyStyle(e)},n.prototype.update=function(e,t){var i=t.commandList.length;this._batchTable.update(e,t),this._modelInstanceCollection.modelMatrix=this._tile.computedTransform,this._modelInstanceCollection.shadows=this._tileset.shadows,this._modelInstanceCollection.lightColor=this._tileset.lightColor,this._modelInstanceCollection.luminanceAtZenith=this._tileset.luminanceAtZenith,this._modelInstanceCollection.sphericalHarmonicCoefficients=this._tileset.sphericalHarmonicCoefficients,this._modelInstanceCollection.specularEnvironmentMaps=this._tileset.specularEnvironmentMaps,this._modelInstanceCollection.debugWireframe=this._tileset.debugWireframe;var n=this._modelInstanceCollection._model;if(Object(d.a)(n)){var a=this._tileset.clippingPlanes;n.clippingPlanesOriginMatrix=this._tileset.clippingPlanesOriginMatrix,Object(d.a)(a)&&this._tile.clippingPlanesDirty&&(n._clippingPlanes=a.enabled&&this._tile._isClipped?a:void 0),Object(d.a)(a)&&Object(d.a)(n._clippingPlanes)&&n._clippingPlanes!==a&&(n._clippingPlanes=a)}this._modelInstanceCollection.update(t),i<t.commandList.length&&(t.passes.render||t.passes.pick)&&this._batchTable.addDerivedCommands(t,i,!1)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._modelInstanceCollection=this._modelInstanceCollection&&this._modelInstanceCollection.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),Object(p.a)(this)},t.a=n},dt28:function(e,t,i){"use strict";t.a="#extension GL_EXT_frag_depth : enable\n\nuniform sampler2D u_pointCloud_colorGBuffer;\nuniform sampler2D u_pointCloud_depthGBuffer;\nuniform vec2 u_distanceAndEdlStrength;\nvarying vec2 v_textureCoordinates;\n\nvec2 neighborContribution(float log2Depth, vec2 offset)\n{\n    float dist = u_distanceAndEdlStrength.x;\n    vec2 texCoordOrig = v_textureCoordinates + offset * dist;\n    vec2 texCoord0 = v_textureCoordinates + offset * floor(dist);\n    vec2 texCoord1 = v_textureCoordinates + offset * ceil(dist);\n\n    float depthOrLogDepth0 = czm_unpackDepth(texture2D(u_pointCloud_depthGBuffer, texCoord0));\n    float depthOrLogDepth1 = czm_unpackDepth(texture2D(u_pointCloud_depthGBuffer, texCoord1));\n\n    // ignore depth values that are the clear depth\n    if (depthOrLogDepth0 == 0.0 || depthOrLogDepth1 == 0.0) {\n        return vec2(0.0);\n    }\n\n    // interpolate the two adjacent depth values\n    float depthMix = mix(depthOrLogDepth0, depthOrLogDepth1, fract(dist));\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(texCoordOrig, depthMix);\n    return vec2(max(0.0, log2Depth - log2(-eyeCoordinate.z / eyeCoordinate.w)), 1.0);\n}\n\nvoid main()\n{\n    float depthOrLogDepth = czm_unpackDepth(texture2D(u_pointCloud_depthGBuffer, v_textureCoordinates));\n\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, depthOrLogDepth);\n    eyeCoordinate /= eyeCoordinate.w;\n\n    float log2Depth = log2(-eyeCoordinate.z);\n\n    if (depthOrLogDepth == 0.0) // 0.0 is the clear value for the gbuffer\n    {\n        discard;\n    }\n\n    vec4 color = texture2D(u_pointCloud_colorGBuffer, v_textureCoordinates);\n\n    // sample from neighbors left, right, down, up\n    vec2 texelSize = 1.0 / czm_viewport.zw;\n\n    vec2 responseAndCount = vec2(0.0);\n\n    responseAndCount += neighborContribution(log2Depth, vec2(-texelSize.x, 0.0));\n    responseAndCount += neighborContribution(log2Depth, vec2(+texelSize.x, 0.0));\n    responseAndCount += neighborContribution(log2Depth, vec2(0.0, -texelSize.y));\n    responseAndCount += neighborContribution(log2Depth, vec2(0.0, +texelSize.y));\n\n    float response = responseAndCount.x / responseAndCount.y;\n    float strength = u_distanceAndEdlStrength.y;\n    float shade = exp(-response * 300.0 * strength);\n    color.rgb *= shade;\n    gl_FragColor = vec4(color);\n\n#ifdef LOG_DEPTH\n    czm_writeLogDepth(1.0 + (czm_projection * vec4(eyeCoordinate.xyz, 1.0)).w);\n#else\n    gl_FragDepthEXT = czm_eyeToWindowCoordinates(vec4(eyeCoordinate.xyz, 1.0)).z;\n#endif\n}\n"},e8AB:function(e,t,i){var n=i("FeBl"),a=i("7KvD"),r=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i("O4g8")?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},eBEn:function(e,t,i){"use strict";function n(e){this.entity=e,this.polyline=void 0,this.index=void 0,this.updater=void 0}function a(e,t,i,n,a,r,o,s,c){var l,u=s;l=e.getValueInReferenceFrame(t,r,c[u]),Object(m.a)(l)&&(c[u++]=l);for(var h,d,f,p=!Object(m.a)(a)||v.a.lessThanOrEquals(a,t)||v.a.greaterThanOrEquals(a,i),g=0,_=n.length,b=n[g],y=i,O=!1;g<_;){if(!p&&v.a.greaterThanOrEquals(b,a)&&(l=e.getValueInReferenceFrame(a,r,c[u]),Object(m.a)(l)&&(c[u++]=l),p=!0),v.a.greaterThan(b,t)&&v.a.lessThan(b,y)&&!b.equals(a)&&(l=e.getValueInReferenceFrame(b,r,c[u]),Object(m.a)(l)&&(c[u++]=l)),g<_-1){if(o>0&&!O){var w=n[g+1],x=v.a.secondsDifference(w,b);O=x>o,O&&(h=Math.ceil(x/o),d=0,f=x/Math.max(h,2),h=Math.max(h-1,1))}if(O&&d<h){b=v.a.addSeconds(b,f,new v.a),d++;continue}}O=!1,g++,b=n[g]}return l=e.getValueInReferenceFrame(i,r,c[u]),Object(m.a)(l)&&(c[u++]=l),u}function r(e,t,i,n,a,r,o,s){for(var c,l=0,u=o,h=t,d=Math.max(r,60),f=!Object(m.a)(n)||v.a.lessThanOrEquals(n,t)||v.a.greaterThanOrEquals(n,i);v.a.lessThan(h,i);)!f&&v.a.greaterThanOrEquals(h,n)&&(f=!0,c=e.getValueInReferenceFrame(n,a,s[u]),Object(m.a)(c)&&(s[u]=c,u++)),c=e.getValueInReferenceFrame(h,a,s[u]),Object(m.a)(c)&&(s[u]=c,u++),l++,h=v.a.addSeconds(t,d*l,new v.a);return c=e.getValueInReferenceFrame(i,a,s[u]),Object(m.a)(c)&&(s[u]=c,u++),u}function o(e,t,i,n,a,r,o,s){N.start=t,N.stop=i;for(var c=o,l=e.intervals,u=0;u<l.length;u++){var h=l.get(u);if(!w.a.intersect(h,N,M).isEmpty){var d=h.start;h.isStartIncluded||(d=h.isStopIncluded?h.stop:v.a.addSeconds(h.start,v.a.secondsDifference(h.stop,h.start)/2,new v.a));var f=e.getValueInReferenceFrame(d,a,s[c]);Object(m.a)(f)&&(s[c]=f,c++)}}return c}function s(e,t,i,n,a,r,o,s){var c=e.getValueInReferenceFrame(t,a,s[o]);return Object(m.a)(c)&&(s[o++]=c),o}function c(e,t,i,n,a,r,o,s){L.start=t,L.stop=i;for(var c=o,u=e.intervals,h=0;h<u.length;h++){var d=u.get(h);if(!w.a.intersect(d,L,M).isEmpty){var f=d.start,p=d.stop,m=t;v.a.greaterThan(f,m)&&(m=f);var g=i;v.a.lessThan(p,g)&&(g=p),c=l(d.data,m,g,n,a,r,c,s)}}return c}function l(e,t,i,n,l,u,h,d){for(;e instanceof P.a;)e=e.resolvedProperty;if(e instanceof D.a){h=a(e,t,i,e._property._times,n,l,u,h,d)}else h=e instanceof A.a?c(e,t,i,n,l,u,h,d):e instanceof R.a?o(e,t,i,n,l,u,h,d):e instanceof C.a||e instanceof I.a&&j.a.isConstant(e)?s(e,t,i,n,l,u,h,d):r(e,t,i,n,l,u,h,d);return h}function u(e,t,i,n,a,r,o){Object(m.a)(o)||(o=[]);var s=l(e,t,i,n,a,r,0,o);return o.length=s,o}function h(e,t){this._unusedIndexes=[],this._polylineCollection=new E.a,this._scene=e,this._referenceFrame=t,e.primitives.add(this._polylineCollection)}function d(e,t){if(!Object(m.a)(e))throw new _.a("scene is required.");if(!Object(m.a)(t))throw new _.a("entityCollection is required.");t.collectionChanged.addEventListener(d.prototype._onCollectionChanged,this),this._scene=e,this._updaters={},this._entityCollection=t,this._items=new f.a,this._onCollectionChanged(t,t.values,[],[])}var f=i("7uRt"),p=i("Jj+J"),m=i("xC6Q"),g=i("6sr8"),_=i("PzDm"),v=i("9Uqs"),b=i("i3sv"),y=i("Xjii"),O=i("IDfv"),w=i("tQPh"),x=i("g/FO"),E=i("ZmAt"),T=i("sotJ"),A=i("VhtT"),C=i("jQbM"),S=i("7xsx"),j=i("uhjI"),P=i("G29O"),D=i("TuWn"),I=i("snMV"),R=i("c4pm"),M=new w.a,L=new w.a,N=new w.a,F=new b.a;h.prototype.update=function(e){if(this._referenceFrame===O.a.INERTIAL){var t=x.a.computeIcrfToFixedMatrix(e,F);Object(m.a)(t)||(t=x.a.computeTemeToPseudoFixedMatrix(e,F)),y.a.fromRotationTranslation(t,p.a.ZERO,this._polylineCollection.modelMatrix)}},h.prototype.updateObject=function(e,t){var i,n,a=t.entity,r=a._path,o=a._position,s=r._show,c=t.polyline,l=a.isShowing&&(!Object(m.a)(s)||s.getValue(e));if(l){var h=j.a.getValueOrUndefined(r._leadTime,e),d=j.a.getValueOrUndefined(r._trailTime,e),f=a._availability,p=Object(m.a)(f),g=Object(m.a)(h),_=Object(m.a)(d);if(l=p||g&&_){if(_&&(i=v.a.addSeconds(e,-d,new v.a)),g&&(n=v.a.addSeconds(e,h,new v.a)),p){var b=f.start,y=f.stop;_&&!v.a.greaterThan(b,i)||(i=b),g&&!v.a.lessThan(y,n)||(n=y)}l=v.a.lessThan(i,n)}}if(!l)return void(Object(m.a)(c)&&(this._unusedIndexes.push(t.index),t.polyline=void 0,c.show=!1,t.index=void 0));if(!Object(m.a)(c)){var O=this._unusedIndexes;if(O.length>0){var w=O.pop();c=this._polylineCollection.get(w),t.index=w}else t.index=this._polylineCollection.length,c=this._polylineCollection.add();c.id=a,t.polyline=c}var x=j.a.getValueOrDefault(r._resolution,e,60);c.show=!0,c.positions=u(o,i,n,e,this._referenceFrame,x,c.positions.slice()),c.material=S.a.getValue(e,r._material,c.material),c.width=j.a.getValueOrDefault(r._width,e,1),c.distanceDisplayCondition=j.a.getValueOrUndefined(r._distanceDisplayCondition,e,c.distanceDisplayCondition)},h.prototype.removeObject=function(e){var t=e.polyline;Object(m.a)(t)&&(this._unusedIndexes.push(e.index),e.polyline=void 0,t.show=!1,t.id=void 0,e.index=void 0)},h.prototype.destroy=function(){return this._scene.primitives.remove(this._polylineCollection),Object(g.a)(this)},d.prototype.update=function(e){if(!Object(m.a)(e))throw new _.a("time is required.");var t=this._updaters;for(var i in t)t.hasOwnProperty(i)&&t[i].update(e);var n=this._items.values;if(0===n.length&&Object(m.a)(this._updaters)&&Object.keys(this._updaters).length>0){for(var a in t)t.hasOwnProperty(a)&&t[a].destroy();this._updaters={}}for(var r=0,o=n.length;r<o;r++){var s=n[r],c=s.entity,l=c._position,u=s.updater,d=O.a.FIXED;this._scene.mode===T.a.SCENE3D&&(d=l.referenceFrame);var f=this._updaters[d];u===f&&Object(m.a)(f)?f.updateObject(e,s):(Object(m.a)(u)&&u.removeObject(s),Object(m.a)(f)||(f=new h(this._scene,d),f.update(e),this._updaters[d]=f),s.updater=f,Object(m.a)(f)&&f.updateObject(e,s))}return!0},d.prototype.isDestroyed=function(){return!1},d.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(d.prototype._onCollectionChanged,this);var e=this._updaters;for(var t in e)e.hasOwnProperty(t)&&e[t].destroy();return Object(g.a)(this)},d.prototype._onCollectionChanged=function(e,t,i,a){var r,o,s,c=this._items;for(r=t.length-1;r>-1;r--)o=t[r],Object(m.a)(o._path)&&Object(m.a)(o._position)&&c.set(o.id,new n(o));for(r=a.length-1;r>-1;r--)o=a[r],Object(m.a)(o._path)&&Object(m.a)(o._position)?c.contains(o.id)||c.set(o.id,new n(o)):(s=c.get(o.id),Object(m.a)(s)&&(Object(m.a)(s.updater)&&s.updater.removeObject(s),c.remove(o.id)));for(r=i.length-1;r>-1;r--)o=i[r],s=c.get(o.id),Object(m.a)(s)&&(Object(m.a)(s.updater)&&s.updater.removeObject(s),c.remove(o.id))},d._subSample=u,t.a=d},eHtW:function(e,t,i){"use strict";function n(e,t){if(e=Object(u.a)(e,u.a.EMPTY_OBJECT),Object(h.a)(e.disableDepthTestDistance)&&e.disableDepthTestDistance<0)throw new d.a("disableDepthTestDistance must be greater than or equal to 0.0.");var i=e.translucencyByDistance,n=e.scaleByDistance,a=e.distanceDisplayCondition;if(Object(h.a)(i)){if(i.far<=i.near)throw new d.a("translucencyByDistance.far must be greater than translucencyByDistance.near.");i=m.a.clone(i)}if(Object(h.a)(n)){if(n.far<=n.near)throw new d.a("scaleByDistance.far must be greater than scaleByDistance.near.");n=m.a.clone(n)}if(Object(h.a)(a)){if(a.far<=a.near)throw new d.a("distanceDisplayCondition.far must be greater than distanceDisplayCondition.near.");a=f.a.clone(a)}this._show=Object(u.a)(e.show,!0),this._position=s.a.clone(Object(u.a)(e.position,s.a.ZERO)),this._actualPosition=s.a.clone(this._position),this._color=l.a.clone(Object(u.a)(e.color,l.a.WHITE)),this._outlineColor=l.a.clone(Object(u.a)(e.outlineColor,l.a.TRANSPARENT)),this._outlineWidth=Object(u.a)(e.outlineWidth,0),this._pixelSize=Object(u.a)(e.pixelSize,10),this._scaleByDistance=n,this._translucencyByDistance=i,this._distanceDisplayCondition=a,this._disableDepthTestDistance=Object(u.a)(e.disableDepthTestDistance,0),this._id=e.id,this._collection=Object(u.a)(e.collection,t),this._clusterShow=!0,this._pickId=void 0,this._pointPrimitiveCollection=t,this._dirty=!1,this._index=-1}function a(e,t){var i=e._pointPrimitiveCollection;Object(h.a)(i)&&(i._updatePointPrimitive(e,t),e._dirty=!0)}var r=i("or8k"),o=i("Ss9j"),s=i("Jj+J"),c=i("PDkd"),l=i("6F0S"),u=i("5A4e"),h=i("xC6Q"),d=i("PzDm"),f=i("2d28"),p=i("Xjii"),m=i("UkIP"),g=i("sotJ"),_=i("D2nr"),v=n.SHOW_INDEX=0,b=n.POSITION_INDEX=1,y=n.COLOR_INDEX=2,O=n.OUTLINE_COLOR_INDEX=3,w=n.OUTLINE_WIDTH_INDEX=4,x=n.PIXEL_SIZE_INDEX=5,E=n.SCALE_BY_DISTANCE_INDEX=6,T=n.TRANSLUCENCY_BY_DISTANCE_INDEX=7,A=n.DISTANCE_DISPLAY_CONDITION_INDEX=8,C=n.DISABLE_DEPTH_DISTANCE_INDEX=9;n.NUMBER_OF_PROPERTIES=10,Object.defineProperties(n.prototype,{show:{get:function(){return this._show},set:function(e){if(!Object(h.a)(e))throw new d.a("value is required.");this._show!==e&&(this._show=e,a(this,v))}},position:{get:function(){return this._position},set:function(e){if(!Object(h.a)(e))throw new d.a("value is required.");var t=this._position;s.a.equals(t,e)||(s.a.clone(e,t),s.a.clone(e,this._actualPosition),a(this,b))}},scaleByDistance:{get:function(){return this._scaleByDistance},set:function(e){if(Object(h.a)(e)&&e.far<=e.near)throw new d.a("far distance must be greater than near distance.");var t=this._scaleByDistance;m.a.equals(t,e)||(this._scaleByDistance=m.a.clone(e,t),a(this,E))}},translucencyByDistance:{get:function(){return this._translucencyByDistance},set:function(e){if(Object(h.a)(e)&&e.far<=e.near)throw new d.a("far distance must be greater than near distance.");var t=this._translucencyByDistance;m.a.equals(t,e)||(this._translucencyByDistance=m.a.clone(e,t),a(this,T))}},pixelSize:{get:function(){return this._pixelSize},set:function(e){if(!Object(h.a)(e))throw new d.a("value is required.");this._pixelSize!==e&&(this._pixelSize=e,a(this,x))}},color:{get:function(){return this._color},set:function(e){if(!Object(h.a)(e))throw new d.a("value is required.");var t=this._color;l.a.equals(t,e)||(l.a.clone(e,t),a(this,y))}},outlineColor:{get:function(){return this._outlineColor},set:function(e){if(!Object(h.a)(e))throw new d.a("value is required.");var t=this._outlineColor;l.a.equals(t,e)||(l.a.clone(e,t),a(this,O))}},outlineWidth:{get:function(){return this._outlineWidth},set:function(e){if(!Object(h.a)(e))throw new d.a("value is required.");this._outlineWidth!==e&&(this._outlineWidth=e,a(this,w))}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){if(Object(h.a)(e)&&e.far<=e.near)throw new d.a("far must be greater than near");f.a.equals(this._distanceDisplayCondition,e)||(this._distanceDisplayCondition=f.a.clone(e,this._distanceDisplayCondition),a(this,A))}},disableDepthTestDistance:{get:function(){return this._disableDepthTestDistance},set:function(e){if(this._disableDepthTestDistance!==e){if(!Object(h.a)(e)||e<0)throw new d.a("disableDepthTestDistance must be greater than or equal to 0.0.");this._disableDepthTestDistance=e,a(this,C)}}},id:{get:function(){return this._id},set:function(e){this._id=e,Object(h.a)(this._pickId)&&(this._pickId.object.id=e)}},pickId:{get:function(){return this._pickId}},clusterShow:{get:function(){return this._clusterShow},set:function(e){this._clusterShow!==e&&(this._clusterShow=e,a(this,v))}}}),n.prototype.getPickId=function(e){return Object(h.a)(this._pickId)||(this._pickId=e.createPickId({primitive:this,collection:this._collection,id:this._id})),this._pickId},n.prototype._getActualPosition=function(){return this._actualPosition},n.prototype._setActualPosition=function(e){s.a.clone(e,this._actualPosition),a(this,b)};var S=new c.a;n._computeActualPosition=function(e,t,i){return t.mode===g.a.SCENE3D?e:(p.a.multiplyByPoint(i,e,S),_.a.computeActualWgs84Position(t,S))};var j=new c.a;n._computeScreenSpacePosition=function(e,t,i,n){var a=p.a.multiplyByVector(e,c.a.fromElements(t.x,t.y,t.z,1,j),j);return _.a.wgs84ToWindowCoordinates(i,a,n)},n.prototype.computeScreenSpacePosition=function(e,t){var i=this._pointPrimitiveCollection;if(Object(h.a)(t)||(t=new o.a),!Object(h.a)(i))throw new d.a("PointPrimitive must be in a collection.");if(!Object(h.a)(e))throw new d.a("scene is required.");var a=i.modelMatrix,r=n._computeScreenSpacePosition(a,this._actualPosition,e,t);if(Object(h.a)(r))return r.y=e.canvas.clientHeight-r.y,r},n.getScreenSpaceBoundingBox=function(e,t,i){var n=e.pixelSize,a=.5*n,o=t.x-a,s=t.y-a,c=n,l=n;return Object(h.a)(i)||(i=new r.a),i.x=o,i.y=s,i.width=c,i.height=l,i},n.prototype.equals=function(e){return this===e||Object(h.a)(e)&&this._id===e._id&&s.a.equals(this._position,e._position)&&l.a.equals(this._color,e._color)&&this._pixelSize===e._pixelSize&&this._outlineWidth===e._outlineWidth&&this._show===e._show&&l.a.equals(this._outlineColor,e._outlineColor)&&m.a.equals(this._scaleByDistance,e._scaleByDistance)&&m.a.equals(this._translucencyByDistance,e._translucencyByDistance)&&f.a.equals(this._distanceDisplayCondition,e._distanceDisplayCondition)&&this._disableDepthTestDistance===e._disableDepthTestDistance},n.prototype._destroy=function(){this._pickId=this._pickId&&this._pickId.destroy(),this._pointPrimitiveCollection=void 0},t.a=n},eMEA:function(e,t,i){"use strict";function n(e){var t=a.a.defer(),i=document.createElement("script");i.async=!0,i.src=e;var n=document.getElementsByTagName("head")[0];return i.onload=function(){i.onload=void 0,n.removeChild(i),t.resolve()},i.onerror=function(e){t.reject(e)},n.appendChild(i),t.promise}var a=i("S7OP");t.a=n},ePuJ:function(e,t,i){"use strict";function n(){this.name=void 0,this.description=void 0,this.position=void 0,this.data=void 0,this.imageryLayer=void 0}var a=i("xC6Q");n.prototype.configureNameFromProperties=function(e){var t,i=10;for(var n in e)if(e.hasOwnProperty(n)&&e[n]){var r=n.toLowerCase();i>1&&"name"===r?(i=1,t=n):i>2&&"title"===r?(i=2,t=n):i>3&&/name/i.test(n)?(i=3,t=n):i>4&&/title/i.test(n)&&(i=4,t=n)}Object(a.a)(t)&&(this.name=e[t])},n.prototype.configureDescriptionFromProperties=function(e){function t(e){var i='<table class="cesium-infoBox-defaultTable">';for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];Object(a.a)(r)&&(i+="object"==typeof r?"<tr><td>"+n+"</td><td>"+t(r)+"</td></tr>":"<tr><td>"+n+"</td><td>"+r+"</td></tr>")}return i+="</table>"}this.description=t(e)},t.a=n},eUIW:function(e,t,i){"use strict";function n(e){this._ellipsoid=Object(o.a)(e,l.a.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}var a=i("Jj+J"),r=i("I3GD"),o=i("5A4e"),s=i("xC6Q"),c=i("PzDm"),l=i("y6fO");Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),n.prototype.project=function(e,t){var i=this._semimajorAxis,n=e.longitude*i,r=e.latitude*i,o=e.height;return Object(s.a)(t)?(t.x=n,t.y=r,t.z=o,t):new a.a(n,r,o)},n.prototype.unproject=function(e,t){if(!Object(s.a)(e))throw new c.a("cartesian is required");var i=this._oneOverSemimajorAxis,n=e.x*i,a=e.y*i,o=e.z;return Object(s.a)(t)?(t.longitude=n,t.latitude=a,t.height=o,t):new r.a(n,a,o)},t.a=n},eZY8:function(e,t,i){"use strict";function n(e){e=Object(y.a)(e,y.a.EMPTY_OBJECT),this._enabled=Object(y.a)(e.enabled,!1),this._pixelRange=Object(y.a)(e.pixelRange,80),this._minimumClusterSize=Object(y.a)(e.minimumClusterSize,2),this._clusterBillboards=Object(y.a)(e.clusterBillboards,!0),this._clusterLabels=Object(y.a)(e.clusterLabels,!0),this._clusterPoints=Object(y.a)(e.clusterPoints,!0),this._labelCollection=void 0,this._billboardCollection=void 0,this._pointCollection=void 0,this._clusterBillboardCollection=void 0,this._clusterLabelCollection=void 0,this._clusterPointCollection=void 0,this._collectionIndicesByEntity={},this._unusedLabelIndices=[],this._unusedBillboardIndices=[],this._unusedPointIndices=[],this._previousClusters=[],this._previousHeight=void 0,this._enabledDirty=!1,this._clusterDirty=!1,this._cluster=void 0,this._removeEventListener=void 0,this._clusterEvent=new x.a}function a(e){return e.coord.x}function r(e){return e.coord.y}function o(e,t){e.x-=t,e.y-=t,e.width+=2*t,e.height+=2*t}function s(e,t,i,n,a){if(Object(O.a)(e._labelCollection)&&n._clusterLabels?a=C.a.getScreenSpaceBoundingBox(e,t,a):Object(O.a)(e._billboardCollection)&&n._clusterBillboards?a=T.a.getScreenSpaceBoundingBox(e,t,a):Object(O.a)(e._pointPrimitiveCollection)&&n._clusterPoints&&(a=j.a.getScreenSpaceBoundingBox(e,t,a)),o(a,i),n._clusterLabels&&!Object(O.a)(e._labelCollection)&&Object(O.a)(e.id)&&u(n,e.id.id)&&Object(O.a)(e.id._label)){var r=n._collectionIndicesByEntity[e.id.id].labelIndex,s=n._labelCollection.get(r),c=C.a.getScreenSpaceBoundingBox(s,t,R);o(c,i),a=_.a.union(a,c,a)}return a}function c(e,t){if(e.clusterShow=!0,!Object(O.a)(e._labelCollection)&&Object(O.a)(e.id)&&u(t,e.id.id)&&Object(O.a)(e.id._label)){var i=t._collectionIndicesByEntity[e.id.id].labelIndex;t._labelCollection.get(i).clusterShow=!0}}function l(e,t,i,n){var a={billboard:n._clusterBillboardCollection.add(),label:n._clusterLabelCollection.add(),point:n._clusterPointCollection.add()};a.billboard.show=!1,a.point.show=!1,a.label.show=!0,a.label.text=t.toLocaleString(),a.label.id=i,a.billboard.position=a.label.position=a.point.position=e,n._clusterEvent.raiseEvent(i,a)}function u(e,t){return Object(O.a)(e)&&Object(O.a)(e._collectionIndicesByEntity[t])&&Object(O.a)(e._collectionIndicesByEntity[t].labelIndex)}function h(e,t,i,n,a){if(Object(O.a)(e))for(var r=e.length,o=0;o<r;++o){var s=e.get(o);if(s.clusterShow=!1,s.show&&(a._scene.mode!==D.a.SCENE3D||n.isPointVisible(s.position))){var c=a._clusterLabels&&Object(O.a)(s._labelCollection),l=a._clusterBillboards&&Object(O.a)(s.id._billboard),u=a._clusterPoints&&Object(O.a)(s.id._point);if(!c||!u&&!l){var h=s.computeScreenSpacePosition(i);Object(O.a)(h)&&t.push({index:o,collection:e,clustered:!1,coord:h})}}}}function d(e){return function(t){if(!(Object(O.a)(t)&&t<.05)&&e.enabled){var i=e._scene,n=e._labelCollection,o=e._billboardCollection,u=e._pointCollection;if((Object(O.a)(n)||Object(O.a)(o)||Object(O.a)(u))&&(e._clusterBillboards||e._clusterLabels||e._clusterPoints)){var d=e._clusterLabelCollection,f=e._clusterBillboardCollection,p=e._clusterPointCollection;Object(O.a)(d)?d.removeAll():d=e._clusterLabelCollection=new S.a({scene:i}),Object(O.a)(f)?f.removeAll():f=e._clusterBillboardCollection=new A.a({scene:i}),Object(O.a)(p)?p.removeAll():p=e._clusterPointCollection=new P.a;var m=e._pixelRange,g=e._minimumClusterSize,y=e._previousClusters,x=[],C=e._previousHeight,j=i.camera.positionCartographic.height,D=i.mapProjection.ellipsoid,R=i.camera.positionWC,F=new w.a(D,R),z=[];e._clusterLabels&&h(n,z,i,F,e),e._clusterBillboards&&h(o,z,i,F,e),e._clusterPoints&&h(u,z,i,F,e);var B,k,U,V,H,q,W,G,Y,X,Q,J,Z=Object(I.a)(z,a,r,64,Int32Array);if(j<C)for(U=y.length,B=0;B<U;++B){var K=y[B];if(F.isPointVisible(K.position)){var $=T.a._computeScreenSpacePosition(E.a.IDENTITY,K.position,b.a.ZERO,v.a.ZERO,i);if(Object(O.a)($)){var ee=1-j/C,te=K.width=K.width*ee,ie=K.height=K.height*ee;te=Math.max(te,K.minimumWidth),ie=Math.max(ie,K.minimumHeight);var ne=$.x-.5*te,ae=$.y-.5*ie,re=$.x+te,oe=$.y+ie;for(H=Z.range(ne,ae,re,oe),q=H.length,X=0,Y=[],k=0;k<q;++k)W=H[k],G=z[W],G.clustered||(++X,Q=G.collection,J=G.index,Y.push(Q.get(J).id));if(X>=g)for(l(K.position,X,Y,e),x.push(K),k=0;k<q;++k)z[H[k]].clustered=!0}}}for(U=z.length,B=0;B<U;++B){var se=z[B];if(!se.clustered){se.clustered=!0,Q=se.collection,J=se.index;var ce=Q.get(J);V=s(ce,se.coord,m,e,M);var le=_.a.clone(V,L);H=Z.range(V.x,V.y,V.x+V.width,V.y+V.height),q=H.length;var ue=b.a.clone(ce.position);for(X=1,Y=[ce.id],k=0;k<q;++k)if(W=H[k],G=z[W],!G.clustered){var he=G.collection.get(G.index),de=s(he,G.coord,m,e,N);b.a.add(he.position,ue,ue),_.a.union(le,de,le),++X,Y.push(he.id)}if(X>=g){var fe=b.a.multiplyByScalar(ue,1/X,ue);for(l(fe,X,Y,e),x.push({position:fe,width:le.width,height:le.height,minimumWidth:V.width,minimumHeight:V.height}),k=0;k<q;++k)z[H[k]].clustered=!0}else c(ce,e)}}0===d.length&&(d.destroy(),e._clusterLabelCollection=void 0),0===f.length&&(f.destroy(),e._clusterBillboardCollection=void 0),0===p.length&&(p.destroy(),e._clusterPointCollection=void 0),e._previousClusters=x,e._previousHeight=j}}}}function f(e,t,i,n){return function(a){var r=this[e];Object(O.a)(this._collectionIndicesByEntity)||(this._collectionIndicesByEntity={});var o=this._collectionIndicesByEntity[a.id];if(Object(O.a)(o)||(o=this._collectionIndicesByEntity[a.id]={billboardIndex:void 0,labelIndex:void 0,pointIndex:void 0}),Object(O.a)(r)&&Object(O.a)(o[n]))return r.get(o[n]);Object(O.a)(r)||(r=this[e]=new t({scene:this._scene}));var s,c,l=this[i];return l.length>0?(s=l.pop(),c=r.get(s)):(c=r.add(),s=r.length-1),o[n]=s,this._clusterDirty=!0,c}}function p(e,t){var i=e._collectionIndicesByEntity[t];Object(O.a)(i.billboardIndex)||Object(O.a)(i.labelIndex)||Object(O.a)(i.pointIndex)||delete e._collectionIndicesByEntity[t]}function m(e){if(Object(O.a)(e))for(var t=e.length,i=0;i<t;++i)e.get(i).clusterShow=!0}function g(e){e.enabled||(Object(O.a)(e._clusterLabelCollection)&&e._clusterLabelCollection.destroy(),Object(O.a)(e._clusterBillboardCollection)&&e._clusterBillboardCollection.destroy(),Object(O.a)(e._clusterPointCollection)&&e._clusterPointCollection.destroy(),e._clusterLabelCollection=void 0,e._clusterBillboardCollection=void 0,e._clusterPointCollection=void 0,m(e._labelCollection),m(e._billboardCollection),m(e._pointCollection))}var _=i("or8k"),v=i("Ss9j"),b=i("Jj+J"),y=i("5A4e"),O=i("xC6Q"),w=i("PRoZ"),x=i("W6xh"),E=i("Xjii"),T=i("UQXk"),A=i("Hwbb"),C=i("WmND"),S=i("UdIQ"),j=i("eHtW"),P=i("XNBP"),D=i("sotJ"),I=i("Wpmx"),R=new _.a,M=new _.a,L=new _.a,N=new _.a;n.prototype._initialize=function(e){this._scene=e;var t=d(this);this._cluster=t,this._removeEventListener=e.camera.changed.addEventListener(t)},Object.defineProperties(n.prototype,{enabled:{get:function(){return this._enabled},set:function(e){this._enabledDirty=e!==this._enabled,this._enabled=e}},pixelRange:{get:function(){return this._pixelRange},set:function(e){this._clusterDirty=this._clusterDirty||e!==this._pixelRange,this._pixelRange=e}},minimumClusterSize:{get:function(){return this._minimumClusterSize},set:function(e){this._clusterDirty=this._clusterDirty||e!==this._minimumClusterSize,this._minimumClusterSize=e}},clusterEvent:{get:function(){return this._clusterEvent}},clusterBillboards:{get:function(){return this._clusterBillboards},set:function(e){this._clusterDirty=this._clusterDirty||e!==this._clusterBillboards,this._clusterBillboards=e}},clusterLabels:{get:function(){return this._clusterLabels},set:function(e){this._clusterDirty=this._clusterDirty||e!==this._clusterLabels,this._clusterLabels=e}},clusterPoints:{get:function(){return this._clusterPoints},set:function(e){this._clusterDirty=this._clusterDirty||e!==this._clusterPoints,this._clusterPoints=e}}}),n.prototype.getLabel=f("_labelCollection",S.a,"_unusedLabelIndices","labelIndex"),n.prototype.removeLabel=function(e){var t=this._collectionIndicesByEntity&&this._collectionIndicesByEntity[e.id];if(Object(O.a)(this._labelCollection)&&Object(O.a)(t)&&Object(O.a)(t.labelIndex)){var i=t.labelIndex;t.labelIndex=void 0,p(this,e.id);var n=this._labelCollection.get(i);n.show=!1,n.text="",n.id=void 0,this._unusedLabelIndices.push(i),this._clusterDirty=!0}},n.prototype.getBillboard=f("_billboardCollection",A.a,"_unusedBillboardIndices","billboardIndex"),n.prototype.removeBillboard=function(e){var t=this._collectionIndicesByEntity&&this._collectionIndicesByEntity[e.id];if(Object(O.a)(this._billboardCollection)&&Object(O.a)(t)&&Object(O.a)(t.billboardIndex)){var i=t.billboardIndex;t.billboardIndex=void 0,p(this,e.id);var n=this._billboardCollection.get(i);n.id=void 0,n.show=!1,n.image=void 0,this._unusedBillboardIndices.push(i),this._clusterDirty=!0}},n.prototype.getPoint=f("_pointCollection",P.a,"_unusedPointIndices","pointIndex"),n.prototype.removePoint=function(e){var t=this._collectionIndicesByEntity&&this._collectionIndicesByEntity[e.id];if(Object(O.a)(this._pointCollection)&&Object(O.a)(t)&&Object(O.a)(t.pointIndex)){var i=t.pointIndex;t.pointIndex=void 0,p(this,e.id);var n=this._pointCollection.get(i);n.show=!1,n.id=void 0,this._unusedPointIndices.push(i),this._clusterDirty=!0}},n.prototype.update=function(e){var t;Object(O.a)(this._labelCollection)&&this._labelCollection.length>0&&0===this._labelCollection.get(0)._glyphs.length&&(t=e.commandList,e.commandList=[],this._labelCollection.update(e),e.commandList=t),Object(O.a)(this._billboardCollection)&&this._billboardCollection.length>0&&!Object(O.a)(this._billboardCollection.get(0).width)&&(t=e.commandList,e.commandList=[],this._billboardCollection.update(e),e.commandList=t),this._enabledDirty&&(this._enabledDirty=!1,g(this),this._clusterDirty=!0),this._clusterDirty&&(this._clusterDirty=!1,this._cluster()),Object(O.a)(this._clusterLabelCollection)&&this._clusterLabelCollection.update(e),Object(O.a)(this._clusterBillboardCollection)&&this._clusterBillboardCollection.update(e),Object(O.a)(this._clusterPointCollection)&&this._clusterPointCollection.update(e),Object(O.a)(this._labelCollection)&&this._labelCollection.update(e),Object(O.a)(this._billboardCollection)&&this._billboardCollection.update(e),Object(O.a)(this._pointCollection)&&this._pointCollection.update(e)},n.prototype.destroy=function(){this._labelCollection=this._labelCollection&&this._labelCollection.destroy(),this._billboardCollection=this._billboardCollection&&this._billboardCollection.destroy(),this._pointCollection=this._pointCollection&&this._pointCollection.destroy(),this._clusterLabelCollection=this._clusterLabelCollection&&this._clusterLabelCollection.destroy(),this._clusterBillboardCollection=this._clusterBillboardCollection&&this._clusterBillboardCollection.destroy(),this._clusterPointCollection=this._clusterPointCollection&&this._clusterPointCollection.destroy(),Object(O.a)(this._removeEventListener)&&(this._removeEventListener(),this._removeEventListener=void 0),this._labelCollection=void 0,this._billboardCollection=void 0,this._pointCollection=void 0,this._clusterBillboardCollection=void 0,this._clusterLabelCollection=void 0,this._clusterPointCollection=void 0,this._collectionIndicesByEntity=void 0,this._unusedLabelIndices=[],this._unusedBillboardIndices=[],this._unusedPointIndices=[],this._previousClusters=[],this._previousHeight=void 0,this._enabledDirty=!1,this._pixelRangeDirty=!1,this._minimumClusterSizeDirty=!1},t.a=n},eaJ4:function(e,t,i){"use strict";function n(){}var a=i("PzDm");n.prototype.boundingVolume=void 0,n.prototype.boundingSphere=void 0,n.prototype.distanceToCamera=function(e){a.a.throwInstantiationError()},n.prototype.intersectPlane=function(e){a.a.throwInstantiationError()},n.prototype.createDebugVolume=function(e){a.a.throwInstantiationError()}},ebOZ:function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT),this._primitives=[],this._guid=Object(r.a)(),this._zIndex=void 0,this.show=Object(o.a)(e.show,!0),this.destroyPrimitives=Object(o.a)(e.destroyPrimitives,!0)}function a(e,t){if(!e.contains(t))throw new l.a("primitive is not in this collection.");return e._primitives.indexOf(t)}var r=i("ed27"),o=i("5A4e"),s=i("xC6Q"),c=i("6sr8"),l=i("PzDm");Object.defineProperties(n.prototype,{length:{get:function(){return this._primitives.length}}}),n.prototype.add=function(e,t){var i=Object(s.a)(t);if(!Object(s.a)(e))throw new l.a("primitive is required.");if(i){if(t<0)throw new l.a("index must be greater than or equal to zero.");if(t>this._primitives.length)throw new l.a("index must be less than or equal to the number of primitives.")}var n=e._external=e._external||{};return(n._composites=n._composites||{})[this._guid]={collection:this},i?this._primitives.splice(t,0,e):this._primitives.push(e),e},n.prototype.remove=function(e){if(this.contains(e)){var t=this._primitives.indexOf(e);if(-1!==t)return this._primitives.splice(t,1),delete e._external._composites[this._guid],this.destroyPrimitives&&e.destroy(),!0}return!1},n.prototype.removeAndDestroy=function(e){var t=this.remove(e);return t&&!this.destroyPrimitives&&e.destroy(),t},n.prototype.removeAll=function(){for(var e=this._primitives,t=e.length,i=0;i<t;++i)delete e[i]._external._composites[this._guid],this.destroyPrimitives&&e[i].destroy();this._primitives=[]},n.prototype.contains=function(e){return!!(Object(s.a)(e)&&e._external&&e._external._composites&&e._external._composites[this._guid])},n.prototype.raise=function(e){if(Object(s.a)(e)){var t=a(this,e),i=this._primitives;if(t!==i.length-1){var n=i[t];i[t]=i[t+1],i[t+1]=n}}},n.prototype.raiseToTop=function(e){if(Object(s.a)(e)){var t=a(this,e),i=this._primitives;t!==i.length-1&&(i.splice(t,1),i.push(e))}},n.prototype.lower=function(e){if(Object(s.a)(e)){var t=a(this,e),i=this._primitives;if(0!==t){var n=i[t];i[t]=i[t-1],i[t-1]=n}}},n.prototype.lowerToBottom=function(e){if(Object(s.a)(e)){var t=a(this,e),i=this._primitives;0!==t&&(i.splice(t,1),i.unshift(e))}},n.prototype.get=function(e){if(!Object(s.a)(e))throw new l.a("index is required.");return this._primitives[e]},n.prototype.update=function(e){if(this.show)for(var t=this._primitives,i=0;i<t.length;++i)t[i].update(e)},n.prototype.prePassesUpdate=function(e){for(var t=this._primitives,i=0;i<t.length;++i){var n=t[i];Object(s.a)(n.prePassesUpdate)&&n.prePassesUpdate(e)}},n.prototype.updateForPass=function(e,t){for(var i=this._primitives,n=0;n<i.length;++n){var a=i[n];Object(s.a)(a.updateForPass)&&a.updateForPass(e,t)}},n.prototype.postPassesUpdate=function(e){for(var t=this._primitives,i=0;i<t.length;++i){var n=t[i];Object(s.a)(n.postPassesUpdate)&&n.postPassesUpdate(e)}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this.removeAll(),Object(c.a)(this)},t.a=n},ed27:function(e,t,i){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}t.a=n},efDu:function(e,t,i){"use strict";function n(e){var t="#define USE_STEP_SIZE\n"+w.a,i=new P.a({name:e+"_x_direction",fragmentShader:t,uniforms:{delta:1,sigma:2,stepSize:1,direction:0},sampleMode:I.a.LINEAR}),n=new P.a({name:e+"_y_direction",fragmentShader:t,uniforms:{delta:1,sigma:2,stepSize:1,direction:1},sampleMode:I.a.LINEAR}),a={};return Object.defineProperties(a,{delta:{get:function(){return i.uniforms.delta},set:function(e){var t=i.uniforms,a=n.uniforms;t.delta=a.delta=e}},sigma:{get:function(){return i.uniforms.sigma},set:function(e){var t=i.uniforms,a=n.uniforms;t.sigma=a.sigma=e}},stepSize:{get:function(){return i.uniforms.stepSize},set:function(e){var t=i.uniforms,a=n.uniforms;t.stepSize=a.stepSize=e}}}),new D.a({name:e,stages:[i,n],uniforms:a})}function a(e){if(!Object(c.a)(e))return R.createEdgeDetectionStage();for(var t=new D.a({name:"czm_edge_detection_multiple",stages:e,inputPreviousStageTexture:!1}),i={},n="",a="",r=0;r<e.length;++r)n+="uniform sampler2D edgeTexture"+r+"; \n",a+="        vec4 edge"+r+" = texture2D(edgeTexture"+r+", v_textureCoordinates); \n        if (edge"+r+".a > 0.0) \n        { \n            color = edge"+r+"; \n            break; \n        } \n",i["edgeTexture"+r]=e[r].name;var o=n+"varying vec2 v_textureCoordinates; \nvoid main() { \n    vec4 color = vec4(0.0); \n    for (int i = 0; i < "+e.length+"; i++) \n    { \n"+a+"    } \n    gl_FragColor = color; \n} \n",s=new P.a({name:"czm_edge_detection_combine",fragmentShader:o,uniforms:i});return new D.a({name:"czm_edge_detection_composite",stages:[t,s]})}var r=i("CcV0"),o=i("6F0S"),s=i("ed27"),c=i("xC6Q"),l=i("y6fO"),u=i("wZuP"),h=i("dhoM"),d=i("lgRh"),f=i("8X7g"),p=i("9nCK"),m=i("JFrF"),g=i("gkaR"),_=i("08D5"),v=i("U8zd"),b=i("p4mb"),y=i("rhXD"),O=i("K8Sv"),w=i("lnSD"),x=i("mnnV"),E=i("2Cyj"),T=i("tLS6"),A=i("ymZb"),C=i("8VAC"),S=i("3LRE"),j=i("6tn6"),P=i("CXxX"),D=i("08bt"),I=i("zMyv"),R={};R.createBlurStage=function(){return n("czm_blur")},R.createDepthOfFieldStage=function(){var e=n("czm_depth_of_field_blur"),t=new P.a({name:"czm_depth_of_field_composite",fragmentShader:_.a,uniforms:{focalDistance:5,blurTexture:e.name}}),i={};return Object.defineProperties(i,{focalDistance:{get:function(){return t.uniforms.focalDistance},set:function(e){t.uniforms.focalDistance=e}},delta:{get:function(){return e.uniforms.delta},set:function(t){e.uniforms.delta=t}},sigma:{get:function(){return e.uniforms.sigma},set:function(t){e.uniforms.sigma=t}},stepSize:{get:function(){return e.uniforms.stepSize},set:function(t){e.uniforms.stepSize=t}}}),new D.a({name:"czm_depth_of_field",stages:[e,t],inputPreviousStageTexture:!1,uniforms:i})},R.isDepthOfFieldSupported=function(e){return e.context.depthTexture},R.createEdgeDetectionStage=function(){var e=Object(s.a)();return new P.a({name:"czm_edge_detection_"+e,fragmentShader:b.a,uniforms:{length:.25,color:o.a.clone(o.a.BLACK)}})},R.isEdgeDetectionSupported=function(e){return e.context.depthTexture},R.createSilhouetteStage=function(e){var t=a(e),i=new P.a({name:"czm_silhouette_color_edges",fragmentShader:C.a,uniforms:{silhouetteTexture:t.name}});return new D.a({name:"czm_silhouette",stages:[t,i],inputPreviousStageTexture:!1,uniforms:t.uniforms})},R.isSilhouetteSupported=function(e){return e.context.depthTexture},R.createBloomStage=function(){var e=new P.a({name:"czm_bloom_contrast_bias",fragmentShader:g.a,uniforms:{contrast:128,brightness:-.3}}),t=n("czm_bloom_blur"),i=new D.a({name:"czm_bloom_contrast_bias_blur",stages:[e,t]}),a=new P.a({name:"czm_bloom_generate_composite",fragmentShader:p.a,uniforms:{glowOnly:!1,bloomTexture:i.name}}),r={};return Object.defineProperties(r,{glowOnly:{get:function(){return a.uniforms.glowOnly},set:function(e){a.uniforms.glowOnly=e}},contrast:{get:function(){return e.uniforms.contrast},set:function(t){e.uniforms.contrast=t}},brightness:{get:function(){return e.uniforms.brightness},set:function(t){e.uniforms.brightness=t}},delta:{get:function(){return t.uniforms.delta},set:function(e){t.uniforms.delta=e}},sigma:{get:function(){return t.uniforms.sigma},set:function(e){t.uniforms.sigma=e}},stepSize:{get:function(){return t.uniforms.stepSize},set:function(e){t.uniforms.stepSize=e}}}),new D.a({name:"czm_bloom",stages:[i,a],inputPreviousStageTexture:!1,uniforms:r})},R.createAmbientOcclusionStage=function(){var e=new P.a({name:"czm_ambient_occlusion_generate",fragmentShader:h.a,uniforms:{intensity:3,bias:.1,lengthCap:.26,stepSize:1.95,frustumLength:1e3,randomTexture:void 0}}),t=n("czm_ambient_occlusion_blur");t.uniforms.stepSize=.86;var i=new D.a({name:"czm_ambient_occlusion_generate_blur",stages:[e,t]}),a=new P.a({name:"czm_ambient_occlusion_composite",fragmentShader:d.a,uniforms:{ambientOcclusionOnly:!1,ambientOcclusionTexture:i.name}}),r={};return Object.defineProperties(r,{intensity:{get:function(){return e.uniforms.intensity},set:function(t){e.uniforms.intensity=t}},bias:{get:function(){return e.uniforms.bias},set:function(t){e.uniforms.bias=t}},lengthCap:{get:function(){return e.uniforms.lengthCap},set:function(t){e.uniforms.lengthCap=t}},stepSize:{get:function(){return e.uniforms.stepSize},set:function(t){e.uniforms.stepSize=t}},frustumLength:{get:function(){return e.uniforms.frustumLength},set:function(t){e.uniforms.frustumLength=t}},randomTexture:{get:function(){return e.uniforms.randomTexture},set:function(t){e.uniforms.randomTexture=t}},delta:{get:function(){return t.uniforms.delta},set:function(e){t.uniforms.delta=e}},sigma:{get:function(){return t.uniforms.sigma},set:function(e){t.uniforms.sigma=e}},blurStepSize:{get:function(){return t.uniforms.stepSize},set:function(e){t.uniforms.stepSize=e}},ambientOcclusionOnly:{get:function(){return a.uniforms.ambientOcclusionOnly},set:function(e){a.uniforms.ambientOcclusionOnly=e}}}),new D.a({name:"czm_ambient_occlusion",stages:[i,a],inputPreviousStageTexture:!1,uniforms:r})},R.isAmbientOcclusionSupported=function(e){return e.context.depthTexture};var M="#define FXAA_QUALITY_PRESET 39 \n"+S.a+"\n"+O.a;R.createFXAAStage=function(){return new P.a({name:"czm_FXAA",fragmentShader:M,sampleMode:I.a.LINEAR})},R.createAcesTonemappingStage=function(e){var t=e?"#define AUTO_EXPOSURE\n":"";return t+=u.a,new P.a({name:"czm_aces",fragmentShader:t,uniforms:{autoExposure:void 0}})},R.createFilmicTonemappingStage=function(e){var t=e?"#define AUTO_EXPOSURE\n":"";return t+=y.a,new P.a({name:"czm_filmic",fragmentShader:t,uniforms:{autoExposure:void 0}})},R.createReinhardTonemappingStage=function(e){var t=e?"#define AUTO_EXPOSURE\n":"";return t+=A.a,new P.a({name:"czm_reinhard",fragmentShader:t,uniforms:{autoExposure:void 0}})},R.createModifiedReinhardTonemappingStage=function(e){var t=e?"#define AUTO_EXPOSURE\n":"";return t+=E.a,new P.a({name:"czm_modified_reinhard",fragmentShader:t,uniforms:{white:o.a.WHITE,autoExposure:void 0}})},R.createAutoExposureStage=function(){return new j.a},R.createBlackAndWhiteStage=function(){return new P.a({name:"czm_black_and_white",fragmentShader:f.a,uniforms:{gradations:5}})},R.createBrightnessStage=function(){return new P.a({name:"czm_brightness",fragmentShader:m.a,uniforms:{brightness:.5}})},R.createNightVisionStage=function(){return new P.a({name:"czm_night_vision",fragmentShader:T.a})},R.createDepthViewStage=function(){return new P.a({name:"czm_depth_view",fragmentShader:v.a})},R.createLensFlareStage=function(){return new P.a({name:"czm_lens_flare",fragmentShader:x.a,uniforms:{dirtTexture:Object(r.a)("Assets/Textures/LensFlare/DirtMask.jpg"),starTexture:Object(r.a)("Assets/Textures/LensFlare/StarBurst.jpg"),intensity:2,distortion:10,ghostDispersal:.4,haloWidth:.4,dirtAmount:.4,earthRadius:l.a.WGS84.maximumRadius}})},t.a=R},eiC9:function(e,t,i){"use strict";t.a="uniform float u_radiusTS;\n\nvarying vec2 v_textureCoordinates;\n\nvec2 rotate(vec2 p, vec2 direction)\n{\n    return vec2(p.x * direction.x - p.y * direction.y, p.x * direction.y + p.y * direction.x);\n}\n\nvec4 addBurst(vec2 position, vec2 direction, float lengthScalar)\n{\n    vec2 rotatedPosition = rotate(position, direction) * vec2(25.0, 0.75);\n    float radius = length(rotatedPosition) * lengthScalar;\n    float burst = 1.0 - smoothstep(0.0, 0.55, radius);\n    return vec4(burst);\n}\n\nvoid main()\n{\n    float lengthScalar = 2.0 / sqrt(2.0);\n    vec2 position = v_textureCoordinates - vec2(0.5);\n    float radius = length(position) * lengthScalar;\n    float surface = step(radius, u_radiusTS);\n    vec4 color = vec4(vec2(1.0), surface + 0.2, surface);\n\n    float glow = 1.0 - smoothstep(0.0, 0.55, radius);\n    color.ba += mix(vec2(0.0), vec2(1.0), glow) * 0.75;\n\n    vec4 burst = vec4(0.0);\n\n    // The following loop has been manually unrolled for speed, to\n    // avoid sin() and cos().\n    //\n    //for (float i = 0.4; i < 3.2; i += 1.047) {\n    //    vec2 direction = vec2(sin(i), cos(i));\n    //    burst += 0.4 * addBurst(position, direction, lengthScalar);\n    //\n    //    direction = vec2(sin(i - 0.08), cos(i - 0.08));\n    //    burst += 0.3 * addBurst(position, direction, lengthScalar);\n    //}\n\n    burst += 0.4 * addBurst(position, vec2(0.38942,  0.92106), lengthScalar);  // angle == 0.4\n    burst += 0.4 * addBurst(position, vec2(0.99235,  0.12348), lengthScalar);  // angle == 0.4 + 1.047\n    burst += 0.4 * addBurst(position, vec2(0.60327, -0.79754), lengthScalar);  // angle == 0.4 + 1.047 * 2.0\n\n    burst += 0.3 * addBurst(position, vec2(0.31457,  0.94924), lengthScalar);  // angle == 0.4 - 0.08\n    burst += 0.3 * addBurst(position, vec2(0.97931,  0.20239), lengthScalar);  // angle == 0.4 + 1.047 - 0.08\n    burst += 0.3 * addBurst(position, vec2(0.66507, -0.74678), lengthScalar);  // angle == 0.4 + 1.047 * 2.0 - 0.08\n\n    // End of manual loop unrolling.\n\n    color += clamp(burst, vec4(0.0), vec4(1.0)) * 0.15;\n\n    gl_FragColor = clamp(color, vec4(0.0), vec4(1.0));\n}\n"},ekBq:function(e,t,i){"use strict";function n(e){p.a.call(this,e),this._zIndex=0,this._terrainOffsetProperty=void 0}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("2g+t"),l=i("VF2d"),u=i("zGMv"),h=i("JIo7"),d=i("h3qT"),f=i("53NE"),p=i("rVBE"),m=i("NUUv"),g=new f.a(0);Object(o.a)(Object.create)&&(n.prototype=Object.create(p.a.prototype),n.prototype.constructor=n),Object.defineProperties(n.prototype,{zIndex:{get:function(){return this._zIndex}},terrainOffsetProperty:{get:function(){return this._terrainOffsetProperty}}}),n.prototype._isOnTerrain=function(e,t){return this._fillEnabled&&!Object(o.a)(t.height)&&!Object(o.a)(t.extrudedHeight)&&u.a.isSupported(this._scene)},n.prototype._getIsClosed=function(e){var t=e.height,i=e.extrudedHeight;return 0===t||Object(o.a)(i)&&i!==t},n.prototype._computeCenter=s.a.throwInstantiationError,n.prototype._onEntityPropertyChanged=function(e,t,i,n){if(p.a.prototype._onEntityPropertyChanged.call(this,e,t,i,n),-1!==this._observedPropertyNames.indexOf(t)){var a=this._entity[this._geometryPropertyName];if(Object(o.a)(a)){Object(o.a)(a.zIndex)&&(Object(o.a)(a.height)||Object(o.a)(a.extrudedHeight))&&Object(l.a)(l.a.geometryZIndex),this._zIndex=Object(r.a)(a.zIndex,g),Object(o.a)(this._terrainOffsetProperty)&&(this._terrainOffsetProperty.destroy(),this._terrainOffsetProperty=void 0);var s=a.heightReference,c=a.extrudedHeightReference;if(Object(o.a)(s)||Object(o.a)(c)){var u=new d.a(this._computeCenter.bind(this),!this._dynamic);this._terrainOffsetProperty=new m.a(this._scene,u,s,c)}}}},n.prototype.destroy=function(){Object(o.a)(this._terrainOffsetProperty)&&(this._terrainOffsetProperty.destroy(),this._terrainOffsetProperty=void 0),p.a.prototype.destroy.call(this)},n.getGeometryHeight=function(e,t){return a.a.defined("heightReference",t),Object(o.a)(e)?t!==h.a.CLAMP_TO_GROUND?e:0:void(t!==h.a.NONE&&Object(l.a)(l.a.geometryHeightReference))},n.getGeometryExtrudedHeight=function(e,t){return a.a.defined("extrudedHeightReference",t),Object(o.a)(e)?t!==h.a.CLAMP_TO_GROUND?e:n.CLAMP_TO_GROUND:void(t!==h.a.NONE&&Object(l.a)(l.a.geometryExtrudedHeightReference))},n.CLAMP_TO_GROUND="clamp",n.computeGeometryOffsetAttribute=function(e,t,i,n){Object(o.a)(e)&&Object(o.a)(t)||(t=h.a.NONE),Object(o.a)(i)&&Object(o.a)(n)||(n=h.a.NONE);var a=0;return t!==h.a.NONE&&a++,n===h.a.RELATIVE_TO_GROUND&&a++,2===a?c.a.ALL:1===a?c.a.TOP:void 0},t.a=n},evD5:function(e,t,i){var n=i("77Pl"),a=i("SfB7"),r=i("MmMw"),o=Object.defineProperty;t.f=i("+E39")?Object.defineProperty:function(e,t,i){if(n(e),t=r(t,!0),n(i),a)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},ewGw:function(e,t,i){"use strict";t.a="#ifdef MRT\n#extension GL_EXT_draw_buffers : enable\n#endif\n\nuniform vec4 u_bgColor;\nuniform sampler2D u_depthTexture;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main()\n{\n    if (texture2D(u_depthTexture, v_textureCoordinates).r < 1.0)\n    {\n#ifdef MRT\n        gl_FragData[0] = u_bgColor;\n        gl_FragData[1] = vec4(u_bgColor.a);\n#else\n        gl_FragColor = u_bgColor;\n#endif\n        return;\n    }\n    \n    discard;\n}\n"},f48b:function(e,t,i){"use strict";function n(e){if(!(this instanceof n))return new n(e);a.call(this,e)}e.exports=n;var a=i("D1Va"),r=Object.create(i("jOgh"));r.inherits=i("LC74"),r.inherits(n,a),n.prototype._transform=function(e,t,i){i(null,e)}},fBpl:function(e,t,i){function n(e){if("string"==typeof e&&(e=r.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}var a=i("nFqq"),r=i("UZ5h"),o=e.exports;for(var s in a)a.hasOwnProperty(s)&&(o[s]=a[s]);o.request=function(e,t){return e=n(e),a.request.call(this,e,t)},o.get=function(e,t){return e=n(e),a.get.call(this,e,t)}},fBqs:function(e,t,i){"use strict";function n(e){e=Object(b.a)(e,b.a.EMPTY_OBJECT);var t=e.geometryInstances;this.geometryInstances=t,this.show=Object(b.a)(e.show,!0),this.classificationType=Object(b.a)(e.classificationType,R.a.BOTH),this.debugShowBoundingVolume=Object(b.a)(e.debugShowBoundingVolume,!1),this.debugShowShadowVolume=Object(b.a)(e.debugShowShadowVolume,!1),this._debugShowShadowVolume=!1,this._extruded=Object(b.a)(e._extruded,!1),this._uniformMap=e._uniformMap,this._sp=void 0,this._spStencil=void 0,this._spPick=void 0,this._spColor=void 0,this._spPick2D=void 0,this._spColor2D=void 0,this._rsStencilPreloadPass=void 0,this._rsStencilPreloadPass3DTiles=void 0,this._rsStencilDepthPass=void 0,this._rsStencilDepthPass3DTiles=void 0,this._rsColorPass=void 0,this._rsPickPass=void 0,this._commandsIgnoreShow=[],this._ready=!1,this._readyPromise=D.a.defer(),this._primitive=void 0,this._pickPrimitive=e._pickPrimitive,this._hasSphericalExtentsAttribute=!1,this._hasPlanarExtentsAttributes=!1,this._hasPerColorAttribute=!1,this.appearance=e.appearance,this._createBoundingVolumeFunction=e._createBoundingVolumeFunction,this._updateAndQueueCommandsFunction=e._updateAndQueueCommandsFunction,this._usePickOffsets=!1,this._primitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:Object(b.a)(e.vertexCacheOptimize,!1),interleave:Object(b.a)(e.interleave,!1),releaseGeometryInstances:Object(b.a)(e.releaseGeometryInstances,!0),allowPicking:Object(b.a)(e.allowPicking,!0),asynchronous:Object(b.a)(e.asynchronous,!0),compressVertices:Object(b.a)(e.compressVertices,!0),_createBoundingVolumeFunction:void 0,_createRenderStatesFunction:void 0,_createShaderProgramFunction:void 0,_createCommandsFunction:void 0,_updateAndQueueCommandsFunction:void 0,_createPickOffsets:!0}}function a(e,t){var i=t?k.a.EQUAL:k.a.ALWAYS;return{colorMask:{red:!1,green:!1,blue:!1,alpha:!1},stencilTest:{enabled:e,frontFunction:i,frontOperation:{fail:U.a.KEEP,zFail:U.a.DECREMENT_WRAP,zPass:U.a.DECREMENT_WRAP},backFunction:i,backOperation:{fail:U.a.KEEP,zFail:U.a.INCREMENT_WRAP,zPass:U.a.INCREMENT_WRAP},reference:B.a.CESIUM_3D_TILE_MASK,mask:B.a.CESIUM_3D_TILE_MASK},stencilMask:B.a.CLASSIFICATION_MASK,depthTest:{enabled:!1},depthMask:!1}}function r(e,t){var i=t?k.a.EQUAL:k.a.ALWAYS;return{colorMask:{red:!1,green:!1,blue:!1,alpha:!1},stencilTest:{enabled:e,frontFunction:i,frontOperation:{fail:U.a.KEEP,zFail:U.a.KEEP,zPass:U.a.INCREMENT_WRAP},backFunction:i,backOperation:{fail:U.a.KEEP,zFail:U.a.KEEP,zPass:U.a.DECREMENT_WRAP},reference:B.a.CESIUM_3D_TILE_MASK,mask:B.a.CESIUM_3D_TILE_MASK},stencilMask:B.a.CLASSIFICATION_MASK,depthTest:{enabled:!0,func:M.a.LESS_OR_EQUAL},depthMask:!1}}function o(e){return{stencilTest:{enabled:e,frontFunction:k.a.NOT_EQUAL,frontOperation:{fail:U.a.KEEP,zFail:U.a.KEEP,zPass:U.a.DECREMENT_WRAP},backFunction:k.a.NOT_EQUAL,backOperation:{fail:U.a.KEEP,zFail:U.a.KEEP,zPass:U.a.DECREMENT_WRAP},reference:0,mask:B.a.CLASSIFICATION_MASK},stencilMask:B.a.CLASSIFICATION_MASK,depthTest:{enabled:!1},depthMask:!1,blending:I.a.ALPHA_BLEND}}function s(e,t,i,n){if(!Object(y.a)(e._rsStencilPreloadPass)){var s=!e.debugShowShadowVolume;e._rsStencilPreloadPass=A.a.fromCache(a(s,!1)),e._rsStencilPreloadPass3DTiles=A.a.fromCache(a(s,!0)),e._rsStencilDepthPass=A.a.fromCache(r(s,!1)),e._rsStencilDepthPass3DTiles=A.a.fromCache(r(s,!0)),e._rsColorPass=A.a.fromCache(o(s,!1)),e._rsPickPass=A.a.fromCache(V)}}function c(e,t){if(!e.compressVertices)return t;if(-1!==t.search(/attribute\s+vec3\s+extrudeDirection;/g)){var i=t;i=i.replace(/attribute\s+vec3\s+extrudeDirection;/g,""),i=S.a.replaceMain(i,"czm_non_compressed_main");return["attribute vec2 compressedAttributes;","vec3 extrudeDirection;\n",i,"void main() \n{ \n    extrudeDirection = czm_octDecode(compressedAttributes, 65535.0);\n    czm_non_compressed_main(); \n}"].join("\n")}}function l(e,t){var i=t.context,n=e._primitive,a=j.a;a=e._primitive._batchTable.getVertexShaderCallback()(a),a=N.a._appendDistanceDisplayConditionToShader(n,a),a=N.a._modifyShaderPosition(e,a,t.scene3DOnly),a=N.a._updateColorAttribute(n,a);var r=e._hasPlanarExtentsAttributes,o=r||e._hasSphericalExtentsAttribute;e._extruded&&(a=c(n,a));var s=e._extruded?"EXTRUDED_GEOMETRY":"",l=new S.a({defines:[s],sources:[a]}),u=new S.a({sources:[P.a]}),h=e._primitive._attributeLocations,d=new z.a(o,r,e.appearance,i.floatTextureSixPlaces);if(e._spStencil=C.a.replaceCache({context:i,shaderProgram:e._spStencil,vertexShaderSource:l,fragmentShaderSource:u,attributeLocations:h}),e._primitive.allowPicking){var f=S.a.createPickVertexShaderSource(a);f=N.a._appendShowToShader(n,f),f=N.a._updatePickColorAttribute(f);var p=d.createPickFragmentShader(!1),m=d.createPickVertexShader([s],f,!1,t.mapProjection);if(e._spPick=C.a.replaceCache({context:i,shaderProgram:e._spPick,vertexShaderSource:m,fragmentShaderSource:p,attributeLocations:h}),o){var g=i.shaderCache.getDerivedShaderProgram(e._spPick,"2dPick");if(!Object(y.a)(g)){var _=d.createPickFragmentShader(!0),v=d.createPickVertexShader([s],f,!0,t.mapProjection);g=i.shaderCache.createDerivedShaderProgram(e._spPick,"2dPick",{vertexShaderSource:v,fragmentShaderSource:_,attributeLocations:h})}e._spPick2D=g}}else e._spPick=C.a.fromCache({context:i,vertexShaderSource:l,fragmentShaderSource:u,attributeLocations:h});a=N.a._appendShowToShader(n,a),l=new S.a({defines:[s],sources:[a]}),e._sp=C.a.replaceCache({context:i,shaderProgram:e._sp,vertexShaderSource:l,fragmentShaderSource:u,attributeLocations:h});var b=d.createFragmentShader(!1),O=d.createVertexShader([s],a,!1,t.mapProjection);if(e._spColor=C.a.replaceCache({context:i,shaderProgram:e._spColor,vertexShaderSource:O,fragmentShaderSource:b,attributeLocations:h}),o){var w=i.shaderCache.getDerivedShaderProgram(e._spColor,"2dColor");if(!Object(y.a)(w)){var x=d.createFragmentShader(!0),E=d.createVertexShader([s],a,!0,t.mapProjection);w=i.shaderCache.createDerivedShaderProgram(e._spColor,"2dColor",{vertexShaderSource:E,fragmentShaderSource:x,attributeLocations:h})}e._spColor2D=w}}function u(e,t){var i=e._primitive,n=3*i._va.length;t.length=n;var a,r,o,s=0,c=i._batchTable.getUniformMapCallback()(e._uniformMap),l=e._needs2DShader;for(a=0;a<n;a+=3){var u=i._va[s++];r=t[a],Object(y.a)(r)||(r=t[a]=new E.a({owner:e,primitiveType:i._primitiveType})),r.vertexArray=u,r.renderState=e._rsStencilPreloadPass,r.shaderProgram=e._sp,r.uniformMap=c,r.pass=T.a.TERRAIN_CLASSIFICATION,o=E.a.shallowClone(r,r.derivedCommands.tileset),o.renderState=e._rsStencilPreloadPass3DTiles,o.pass=T.a.CESIUM_3D_TILE_CLASSIFICATION,r.derivedCommands.tileset=o,r=t[a+1],Object(y.a)(r)||(r=t[a+1]=new E.a({owner:e,primitiveType:i._primitiveType})),r.vertexArray=u,r.renderState=e._rsStencilDepthPass,r.shaderProgram=e._sp,r.uniformMap=c,r.pass=T.a.TERRAIN_CLASSIFICATION,o=E.a.shallowClone(r,r.derivedCommands.tileset),o.renderState=e._rsStencilDepthPass3DTiles,o.pass=T.a.CESIUM_3D_TILE_CLASSIFICATION,r.derivedCommands.tileset=o,r=t[a+2],Object(y.a)(r)||(r=t[a+2]=new E.a({owner:e,primitiveType:i._primitiveType})),r.vertexArray=u,r.renderState=e._rsColorPass,r.shaderProgram=e._spColor,r.pass=T.a.TERRAIN_CLASSIFICATION;var h=e.appearance,d=h.material;if(Object(y.a)(d)&&(c=Object(v.a)(c,d._uniforms)),r.uniformMap=c,o=E.a.shallowClone(r,r.derivedCommands.tileset),o.pass=T.a.CESIUM_3D_TILE_CLASSIFICATION,r.derivedCommands.tileset=o,l){var f=E.a.shallowClone(r,r.derivedCommands.appearance2D);f.shaderProgram=e._spColor2D,r.derivedCommands.appearance2D=f,f=E.a.shallowClone(o,o.derivedCommands.appearance2D),f.shaderProgram=e._spColor2D,o.derivedCommands.appearance2D=f}}var p=e._commandsIgnoreShow,m=e._spStencil,g=0;n=p.length=n/3*2;for(var _=0;_<n;_+=2){var b=p[_]=E.a.shallowClone(t[g],p[_]);b.shaderProgram=m,b.pass=T.a.CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW,b=p[_+1]=E.a.shallowClone(t[g+1],p[_+1]),b.shaderProgram=m,b.pass=T.a.CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW,g+=3}}function h(e,t){var i,n,a=e._usePickOffsets,r=e._primitive,o=3*r._va.length,s=0;a&&(i=r._pickOffsets,o=3*i.length),t.length=o;var c,l,u,h=0,d=r._batchTable.getUniformMapCallback()(e._uniformMap),f=e._needs2DShader;for(c=0;c<o;c+=3){var p=r._va[h++];if(a&&(n=i[s++],p=r._va[n.index]),l=t[c],Object(y.a)(l)||(l=t[c]=new E.a({owner:e,primitiveType:r._primitiveType,pickOnly:!0})),l.vertexArray=p,l.renderState=e._rsStencilPreloadPass,l.shaderProgram=e._sp,l.uniformMap=d,l.pass=T.a.TERRAIN_CLASSIFICATION,a&&(l.offset=n.offset,l.count=n.count),u=E.a.shallowClone(l,l.derivedCommands.tileset),u.renderState=e._rsStencilPreloadPass3DTiles,u.pass=T.a.CESIUM_3D_TILE_CLASSIFICATION,l.derivedCommands.tileset=u,l=t[c+1],Object(y.a)(l)||(l=t[c+1]=new E.a({owner:e,primitiveType:r._primitiveType,pickOnly:!0})),l.vertexArray=p,l.renderState=e._rsStencilDepthPass,l.shaderProgram=e._sp,l.uniformMap=d,l.pass=T.a.TERRAIN_CLASSIFICATION,a&&(l.offset=n.offset,l.count=n.count),u=E.a.shallowClone(l,l.derivedCommands.tileset),u.renderState=e._rsStencilDepthPass3DTiles,u.pass=T.a.CESIUM_3D_TILE_CLASSIFICATION,l.derivedCommands.tileset=u,l=t[c+2],Object(y.a)(l)||(l=t[c+2]=new E.a({owner:e,primitiveType:r._primitiveType,pickOnly:!0})),l.vertexArray=p,l.renderState=e._rsPickPass,l.shaderProgram=e._spPick,l.uniformMap=d,l.pass=T.a.TERRAIN_CLASSIFICATION,a&&(l.offset=n.offset,l.count=n.count),u=E.a.shallowClone(l,l.derivedCommands.tileset),u.pass=T.a.CESIUM_3D_TILE_CLASSIFICATION,l.derivedCommands.tileset=u,f){var m=E.a.shallowClone(l,l.derivedCommands.pick2D);m.shaderProgram=e._spPick2D,l.derivedCommands.pick2D=m,m=E.a.shallowClone(u,u.derivedCommands.pick2D),m.shaderProgram=e._spPick2D,u.derivedCommands.pick2D=m}}}function d(e,t,i,n,a,r,o){u(e,r),h(e,o)}function f(e,t){return Math.floor(e%t/3)}function p(e,t,i,n,a,r){e.modelMatrix=i,e.boundingVolume=a,e.cull=n,e.debugShowBoundingVolume=r,t.commandList.push(e)}function m(e,t,i,n,a){e.modelMatrix=i,e.boundingVolume=a,e.cull=n,t.commandList.push(e)}function g(e,t,i,n,a,r,o,s){var c=e._primitive;N.a._updateBoundingVolumes(c,t,a);var l;t.mode===F.a.SCENE3D?l=c._boundingSphereWC:t.mode===F.a.COLUMBUS_VIEW?l=c._boundingSphereCV:t.mode===F.a.SCENE2D&&Object(y.a)(c._boundingSphere2D)?l=c._boundingSphere2D:Object(y.a)(c._boundingSphereMorph)&&(l=c._boundingSphereMorph);var u,h,d,g=e.classificationType,_=g!==R.a.CESIUM_3D_TILE,v=g!==R.a.TERRAIN,b=t.passes;if(b.render){var O=i.length;for(u=0;u<O;++u)h=l[f(u,O)],_&&(d=i[u],p(d,t,a,r,h,o)),v&&(d=i[u].derivedCommands.tileset,p(d,t,a,r,h,o));if(t.invertClassification){var w=e._commandsIgnoreShow,x=w.length;for(u=0;u<x;++u)h=l[Math.floor(u/2)],d=w[u],p(d,t,a,r,h,o)}}if(b.pick){var E=n.length,T=c._pickOffsets;for(u=0;u<E;++u){h=l[T[f(u,E)].index],_&&(d=n[u],m(d,t,a,r,h)),v&&(d=n[u].derivedCommands.tileset,m(d,t,a,r,h))}}}var _=i("devy"),v=i("ZboF"),b=i("5A4e"),y=i("xC6Q"),O=i("6sr8"),w=i("PzDm"),x=i("izcu"),E=i("1mJh"),T=i("M0+0"),A=i("DrvA"),C=i("WUlw"),S=i("x6Ms"),j=i("DIpd"),P=i("F0u8"),D=i("S7OP"),I=i("OtDm"),R=i("M1dj"),M=i("jFv/"),L=i("BOJj"),N=i("0df4"),F=i("sotJ"),z=i("W66u"),B=i("x0EE"),k=i("i0h9"),U=i("9URA");Object.defineProperties(n.prototype,{vertexCacheOptimize:{get:function(){return this._primitiveOptions.vertexCacheOptimize}},interleave:{get:function(){return this._primitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._primitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._primitiveOptions.allowPicking}},asynchronous:{get:function(){return this._primitiveOptions.asynchronous}},compressVertices:{get:function(){return this._primitiveOptions.compressVertices}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},_needs2DShader:{get:function(){return this._hasPlanarExtentsAttributes||this._hasSphericalExtentsAttribute}}}),n.isSupported=function(e){return e.context.stencilBuffer};var V={stencilTest:{enabled:!0,frontFunction:k.a.NOT_EQUAL,frontOperation:{fail:U.a.KEEP,zFail:U.a.KEEP,zPass:U.a.DECREMENT_WRAP},backFunction:k.a.NOT_EQUAL,backOperation:{fail:U.a.KEEP,zFail:U.a.KEEP,zPass:U.a.DECREMENT_WRAP},reference:0,mask:B.a.CLASSIFICATION_MASK},stencilMask:B.a.CLASSIFICATION_MASK,depthTest:{enabled:!1},depthMask:!1};n.prototype.update=function(e){if(Object(y.a)(this._primitive)||Object(y.a)(this.geometryInstances)){var t=this.appearance;Object(y.a)(t)&&Object(y.a)(t.material)&&t.material.update(e.context);var i=this,n=this._primitiveOptions;if(!Object(y.a)(this._primitive)){var c,u,h,f,p=Array.isArray(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],m=p.length,v=!1,O=!0,E=!1,T=!1;for(m>0&&(h=p[0].attributes,E=z.a.hasAttributesForSphericalExtents(h),T=z.a.hasAttributesForTextureCoordinatePlanes(h),f=h.color),c=0;c<m;c++){u=p[c];var C=u.attributes.color;if(Object(y.a)(C))v=!0;else if(v)throw new w.a("All GeometryInstances must have color attributes to use per-instance color.");O=O&&Object(y.a)(C)&&_.a.equals(f,C)}if(!O&&!E&&!T)throw new w.a("All GeometryInstances must have the same color attribute except via GroundPrimitives");if(v&&!Object(y.a)(t)&&(t=new L.a({flat:!0}),this.appearance=t),!v&&t instanceof L.a)throw new w.a("PerInstanceColorAppearance requires color GeometryInstanceAttributes on all GeometryInstances");if(Object(y.a)(t.material)&&!E&&!T)throw new w.a("Materials on ClassificationPrimitives are not supported except via GroundPrimitives");this._usePickOffsets=!E&&!T,this._hasSphericalExtentsAttribute=E,this._hasPlanarExtentsAttributes=T,this._hasPerColorAttribute=v;var S=new Array(m);for(c=0;c<m;++c)u=p[c],S[c]=new x.a({geometry:u.geometry,attributes:u.attributes,modelMatrix:u.modelMatrix,id:u.id,pickPrimitive:Object(b.a)(this._pickPrimitive,i)});n.appearance=t,n.geometryInstances=S,Object(y.a)(this._createBoundingVolumeFunction)&&(n._createBoundingVolumeFunction=function(e,t){i._createBoundingVolumeFunction(e,t)}),n._createRenderStatesFunction=function(e,t,n,a){s(i,t)},n._createShaderProgramFunction=function(e,t,n){l(i,t)},n._createCommandsFunction=function(e,t,n,a,r,o,s){d(i,void 0,void 0,!0,!1,o,s)},Object(y.a)(this._updateAndQueueCommandsFunction)?n._updateAndQueueCommandsFunction=function(e,t,n,a,r,o,s,c){i._updateAndQueueCommandsFunction(e,t,n,a,r,o,s,c)}:n._updateAndQueueCommandsFunction=function(e,t,n,a,r,o,s,c){g(i,t,n,a,r,o,s,c)},this._primitive=new N.a(n),this._primitive.readyPromise.then(function(e){i._ready=!0,i.releaseGeometryInstances&&(i.geometryInstances=void 0);var t=e._error;Object(y.a)(t)?i._readyPromise.reject(t):i._readyPromise.resolve(i)})}if(this.debugShowShadowVolume&&!this._debugShowShadowVolume&&this._ready?(this._debugShowShadowVolume=!0,this._rsStencilPreloadPass=A.a.fromCache(a(!1,!1)),this._rsStencilPreloadPass3DTiles=A.a.fromCache(a(!1,!0)),this._rsStencilDepthPass=A.a.fromCache(r(!1,!1)),this._rsStencilDepthPass3DTiles=A.a.fromCache(r(!1,!0)),this._rsColorPass=A.a.fromCache(o(!1))):!this.debugShowShadowVolume&&this._debugShowShadowVolume&&(this._debugShowShadowVolume=!1,this._rsStencilPreloadPass=A.a.fromCache(a(!0,!1)),this._rsStencilPreloadPass3DTiles=A.a.fromCache(a(!0,!0)),this._rsStencilDepthPass=A.a.fromCache(r(!0,!1)),this._rsStencilDepthPass3DTiles=A.a.fromCache(r(!0,!0)),this._rsColorPass=A.a.fromCache(o(!0))),this._primitive.appearance!==t){if(!this._hasSphericalExtentsAttribute&&!this._hasPlanarExtentsAttributes&&Object(y.a)(t.material))throw new w.a("Materials on ClassificationPrimitives are not supported except via GroundPrimitive");if(!this._hasPerColorAttribute&&t instanceof L.a)throw new w.a("PerInstanceColorAppearance requires color GeometryInstanceAttribute");this._primitive.appearance=t}this._primitive.show=this.show,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(e)}},n.prototype.getGeometryInstanceAttributes=function(e){if(!Object(y.a)(this._primitive))throw new w.a("must call update before calling getGeometryInstanceAttributes");return this._primitive.getGeometryInstanceAttributes(e)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),this._sp=this._sp&&this._sp.destroy(),this._spPick=this._spPick&&this._spPick.destroy(),this._spColor=this._spColor&&this._spColor.destroy(),this._spPick2D=void 0,this._spColor2D=void 0,Object(O.a)(this)},t.a=n},fC4T:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"fCa+":function(e,t,i){"use strict";function n(e,t,i,n,r,c,f,p,m,g){var _=e+t;a.a.multiplyByScalar(n,Math.cos(_),l),a.a.multiplyByScalar(i,Math.sin(_),u),a.a.add(l,u,l);var v=Math.cos(e);v*=v;var b=Math.sin(e);b*=b;var y=c/Math.sqrt(f*v+r*b),O=y/p;return s.a.fromAxisAngle(l,O,h),o.a.fromQuaternion(h,d),o.a.multiplyByVector(d,m,g),a.a.normalize(g,g),a.a.multiplyByScalar(g,p,g),g}var a=i("Jj+J"),r=i("fq+p"),o=i("i3sv"),s=i("q/xW"),c={},l=new a.a,u=new a.a,h=new s.a,d=new o.a,f=new a.a,p=new a.a,m=new a.a,g=new a.a;c.raisePositionsToHeight=function(e,t,i){for(var n=t.ellipsoid,r=t.height,o=t.extrudedHeight,s=i?e.length/3*2:e.length/3,c=new Float64Array(3*s),l=e.length,u=i?l:0,h=0;h<l;h+=3){var d=h+1,_=h+2,v=a.a.fromArray(e,h,f);n.scaleToGeodeticSurface(v,v);var b=a.a.clone(v,p),y=n.geodeticSurfaceNormal(v,g),O=a.a.multiplyByScalar(y,r,m);a.a.add(v,O,v),i&&(a.a.multiplyByScalar(y,o,O),a.a.add(b,O,b),c[h+u]=b.x,c[d+u]=b.y,c[_+u]=b.z),c[h]=v.x,c[d]=v.y,c[_]=v.z}return c};var _=new a.a,v=new a.a,b=new a.a;c.computeEllipsePositions=function(e,t,i){var o=e.semiMinorAxis,s=e.semiMajorAxis,c=e.rotation,l=e.center,u=8*e.granularity,h=o*o,d=s*s,g=s*o,y=a.a.magnitude(l),O=a.a.normalize(l,_),w=a.a.cross(a.a.UNIT_Z,l,v);w=a.a.normalize(w,w);var x=a.a.cross(O,w,b),E=1+Math.ceil(r.a.PI_OVER_TWO/u),T=r.a.PI_OVER_TWO/(E-1),A=r.a.PI_OVER_TWO-E*T;A<0&&(E-=Math.ceil(Math.abs(A)/T));var C,S,j,P,D,I=E*(E+2)*2,R=t?new Array(3*I):void 0,M=0,L=f,N=p,F=4*E*3,z=F-1,B=0,k=i?new Array(F):void 0;for(A=r.a.PI_OVER_TWO,L=n(A,c,x,w,h,g,d,y,O,L),t&&(R[M++]=L.x,R[M++]=L.y,R[M++]=L.z),i&&(k[z--]=L.z,k[z--]=L.y,k[z--]=L.x),A=r.a.PI_OVER_TWO-T,C=1;C<E+1;++C){if(L=n(A,c,x,w,h,g,d,y,O,L),N=n(Math.PI-A,c,x,w,h,g,d,y,O,N),t){for(R[M++]=L.x,R[M++]=L.y,R[M++]=L.z,j=2*C+2,S=1;S<j-1;++S)P=S/(j-1),D=a.a.lerp(L,N,P,m),R[M++]=D.x,R[M++]=D.y,R[M++]=D.z;R[M++]=N.x,R[M++]=N.y,R[M++]=N.z}i&&(k[z--]=L.z,k[z--]=L.y,k[z--]=L.x,k[B++]=N.x,k[B++]=N.y,k[B++]=N.z),A=r.a.PI_OVER_TWO-(C+1)*T}for(C=E;C>1;--C){if(A=r.a.PI_OVER_TWO-(C-1)*T,L=n(-A,c,x,w,h,g,d,y,O,L),N=n(A+Math.PI,c,x,w,h,g,d,y,O,N),t){for(R[M++]=L.x,R[M++]=L.y,R[M++]=L.z,j=2*(C-1)+2,S=1;S<j-1;++S)P=S/(j-1),D=a.a.lerp(L,N,P,m),R[M++]=D.x,R[M++]=D.y,R[M++]=D.z;R[M++]=N.x,R[M++]=N.y,R[M++]=N.z}i&&(k[z--]=L.z,k[z--]=L.y,k[z--]=L.x,k[B++]=N.x,k[B++]=N.y,k[B++]=N.z)}A=r.a.PI_OVER_TWO,L=n(-A,c,x,w,h,g,d,y,O,L);var U={};return t&&(R[M++]=L.x,R[M++]=L.y,R[M++]=L.z,U.positions=R,U.numPts=E),i&&(k[z--]=L.z,k[z--]=L.y,k[z--]=L.x,U.outerPositions=k),U},t.a=c},fEkY:function(e,t,i){"use strict";function n(e,t){e=Object(l.a)(e,l.a.EMPTY_OBJECT),this._show=Object(l.a)(e.show,!0),this._width=Object(l.a)(e.width,1),this._loop=Object(l.a)(e.loop,!1),this._distanceDisplayCondition=e.distanceDisplayCondition,this._material=e.material,Object(u.a)(this._material)||(this._material=m.a.fromType(m.a.ColorType,{color:new c.a(1,1,1,1)}));var i=e.positions;Object(u.a)(i)||(i=[]),this._positions=i,this._actualPositions=Object(r.a)(i,s.a.equalsEpsilon),this._loop&&this._actualPositions.length>2&&(this._actualPositions===this._positions&&(this._actualPositions=i.slice()),this._actualPositions.push(s.a.clone(this._actualPositions[0]))),this._length=this._actualPositions.length,this._id=e.id;var n;Object(u.a)(t)&&(n=f.a.clone(t.modelMatrix)),this._modelMatrix=n,this._segments=p.a.wrapLongitude(this._actualPositions,n),this._actualLength=void 0,this._propertiesChanged=new Uint32Array(w),this._polylineCollection=t,this._dirty=!1,this._pickId=void 0,this._boundingVolume=o.a.fromPoints(this._actualPositions),this._boundingVolumeWC=o.a.transform(this._boundingVolume,this._modelMatrix),this._boundingVolume2D=new o.a}function a(e,t){++e._propertiesChanged[t];var i=e._polylineCollection;Object(u.a)(i)&&(i._updatePolyline(e,t),e._dirty=!0)}var r=i("6Ilv"),o=i("lBr9"),s=i("Jj+J"),c=i("6F0S"),l=i("5A4e"),u=i("xC6Q"),h=i("PzDm"),d=i("2d28"),f=i("Xjii"),p=i("QhJM"),m=i("5SZ+"),g=n.POSITION_INDEX=0,_=n.SHOW_INDEX=1,v=n.WIDTH_INDEX=2,b=n.MATERIAL_INDEX=3,y=n.POSITION_SIZE_INDEX=4,O=n.DISTANCE_DISPLAY_CONDITION=5,w=n.NUMBER_OF_PROPERTIES=6;Object.defineProperties(n.prototype,{show:{get:function(){return this._show},set:function(e){if(!Object(u.a)(e))throw new h.a("value is required.");e!==this._show&&(this._show=e,a(this,_))}},positions:{get:function(){return this._positions},set:function(e){if(!Object(u.a)(e))throw new h.a("value is required.");var t=Object(r.a)(e,s.a.equalsEpsilon);this._loop&&t.length>2&&(t===e&&(t=e.slice()),t.push(s.a.clone(t[0]))),this._actualPositions.length===t.length&&this._actualPositions.length===this._length||a(this,y),this._positions=e,this._actualPositions=t,this._length=t.length,this._boundingVolume=o.a.fromPoints(this._actualPositions,this._boundingVolume),this._boundingVolumeWC=o.a.transform(this._boundingVolume,this._modelMatrix,this._boundingVolumeWC),a(this,g),this.update()}},material:{get:function(){return this._material},set:function(e){if(!Object(u.a)(e))throw new h.a("material is required.");this._material!==e&&(this._material=e,a(this,b))}},width:{get:function(){return this._width},set:function(e){if(!Object(u.a)(e))throw new h.a("value is required.");e!==this._width&&(this._width=e,a(this,v))}},loop:{get:function(){return this._loop},set:function(e){if(!Object(u.a)(e))throw new h.a("value is required.");if(e!==this._loop){var t=this._actualPositions;e?t.length>2&&!s.a.equals(t[0],t[t.length-1])&&(t.length===this._positions.length&&(this._actualPositions=t=this._positions.slice()),t.push(s.a.clone(t[0]))):t.length>2&&s.a.equals(t[0],t[t.length-1])&&(t.length-1===this._positions.length?this._actualPositions=this._positions:t.pop()),this._loop=e,a(this,y)}}},id:{get:function(){return this._id},set:function(e){this._id=e,Object(u.a)(this._pickId)&&(this._pickId.object.id=e)}},pickId:{get:function(){return this._pickId}},isDestroyed:{get:function(){return!Object(u.a)(this._polylineCollection)}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){if(Object(u.a)(e)&&e.far<=e.near)throw new h.a("far distance must be greater than near distance.");d.a.equals(e,this._distanceDisplayCondition)||(this._distanceDisplayCondition=d.a.clone(e,this._distanceDisplayCondition),a(this,O))}}}),n.prototype.update=function(){var e=f.a.IDENTITY;Object(u.a)(this._polylineCollection)&&(e=this._polylineCollection.modelMatrix);var t=this._segments.positions.length,i=this._segments.lengths,n=this._propertiesChanged[g]>0||this._propertiesChanged[y]>0;if(f.a.equals(e,this._modelMatrix)&&!n||(this._segments=p.a.wrapLongitude(this._actualPositions,e),this._boundingVolumeWC=o.a.transform(this._boundingVolume,e,this._boundingVolumeWC)),this._modelMatrix=f.a.clone(e,this._modelMatrix),this._segments.positions.length!==t)a(this,y);else for(var r=i.length,s=0;s<r;++s)if(i[s]!==this._segments.lengths[s]){a(this,y);break}},n.prototype.getPickId=function(e){return Object(u.a)(this._pickId)||(this._pickId=e.createPickId({primitive:this,collection:this._polylineCollection,id:this._id})),this._pickId},n.prototype._clean=function(){this._dirty=!1;for(var e=this._propertiesChanged,t=0;t<w-1;++t)e[t]=0},n.prototype._destroy=function(){this._pickId=this._pickId&&this._pickId.destroy(),this._material=this._material&&this._material.destroy(),this._polylineCollection=void 0},t.a=n},fH8I:function(e,t,i){"use strict";var n,a=i("xC6Q"),r={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},o={};Object.defineProperties(o,{element:{get:function(){if(o.supportsFullscreen())return document[r.fullscreenElement]}},changeEventName:{get:function(){if(o.supportsFullscreen())return r.fullscreenchange}},errorEventName:{get:function(){if(o.supportsFullscreen())return r.fullscreenerror}},enabled:{get:function(){if(o.supportsFullscreen())return document[r.fullscreenEnabled]}},fullscreen:{get:function(){if(o.supportsFullscreen())return null!==o.element}}}),o.supportsFullscreen=function(){if(Object(a.a)(n))return n;n=!1;var e=document.body;if("function"==typeof e.requestFullscreen)return r.requestFullscreen="requestFullscreen",r.exitFullscreen="exitFullscreen",r.fullscreenEnabled="fullscreenEnabled",r.fullscreenElement="fullscreenElement",r.fullscreenchange="fullscreenchange",r.fullscreenerror="fullscreenerror",n=!0;for(var t,i=["webkit","moz","o","ms","khtml"],o=0,s=i.length;o<s;++o){var c=i[o];t=c+"RequestFullscreen","function"==typeof e[t]?(r.requestFullscreen=t,n=!0):(t=c+"RequestFullScreen","function"==typeof e[t]&&(r.requestFullscreen=t,n=!0)),t=c+"ExitFullscreen","function"==typeof document[t]?r.exitFullscreen=t:(t=c+"CancelFullScreen","function"==typeof document[t]&&(r.exitFullscreen=t)),t=c+"FullscreenEnabled",void 0!==document[t]?r.fullscreenEnabled=t:(t=c+"FullScreenEnabled",void 0!==document[t]&&(r.fullscreenEnabled=t)),t=c+"FullscreenElement",void 0!==document[t]?r.fullscreenElement=t:(t=c+"FullScreenElement",void 0!==document[t]&&(r.fullscreenElement=t)),t=c+"fullscreenchange",void 0!==document["on"+t]&&("ms"===c&&(t="MSFullscreenChange"),r.fullscreenchange=t),t=c+"fullscreenerror",void 0!==document["on"+t]&&("ms"===c&&(t="MSFullscreenError"),r.fullscreenerror=t)}return n},o.requestFullscreen=function(e,t){o.supportsFullscreen()&&e[r.requestFullscreen]({vrDisplay:t})},o.exitFullscreen=function(){o.supportsFullscreen()&&document[r.exitFullscreen]()},o._names=r,t.a=o},fRHV:function(e,t,i){"use strict";var n=Object.prototype.toString,a=Math.max,r=function(e,t){for(var i=[],n=0;n<e.length;n+=1)i[n]=e[n];for(var a=0;a<t.length;a+=1)i[a+e.length]=t[a];return i},o=function(e,t){for(var i=[],n=t||0,a=0;n<e.length;n+=1,a+=1)i[a]=e[n];return i},s=function(e,t){for(var i="",n=0;n<e.length;n+=1)i+=e[n],n+1<e.length&&(i+=t);return i};e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==n.apply(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var i,c=o(arguments,1),l=function(){if(this instanceof i){var n=t.apply(this,r(c,arguments));return Object(n)===n?n:this}return t.apply(e,r(c,arguments))},u=a(0,t.length-c.length),h=[],d=0;d<u;d++)h[d]="$"+d;if(i=Function("binder","return function ("+s(h,",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var f=function(){};f.prototype=t.prototype,i.prototype=new f,f.prototype=null}return i}},fSWn:function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT),this.material=e.material,this.translucent=Object(o.a)(e.translucent,!0),this._vertexShaderSource=e.vertexShaderSource,this._fragmentShaderSource=e.fragmentShaderSource,this._renderState=e.renderState,this._closed=Object(o.a)(e.closed,!1)}var a=i("wv0P"),r=i("ZboF"),o=i("5A4e"),s=i("xC6Q"),c=i("OtDm"),l=i("3fQz");Object.defineProperties(n.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}}}),n.prototype.getFragmentShaderSource=function(){var e=[];return this.flat&&e.push("#define FLAT"),this.faceForward&&e.push("#define FACE_FORWARD"),Object(s.a)(this.material)&&e.push(this.material.shaderSource),e.push(this.fragmentShaderSource),e.join("\n")},n.prototype.isTranslucent=function(){return Object(s.a)(this.material)&&this.material.isTranslucent()||!Object(s.a)(this.material)&&this.translucent},n.prototype.getRenderState=function(){var e=this.isTranslucent(),t=Object(a.a)(this.renderState,!1);return e?(t.depthMask=!1,t.blending=c.a.ALPHA_BLEND):t.depthMask=!0,t},n.getDefaultRenderState=function(e,t,i){var n={depthTest:{enabled:!0}};return e&&(n.depthMask=!1,n.blending=c.a.ALPHA_BLEND),t&&(n.cull={enabled:!0,face:l.a.BACK}),Object(s.a)(i)&&(n=Object(r.a)(i,n,!0)),n},t.a=n},fajW:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT);var t=e.points,i=e.times;if(!Object(o.a)(t)||!Object(o.a)(i))throw new s.a("points and times are required.");if(t.length<2)throw new s.a("points.length must be greater than or equal to 2.");if(i.length!==t.length)throw new s.a("times.length must be equal to points.length.");this._times=i,this._points=t,this._lastTimeIndex=0}var a=i("Jj+J"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("Jn+X");Object.defineProperties(n.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}}}),n.prototype.findTimeInterval=c.a.prototype.findTimeInterval,n.prototype.wrapTime=c.a.prototype.wrapTime,n.prototype.clampTime=c.a.prototype.clampTime,n.prototype.evaluate=function(e,t){var i=this.points,n=this.times,r=this._lastTimeIndex=this.findTimeInterval(e,this._lastTimeIndex),s=(e-n[r])/(n[r+1]-n[r]);return Object(o.a)(t)||(t=new a.a),a.a.lerp(i[r],i[r+1],s,t)},t.a=n},fkB2:function(e,t,i){var n=i("UuGF"),a=Math.max,r=Math.min;e.exports=function(e,t){return e=n(e),e<0?a(e+t,0):r(e,t)}},fkix:function(e,t,i){"use strict";function n(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function a(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=F,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new v.Buf32(me),t.distcode=t.distdyn=new v.Buf32(ge),t.sane=1,t.back=-1,j):I}function o(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,r(e)):I}function s(e,t){var i,n;return e&&e.state?(n=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?I:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,o(e))):I}function c(e,t){var i,n;return e?(n=new a,e.state=n,n.window=null,i=s(e,t),i!==j&&(e.state=null),i):I}function l(e){return c(e,_e)}function u(e){if(ve){var t;for(g=new v.Buf32(512),_=new v.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(w(E,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;w(T,e.lens,0,32,_,0,e.work,{bits:5}),ve=!1}e.lencode=g,e.lenbits=9,e.distcode=_,e.distbits=5}function h(e,t,i,n){var a,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new v.Buf8(r.wsize)),n>=r.wsize?(v.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>n&&(a=n),v.arraySet(r.window,t,i-n,a,r.wnext),n-=a,n?(v.arraySet(r.window,t,i-n,n,0),r.wnext=n,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0}function d(e,t){var i,a,r,o,s,c,l,d,f,p,m,g,_,me,ge,_e,ve,be,ye,Oe,we,xe,Ee,Te,Ae=0,Ce=new v.Buf8(4),Se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return I;i=e.state,i.mode===X&&(i.mode=Q),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,a=e.input,c=e.avail_in,d=i.hold,f=i.bits,p=c,m=l,xe=j;e:for(;;)switch(i.mode){case F:if(0===i.wrap){i.mode=Q;break}for(;f<16;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}if(2&i.wrap&&35615===d){i.check=0,Ce[0]=255&d,Ce[1]=d>>>8&255,i.check=y(i.check,Ce,2,0),d=0,f=0,i.mode=z;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",i.mode=de;break}if((15&d)!==N){e.msg="unknown compression method",i.mode=de;break}if(d>>>=4,f-=4,we=8+(15&d),0===i.wbits)i.wbits=we;else if(we>i.wbits){e.msg="invalid window size",i.mode=de;break}i.dmax=1<<we,e.adler=i.check=1,i.mode=512&d?G:X,d=0,f=0;break;case z:for(;f<16;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}if(i.flags=d,(255&i.flags)!==N){e.msg="unknown compression method",i.mode=de;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=de;break}i.head&&(i.head.text=d>>8&1),512&i.flags&&(Ce[0]=255&d,Ce[1]=d>>>8&255,i.check=y(i.check,Ce,2,0)),d=0,f=0,i.mode=B;case B:for(;f<32;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}i.head&&(i.head.time=d),512&i.flags&&(Ce[0]=255&d,Ce[1]=d>>>8&255,Ce[2]=d>>>16&255,Ce[3]=d>>>24&255,i.check=y(i.check,Ce,4,0)),d=0,f=0,i.mode=k;case k:for(;f<16;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}i.head&&(i.head.xflags=255&d,i.head.os=d>>8),512&i.flags&&(Ce[0]=255&d,Ce[1]=d>>>8&255,i.check=y(i.check,Ce,2,0)),d=0,f=0,i.mode=U;case U:if(1024&i.flags){for(;f<16;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}i.length=d,i.head&&(i.head.extra_len=d),512&i.flags&&(Ce[0]=255&d,Ce[1]=d>>>8&255,i.check=y(i.check,Ce,2,0)),d=0,f=0}else i.head&&(i.head.extra=null);i.mode=V;case V:if(1024&i.flags&&(g=i.length,g>c&&(g=c),g&&(i.head&&(we=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),v.arraySet(i.head.extra,a,o,g,we)),512&i.flags&&(i.check=y(i.check,a,g,o)),c-=g,o+=g,i.length-=g),i.length))break e;i.length=0,i.mode=H;case H:if(2048&i.flags){if(0===c)break e;g=0;do{we=a[o+g++],i.head&&we&&i.length<65536&&(i.head.name+=String.fromCharCode(we))}while(we&&g<c);if(512&i.flags&&(i.check=y(i.check,a,g,o)),c-=g,o+=g,we)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=q;case q:if(4096&i.flags){if(0===c)break e;g=0;do{we=a[o+g++],i.head&&we&&i.length<65536&&(i.head.comment+=String.fromCharCode(we))}while(we&&g<c);if(512&i.flags&&(i.check=y(i.check,a,g,o)),c-=g,o+=g,we)break e}else i.head&&(i.head.comment=null);i.mode=W;case W:if(512&i.flags){for(;f<16;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}if(d!==(65535&i.check)){e.msg="header crc mismatch",i.mode=de;break}d=0,f=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=X;break;case G:for(;f<32;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}e.adler=i.check=n(d),d=0,f=0,i.mode=Y;case Y:if(0===i.havedict)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=c,i.hold=d,i.bits=f,D;e.adler=i.check=1,i.mode=X;case X:if(t===C||t===S)break e;case Q:if(i.last){d>>>=7&f,f-=7&f,i.mode=le;break}for(;f<3;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}switch(i.last=1&d,d>>>=1,f-=1,3&d){case 0:i.mode=J;break;case 1:if(u(i),i.mode=ie,t===S){d>>>=2,f-=2;break e}break;case 2:i.mode=$;break;case 3:e.msg="invalid block type",i.mode=de}d>>>=2,f-=2;break;case J:for(d>>>=7&f,f-=7&f;f<32;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",i.mode=de;break}if(i.length=65535&d,d=0,f=0,i.mode=Z,t===S)break e;case Z:i.mode=K;case K:if(g=i.length){if(g>c&&(g=c),g>l&&(g=l),0===g)break e;v.arraySet(r,a,o,g,s),c-=g,o+=g,l-=g,s+=g,i.length-=g;break}i.mode=X;break;case $:for(;f<14;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}if(i.nlen=257+(31&d),d>>>=5,f-=5,i.ndist=1+(31&d),d>>>=5,f-=5,i.ncode=4+(15&d),d>>>=4,f-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=de;break}i.have=0,i.mode=ee;case ee:for(;i.have<i.ncode;){for(;f<3;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}i.lens[Se[i.have++]]=7&d,d>>>=3,f-=3}for(;i.have<19;)i.lens[Se[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Ee={bits:i.lenbits},xe=w(x,i.lens,0,19,i.lencode,0,i.work,Ee),i.lenbits=Ee.bits,xe){e.msg="invalid code lengths set",i.mode=de;break}i.have=0,i.mode=te;case te:for(;i.have<i.nlen+i.ndist;){for(;Ae=i.lencode[d&(1<<i.lenbits)-1],ge=Ae>>>24,_e=Ae>>>16&255,ve=65535&Ae,!(ge<=f);){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}if(ve<16)d>>>=ge,f-=ge,i.lens[i.have++]=ve;else{if(16===ve){for(Te=ge+2;f<Te;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}if(d>>>=ge,f-=ge,0===i.have){e.msg="invalid bit length repeat",i.mode=de;break}we=i.lens[i.have-1],g=3+(3&d),d>>>=2,f-=2}else if(17===ve){for(Te=ge+3;f<Te;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}d>>>=ge,f-=ge,we=0,g=3+(7&d),d>>>=3,f-=3}else{for(Te=ge+7;f<Te;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}d>>>=ge,f-=ge,we=0,g=11+(127&d),d>>>=7,f-=7}if(i.have+g>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=de;break}for(;g--;)i.lens[i.have++]=we}}if(i.mode===de)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=de;break}if(i.lenbits=9,Ee={bits:i.lenbits},xe=w(E,i.lens,0,i.nlen,i.lencode,0,i.work,Ee),i.lenbits=Ee.bits,xe){e.msg="invalid literal/lengths set",i.mode=de;break}if(i.distbits=6,i.distcode=i.distdyn,Ee={bits:i.distbits},xe=w(T,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Ee),i.distbits=Ee.bits,xe){e.msg="invalid distances set",i.mode=de;break}if(i.mode=ie,t===S)break e;case ie:i.mode=ne;case ne:if(c>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=c,i.hold=d,i.bits=f,O(e,m),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,a=e.input,c=e.avail_in,d=i.hold,f=i.bits,i.mode===X&&(i.back=-1);break}for(i.back=0;Ae=i.lencode[d&(1<<i.lenbits)-1],ge=Ae>>>24,_e=Ae>>>16&255,ve=65535&Ae,!(ge<=f);){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}if(_e&&0==(240&_e)){for(be=ge,ye=_e,Oe=ve;Ae=i.lencode[Oe+((d&(1<<be+ye)-1)>>be)],ge=Ae>>>24,_e=Ae>>>16&255,ve=65535&Ae,!(be+ge<=f);){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}d>>>=be,f-=be,i.back+=be}if(d>>>=ge,f-=ge,i.back+=ge,i.length=ve,0===_e){i.mode=ce;break}if(32&_e){i.back=-1,i.mode=X;break}if(64&_e){e.msg="invalid literal/length code",i.mode=de;break}i.extra=15&_e,i.mode=ae;case ae:if(i.extra){for(Te=i.extra;f<Te;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}i.length+=d&(1<<i.extra)-1,d>>>=i.extra,f-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=re;case re:for(;Ae=i.distcode[d&(1<<i.distbits)-1],ge=Ae>>>24,_e=Ae>>>16&255,ve=65535&Ae,!(ge<=f);){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}if(0==(240&_e)){for(be=ge,ye=_e,Oe=ve;Ae=i.distcode[Oe+((d&(1<<be+ye)-1)>>be)],ge=Ae>>>24,_e=Ae>>>16&255,ve=65535&Ae,!(be+ge<=f);){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}d>>>=be,f-=be,i.back+=be}if(d>>>=ge,f-=ge,i.back+=ge,64&_e){e.msg="invalid distance code",i.mode=de;break}i.offset=ve,i.extra=15&_e,i.mode=oe;case oe:if(i.extra){for(Te=i.extra;f<Te;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}i.offset+=d&(1<<i.extra)-1,d>>>=i.extra,f-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=de;break}i.mode=se;case se:if(0===l)break e;if(g=m-l,i.offset>g){if((g=i.offset-g)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=de;break}g>i.wnext?(g-=i.wnext,_=i.wsize-g):_=i.wnext-g,g>i.length&&(g=i.length),me=i.window}else me=r,_=s-i.offset,g=i.length;g>l&&(g=l),l-=g,i.length-=g;do{r[s++]=me[_++]}while(--g);0===i.length&&(i.mode=ne);break;case ce:if(0===l)break e;r[s++]=i.length,l--,i.mode=ne;break;case le:if(i.wrap){for(;f<32;){if(0===c)break e;c--,d|=a[o++]<<f,f+=8}if(m-=l,e.total_out+=m,i.total+=m,m&&(e.adler=i.check=i.flags?y(i.check,r,m,s-m):b(i.check,r,m,s-m)),m=l,(i.flags?d:n(d))!==i.check){e.msg="incorrect data check",i.mode=de;break}d=0,f=0}i.mode=ue;case ue:if(i.wrap&&i.flags){for(;f<32;){if(0===c)break e;c--,d+=a[o++]<<f,f+=8}if(d!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=de;break}d=0,f=0}i.mode=he;case he:xe=P;break e;case de:xe=R;break e;case fe:return M;case pe:default:return I}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=c,i.hold=d,i.bits=f,(i.wsize||m!==e.avail_out&&i.mode<de&&(i.mode<le||t!==A))&&h(e,e.output,e.next_out,m-e.avail_out)?(i.mode=fe,M):(p-=e.avail_in,m-=e.avail_out,e.total_in+=p,e.total_out+=m,i.total+=m,i.wrap&&m&&(e.adler=i.check=i.flags?y(i.check,r,m,e.next_out-m):b(i.check,r,m,e.next_out-m)),e.data_type=i.bits+(i.last?64:0)+(i.mode===X?128:0)+(i.mode===ie||i.mode===Z?256:0),(0===p&&0===m||t===A)&&xe===j&&(xe=L),xe)}function f(e){if(!e||!e.state)return I;var t=e.state;return t.window&&(t.window=null),e.state=null,j}function p(e,t){var i;return e&&e.state?(i=e.state,0==(2&i.wrap)?I:(i.head=t,t.done=!1,j)):I}function m(e,t){var i,n,a=t.length;return e&&e.state?(i=e.state,0!==i.wrap&&i.mode!==Y?I:i.mode===Y&&(n=1,(n=b(n,t,a,0))!==i.check)?R:h(e,t,a,a)?(i.mode=fe,M):(i.havedict=1,j)):I}var g,_,v=i("gt5T"),b=i("KpjM"),y=i("2WCG"),O=i("Un+M"),w=i("K0S7"),x=0,E=1,T=2,A=4,C=5,S=6,j=0,P=1,D=2,I=-2,R=-3,M=-4,L=-5,N=8,F=1,z=2,B=3,k=4,U=5,V=6,H=7,q=8,W=9,G=10,Y=11,X=12,Q=13,J=14,Z=15,K=16,$=17,ee=18,te=19,ie=20,ne=21,ae=22,re=23,oe=24,se=25,ce=26,le=27,ue=28,he=29,de=30,fe=31,pe=32,me=852,ge=592,_e=15,ve=!0;t.inflateReset=o,t.inflateReset2=s,t.inflateResetKeep=r,t.inflateInit=l,t.inflateInit2=c,t.inflate=d,t.inflateEnd=f,t.inflateGetHeader=p,t.inflateSetDictionary=m,t.inflateInfo="pako inflate (from Nodeca project)"},"fq+p":function(e,t,i){"use strict";var n=i("Cm66"),a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c={};c.EPSILON1=.1,c.EPSILON2=.01,c.EPSILON3=.001,c.EPSILON4=1e-4,c.EPSILON5=1e-5,c.EPSILON6=1e-6,c.EPSILON7=1e-7,c.EPSILON8=1e-8,c.EPSILON9=1e-9,c.EPSILON10=1e-10,c.EPSILON11=1e-11,c.EPSILON12=1e-12,c.EPSILON13=1e-13,c.EPSILON14=1e-14,c.EPSILON15=1e-15,c.EPSILON16=1e-16,c.EPSILON17=1e-17,c.EPSILON18=1e-18,c.EPSILON19=1e-19,c.EPSILON20=1e-20,c.EPSILON21=1e-21,c.GRAVITATIONALPARAMETER=3986004418e5,c.SOLAR_RADIUS=6955e5,c.LUNAR_RADIUS=1737400,c.SIXTY_FOUR_KILOBYTES=65536,c.FOUR_GIGABYTES=4294967296,c.sign=Object(r.a)(Math.sign,function(e){return e=+e,0===e||e!==e?e:e>0?1:-1}),c.signNotZero=function(e){return e<0?-1:1},c.toSNorm=function(e,t){return t=Object(r.a)(t,255),Math.round((.5*c.clamp(e,-1,1)+.5)*t)},c.fromSNorm=function(e,t){return t=Object(r.a)(t,255),c.clamp(e,0,t)/t*2-1},c.normalize=function(e,t,i){return i=Math.max(i-t,0),0===i?0:c.clamp((e-t)/i,0,1)},c.sinh=Object(r.a)(Math.sinh,function(e){return(Math.exp(e)-Math.exp(-e))/2}),c.cosh=Object(r.a)(Math.cosh,function(e){return(Math.exp(e)+Math.exp(-e))/2}),c.lerp=function(e,t,i){return(1-i)*e+i*t},c.PI=Math.PI,c.ONE_OVER_PI=1/Math.PI,c.PI_OVER_TWO=Math.PI/2,c.PI_OVER_THREE=Math.PI/3,c.PI_OVER_FOUR=Math.PI/4,c.PI_OVER_SIX=Math.PI/6,c.THREE_PI_OVER_TWO=3*Math.PI/2,c.TWO_PI=2*Math.PI,c.ONE_OVER_TWO_PI=1/(2*Math.PI),c.RADIANS_PER_DEGREE=Math.PI/180,c.DEGREES_PER_RADIAN=180/Math.PI,c.RADIANS_PER_ARCSECOND=c.RADIANS_PER_DEGREE/3600,c.toRadians=function(e){if(!Object(o.a)(e))throw new s.a("degrees is required.");return e*c.RADIANS_PER_DEGREE},c.toDegrees=function(e){if(!Object(o.a)(e))throw new s.a("radians is required.");return e*c.DEGREES_PER_RADIAN},c.convertLongitudeRange=function(e){if(!Object(o.a)(e))throw new s.a("angle is required.");var t=c.TWO_PI,i=e-Math.floor(e/t)*t;return i<-Math.PI?i+t:i>=Math.PI?i-t:i},c.clampToLatitudeRange=function(e){if(!Object(o.a)(e))throw new s.a("angle is required.");return c.clamp(e,-1*c.PI_OVER_TWO,c.PI_OVER_TWO)},c.negativePiToPi=function(e){if(!Object(o.a)(e))throw new s.a("angle is required.");return c.zeroToTwoPi(e+c.PI)-c.PI},c.zeroToTwoPi=function(e){if(!Object(o.a)(e))throw new s.a("angle is required.");var t=c.mod(e,c.TWO_PI);return Math.abs(t)<c.EPSILON14&&Math.abs(e)>c.EPSILON14?c.TWO_PI:t},c.mod=function(e,t){if(!Object(o.a)(e))throw new s.a("m is required.");if(!Object(o.a)(t))throw new s.a("n is required.");return(e%t+t)%t},c.equalsEpsilon=function(e,t,i,n){if(!Object(o.a)(e))throw new s.a("left is required.");if(!Object(o.a)(t))throw new s.a("right is required.");if(!Object(o.a)(i))throw new s.a("relativeEpsilon is required.");n=Object(r.a)(n,i);var a=Math.abs(e-t);return a<=n||a<=i*Math.max(Math.abs(e),Math.abs(t))},c.lessThan=function(e,t,i){if(!Object(o.a)(e))throw new s.a("first is required.");if(!Object(o.a)(t))throw new s.a("second is required.");if(!Object(o.a)(i))throw new s.a("relativeEpsilon is required.");return e-t<-i},c.lessThanOrEquals=function(e,t,i){if(!Object(o.a)(e))throw new s.a("first is required.");if(!Object(o.a)(t))throw new s.a("second is required.");if(!Object(o.a)(i))throw new s.a("relativeEpsilon is required.");return e-t<i},c.greaterThan=function(e,t,i){if(!Object(o.a)(e))throw new s.a("first is required.");if(!Object(o.a)(t))throw new s.a("second is required.");if(!Object(o.a)(i))throw new s.a("relativeEpsilon is required.");return e-t>i},c.greaterThanOrEquals=function(e,t,i){if(!Object(o.a)(e))throw new s.a("first is required.");if(!Object(o.a)(t))throw new s.a("second is required.");if(!Object(o.a)(i))throw new s.a("relativeEpsilon is required.");return e-t>-i};var l=[1];c.factorial=function(e){if("number"!=typeof e||e<0)throw new s.a("A number greater than or equal to 0 is required.");var t=l.length;if(e>=t)for(var i=l[t-1],n=t;n<=e;n++){var a=i*n;l.push(a),i=a}return l[e]},c.incrementWrap=function(e,t,i){if(i=Object(r.a)(i,0),!Object(o.a)(e))throw new s.a("n is required.");if(t<=i)throw new s.a("maximumValue must be greater than minimumValue.");return++e,e>t&&(e=i),e},c.isPowerOfTwo=function(e){if("number"!=typeof e||e<0)throw new s.a("A number greater than or equal to 0 is required.");return 0!==e&&0==(e&e-1)},c.nextPowerOfTwo=function(e){if("number"!=typeof e||e<0)throw new s.a("A number greater than or equal to 0 is required.");return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},c.clamp=function(e,t,i){if(!Object(o.a)(e))throw new s.a("value is required");if(!Object(o.a)(t))throw new s.a("min is required.");if(!Object(o.a)(i))throw new s.a("max is required.");return e<t?t:e>i?i:e};var u=new n.a;c.setRandomNumberSeed=function(e){if(!Object(o.a)(e))throw new s.a("seed is required.");u=new n.a(e)},c.nextRandomNumber=function(){return u.random()},c.randomBetween=function(e,t){return c.nextRandomNumber()*(t-e)+e},c.acosClamped=function(e){if(!Object(o.a)(e))throw new s.a("value is required.");return Math.acos(c.clamp(e,-1,1))},c.asinClamped=function(e){if(!Object(o.a)(e))throw new s.a("value is required.");return Math.asin(c.clamp(e,-1,1))},c.chordLength=function(e,t){if(!Object(o.a)(e))throw new s.a("angle is required.");if(!Object(o.a)(t))throw new s.a("radius is required.");return 2*t*Math.sin(.5*e)},c.logBase=function(e,t){if(!Object(o.a)(e))throw new s.a("number is required.");if(!Object(o.a)(t))throw new s.a("base is required.");return Math.log(e)/Math.log(t)},c.cbrt=Object(r.a)(Math.cbrt,function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}),c.log2=Object(r.a)(Math.log2,function(e){return Math.log(e)*Math.LOG2E}),c.fog=function(e,t){var i=e*t;return 1-Math.exp(-i*i)},c.fastApproximateAtan=function(e){return a.a.typeOf.number("x",e),e*(-.1784*Math.abs(e)-.0663*e*e+1.0301)},c.fastApproximateAtan2=function(e,t){a.a.typeOf.number("x",e),a.a.typeOf.number("y",t);var i,n,r=Math.abs(e);i=Math.abs(t),n=Math.max(r,i),i=Math.min(r,i);var o=i/n;if(isNaN(o))throw new s.a("either x or y must be nonzero");return r=c.fastApproximateAtan(o),r=Math.abs(t)>Math.abs(e)?c.PI_OVER_TWO-r:r,r=e<0?c.PI-r:r,r=t<0?-r:r},t.a=c},"fr+a":function(e,t,i){"use strict";function n(e){var t,i=e.name,n=e.message;t=Object(a.a)(i)&&Object(a.a)(n)?i+": "+n:e.toString();var r=e.stack;return Object(a.a)(r)&&(t+="\n"+r),t}var a=i("xC6Q");t.a=n},fsSI:function(e,t,i){"use strict";function n(e,t){if(!Object(h.a)(e))throw new f.a("scene is required.");if(!Object(h.a)(t))throw new f.a("entityCollection is required.");t.collectionChanged.addEventListener(n.prototype._onCollectionChanged,this),this._scene=e,this._primitives=e.primitives,this._entityCollection=t,this._modelHash={},this._entitiesToVisualize=new s.a,this._onCollectionChanged(t,t.values,[],[])}function a(e,t,i,n){var a=i[t.id];Object(h.a)(a)&&(n.removeAndDestroy(a.modelPrimitive),delete i[t.id])}function r(e,t){var i=t[e.id];Object(h.a)(i)&&(i.nodeTransformationsScratch={},i.articulationsScratch={})}function o(e,t,i){e.readyPromise.otherwise(function(e){console.error(e),i[t.id].loadFail=!0})}var s=i("7uRt"),c=i("lBr9"),l=i("Ss9j"),u=i("6F0S"),h=i("xC6Q"),d=i("6sr8"),f=i("PzDm"),p=i("Xjii"),m=i("rMjQ"),g=i("Lx6B"),_=i("JIo7"),v=i("kRYv"),b=i("jn3B"),y=i("ARzC"),O=i("P+tD"),w=i("uhjI"),x=y.a.ENABLED,E=_.a.NONE,T=u.a.RED,A=u.a.WHITE,C=g.a.HIGHLIGHT,S=new l.a(1,1),j=new p.a,P=new p.a;n.prototype.update=function(e){if(!Object(h.a)(e))throw new f.a("time is required.");for(var t=this._entitiesToVisualize.values,i=this._modelHash,n=this._primitives,a=0,r=t.length;a<r;a++){var s,c,l=t[a],u=l._model,d=i[l.id],g=l.isShowing&&l.isAvailable(e)&&w.a.getValueOrDefault(u._show,e,!0);if(g&&(c=l.computeModelMatrix(e,j),s=m.a.createIfNeeded(w.a.getValueOrUndefined(u._uri,e)),g=Object(h.a)(c)&&Object(h.a)(s)),g){var _=Object(h.a)(d)?d.modelPrimitive:void 0;if(Object(h.a)(_)&&s.url===d.url||(Object(h.a)(_)&&(n.removeAndDestroy(_),delete i[l.id]),_=v.a.fromGltf({url:s,incrementallyLoadTextures:w.a.getValueOrDefault(u._incrementallyLoadTextures,e,!0),scene:this._scene}),_.id=l,n.add(_),d={modelPrimitive:_,url:s.url,animationsRunning:!1,nodeTransformationsScratch:{},articulationsScratch:{},loadFail:!1},i[l.id]=d,o(_,l,i)),_.show=!0,_.scale=w.a.getValueOrDefault(u._scale,e,1),_.minimumPixelSize=w.a.getValueOrDefault(u._minimumPixelSize,e,0),_.maximumScale=w.a.getValueOrUndefined(u._maximumScale,e),_.modelMatrix=p.a.clone(c,_.modelMatrix),_.shadows=w.a.getValueOrDefault(u._shadows,e,x),_.heightReference=w.a.getValueOrDefault(u._heightReference,e,E),_.distanceDisplayCondition=w.a.getValueOrUndefined(u._distanceDisplayCondition,e),_.silhouetteColor=w.a.getValueOrDefault(u._silhouetteColor,e,T,_._silhouetteColor),_.silhouetteSize=w.a.getValueOrDefault(u._silhouetteSize,e,0),_.color=w.a.getValueOrDefault(u._color,e,A,_._color),_.colorBlendMode=w.a.getValueOrDefault(u._colorBlendMode,e,C),_.colorBlendAmount=w.a.getValueOrDefault(u._colorBlendAmount,e,.5),_.clippingPlanes=w.a.getValueOrUndefined(u._clippingPlanes,e),_.clampAnimations=w.a.getValueOrDefault(u._clampAnimations,e,!0),_.imageBasedLightingFactor=w.a.getValueOrDefault(u._imageBasedLightingFactor,e,S),_.lightColor=w.a.getValueOrUndefined(u._lightColor,e),_.ready){var y=w.a.getValueOrDefault(u._runAnimations,e,!0);d.animationsRunning!==y&&(y?_.activeAnimations.addAll({loop:b.a.REPEAT}):_.activeAnimations.removeAll(),d.animationsRunning=y);var O=w.a.getValueOrUndefined(u._nodeTransformations,e,d.nodeTransformationsScratch);if(Object(h.a)(O))for(var D=Object.keys(O),I=0,R=D.length;I<R;++I){var M=D[I],L=O[M];if(Object(h.a)(L)){var N=_.getNode(M);if(Object(h.a)(N)){var F=p.a.fromTranslationRotationScale(L,P);N.matrix=p.a.multiply(N.originalMatrix,F,F)}}}var z=!1,B=w.a.getValueOrUndefined(u._articulations,e,d.articulationsScratch);if(Object(h.a)(B))for(var k=Object.keys(B),U=0,V=k.length;U<V;++U){var H=k[U],q=B[H];Object(h.a)(q)&&(z=!0,_.setArticulationStage(H,q))}z&&_.applyArticulations()}}else Object(h.a)(d)&&(d.modelPrimitive.show=!1)}return!0},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){this._entityCollection.collectionChanged.removeEventListener(n.prototype._onCollectionChanged,this);for(var e=this._entitiesToVisualize.values,t=this._modelHash,i=this._primitives,r=e.length-1;r>-1;r--)a(this,e[r],t,i);return Object(d.a)(this)},n.prototype.getBoundingSphere=function(e,t){if(!Object(h.a)(e))throw new f.a("entity is required.");if(!Object(h.a)(t))throw new f.a("result is required.");var i=this._modelHash[e.id];if(!Object(h.a)(i)||i.loadFail)return O.a.FAILED;var n=i.modelPrimitive;if(!Object(h.a)(n)||!n.show)return O.a.FAILED;if(!n.ready)return O.a.PENDING;if(n.heightReference===_.a.NONE)c.a.transform(n.boundingSphere,n.modelMatrix,t);else{if(!Object(h.a)(n._clampedModelMatrix))return O.a.PENDING;c.a.transform(n.boundingSphere,n._clampedModelMatrix,t)}return O.a.DONE},n.prototype._onCollectionChanged=function(e,t,i,n){var o,s,c=this._entitiesToVisualize,l=this._modelHash,u=this._primitives;for(o=t.length-1;o>-1;o--)s=t[o],Object(h.a)(s._model)&&Object(h.a)(s._position)&&c.set(s.id,s);for(o=n.length-1;o>-1;o--)s=n[o],Object(h.a)(s._model)&&Object(h.a)(s._position)?(r(s,l),c.set(s.id,s)):(a(this,s,l,u),c.remove(s.id));for(o=i.length-1;o>-1;o--)s=i[o],a(this,s,l,u),c.remove(s.id)},t.a=n},fu8w:function(e,t,i){"use strict";var n=i("Jj+J"),a=i("xC6Q"),r=i("PzDm"),o={};o.solve=function(e,t,i,o){if(!(Object(a.a)(e)&&e instanceof Array))throw new r.a("The array lower is required.");if(!(Object(a.a)(t)&&t instanceof Array))throw new r.a("The array diagonal is required.");if(!(Object(a.a)(i)&&i instanceof Array))throw new r.a("The array upper is required.");if(!(Object(a.a)(o)&&o instanceof Array))throw new r.a("The array right is required.");if(t.length!==o.length)throw new r.a("diagonal and right must have the same lengths.");if(e.length!==i.length)throw new r.a("lower and upper must have the same lengths.");if(e.length!==t.length-1)throw new r.a("lower and upper must be one less than the length of diagonal.");var s,c=new Array(i.length),l=new Array(o.length),u=new Array(o.length);for(s=0;s<l.length;s++)l[s]=new n.a,u[s]=new n.a;c[0]=i[0]/t[0],l[0]=n.a.multiplyByScalar(o[0],1/t[0],l[0]);var h;for(s=1;s<c.length;++s)h=1/(t[s]-c[s-1]*e[s-1]),c[s]=i[s]*h,l[s]=n.a.subtract(o[s],n.a.multiplyByScalar(l[s-1],e[s-1],l[s]),l[s]),l[s]=n.a.multiplyByScalar(l[s],h,l[s]);for(h=1/(t[s]-c[s-1]*e[s-1]),l[s]=n.a.subtract(o[s],n.a.multiplyByScalar(l[s-1],e[s-1],l[s]),l[s]),l[s]=n.a.multiplyByScalar(l[s],h,l[s]),u[u.length-1]=l[l.length-1],s=u.length-2;s>=0;--s)u[s]=n.a.subtract(l[s],n.a.multiplyByScalar(u[s+1],c[s],u[s]),u[s]);return u},t.a=o},fwwW:function(e,t,i){"use strict";function n(e,t,i,n,d){o.a.defined("point",e),o.a.defined("p0",t),o.a.defined("p1",i),o.a.defined("p2",n),Object(s.a)(d)||(d=new r.a);var f,p,m,g,_,v,b,y;if(Object(s.a)(t.z)){if(r.a.equalsEpsilon(e,t,c.a.EPSILON14))return r.a.clone(r.a.UNIT_X,d);if(r.a.equalsEpsilon(e,i,c.a.EPSILON14))return r.a.clone(r.a.UNIT_Y,d);if(r.a.equalsEpsilon(e,n,c.a.EPSILON14))return r.a.clone(r.a.UNIT_Z,d);f=r.a.subtract(i,t,l),p=r.a.subtract(n,t,u),m=r.a.subtract(e,t,h),g=r.a.dot(f,f),_=r.a.dot(f,p),v=r.a.dot(f,m),b=r.a.dot(p,p),y=r.a.dot(p,m)}else{if(a.a.equalsEpsilon(e,t,c.a.EPSILON14))return r.a.clone(r.a.UNIT_X,d);if(a.a.equalsEpsilon(e,i,c.a.EPSILON14))return r.a.clone(r.a.UNIT_Y,d);if(a.a.equalsEpsilon(e,n,c.a.EPSILON14))return r.a.clone(r.a.UNIT_Z,d);f=a.a.subtract(i,t,l),p=a.a.subtract(n,t,u),m=a.a.subtract(e,t,h),g=a.a.dot(f,f),_=a.a.dot(f,p),v=a.a.dot(f,m),b=a.a.dot(p,p),y=a.a.dot(p,m)}d.y=b*v-_*y,d.z=g*y-_*v;var O=g*b-_*_;return 0!==d.y&&(d.y/=O),0!==d.z&&(d.z/=O),d.x=1-d.y-d.z,d}var a=i("Ss9j"),r=i("Jj+J"),o=i("5F4X"),s=i("xC6Q"),c=i("fq+p"),l=new r.a,u=new r.a,h=new r.a;t.a=n},"g/FO":function(e,t,i){"use strict";var n=i("S7OP"),a=i("Ss9j"),r=i("Jj+J"),o=i("PDkd"),s=i("I3GD"),c=i("5F4X"),l=i("5A4e"),u=i("xC6Q"),h=i("PzDm"),d=i("JdjY"),f=i("VQnm"),p=i("y6fO"),m=i("72xV"),g=i("zPNK"),_=i("7mcq"),v=i("9Uqs"),b=i("fq+p"),y=i("i3sv"),O=i("Xjii"),w=i("q/xW"),x=i("9ZH6"),E={},T={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},A={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},C={},S={east:new r.a,north:new r.a,up:new r.a,west:new r.a,south:new r.a,down:new r.a},j=new r.a,P=new r.a,D=new r.a;E.localFrameToFixedFrameGenerator=function(e,t){if(!T.hasOwnProperty(e)||!T[e].hasOwnProperty(t))throw new h.a("firstAxis and secondAxis must be east, north, up, west, south or down.");var i,n=T[e][t],a=e+t;return Object(u.a)(C[a])?i=C[a]:(i=function(i,a,o){if(!Object(u.a)(i))throw new h.a("origin is required.");if(Object(u.a)(o)||(o=new O.a),r.a.equalsEpsilon(i,r.a.ZERO,b.a.EPSILON14))r.a.unpack(A[e],0,j),r.a.unpack(A[t],0,P),r.a.unpack(A[n],0,D);else if(b.a.equalsEpsilon(i.x,0,b.a.EPSILON14)&&b.a.equalsEpsilon(i.y,0,b.a.EPSILON14)){var s=b.a.sign(i.z);r.a.unpack(A[e],0,j),"east"!==e&&"west"!==e&&r.a.multiplyByScalar(j,s,j),r.a.unpack(A[t],0,P),"east"!==t&&"west"!==t&&r.a.multiplyByScalar(P,s,P),r.a.unpack(A[n],0,D),"east"!==n&&"west"!==n&&r.a.multiplyByScalar(D,s,D)}else{a=Object(l.a)(a,p.a.WGS84),a.geodeticSurfaceNormal(i,S.up);var c=S.up,d=S.east;d.x=-i.y,d.y=i.x,d.z=0,r.a.normalize(d,S.east),r.a.cross(c,d,S.north),r.a.multiplyByScalar(S.up,-1,S.down),r.a.multiplyByScalar(S.east,-1,S.west),r.a.multiplyByScalar(S.north,-1,S.south),j=S[e],P=S[t],D=S[n]}return o[0]=j.x,o[1]=j.y,o[2]=j.z,o[3]=0,o[4]=P.x,o[5]=P.y,o[6]=P.z,o[7]=0,o[8]=D.x,o[9]=D.y,o[10]=D.z,o[11]=0,o[12]=i.x,o[13]=i.y,o[14]=i.z,o[15]=1,o},C[a]=i),i},E.eastNorthUpToFixedFrame=E.localFrameToFixedFrameGenerator("east","north"),E.northEastDownToFixedFrame=E.localFrameToFixedFrameGenerator("north","east"),E.northUpEastToFixedFrame=E.localFrameToFixedFrameGenerator("north","up"),E.northWestUpToFixedFrame=E.localFrameToFixedFrameGenerator("north","west");var I=new w.a,R=new r.a(1,1,1),M=new O.a;E.headingPitchRollToFixedFrame=function(e,t,i,n,a){c.a.typeOf.object("HeadingPitchRoll",t),n=Object(l.a)(n,E.eastNorthUpToFixedFrame);var o=w.a.fromHeadingPitchRoll(t,I),s=O.a.fromTranslationQuaternionRotationScale(r.a.ZERO,o,R,M);return a=n(e,i,a),O.a.multiply(a,s,a)};var L=new O.a,N=new y.a;E.headingPitchRollQuaternion=function(e,t,i,n,a){c.a.typeOf.object("HeadingPitchRoll",t);var r=E.headingPitchRollToFixedFrame(e,t,i,n,L),o=O.a.getMatrix3(r,N);return w.a.fromRotationMatrix(o,a)};var F=new r.a(1,1,1),z=new r.a,B=new O.a,k=new O.a,U=new y.a,V=new w.a;E.fixedFrameToHeadingPitchRoll=function(e,t,i,n){c.a.defined("transform",e),t=Object(l.a)(t,p.a.WGS84),i=Object(l.a)(i,E.eastNorthUpToFixedFrame),Object(u.a)(n)||(n=new m.a);var a=O.a.getTranslation(e,z);if(r.a.equals(a,r.a.ZERO))return n.heading=0,n.pitch=0,n.roll=0,n;var o=O.a.inverseTransformation(i(a,t,B),B),s=O.a.setScale(e,F,k);s=O.a.setTranslation(s,r.a.ZERO,s),o=O.a.multiply(o,s,o);var h=w.a.fromRotationMatrix(O.a.getMatrix3(o,U),V);return h=w.a.normalize(h,h),m.a.fromQuaternion(h,n)};var H=b.a.TWO_PI/86400,q=new v.a;E.computeTemeToPseudoFixedMatrix=function(e,t){if(!Object(u.a)(e))throw new h.a("date is required.");q=v.a.addSeconds(e,-v.a.computeTaiMinusUtc(e),q);var i,n=q.dayNumber,a=q.secondsOfDay,r=n-2451545;i=a>=43200?(r+.5)/x.a.DAYS_PER_JULIAN_CENTURY:(r-.5)/x.a.DAYS_PER_JULIAN_CENTURY;var o=24110.54841+i*(8640184.812866+i*(.093104+-62e-7*i)),s=o*H%b.a.TWO_PI,c=72921158553e-15+1.1772758384668e-19*(n-2451545.5),l=(a+.5*x.a.SECONDS_PER_DAY)%x.a.SECONDS_PER_DAY,d=s+c*l,f=Math.cos(d),p=Math.sin(d);return Object(u.a)(t)?(t[0]=f,t[1]=-p,t[2]=0,t[3]=p,t[4]=f,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new y.a(f,p,0,-p,f,0,0,0,1)},E.iau2006XysData=new g.a,E.earthOrientationParameters=d.a.NONE;E.preloadIcrfFixed=function(e){var t=e.start.dayNumber,i=e.start.secondsOfDay+32.184,a=e.stop.dayNumber,r=e.stop.secondsOfDay+32.184,o=E.iau2006XysData.preload(t,i,a,r),s=E.earthOrientationParameters.getPromiseToLoad();return n.a.all([o,s])},E.computeIcrfToFixedMatrix=function(e,t){if(!Object(u.a)(e))throw new h.a("date is required.");Object(u.a)(t)||(t=new y.a);var i=E.computeFixedToIcrfMatrix(e,t);if(Object(u.a)(i))return y.a.transpose(i,t)};var W=new _.a(0,0,0),G=new f.a(0,0,0,0,0,0),Y=new y.a,X=new y.a;E.computeFixedToIcrfMatrix=function(e,t){if(!Object(u.a)(e))throw new h.a("date is required.");Object(u.a)(t)||(t=new y.a);var i=E.earthOrientationParameters.compute(e,G);if(Object(u.a)(i)){var n=e.dayNumber,a=e.secondsOfDay+32.184,r=E.iau2006XysData.computeXysRadians(n,a,W);if(Object(u.a)(r)){var o=r.x+i.xPoleOffset,s=r.y+i.yPoleOffset,c=1/(1+Math.sqrt(1-o*o-s*s)),l=Y;l[0]=1-c*o*o,l[3]=-c*o*s,l[6]=o,l[1]=-c*o*s,l[4]=1-c*s*s,l[7]=s,l[2]=-o,l[5]=-s,l[8]=1-c*(o*o+s*s);var d=y.a.fromRotationZ(-r.s,X),f=y.a.multiply(l,d,Y),p=e.dayNumber,m=e.secondsOfDay-v.a.computeTaiMinusUtc(e)+i.ut1MinusUtc,g=p-2451545,_=m/x.a.SECONDS_PER_DAY,O=.779057273264+_+.00273781191135448*(g+_);O=O%1*b.a.TWO_PI;var w=y.a.fromRotationZ(O,X),T=y.a.multiply(f,w,Y),A=Math.cos(i.xPoleWander),C=Math.cos(i.yPoleWander),S=Math.sin(i.xPoleWander),j=Math.sin(i.yPoleWander),P=n-2451545+a/x.a.SECONDS_PER_DAY;P/=36525;var D=-47e-6*P*b.a.RADIANS_PER_DEGREE/3600,I=Math.cos(D),R=Math.sin(D),M=X;return M[0]=A*I,M[1]=A*R,M[2]=S,M[3]=-C*R+j*S*I,M[4]=C*I+j*S*R,M[5]=-j*A,M[6]=-j*R-C*S*I,M[7]=j*I-C*S*R,M[8]=C*A,y.a.multiply(T,M,t)}}};var Q=new o.a;E.pointToWindowCoordinates=function(e,t,i,n){return n=E.pointToGLWindowCoordinates(e,t,i,n),n.y=2*t[5]-n.y,n},E.pointToGLWindowCoordinates=function(e,t,i,n){if(!Object(u.a)(e))throw new h.a("modelViewProjectionMatrix is required.");if(!Object(u.a)(t))throw new h.a("viewportTransformation is required.");if(!Object(u.a)(i))throw new h.a("point is required.");Object(u.a)(n)||(n=new a.a);var r=Q;return O.a.multiplyByVector(e,o.a.fromElements(i.x,i.y,i.z,1,r),r),o.a.multiplyByScalar(r,1/r.w,r),O.a.multiplyByVector(t,r,r),a.a.fromCartesian4(r,n)};var J=new r.a,Z=new r.a,K=new r.a;E.rotationMatrixFromPositionVelocity=function(e,t,i,n){if(!Object(u.a)(e))throw new h.a("position is required.");if(!Object(u.a)(t))throw new h.a("velocity is required.");var a=Object(l.a)(i,p.a.WGS84).geodeticSurfaceNormal(e,J),o=r.a.cross(t,a,Z);r.a.equalsEpsilon(o,r.a.ZERO,b.a.EPSILON6)&&(o=r.a.clone(r.a.UNIT_X,o));var s=r.a.cross(o,t,K);return r.a.normalize(s,s),r.a.cross(t,s,o),r.a.negate(o,o),r.a.normalize(o,o),Object(u.a)(n)||(n=new y.a),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=o.x,n[4]=o.y,n[5]=o.z,n[6]=s.x,n[7]=s.y,n[8]=s.z,n};var $=new O.a(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1),ee=new s.a,te=new r.a,ie=new r.a,ne=new y.a,ae=new O.a,re=new O.a;E.basisTo2D=function(e,t,i){if(!Object(u.a)(e))throw new h.a("projection is required.");if(!Object(u.a)(t))throw new h.a("matrix is required.");if(!Object(u.a)(i))throw new h.a("result is required.");var n=O.a.getTranslation(t,ie),a=e.ellipsoid,o=a.cartesianToCartographic(n,ee),s=e.project(o,te);r.a.fromElements(s.z,s.x,s.y,s);var c=E.eastNorthUpToFixedFrame(n,a,ae),l=O.a.inverseTransformation(c,re),d=O.a.getMatrix3(t,ne),f=O.a.multiplyByMatrix3(l,d,i);return O.a.multiply($,f,i),O.a.setTranslation(i,s,i),i},E.wgs84To2DModelMatrix=function(e,t,i){if(!Object(u.a)(e))throw new h.a("projection is required.");if(!Object(u.a)(t))throw new h.a("center is required.");if(!Object(u.a)(i))throw new h.a("result is required.");var n=e.ellipsoid,a=E.eastNorthUpToFixedFrame(t,n,ae),o=O.a.inverseTransformation(a,re),s=n.cartesianToCartographic(t,ee),c=e.project(s,te);r.a.fromElements(c.z,c.x,c.y,c);var l=O.a.fromTranslation(c,ae);return O.a.multiply($,o,i),O.a.multiply(l,i,i),i},t.a=E},g5zr:function(e,t,i){"use strict";/**
@license
tween.js - https://github.com/sole/tween.js

Copyright (c) 2010-2012 Tween.js authors.

Easing equations Copyright (c) 2001 Robert Penner http://robertpenner.com/easing/

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/
void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var n=n||function(){var e=[];return{REVISION:"13",getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)},update:function(t){if(0===e.length)return!1;var i=0;for(t=void 0!==t?t:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();i<e.length;)e[i].update(t)?i++:e.splice(i,1);return!0}}}();n.Tween=function(e){var t=e,i={},a={},r={},o=1e3,s=0,c=!1,l=!1,u=!1,h=0,d=null,f=n.Easing.Linear.None,p=n.Interpolation.Linear,m=[],g=null,_=!1,v=null,b=null,y=null;for(var O in e)i[O]=parseFloat(e[O],10);this.to=function(e,t){return void 0!==t&&(o=t),a=e,this},this.start=function(e){n.add(this),l=!0,_=!1,d=void 0!==e?e:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),d+=h;for(var o in a){if(a[o]instanceof Array){if(0===a[o].length)continue;a[o]=[t[o]].concat(a[o])}i[o]=t[o],i[o]instanceof Array==!1&&(i[o]*=1),r[o]=i[o]||0}return this},this.stop=function(){return l?(n.remove(this),l=!1,null!==y&&y.call(t),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var e=0,t=m.length;e<t;e++)m[e].stop()},this.delay=function(e){return h=e,this},this.repeat=function(e){return s=e,this},this.yoyo=function(e){return c=e,this},this.easing=function(e){return f=e,this},this.interpolation=function(e){return p=e,this},this.chain=function(){return m=arguments,this},this.onStart=function(e){return g=e,this},this.onUpdate=function(e){return v=e,this},this.onComplete=function(e){return b=e,this},this.onStop=function(e){return y=e,this},this.update=function(e){var n;if(e<d)return!0;!1===_&&(null!==g&&g.call(t),_=!0);var l=(e-d)/o;l=l>1?1:l;var y=f(l);for(n in a){var O=i[n]||0,w=a[n];w instanceof Array?t[n]=p(w,y):("string"==typeof w&&(w=O+parseFloat(w,10)),"number"==typeof w&&(t[n]=O+(w-O)*y))}if(null!==v&&v.call(t,y),1==l){if(s>0){isFinite(s)&&s--;for(n in r){if("string"==typeof a[n]&&(r[n]=r[n]+parseFloat(a[n],10)),c){var x=r[n];r[n]=a[n],a[n]=x}i[n]=r[n]}return c&&(u=!u),d=e+h,!0}null!==b&&b.call(t);for(var E=0,T=m.length;E<T;E++)m[E].start(e);return!1}return!0}},n.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,i=.1;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=.1):t=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},Out:function(e){var t,i=.1;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=.1):t=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},InOut:function(e){var t,i=.1;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=.1):t=.4*Math.asin(1/i)/(2*Math.PI),(e*=2)<1?i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-n.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*n.Easing.Bounce.In(2*e):.5*n.Easing.Bounce.Out(2*e-1)+.5}}},n.Interpolation={Linear:function(e,t){var i=e.length-1,a=i*t,r=Math.floor(a),o=n.Interpolation.Utils.Linear;return t<0?o(e[0],e[1],a):t>1?o(e[i],e[i-1],i-a):o(e[r],e[r+1>i?i:r+1],a-r)},Bezier:function(e,t){var i,a=0,r=e.length-1,o=Math.pow,s=n.Interpolation.Utils.Bernstein;for(i=0;i<=r;i++)a+=o(1-t,r-i)*o(t,i)*e[i]*s(r,i);return a},CatmullRom:function(e,t){var i=e.length-1,a=i*t,r=Math.floor(a),o=n.Interpolation.Utils.CatmullRom;return e[0]===e[i]?(t<0&&(r=Math.floor(a=i*(1+t))),o(e[(r-1+i)%i],e[r],e[(r+1)%i],e[(r+2)%i],a-r)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-a)-e[0]):t>1?e[i]-(o(e[i],e[i],e[i-1],e[i-1],a-i)-e[i]):o(e[r?r-1:0],e[r],e[i<r+1?i:r+1],e[i<r+2?i:r+2],a-r)},Utils:{Linear:function(e,t,i){return(t-e)*i+e},Bernstein:function(e,t){var i=n.Interpolation.Utils.Factorial;return i(e)/i(t)/i(e-t)},Factorial:function(){var e=[1];return function(t){var i,n=1;if(e[t])return e[t];for(i=t;i>1;i--)n*=i;return e[t]=n}}(),CatmullRom:function(e,t,i,n,a){var r=.5*(i-e),o=.5*(n-t),s=a*a;return(2*t-2*i+r+o)*(a*s)+(-3*t+3*i-2*r-o)*s+r*a+t}}},t.a=n},gCfi:function(e,t,i){"use strict";function n(e){throw new a.a("This type should not be instantiated directly.  Instead, use WebMercatorTilingScheme or GeographicTilingScheme.")}var a=i("PzDm");Object.defineProperties(n.prototype,{ellipsoid:{get:a.a.throwInstantiationError},rectangle:{get:a.a.throwInstantiationError},projection:{get:a.a.throwInstantiationError}}),n.prototype.getNumberOfXTilesAtLevel=a.a.throwInstantiationError,n.prototype.getNumberOfYTilesAtLevel=a.a.throwInstantiationError,n.prototype.rectangleToNativeRectangle=a.a.throwInstantiationError,n.prototype.tileXYToNativeRectangle=a.a.throwInstantiationError,n.prototype.tileXYToRectangle=a.a.throwInstantiationError,n.prototype.positionToTileXY=a.a.throwInstantiationError},gD1G:function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT);var t=e.key;this._key=a.a.getKey(t),this._resource=new c.a({url:l,queryParameters:{key:this._key}})}var a=i("uqkJ"),r=i("5F4X"),o=i("5A4e"),s=i("Wq1U"),c=i("rMjQ"),l="https://dev.virtualearth.net/REST/v1/Locations";Object.defineProperties(n.prototype,{url:{get:function(){return l}},key:{get:function(){return this._key}}}),n.prototype.geocode=function(e){return r.a.typeOf.string("query",e),this._resource.getDerivedResource({queryParameters:{query:e}}).fetchJsonp("jsonp").then(function(e){return 0===e.resourceSets.length?[]:e.resourceSets[0].resources.map(function(e){var t=e.bbox,i=t[0],n=t[1],a=t[2],r=t[3];return{displayName:e.name,destination:s.a.fromDegrees(n,i,r,a)}})})}},gDU9:function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT);var t=e.currentTime,i=e.startTime,n=e.stopTime;if(t=Object(s.a)(t)?h.a.clone(t):Object(s.a)(i)?h.a.clone(i):Object(s.a)(n)?h.a.addDays(n,-1,new h.a):h.a.now(),i=Object(s.a)(i)?h.a.clone(i):h.a.clone(t),n=Object(s.a)(n)?h.a.clone(n):h.a.addDays(i,1,new h.a),h.a.greaterThan(i,n))throw new c.a("startTime must come before stopTime.");this.startTime=i,this.stopTime=n,this.clockRange=Object(o.a)(e.clockRange,a.a.UNBOUNDED),this.canAnimate=Object(o.a)(e.canAnimate,!0),this.onTick=new l.a,this.onStop=new l.a,this._currentTime=void 0,this._multiplier=void 0,this._clockStep=void 0,this._shouldAnimate=void 0,this._lastSystemTime=Object(u.a)(),this.currentTime=t,this.multiplier=Object(o.a)(e.multiplier,1),this.shouldAnimate=Object(o.a)(e.shouldAnimate,!1),this.clockStep=Object(o.a)(e.clockStep,r.a.SYSTEM_CLOCK_MULTIPLIER)}var a=i("P5H1"),r=i("miaP"),o=i("5A4e"),s=i("xC6Q"),c=i("PzDm"),l=i("W6xh"),u=i("n08a"),h=i("9Uqs");Object.defineProperties(n.prototype,{currentTime:{get:function(){return this._currentTime},set:function(e){h.a.equals(this._currentTime,e)||(this._clockStep===r.a.SYSTEM_CLOCK&&(this._clockStep=r.a.SYSTEM_CLOCK_MULTIPLIER),this._currentTime=e)}},multiplier:{get:function(){return this._multiplier},set:function(e){this._multiplier!==e&&(this._clockStep===r.a.SYSTEM_CLOCK&&(this._clockStep=r.a.SYSTEM_CLOCK_MULTIPLIER),this._multiplier=e)}},clockStep:{get:function(){return this._clockStep},set:function(e){e===r.a.SYSTEM_CLOCK&&(this._multiplier=1,this._shouldAnimate=!0,this._currentTime=h.a.now()),this._clockStep=e}},shouldAnimate:{get:function(){return this._shouldAnimate},set:function(e){this._shouldAnimate!==e&&(this._clockStep===r.a.SYSTEM_CLOCK&&(this._clockStep=r.a.SYSTEM_CLOCK_MULTIPLIER),this._shouldAnimate=e)}}}),n.prototype.tick=function(){var e=Object(u.a)(),t=h.a.clone(this._currentTime);if(this.canAnimate&&this._shouldAnimate){var i=this._clockStep;if(i===r.a.SYSTEM_CLOCK)t=h.a.now(t);else{var n=this._multiplier;if(i===r.a.TICK_DEPENDENT)t=h.a.addSeconds(t,n,t);else{var o=e-this._lastSystemTime;t=h.a.addSeconds(t,n*(o/1e3),t)}var s=this.clockRange,c=this.startTime,l=this.stopTime;if(s===a.a.CLAMPED)h.a.lessThan(t,c)?t=h.a.clone(c,t):h.a.greaterThan(t,l)&&(t=h.a.clone(l,t),this.onStop.raiseEvent(this));else if(s===a.a.LOOP_STOP)for(h.a.lessThan(t,c)&&(t=h.a.clone(c,t));h.a.greaterThan(t,l);)t=h.a.addSeconds(c,h.a.secondsDifference(t,l),t),this.onStop.raiseEvent(this)}}return this._currentTime=t,this._lastSystemTime=e,this.onTick.raiseEvent(this),t},t.a=n},gHot:function(module,__webpack_exports__,__webpack_require__){"use strict";var tmp={};/*!
 * protobuf.js v6.7.0 (c) 2016, Daniel Wirtz
 * Compiled Wed, 22 Mar 2017 17:30:26 UTC
 * Licensed under the BSD-3-Clause License
 * see: https://github.com/dcodeIO/protobuf.js for details
 */
!function(global,undefined){!function(e,t,i){function n(i){var a=t[i];return a||e[i][0].call(a=t[i]={exports:{}},n,a,a.exports),a.exports}global.protobuf=n(i[0])}({1:[function(e,t,i){function n(e,t){for(var i=[],n=2;n<arguments.length;)i.push(arguments[n++]);var a=!0;return new Promise(function(n,r){i.push(function(e){if(a)if(a=!1,e)r(e);else{for(var t=[],i=1;i<arguments.length;)t.push(arguments[i++]);n.apply(null,t)}});try{e.apply(t||this,i)}catch(e){a&&(a=!1,r(e))}})}t.exports=n},{}],2:[function(e,t,i){var n=i;n.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&"="===e.charAt(t);)++i;return Math.ceil(3*e.length)/4-i};for(var a=new Array(64),r=new Array(123),o=0;o<64;)r[a[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;n.encode=function(e,t,i){for(var n,r=[],o=0,s=0;t<i;){var c=e[t++];switch(s){case 0:r[o++]=a[c>>2],n=(3&c)<<4,s=1;break;case 1:r[o++]=a[n|c>>4],n=(15&c)<<2,s=2;break;case 2:r[o++]=a[n|c>>6],r[o++]=a[63&c],s=0}}return s&&(r[o++]=a[n],r[o]=61,1===s&&(r[o+1]=61)),String.fromCharCode.apply(String,r)};n.decode=function(e,t,i){for(var n,a=i,o=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&o>1)break;if((c=r[c])===undefined)throw Error("invalid encoding");switch(o){case 0:n=c,o=1;break;case 1:t[i++]=n<<2|(48&c)>>4,n=c,o=2;break;case 2:t[i++]=(15&n)<<4|(60&c)>>2,n=c,o=3;break;case 3:t[i++]=(3&n)<<6|c,o=0}}if(1===o)throw Error("invalid encoding");return i-a},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,i){function n(){this._listeners={}}t.exports=n,n.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this},n.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===t?i.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,i)}return this}},{}],4:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],5:[function(e,t,i){function n(e,t,i){var n=i||8192,a=n>>>1,r=null,o=n;return function(i){if(i<1||i>a)return e(i);o+i>n&&(r=e(n),o=0);var s=t.call(r,o,o+=i);return 7&o&&(o=1+(7|o)),s}}t.exports=n},{}],6:[function(e,t,i){var n=i;n.length=function(e){for(var t=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?t+=1:i<2048?t+=2:55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,i){if(i-t<1)return"";for(var n,a=null,r=[],o=0;t<i;)n=e[t++],n<128?r[o++]=n:n>191&&n<224?r[o++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,r[o++]=55296+(n>>10),r[o++]=56320+(1023&n)):r[o++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,r)),o=0);return a?(o&&a.push(String.fromCharCode.apply(String,r.slice(0,o))),a.join("")):String.fromCharCode.apply(String,r.slice(0,o))},n.write=function(e,t,i){for(var n,a,r=i,o=0;o<e.length;++o)n=e.charCodeAt(o),n<128?t[i++]=n:n<2048?(t[i++]=n>>6|192,t[i++]=63&n|128):55296==(64512&n)&&56320==(64512&(a=e.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&a),++o,t[i++]=n>>18|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128,t[i++]=63&n|128):(t[i++]=n>>12|224,t[i++]=n>>6&63|128,t[i++]=63&n|128);return i-r}},{}],7:[function(e,t,i){function n(){a.Reader._configure(a.BufferReader),a.util._configure()}var a=i;a.build="minimal",a.roots={},a.Writer=e(14),a.BufferWriter=e(15),a.Reader=e(8),a.BufferReader=e(9),a.util=e(13),a.rpc=e(10),a.configure=n,a.Writer._configure(a.BufferWriter),n()},{10:10,13:13,14:14,15:15,8:8,9:9}],8:[function(e,t,i){function n(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function a(e){this.buf=e,this.pos=0,this.len=e.length}function r(){var e=new u(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw n(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw n(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function o(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function s(){if(this.pos+8>this.len)throw n(this,8);return new u(o(this.buf,this.pos+=4),o(this.buf,this.pos+=4))}t.exports=a;var c,l=e(13),u=l.LongBits,h=l.utf8,d="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new a(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new a(e);throw Error("illegal buffer")};a.create=l.Buffer?function(e){return(a.create=function(e){return l.Buffer.isBuffer(e)?new c(e):d(e)})(e)}:d,a.prototype._slice=l.Array.prototype.subarray||l.Array.prototype.slice,a.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,n(this,10);return e}}(),a.prototype.int32=function(){return 0|this.uint32()},a.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},a.prototype.bool=function(){return 0!==this.uint32()},a.prototype.fixed32=function(){if(this.pos+4>this.len)throw n(this,4);return o(this.buf,this.pos+=4)},a.prototype.sfixed32=function(){if(this.pos+4>this.len)throw n(this,4);return 0|o(this.buf,this.pos+=4)};var f="undefined"!=typeof Float32Array?function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=-0,t[3]?function(i,n){return t[0]=i[n],t[1]=i[n+1],t[2]=i[n+2],t[3]=i[n+3],e[0]}:function(i,n){return t[0]=i[n+3],t[1]=i[n+2],t[2]=i[n+1],t[3]=i[n],e[0]}}():function(e,t){var i=o(e,t+4),n=2*(i>>31)+1,a=i>>>23&255,r=8388607&i;return 255===a?r?NaN:n*(1/0):0===a?1.401298464324817e-45*n*r:n*Math.pow(2,a-150)*(r+8388608)};a.prototype.float=function(){if(this.pos+4>this.len)throw n(this,4);var e=f(this.buf,this.pos);return this.pos+=4,e};var p="undefined"!=typeof Float64Array?function(){var e=new Float64Array(1),t=new Uint8Array(e.buffer);return e[0]=-0,t[7]?function(i,n){return t[0]=i[n],t[1]=i[n+1],t[2]=i[n+2],t[3]=i[n+3],t[4]=i[n+4],t[5]=i[n+5],t[6]=i[n+6],t[7]=i[n+7],e[0]}:function(i,n){return t[0]=i[n+7],t[1]=i[n+6],t[2]=i[n+5],t[3]=i[n+4],t[4]=i[n+3],t[5]=i[n+2],t[6]=i[n+1],t[7]=i[n],e[0]}}():function(e,t){var i=o(e,t+4),n=o(e,t+8),a=2*(n>>31)+1,r=n>>>20&2047,s=4294967296*(1048575&n)+i;return 2047===r?s?NaN:a*(1/0):0===r?5e-324*a*s:a*Math.pow(2,r-1075)*(s+4503599627370496)};a.prototype.double=function(){if(this.pos+8>this.len)throw n(this,4);var e=p(this.buf,this.pos);return this.pos+=8,e},a.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw n(this,e);return this.pos+=e,t===i?new this.buf.constructor(0):this._slice.call(this.buf,t,i)},a.prototype.string=function(){var e=this.bytes();return h.read(e,0,e.length)},a.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw n(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw n(this)}while(128&this.buf[this.pos++]);return this},a.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;;){if(4==(e=7&this.uint32()))break;this.skipType(e)}break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},a._configure=function(e){c=e;var t=l.Long?"toLong":"toNumber";l.merge(a.prototype,{int64:function(){return r.call(this)[t](!1)},uint64:function(){return r.call(this)[t](!0)},sint64:function(){return r.call(this).zzDecode()[t](!1)},fixed64:function(){return s.call(this)[t](!0)},sfixed64:function(){return s.call(this)[t](!1)}})}},{13:13}],9:[function(e,t,i){function n(e){a.call(this,e)}t.exports=n;var a=e(8);(n.prototype=Object.create(a.prototype)).constructor=n;var r=e(13);r.Buffer&&(n.prototype._slice=r.Buffer.prototype.slice),n.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},{13:13,8:8}],10:[function(e,t,i){i.Service=e(11)},{11:11}],11:[function(e,t,i){function n(e,t,i){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");a.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(i)}t.exports=n;var a=e(13);(n.prototype=Object.create(a.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function e(t,i,n,r,o){if(!r)throw TypeError("request must be specified");var s=this;if(!o)return a.asPromise(e,s,t,i,n,r);if(!s.rpcImpl)return setTimeout(function(){o(Error("already ended"))},0),undefined;try{return s.rpcImpl(t,i[s.requestDelimited?"encodeDelimited":"encode"](r).finish(),function(e,i){if(e)return s.emit("error",e,t),o(e);if(null===i)return s.end(!0),undefined;if(!(i instanceof n))try{i=n[s.responseDelimited?"decodeDelimited":"decode"](i)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",i,t),o(null,i)})}catch(e){return s.emit("error",e,t),setTimeout(function(){o(e)},0),undefined}},n.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{13:13}],12:[function(e,t,i){function n(e,t){this.lo=e>>>0,this.hi=t>>>0}t.exports=n;var a=e(13),r=n.zero=new n(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var o=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(e){if(0===e)return r;var t=e<0;t&&(e=-e);var i=e>>>0,a=(e-i)/4294967296>>>0;return t&&(a=~a>>>0,i=~i>>>0,++i>4294967295&&(i=0,++a>4294967295&&(a=0))),new n(i,a)},n.from=function(e){if("number"==typeof e)return n.fromNumber(e);if(a.isString(e)){if(!a.Long)return n.fromNumber(parseInt(e,10));e=a.Long.fromString(e)}return e.low||e.high?new n(e.low>>>0,e.high>>>0):r},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+4294967296*i)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(e){return a.Long?new a.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;n.fromHash=function(e){return e===o?r:new n((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}},{13:13}],13:[function(e,t,i){function n(e,t,i){for(var n=Object.keys(t),a=0;a<n.length;++a)e[n[a]]!==undefined&&i||(e[n[a]]=t[n[a]]);return e}function a(e){function t(e,i){if(!(this instanceof t))return new t(e,i);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),i&&n(this,i)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}var r=i;r.asPromise=e(1),r.base64=e(2),r.EventEmitter=e(3),r.inquire=e(4),r.utf8=e(6),r.pool=e(5),r.LongBits=e(12),r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(global.process&&global.process.versions&&global.process.versions.node),r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=global.dcodeIO&&global.dcodeIO.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var i=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(i.lo,i.hi,t):i.toNumber(Boolean(t))},r.merge=n,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=a,r.ProtocolError=a("ProtocolError"),r.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var e=Object.keys(this),i=e.length-1;i>-1;--i)if(1===t[e[i]]&&this[e[i]]!==undefined&&null!==this[e[i]])return e[i]}},r.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}},r.lazyResolve=function(e,t){for(var i=0;i<t.length;++i)for(var n=Object.keys(t[i]),a=0;a<n.length;++a){for(var r=t[i][n[a]].split("."),o=e;r.length;)o=o[r.shift()];t[i][n[a]]=o}},r.toJSONOptions={longs:String,enums:String,bytes:String},r._configure=function(){var e=r.Buffer;if(!e)return void(r._Buffer_from=r._Buffer_allocUnsafe=null);r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,i){return new e(t,i)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},{1:1,12:12,2:2,3:3,4:4,5:5,6:6}],14:[function(e,t,i){function n(e,t,i){this.fn=e,this.len=t,this.next=undefined,this.val=i}function a(){}function r(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function o(){this.len=0,this.head=new n(a,0,0),this.tail=this.head,this.states=null}function s(e,t,i){t[i]=255&e}function c(e,t,i){for(;e>127;)t[i++]=127&e|128,e>>>=7;t[i]=e}function l(e,t){this.len=e,this.next=undefined,this.val=t}function u(e,t,i){for(;e.hi;)t[i++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[i++]=127&e.lo|128,e.lo=e.lo>>>7;t[i++]=e.lo}function h(e,t,i){t[i++]=255&e,t[i++]=e>>>8&255,t[i++]=e>>>16&255,t[i]=e>>>24}t.exports=o;var d,f=e(13),p=f.LongBits,m=f.base64,g=f.utf8;o.create=f.Buffer?function(){return(o.create=function(){return new d})()}:function(){return new o},o.alloc=function(e){return new f.Array(e)},f.Array!==Array&&(o.alloc=f.pool(o.alloc,f.Array.prototype.subarray)),o.prototype.push=function(e,t,i){return this.tail=this.tail.next=new n(e,t,i),this.len+=t,this},l.prototype=Object.create(n.prototype),l.prototype.fn=c,o.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new l((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},o.prototype.int32=function(e){return e<0?this.push(u,10,p.fromNumber(e)):this.uint32(e)},o.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},o.prototype.uint64=function(e){var t=p.from(e);return this.push(u,t.length(),t)},o.prototype.int64=o.prototype.uint64,o.prototype.sint64=function(e){var t=p.from(e).zzEncode();return this.push(u,t.length(),t)},o.prototype.bool=function(e){return this.push(s,1,e?1:0)},o.prototype.fixed32=function(e){return this.push(h,4,e>>>0)},o.prototype.sfixed32=o.prototype.fixed32,o.prototype.fixed64=function(e){var t=p.from(e);return this.push(h,4,t.lo).push(h,4,t.hi)},o.prototype.sfixed64=o.prototype.fixed64;var _="undefined"!=typeof Float32Array?function(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=-0,t[3]?function(i,n,a){e[0]=i,n[a++]=t[0],n[a++]=t[1],n[a++]=t[2],n[a]=t[3]}:function(i,n,a){e[0]=i,n[a++]=t[3],n[a++]=t[2],n[a++]=t[1],n[a]=t[0]}}():function(e,t,i){var n=e<0?1:0;if(n&&(e=-e),0===e)h(1/e>0?0:2147483648,t,i);else if(isNaN(e))h(2147483647,t,i);else if(e>3.4028234663852886e38)h((n<<31|2139095040)>>>0,t,i);else if(e<1.1754943508222875e-38)h((n<<31|Math.round(e/1.401298464324817e-45))>>>0,t,i);else{var a=Math.floor(Math.log(e)/Math.LN2),r=8388607&Math.round(e*Math.pow(2,-a)*8388608);h((n<<31|a+127<<23|r)>>>0,t,i)}};o.prototype.float=function(e){return this.push(_,4,e)};var v="undefined"!=typeof Float64Array?function(){var e=new Float64Array(1),t=new Uint8Array(e.buffer);return e[0]=-0,t[7]?function(i,n,a){e[0]=i,n[a++]=t[0],n[a++]=t[1],n[a++]=t[2],n[a++]=t[3],n[a++]=t[4],n[a++]=t[5],n[a++]=t[6],n[a]=t[7]}:function(i,n,a){e[0]=i,n[a++]=t[7],n[a++]=t[6],n[a++]=t[5],n[a++]=t[4],n[a++]=t[3],n[a++]=t[2],n[a++]=t[1],n[a]=t[0]}}():function(e,t,i){var n=e<0?1:0;if(n&&(e=-e),0===e)h(0,t,i),h(1/e>0?0:2147483648,t,i+4);else if(isNaN(e))h(4294967295,t,i),h(2147483647,t,i+4);else if(e>1.7976931348623157e308)h(0,t,i),h((n<<31|2146435072)>>>0,t,i+4);else{var a;if(e<2.2250738585072014e-308)a=e/5e-324,h(a>>>0,t,i),h((n<<31|a/4294967296)>>>0,t,i+4);else{var r=Math.floor(Math.log(e)/Math.LN2);1024===r&&(r=1023),a=e*Math.pow(2,-r),h(4503599627370496*a>>>0,t,i),h((n<<31|r+1023<<20|1048576*a&1048575)>>>0,t,i+4)}}};o.prototype.double=function(e){return this.push(v,8,e)};var b=f.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var n=0;n<e.length;++n)t[i+n]=e[n]};o.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this.push(s,1,0);if(f.isString(e)){var i=o.alloc(t=m.length(e));m.decode(e,i,0),e=i}return this.uint32(t).push(b,t,e)},o.prototype.string=function(e){var t=g.length(e);return t?this.uint32(t).push(g.write,t,e):this.push(s,1,0)},o.prototype.fork=function(){return this.states=new r(this),this.head=this.tail=new n(a,0,0),this.len=0,this},o.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new n(a,0,0),this.len=0),this},o.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this},o.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t},o._configure=function(e){d=e}},{13:13}],15:[function(e,t,i){function n(){r.call(this)}function a(e,t,i){e.length<40?o.utf8.write(e,t,i):t.utf8Write(e,i)}t.exports=n;var r=e(14);(n.prototype=Object.create(r.prototype)).constructor=n;var o=e(13),s=o.Buffer;n.alloc=function(e){return(n.alloc=o._Buffer_allocUnsafe)(e)};var c=s&&s.prototype instanceof Uint8Array&&"set"===s.prototype.set.name?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var n=0;n<e.length;)t[i++]=e[n++]};n.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this.push(c,t,e),this},n.prototype.string=function(e){var t=s.byteLength(e);return this.uint32(t),t&&this.push(a,t,e),this}},{13:13,14:14}]},{},[7])}(tmp),__webpack_exports__.a=tmp.protobuf},gLPK:function(e,t,i){"use strict";function n(e,t){this._tilingScheme=e,this._maximumLevel=t,this._rootNodes=[]}function a(e,t,i,n){for(var a=n.length,r=0;r<a;++r){var o=n[r];if(o.x===t&&o.y===i&&o.level===e)return!0}return!1}function r(e,t,i,n,a){this.tilingScheme=e,this.parent=t,this.level=i,this.x=n,this.y=a,this.extent=e.tileXYToRectangle(n,a,i),this.rectangles=[],this._sw=void 0,this._se=void 0,this._nw=void 0,this._ne=void 0}function o(e,t,i,n,a){this.level=e,this.west=t,this.south=i,this.east=n,this.north=a}function s(e,t){var i=Math.max(e.west,t.west),n=Math.max(e.south,t.south),a=Math.min(e.east,t.east);return n<Math.min(e.north,t.north)&&i<a}function c(e,t,i){for(;t.level<e;)if(u(t.nw.extent,i))t=t.nw;else if(u(t.ne.extent,i))t=t.ne;else if(u(t.sw.extent,i))t=t.sw;else{if(!u(t.se.extent,i))break;t=t.se}if(0===t.rectangles.length||t.rectangles[t.rectangles.length-1].level<=i.level)t.rectangles.push(i);else{var n=Object(m.a)(t.rectangles,i.level,l);n<=0&&(n=~n),t.rectangles.splice(n,0,i)}}function l(e,t){return e.level-t}function u(e,t){return t.west>=e.west&&t.east<=e.east&&t.south>=e.south&&t.north<=e.north}function h(e,t){return t.longitude>=e.west&&t.longitude<=e.east&&t.latitude>=e.south&&t.latitude<=e.north}function d(e,t,i){for(var n=0,a=!1;!a;){var r=t._nw&&h(t._nw.extent,i),o=t._ne&&h(t._ne.extent,i),s=t._sw&&h(t._sw.extent,i),c=t._se&&h(t._se.extent,i);if(r+o+s+c>1){r&&(n=Math.max(n,d(t,t._nw,i))),o&&(n=Math.max(n,d(t,t._ne,i))),s&&(n=Math.max(n,d(t,t._sw,i))),c&&(n=Math.max(n,d(t,t._se,i)));break}r?t=t._nw:o?t=t._ne:s?t=t._sw:c?t=t._se:a=!0}for(;t!==e;){for(var l=t.rectangles,u=l.length-1;u>=0&&l[u].level>n;--u){var f=l[u];h(f,i)&&(n=f.level)}t=t.parent}return n}function f(e,t,i){if(t){var n,a=!1;for(n=0;n<i.length;++n)a=a||s(t.extent,i[n]);if(a){var r=t.rectangles;for(n=0;n<r.length;++n){var o=r[n];e[o.level]||(e[o.level]=i),e[o.level]=p(e[o.level],o)}f(e,t._nw,i),f(e,t._ne,i),f(e,t._sw,i),f(e,t._se,i)}}}function p(e,t){for(var i=[],n=0;n<e.length;++n){var a=e[n];s(a,t)?(a.west<t.west&&i.push(new v.a(a.west,a.south,t.west,a.north)),a.east>t.east&&i.push(new v.a(t.east,a.south,a.east,a.north)),a.south<t.south&&i.push(new v.a(Math.max(t.west,a.west),a.south,Math.min(t.east,a.east),t.south)),a.north>t.north&&i.push(new v.a(Math.max(t.west,a.west),t.north,Math.min(t.east,a.east),a.north))):i.push(a)}return i}var m=i("KPbu"),g=i("I3GD"),_=i("xC6Q"),v=i("Wq1U"),b=new v.a;n.prototype.addAvailableTileRange=function(e,t,i,n,l){var u=this._tilingScheme,h=this._rootNodes;if(0===e)for(var d=i;d<=l;++d)for(var f=t;f<=n;++f)a(e,f,d,h)||h.push(new r(u,void 0,0,f,d));u.tileXYToRectangle(t,i,e,b);var p=b.west,m=b.north;u.tileXYToRectangle(n,l,e,b);for(var g=b.east,_=b.south,v=new o(e,p,_,g,m),y=0;y<h.length;++y){var O=h[y];s(O.extent,v)&&c(this._maximumLevel,O,v)}},n.prototype.computeMaximumLevelAtPosition=function(e){for(var t,i=0;i<this._rootNodes.length;++i){var n=this._rootNodes[i];if(h(n.extent,e)){t=n;break}}return Object(_.a)(t)?d(void 0,t,e):-1};var y=[],O=[],w=new v.a,x=new v.a;n.prototype.computeBestAvailableLevelOverRectangle=function(e){var t=y;t.length=0,e.east<e.west?(t.push(v.a.fromRadians(-Math.PI,e.south,e.east,e.north,w)),t.push(v.a.fromRadians(e.west,e.south,Math.PI,e.north,x))):t.push(e);var i=O;i.length=0;var n;for(n=0;n<this._rootNodes.length;++n)f(i,this._rootNodes[n],t);for(n=i.length-1;n>=0;--n)if(Object(_.a)(i[n])&&0===i[n].length)return n;return 0};var E=new g.a;n.prototype.isTileAvailable=function(e,t,i){var n=this._tilingScheme.tileXYToRectangle(t,i,e,b);return v.a.center(n,E),this.computeMaximumLevelAtPosition(E)>=e},n.prototype.computeChildMaskForTile=function(e,t,i){var n=e+1;if(n>=this._maximumLevel)return 0;var a=0;return a|=this.isTileAvailable(n,2*t,2*i+1)?1:0,a|=this.isTileAvailable(n,2*t+1,2*i+1)?2:0,a|=this.isTileAvailable(n,2*t,2*i)?4:0,a|=this.isTileAvailable(n,2*t+1,2*i)?8:0},Object.defineProperties(r.prototype,{nw:{get:function(){return this._nw||(this._nw=new r(this.tilingScheme,this,this.level+1,2*this.x,2*this.y)),this._nw}},ne:{get:function(){return this._ne||(this._ne=new r(this.tilingScheme,this,this.level+1,2*this.x+1,2*this.y)),this._ne}},sw:{get:function(){return this._sw||(this._sw=new r(this.tilingScheme,this,this.level+1,2*this.x,2*this.y+1)),this._sw}},se:{get:function(){return this._se||(this._se=new r(this.tilingScheme,this,this.level+1,2*this.x+1,2*this.y+1)),this._se}}}),t.a=n},gR7S:function(e,t,i){"use strict";var n=i("PzDm"),a={};a.type=void 0,a.getRequiredDataPoints=n.a.throwInstantiationError,a.interpolateOrderZero=n.a.throwInstantiationError,a.interpolate=n.a.throwInstantiationError},gSHj:function(e,t,i){"use strict";t.a="/**\n * A built-in GLSL floating-point constant for converting radians to degrees.\n *\n * @alias czm_degreesPerRadian\n * @glslConstant\n *\n * @see CesiumMath.DEGREES_PER_RADIAN\n *\n * @example\n * // GLSL declaration\n * const float czm_degreesPerRadian = ...;\n *\n * // Example\n * float deg = czm_degreesPerRadian * rad;\n */\nconst float czm_degreesPerRadian = 57.29577951308232;\n"},gcUb:function(e,t,i){"use strict";var n=i("7ar3"),a=i("WER7"),r=a(n("String.prototype.indexOf"));e.exports=function(e,t){var i=n(e,!!t);return"function"==typeof i&&r(e,".prototype.")>-1?a(i):i}},gfcf:function(e,t,i){"use strict";t.a="varying vec4 v_color;\nvarying vec4 v_outlineColor;\nvarying float v_innerPercent;\nvarying float v_pixelDistance;\nvarying vec4 v_pickColor;\n\nvoid main()\n{\n    // The distance in UV space from this fragment to the center of the point, at most 0.5.\n    float distanceToCenter = length(gl_PointCoord - vec2(0.5));\n    // The max distance stops one pixel shy of the edge to leave space for anti-aliasing.\n    float maxDistance = max(0.0, 0.5 - v_pixelDistance);\n    float wholeAlpha = 1.0 - smoothstep(maxDistance, 0.5, distanceToCenter);\n    float innerAlpha = 1.0 - smoothstep(maxDistance * v_innerPercent, 0.5 * v_innerPercent, distanceToCenter);\n\n    vec4 color = mix(v_outlineColor, v_color, innerAlpha);\n    color.a *= wholeAlpha;\n\n// Fully transparent parts of the billboard are not pickable.\n#if !defined(OPAQUE) && !defined(TRANSLUCENT)\n    if (color.a < 0.005)   // matches 0/255 and 1/255\n    {\n        discard;\n    }\n#else\n// The billboard is rendered twice. The opaque pass discards translucent fragments\n// and the translucent pass discards opaque fragments.\n#ifdef OPAQUE\n    if (color.a < 0.995)   // matches < 254/255\n    {\n        discard;\n    }\n#else\n    if (color.a >= 0.995)  // matches 254/255 and 255/255\n    {\n        discard;\n    }\n#endif\n#endif\n\n    gl_FragColor = czm_gammaCorrect(color);\n    czm_writeLogDepth();\n}\n"},giWl:function(e,t,i){"use strict";var n={NONE:0,LERC:1};t.a=Object.freeze(n)},gjak:function(e,t,i){"use strict";function n(e,t,i){if(i=Object(a.a)(i,!1)){var n=e.indexOf(t);if(n>-1)return n}return e.push(t),e.length-1}var a=i("5A4e");t.a=n},gjtw:function(e,t,i){"use strict";function n(e){for(var t=e.split("."),i=0,n=t.length;i<n;++i)t[i]=parseInt(t[i],10);return t}function a(){if(!Object(E.a)(C)&&(C=!1,!d())){var e=/ Chrome\/([\.0-9]+)/.exec(O.userAgent);null!==e&&(C=!0,S=n(e[1]))}return C}function r(){return a()&&S}function o(){if(!Object(E.a)(j)&&(j=!1,!a()&&!d()&&/ Safari\/[\.0-9]+/.test(O.userAgent))){var e=/ Version\/([\.0-9]+)/.exec(O.userAgent);null!==e&&(j=!0,P=n(e[1]))}return j}function s(){return o()&&P}function c(){if(!Object(E.a)(D)){D=!1;var e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(O.userAgent);null!==e&&(D=!0,I=n(e[1]),I.isNightly=!!e[2])}return D}function l(){return c()&&I}function u(){if(!Object(E.a)(R)){R=!1;var e;"Microsoft Internet Explorer"===O.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(O.userAgent))&&(R=!0,M=n(e[1])):"Netscape"===O.appName&&null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(O.userAgent))&&(R=!0,M=n(e[1]))}return R}function h(){return u()&&M}function d(){if(!Object(E.a)(L)){L=!1;var e=/ Edge\/([\.0-9]+)/.exec(O.userAgent);null!==e&&(L=!0,N=n(e[1]))}return L}function f(){return d()&&N}function p(){if(!Object(E.a)(F)){F=!1;var e=/Firefox\/([\.0-9]+)/.exec(O.userAgent);null!==e&&(F=!0,z=n(e[1]))}return F}function m(){return Object(E.a)(B)||(B=/Windows/i.test(O.appVersion)),B}function g(){return p()&&z}function _(){return Object(E.a)(k)||(k=!p()&&"undefined"!=typeof PointerEvent&&(!Object(E.a)(O.pointerEnabled)||O.pointerEnabled)),k}function v(){if(!Object(E.a)(V)){var e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");var t=e.style.imageRendering;V=Object(E.a)(t)&&""!==t,V&&(U=t)}return V}function b(){return v()?U:void 0}function y(){if(!y.initialized)throw new T.a("You must call FeatureDetection.supportsWebP.initialize and wait for the promise to resolve before calling FeatureDetection.supportsWebP");return y._result}var O,w=i("S7OP"),x=i("5A4e"),E=i("xC6Q"),T=i("PzDm"),A=i("fH8I");O="undefined"!=typeof navigator?navigator:{};var C,S,j,P,D,I,R,M,L,N,F,z,B,k,U,V;y._promise=void 0,y._result=void 0,y.initialize=function(){if(Object(E.a)(y._promise))return y._promise;var e=w.a.defer();if(y._promise=e.promise,d())return y._result=!1,e.resolve(y._result),e.promise;var t=new Image;return t.onload=function(){y._result=t.width>0&&t.height>0,e.resolve(y._result)},t.onerror=function(){y._result=!1,e.resolve(y._result)},t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.promise},Object.defineProperties(y,{initialized:{get:function(){return Object(E.a)(y._result)}}});var H=[];"undefined"!=typeof ArrayBuffer&&(H.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"undefined"!=typeof Uint8ClampedArray&&H.push(Uint8ClampedArray),"undefined"!=typeof CanvasPixelArray&&H.push(CanvasPixelArray));var q={isChrome:a,chromeVersion:r,isSafari:o,safariVersion:s,isWebkit:c,webkitVersion:l,isInternetExplorer:u,internetExplorerVersion:h,isEdge:d,edgeVersion:f,isFirefox:p,firefoxVersion:g,isWindows:m,hardwareConcurrency:Object(x.a)(O.hardwareConcurrency,3),supportsPointerEvents:_,supportsImageRenderingPixelated:v,supportsWebP:y,imageRenderingValue:b,typedArrayTypes:H};q.supportsFullscreen=function(){return A.a.supportsFullscreen()},q.supportsTypedArrays=function(){return"undefined"!=typeof ArrayBuffer},q.supportsWebWorkers=function(){return"undefined"!=typeof Worker},q.supportsWebAssembly=function(){return"undefined"!=typeof WebAssembly&&!q.isEdge()},t.a=q},gkaR:function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\nuniform float contrast;\nuniform float brightness;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main(void)\n{\n    vec3 sceneColor = texture2D(colorTexture, v_textureCoordinates).xyz;\n    sceneColor = czm_RGBToHSB(sceneColor);\n    sceneColor.z += brightness;\n    sceneColor = czm_HSBToRGB(sceneColor);\n\n    float factor = (259.0 * (contrast + 255.0)) / (255.0 * (259.0 - contrast));\n    sceneColor = factor * (sceneColor - vec3(0.5)) + vec3(0.5);\n    gl_FragColor = vec4(sceneColor, 1.0);\n}\n"},gqYB:function(e,t,i){"use strict";function n(){}function a(e,t){return"#"===t[0]&&(t=ci+t),Jt.a.fromString(e,t)}function r(e,t,i){if(Object(Ne.a)(i.reference))return a(t,i.reference);if(Object(Ne.a)(i.velocityReference)){var r=a(t,i.velocityReference);switch(e){case Ce.a:case n:return new ri.a(r,e===n);case Ze.a:return new ai.a(r)}}throw new tt.a(JSON.stringify(i)+" is not valid CZML.")}function o(e,t){return new gt.a(function(i,n){return t(e.getValue(i,n))},e.isConstant)}function s(e){var t=e.rgbaf;if(Object(Ne.a)(t))return t;var i=e.rgba;if(Object(Ne.a)(i)){var n=i.length;if(n===De.a.packedLength)return[De.a.byteToFloat(i[0]),De.a.byteToFloat(i[1]),De.a.byteToFloat(i[2]),De.a.byteToFloat(i[3])];t=new Array(n);for(var a=0;a<n;a+=5)t[a]=i[a],t[a+1]=De.a.byteToFloat(i[a+1]),t[a+2]=De.a.byteToFloat(i[a+2]),t[a+3]=De.a.byteToFloat(i[a+3]),t[a+4]=De.a.byteToFloat(i[a+4]);return t}}function c(e,t){var i=Object(Le.a)(e.uri,e);return Object(Ne.a)(t)?t.getDerivedResource({url:i}):et.a.createIfNeeded(i)}function l(e){var t=e.wsen;if(Object(Ne.a)(t))return t;var i=e.wsenDegrees;if(Object(Ne.a)(i)){var n=i.length;if(n===Ke.a.packedLength)return[Xe.a.toRadians(i[0]),Xe.a.toRadians(i[1]),Xe.a.toRadians(i[2]),Xe.a.toRadians(i[3])];t=new Array(n);for(var a=0;a<n;a+=5)t[a]=i[a],t[a+1]=Xe.a.toRadians(i[a+1]),t[a+2]=Xe.a.toRadians(i[a+2]),t[a+3]=Xe.a.toRadians(i[a+3]),t[a+4]=Xe.a.toRadians(i[a+4]);return t}}function u(e){var t=e.length;if(ui.magnitude=1,2===t)return ui.clock=e[0],ui.cone=e[1],Ce.a.fromSpherical(ui,li),[li.x,li.y,li.z];for(var i=new Array(t/3*4),n=0,a=0;n<t;n+=3,a+=4)i[a]=e[n],ui.clock=e[n+1],ui.cone=e[n+2],Ce.a.fromSpherical(ui,li),i[a+1]=li.x,i[a+2]=li.y,i[a+3]=li.z;return i}function h(e){var t=e.length;if(3===t)return ui.clock=e[0],ui.cone=e[1],ui.magnitude=e[2],Ce.a.fromSpherical(ui,li),[li.x,li.y,li.z];for(var i=new Array(t),n=0;n<t;n+=4)i[n]=e[n],ui.clock=e[n+1],ui.cone=e[n+2],ui.magnitude=e[n+3],Ce.a.fromSpherical(ui,li),i[n+1]=li.x,i[n+2]=li.y,i[n+3]=li.z;return i}function d(e){var t=e.length;if(3===t)return hi.longitude=e[0],hi.latitude=e[1],hi.height=e[2],Be.a.WGS84.cartographicToCartesian(hi,li),[li.x,li.y,li.z];for(var i=new Array(t),n=0;n<t;n+=4)i[n]=e[n],hi.longitude=e[n+1],hi.latitude=e[n+2],hi.height=e[n+3],Be.a.WGS84.cartographicToCartesian(hi,li),i[n+1]=li.x,i[n+2]=li.y,i[n+3]=li.z;return i}function f(e){var t=e.length;if(3===t)return hi.longitude=Xe.a.toRadians(e[0]),hi.latitude=Xe.a.toRadians(e[1]),hi.height=e[2],Be.a.WGS84.cartographicToCartesian(hi,li),[li.x,li.y,li.z];for(var i=new Array(t),n=0;n<t;n+=4)i[n]=e[n],hi.longitude=Xe.a.toRadians(e[n+1]),hi.latitude=Xe.a.toRadians(e[n+2]),hi.height=e[n+3],Be.a.WGS84.cartographicToCartesian(hi,li),i[n+1]=li.x,i[n+2]=li.y,i[n+3]=li.z;return i}function p(e){var t=e.cartesian;if(Object(Ne.a)(t))return t;var i=e.cartesianVelocity;if(Object(Ne.a)(i))return i;var n=e.unitCartesian;if(Object(Ne.a)(n))return n;var a=e.unitSpherical;if(Object(Ne.a)(a))return u(a);var r=e.spherical;if(Object(Ne.a)(r))return h(r);var o=e.cartographicRadians;if(Object(Ne.a)(o))return d(o);var s=e.cartographicDegrees;if(Object(Ne.a)(s))return f(s);throw new tt.a(JSON.stringify(e)+" is not a valid CZML interval.")}function m(e,t){Ce.a.unpack(e,t,li),Ce.a.normalize(li,li),Ce.a.pack(li,e,t)}function g(e){var t=p(e);if(3===t.length)return m(t,0),t;for(var i=1;i<t.length;i+=4)m(t,i);return t}function _(e,t){Ze.a.unpack(e,t,fi),Ze.a.normalize(fi,fi),Ze.a.pack(fi,e,t)}function v(e){var t=e.unitQuaternion;if(Object(Ne.a)(t)){if(4===t.length)return _(t,0),t;for(var i=1;i<t.length;i+=5)_(t,i)}return t}function b(e){return"boolean"==typeof e?Boolean:"number"==typeof e?Number:"string"==typeof e?String:e.hasOwnProperty("array")?Array:e.hasOwnProperty("boolean")?Boolean:e.hasOwnProperty("boundingRectangle")?Te.a:e.hasOwnProperty("cartesian2")?Ae.a:e.hasOwnProperty("cartesian")||e.hasOwnProperty("spherical")||e.hasOwnProperty("cartographicRadians")||e.hasOwnProperty("cartographicDegrees")?Ce.a:e.hasOwnProperty("unitCartesian")||e.hasOwnProperty("unitSpherical")?n:e.hasOwnProperty("rgba")||e.hasOwnProperty("rgbaf")?De.a:e.hasOwnProperty("arcType")?Ee.a:e.hasOwnProperty("classificationType")?rt.a:e.hasOwnProperty("colorBlendMode")?ot.a:e.hasOwnProperty("cornerType")?Ie.a:e.hasOwnProperty("heightReference")?st.a:e.hasOwnProperty("horizontalOrigin")?ct.a:e.hasOwnProperty("date")?We.a:e.hasOwnProperty("labelStyle")?lt.a:e.hasOwnProperty("number")?Number:e.hasOwnProperty("nearFarScalar")?Qe.a:e.hasOwnProperty("distanceDisplayCondition")?ze.a:e.hasOwnProperty("object")||e.hasOwnProperty("value")?Object:e.hasOwnProperty("unitQuaternion")?Ze.a:e.hasOwnProperty("shadowMode")?ut.a:e.hasOwnProperty("string")?String:e.hasOwnProperty("stripeOrientation")?ti.a:e.hasOwnProperty("wsen")||e.hasOwnProperty("wsenDegrees")?Ke.a:e.hasOwnProperty("uri")?dt.a:e.hasOwnProperty("verticalOrigin")?ht.a:Object}function y(e,t,i){switch(e){case Ee.a:return Ee.a[Object(Le.a)(t.arcType,t)];case Array:return t.array;case Boolean:return Object(Le.a)(t.boolean,t);case Te.a:return t.boundingRectangle;case Ae.a:return t.cartesian2;case Ce.a:return p(t);case n:return g(t);case De.a:return s(t);case rt.a:return rt.a[Object(Le.a)(t.classificationType,t)];case ot.a:return ot.a[Object(Le.a)(t.colorBlendMode,t)];case Ie.a:return Ie.a[Object(Le.a)(t.cornerType,t)];case st.a:return st.a[Object(Le.a)(t.heightReference,t)];case ct.a:return ct.a[Object(Le.a)(t.horizontalOrigin,t)];case Image:return c(t,i);case We.a:return We.a.fromIso8601(Object(Le.a)(t.date,t));case lt.a:return lt.a[Object(Le.a)(t.labelStyle,t)];case Number:return Object(Le.a)(t.number,t);case Qe.a:return t.nearFarScalar;case ze.a:return t.distanceDisplayCondition;case Object:return Object(Le.a)(Object(Le.a)(t.object,t.value),t);case Ze.a:return v(t);case Zt.a:return Object(Le.a)(t.number,t);case ut.a:return ut.a[Object(Le.a)(Object(Le.a)(t.shadowMode,t.shadows),t)];case String:return Object(Le.a)(t.string,t);case ti.a:return ti.a[Object(Le.a)(t.stripeOrientation,t)];case Ke.a:return l(t);case dt.a:return c(t,i);case ht.a:return ht.a[Object(Le.a)(t.verticalOrigin,t)];default:throw new tt.a(e)}}function O(e,t){var i=e.interpolationAlgorithm,n=e.interpolationDegree;(Object(Ne.a)(i)||Object(Ne.a)(n))&&t.setInterpolationOptions({interpolationAlgorithm:pi[i],interpolationDegree:n});var a=e.forwardExtrapolationType;Object(Ne.a)(a)&&(t.forwardExtrapolationType=Ue.a[a]);var r=e.forwardExtrapolationDuration;Object(Ne.a)(r)&&(t.forwardExtrapolationDuration=r);var o=e.backwardExtrapolationType;Object(Ne.a)(o)&&(t.backwardExtrapolationType=Ue.a[o]);var s=e.backwardExtrapolationDuration;Object(Ne.a)(s)&&(t.backwardExtrapolationDuration=s)}function w(e){if(Object(Ne.a)(e))return mi.iso8601=e,nt.a.fromIso8601(mi)}function x(e){var t=qe.a.MAXIMUM_INTERVAL.clone();return t.data=e,t}function E(e){var t=new Ot.a;return t.intervals.addInterval(x(e)),t}function T(e){var t=new yt.a(e.referenceFrame);return t.intervals.addInterval(x(e)),t}function A(e,t,i,n,a,o,s){var c=w(n.interval);Object(Ne.a)(a)&&(c=Object(Ne.a)(c)?nt.a.intersect(c,a,di):a);var l,u,h,d=!Object(Ne.a)(n.reference)&&!Object(Ne.a)(n.velocityReference),f=Object(Ne.a)(c)&&!c.equals(qe.a.MAXIMUM_INTERVAL);if(!0===n.delete)return f?C(t[i],c):void(t[i]=void 0);var p=!1;if(d){if(u=y(e,n,o),!Object(Ne.a)(u))return;l=Object(Le.a)(e.packedLength,1),h=Object(Le.a)(u.length,1),p=!Object(Ne.a)(n.array)&&"string"!=typeof u&&h>l&&e!==Object}var m="function"==typeof e.unpack&&e!==Zt.a;if(!p&&!f)return void(t[i]=d?new xt.a(m?e.unpack(u,0):u):r(e,s,n));var g,_=t[i],v=n.epoch;if(Object(Ne.a)(v)&&(g=We.a.fromIso8601(v)),p&&!f)return _ instanceof $t.a||(t[i]=_=new $t.a(e)),_.addSamplesPackedArray(u,g),void O(n,_);var b;if(!p&&f)return c=c.clone(),c.data=d?m?e.unpack(u,0):u:r(e,s,n),Object(Ne.a)(_)||(t[i]=_=d?new ni.a:new Ot.a),void(d&&_ instanceof ni.a?_.intervals.addInterval(c):_ instanceof Ot.a?(d&&(c.data=new xt.a(c.data)),_.intervals.addInterval(c)):(t[i]=_=E(_),d&&(c.data=new xt.a(c.data)),_.intervals.addInterval(c)));Object(Ne.a)(_)||(t[i]=_=new Ot.a),_ instanceof Ot.a||(t[i]=_=E(_));var x=_.intervals;b=x.findInterval(c),Object(Ne.a)(b)&&b.data instanceof $t.a||(b=c.clone(),b.data=new $t.a(e),x.addInterval(b)),b.data.addSamplesPackedArray(u,g),O(n,b.data)}function C(e,t){if(e instanceof $t.a)return void e.removeSamples(t);if(e instanceof ni.a)return void e.intervals.removeInterval(t);if(e instanceof Ot.a){for(var i=e.intervals,n=0;n<i.length;++n){var a=nt.a.intersect(i.get(n),t,di);a.isEmpty||C(a.data,t)}return void i.removeInterval(t)}}function S(e,t,i,n,a,r,o){if(Object(Ne.a)(n))if(Array.isArray(n))for(var s=0,c=n.length;s<c;++s)A(e,t,i,n[s],a,r,o);else A(e,t,i,n,a,r,o)}function j(e,t,i,n,r,o){var s=w(i.interval);Object(Ne.a)(n)&&(s=Object(Ne.a)(s)?nt.a.intersect(s,n,di):n);var c,l,u=Object(Ne.a)(i.cartesianVelocity)?1:0,h=Ce.a.packedLength*(u+1),d=!Object(Ne.a)(i.reference),f=Object(Ne.a)(s)&&!s.equals(qe.a.MAXIMUM_INTERVAL);if(!0===i.delete)return f?P(e[t],s):void(e[t]=void 0);var m,g=!1;if(d&&(Object(Ne.a)(i.referenceFrame)&&(m=$e.a[i.referenceFrame]),m=Object(Le.a)(m,$e.a.FIXED),c=p(i),l=Object(Le.a)(c.length,1),g=l>h),!g&&!f)return void(e[t]=d?new wt.a(Ce.a.unpack(c),m):a(o,i.reference));var _,v=e[t],b=i.epoch;if(Object(Ne.a)(b)&&(_=We.a.fromIso8601(b)),g&&!f)return v instanceof Kt.a&&(!Object(Ne.a)(m)||v.referenceFrame===m)||(e[t]=v=new Kt.a(m,u)),v.addSamplesPackedArray(c,_),void O(i,v);var y;if(!g&&f)return s=s.clone(),s.data=d?Ce.a.unpack(c):a(o,i.reference),Object(Ne.a)(v)||(v=d?new ii.a(m):new yt.a(m),e[t]=v),void(d&&v instanceof ii.a&&Object(Ne.a)(m)&&v.referenceFrame===m?v.intervals.addInterval(s):v instanceof yt.a?(d&&(s.data=new wt.a(s.data,m)),v.intervals.addInterval(s)):(e[t]=v=T(v),d&&(s.data=new wt.a(s.data,m)),v.intervals.addInterval(s)));Object(Ne.a)(v)?v instanceof yt.a||(e[t]=v=T(v)):e[t]=v=new yt.a(m);var x=v.intervals;y=x.findInterval(s),Object(Ne.a)(y)&&y.data instanceof Kt.a&&(!Object(Ne.a)(m)||y.data.referenceFrame===m)||(y=s.clone(),y.data=new Kt.a(m,u),x.addInterval(y)),y.data.addSamplesPackedArray(c,_),O(i,y.data)}function P(e,t){if(e instanceof Kt.a)return void e.removeSamples(t);if(e instanceof ii.a)return void e.intervals.removeInterval(t);if(e instanceof yt.a){for(var i=e.intervals,n=0;n<i.length;++n){var a=nt.a.intersect(i.get(n),t,di);a.isEmpty||P(a.data,t)}return void i.removeInterval(t)}}function D(e,t,i,n,a,r){if(Object(Ne.a)(i))if(Array.isArray(i))for(var o=0,s=i.length;o<s;++o)j(e,t,i[o],n,a,r);else j(e,t,i,n,a,r)}function I(e,t,i,n,a,r){var o=w(i.interval);Object(Ne.a)(n)&&(o=Object(Ne.a)(o)?nt.a.intersect(o,n,di):n);var s,c,l=e[t];if(Object(Ne.a)(o)){l instanceof bt.a||(l=new bt.a,e[t]=l);var u=l.intervals;c=u.findInterval({start:o.start,stop:o.stop}),Object(Ne.a)(c)?s=c.data:(c=o.clone(),u.addInterval(c))}else s=l;var h;Object(Ne.a)(i.solidColor)?(s instanceof vt.a||(s=new vt.a),h=i.solidColor,S(De.a,s,"color",h.color,void 0,void 0,r)):Object(Ne.a)(i.grid)?(s instanceof It.a||(s=new It.a),h=i.grid,S(De.a,s,"color",h.color,void 0,a,r),S(Number,s,"cellAlpha",h.cellAlpha,void 0,a,r),S(Ae.a,s,"lineCount",h.lineCount,void 0,a,r),S(Ae.a,s,"lineThickness",h.lineThickness,void 0,a,r),S(Ae.a,s,"lineOffset",h.lineOffset,void 0,a,r)):Object(Ne.a)(i.image)?(s instanceof Rt.a||(s=new Rt.a),h=i.image,S(Image,s,"image",h.image,void 0,a,r),S(Ae.a,s,"repeat",h.repeat,void 0,a,r),S(De.a,s,"color",h.color,void 0,a,r),S(Boolean,s,"transparent",h.transparent,void 0,a,r)):Object(Ne.a)(i.stripe)?(s instanceof ei.a||(s=new ei.a),h=i.stripe,S(ti.a,s,"orientation",h.orientation,void 0,a,r),S(De.a,s,"evenColor",h.evenColor,void 0,a,r),S(De.a,s,"oddColor",h.oddColor,void 0,a,r),S(Number,s,"offset",h.offset,void 0,a,r),S(Number,s,"repeat",h.repeat,void 0,a,r)):Object(Ne.a)(i.polylineOutline)?(s instanceof qt.a||(s=new qt.a),h=i.polylineOutline,S(De.a,s,"color",h.color,void 0,a,r),S(De.a,s,"outlineColor",h.outlineColor,void 0,a,r),S(Number,s,"outlineWidth",h.outlineWidth,void 0,a,r)):Object(Ne.a)(i.polylineGlow)?(s instanceof Vt.a||(s=new Vt.a),h=i.polylineGlow,S(De.a,s,"color",h.color,void 0,a,r),S(Number,s,"glowPower",h.glowPower,void 0,a,r),S(Number,s,"taperPower",h.taperPower,void 0,a,r)):Object(Ne.a)(i.polylineArrow)?(s instanceof kt.a||(s=new kt.a),h=i.polylineArrow,S(De.a,s,"color",h.color,void 0,void 0,r)):Object(Ne.a)(i.polylineDash)?(s instanceof Ut.a||(s=new Ut.a),h=i.polylineDash,S(De.a,s,"color",h.color,void 0,void 0,r),S(De.a,s,"gapColor",h.gapColor,void 0,void 0,r),S(Number,s,"dashLength",h.dashLength,void 0,a,r),S(Number,s,"dashPattern",h.dashPattern,void 0,a,r)):Object(Ne.a)(i.checkerboard)&&(s instanceof _t.a||(s=new _t.a),h=i.checkerboard,S(De.a,s,"evenColor",h.evenColor,void 0,a,r),S(De.a,s,"oddColor",h.oddColor,void 0,a,r),S(Ae.a,s,"repeat",h.repeat,void 0,a,r)),Object(Ne.a)(c)?c.data=s:e[t]=s}function R(e,t,i,n,a,r){if(Object(Ne.a)(i))if(Array.isArray(i))for(var o=0,s=i.length;o<s;++o)I(e,t,i[o],n,a,r);else I(e,t,i,n,a,r)}function M(e,t,i,n){var a=t.name;Object(Ne.a)(a)&&(e.name=t.name)}function L(e,t,i,n){var a=t.description;Object(Ne.a)(a)&&S(String,e,"description",a,void 0,n,i)}function N(e,t,i,n){var a=t.position;Object(Ne.a)(a)&&D(e,"position",a,void 0,n,i)}function F(e,t,i,n){var a=t.viewFrom;Object(Ne.a)(a)&&S(Ce.a,e,"viewFrom",a,void 0,n,i)}function z(e,t,i,n){var a=t.orientation;Object(Ne.a)(a)&&S(Ze.a,e,"orientation",a,void 0,n,i)}function B(e,t,i,n){var a=t.properties;if(Object(Ne.a)(a)){Object(Ne.a)(e.properties)||(e.properties=new Xt.a);for(var r in a)if(a.hasOwnProperty(r)){e.properties.hasProperty(r)||e.properties.addProperty(r);var o=a[r];if(Array.isArray(o))for(var s=0,c=o.length;s<c;++s)A(b(o[s]),e.properties,r,o[s],void 0,n,i);else A(b(o),e.properties,r,o,void 0,n,i)}}}function k(e,t,i,n,r,o,s){var c=i.map(function(e){return a(r,e)});if(Object(Ne.a)(n)){n=w(n);var l=e[t];if(!(l instanceof s)){var u=new s;u.intervals.addInterval(x(l)),e[t]=l=u}n.data=new o(c),l.intervals.addInterval(n)}else e[t]=new o(c)}function U(e,t,i,n){var a=i.references;Object(Ne.a)(a)?k(e,t,a,i.interval,n,Yt.a,Ot.a):S(Array,e,t,i,void 0,void 0,n)}function V(e,t,i,n){if(Object(Ne.a)(i))if(Array.isArray(i))for(var a=0,r=i.length;a<r;++a)U(e,t,i[a],n);else U(e,t,i,n)}function H(e,t,i,n){var a=i.references;Object(Ne.a)(a)?k(e,t,a,i.interval,n,Wt.a,yt.a):(Object(Ne.a)(i.cartesian)?i.array=Ce.a.unpackArray(i.cartesian):Object(Ne.a)(i.cartographicRadians)?i.array=Ce.a.fromRadiansArrayHeights(i.cartographicRadians):Object(Ne.a)(i.cartographicDegrees)&&(i.array=Ce.a.fromDegreesArrayHeights(i.cartographicDegrees)),Object(Ne.a)(i.array)&&S(Array,e,t,i,void 0,void 0,n))}function q(e,t,i,n){if(Object(Ne.a)(i))if(Array.isArray(i))for(var a=0,r=i.length;a<r;++a)H(e,t,i[a],n);else H(e,t,i,n)}function W(e){return Ce.a.unpackArray(e)}function G(e){return Ce.a.fromRadiansArrayHeights(e)}function Y(e){return Ce.a.fromDegreesArrayHeights(e)}function X(e,t,i,n){var a=i.references;if(Object(Ne.a)(a)){var r=a.map(function(e){var t={};return k(t,"positions",e,i.interval,n,Wt.a,yt.a),t.positions});e[t]=new Wt.a(r)}else Object(Ne.a)(i.cartesian)?i.array=i.cartesian.map(W):Object(Ne.a)(i.cartographicRadians)?i.array=i.cartographicRadians.map(G):Object(Ne.a)(i.cartographicDegrees)&&(i.array=i.cartographicDegrees.map(Y)),Object(Ne.a)(i.array)&&S(Array,e,t,i,void 0,void 0,n)}function Q(e,t,i,n){if(Object(Ne.a)(i))if(Array.isArray(i))for(var a=0,r=i.length;a<r;++a)X(e,t,i[a],n);else X(e,t,i,n)}function J(e,t,i,n){var a=t.availability;if(Object(Ne.a)(a)){var r;if(Array.isArray(a))for(var o=0,s=a.length;o<s;++o)Object(Ne.a)(r)||(r=new at.a),r.addInterval(w(a[o]));else r=new at.a,r.addInterval(w(a));e.availability=r}}function Z(e,t,i,a,r){Object(Ne.a)(t)&&S(n,e,"alignedAxis",t,i,a,r)}function K(e,t,i,n){var a=t.billboard;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.billboard;Object(Ne.a)(o)||(e.billboard=o=new pt.a),S(Boolean,o,"show",a.show,r,n,i),S(Image,o,"image",a.image,r,n,i),S(Number,o,"scale",a.scale,r,n,i),S(Ae.a,o,"pixelOffset",a.pixelOffset,r,n,i),S(Ce.a,o,"eyeOffset",a.eyeOffset,r,n,i),S(ct.a,o,"horizontalOrigin",a.horizontalOrigin,r,n,i),S(ht.a,o,"verticalOrigin",a.verticalOrigin,r,n,i),S(st.a,o,"heightReference",a.heightReference,r,n,i),S(De.a,o,"color",a.color,r,n,i),S(Zt.a,o,"rotation",a.rotation,r,n,i),Z(o,a.alignedAxis,r,n,i),S(Boolean,o,"sizeInMeters",a.sizeInMeters,r,n,i),S(Number,o,"width",a.width,r,n,i),S(Number,o,"height",a.height,r,n,i),S(Qe.a,o,"scaleByDistance",a.scaleByDistance,r,n,i),S(Qe.a,o,"translucencyByDistance",a.translucencyByDistance,r,n,i),S(Qe.a,o,"pixelOffsetScaleByDistance",a.pixelOffsetScaleByDistance,r,n,i),S(Te.a,o,"imageSubRegion",a.imageSubRegion,r,n,i),S(ze.a,o,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i),S(Number,o,"disableDepthTestDistance",a.disableDepthTestDistance,r,n,i)}}function $(e,t,i,n){var a=t.box;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.box;Object(Ne.a)(o)||(e.box=o=new mt.a),S(Boolean,o,"show",a.show,r,n,i),S(Ce.a,o,"dimensions",a.dimensions,r,n,i),S(st.a,o,"heightReference",a.heightReference,r,n,i),S(Boolean,o,"fill",a.fill,r,n,i),R(o,"material",a.material,r,n,i),S(Boolean,o,"outline",a.outline,r,n,i),S(De.a,o,"outlineColor",a.outlineColor,r,n,i),S(Number,o,"outlineWidth",a.outlineWidth,r,n,i),S(ut.a,o,"shadows",a.shadows,r,n,i),S(ze.a,o,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i)}}function ee(e,t,i,n){var a=t.corridor;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.corridor;Object(Ne.a)(o)||(e.corridor=o=new Et.a),S(Boolean,o,"show",a.show,r,n,i),q(o,"positions",a.positions,i),S(Number,o,"width",a.width,r,n,i),S(Number,o,"height",a.height,r,n,i),S(st.a,o,"heightReference",a.heightReference,r,n,i),S(Number,o,"extrudedHeight",a.extrudedHeight,r,n,i),S(st.a,o,"extrudedHeightReference",a.extrudedHeightReference,r,n,i),S(Ie.a,o,"cornerType",a.cornerType,r,n,i),S(Number,o,"granularity",a.granularity,r,n,i),S(Boolean,o,"fill",a.fill,r,n,i),R(o,"material",a.material,r,n,i),S(Boolean,o,"outline",a.outline,r,n,i),S(De.a,o,"outlineColor",a.outlineColor,r,n,i),S(Number,o,"outlineWidth",a.outlineWidth,r,n,i),S(ut.a,o,"shadows",a.shadows,r,n,i),S(ze.a,o,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i),S(rt.a,o,"classificationType",a.classificationType,r,n,i),S(Number,o,"zIndex",a.zIndex,r,n,i)}}function te(e,t,i,n){var a=t.cylinder;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.cylinder;Object(Ne.a)(o)||(e.cylinder=o=new Tt.a),S(Boolean,o,"show",a.show,r,n,i),S(Number,o,"length",a.length,r,n,i),S(Number,o,"topRadius",a.topRadius,r,n,i),S(Number,o,"bottomRadius",a.bottomRadius,r,n,i),S(st.a,o,"heightReference",a.heightReference,r,n,i),S(Boolean,o,"fill",a.fill,r,n,i),R(o,"material",a.material,r,n,i),S(Boolean,o,"outline",a.outline,r,n,i),S(De.a,o,"outlineColor",a.outlineColor,r,n,i),S(Number,o,"outlineWidth",a.outlineWidth,r,n,i),S(Number,o,"numberOfVerticalLines",a.numberOfVerticalLines,r,n,i),S(Number,o,"slices",a.slices,r,n,i),S(ut.a,o,"shadows",a.shadows,r,n,i),S(ze.a,o,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i)}}function ie(e,t){var i=e.version;if(Object(Ne.a)(i)&&"string"==typeof i){var n=i.split(".");if(2===n.length){if("1"!==n[0])throw new tt.a("Cesium only supports CZML version 1.");t._version=i}}if(!Object(Ne.a)(t._version))throw new tt.a("CZML version information invalid.  It is expected to be a property on the document object in the <Major>.<Minor> version format.");var a=t._documentPacket;Object(Ne.a)(e.name)&&(a.name=e.name);var r=e.clock;if(Object(Ne.a)(r)){var o=a.clock;Object(Ne.a)(o)?(o.interval=Object(Le.a)(r.interval,o.interval),o.currentTime=Object(Le.a)(r.currentTime,o.currentTime),o.range=Object(Le.a)(r.range,o.range),o.step=Object(Le.a)(r.step,o.step),o.multiplier=Object(Le.a)(r.multiplier,o.multiplier)):a.clock={interval:r.interval,currentTime:r.currentTime,range:r.range,step:r.step,multiplier:r.multiplier}}}function ne(e,t,i,n){var a=t.ellipse;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.ellipse;Object(Ne.a)(o)||(e.ellipse=o=new St.a),S(Boolean,o,"show",a.show,r,n,i),S(Number,o,"semiMajorAxis",a.semiMajorAxis,r,n,i),S(Number,o,"semiMinorAxis",a.semiMinorAxis,r,n,i),S(Number,o,"height",a.height,r,n,i),S(st.a,o,"heightReference",a.heightReference,r,n,i),S(Number,o,"extrudedHeight",a.extrudedHeight,r,n,i),S(st.a,o,"extrudedHeightReference",a.extrudedHeightReference,r,n,i),S(Zt.a,o,"rotation",a.rotation,r,n,i),S(Zt.a,o,"stRotation",a.stRotation,r,n,i),S(Number,o,"granularity",a.granularity,r,n,i),S(Boolean,o,"fill",a.fill,r,n,i),R(o,"material",a.material,r,n,i),S(Boolean,o,"outline",a.outline,r,n,i),S(De.a,o,"outlineColor",a.outlineColor,r,n,i),S(Number,o,"outlineWidth",a.outlineWidth,r,n,i),S(Number,o,"numberOfVerticalLines",a.numberOfVerticalLines,r,n,i),S(ut.a,o,"shadows",a.shadows,r,n,i),S(ze.a,o,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i),S(rt.a,o,"classificationType",a.classificationType,r,n,i),S(Number,o,"zIndex",a.zIndex,r,n,i)}}function ae(e,t,i,n){var a=t.ellipsoid;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.ellipsoid;Object(Ne.a)(o)||(e.ellipsoid=o=new jt.a),S(Boolean,o,"show",a.show,r,n,i),S(Ce.a,o,"radii",a.radii,r,n,i),S(Ce.a,o,"innerRadii",a.innerRadii,r,n,i),S(Number,o,"minimumClock",a.minimumClock,r,n,i),S(Number,o,"maximumClock",a.maximumClock,r,n,i),S(Number,o,"minimumCone",a.minimumCone,r,n,i),S(Number,o,"maximumCone",a.maximumCone,r,n,i),S(st.a,o,"heightReference",a.heightReference,r,n,i),S(Boolean,o,"fill",a.fill,r,n,i),R(o,"material",a.material,r,n,i),S(Boolean,o,"outline",a.outline,r,n,i),S(De.a,o,"outlineColor",a.outlineColor,r,n,i),S(Number,o,"outlineWidth",a.outlineWidth,r,n,i),S(Number,o,"stackPartitions",a.stackPartitions,r,n,i),S(Number,o,"slicePartitions",a.slicePartitions,r,n,i),S(Number,o,"subdivisions",a.subdivisions,r,n,i),S(ut.a,o,"shadows",a.shadows,r,n,i),S(ze.a,o,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i)}}function re(e,t,i,n){var a=t.label;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.label;Object(Ne.a)(o)||(e.label=o=new Mt.a),S(Boolean,o,"show",a.show,r,n,i),S(String,o,"text",a.text,r,n,i),S(String,o,"font",a.font,r,n,i),S(lt.a,o,"style",a.style,r,n,i),S(Number,o,"scale",a.scale,r,n,i),S(Boolean,o,"showBackground",a.showBackground,r,n,i),S(De.a,o,"backgroundColor",a.backgroundColor,r,n,i),S(Ae.a,o,"backgroundPadding",a.backgroundPadding,r,n,i),S(Ae.a,o,"pixelOffset",a.pixelOffset,r,n,i),S(Ce.a,o,"eyeOffset",a.eyeOffset,r,n,i),S(ct.a,o,"horizontalOrigin",a.horizontalOrigin,r,n,i),S(ht.a,o,"verticalOrigin",a.verticalOrigin,r,n,i),S(st.a,o,"heightReference",a.heightReference,r,n,i),S(De.a,o,"fillColor",a.fillColor,r,n,i),S(De.a,o,"outlineColor",a.outlineColor,r,n,i),S(Number,o,"outlineWidth",a.outlineWidth,r,n,i),S(Qe.a,o,"translucencyByDistance",a.translucencyByDistance,r,n,i),S(Qe.a,o,"pixelOffsetScaleByDistance",a.pixelOffsetScaleByDistance,r,n,i),S(Qe.a,o,"scaleByDistance",a.scaleByDistance,r,n,i),S(ze.a,o,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i),S(Number,o,"disableDepthTestDistance",a.disableDepthTestDistance,r,n,i)}}function oe(e,t,i,n){var a=t.model;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.model;Object(Ne.a)(o)||(e.model=o=new Lt.a),S(Boolean,o,"show",a.show,r,n,i),S(dt.a,o,"uri",a.gltf,r,n,i),S(Number,o,"scale",a.scale,r,n,i),S(Number,o,"minimumPixelSize",a.minimumPixelSize,r,n,i),S(Number,o,"maximumScale",a.maximumScale,r,n,i),S(Boolean,o,"incrementallyLoadTextures",a.incrementallyLoadTextures,r,n,i),S(Boolean,o,"runAnimations",a.runAnimations,r,n,i),S(Boolean,o,"clampAnimations",a.clampAnimations,r,n,i),S(ut.a,o,"shadows",a.shadows,r,n,i),S(st.a,o,"heightReference",a.heightReference,r,n,i),S(De.a,o,"silhouetteColor",a.silhouetteColor,r,n,i),S(Number,o,"silhouetteSize",a.silhouetteSize,r,n,i),S(De.a,o,"color",a.color,r,n,i),S(ot.a,o,"colorBlendMode",a.colorBlendMode,r,n,i),S(Number,o,"colorBlendAmount",a.colorBlendAmount,r,n,i),S(ze.a,o,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i);var s,c,l=a.nodeTransformations;if(Object(Ne.a)(l))if(Array.isArray(l))for(s=0,c=l.length;s<c;++s)se(o,l[s],r,n,i);else se(o,l,r,n,i);var u=a.articulations;if(Object(Ne.a)(u))if(Array.isArray(u))for(s=0,c=u.length;s<c;++s)ce(o,u[s],r,n,i);else ce(o,u,r,n,i)}}function se(e,t,i,n,a){var r=w(t.interval);Object(Ne.a)(i)&&(r=Object(Ne.a)(r)?nt.a.intersect(r,i,di):i);for(var o=e.nodeTransformations,s=Object.keys(t),c=0,l=s.length;c<l;++c){var u=s[c];if("interval"!==u){var h=t[u];if(Object(Ne.a)(h)){Object(Ne.a)(o)||(e.nodeTransformations=o=new Xt.a),o.hasProperty(u)||o.addProperty(u);var d=o[u];Object(Ne.a)(d)||(o[u]=d=new Nt.a),S(Ce.a,d,"translation",h.translation,r,n,a),S(Ze.a,d,"rotation",h.rotation,r,n,a),S(Ce.a,d,"scale",h.scale,r,n,a)}}}}function ce(e,t,i,n,a){var r=w(t.interval);Object(Ne.a)(i)&&(r=Object(Ne.a)(r)?nt.a.intersect(r,i,di):i);for(var o=e.articulations,s=Object.keys(t),c=0,l=s.length;c<l;++c){var u=s[c];if("interval"!==u){var h=t[u];Object(Ne.a)(h)&&(Object(Ne.a)(o)||(e.articulations=o=new Xt.a),o.hasProperty(u)||o.addProperty(u),S(Number,o,u,h,r,n,a))}}}function le(e,t,i,n){var a=t.path;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.path;Object(Ne.a)(o)||(e.path=o=new Ft.a),S(Boolean,o,"show",a.show,r,n,i),S(Number,o,"leadTime",a.leadTime,r,n,i),S(Number,o,"trailTime",a.trailTime,r,n,i),S(Number,o,"width",a.width,r,n,i),S(Number,o,"resolution",a.resolution,r,n,i),R(o,"material",a.material,r,n,i),S(ze.a,o,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i)}}function ue(e,t,i,n){var a=t.point;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.point;Object(Ne.a)(o)||(e.point=o=new zt.a),S(Boolean,o,"show",a.show,r,n,i),S(Number,o,"pixelSize",a.pixelSize,r,n,i),S(st.a,o,"heightReference",a.heightReference,r,n,i),S(De.a,o,"color",a.color,r,n,i),S(De.a,o,"outlineColor",a.outlineColor,r,n,i),S(Number,o,"outlineWidth",a.outlineWidth,r,n,i),S(Qe.a,o,"scaleByDistance",a.scaleByDistance,r,n,i),S(Qe.a,o,"translucencyByDistance",a.translucencyByDistance,r,n,i),S(ze.a,o,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i),S(Number,o,"disableDepthTestDistance",a.disableDepthTestDistance,r,n,i)}}function he(e){this.polygon=e,this._definitionChanged=new ke.a}function de(e,t,i,n){var a=t.polygon;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.polygon;Object(Ne.a)(o)||(e.polygon=o=new Bt.a),S(Boolean,o,"show",a.show,r,n,i),q(o,"_positions",a.positions,i),Q(o,"_holes",a.holes,i),(Object(Ne.a)(o._positions)||Object(Ne.a)(o._holes))&&(o.hierarchy=new he(o)),S(Number,o,"height",a.height,r,n,i),S(st.a,o,"heightReference",a.heightReference,r,n,i),S(Number,o,"extrudedHeight",a.extrudedHeight,r,n,i),S(st.a,o,"extrudedHeightReference",a.extrudedHeightReference,r,n,i),S(Zt.a,o,"stRotation",a.stRotation,r,n,i),S(Number,o,"granularity",a.granularity,r,n,i),S(Boolean,o,"fill",a.fill,r,n,i),R(o,"material",a.material,r,n,i),S(Boolean,o,"outline",a.outline,r,n,i),S(De.a,o,"outlineColor",a.outlineColor,r,n,i),S(Number,o,"outlineWidth",a.outlineWidth,r,n,i),S(Boolean,o,"perPositionHeight",a.perPositionHeight,r,n,i),S(Boolean,o,"closeTop",a.closeTop,r,n,i),S(Boolean,o,"closeBottom",a.closeBottom,r,n,i),S(Ee.a,o,"arcType",a.arcType,r,n,i),S(ut.a,o,"shadows",a.shadows,r,n,i),S(ze.a,o,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i),S(rt.a,o,"classificationType",a.classificationType,r,n,i),S(Number,o,"zIndex",a.zIndex,r,n,i)}}function fe(e){return e?Ee.a.GEODESIC:Ee.a.NONE}function pe(e,t,i,n){var a=t.polyline;if(Object(Ne.a)(a)){var r=w(a.interval),s=e.polyline;if(Object(Ne.a)(s)||(e.polyline=s=new Ht.a),S(Boolean,s,"show",a.show,r,n,i),q(s,"positions",a.positions,i),S(Number,s,"width",a.width,r,n,i),S(Number,s,"granularity",a.granularity,r,n,i),R(s,"material",a.material,r,n,i),R(s,"depthFailMaterial",a.depthFailMaterial,r,n,i),S(Ee.a,s,"arcType",a.arcType,r,n,i),S(Boolean,s,"clampToGround",a.clampToGround,r,n,i),S(ut.a,s,"shadows",a.shadows,r,n,i),S(ze.a,s,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i),S(rt.a,s,"classificationType",a.classificationType,r,n,i),S(Number,s,"zIndex",a.zIndex,r,n,i),Object(Ne.a)(a.followSurface)&&!Object(Ne.a)(a.arcType)){var c={};S(Boolean,c,"followSurface",a.followSurface,r,n,i),s.arcType=o(c.followSurface,fe)}}}function me(e,t,i,n){var a=t.rectangle;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.rectangle;Object(Ne.a)(o)||(e.rectangle=o=new Qt.a),S(Boolean,o,"show",a.show,r,n,i),S(Ke.a,o,"coordinates",a.coordinates,r,n,i),S(Number,o,"height",a.height,r,n,i),S(st.a,o,"heightReference",a.heightReference,r,n,i),S(Number,o,"extrudedHeight",a.extrudedHeight,r,n,i),S(st.a,o,"extrudedHeightReference",a.extrudedHeightReference,r,n,i),S(Zt.a,o,"rotation",a.rotation,r,n,i),S(Zt.a,o,"stRotation",a.stRotation,r,n,i),S(Number,o,"granularity",a.granularity,r,n,i),S(Boolean,o,"fill",a.fill,r,n,i),R(o,"material",a.material,r,n,i),S(Boolean,o,"outline",a.outline,r,n,i),S(De.a,o,"outlineColor",a.outlineColor,r,n,i),S(Number,o,"outlineWidth",a.outlineWidth,r,n,i),S(ut.a,o,"shadows",a.shadows,r,n,i),S(ze.a,o,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i),S(rt.a,o,"classificationType",a.classificationType,r,n,i),S(Number,o,"zIndex",a.zIndex,r,n,i)}}function ge(e,t,i,n){var a=t.tileset;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.tileset;Object(Ne.a)(o)||(e.tileset=o=new si.a),S(Boolean,o,"show",a.show,r,n,i),S(dt.a,o,"uri",a.uri,r,n,i),S(Number,o,"maximumScreenSpaceError",a.maximumScreenSpaceError,r,n,i)}}function _e(e,t,i,n){var a=t.wall;if(Object(Ne.a)(a)){var r=w(a.interval),o=e.wall;Object(Ne.a)(o)||(e.wall=o=new oi.a),S(Boolean,o,"show",a.show,r,n,i),q(o,"positions",a.positions,i),V(o,"minimumHeights",a.minimumHeights,i),V(o,"maximumHeights",a.maximumHeights,i),S(Number,o,"granularity",a.granularity,r,n,i),S(Boolean,o,"fill",a.fill,r,n,i),R(o,"material",a.material,r,n,i),S(Boolean,o,"outline",a.outline,r,n,i),S(De.a,o,"outlineColor",a.outlineColor,r,n,i),S(Number,o,"outlineWidth",a.outlineWidth,r,n,i),S(ut.a,o,"shadows",a.shadows,r,n,i),S(ze.a,o,"distanceDisplayCondition",a.distanceDisplayCondition,r,n,i)}}function ve(e,t,i,n,a){var r=e.id;if(Object(Ne.a)(r)||(r=Object(Me.a)()),ci=r,!Object(Ne.a)(a._version)&&"document"!==r)throw new tt.a("The first CZML packet is required to be the document object.");if(!0===e.delete)t.removeById(r);else if("document"===r)ie(e,a);else{var o=t.getOrCreateEntity(r),s=e.parent;Object(Ne.a)(s)&&(o.parent=t.getOrCreateEntity(s));for(var c=i.length-1;c>-1;c--)i[c](o,e,t,n)}ci=void 0}function be(e){var t,i=e._documentPacket.clock;if(!Object(Ne.a)(i)){if(!Object(Ne.a)(e._clock)){var n=e._entityCollection.computeAvailability();if(!n.start.equals(qe.a.MINIMUM_VALUE)){var a=n.start,r=n.stop,o=We.a.secondsDifference(r,a),s=Math.round(o/120);return t=new Ct.a,t.startTime=We.a.clone(a),t.stopTime=We.a.clone(r),t.clockRange=je.a.LOOP_STOP,t.multiplier=s,t.currentTime=We.a.clone(a),t.clockStep=Pe.a.SYSTEM_CLOCK_MULTIPLIER,e._clock=t,!0}}return!1}Object(Ne.a)(e._clock)?t=e._clock.clone():(t=new Ct.a,t.startTime=qe.a.MINIMUM_VALUE.clone(),t.stopTime=qe.a.MAXIMUM_VALUE.clone(),t.currentTime=qe.a.MINIMUM_VALUE.clone(),t.clockRange=je.a.LOOP_STOP,t.clockStep=Pe.a.SYSTEM_CLOCK_MULTIPLIER,t.multiplier=1);var c=w(i.interval);return Object(Ne.a)(c)&&(t.startTime=c.start,t.stopTime=c.stop),Object(Ne.a)(i.currentTime)&&(t.currentTime=We.a.fromIso8601(i.currentTime)),Object(Ne.a)(i.range)&&(t.clockRange=Object(Le.a)(je.a[i.range],je.a.LOOP_STOP)),Object(Ne.a)(i.step)&&(t.clockStep=Object(Le.a)(Pe.a[i.step],Pe.a.SYSTEM_CLOCK_MULTIPLIER)),Object(Ne.a)(i.multiplier)&&(t.multiplier=i.multiplier),!t.equals(e._clock)&&(e._clock=t.clone(e._clock),!0)}function ye(e,t,i,n){if(!Object(Ne.a)(t))throw new Fe.a("czml is required.");i=Object(Le.a)(i,Le.a.EMPTY_OBJECT);var a=t,r=i.sourceUri,o=i.credit;if("string"==typeof o&&(o=new Re.a(o)),e._credit=o,"string"==typeof t||t instanceof et.a){t=et.a.createIfNeeded(t),a=t.fetchJson(),r=Object(Le.a)(r,t.clone());var s=e._resourceCredits,c=t.credits;if(Object(Ne.a)(c))for(var l=c.length,u=0;u<l;u++)s.push(c[u])}return r=et.a.createIfNeeded(r),At.a.setLoading(e,!0),Object(ft.a)(a,function(t){return Oe(e,t,r,n)}).otherwise(function(t){return At.a.setLoading(e,!1),e._error.raiseEvent(e,t),console.log(t),ft.a.reject(t)})}function Oe(e,t,i,n){At.a.setLoading(e,!0);var a=e._entityCollection;n&&(e._version=void 0,e._documentPacket=new we,a.removeAll()),xe._processCzml(t,a,i,void 0,e);var r=be(e),o=e._documentPacket;return Object(Ne.a)(o.name)&&e._name!==o.name?(e._name=o.name,r=!0):!Object(Ne.a)(e._name)&&Object(Ne.a)(i)&&(e._name=Object(Ve.a)(i.getUrlComponent()),r=!0),At.a.setLoading(e,!1),r&&e._changed.raiseEvent(e),e}function we(){this.name=void 0,this.clock=void 0}function xe(e){this._name=e,this._changed=new ke.a,this._error=new ke.a,this._isLoading=!1,this._loading=new ke.a,this._clock=void 0,this._documentPacket=new we,this._version=void 0,this._entityCollection=new Dt.a(this),this._entityCluster=new Pt.a,this._credit=void 0,this._resourceCredits=[]}var Ee=i("X8rS"),Te=i("or8k"),Ae=i("Ss9j"),Ce=i("Jj+J"),Se=i("I3GD"),je=i("P5H1"),Pe=i("miaP"),De=i("6F0S"),Ie=i("sEJp"),Re=i("ODTd"),Me=i("ed27"),Le=i("5A4e"),Ne=i("xC6Q"),Fe=i("PzDm"),ze=i("2d28"),Be=i("y6fO"),ke=i("W6xh"),Ue=i("F6/P"),Ve=i("WROA"),He=i("qieD"),qe=i("DsDe"),We=i("9Uqs"),Ge=i("68ZK"),Ye=i("8EHP"),Xe=i("fq+p"),Qe=i("UkIP"),Je=i("rEiK"),Ze=i("q/xW"),Ke=i("Wq1U"),$e=i("IDfv"),et=i("rMjQ"),tt=i("V22k"),it=i("KLeW"),nt=i("tQPh"),at=i("vDBe"),rt=i("M1dj"),ot=i("Lx6B"),st=i("JIo7"),ct=i("EwVK"),lt=i("RyAG"),ut=i("ARzC"),ht=i("H5bb"),dt=i("8Vjj"),ft=i("S7OP"),pt=i("1L+j"),mt=i("w6iD"),gt=i("h3qT"),_t=i("49+N"),vt=i("I5FW"),bt=i("VLkd"),yt=i("VhtT"),Ot=i("sVWN"),wt=i("jQbM"),xt=i("53NE"),Et=i("L47L"),Tt=i("yKBu"),At=i("jjt3"),Ct=i("oIh2"),St=i("t7Qx"),jt=i("bnBh"),Pt=i("eZY8"),Dt=i("K+QI"),It=i("/tIl"),Rt=i("+4Es"),Mt=i("nO52"),Lt=i("ZIO3"),Nt=i("6kgQ"),Ft=i("lwv5"),zt=i("PCU7"),Bt=i("o8TK"),kt=i("RmbG"),Ut=i("R51h"),Vt=i("/P0d"),Ht=i("xtiq"),qt=i("GySV"),Wt=i("rfxP"),Gt=i("uhjI"),Yt=i("i01K"),Xt=i("RbQZ"),Qt=i("rFgN"),Jt=i("G29O"),Zt=i("I5mA"),Kt=i("TuWn"),$t=i("mEEk"),ei=i("4gQa"),ti=i("ysmW"),ii=i("c4pm"),ni=i("0F/2"),ai=i("LxRp"),ri=i("QpGe"),oi=i("ZT9/"),si=i("kVOD");n.packedLength=Ce.a.packedLength,n.unpack=Ce.a.unpack,n.pack=Ce.a.pack;var ci,li=new Ce.a,ui=new it.a,hi=new Se.a,di=new nt.a,fi=new Ze.a,pi={HERMITE:He.a,LAGRANGE:Ge.a,LINEAR:Ye.a},mi={iso8601:void 0};Object.defineProperties(he.prototype,{isConstant:{get:function(){var e=this.polygon._positions,t=this.polygon._holes;return(!Object(Ne.a)(e)||e.isConstant)&&(!Object(Ne.a)(t)||t.isConstant)}},definitionChanged:{get:function(){return this._definitionChanged}}}),he.prototype.getValue=function(e,t){var i;Object(Ne.a)(this.polygon._positions)&&(i=this.polygon._positions.getValue(e));var n;return Object(Ne.a)(this.polygon._holes)&&(n=this.polygon._holes.getValue(e),Object(Ne.a)(n)&&(n=n.map(function(e){return new Je.a(e)}))),Object(Ne.a)(t)?(t.positions=i,t.holes=n,t):new Je.a(i,n)},he.prototype.equals=function(e){return this===e||e instanceof he&&Gt.a.equals(this.polygon._positions,e.polygon._positions)&&Gt.a.equals(this.polygon._holes,e.polygon._holes)},xe.load=function(e,t){return(new xe).load(e,t)},Object.defineProperties(xe.prototype,{name:{get:function(){return this._name}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!Object(Ne.a)(e))throw new Fe.a("value must be defined.");this._entityCluster=e}},credit:{get:function(){return this._credit}}}),xe.updaters=[K,$,ee,te,ne,ae,re,oe,M,L,le,ue,de,pe,B,me,N,ge,F,_e,z,J],xe.prototype.process=function(e,t){return ye(this,e,t,!1)},xe.prototype.load=function(e,t){return ye(this,e,t,!0)},xe.processPacketData=S,xe.processPositionPacketData=D,xe.processMaterialPacketData=R,xe._processCzml=function(e,t,i,n,a){if(n=Object(Le.a)(n,xe.updaters),Array.isArray(e))for(var r=0,o=e.length;r<o;++r)ve(e[r],t,n,i,a);else ve(e,t,n,i,a)},t.a=xe},gsn9:function(e,t,i){"use strict";var n=i("5F4X"),a=i("fq+p"),r=i("i3sv"),o=i("Xjii"),s={X:0,Y:1,Z:2,Y_UP_TO_Z_UP:o.a.fromRotationTranslation(r.a.fromRotationX(a.a.PI_OVER_TWO)),Z_UP_TO_Y_UP:o.a.fromRotationTranslation(r.a.fromRotationX(-a.a.PI_OVER_TWO)),X_UP_TO_Z_UP:o.a.fromRotationTranslation(r.a.fromRotationY(-a.a.PI_OVER_TWO)),Z_UP_TO_X_UP:o.a.fromRotationTranslation(r.a.fromRotationY(a.a.PI_OVER_TWO)),X_UP_TO_Y_UP:o.a.fromRotationTranslation(r.a.fromRotationZ(a.a.PI_OVER_TWO)),Y_UP_TO_X_UP:o.a.fromRotationTranslation(r.a.fromRotationZ(-a.a.PI_OVER_TWO)),fromName:function(e){return n.a.typeOf.string("name",e),s[e]}};t.a=Object.freeze(s)},gt5T:function(e,t,i){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var a in i)n(i,a)&&(e[a]=i[a])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,i,n,a){if(t.subarray&&e.subarray)return void e.set(t.subarray(i,i+n),a);for(var r=0;r<n;r++)e[a+r]=t[i+r]},flattenChunks:function(e){var t,i,n,a,r,o;for(n=0,t=0,i=e.length;t<i;t++)n+=e[t].length;for(o=new Uint8Array(n),a=0,t=0,i=e.length;t<i;t++)r=e[t],o.set(r,a),a+=r.length;return o}},o={arraySet:function(e,t,i,n,a){for(var r=0;r<n;r++)e[a+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(a)},gx6D:function(e,t,i){"use strict";function n(e,t,i,n,a,r){this._bits=e,this.cnodeVersion=t,this.imageryVersion=i,this.terrainVersion=n,this.imageryProvider=a,this.terrainProvider=r,this.ancestorHasTerrain=!1,this.terrainState=void 0}var a=i("xC6Q"),r=i("1eJt"),o=[1,2,4,8];n.clone=function(e,t){return Object(a.a)(t)?(t._bits=e._bits,t.cnodeVersion=e.cnodeVersion,t.imageryVersion=e.imageryVersion,t.terrainVersion=e.terrainVersion,t.imageryProvider=e.imageryProvider,t.terrainProvider=e.terrainProvider):t=new n(e._bits,e.cnodeVersion,e.imageryVersion,e.terrainVersion,e.imageryProvider,e.terrainProvider),t.ancestorHasTerrain=e.ancestorHasTerrain,t.terrainState=e.terrainState,t},n.prototype.setParent=function(e){this.ancestorHasTerrain=e.ancestorHasTerrain||this.hasTerrain()},n.prototype.hasSubtree=function(){return Object(r.a)(this._bits,16)},n.prototype.hasImagery=function(){return Object(r.a)(this._bits,64)},n.prototype.hasTerrain=function(){return Object(r.a)(this._bits,128)},n.prototype.hasChildren=function(){return Object(r.a)(this._bits,15)},n.prototype.hasChild=function(e){return Object(r.a)(this._bits,o[e])},n.prototype.getChildBitmask=function(){return 15&this._bits},t.a=n},"h+i9":function(e,t,i){"use strict";var n={NONE:-1,PARTIAL:0,FULL:1};t.a=Object.freeze(n)},h3qT:function(e,t,i){"use strict";function n(e,t){this._callback=void 0,this._isConstant=void 0,this._definitionChanged=new o.a,this.setCallback(e,t)}var a=i("xC6Q"),r=i("PzDm"),o=i("W6xh");Object.defineProperties(n.prototype,{isConstant:{get:function(){return this._isConstant}},definitionChanged:{get:function(){return this._definitionChanged}}}),n.prototype.getValue=function(e,t){return this._callback(e,t)},n.prototype.setCallback=function(e,t){if(!Object(a.a)(e))throw new r.a("callback is required.");if(!Object(a.a)(t))throw new r.a("isConstant is required.");var i=this._callback!==e||this._isConstant!==t;this._callback=e,this._isConstant=t,i&&this._definitionChanged.raiseEvent(this)},n.prototype.equals=function(e){return this===e||e instanceof n&&this._callback===e._callback&&this._isConstant===e._isConstant},t.a=n},h5D9:function(e,t,i){"use strict";function n(e){if(!Object(C.a)(e)||!Object(C.a)(e.tileProvider))throw new S.a("options.tileProvider is required.");if(Object(C.a)(e.tileProvider.quadtree))throw new S.a("A QuadtreeTileProvider can only be used with a single QuadtreePrimitive");this._tileProvider=e.tileProvider,this._tileProvider.quadtree=this,this._debug={enableDebugOutput:!1,maxDepth:0,maxDepthVisited:0,tilesVisited:0,tilesCulled:0,tilesRendered:0,tilesWaitingForChildren:0,lastMaxDepth:-1,lastMaxDepthVisited:-1,lastTilesVisited:-1,lastTilesCulled:-1,lastTilesRendered:-1,lastTilesWaitingForChildren:-1,suspendLodUpdate:!1};var t=this._tileProvider.tilingScheme,i=t.ellipsoid;this._tilesToRender=[],this._tileLoadQueueHigh=[],this._tileLoadQueueMedium=[],this._tileLoadQueueLow=[],this._tileReplacementQueue=new V.a,this._levelZeroTiles=void 0,this._loadQueueTimeSlice=5,this._tilesInvalidated=!1,this._addHeightCallbacks=[],this._removeHeightCallbacks=[],this._tileToUpdateHeights=[],this._lastTileIndex=0,this._updateHeightsTimeSlice=2,this._cameraPositionCartographic=void 0,this._cameraReferenceFrameOriginCartographic=void 0,this.maximumScreenSpaceError=Object(A.a)(e.maximumScreenSpaceError,2),this.tileCacheSize=Object(A.a)(e.tileCacheSize,100),this.loadingDescendantLimit=20,this.preloadAncestors=!0,this.preloadSiblings=!1,this._occluders=new z.a({ellipsoid:i}),this._tileLoadProgressEvent=new j.a,this._lastTileLoadQueueLength=0,this._lastSelectionFrameNumber=void 0}function a(e){var t=e._tileReplacementQueue;t.head=void 0,t.tail=void 0,t.count=0,r(e);var i=e._levelZeroTiles;if(Object(C.a)(i))for(var n=0;n<i.length;++n){for(var a=i[n],o=a.customData,s=o.length,c=0;c<s;++c){var l=o[c];l.level=0,e._addHeightCallbacks.push(l)}i[n].freeResources()}e._levelZeroTiles=void 0,e._tileProvider.cancelReprojections()}function r(e){var t=e._debug;t.maxDepth=0,t.maxDepthVisited=0,t.tilesVisited=0,t.tilesCulled=0,t.tilesRendered=0,t.tilesWaitingForChildren=0,e._tileLoadQueueHigh.length=0,e._tileLoadQueueMedium.length=0,e._tileLoadQueueLow.length=0}function o(e,t){var i=e._tileLoadQueueHigh.length+e._tileLoadQueueMedium.length+e._tileLoadQueueLow.length;(i!==e._lastTileLoadQueueLength||e._tilesInvalidated)&&(t.afterRender.push(j.a.prototype.raiseEvent.bind(e._tileLoadProgressEvent,i)),e._lastTileLoadQueueLength=i);var n=e._debug;n.enableDebugOutput&&!n.suspendLodUpdate&&(n.maxDepth=e._tilesToRender.reduce(function(e,t){return Math.max(e,t.level)},-1),n.tilesRendered=e._tilesToRender.length,n.tilesVisited===n.lastTilesVisited&&n.tilesRendered===n.lastTilesRendered&&n.tilesCulled===n.lastTilesCulled&&n.maxDepth===n.lastMaxDepth&&n.tilesWaitingForChildren===n.lastTilesWaitingForChildren&&n.maxDepthVisited===n.lastMaxDepthVisited||(console.log("Visited "+n.tilesVisited+", Rendered: "+n.tilesRendered+", Culled: "+n.tilesCulled+", Max Depth Rendered: "+n.maxDepth+", Max Depth Visited: "+n.maxDepthVisited+", Waiting for children: "+n.tilesWaitingForChildren),n.lastTilesVisited=n.tilesVisited,n.lastTilesRendered=n.tilesRendered,n.lastTilesCulled=n.tilesCulled,n.lastMaxDepth=n.maxDepth,n.lastTilesWaitingForChildren=n.tilesWaitingForChildren,n.lastMaxDepthVisited=n.maxDepthVisited))}function s(e,t){var i=N.a.center(e.rectangle,W),n=i.longitude-q.longitude,a=i.latitude-q.latitude;i=N.a.center(t.rectangle,W);var r=i.longitude-q.longitude,o=i.latitude-q.latitude;return n*n+a*a-(r*r+o*o)}function c(e,t){var i=e._debug;if(!i.suspendLodUpdate){e._tilesToRender.length=0;var n,a=e._tileProvider;if(!Object(C.a)(e._levelZeroTiles)){if(!a.ready)return;var r=a.tilingScheme;e._levelZeroTiles=B.a.createLevelZeroTiles(r);var o=e._levelZeroTiles.length;if(Y.length<o)for(Y=new Array(o),n=0;n<o;++n)void 0===Y[n]&&(Y[n]=new u)}e._occluders.ellipsoid.cameraPosition=t.camera.positionWC;var c,h=e._levelZeroTiles,d=h.length>1?e._occluders:void 0;q=t.camera.positionCartographic,h.sort(s);var f,p=e._addHeightCallbacks,g=e._removeHeightCallbacks,_=t.frameNumber;if(p.length>0||g.length>0){for(n=0,f=h.length;n<f;++n)c=h[n],c._updateCustomData(_,p,g);p.length=0,g.length=0}var v=t.camera;e._cameraPositionCartographic=v.positionCartographic;var b=I.a.getTranslation(v.transform,G);for(e._cameraReferenceFrameOriginCartographic=e.tileProvider.tilingScheme.ellipsoid.cartesianToCartographic(b,e._cameraReferenceFrameOriginCartographic),n=0,f=h.length;n<f;++n)c=h[n],e._tileReplacementQueue.markTileRendered(c),c.renderable?m(e,c,a,t,d,!1,Y[n]):(l(e,e._tileLoadQueueHigh,c,t),++i.tilesWaitingForChildren);e._lastSelectionFrameNumber=_}}function l(e,t,i,n){i.needsLoading&&(void 0!==e.tileProvider.computeTileLoadPriority&&(i._loadPriority=e.tileProvider.computeTileLoadPriority(i,n)),t.push(i))}function u(){this.allAreRenderable=!0,this.anyWereRenderedLastFrame=!1,this.notYetRenderableCount=0}function h(){this.southwest=new u,this.southeast=new u,this.northwest=new u,this.northeast=new u}function d(e,t,i,n,a){var r=e._debug;++r.tilesVisited,e._tileReplacementQueue.markTileRendered(i),i._updateCustomData(t.frameNumber),i.level>r.maxDepthVisited&&(r.maxDepthVisited=i.level);var o=g(e,t,i)<e.maximumScreenSpaceError,s=i.southwestChild,c=i.southeastChild,u=i.northwestChild,h=i.northeastChild,d=e._lastSelectionFrameNumber,p=i._lastSelectionResultFrame===d?i._lastSelectionResult:H.a.NONE,m=e.tileProvider;if(o||n){var _=H.a.originalResult(p)===H.a.RENDERED,b=H.a.originalResult(p)===H.a.CULLED||p===H.a.NONE,y=i.state===k.a.DONE,O=_||b||y;if(O||Object(C.a)(m.canRenderWithoutLosingDetail)&&(O=m.canRenderWithoutLosingDetail(i)),O)return o&&l(e,e._tileLoadQueueMedium,i,t),v(e,i),a.allAreRenderable=i.renderable,a.anyWereRenderedLastFrame=p===H.a.RENDERED,a.notYetRenderableCount=i.renderable?0:1,i._lastSelectionResultFrame=t.frameNumber,i._lastSelectionResult=H.a.RENDERED,void(a.anyWereRenderedLastFrame||e._tileToUpdateHeights.push(i));n=!0,o&&l(e,e._tileLoadQueueHigh,i,t)}if(m.canRefine(i)){if(s.upsampledFromParent&&c.upsampledFromParent&&u.upsampledFromParent&&h.upsampledFromParent)return v(e,i),l(e,e._tileLoadQueueMedium,i,t),e._tileReplacementQueue.markTileRendered(s),e._tileReplacementQueue.markTileRendered(c),e._tileReplacementQueue.markTileRendered(u),e._tileReplacementQueue.markTileRendered(h),a.allAreRenderable=i.renderable,a.anyWereRenderedLastFrame=p===H.a.RENDERED,a.notYetRenderableCount=i.renderable?0:1,i._lastSelectionResultFrame=t.frameNumber,i._lastSelectionResult=H.a.RENDERED,void(a.anyWereRenderedLastFrame||e._tileToUpdateHeights.push(i));i._lastSelectionResultFrame=t.frameNumber,i._lastSelectionResult=H.a.REFINED;var w=e._tilesToRender.length,x=e._tileLoadQueueLow.length,E=e._tileLoadQueueMedium.length,T=e._tileLoadQueueHigh.length,A=e._tileToUpdateHeights.length;if(f(e,s,c,u,h,t,n,a),w!==e._tilesToRender.length){var S=a.allAreRenderable,j=a.anyWereRenderedLastFrame,P=a.notYetRenderableCount,D=!1;if(!S&&!j){for(var I=e._tilesToRender,R=w;R<I.length;++R)for(var M=I[R];void 0!==M&&M._lastSelectionResult!==H.a.KICKED&&M!==i;)M._lastSelectionResult=H.a.kick(M._lastSelectionResult),M=M.parent;e._tilesToRender.length=w,e._tileToUpdateHeights.length=A,v(e,i),i._lastSelectionResult=H.a.RENDERED;var L=p===H.a.RENDERED;!L&&P>e.loadingDescendantLimit&&(e._tileLoadQueueLow.length=x,e._tileLoadQueueMedium.length=E,e._tileLoadQueueHigh.length=T,l(e,e._tileLoadQueueMedium,i,t),a.notYetRenderableCount=i.renderable?0:1,D=!0),a.allAreRenderable=i.renderable,a.anyWereRenderedLastFrame=L,L||e._tileToUpdateHeights.push(i),++r.tilesWaitingForChildren}e.preloadAncestors&&!D&&l(e,e._tileLoadQueueLow,i,t)}}else i._lastSelectionResultFrame=t.frameNumber,i._lastSelectionResult=H.a.RENDERED,v(e,i),l(e,e._tileLoadQueueHigh,i,t),a.allAreRenderable=i.renderable,a.anyWereRenderedLastFrame=p===H.a.RENDERED,a.notYetRenderableCount=i.renderable?0:1}function f(e,t,i,n,a,r,o,s){var c=r.camera.positionCartographic,l=e._tileProvider,u=e._occluders,h=X[t.level],d=h.southwest,f=h.southeast,p=h.northwest,g=h.northeast;c.longitude<t.rectangle.east?c.latitude<t.rectangle.north?(m(e,t,l,r,u,o,d),m(e,i,l,r,u,o,f),m(e,n,l,r,u,o,p),m(e,a,l,r,u,o,g)):(m(e,n,l,r,u,o,p),m(e,t,l,r,u,o,d),m(e,a,l,r,u,o,g),m(e,i,l,r,u,o,f)):c.latitude<t.rectangle.north?(m(e,i,l,r,u,o,f),m(e,t,l,r,u,o,d),m(e,a,l,r,u,o,g),m(e,n,l,r,u,o,p)):(m(e,a,l,r,u,o,g),m(e,n,l,r,u,o,p),m(e,i,l,r,u,o,f),m(e,t,l,r,u,o,d)),h.combine(s)}function p(e,t){var i=t.rectangle;return Object(C.a)(e._cameraPositionCartographic)&&N.a.contains(i,e._cameraPositionCartographic)||Object(C.a)(e._cameraReferenceFrameOriginCartographic)&&N.a.contains(i,e._cameraReferenceFrameOriginCartographic)}function m(e,t,i,n,a,r,o){if(i.computeTileVisibility(t,n,a)!==F.a.NONE)return d(e,n,t,r,o);if(++e._debug.tilesCulled,e._tileReplacementQueue.markTileRendered(t),o.allAreRenderable=!0,o.anyWereRenderedLastFrame=!1,o.notYetRenderableCount=0,p(e,t)){Object(C.a)(t.data)&&Object(C.a)(t.data.vertexArray)||l(e,e._tileLoadQueueMedium,t,n);var s=e._lastSelectionFrameNumber,c=t._lastSelectionResultFrame===s?t._lastSelectionResult:H.a.NONE;c!==H.a.CULLED_BUT_NEEDED&&c!==H.a.RENDERED&&e._tileToUpdateHeights.push(t),t._lastSelectionResult=H.a.CULLED_BUT_NEEDED}else e.preloadSiblings||0===t.level?(l(e,e._tileLoadQueueLow,t,n),t._lastSelectionResult=H.a.CULLED):t._lastSelectionResult=H.a.CULLED;t._lastSelectionResultFrame=n.frameNumber}function g(e,t,i){if(t.mode===U.a.SCENE2D||t.camera.frustum instanceof R.a||t.camera.frustum instanceof M.a)return _(e,t,i);var n=e._tileProvider.getLevelMaximumGeometricError(i.level),a=i._distance,r=t.context.drawingBufferHeight,o=t.camera.frustum.sseDenominator,s=n*r/(a*o);return t.fog.enabled&&(s-=D.a.fog(a,t.fog.density)*t.fog.sse),s/=t.pixelRatio}function _(e,t,i){var n=t.camera,a=n.frustum;Object(C.a)(a._offCenterFrustum)&&(a=a._offCenterFrustum);var r=t.context,o=r.drawingBufferWidth,s=r.drawingBufferHeight,c=e._tileProvider.getLevelMaximumGeometricError(i.level),l=Math.max(a.top-a.bottom,a.right-a.left)/Math.max(o,s),u=c/l;return t.fog.enabled&&t.mode!==U.a.SCENE2D&&(u-=D.a.fog(i._distance,t.fog.density)*t.fog.sse),u/=t.pixelRatio}function v(e,t){e._tilesToRender.push(t)}function b(e,t){var i=e._tileLoadQueueHigh,n=e._tileLoadQueueMedium,a=e._tileLoadQueueLow;if(0!==i.length||0!==n.length||0!==a.length){e._tileReplacementQueue.trimTiles(e.tileCacheSize);var r=Object(P.a)()+e._loadQueueTimeSlice,o=e._tileProvider,s=O(e,t,o,r,i,!1);s=O(e,t,o,r,n,s),O(e,t,o,r,a,s)}}function y(e,t){return e._loadPriority-t._loadPriority}function O(e,t,i,n,a,r){void 0!==i.computeTileLoadPriority&&a.sort(y);for(var o=0,s=a.length;o<s&&(Object(P.a)()<n||!r);++o){var c=a[o];e._tileReplacementQueue.markTileRendered(c),i.loadTile(t,c),r=!0}return r}function w(e,t){if(e.tileProvider.ready){var i=$;i.length=0;for(var n,a=e._tileToUpdateHeights,r=e._tileProvider.terrainProvider,o=Object(P.a)(),s=e._updateHeightsTimeSlice,c=o+s,l=t.mode,u=t.mapProjection,h=e.tileProvider.tilingScheme.ellipsoid;a.length>0;){var d=a[0];if(Object(C.a)(d.data)&&Object(C.a)(d.data.mesh)){var f=d.customData,p=f.length,m=!1;for(n=e._lastTileIndex;n<p;++n){var g=f[n];if(d.level>g.level){if(Object(C.a)(g.positionOnEllipsoidSurface)||(g.positionOnEllipsoidSurface=E.a.fromRadians(g.positionCartographic.longitude,g.positionCartographic.latitude,0,h)),l===U.a.SCENE3D){var _=h.geodeticSurfaceNormal(g.positionOnEllipsoidSurface,J.direction),v=h.getSurfaceNormalIntersectionWithZAxis(g.positionOnEllipsoidSurface,11500,J.origin);if(!Object(C.a)(v)){var b;Object(C.a)(d.data.tileBoundingRegion)&&(b=d.data.tileBoundingRegion.minimumHeight);var y=Math.min(Object(A.a)(b,0),-11500),O=E.a.multiplyByScalar(_,Math.abs(y)+1,K);E.a.subtract(g.positionOnEllipsoidSurface,O,J.origin)}}else T.a.clone(g.positionCartographic,Z),Z.height=-11500,u.project(Z,K),E.a.fromElements(K.z,K.x,K.y,K),E.a.clone(K,J.origin),E.a.clone(E.a.UNIT_X,J.direction);var w=d.data.pick(J,l,u,!1,K);Object(C.a)(w)&&(g.callback(w),g.level=d.level)}else if(d.level===g.level){for(var x,S=d.children,j=S.length,D=0;D<j&&(x=S[D],!N.a.contains(x.rectangle,g.positionCartographic));++D);var I=r.getTileDataAvailable(x.x,x.y,x.level),R=d.parent;(Object(C.a)(I)&&!I||Object(C.a)(R)&&Object(C.a)(R.data)&&Object(C.a)(R.data.terrainData)&&!R.data.terrainData.isChildAvailable(R.x,R.y,x.x,x.y))&&g.removeFunc()}if(Object(P.a)()>=c){m=!0;break}}if(m){e._lastTileIndex=n;break}e._lastTileIndex=0,a.shift()}else{var M=d._lastSelectionResultFrame===e._lastSelectionFrameNumber?d._lastSelectionResult:H.a.NONE;M!==H.a.RENDERED&&M!==H.a.CULLED_BUT_NEEDED||i.push(d),a.shift(),e._lastTileIndex=0}}for(n=0;n<i.length;n++)a.push(i[n])}}function x(e,t){for(var i=e._tileProvider,n=e._tilesToRender,a=0,r=n.length;a<r;++a){var o=n[a];i.showTileThisFrame(o,t)}}var E=i("Jj+J"),T=i("I3GD"),A=i("5A4e"),C=i("xC6Q"),S=i("PzDm"),j=i("W6xh"),P=i("n08a"),D=i("fq+p"),I=i("Xjii"),R=i("ku5u"),M=i("rpO5"),L=i("/++d"),N=i("Wq1U"),F=i("h+i9"),z=i("lmKU"),B=i("I6c9"),k=i("u1iC"),U=i("sotJ"),V=i("r6sZ"),H=i("qqab");Object.defineProperties(n.prototype,{tileProvider:{get:function(){return this._tileProvider}},tileLoadProgressEvent:{get:function(){return this._tileLoadProgressEvent}},occluders:{get:function(){return this._occluders}}}),n.prototype.invalidateAllTiles=function(){this._tilesInvalidated=!0},n.prototype.forEachLoadedTile=function(e){for(var t=this._tileReplacementQueue.head;Object(C.a)(t);)t.state!==k.a.START&&e(t),t=t.replacementNext},n.prototype.forEachRenderedTile=function(e){for(var t=this._tilesToRender,i=0,n=t.length;i<n;++i)e(t[i])},n.prototype.updateHeight=function(e,t){var i=this,n={positionOnEllipsoidSurface:void 0,positionCartographic:e,level:-1,callback:t};return n.removeFunc=function(){for(var e=i._addHeightCallbacks,t=e.length,a=0;a<t;++a)if(e[a]===n){e.splice(a,1);break}i._removeHeightCallbacks.push(n)},i._addHeightCallbacks.push(n),n.removeFunc},n.prototype.update=function(e){Object(C.a)(this._tileProvider.update)&&this._tileProvider.update(e)},n.prototype.beginFrame=function(e){e.passes.render&&(this._tilesInvalidated&&(a(this),this._tilesInvalidated=!1),this._tileProvider.initialize(e),r(this),this._debug.suspendLodUpdate||this._tileReplacementQueue.markStartOfRenderFrame())},n.prototype.render=function(e){var t=e.passes,i=this._tileProvider;t.render&&(i.beginUpdate(e),c(this,e),x(this,e),i.endUpdate(e)),t.pick&&this._tilesToRender.length>0&&i.updateForPick(e)},n.prototype.endFrame=function(e){e.passes.render&&e.mode!==U.a.MORPHING&&(b(this,e),w(this,e),o(this,e))},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){this._tileProvider=this._tileProvider&&this._tileProvider.destroy()};var q,W=new T.a,G=new E.a,Y=[];h.prototype.combine=function(e){var t=this.southwest,i=this.southeast,n=this.northwest,a=this.northeast;e.allAreRenderable=t.allAreRenderable&&i.allAreRenderable&&n.allAreRenderable&&a.allAreRenderable,e.anyWereRenderedLastFrame=t.anyWereRenderedLastFrame||i.anyWereRenderedLastFrame||n.anyWereRenderedLastFrame||a.anyWereRenderedLastFrame,e.notYetRenderableCount=t.notYetRenderableCount+i.notYetRenderableCount+n.notYetRenderableCount+a.notYetRenderableCount};for(var X=new Array(31),Q=0;Q<X.length;++Q)X[Q]=new h;var J=new L.a,Z=new T.a,K=new E.a,$=[];t.a=n},h95s:function(e,t,i){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},hJx8:function(e,t,i){var n=i("evD5"),a=i("X8DO");e.exports=i("+E39")?function(e,t,i){return n.f(e,t,a(1,i))}:function(e,t,i){return e[t]=i,e}},hPi6:function(e,t,i){"use strict";e.exports=RangeError},hQDq:function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT),this.time=Object(a.a)(e.time,0),this.minimum=Object(a.a)(e.minimum,0),this.maximum=Object(a.a)(e.maximum,50),this._complete=!1}var a=i("5A4e");Object.defineProperties(n.prototype,{complete:{get:function(){return this._complete}}})},hTiu:function(e,t,i){"use strict";function n(e){this.tilePropertyName=e,this._minimum=Number.MAX_VALUE,this._maximum=-Number.MAX_VALUE,this._previousMinimum=Number.MAX_VALUE,this._previousMaximum=-Number.MAX_VALUE,this._referenceMinimum={},this._referenceMaximum={}}function a(e,t){return"_loadTimestamp"===t?c.a.toDate(e).getTime():e}function r(e,t){var i=e.tilePropertyName;if(Object(s.a)(i)){var n=a(t[i],i);return Object(s.a)(n)?(e._maximum=Math.max(n,e._maximum),e._minimum=Math.min(n,e._minimum),n):(e.tilePropertyName=void 0,n)}}var o=i("6F0S"),s=i("xC6Q"),c=i("9Uqs"),l=i("fq+p");n.prototype.setReferenceMinimumMaximum=function(e,t,i){this._referenceMinimum[i]=a(e,i),this._referenceMaximum[i]=a(t,i)};var u=[new o.a(.1,.1,.1,1),new o.a(.153,.278,.878,1),new o.a(.827,.231,.49,1),new o.a(.827,.188,.22,1),new o.a(1,.592,.259,1),new o.a(1,.843,0,1)];n.prototype.colorize=function(e,t){var i=this.tilePropertyName;if(Object(s.a)(i)&&e.contentAvailable&&e._selectedFrame===t.frameNumber){var n=r(this,e),a=this._previousMinimum,c=this._previousMaximum;if(a!==Number.MAX_VALUE&&c!==-Number.MAX_VALUE){var h=c-a+l.a.EPSILON7,d=l.a.clamp(n-a,0,h),f=d/h,p=u.length-1,m=f*p,g=Math.floor(m),_=Math.ceil(m),v=m-g,b=u[g],y=u[_],O=o.a.clone(o.a.WHITE);O.red=l.a.lerp(b.red,y.red,v),O.green=l.a.lerp(b.green,y.green,v),O.blue=l.a.lerp(b.blue,y.blue,v),e._debugColor=O}}},n.prototype.resetMinimumMaximum=function(){var e=this.tilePropertyName;if(Object(s.a)(e)){var t=this._referenceMinimum[e],i=this._referenceMaximum[e],n=Object(s.a)(t)&&Object(s.a)(i);this._previousMinimum=n?t:this._minimum,this._previousMaximum=n?i:this._maximum,this._minimum=Number.MAX_VALUE,this._maximum=-Number.MAX_VALUE}},t.a=n},hmjO:function(e,t,i){"use strict";t.a="/**\n * Unpacks a vec4 depth value to a float in [0, 1) range.\n *\n * @name czm_unpackDepth\n * @glslFunction\n *\n * @param {vec4} packedDepth The packed depth.\n *\n * @returns {float} The floating-point depth in [0, 1) range.\n */\n float czm_unpackDepth(vec4 packedDepth)\n {\n    // See Aras Pranckevičius' post Encoding Floats to RGBA\n    // http://aras-p.info/blog/2009/07/30/encoding-floats-to-rgba-the-final/\n    return dot(packedDepth, vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 16581375.0));\n }\n"},huC5:function(e,t,i){"use strict";function n(e){return e}function a(e,t){return Object(r.a)(e,t,n)}var r=i("7687");t.a=a},i01K:function(e,t,i){"use strict";function n(e){this._value=void 0,this._definitionChanged=new o.a,this._eventHelper=new s.a,this.setValue(e)}var a=i("xC6Q"),r=i("PzDm"),o=i("W6xh"),s=i("HMO3"),c=i("uhjI");Object.defineProperties(n.prototype,{isConstant:{get:function(){var e=this._value;if(!Object(a.a)(e))return!0;for(var t=e.length,i=0;i<t;i++)if(!c.a.isConstant(e[i]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}}}),n.prototype.getValue=function(e,t){if(!Object(a.a)(e))throw new r.a("time is required.");var i=this._value;if(Object(a.a)(i)){var n=i.length;Object(a.a)(t)||(t=new Array(n));for(var o=0,s=0;o<n;){var c=this._value[o],l=c.getValue(e,t[o]);Object(a.a)(l)&&(t[s]=l,s++),o++}return t.length=s,t}},n.prototype.setValue=function(e){var t=this._eventHelper;if(t.removeAll(),Object(a.a)(e)){this._value=e.slice();for(var i=e.length,r=0;r<i;r++){var o=e[r];Object(a.a)(o)&&t.add(o.definitionChanged,n.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)},n.prototype.equals=function(e){return this===e||e instanceof n&&c.a.arrayEquals(this._value,e._value)},n.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)},t.a=n},i0h9:function(e,t,i){"use strict";var n=i("1L1F"),a={NEVER:n.a.NEVER,LESS:n.a.LESS,EQUAL:n.a.EQUAL,LESS_OR_EQUAL:n.a.LEQUAL,GREATER:n.a.GREATER,NOT_EQUAL:n.a.NOTEQUAL,GREATER_OR_EQUAL:n.a.GEQUAL,ALWAYS:n.a.ALWAYS};t.a=Object.freeze(a)},i3sv:function(e,t,i){"use strict";function n(e,t,i,n,a,r,o,s,c){this[0]=Object(l.a)(e,0),this[1]=Object(l.a)(n,0),this[2]=Object(l.a)(o,0),this[3]=Object(l.a)(t,0),this[4]=Object(l.a)(a,0),this[5]=Object(l.a)(s,0),this[6]=Object(l.a)(i,0),this[7]=Object(l.a)(r,0),this[8]=Object(l.a)(c,0)}function a(e){for(var t=0,i=0;i<9;++i){var n=e[i];t+=n*n}return Math.sqrt(t)}function r(e){for(var t=0,i=0;i<3;++i){var a=e[n.getElementIndex(_[i],g[i])];t+=2*a*a}return Math.sqrt(t)}function o(e,t){for(var i=d.a.EPSILON15,a=0,r=1,o=0;o<3;++o){var s=Math.abs(e[n.getElementIndex(_[o],g[o])]);s>a&&(r=o,a=s)}var c=1,l=0,u=g[r],h=_[r];if(Math.abs(e[n.getElementIndex(h,u)])>i){var f,p=e[n.getElementIndex(h,h)],m=e[n.getElementIndex(u,u)],v=e[n.getElementIndex(h,u)],b=(p-m)/2/v;f=b<0?-1/(-b+Math.sqrt(1+b*b)):1/(b+Math.sqrt(1+b*b)),c=1/Math.sqrt(1+f*f),l=f*c}return t=n.clone(n.IDENTITY,t),t[n.getElementIndex(u,u)]=t[n.getElementIndex(h,h)]=c,t[n.getElementIndex(h,u)]=l,t[n.getElementIndex(u,h)]=-l,t}var s=i("Jj+J"),c=i("5F4X"),l=i("5A4e"),u=i("xC6Q"),h=i("PzDm"),d=i("fq+p");n.packedLength=9,n.pack=function(e,t,i){return c.a.typeOf.object("value",e),c.a.defined("array",t),i=Object(l.a)(i,0),t[i++]=e[0],t[i++]=e[1],t[i++]=e[2],t[i++]=e[3],t[i++]=e[4],t[i++]=e[5],t[i++]=e[6],t[i++]=e[7],t[i++]=e[8],t},n.unpack=function(e,t,i){return c.a.defined("array",e),t=Object(l.a)(t,0),Object(u.a)(i)||(i=new n),i[0]=e[t++],i[1]=e[t++],i[2]=e[t++],i[3]=e[t++],i[4]=e[t++],i[5]=e[t++],i[6]=e[t++],i[7]=e[t++],i[8]=e[t++],i},n.clone=function(e,t){if(Object(u.a)(e))return Object(u.a)(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new n(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},n.fromArray=function(e,t,i){return c.a.defined("array",e),t=Object(l.a)(t,0),Object(u.a)(i)||(i=new n),i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2],i[3]=e[t+3],i[4]=e[t+4],i[5]=e[t+5],i[6]=e[t+6],i[7]=e[t+7],i[8]=e[t+8],i},n.fromColumnMajorArray=function(e,t){return c.a.defined("values",e),n.clone(e,t)},n.fromRowMajorArray=function(e,t){return c.a.defined("values",e),Object(u.a)(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},n.fromQuaternion=function(e,t){c.a.typeOf.object("quaternion",e);var i=e.x*e.x,a=e.x*e.y,r=e.x*e.z,o=e.x*e.w,s=e.y*e.y,l=e.y*e.z,h=e.y*e.w,d=e.z*e.z,f=e.z*e.w,p=e.w*e.w,m=i-s-d+p,g=2*(a-f),_=2*(r+h),v=2*(a+f),b=-i+s-d+p,y=2*(l-o),O=2*(r-h),w=2*(l+o),x=-i-s+d+p;return Object(u.a)(t)?(t[0]=m,t[1]=v,t[2]=O,t[3]=g,t[4]=b,t[5]=w,t[6]=_,t[7]=y,t[8]=x,t):new n(m,g,_,v,b,y,O,w,x)},n.fromHeadingPitchRoll=function(e,t){c.a.typeOf.object("headingPitchRoll",e);var i=Math.cos(-e.pitch),a=Math.cos(-e.heading),r=Math.cos(e.roll),o=Math.sin(-e.pitch),s=Math.sin(-e.heading),l=Math.sin(e.roll),h=i*a,d=-r*s+l*o*a,f=l*s+r*o*a,p=i*s,m=r*a+l*o*s,g=-l*a+r*o*s,_=-o,v=l*i,b=r*i;return Object(u.a)(t)?(t[0]=h,t[1]=p,t[2]=_,t[3]=d,t[4]=m,t[5]=v,t[6]=f,t[7]=g,t[8]=b,t):new n(h,d,f,p,m,g,_,v,b)},n.fromScale=function(e,t){return c.a.typeOf.object("scale",e),Object(u.a)(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new n(e.x,0,0,0,e.y,0,0,0,e.z)},n.fromUniformScale=function(e,t){return c.a.typeOf.number("scale",e),Object(u.a)(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new n(e,0,0,0,e,0,0,0,e)},n.fromCrossProduct=function(e,t){return c.a.typeOf.object("vector",e),Object(u.a)(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new n(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},n.fromRotationX=function(e,t){c.a.typeOf.number("angle",e);var i=Math.cos(e),a=Math.sin(e);return Object(u.a)(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=i,t[5]=a,t[6]=0,t[7]=-a,t[8]=i,t):new n(1,0,0,0,i,-a,0,a,i)},n.fromRotationY=function(e,t){c.a.typeOf.number("angle",e);var i=Math.cos(e),a=Math.sin(e);return Object(u.a)(t)?(t[0]=i,t[1]=0,t[2]=-a,t[3]=0,t[4]=1,t[5]=0,t[6]=a,t[7]=0,t[8]=i,t):new n(i,0,a,0,1,0,-a,0,i)},n.fromRotationZ=function(e,t){c.a.typeOf.number("angle",e);var i=Math.cos(e),a=Math.sin(e);return Object(u.a)(t)?(t[0]=i,t[1]=a,t[2]=0,t[3]=-a,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new n(i,-a,0,a,i,0,0,0,1)},n.toArray=function(e,t){return c.a.typeOf.object("matrix",e),Object(u.a)(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},n.getElementIndex=function(e,t){return c.a.typeOf.number.greaterThanOrEquals("row",t,0),c.a.typeOf.number.lessThanOrEquals("row",t,2),c.a.typeOf.number.greaterThanOrEquals("column",e,0),c.a.typeOf.number.lessThanOrEquals("column",e,2),3*e+t},n.getColumn=function(e,t,i){c.a.typeOf.object("matrix",e),c.a.typeOf.number.greaterThanOrEquals("index",t,0),c.a.typeOf.number.lessThanOrEquals("index",t,2),c.a.typeOf.object("result",i);var n=3*t,a=e[n],r=e[n+1],o=e[n+2];return i.x=a,i.y=r,i.z=o,i},n.setColumn=function(e,t,i,a){c.a.typeOf.object("matrix",e),c.a.typeOf.number.greaterThanOrEquals("index",t,0),c.a.typeOf.number.lessThanOrEquals("index",t,2),c.a.typeOf.object("cartesian",i),c.a.typeOf.object("result",a),a=n.clone(e,a);var r=3*t;return a[r]=i.x,a[r+1]=i.y,a[r+2]=i.z,a},n.getRow=function(e,t,i){c.a.typeOf.object("matrix",e),c.a.typeOf.number.greaterThanOrEquals("index",t,0),c.a.typeOf.number.lessThanOrEquals("index",t,2),c.a.typeOf.object("result",i);var n=e[t],a=e[t+3],r=e[t+6];return i.x=n,i.y=a,i.z=r,i},n.setRow=function(e,t,i,a){return c.a.typeOf.object("matrix",e),c.a.typeOf.number.greaterThanOrEquals("index",t,0),c.a.typeOf.number.lessThanOrEquals("index",t,2),c.a.typeOf.object("cartesian",i),c.a.typeOf.object("result",a),a=n.clone(e,a),a[t]=i.x,a[t+3]=i.y,a[t+6]=i.z,a};var f=new s.a;n.getScale=function(e,t){return c.a.typeOf.object("matrix",e),c.a.typeOf.object("result",t),t.x=s.a.magnitude(s.a.fromElements(e[0],e[1],e[2],f)),t.y=s.a.magnitude(s.a.fromElements(e[3],e[4],e[5],f)),t.z=s.a.magnitude(s.a.fromElements(e[6],e[7],e[8],f)),t};var p=new s.a;n.getMaximumScale=function(e){return n.getScale(e,p),s.a.maximumComponent(p)},n.multiply=function(e,t,i){c.a.typeOf.object("left",e),c.a.typeOf.object("right",t),c.a.typeOf.object("result",i);var n=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],a=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],r=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],o=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],s=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],l=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],u=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],h=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],d=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return i[0]=n,i[1]=a,i[2]=r,i[3]=o,i[4]=s,i[5]=l,i[6]=u,i[7]=h,i[8]=d,i},n.add=function(e,t,i){return c.a.typeOf.object("left",e),c.a.typeOf.object("right",t),c.a.typeOf.object("result",i),i[0]=e[0]+t[0],i[1]=e[1]+t[1],i[2]=e[2]+t[2],i[3]=e[3]+t[3],i[4]=e[4]+t[4],i[5]=e[5]+t[5],i[6]=e[6]+t[6],i[7]=e[7]+t[7],i[8]=e[8]+t[8],i},n.subtract=function(e,t,i){return c.a.typeOf.object("left",e),c.a.typeOf.object("right",t),c.a.typeOf.object("result",i),i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],i[3]=e[3]-t[3],i[4]=e[4]-t[4],i[5]=e[5]-t[5],i[6]=e[6]-t[6],i[7]=e[7]-t[7],i[8]=e[8]-t[8],i},n.multiplyByVector=function(e,t,i){c.a.typeOf.object("matrix",e),c.a.typeOf.object("cartesian",t),c.a.typeOf.object("result",i);var n=t.x,a=t.y,r=t.z,o=e[0]*n+e[3]*a+e[6]*r,s=e[1]*n+e[4]*a+e[7]*r,l=e[2]*n+e[5]*a+e[8]*r;return i.x=o,i.y=s,i.z=l,i},n.multiplyByScalar=function(e,t,i){return c.a.typeOf.object("matrix",e),c.a.typeOf.number("scalar",t),c.a.typeOf.object("result",i),i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t,i[3]=e[3]*t,i[4]=e[4]*t,i[5]=e[5]*t,i[6]=e[6]*t,i[7]=e[7]*t,i[8]=e[8]*t,i},n.multiplyByScale=function(e,t,i){return c.a.typeOf.object("matrix",e),c.a.typeOf.object("scale",t),c.a.typeOf.object("result",i),i[0]=e[0]*t.x,i[1]=e[1]*t.x,i[2]=e[2]*t.x,i[3]=e[3]*t.y,i[4]=e[4]*t.y,i[5]=e[5]*t.y,i[6]=e[6]*t.z,i[7]=e[7]*t.z,i[8]=e[8]*t.z,i},n.negate=function(e,t){return c.a.typeOf.object("matrix",e),c.a.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},n.transpose=function(e,t){c.a.typeOf.object("matrix",e),c.a.typeOf.object("result",t);var i=e[0],n=e[3],a=e[6],r=e[1],o=e[4],s=e[7],l=e[2],u=e[5],h=e[8];return t[0]=i,t[1]=n,t[2]=a,t[3]=r,t[4]=o,t[5]=s,t[6]=l,t[7]=u,t[8]=h,t};var m=new s.a(1,1,1);n.getRotation=function(e,t){c.a.typeOf.object("matrix",e),c.a.typeOf.object("result",t);var i=s.a.divideComponents(m,n.getScale(e,p),p);return t=n.multiplyByScale(e,i,t)};var g=[1,0,0],_=[2,2,1],v=new n,b=new n;n.computeEigenDecomposition=function(e,t){c.a.typeOf.object("matrix",e);var i=d.a.EPSILON20,s=0,l=0;Object(u.a)(t)||(t={});for(var h=t.unitary=n.clone(n.IDENTITY,t.unitary),f=t.diagonal=n.clone(e,t.diagonal),p=i*a(f);l<10&&r(f)>p;)o(f,v),n.transpose(v,b),n.multiply(f,v,f),n.multiply(b,f,f),n.multiply(h,v,h),++s>2&&(++l,s=0);return t},n.abs=function(e,t){return c.a.typeOf.object("matrix",e),c.a.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},n.determinant=function(e){c.a.typeOf.object("matrix",e);var t=e[0],i=e[3],n=e[6],a=e[1],r=e[4],o=e[7],s=e[2],l=e[5],u=e[8];return t*(r*u-l*o)+a*(l*n-i*u)+s*(i*o-r*n)},n.inverse=function(e,t){c.a.typeOf.object("matrix",e),c.a.typeOf.object("result",t);var i=e[0],a=e[1],r=e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],p=e[8],m=n.determinant(e);if(Math.abs(m)<=d.a.EPSILON15)throw new h.a("matrix is not invertible");t[0]=s*p-f*l,t[1]=f*r-a*p,t[2]=a*l-s*r,t[3]=u*l-o*p,t[4]=i*p-u*r,t[5]=o*r-i*l,t[6]=o*f-u*s,t[7]=u*a-i*f,t[8]=i*s-o*a;var g=1/m;return n.multiplyByScalar(t,g,t)},n.equals=function(e,t){return e===t||Object(u.a)(e)&&Object(u.a)(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},n.equalsEpsilon=function(e,t,i){return c.a.typeOf.number("epsilon",i),e===t||Object(u.a)(e)&&Object(u.a)(t)&&Math.abs(e[0]-t[0])<=i&&Math.abs(e[1]-t[1])<=i&&Math.abs(e[2]-t[2])<=i&&Math.abs(e[3]-t[3])<=i&&Math.abs(e[4]-t[4])<=i&&Math.abs(e[5]-t[5])<=i&&Math.abs(e[6]-t[6])<=i&&Math.abs(e[7]-t[7])<=i&&Math.abs(e[8]-t[8])<=i},n.IDENTITY=Object.freeze(new n(1,0,0,0,1,0,0,0,1)),n.ZERO=Object.freeze(new n(0,0,0,0,0,0,0,0,0)),n.COLUMN0ROW0=0,n.COLUMN0ROW1=1,n.COLUMN0ROW2=2,n.COLUMN1ROW0=3,n.COLUMN1ROW1=4,n.COLUMN1ROW2=5,n.COLUMN2ROW0=6,n.COLUMN2ROW1=7,n.COLUMN2ROW2=8,Object.defineProperties(n.prototype,{length:{get:function(){return n.packedLength}}}),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.equalsArray=function(e,t,i){return e[0]===t[i]&&e[1]===t[i+1]&&e[2]===t[i+2]&&e[3]===t[i+3]&&e[4]===t[i+4]&&e[5]===t[i+5]&&e[6]===t[i+6]&&e[7]===t[i+7]&&e[8]===t[i+8]},n.prototype.equalsEpsilon=function(e,t){return n.equalsEpsilon(this,e,t)},n.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},t.a=n},iMFZ:function(e,t,i){"use strict";t.a="uniform vec4 u_initialColor;\n\n#if TEXTURE_UNITS > 0\nuniform sampler2D u_dayTextures[TEXTURE_UNITS];\nuniform vec4 u_dayTextureTranslationAndScale[TEXTURE_UNITS];\nuniform bool u_dayTextureUseWebMercatorT[TEXTURE_UNITS];\n\n#ifdef APPLY_ALPHA\nuniform float u_dayTextureAlpha[TEXTURE_UNITS];\n#endif\n\n#ifdef APPLY_SPLIT\nuniform float u_dayTextureSplit[TEXTURE_UNITS];\n#endif\n\n#ifdef APPLY_BRIGHTNESS\nuniform float u_dayTextureBrightness[TEXTURE_UNITS];\n#endif\n\n#ifdef APPLY_CONTRAST\nuniform float u_dayTextureContrast[TEXTURE_UNITS];\n#endif\n\n#ifdef APPLY_HUE\nuniform float u_dayTextureHue[TEXTURE_UNITS];\n#endif\n\n#ifdef APPLY_SATURATION\nuniform float u_dayTextureSaturation[TEXTURE_UNITS];\n#endif\n\n#ifdef APPLY_GAMMA\nuniform float u_dayTextureOneOverGamma[TEXTURE_UNITS];\n#endif\n\n#ifdef APPLY_IMAGERY_CUTOUT\nuniform vec4 u_dayTextureCutoutRectangles[TEXTURE_UNITS];\n#endif\n\n#ifdef APPLY_COLOR_TO_ALPHA\nuniform vec4 u_colorsToAlpha[TEXTURE_UNITS];\n#endif\n\nuniform vec4 u_dayTextureTexCoordsRectangle[TEXTURE_UNITS];\n#endif\n\n#ifdef SHOW_REFLECTIVE_OCEAN\nuniform sampler2D u_waterMask;\nuniform vec4 u_waterMaskTranslationAndScale;\nuniform float u_zoomedOutOceanSpecularIntensity;\n#endif\n\n#ifdef SHOW_OCEAN_WAVES\nuniform sampler2D u_oceanNormalMap;\n#endif\n\n#if defined(ENABLE_DAYNIGHT_SHADING) || defined(GROUND_ATMOSPHERE)\nuniform vec2 u_lightingFadeDistance;\n#endif\n\n#ifdef TILE_LIMIT_RECTANGLE\nuniform vec4 u_cartographicLimitRectangle;\n#endif\n\n#ifdef GROUND_ATMOSPHERE\nuniform vec2 u_nightFadeDistance;\n#endif\n\n#ifdef ENABLE_CLIPPING_PLANES\nuniform sampler2D u_clippingPlanes;\nuniform mat4 u_clippingPlanesMatrix;\nuniform vec4 u_clippingPlanesEdgeStyle;\n#endif\n\n#if defined(FOG) && defined(DYNAMIC_ATMOSPHERE_LIGHTING) && (defined(ENABLE_VERTEX_LIGHTING) || defined(ENABLE_DAYNIGHT_SHADING))\nuniform float u_minimumBrightness;\n#endif\n\n#ifdef COLOR_CORRECT\nuniform vec3 u_hsbShift; // Hue, saturation, brightness\n#endif\n\n#ifdef HIGHLIGHT_FILL_TILE\nuniform vec4 u_fillHighlightColor;\n#endif\n\nvarying vec3 v_positionMC;\nvarying vec3 v_positionEC;\nvarying vec3 v_textureCoordinates;\nvarying vec3 v_normalMC;\nvarying vec3 v_normalEC;\n\n#ifdef APPLY_MATERIAL\nvarying float v_height;\nvarying float v_slope;\nvarying float v_aspect;\n#endif\n\n#if defined(FOG) || defined(GROUND_ATMOSPHERE)\nvarying float v_distance;\nvarying vec3 v_fogRayleighColor;\nvarying vec3 v_fogMieColor;\n#endif\n\n#ifdef GROUND_ATMOSPHERE\nvarying vec3 v_rayleighColor;\nvarying vec3 v_mieColor;\n#endif\n\nvec4 sampleAndBlend(\n    vec4 previousColor,\n    sampler2D textureToSample,\n    vec2 tileTextureCoordinates,\n    vec4 textureCoordinateRectangle,\n    vec4 textureCoordinateTranslationAndScale,\n    float textureAlpha,\n    float textureBrightness,\n    float textureContrast,\n    float textureHue,\n    float textureSaturation,\n    float textureOneOverGamma,\n    float split,\n    vec4 colorToAlpha)\n{\n    // This crazy step stuff sets the alpha to 0.0 if this following condition is true:\n    //    tileTextureCoordinates.s < textureCoordinateRectangle.s ||\n    //    tileTextureCoordinates.s > textureCoordinateRectangle.p ||\n    //    tileTextureCoordinates.t < textureCoordinateRectangle.t ||\n    //    tileTextureCoordinates.t > textureCoordinateRectangle.q\n    // In other words, the alpha is zero if the fragment is outside the rectangle\n    // covered by this texture.  Would an actual 'if' yield better performance?\n    vec2 alphaMultiplier = step(textureCoordinateRectangle.st, tileTextureCoordinates);\n    textureAlpha = textureAlpha * alphaMultiplier.x * alphaMultiplier.y;\n\n    alphaMultiplier = step(vec2(0.0), textureCoordinateRectangle.pq - tileTextureCoordinates);\n    textureAlpha = textureAlpha * alphaMultiplier.x * alphaMultiplier.y;\n\n    vec2 translation = textureCoordinateTranslationAndScale.xy;\n    vec2 scale = textureCoordinateTranslationAndScale.zw;\n    vec2 textureCoordinates = tileTextureCoordinates * scale + translation;\n    vec4 value = texture2D(textureToSample, textureCoordinates);\n    vec3 color = value.rgb;\n    float alpha = value.a;\n\n#ifdef APPLY_COLOR_TO_ALPHA\n    vec3 colorDiff = abs(color.rgb - colorToAlpha.rgb);\n    colorDiff.r = max(max(colorDiff.r, colorDiff.g), colorDiff.b);\n    alpha = czm_branchFreeTernary(colorDiff.r < colorToAlpha.a, 0.0, alpha);\n#endif\n\n#if !defined(APPLY_GAMMA)\n    vec4 tempColor = czm_gammaCorrect(vec4(color, alpha));\n    color = tempColor.rgb;\n    alpha = tempColor.a;\n#else\n    color = pow(color, vec3(textureOneOverGamma));\n#endif\n\n#ifdef APPLY_SPLIT\n    float splitPosition = czm_imagerySplitPosition;\n    // Split to the left\n    if (split < 0.0 && gl_FragCoord.x > splitPosition) {\n       alpha = 0.0;\n    }\n    // Split to the right\n    else if (split > 0.0 && gl_FragCoord.x < splitPosition) {\n       alpha = 0.0;\n    }\n#endif\n\n#ifdef APPLY_BRIGHTNESS\n    color = mix(vec3(0.0), color, textureBrightness);\n#endif\n\n#ifdef APPLY_CONTRAST\n    color = mix(vec3(0.5), color, textureContrast);\n#endif\n\n#ifdef APPLY_HUE\n    color = czm_hue(color, textureHue);\n#endif\n\n#ifdef APPLY_SATURATION\n    color = czm_saturation(color, textureSaturation);\n#endif\n\n    float sourceAlpha = alpha * textureAlpha;\n    float outAlpha = mix(previousColor.a, 1.0, sourceAlpha);\n    outAlpha += sign(outAlpha) - 1.0;\n\n    vec3 outColor = mix(previousColor.rgb * previousColor.a, color, sourceAlpha) / outAlpha;\n\n    // When rendering imagery for a tile in multiple passes,\n    // some GPU/WebGL implementation combinations will not blend fragments in\n    // additional passes correctly if their computation includes an unmasked\n    // divide-by-zero operation,\n    // even if it's not in the output or if the output has alpha zero.\n    //\n    // For example, without sanitization for outAlpha,\n    // this renders without artifacts:\n    //   if (outAlpha == 0.0) { outColor = vec3(0.0); }\n    //\n    // but using czm_branchFreeTernary will cause portions of the tile that are\n    // alpha-zero in the additional pass to render as black instead of blending\n    // with the previous pass:\n    //   outColor = czm_branchFreeTernary(outAlpha == 0.0, vec3(0.0), outColor);\n    //\n    // So instead, sanitize against divide-by-zero,\n    // store this state on the sign of outAlpha, and correct on return.\n\n    return vec4(outColor, max(outAlpha, 0.0));\n}\n\nvec3 colorCorrect(vec3 rgb) {\n#ifdef COLOR_CORRECT\n    // Convert rgb color to hsb\n    vec3 hsb = czm_RGBToHSB(rgb);\n    // Perform hsb shift\n    hsb.x += u_hsbShift.x; // hue\n    hsb.y = clamp(hsb.y + u_hsbShift.y, 0.0, 1.0); // saturation\n    hsb.z = hsb.z > czm_epsilon7 ? hsb.z + u_hsbShift.z : 0.0; // brightness\n    // Convert shifted hsb back to rgb\n    rgb = czm_HSBToRGB(hsb);\n#endif\n    return rgb;\n}\n\nvec4 computeDayColor(vec4 initialColor, vec3 textureCoordinates);\nvec4 computeWaterColor(vec3 positionEyeCoordinates, vec2 textureCoordinates, mat3 enuToEye, vec4 imageryColor, float specularMapValue, float fade);\n\nvoid main()\n{\n#ifdef TILE_LIMIT_RECTANGLE\n    if (v_textureCoordinates.x < u_cartographicLimitRectangle.x || u_cartographicLimitRectangle.z < v_textureCoordinates.x ||\n        v_textureCoordinates.y < u_cartographicLimitRectangle.y || u_cartographicLimitRectangle.w < v_textureCoordinates.y)\n        {\n            discard;\n        }\n#endif\n\n#ifdef ENABLE_CLIPPING_PLANES\n    float clipDistance = clip(gl_FragCoord, u_clippingPlanes, u_clippingPlanesMatrix);\n#endif\n\n    // The clamp below works around an apparent bug in Chrome Canary v23.0.1241.0\n    // where the fragment shader sees textures coordinates < 0.0 and > 1.0 for the\n    // fragments on the edges of tiles even though the vertex shader is outputting\n    // coordinates strictly in the 0-1 range.\n    vec4 color = computeDayColor(u_initialColor, clamp(v_textureCoordinates, 0.0, 1.0));\n\n#ifdef SHOW_TILE_BOUNDARIES\n    if (v_textureCoordinates.x < (1.0/256.0) || v_textureCoordinates.x > (255.0/256.0) ||\n        v_textureCoordinates.y < (1.0/256.0) || v_textureCoordinates.y > (255.0/256.0))\n    {\n        color = vec4(1.0, 0.0, 0.0, 1.0);\n    }\n#endif\n\n#if defined(SHOW_REFLECTIVE_OCEAN) || defined(ENABLE_DAYNIGHT_SHADING) || defined(HDR)\n    vec3 normalMC = czm_geodeticSurfaceNormal(v_positionMC, vec3(0.0), vec3(1.0));   // normalized surface normal in model coordinates\n    vec3 normalEC = czm_normal3D * normalMC;                                         // normalized surface normal in eye coordiantes\n#endif\n\n#if defined(ENABLE_DAYNIGHT_SHADING) || defined(GROUND_ATMOSPHERE)\n    float cameraDist;\n    if (czm_sceneMode == czm_sceneMode2D)\n    {\n        cameraDist = max(czm_frustumPlanes.x - czm_frustumPlanes.y, czm_frustumPlanes.w - czm_frustumPlanes.z) * 0.5;\n    }\n    else if (czm_sceneMode == czm_sceneModeColumbusView)\n    {\n        cameraDist = -czm_view[3].z;\n    }\n    else\n    {\n        cameraDist = length(czm_view[3]);\n    }\n    float fadeOutDist = u_lightingFadeDistance.x;\n    float fadeInDist = u_lightingFadeDistance.y;\n    if (czm_sceneMode != czm_sceneMode3D) {\n        vec3 radii = czm_ellipsoidRadii;\n        float maxRadii = max(radii.x, max(radii.y, radii.z));\n        fadeOutDist -= maxRadii;\n        fadeInDist -= maxRadii;\n    }\n    float fade = clamp((cameraDist - fadeOutDist) / (fadeInDist - fadeOutDist), 0.0, 1.0);\n#else\n    float fade = 0.0;\n#endif\n\n#ifdef SHOW_REFLECTIVE_OCEAN\n    vec2 waterMaskTranslation = u_waterMaskTranslationAndScale.xy;\n    vec2 waterMaskScale = u_waterMaskTranslationAndScale.zw;\n    vec2 waterMaskTextureCoordinates = v_textureCoordinates.xy * waterMaskScale + waterMaskTranslation;\n    waterMaskTextureCoordinates.y = 1.0 - waterMaskTextureCoordinates.y;\n\n    float mask = texture2D(u_waterMask, waterMaskTextureCoordinates).r;\n\n    if (mask > 0.0)\n    {\n        mat3 enuToEye = czm_eastNorthUpToEyeCoordinates(v_positionMC, normalEC);\n\n        vec2 ellipsoidTextureCoordinates = czm_ellipsoidWgs84TextureCoordinates(normalMC);\n        vec2 ellipsoidFlippedTextureCoordinates = czm_ellipsoidWgs84TextureCoordinates(normalMC.zyx);\n\n        vec2 textureCoordinates = mix(ellipsoidTextureCoordinates, ellipsoidFlippedTextureCoordinates, czm_morphTime * smoothstep(0.9, 0.95, normalMC.z));\n\n        color = computeWaterColor(v_positionEC, textureCoordinates, enuToEye, color, mask, fade);\n    }\n#endif\n\n#ifdef APPLY_MATERIAL\n    czm_materialInput materialInput;\n    materialInput.st = v_textureCoordinates.st;\n    materialInput.normalEC = normalize(v_normalEC);\n    materialInput.slope = v_slope;\n    materialInput.height = v_height;\n    materialInput.aspect = v_aspect;\n    czm_material material = czm_getMaterial(materialInput);\n    color.xyz = mix(color.xyz, material.diffuse, material.alpha);\n#endif\n\n#ifdef ENABLE_VERTEX_LIGHTING\n    float diffuseIntensity = clamp(czm_getLambertDiffuse(czm_lightDirectionEC, normalize(v_normalEC)) * 0.9 + 0.3, 0.0, 1.0);\n    vec4 finalColor = vec4(color.rgb * czm_lightColor * diffuseIntensity, color.a);\n#elif defined(ENABLE_DAYNIGHT_SHADING)\n    float diffuseIntensity = clamp(czm_getLambertDiffuse(czm_lightDirectionEC, normalEC) * 5.0 + 0.3, 0.0, 1.0);\n    diffuseIntensity = mix(1.0, diffuseIntensity, fade);\n    vec4 finalColor = vec4(color.rgb * czm_lightColor * diffuseIntensity, color.a);\n#else\n    vec4 finalColor = color;\n#endif\n\n#ifdef ENABLE_CLIPPING_PLANES\n    vec4 clippingPlanesEdgeColor = vec4(1.0);\n    clippingPlanesEdgeColor.rgb = u_clippingPlanesEdgeStyle.rgb;\n    float clippingPlanesEdgeWidth = u_clippingPlanesEdgeStyle.a;\n\n    if (clipDistance < clippingPlanesEdgeWidth)\n    {\n        finalColor = clippingPlanesEdgeColor;\n    }\n#endif\n\n#ifdef HIGHLIGHT_FILL_TILE\n    finalColor = vec4(mix(finalColor.rgb, u_fillHighlightColor.rgb, u_fillHighlightColor.a), finalColor.a);\n#endif\n\n#if defined(FOG) || defined(GROUND_ATMOSPHERE)\n    vec3 fogColor = colorCorrect(v_fogMieColor) + finalColor.rgb * colorCorrect(v_fogRayleighColor);\n#ifndef HDR\n    const float fExposure = 2.0;\n    fogColor = vec3(1.0) - exp(-fExposure * fogColor);\n#endif\n#endif\n\n#if defined(DYNAMIC_ATMOSPHERE_LIGHTING_FROM_SUN)\n    vec3 atmosphereLightDirection = czm_sunDirectionWC;\n#else\n    vec3 atmosphereLightDirection = czm_lightDirectionWC;\n#endif\n\n#ifdef FOG\n#if defined(DYNAMIC_ATMOSPHERE_LIGHTING) && (defined(ENABLE_VERTEX_LIGHTING) || defined(ENABLE_DAYNIGHT_SHADING))\n    float darken = clamp(dot(normalize(czm_viewerPositionWC), atmosphereLightDirection), u_minimumBrightness, 1.0);\n    fogColor *= darken;\n#endif\n\n#ifdef HDR\n    const float modifier = 0.15;\n    finalColor = vec4(czm_fog(v_distance, finalColor.rgb, fogColor, modifier), finalColor.a);\n#else\n    finalColor = vec4(czm_fog(v_distance, finalColor.rgb, fogColor), finalColor.a);\n#endif\n#endif\n\n#ifdef GROUND_ATMOSPHERE\n    if (czm_sceneMode != czm_sceneMode3D)\n    {\n        gl_FragColor = finalColor;\n        return;\n    }\n\n#if defined(PER_FRAGMENT_GROUND_ATMOSPHERE) && defined(DYNAMIC_ATMOSPHERE_LIGHTING) && (defined(ENABLE_DAYNIGHT_SHADING) || defined(ENABLE_VERTEX_LIGHTING))\n    float mpp = czm_metersPerPixel(vec4(0.0, 0.0, -czm_currentFrustum.x, 1.0), 1.0);\n    vec2 xy = gl_FragCoord.xy / czm_viewport.zw * 2.0 - vec2(1.0);\n    xy *= czm_viewport.zw * mpp * 0.5;\n\n    vec3 direction = normalize(vec3(xy, -czm_currentFrustum.x));\n    czm_ray ray = czm_ray(vec3(0.0), direction);\n\n    vec3 ellipsoid_center = czm_view[3].xyz;\n\n    czm_raySegment intersection = czm_rayEllipsoidIntersectionInterval(ray, ellipsoid_center, czm_ellipsoidInverseRadii);\n\n    vec3 ellipsoidPosition = czm_pointAlongRay(ray, intersection.start);\n    ellipsoidPosition = (czm_inverseView * vec4(ellipsoidPosition, 1.0)).xyz;\n    AtmosphereColor atmosColor = computeGroundAtmosphereFromSpace(ellipsoidPosition, true, atmosphereLightDirection);\n\n    vec3 groundAtmosphereColor = colorCorrect(atmosColor.mie) + finalColor.rgb * colorCorrect(atmosColor.rayleigh);\n#ifndef HDR\n    groundAtmosphereColor = vec3(1.0) - exp(-fExposure * groundAtmosphereColor);\n#endif\n\n    fadeInDist = u_nightFadeDistance.x;\n    fadeOutDist = u_nightFadeDistance.y;\n\n    float sunlitAtmosphereIntensity = clamp((cameraDist - fadeOutDist) / (fadeInDist - fadeOutDist), 0.0, 1.0);\n\n#ifdef HDR\n    // Some tweaking to make HDR look better\n    sunlitAtmosphereIntensity = max(sunlitAtmosphereIntensity * sunlitAtmosphereIntensity, 0.03);\n#endif\n\n    groundAtmosphereColor = mix(groundAtmosphereColor, fogColor, sunlitAtmosphereIntensity);\n#else\n    vec3 groundAtmosphereColor = fogColor;\n#endif\n\n#ifdef HDR\n    // Some tweaking to make HDR look better\n    groundAtmosphereColor = czm_saturation(groundAtmosphereColor, 1.6);\n#endif\n\n    finalColor = vec4(mix(finalColor.rgb, groundAtmosphereColor, fade), finalColor.a);\n#endif\n\n    gl_FragColor = finalColor;\n}\n\n#ifdef SHOW_REFLECTIVE_OCEAN\n\nfloat waveFade(float edge0, float edge1, float x)\n{\n    float y = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n    return pow(1.0 - y, 5.0);\n}\n\nfloat linearFade(float edge0, float edge1, float x)\n{\n    return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n}\n\n// Based on water rendering by Jonas Wagner:\n// http://29a.ch/2012/7/19/webgl-terrain-rendering-water-fog\n\n// low altitude wave settings\nconst float oceanFrequencyLowAltitude = 825000.0;\nconst float oceanAnimationSpeedLowAltitude = 0.004;\nconst float oceanOneOverAmplitudeLowAltitude = 1.0 / 2.0;\nconst float oceanSpecularIntensity = 0.5;\n\n// high altitude wave settings\nconst float oceanFrequencyHighAltitude = 125000.0;\nconst float oceanAnimationSpeedHighAltitude = 0.008;\nconst float oceanOneOverAmplitudeHighAltitude = 1.0 / 2.0;\n\nvec4 computeWaterColor(vec3 positionEyeCoordinates, vec2 textureCoordinates, mat3 enuToEye, vec4 imageryColor, float maskValue, float fade)\n{\n    vec3 positionToEyeEC = -positionEyeCoordinates;\n    float positionToEyeECLength = length(positionToEyeEC);\n\n    // The double normalize below works around a bug in Firefox on Android devices.\n    vec3 normalizedPositionToEyeEC = normalize(normalize(positionToEyeEC));\n\n    // Fade out the waves as the camera moves far from the surface.\n    float waveIntensity = waveFade(70000.0, 1000000.0, positionToEyeECLength);\n\n#ifdef SHOW_OCEAN_WAVES\n    // high altitude waves\n    float time = czm_frameNumber * oceanAnimationSpeedHighAltitude;\n    vec4 noise = czm_getWaterNoise(u_oceanNormalMap, textureCoordinates * oceanFrequencyHighAltitude, time, 0.0);\n    vec3 normalTangentSpaceHighAltitude = vec3(noise.xy, noise.z * oceanOneOverAmplitudeHighAltitude);\n\n    // low altitude waves\n    time = czm_frameNumber * oceanAnimationSpeedLowAltitude;\n    noise = czm_getWaterNoise(u_oceanNormalMap, textureCoordinates * oceanFrequencyLowAltitude, time, 0.0);\n    vec3 normalTangentSpaceLowAltitude = vec3(noise.xy, noise.z * oceanOneOverAmplitudeLowAltitude);\n\n    // blend the 2 wave layers based on distance to surface\n    float highAltitudeFade = linearFade(0.0, 60000.0, positionToEyeECLength);\n    float lowAltitudeFade = 1.0 - linearFade(20000.0, 60000.0, positionToEyeECLength);\n    vec3 normalTangentSpace =\n        (highAltitudeFade * normalTangentSpaceHighAltitude) +\n        (lowAltitudeFade * normalTangentSpaceLowAltitude);\n    normalTangentSpace = normalize(normalTangentSpace);\n\n    // fade out the normal perturbation as we move farther from the water surface\n    normalTangentSpace.xy *= waveIntensity;\n    normalTangentSpace = normalize(normalTangentSpace);\n#else\n    vec3 normalTangentSpace = vec3(0.0, 0.0, 1.0);\n#endif\n\n    vec3 normalEC = enuToEye * normalTangentSpace;\n\n    const vec3 waveHighlightColor = vec3(0.3, 0.45, 0.6);\n\n    // Use diffuse light to highlight the waves\n    float diffuseIntensity = czm_getLambertDiffuse(czm_lightDirectionEC, normalEC) * maskValue;\n    vec3 diffuseHighlight = waveHighlightColor * diffuseIntensity * (1.0 - fade);\n\n#ifdef SHOW_OCEAN_WAVES\n    // Where diffuse light is low or non-existent, use wave highlights based solely on\n    // the wave bumpiness and no particular light direction.\n    float tsPerturbationRatio = normalTangentSpace.z;\n    vec3 nonDiffuseHighlight = mix(waveHighlightColor * 5.0 * (1.0 - tsPerturbationRatio), vec3(0.0), diffuseIntensity);\n#else\n    vec3 nonDiffuseHighlight = vec3(0.0);\n#endif\n\n    // Add specular highlights in 3D, and in all modes when zoomed in.\n    float specularIntensity = czm_getSpecular(czm_lightDirectionEC, normalizedPositionToEyeEC, normalEC, 10.0);\n    float surfaceReflectance = mix(0.0, mix(u_zoomedOutOceanSpecularIntensity, oceanSpecularIntensity, waveIntensity), maskValue);\n    float specular = specularIntensity * surfaceReflectance;\n\n#ifdef HDR\n    specular *= 1.4;\n\n    float e = 0.2;\n    float d = 3.3;\n    float c = 1.7;\n\n    vec3 color = imageryColor.rgb + (c * (vec3(e) + imageryColor.rgb * d) * (diffuseHighlight + nonDiffuseHighlight + specular));\n#else\n    vec3 color = imageryColor.rgb + diffuseHighlight + nonDiffuseHighlight + specular;\n#endif\n\n    return vec4(color, imageryColor.a);\n}\n\n#endif // #ifdef SHOW_REFLECTIVE_OCEAN\n"},iP15:function(e,t,i){(function(t){function i(e,t){function i(){if(!a){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),a=!0}return e.apply(this,arguments)}if(n("noDeprecation"))return e;var a=!1;return i}function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=i}).call(t,i("DuR2"))},iaSs:function(e,t,i){"use strict";var n={READY:0,CREATING:1,CREATED:2,COMBINING:3,COMBINED:4,COMPLETE:5,FAILED:6};t.a=Object.freeze(n)},"ib1+":function(e,t,i){"use strict";var n={OPAQUE:0,TRANSLUCENT:1,OPAQUE_AND_TRANSLUCENT:2};t.a=Object.freeze(n)},imMH:function(e,t,i){"use strict";function n(e,t){if(!Object(a.a)(e))throw new o.a("container is required.");e=Object(c.a)(e);var i=new l.a(t);i._exitFullScreenPath=h,i._enterFullScreenPath=u;var n=document.createElement("button");n.type="button",n.className="cesium-button cesium-fullscreenButton",n.setAttribute("data-bind","attr: { title: tooltip },click: command,enable: isFullscreenEnabled,cesiumSvgPath: { path: isFullscreen ? _exitFullScreenPath : _enterFullScreenPath, width: 128, height: 128 }"),e.appendChild(n),s.a.applyBindings(i,n),this._container=e,this._viewModel=i,this._element=n}var a=i("xC6Q"),r=i("6sr8"),o=i("PzDm"),s=i("PKIF"),c=i("k6tp"),l=i("KnOE"),u="M 83.96875 17.5625 L 83.96875 17.59375 L 76.65625 24.875 L 97.09375 24.96875 L 76.09375 45.96875 L 81.9375 51.8125 L 102.78125 30.9375 L 102.875 51.15625 L 110.15625 43.875 L 110.1875 17.59375 L 83.96875 17.5625 z M 44.125 17.59375 L 17.90625 17.625 L 17.9375 43.90625 L 25.21875 51.1875 L 25.3125 30.96875 L 46.15625 51.8125 L 52 45.96875 L 31 25 L 51.4375 24.90625 L 44.125 17.59375 z M 46.0625 76.03125 L 25.1875 96.875 L 25.09375 76.65625 L 17.8125 83.9375 L 17.8125 110.21875 L 44 110.25 L 51.3125 102.9375 L 30.90625 102.84375 L 51.875 81.875 L 46.0625 76.03125 z M 82 76.15625 L 76.15625 82 L 97.15625 103 L 76.71875 103.0625 L 84.03125 110.375 L 110.25 110.34375 L 110.21875 84.0625 L 102.9375 76.8125 L 102.84375 97 L 82 76.15625 z",h="M 104.34375 17.5625 L 83.5 38.4375 L 83.40625 18.21875 L 76.125 25.5 L 76.09375 51.78125 L 102.3125 51.8125 L 102.3125 51.78125 L 109.625 44.5 L 89.1875 44.40625 L 110.1875 23.40625 L 104.34375 17.5625 z M 23.75 17.59375 L 17.90625 23.4375 L 38.90625 44.4375 L 18.5 44.53125 L 25.78125 51.8125 L 52 51.78125 L 51.96875 25.53125 L 44.6875 18.25 L 44.625 38.46875 L 23.75 17.59375 z M 25.6875 76.03125 L 18.375 83.3125 L 38.78125 83.40625 L 17.8125 104.40625 L 23.625 110.25 L 44.5 89.375 L 44.59375 109.59375 L 51.875 102.3125 L 51.875 76.0625 L 25.6875 76.03125 z M 102.375 76.15625 L 76.15625 76.1875 L 76.1875 102.4375 L 83.46875 109.71875 L 83.5625 89.53125 L 104.40625 110.375 L 110.25 104.53125 L 89.25 83.53125 L 109.6875 83.46875 L 102.375 76.15625 z";Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._viewModel.destroy(),s.a.cleanNode(this._element),this._container.removeChild(this._element),Object(r.a)(this)},t.a=n},isL5:function(e,t,i){"use strict";t.a="/**\n * Converts a color from RGB space to linear space.\n *\n * @name czm_gammaCorrect\n * @glslFunction\n *\n * @param {vec3} color The color in RGB space.\n * @returns {vec3} The color in linear space.\n */\nvec3 czm_gammaCorrect(vec3 color) {\n#ifdef HDR\n    color = pow(color, vec3(czm_gamma));\n#endif\n    return color;\n}\n\nvec4 czm_gammaCorrect(vec4 color) {\n#ifdef HDR\n    color.rgb = pow(color.rgb, vec3(czm_gamma));\n#endif\n    return color;\n}\n"},ixF4:function(e,t,i){"use strict";function n(e){this.offset=e.offset,this.count=e.count,this.color=e.color,this.batchIds=e.batchIds}t.a=n},izBM:function(e,t,i){"use strict";var n=i("Jj+J"),a=i("5F4X"),r=i("ZU0d"),o=i("JozK"),s=i("dp99"),c={},l=new n.a;c.checkChildrenWithinParent=function(e){a.a.typeOf.object("tile",e);var t=e.children,i=t.length,c=e.boundingVolume;if(c instanceof s.a||c instanceof o.a){var u=c._orientedBoundingBox;e._optimChildrenWithinParent=r.a.USE_OPTIMIZATION;for(var h=0;h<i;++h){var d=t[h],f=d.boundingVolume;if(!(f instanceof s.a||f instanceof o.a)){e._optimChildrenWithinParent=r.a.SKIP_OPTIMIZATION;break}var p=f._orientedBoundingBox,m=n.a.subtract(p.center,u.center,l),g=n.a.magnitude(m);n.a.divideByScalar(m,g,m);if(Math.abs(u.halfAxes[0]*m.x)+Math.abs(u.halfAxes[1]*m.y)+Math.abs(u.halfAxes[2]*m.z)+Math.abs(u.halfAxes[3]*m.x)+Math.abs(u.halfAxes[4]*m.y)+Math.abs(u.halfAxes[5]*m.z)+Math.abs(u.halfAxes[6]*m.x)+Math.abs(u.halfAxes[7]*m.y)+Math.abs(u.halfAxes[8]*m.z)<=Math.abs(p.halfAxes[0]*m.x)+Math.abs(p.halfAxes[1]*m.y)+Math.abs(p.halfAxes[2]*m.z)+Math.abs(p.halfAxes[3]*m.x)+Math.abs(p.halfAxes[4]*m.y)+Math.abs(p.halfAxes[5]*m.z)+Math.abs(p.halfAxes[6]*m.x)+Math.abs(p.halfAxes[7]*m.y)+Math.abs(p.halfAxes[8]*m.z)+g){e._optimChildrenWithinParent=r.a.SKIP_OPTIMIZATION;break}}}return e._optimChildrenWithinParent===r.a.USE_OPTIMIZATION},t.a=c},izcu:function(e,t,i){"use strict";function n(e){if(e=Object(a.a)(e,a.a.EMPTY_OBJECT),!Object(r.a)(e.geometry))throw new o.a("options.geometry is required.");this.geometry=e.geometry,this.modelMatrix=s.a.clone(Object(a.a)(e.modelMatrix,s.a.IDENTITY)),this.id=e.id,this.pickPrimitive=e.pickPrimitive,this.attributes=Object(a.a)(e.attributes,{}),this.westHemisphereGeometry=void 0,this.eastHemisphereGeometry=void 0}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("Xjii");t.a=n},j43V:function(e,t,i){"use strict";/**
  @license
  fontmetrics.js - https://github.com/Pomax/fontmetrics.js

  Copyright (C) 2011 by Mike "Pomax" Kamermans

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to deal
  in the Software without restriction, including without limitation the rights
  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  THE SOFTWARE.
**/
var n=function(e,t){return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},a=function(e,t,i,a){var r=e.measureText(t),o=n(e.canvas,"font-family"),s=n(e.canvas,"font-size").replace("px",""),c=n(e.canvas,"font-style"),l=n(e.canvas,"font-weight"),u=!/\S/.test(t);r.fontsize=s;var h=document.createElement("div");h.style.position="absolute",h.style.opacity=0,h.style.font=c+" "+l+" "+s+"px "+o,h.innerHTML=t+"<br/>"+t,document.body.appendChild(h),r.leading=1.2*s;var d=n(h,"height");if(d=d.replace("px",""),d>=2*s&&(r.leading=d/2|0),document.body.removeChild(h),u)r.ascent=0,r.descent=0,r.bounds={minx:0,maxx:r.width,miny:0,maxy:0},r.height=0;else{var f=document.createElement("canvas");f.width=r.width+100,f.height=3*s,f.style.opacity=1,f.style.fontFamily=o,f.style.fontSize=s,f.style.fontStyle=c,f.style.fontWeight=l;var p=f.getContext("2d");p.font=c+" "+l+" "+s+"px "+o;var m=f.width,g=f.height,_=g/2;p.fillStyle="white",p.fillRect(-1,-1,m+2,g+2),i&&(p.strokeStyle="black",p.lineWidth=e.lineWidth,p.strokeText(t,50,_)),a&&(p.fillStyle="black",p.fillText(t,50,_));for(var v=p.getImageData(0,0,m,g).data,b=0,y=4*m,O=v.length;++b<O&&255===v[b];);var w=b/y|0;for(b=O-1;--b>0&&255===v[b];);var x=b/y|0;for(b=0;b<O&&255===v[b];)(b+=y)>=O&&(b=b-O+4);var E=b%y/4|0,T=1;for(b=O-3;b>=0&&255===v[b];)(b-=y)<0&&(b=O-3-4*T++);var A=b%y/4+1|0;r.ascent=_-w,r.descent=x-_,r.bounds={minx:E-50,maxx:A-50,miny:0,maxy:x-w},r.height=x-w+1}return r};t.a=a},j90k:function(e,t,i){"use strict";function n(e){return f[0]=e,f[0]}function a(e){return e>>1^-(1&e)}var r=i("Ss9j"),o=i("Jj+J"),s=i("5F4X"),c=i("xC6Q"),l=i("PzDm"),u=i("fq+p"),h={};h.octEncodeInRange=function(e,t,i){s.a.defined("vector",e),s.a.defined("result",i);var n=o.a.magnitudeSquared(e);if(Math.abs(n-1)>u.a.EPSILON6)throw new l.a("vector must be normalized.");if(i.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),i.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0){var a=i.x,r=i.y;i.x=(1-Math.abs(r))*u.a.signNotZero(a),i.y=(1-Math.abs(a))*u.a.signNotZero(r)}return i.x=u.a.toSNorm(i.x,t),i.y=u.a.toSNorm(i.y,t),i},h.octEncode=function(e,t){return h.octEncodeInRange(e,255,t)};var d=new r.a,f=new Uint8Array(1);h.octEncodeToCartesian4=function(e,t){return h.octEncodeInRange(e,65535,d),t.x=n(d.x*(1/256)),t.y=n(d.x),t.z=n(d.y*(1/256)),t.w=n(d.y),t},h.octDecodeInRange=function(e,t,i,n){if(s.a.defined("result",n),e<0||e>i||t<0||t>i)throw new l.a("x and y must be unsigned normalized integers between 0 and "+i);if(n.x=u.a.fromSNorm(e,i),n.y=u.a.fromSNorm(t,i),n.z=1-(Math.abs(n.x)+Math.abs(n.y)),n.z<0){var a=n.x;n.x=(1-Math.abs(n.y))*u.a.signNotZero(a),n.y=(1-Math.abs(a))*u.a.signNotZero(n.y)}return o.a.normalize(n,n)},h.octDecode=function(e,t,i){return h.octDecodeInRange(e,t,255,i)},h.octDecodeFromCartesian4=function(e,t){s.a.typeOf.object("encoded",e),s.a.typeOf.object("result",t);var i=e.x,n=e.y,a=e.z,r=e.w;if(i<0||i>255||n<0||n>255||a<0||a>255||r<0||r>255)throw new l.a("x, y, z, and w must be unsigned normalized integers between 0 and 255");var o=256*i+n,c=256*a+r;return h.octDecodeInRange(o,c,65535,t)},h.octPackFloat=function(e){return s.a.defined("encoded",e),256*e.x+e.y};var p=new r.a;h.octEncodeFloat=function(e){return h.octEncode(e,p),h.octPackFloat(p)},h.octDecodeFloat=function(e,t){s.a.defined("value",e);var i=e/256,n=Math.floor(i),a=256*(i-n);return h.octDecode(n,a,t)},h.octPack=function(e,t,i,n){s.a.defined("v1",e),s.a.defined("v2",t),s.a.defined("v3",i),s.a.defined("result",n);var a=h.octEncodeFloat(e),r=h.octEncodeFloat(t),o=h.octEncode(i,p);return n.x=65536*o.x+a,n.y=65536*o.y+r,n},h.octUnpack=function(e,t,i,n){s.a.defined("packed",e),s.a.defined("v1",t),s.a.defined("v2",i),s.a.defined("v3",n);var a=e.x/65536,r=Math.floor(a),o=65536*(a-r);a=e.y/65536;var c=Math.floor(a),l=65536*(a-c);h.octDecodeFloat(o,t),h.octDecodeFloat(l,i),h.octDecode(r,c,n)},h.compressTextureCoordinates=function(e){return s.a.defined("textureCoordinates",e),4096*(4095*e.x|0)+(4095*e.y|0)},h.decompressTextureCoordinates=function(e,t){s.a.defined("compressed",e),s.a.defined("result",t);var i=e/4096,n=Math.floor(i);return t.x=n/4095,t.y=(e-4096*n)/4095,t},h.zigZagDeltaDecode=function(e,t,i){s.a.defined("uBuffer",e),s.a.defined("vBuffer",t),s.a.typeOf.number.equals("uBuffer.length","vBuffer.length",e.length,t.length),Object(c.a)(i)&&s.a.typeOf.number.equals("uBuffer.length","heightBuffer.length",e.length,i.length);for(var n=e.length,r=0,o=0,l=0,u=0;u<n;++u)r+=a(e[u]),o+=a(t[u]),e[u]=r,t[u]=o,Object(c.a)(i)&&(l+=a(i[u]),i[u]=l)},t.a=h},j94w:function(e,t,i){"use strict";var n={SHIFT:0,CTRL:1,ALT:2};t.a=Object.freeze(n)},"jFv/":function(e,t,i){"use strict";var n=i("1L1F"),a={NEVER:n.a.NEVER,LESS:n.a.LESS,EQUAL:n.a.EQUAL,LESS_OR_EQUAL:n.a.LEQUAL,GREATER:n.a.GREATER,NOT_EQUAL:n.a.NOTEQUAL,GREATER_OR_EQUAL:n.a.GEQUAL,ALWAYS:n.a.ALWAYS};t.a=Object.freeze(a)},jNpS:function(e,t,i){"use strict";t.a="#ifdef LOG_DEPTH\nvarying float v_depthFromNearPlusOne;\n\n#ifdef POLYGON_OFFSET\nuniform vec2 u_polygonOffset;\n#endif\n\n#endif\n\n/**\n * Writes the fragment depth to the logarithmic depth buffer.\n * <p>\n * Use this when the vertex shader does not call {@link czm_vertexlogDepth}, for example, when\n * ray-casting geometry using a full screen quad.\n * </p>\n * @name czm_writeLogDepth\n * @glslFunction\n *\n * @param {float} depth The depth coordinate, where 1.0 is on the near plane and\n *                      depth increases in eye-space units from there\n *\n * @example\n * czm_writeLogDepth((czm_projection * v_positionEyeCoordinates).w + 1.0);\n */\nvoid czm_writeLogDepth(float depth)\n{\n#if defined(GL_EXT_frag_depth) && defined(LOG_DEPTH)\n    // Discard the vertex if it's not between the near and far planes.\n    // We allow a bit of epsilon on the near plane comparison because a 1.0\n    // from the vertex shader (indicating the vertex should be _on_ the near\n    // plane) will not necessarily come here as exactly 1.0.\n    if (depth <= 0.9999999 || depth > czm_farDepthFromNearPlusOne) {\n        discard;\n    }\n\n#ifdef POLYGON_OFFSET\n    // Polygon offset: m * factor + r * units\n    float factor = u_polygonOffset[0];\n    float units = u_polygonOffset[1];\n\n    // If we can't compute derivatives, just leave out the factor I guess?\n#ifdef GL_OES_standard_derivatives\n    // m = sqrt(dZdX^2 + dZdY^2);\n    float x = dFdx(depth);\n    float y = dFdy(depth);\n    float m = sqrt(x * x + y * y);\n\n    // Apply the factor before computing the log depth.\n    depth += m * factor;\n#endif\n\n#endif\n\n    gl_FragDepthEXT = log2(depth) * czm_oneOverLog2FarDepthFromNearPlusOne;\n\n#ifdef POLYGON_OFFSET\n    // Apply the units after the log depth.\n    gl_FragDepthEXT += czm_epsilon7 * units;\n#endif\n\n#endif\n}\n\n/**\n * Writes the fragment depth to the logarithmic depth buffer.\n * <p>\n * Use this when the vertex shader calls {@link czm_vertexlogDepth}.\n * </p>\n *\n * @name czm_writeLogDepth\n * @glslFunction\n */\nvoid czm_writeLogDepth() {\n#ifdef LOG_DEPTH\n    czm_writeLogDepth(v_depthFromNearPlusOne);\n#endif\n}\n"},jOgh:function(e,t,i){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===_(e)}function a(e){return"boolean"==typeof e}function r(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function c(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function u(e){return void 0===e}function h(e){return"[object RegExp]"===_(e)}function d(e){return"object"==typeof e&&null!==e}function f(e){return"[object Date]"===_(e)}function p(e){return"[object Error]"===_(e)||e instanceof Error}function m(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function _(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=a,t.isNull=r,t.isNullOrUndefined=o,t.isNumber=s,t.isString=c,t.isSymbol=l,t.isUndefined=u,t.isRegExp=h,t.isObject=d,t.isDate=f,t.isError=p,t.isFunction=m,t.isPrimitive=g,t.isBuffer=i("EuP9").Buffer.isBuffer},jQbM:function(e,t,i){"use strict";function n(e,t){this._definitionChanged=new c.a,this._value=a.a.clone(e),this._referenceFrame=Object(r.a)(t,l.a.FIXED)}var a=i("Jj+J"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("W6xh"),l=i("IDfv"),u=i("mUvA");Object.defineProperties(n.prototype,{isConstant:{get:function(){return!Object(o.a)(this._value)||this._referenceFrame===l.a.FIXED}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}}),n.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,l.a.FIXED,t)},n.prototype.setValue=function(e,t){var i=!1;a.a.equals(this._value,e)||(i=!0,this._value=a.a.clone(e)),Object(o.a)(t)&&this._referenceFrame!==t&&(i=!0,this._referenceFrame=t),i&&this._definitionChanged.raiseEvent(this)},n.prototype.getValueInReferenceFrame=function(e,t,i){if(!Object(o.a)(e))throw new s.a("time is required.");if(!Object(o.a)(t))throw new s.a("referenceFrame is required.");return u.a.convertToReferenceFrame(e,this._value,this._referenceFrame,t,i)},n.prototype.equals=function(e){return this===e||e instanceof n&&a.a.equals(this._value,e._value)&&this._referenceFrame===e._referenceFrame},t.a=n},jR3i:function(e,t,i){"use strict";function n(){this.imagery=[],this.waterMaskTexture=void 0,this.waterMaskTranslationAndScale=new m.a(0,0,1,1),this.terrainData=void 0,this.vertexArray=void 0,this.orientedBoundingBox=void 0,this.boundingVolumeSourceTile=void 0,this.tileBoundingRegion=void 0,this.occludeePointInScaledSpace=new p.a,this.terrainState=B.a.UNLOADED,this.mesh=void 0,this.fill=void 0,this.pickBoundingSphere=new f.a,this.surfaceShader=void 0,this.isClipped=!0,this.clippedByBoundaries=!1}function a(e,t,i,n,a,r){if(e.decodePosition(n,a,r),Object(g.a)(t)&&t!==z.a.SCENE3D){var o=i.ellipsoid,s=o.cartesianToCartographic(r);i.project(s,r),p.a.fromElements(r.z,r.x,r.y,r)}return r}function r(e,t,i){var n=t.getTileDataAvailable(e.x,e.y,e.level);if(!Object(g.a)(n)&&Object(g.a)(e.parent)){var a=e.parent,r=a.data;Object(g.a)(r)&&Object(g.a)(r.terrainData)&&(n=r.terrainData.isChildAvailable(a.x,a.y,e.x,e.y))}!1===n&&(e.data.terrainState=B.a.FAILED);for(var o=0,s=i.length;o<s;++o){var c=i.get(o);c.show&&c._createTileImagerySkeletons(e,t)}}function o(e,t,i,a,r){var o=e.data,h=e.parent;if(o.terrainState===B.a.FAILED&&void 0!==h){void 0!==h.data&&void 0!==h.data.terrainData&&!1!==h.data.terrainData.canUpsample||n.processStateMachine(h,t,i,a,!0)}if(o.terrainState===B.a.FAILED&&s(o,e,t,i,e.x,e.y,e.level),o.terrainState===B.a.UNLOADED&&c(o,i,e.x,e.y,e.level),o.terrainState===B.a.RECEIVED&&l(o,t,i,e.x,e.y,e.level),o.terrainState===B.a.TRANSFORMED&&u(o,t.context,i,e.x,e.y,e.level,r),o.terrainState>=B.a.RECEIVED&&void 0===o.waterMaskTexture&&i.hasWaterMask){if(void 0!==o.terrainData.waterMask)d(t.context,o);else{var f=o._findAncestorTileWithTerrainData(e);Object(g.a)(f)&&Object(g.a)(f.data.waterMaskTexture)&&(o.waterMaskTexture=f.data.waterMaskTexture,++o.waterMaskTexture.referenceCount,o._computeWaterMaskTranslationAndScale(e,f,o.waterMaskTranslationAndScale))}}}function s(e,t,i,n,a,r,o){var s=t.parent;if(!s)return void(t.state=F.a.FAILED);var c=s.data.terrainData,l=s.x,u=s.y,h=s.level;if(Object(g.a)(c)){var d=c.upsample(n.tilingScheme,l,u,h,a,r,o);Object(g.a)(d)&&(e.terrainState=B.a.RECEIVING,Object(L.a)(d,function(t){e.terrainData=t,e.terrainState=B.a.RECEIVED},function(){e.terrainState=B.a.FAILED}))}}function c(e,t,i,n,a){function r(t){e.terrainData=t,e.terrainState=B.a.RECEIVED,e.request=void 0}function o(){if(e.request.state===x.a.CANCELLED)return e.terrainData=void 0,e.terrainState=B.a.UNLOADED,void(e.request=void 0);e.terrainState=B.a.FAILED,e.request=void 0;var r="Failed to obtain terrain tile X: "+i+" Y: "+n+" Level: "+a+".";t._requestError=T.a.handleError(t._requestError,t,t.errorEvent,r,i,n,a,s)}function s(){var s=new w.a({throttle:!1,throttleByServer:!0,type:E.a.TERRAIN});e.request=s;var c=t.requestTileGeometry(i,n,a,s);Object(g.a)(c)?(e.terrainState=B.a.RECEIVING,Object(L.a)(c,r,o)):(e.terrainState=B.a.UNLOADED,e.request=void 0)}s()}function l(e,t,i,n,a,r){var o=i.tilingScheme,s=e.terrainData,c=s.createMesh(o,n,a,r,t.terrainExaggeration);Object(g.a)(c)&&(e.terrainState=B.a.TRANSFORMING,Object(L.a)(c,function(t){e.mesh=t,e.orientedBoundingBox=b.a.clone(t.orientedBoundingBox,e.orientedBoundingBox),e.occludeePointInScaledSpace=p.a.clone(t.occludeePointInScaledSpace,e.occludeePointInScaledSpace),e.terrainState=B.a.TRANSFORMED},function(){e.terrainState=B.a.FAILED}))}function u(e,t,i,a,r,o,s){e.vertexArray=n._createVertexArrayForMesh(t,e.mesh),e.terrainState=B.a.READY,e.fill=e.fill&&e.fill.destroy(s)}function h(e){var t=e.cache.tile_waterMaskData;if(!Object(g.a)(t)){var i=P.a.create({context:e,pixelFormat:y.a.LUMINANCE,pixelDatatype:S.a.UNSIGNED_BYTE,source:{arrayBufferView:new Uint8Array([255]),width:1,height:1}});i.referenceCount=1;t={allWaterTexture:i,sampler:new j.a({wrapS:R.a.CLAMP_TO_EDGE,wrapT:R.a.CLAMP_TO_EDGE,minificationFilter:I.a.LINEAR,magnificationFilter:D.a.LINEAR}),destroy:function(){this.allWaterTexture.destroy()}},e.cache.tile_waterMaskData=t}return t}function d(e,t){var i,n=t.terrainData.waterMask,a=h(e),r=n.length;if(1===r){if(0===n[0])return;i=a.allWaterTexture}else{var o=Math.sqrt(r);i=P.a.create({context:e,pixelFormat:y.a.LUMINANCE,pixelDatatype:S.a.UNSIGNED_BYTE,source:{width:o,height:o,arrayBufferView:n},sampler:a.sampler,flipY:!1}),i.referenceCount=0}++i.referenceCount,t.waterMaskTexture=i,m.a.fromElements(0,0,1,1,t.waterMaskTranslationAndScale)}var f=i("lBr9"),p=i("Jj+J"),m=i("PDkd"),g=i("xC6Q"),_=i("oMsT"),v=i("Myjj"),b=i("qBw0"),y=i("FhYh"),O=i("/++d"),w=i("dI/G"),x=i("YBjH"),E=i("0pio"),T=i("M1To"),A=i("tW+E"),C=i("rFKc"),S=i("HvCH"),j=i("l0BX"),P=i("25X5"),D=i("YKq0"),I=i("z2iY"),R=i("L4GL"),M=i("+0EW"),L=i("S7OP"),N=i("l1tn"),F=i("u1iC"),z=i("sotJ"),B=i("+Bp5");Object.defineProperties(n.prototype,{eligibleForUnloading:{get:function(){for(var e=this.terrainState,t=e===B.a.RECEIVING||e===B.a.TRANSFORMING,i=!t,n=this.imagery,a=0,r=n.length;i&&a<r;++a){var o=n[a];i=!Object(g.a)(o.loadingImagery)||o.loadingImagery.state!==N.a.TRANSITIONING}return i}},renderedMesh:{get:function(){return Object(g.a)(this.vertexArray)?this.mesh:Object(g.a)(this.fill)?this.fill.mesh:void 0}}});var k=new p.a,U=new p.a,V=new p.a;n.prototype.pick=function(e,t,i,n,r){var o=this.renderedMesh;if(Object(g.a)(o)){for(var s=o.vertices,c=o.indices,l=o.encoding,u=c.length,h=Number.MAX_VALUE,d=0;d<u;d+=3){var f=c[d],p=c[d+1],m=c[d+2],_=a(l,t,i,s,f,k),b=a(l,t,i,s,p,U),y=a(l,t,i,s,m,V),w=v.a.rayTriangleParametric(e,_,b,y,n);Object(g.a)(w)&&w<h&&w>=0&&(h=w)}return h!==Number.MAX_VALUE?O.a.getPoint(e,h,r):void 0}},n.prototype.freeResources=function(){Object(g.a)(this.waterMaskTexture)&&(--this.waterMaskTexture.referenceCount,0===this.waterMaskTexture.referenceCount&&this.waterMaskTexture.destroy(),this.waterMaskTexture=void 0),this.terrainData=void 0,this.terrainState=B.a.UNLOADED,this.mesh=void 0,this.fill=this.fill&&this.fill.destroy();for(var e=this.imagery,t=0,i=e.length;t<i;++t)e[t].freeResources();this.imagery.length=0,this.freeVertexArray()},n.prototype.freeVertexArray=function(){n._freeVertexArray(this.vertexArray),this.vertexArray=void 0,n._freeVertexArray(this.wireframeVertexArray),this.wireframeVertexArray=void 0},n.initialize=function(e,t,i){var a=e.data;Object(g.a)(a)||(a=e.data=new n),e.state===F.a.START&&(r(e,t,i),e.state=F.a.LOADING)},n.processStateMachine=function(e,t,i,a,r,s){n.initialize(e,i,a);var c=e.data;if(e.state===F.a.LOADING&&o(e,t,i,a,r),!s){var l=e.renderable;e.renderable=Object(g.a)(c.vertexArray);var u=c.terrainState===B.a.READY;e.upsampledFromParent=Object(g.a)(c.terrainData)&&c.terrainData.wasCreatedByUpsampling();var h=c.processImagery(e,i,t);if(u&&h){var d=e._loadedCallbacks,f={};for(var p in d)d.hasOwnProperty(p)&&(d[p](e)||(f[p]=d[p]));e._loadedCallbacks=f,e.state=F.a.DONE}l&&(e.renderable=!0)}},n.prototype.processImagery=function(e,t,i,n){var a,r,o=e.data,s=e.upsampledFromParent,c=!1,l=!0,u=o.imagery;for(a=0,r=u.length;a<r;++a){var h=u[a];if(Object(g.a)(h.loadingImagery)){if(h.loadingImagery.state===N.a.PLACEHOLDER){var d=h.loadingImagery.imageryLayer;if(d.imageryProvider.ready){h.freeResources(),u.splice(a,1),d._createTileImagerySkeletons(e,t,a),--a,r=u.length;continue}s=!1}var f=h.processStateMachine(e,i,n);l=l&&f,c=c||f||Object(g.a)(h.readyImagery),s=s&&Object(g.a)(h.loadingImagery)&&(h.loadingImagery.state===N.a.FAILED||h.loadingImagery.state===N.a.INVALID)}else s=!1}return e.upsampledFromParent=s,e.renderable=e.renderable&&(c||l),l},n._createVertexArrayForMesh=function(e,t){var i=t.vertices,n=A.a.createVertexBuffer({context:e,typedArray:i,usage:C.a.STATIC_DRAW}),a=t.encoding.getAttributes(n),r=t.indices.indexBuffers||{},o=r[e.id];if(!Object(g.a)(o)||o.isDestroyed()){var s=t.indices;o=A.a.createIndexBuffer({context:e,typedArray:s,usage:C.a.STATIC_DRAW,indexDatatype:_.a.fromSizeInBytes(s.BYTES_PER_ELEMENT)}),o.vertexArrayDestroyable=!1,o.referenceCount=1,r[e.id]=o,t.indices.indexBuffers=r}else++o.referenceCount;return new M.a({context:e,attributes:a,indexBuffer:o})},n._freeVertexArray=function(e){if(Object(g.a)(e)){var t=e.indexBuffer;e.destroy(),Object(g.a)(t)&&!t.isDestroyed()&&Object(g.a)(t.referenceCount)&&0===--t.referenceCount&&t.destroy()}},n.prototype._findAncestorTileWithTerrainData=function(e){for(var t=e.parent;Object(g.a)(t)&&(!Object(g.a)(t.data)||!Object(g.a)(t.data.terrainData)||t.data.terrainData.wasCreatedByUpsampling());)t=t.parent;return t},n.prototype._computeWaterMaskTranslationAndScale=function(e,t,i){var n=t.rectangle,a=e.rectangle,r=a.width,o=a.height,s=r/n.width,c=o/n.height;return i.x=s*(a.west-n.west)/r,i.y=c*(a.south-n.south)/o,i.z=s,i.w=c,i},t.a=n},jSWP:function(e,t,i){"use strict";function n(e){e=Object(A.a)(e,A.a.EMPTY_OBJECT),this._batchTable=e.batchTable,this._batchIds=e.batchIds,this._positions=e.positions,this._vertexBatchIds=e.vertexBatchIds,this._indices=e.indices,this._indexCounts=e.indexCounts,this._indexOffsets=e.indexOffsets,this._batchedIndices=e.batchedIndices,this._boundingVolume=e.boundingVolume,this._boundingVolumes=e.boundingVolumes,this._center=Object(A.a)(e.center,x.a.ZERO),this._va=void 0,this._sp=void 0,this._spStencil=void 0,this._spPick=void 0,this._uniformMap=void 0,this._vaSwap=void 0,this._rsStencilPreloadPass=void 0,this._rsStencilPreloadPass3DTiles=void 0,this._rsStencilDepthPass=void 0,this._rsStencilDepthPass3DTiles=void 0,this._rsColorPass=void 0,this._rsPickPass=void 0,this._rsWireframe=void 0,this._commands=[],this._commandsIgnoreShow=[],this._pickCommands=[],this._constantColor=E.a.clone(E.a.WHITE),this._highlightColor=this._constantColor,this._batchDirty=!0,this._pickCommandsDirty=!0,this._framesSinceLastRebatch=0,this._updatingAllCommands=!1,this._trianglesLength=this._indices.length/3,this._geometryByteLength=this._indices.byteLength+this._positions.byteLength+this._vertexBatchIds.byteLength,this.debugWireframe=!1,this._debugWireframe=this.debugWireframe,this._wireframeDirty=!1,this.forceRebatch=!1,this.classificationType=Object(A.a)(e.classificationType,q.a.BOTH),this._vertexShaderSource=e._vertexShaderSource,this._fragmentShaderSource=e._fragmentShaderSource,this._attributeLocations=e._attributeLocations,this._uniformMap=e._uniformMap,this._pickId=e._pickId,this._modelMatrix=e._modelMatrix,this._boundingSphere=e._boundingSphere,this._batchIdLookUp={};for(var t=this._batchIds.length,i=0;i<t;++i){var n=this._batchIds[i];this._batchIdLookUp[n]=i}}function a(e,t){if(!Object(C.a)(e._va)){var i=I.a.createVertexBuffer({context:t,typedArray:e._positions,usage:R.a.STATIC_DRAW}),n=I.a.createVertexBuffer({context:t,typedArray:e._vertexBatchIds,usage:R.a.STATIC_DRAW}),a=I.a.createIndexBuffer({context:t,typedArray:e._indices,usage:R.a.DYNAMIC_DRAW,indexDatatype:2===e._indices.BYTES_PER_ELEMENT?j.a.UNSIGNED_SHORT:j.a.UNSIGNED_INT}),r=[{index:0,vertexBuffer:i,componentDatatype:T.a.fromTypedArray(e._positions),componentsPerAttribute:3},{index:1,vertexBuffer:n,componentDatatype:T.a.fromTypedArray(e._vertexBatchIds),componentsPerAttribute:1}];e._va=new B.a({context:t,attributes:r,indexBuffer:a}),t.webgl2&&(e._vaSwap=new B.a({context:t,attributes:r,indexBuffer:I.a.createIndexBuffer({context:t,sizeInBytes:a.sizeInBytes,usage:R.a.DYNAMIC_DRAW,indexDatatype:a.indexDatatype})})),e._batchedPositions=void 0,e._transferrableBatchIds=void 0,e._vertexBatchIds=void 0,e._verticesPromise=void 0}}function r(e,t){if(!Object(C.a)(e._sp)){var i=e._batchTable,n=Object(A.a)(e._attributeLocations,Z),a=e._pickId,r=e._vertexShaderSource,o=e._fragmentShaderSource;if(Object(C.a)(r))return e._sp=F.a.fromCache({context:t,vertexShaderSource:r,fragmentShaderSource:o,attributeLocations:n}),e._spStencil=e._sp,o=z.a.replaceMain(o,"czm_non_pick_main"),o=o+"void main() \n{ \n    czm_non_pick_main(); \n    gl_FragColor = "+a+"; \n} \n",void(e._spPick=F.a.fromCache({context:t,vertexShaderSource:r,fragmentShaderSource:o,attributeLocations:n}));var s=i.getVertexShaderCallback(!1,"a_batchId",void 0)(U.a),c=i.getFragmentShaderCallback()(k.a,!1,void 0);a=i.getPickId();var l=new z.a({sources:[s]}),u=new z.a({defines:["VECTOR_TILE"],sources:[c]});e._sp=F.a.fromCache({context:t,vertexShaderSource:l,fragmentShaderSource:u,attributeLocations:n}),l=new z.a({sources:[U.a]}),u=new z.a({defines:["VECTOR_TILE"],sources:[k.a]}),e._spStencil=F.a.fromCache({context:t,vertexShaderSource:l,fragmentShaderSource:u,attributeLocations:n}),c=z.a.replaceMain(c,"czm_non_pick_main"),c=c+"\nvoid main() \n{ \n    czm_non_pick_main(); \n    gl_FragColor = "+a+"; \n} \n";var h=new z.a({sources:[s]}),d=new z.a({defines:["VECTOR_TILE"],sources:[c]});e._spPick=F.a.fromCache({context:t,vertexShaderSource:h,fragmentShaderSource:d,attributeLocations:n})}}function o(e){var t=e?X.a.EQUAL:X.a.ALWAYS;return{colorMask:{red:!1,green:!1,blue:!1,alpha:!1},stencilTest:{enabled:!0,frontFunction:t,frontOperation:{fail:Q.a.KEEP,zFail:Q.a.DECREMENT_WRAP,zPass:Q.a.DECREMENT_WRAP},backFunction:t,backOperation:{fail:Q.a.KEEP,zFail:Q.a.INCREMENT_WRAP,zPass:Q.a.INCREMENT_WRAP},reference:Y.a.CESIUM_3D_TILE_MASK,mask:Y.a.CESIUM_3D_TILE_MASK},stencilMask:Y.a.CLASSIFICATION_MASK,depthTest:{enabled:!1},depthMask:!1}}function s(e){var t=e?X.a.EQUAL:X.a.ALWAYS;return{colorMask:{red:!1,green:!1,blue:!1,alpha:!1},stencilTest:{enabled:!0,frontFunction:t,frontOperation:{fail:Q.a.KEEP,zFail:Q.a.KEEP,zPass:Q.a.INCREMENT_WRAP},backFunction:t,backOperation:{fail:Q.a.KEEP,zFail:Q.a.KEEP,zPass:Q.a.DECREMENT_WRAP},reference:Y.a.CESIUM_3D_TILE_MASK,mask:Y.a.CESIUM_3D_TILE_MASK},stencilMask:Y.a.CLASSIFICATION_MASK,depthTest:{enabled:!0,func:W.a.LESS_OR_EQUAL},depthMask:!1}}function c(e){Object(C.a)(e._rsStencilPreloadPass)||(e._rsStencilPreloadPass=N.a.fromCache(o(!1)),e._rsStencilPreloadPass3DTiles=N.a.fromCache(o(!0)),e._rsStencilDepthPass=N.a.fromCache(s(!1)),e._rsStencilDepthPass3DTiles=N.a.fromCache(s(!0)),e._rsColorPass=N.a.fromCache(K),e._rsPickPass=N.a.fromCache($))}function l(e,t){if(!Object(C.a)(e._uniformMap)){var i={u_modifiedModelViewProjection:function(){var i=t.uniformState.view,n=t.uniformState.projection;return P.a.clone(i,ee),P.a.multiplyByPoint(ee,e._center,te),P.a.setTranslation(ee,te,ee),P.a.multiply(n,ee,ee),ee},u_highlightColor:function(){return e._highlightColor}};e._uniformMap=e._batchTable.getUniformMapCallback()(i)}}function u(e,t,i,n,a,r,o){for(var s=e.constructor.BYTES_PER_ELEMENT,c=r.length,l=0;l<c;++l){var u=r[l],h=o[u],d=n[h],f=a[h],p=new e.constructor(e.buffer,s*d,f);t.set(p,i),n[h]=i,i+=f}return i}function h(e,t){var i=e._indices,n=e._indexOffsets,a=e._indexCounts,r=e._batchIdLookUp,o=new i.constructor(i.length),s=t.pop(),c=[s],l=u(i,o,0,n,a,s.batchIds,r);for(s.offset=0,s.count=l;t.length>0;){var h=t.pop();if(E.a.equals(h.color,s.color))l=u(i,o,l,n,a,h.batchIds,r),s.batchIds=s.batchIds.concat(h.batchIds),s.count=l-s.offset;else{var d=l;l=u(i,o,l,n,a,h.batchIds,r),h.offset=d,h.count=l-d,c.push(h),s=h}}e._va.indexBuffer.copyFromArrayView(o),e._indices=o,e._batchedIndices=c}function d(e,t,i,n,a,r,o){for(var s=e.bytesPerIndex,c=r.length,l=0;l<c;++l){var u=r[l],h=o[u],d=n[h],f=a[h];t.copyFromBuffer(e,d*s,i*s,f*s),n[h]=i,i+=f}return i}function f(e,t){var i=e._indexOffsets,n=e._indexCounts,a=e._batchIdLookUp,r=t.pop(),o=[r],s=e._va.indexBuffer,c=e._vaSwap.indexBuffer,l=d(s,c,0,i,n,r.batchIds,a);for(r.offset=0,r.count=l;t.length>0;){var u=t.pop();if(E.a.equals(u.color,r.color))l=d(s,c,l,i,n,u.batchIds,a),r.batchIds=r.batchIds.concat(u.batchIds),r.count=l-r.offset;else{var h=l;l=d(s,c,l,i,n,u.batchIds,a),u.offset=h,u.count=l-h,o.push(u),r=u}}var f=e._va;e._va=e._vaSwap,e._vaSwap=f,e._batchedIndices=o}function p(e,t){return t.color.toRgba()-e.color.toRgba()}function m(e,t){if(!e._batchDirty)return!1;for(var i=e._batchedIndices,n=i.length,a=!1,r={},o=0;o<n;++o){var s=i[o].color,c=s.toRgba();if(Object(C.a)(r[c])){a=!0;break}r[c]=!0}return a?a&&!e.forceRebatch&&e._framesSinceLastRebatch<120?void++e._framesSinceLastRebatch:(i.sort(p),t.webgl2?f(e,i):h(e,i),e._framesSinceLastRebatch=0,e._batchDirty=!1,e._pickCommandsDirty=!0,e._wireframeDirty=!0,!0):(e._batchDirty=!1,!1)}function g(e,t){var i=m(e,t),n=e._commands,a=e._batchedIndices,r=a.length,o=3*r;if(!Object(C.a)(n)||i||n.length!==o){n.length=o;for(var s=e._va,c=e._sp,l=Object(A.a)(e._modelMatrix,P.a.IDENTITY),u=e._uniformMap,h=e._boundingVolume,d=0;d<r;++d){var f=a[d].offset,p=a[d].count,g=n[3*d];Object(C.a)(g)||(g=n[3*d]=new M.a({owner:e})),g.vertexArray=s,g.modelMatrix=l,g.offset=f,g.count=p,g.renderState=e._rsStencilPreloadPass,g.shaderProgram=c,g.uniformMap=u,g.boundingVolume=h,g.cull=!1,g.pass=L.a.TERRAIN_CLASSIFICATION;var _=M.a.shallowClone(g,g.derivedCommands.tileset);_.renderState=e._rsStencilPreloadPass3DTiles,_.pass=L.a.CESIUM_3D_TILE_CLASSIFICATION,g.derivedCommands.tileset=_;var v=n[3*d+1];Object(C.a)(v)||(v=n[3*d+1]=new M.a({owner:e})),v.vertexArray=s,v.modelMatrix=l,v.offset=f,v.count=p,v.renderState=e._rsStencilDepthPass,v.shaderProgram=c,v.uniformMap=u,v.boundingVolume=h,v.cull=!1,v.pass=L.a.TERRAIN_CLASSIFICATION;var b=M.a.shallowClone(v,v.derivedCommands.tileset);b.renderState=e._rsStencilDepthPass3DTiles,b.pass=L.a.CESIUM_3D_TILE_CLASSIFICATION,v.derivedCommands.tileset=b;var y=n[3*d+2];Object(C.a)(y)||(y=n[3*d+2]=new M.a({owner:e})),y.vertexArray=s,y.modelMatrix=l,y.offset=f,y.count=p,y.renderState=e._rsColorPass,y.shaderProgram=c,y.uniformMap=u,y.boundingVolume=h,y.cull=!1,y.pass=L.a.TERRAIN_CLASSIFICATION;var O=M.a.shallowClone(y,y.derivedCommands.tileset);O.pass=L.a.CESIUM_3D_TILE_CLASSIFICATION,y.derivedCommands.tileset=O}e._commandsDirty=!0}}function _(e,t){if(e.classificationType!==q.a.TERRAIN&&t.invertClassification&&(!Object(C.a)(e._commandsIgnoreShow)||e._commandsDirty)){for(var i=e._commands,n=e._commandsIgnoreShow,a=e._spStencil,r=i.length,o=n.length=r/3*2,s=0,c=0;c<o;c+=2){var l=n[c]=M.a.shallowClone(i[s],n[c]);l.shaderProgram=a,l.pass=L.a.CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW,l=n[c+1]=M.a.shallowClone(i[s+1],n[c+1]),l.shaderProgram=a,l.pass=L.a.CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW,s+=3}e._commandsDirty=!1}}function v(e){if(e._pickCommandsDirty){var t=e._indexOffsets.length,i=e._pickCommands;i.length=3*t;for(var n=e._va,a=e._spStencil,r=e._spPick,o=Object(A.a)(e._modelMatrix,P.a.IDENTITY),s=e._uniformMap,c=0;c<t;++c){var l=e._indexOffsets[c],u=e._indexCounts[c],h=Object(C.a)(e._boundingVolumes)?e._boundingVolumes[c]:e.boundingVolume,d=i[3*c];Object(C.a)(d)||(d=i[3*c]=new M.a({owner:e,pickOnly:!0})),d.vertexArray=n,d.modelMatrix=o,d.offset=l,d.count=u,d.renderState=e._rsStencilPreloadPass,d.shaderProgram=a,d.uniformMap=s,d.boundingVolume=h,d.pass=L.a.TERRAIN_CLASSIFICATION;var f=M.a.shallowClone(d,d.derivedCommands.tileset);f.renderState=e._rsStencilPreloadPass3DTiles,f.pass=L.a.CESIUM_3D_TILE_CLASSIFICATION,d.derivedCommands.tileset=f;var p=i[3*c+1];Object(C.a)(p)||(p=i[3*c+1]=new M.a({owner:e,pickOnly:!0})),p.vertexArray=n,p.modelMatrix=o,p.offset=l,p.count=u,p.renderState=e._rsStencilDepthPass,p.shaderProgram=a,p.uniformMap=s,p.boundingVolume=h,p.pass=L.a.TERRAIN_CLASSIFICATION;var m=M.a.shallowClone(p,p.derivedCommands.tileset);m.renderState=e._rsStencilDepthPass3DTiles,m.pass=L.a.CESIUM_3D_TILE_CLASSIFICATION,p.derivedCommands.tileset=m;var g=i[3*c+2];Object(C.a)(g)||(g=i[3*c+2]=new M.a({owner:e,pickOnly:!0})),g.vertexArray=n,g.modelMatrix=o,g.offset=l,g.count=u,g.renderState=e._rsPickPass,g.shaderProgram=r,g.uniformMap=s,g.boundingVolume=h,g.pass=L.a.TERRAIN_CLASSIFICATION;var _=M.a.shallowClone(g,g.derivedCommands.tileset);_.pass=L.a.CESIUM_3D_TILE_CLASSIFICATION,g.derivedCommands.tileset=_}e._pickCommandsDirty=!1}}function b(e,t){e._updatingAllCommands=!0;var i,n=e._batchIds,a=n.length;for(i=0;i<a;++i){var r=n[i],o=t[r];o.show=!0,o.color=E.a.WHITE}var s=e._batchedIndices;for(a=s.length,i=0;i<a;++i)s[i].color=E.a.clone(E.a.WHITE);e._updatingAllCommands=!1,e._batchDirty=!0}function y(e,t,i,n){var a,r,o=e.classificationType,s=o!==q.a.CESIUM_3D_TILE,c=o!==q.a.TERRAIN,l=t.commandList,u=i.length;for(r=0;r<u;++r)s&&(a=i[r],a.pass=L.a.TERRAIN_CLASSIFICATION,l.push(a)),c&&(a=i[r].derivedCommands.tileset,a.pass=L.a.CESIUM_3D_TILE_CLASSIFICATION,l.push(a));if(t.invertClassification&&Object(C.a)(n))for(u=n.length,r=0;r<u;++r)l.push(n[r])}function O(e,t){for(var i=e.commandList,n=t.length,a=0;a<n;a+=3){var r=t[a+2];r.pass=L.a.OPAQUE,i.push(r)}}function w(e){var t=e.debugWireframe===e._debugWireframe;if(!(t=t&&!(e.debugWireframe&&e._wireframeDirty))){Object(C.a)(e._rsWireframe)||(e._rsWireframe=N.a.fromCache({}));var i,n;e.debugWireframe?(i=e._rsWireframe,n=D.a.LINES):(i=e._rsColorPass,n=D.a.TRIANGLES);for(var a=e._commands,r=a.length,o=0;o<r;o+=3){var s=a[o+2];s.renderState=i,s.primitiveType=n}e._debugWireframe=e.debugWireframe,e._wireframeDirty=!1}}var x=i("Jj+J"),E=i("6F0S"),T=i("YCZg"),A=i("5A4e"),C=i("xC6Q"),S=i("6sr8"),j=i("oMsT"),P=i("Xjii"),D=i("nHNe"),I=i("tW+E"),R=i("rFKc"),M=i("1mJh"),L=i("M0+0"),N=i("DrvA"),F=i("WUlw"),z=i("x6Ms"),B=i("+0EW"),k=i("F0u8"),U=i("WQL2"),V=i("OtDm"),H=i("/Wph"),q=i("M1dj"),W=i("jFv/"),G=i("ok/U"),Y=i("x0EE"),X=i("i0h9"),Q=i("9URA"),J=i("ixF4");Object.defineProperties(n.prototype,{trianglesLength:{get:function(){return this._trianglesLength}},geometryByteLength:{get:function(){return this._geometryByteLength}}});var Z={position:0,a_batchId:1},K={stencilTest:{enabled:!0,frontFunction:X.a.NOT_EQUAL,frontOperation:{fail:Q.a.KEEP,zFail:Q.a.KEEP,zPass:Q.a.DECREMENT_WRAP},backFunction:X.a.NOT_EQUAL,backOperation:{fail:Q.a.KEEP,zFail:Q.a.KEEP,zPass:Q.a.DECREMENT_WRAP},reference:0,mask:Y.a.CLASSIFICATION_MASK},stencilMask:Y.a.CLASSIFICATION_MASK,depthTest:{enabled:!1},depthMask:!1,blending:V.a.ALPHA_BLEND},$={stencilTest:{enabled:!0,frontFunction:X.a.NOT_EQUAL,frontOperation:{fail:Q.a.KEEP,zFail:Q.a.KEEP,zPass:Q.a.DECREMENT_WRAP},backFunction:X.a.NOT_EQUAL,backOperation:{fail:Q.a.KEEP,zFail:Q.a.KEEP,zPass:Q.a.DECREMENT_WRAP},reference:0,mask:Y.a.CLASSIFICATION_MASK},stencilMask:Y.a.CLASSIFICATION_MASK,depthTest:{enabled:!1},depthMask:!1},ee=new P.a,te=new x.a;n.prototype.createFeatures=function(e,t){for(var i=this._batchIds,n=i.length,a=0;a<n;++a){var r=i[a];t[r]=new H.a(e,r)}},n.prototype.applyDebugSettings=function(e,t){this._highlightColor=e?t:this._constantColor};var ie=new E.a,ne=E.a.WHITE,ae=/\$/;n.prototype.applyStyle=function(e,t){if(!Object(C.a)(e))return void b(this,t);var i=e.color,n=i instanceof G.a&&!ae.test(i.expression);this._updatingAllCommands=n;var a,r=this._batchIds,o=r.length;for(a=0;a<o;++a){var s=r[a],c=t[s];c.color=Object(C.a)(e.color)?e.color.evaluateColor(c,ie):ne,c.show=!Object(C.a)(e.show)||e.show.evaluate(c)}if(n){var l=this._batchedIndices;for(o=l.length,a=0;a<o;++a)l[a].color=E.a.clone(E.a.WHITE);this._updatingAllCommands=!1,this._batchDirty=!0}},n.prototype.updateCommands=function(e,t){if(!this._updatingAllCommands){var i=this._batchIdLookUp,n=i[e];if(Object(C.a)(n)){var a,r=this._indexOffsets,o=this._indexCounts,s=r[n],c=o[n],l=this._batchedIndices,u=l.length;for(a=0;a<u;++a){var h=l[a].offset,d=l[a].count;if(s>=h&&s<h+d)break}l.push(new J.a({color:E.a.clone(t),offset:s,count:c,batchIds:[e]}));for(var f=[],p=[],m=l[a].batchIds,g=m.length,_=0;_<g;++_){var v=m[_];if(v!==e){r[i[v]]<s?f.push(v):p.push(v)}}0!==p.length&&l.push(new J.a({color:E.a.clone(l[a].color),offset:s+c,count:l[a].offset+l[a].count-(s+c),batchIds:p})),0!==f.length?(l[a].count=s-l[a].offset,l[a].batchIds=f):l.splice(a,1),this._batchDirty=!0}}},n.prototype.update=function(e){var t=e.context;a(this,t),r(this,t),c(this),l(this,t);var i=e.passes;i.render&&(g(this,t),_(this,e),w(this),this._debugWireframe?O(e,this._commands):y(this,e,this._commands,this._commandsIgnoreShow)),i.pick&&(v(this),y(this,e,this._pickCommands))},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._va=this._va&&this._va.destroy(),this._sp=this._sp&&this._sp.destroy(),this._spPick=this._spPick&&this._spPick.destroy(),this._vaSwap=this._vaSwap&&this._vaSwap.destroy(),Object(S.a)(this)},t.a=n},jfJn:function(e,t,i){"use strict";t.a="uniform vec4 lightColor;\nuniform vec4 darkColor;\nuniform vec2 repeat;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    // From Stefan Gustavson's Procedural Textures in GLSL in OpenGL Insights\n    float b = smoothstep(0.3, 0.32, length(fract(repeat * materialInput.st) - 0.5));  // 0.0 or 1.0\n\n    vec4 color = mix(lightColor, darkColor, b);\n    color = czm_gammaCorrect(color);\n    material.diffuse = color.rgb;\n    material.alpha = color.a;\n\n    return material;\n}\n"},jjt3:function(e,t,i){"use strict";function n(){a.a.throwInstantiationError()}var a=i("PzDm");Object.defineProperties(n.prototype,{name:{get:a.a.throwInstantiationError},clock:{get:a.a.throwInstantiationError},entities:{get:a.a.throwInstantiationError},isLoading:{get:a.a.throwInstantiationError},changedEvent:{get:a.a.throwInstantiationError},errorEvent:{get:a.a.throwInstantiationError},loadingEvent:{get:a.a.throwInstantiationError},show:{get:a.a.throwInstantiationError},clustering:{get:a.a.throwInstantiationError}}),n.prototype.update=a.a.throwInstantiationError,n.setLoading=function(e,t){e._isLoading!==t&&(t?e._entityCollection.suspendEvents():e._entityCollection.resumeEvents(),e._isLoading=t,e._loading.raiseEvent(e,t))},t.a=n},jktP:function(e,t,i){"use strict";t.a="uniform sampler2D image;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    vec4 rampColor = texture2D(image, vec2(materialInput.slope / (czm_pi / 2.0), 0.5));\n    rampColor = czm_gammaCorrect(rampColor);\n    material.diffuse = rampColor.rgb;\n    material.alpha = rampColor.a;\n    return material;\n}\n"},jn3B:function(e,t,i){"use strict";var n={NONE:0,REPEAT:1,MIRRORED_REPEAT:2};t.a=Object.freeze(n)},jo6B:function(e,t,i){"use strict";function n(e,t,i,n,a){var r=E;r.length=a;var o,s=i.red,c=i.green,u=i.blue,h=i.alpha,d=n.red,f=n.green,p=n.blue,m=n.alpha;if(l.a.equals(i,n)){for(o=0;o<a;o++)r[o]=l.a.clone(i);return r}var g=(d-s)/a,_=(f-c)/a,v=(p-u)/a,b=(m-h)/a;for(o=0;o<a;o++)r[o]=new l.a(s+o*g,c+o*_,u+o*v,h+o*b);return r}function a(e){e=Object(h.a)(e,h.a.EMPTY_OBJECT);var t=e.positions,i=e.colors,n=Object(h.a)(e.width,1),a=Object(h.a)(e.colorsPerVertex,!1);if(!Object(d.a)(t)||t.length<2)throw new f.a("At least two positions are required.");if("number"!=typeof n)throw new f.a("width must be a number");if(Object(d.a)(i)&&(a&&i.length<t.length||!a&&i.length<t.length-1))throw new f.a("colors has an invalid length.");this._positions=t,this._colors=i,this._width=n,this._colorsPerVertex=a,this._vertexFormat=x.a.clone(Object(h.a)(e.vertexFormat,x.a.DEFAULT)),this._arcType=Object(h.a)(e.arcType,r.a.GEODESIC),this._granularity=Object(h.a)(e.granularity,y.a.RADIANS_PER_DEGREE),this._ellipsoid=p.a.clone(Object(h.a)(e.ellipsoid,p.a.WGS84)),this._workerName="createPolylineGeometry";var o=1+t.length*c.a.packedLength;o+=Object(d.a)(i)?1+i.length*l.a.packedLength:1,this.packedLength=o+p.a.packedLength+x.a.packedLength+4}var r=i("X8rS"),o=i("6Ilv"),s=i("lBr9"),c=i("Jj+J"),l=i("6F0S"),u=i("YCZg"),h=i("5A4e"),d=i("xC6Q"),f=i("PzDm"),p=i("y6fO"),m=i("RGAo"),g=i("RYD3"),_=i("GaJK"),v=i("pLXb"),b=i("oMsT"),y=i("fq+p"),O=i("QhJM"),w=i("nHNe"),x=i("xvTE"),E=[];a.pack=function(e,t,i){if(!Object(d.a)(e))throw new f.a("value is required");if(!Object(d.a)(t))throw new f.a("array is required");i=Object(h.a)(i,0);var n,a=e._positions,r=a.length;for(t[i++]=r,n=0;n<r;++n,i+=c.a.packedLength)c.a.pack(a[n],t,i);var o=e._colors;for(r=Object(d.a)(o)?o.length:0,t[i++]=r,n=0;n<r;++n,i+=l.a.packedLength)l.a.pack(o[n],t,i);return p.a.pack(e._ellipsoid,t,i),i+=p.a.packedLength,x.a.pack(e._vertexFormat,t,i),i+=x.a.packedLength,t[i++]=e._width,t[i++]=e._colorsPerVertex?1:0,t[i++]=e._arcType,t[i]=e._granularity,t};var T=p.a.clone(p.a.UNIT_SPHERE),A=new x.a,C={positions:void 0,colors:void 0,ellipsoid:T,vertexFormat:A,width:void 0,colorsPerVertex:void 0,arcType:void 0,granularity:void 0};a.unpack=function(e,t,i){if(!Object(d.a)(e))throw new f.a("array is required");t=Object(h.a)(t,0);var n,r=e[t++],o=new Array(r);for(n=0;n<r;++n,t+=c.a.packedLength)o[n]=c.a.unpack(e,t);r=e[t++];var s=r>0?new Array(r):void 0;for(n=0;n<r;++n,t+=l.a.packedLength)s[n]=l.a.unpack(e,t);var u=p.a.unpack(e,t,T);t+=p.a.packedLength;var m=x.a.unpack(e,t,A);t+=x.a.packedLength;var g=e[t++],_=1===e[t++],v=e[t++],b=e[t];return Object(d.a)(i)?(i._positions=o,i._colors=s,i._ellipsoid=p.a.clone(u,i._ellipsoid),i._vertexFormat=x.a.clone(m,i._vertexFormat),i._width=g,i._colorsPerVertex=_,i._arcType=v,i._granularity=b,i):(C.positions=o,C.colors=s,C.width=g,C.colorsPerVertex=_,C.arcType=v,C.granularity=b,new a(C))};var S=new c.a,j=new c.a,P=new c.a,D=new c.a;a.createGeometry=function(e){var t,i,a,h=e._width,f=e._vertexFormat,p=e._colors,x=e._colorsPerVertex,T=e._arcType,A=e._granularity,C=e._ellipsoid,I=Object(o.a)(e._positions,c.a.equalsEpsilon),R=I.length;if(!(R<2||h<=0)){if(T===r.a.GEODESIC||T===r.a.RHUMB){var M,L;T===r.a.GEODESIC?(M=y.a.chordLength(A,C.maximumRadius),L=O.a.numberOfPoints):(M=A,L=O.a.numberOfPointsRhumbLine);var N=O.a.extractHeights(I,C);if(Object(d.a)(p)){var F=1;for(t=0;t<R-1;++t)F+=L(I[t],I[t+1],M);var z=new Array(F),B=0;for(t=0;t<R-1;++t){var k=I[t],U=I[t+1],V=p[t],H=L(k,U,M);if(x&&t<F){var q=p[t+1],W=n(k,U,V,q,H),G=W.length;for(i=0;i<G;++i)z[B++]=W[i]}else for(i=0;i<H;++i)z[B++]=l.a.clone(V)}z[B]=l.a.clone(p[p.length-1]),p=z,E.length=0}I=T===r.a.GEODESIC?O.a.generateCartesianArc({positions:I,minDistance:M,ellipsoid:C,height:N}):O.a.generateCartesianRhumbArc({positions:I,granularity:M,ellipsoid:C,height:N})}R=I.length;var Y,X=4*R-4,Q=new Float64Array(3*X),J=new Float64Array(3*X),Z=new Float64Array(3*X),K=new Float32Array(2*X),$=f.st?new Float32Array(2*X):void 0,ee=Object(d.a)(p)?new Uint8Array(4*X):void 0,te=0,ie=0,ne=0,ae=0;for(i=0;i<R;++i){0===i?(Y=S,c.a.subtract(I[0],I[1],Y),c.a.add(I[0],Y,Y)):Y=I[i-1],c.a.clone(Y,P),c.a.clone(I[i],j),i===R-1?(Y=S,c.a.subtract(I[R-1],I[R-2],Y),c.a.add(I[R-1],Y,Y)):Y=I[i+1],c.a.clone(Y,D);var re,oe;Object(d.a)(ee)&&(re=0===i||x?p[i]:p[i-1],i!==R-1&&(oe=p[i]));var se=0===i?2:0,ce=i===R-1?2:4;for(a=se;a<ce;++a){c.a.pack(j,Q,te),c.a.pack(P,J,te),c.a.pack(D,Z,te),te+=3;var le=a-2<0?-1:1;if(K[ie++]=a%2*2-1,K[ie++]=le*h,f.st&&($[ne++]=i/(R-1),$[ne++]=Math.max(K[ie-2],0)),Object(d.a)(ee)){var ue=a<2?re:oe;ee[ae++]=l.a.floatToByte(ue.red),ee[ae++]=l.a.floatToByte(ue.green),ee[ae++]=l.a.floatToByte(ue.blue),ee[ae++]=l.a.floatToByte(ue.alpha)}}}var he=new _.a;he.position=new g.a({componentDatatype:u.a.DOUBLE,componentsPerAttribute:3,values:Q}),he.prevPosition=new g.a({componentDatatype:u.a.DOUBLE,componentsPerAttribute:3,values:J}),he.nextPosition=new g.a({componentDatatype:u.a.DOUBLE,componentsPerAttribute:3,values:Z}),he.expandAndWidth=new g.a({componentDatatype:u.a.FLOAT,componentsPerAttribute:2,values:K}),f.st&&(he.st=new g.a({componentDatatype:u.a.FLOAT,componentsPerAttribute:2,values:$})),Object(d.a)(ee)&&(he.color=new g.a({componentDatatype:u.a.UNSIGNED_BYTE,componentsPerAttribute:4,values:ee,normalize:!0}));var de=b.a.createTypedArray(X,6*R-6),fe=0,pe=0,me=R-1;for(i=0;i<me;++i)de[pe++]=fe,de[pe++]=fe+2,de[pe++]=fe+1,de[pe++]=fe+1,de[pe++]=fe+2,de[pe++]=fe+3,fe+=4;return new m.a({attributes:he,indices:de,primitiveType:w.a.TRIANGLES,boundingSphere:s.a.fromPoints(I),geometryType:v.a.POLYLINES})}},t.a=a},jrQD:function(e,t,i){"use strict";var n=i("Jj+J"),a=i("5A4e"),r=i("xC6Q"),o=i("q/xW"),s=new n.a(1,1,1),c=n.a.ZERO,l=o.a.IDENTITY,u=function(e,t,i){this.translation=n.a.clone(Object(a.a)(e,c)),this.rotation=o.a.clone(Object(a.a)(t,l)),this.scale=n.a.clone(Object(a.a)(i,s))};u.prototype.equals=function(e){return this===e||Object(r.a)(e)&&n.a.equals(this.translation,e.translation)&&o.a.equals(this.rotation,e.rotation)&&n.a.equals(this.scale,e.scale)},t.a=u},jxrD:function(e,t,i){"use strict";var n=i("g5zr"),a={LINEAR_NONE:n.a.Easing.Linear.None,QUADRACTIC_IN:n.a.Easing.Quadratic.In,QUADRACTIC_OUT:n.a.Easing.Quadratic.Out,QUADRACTIC_IN_OUT:n.a.Easing.Quadratic.InOut,CUBIC_IN:n.a.Easing.Cubic.In,CUBIC_OUT:n.a.Easing.Cubic.Out,CUBIC_IN_OUT:n.a.Easing.Cubic.InOut,QUARTIC_IN:n.a.Easing.Quartic.In,QUARTIC_OUT:n.a.Easing.Quartic.Out,QUARTIC_IN_OUT:n.a.Easing.Quartic.InOut,QUINTIC_IN:n.a.Easing.Quintic.In,QUINTIC_OUT:n.a.Easing.Quintic.Out,QUINTIC_IN_OUT:n.a.Easing.Quintic.InOut,SINUSOIDAL_IN:n.a.Easing.Sinusoidal.In,SINUSOIDAL_OUT:n.a.Easing.Sinusoidal.Out,SINUSOIDAL_IN_OUT:n.a.Easing.Sinusoidal.InOut,EXPONENTIAL_IN:n.a.Easing.Exponential.In,EXPONENTIAL_OUT:n.a.Easing.Exponential.Out,EXPONENTIAL_IN_OUT:n.a.Easing.Exponential.InOut,CIRCULAR_IN:n.a.Easing.Circular.In,CIRCULAR_OUT:n.a.Easing.Circular.Out,CIRCULAR_IN_OUT:n.a.Easing.Circular.InOut,ELASTIC_IN:n.a.Easing.Elastic.In,ELASTIC_OUT:n.a.Easing.Elastic.Out,ELASTIC_IN_OUT:n.a.Easing.Elastic.InOut,BACK_IN:n.a.Easing.Back.In,BACK_OUT:n.a.Easing.Back.Out,BACK_IN_OUT:n.a.Easing.Back.InOut,BOUNCE_IN:n.a.Easing.Bounce.In,BOUNCE_OUT:n.a.Easing.Bounce.Out,BOUNCE_IN_OUT:n.a.Easing.Bounce.InOut};t.a=Object.freeze(a)},"jzj/":function(e,t,i){"use strict";function n(e,t,i,n,a,r,o,s,c,l){this._gl=e,this._texture=t,this._textureTarget=i,this._targetFace=n,this._pixelFormat=a,this._pixelDatatype=r,this._size=o,this._preMultiplyAlpha=s,this._flipY=c,this._initialized=l}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("FhYh"),l=i("HvCH");Object.defineProperties(n.prototype,{pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},_target:{get:function(){return this._targetFace}}}),n.prototype.copyFrom=function(e,t,i){if(t=Object(r.a)(t,0),i=Object(r.a)(i,0),a.a.defined("source",e),a.a.typeOf.number.greaterThanOrEquals("xOffset",t,0),a.a.typeOf.number.greaterThanOrEquals("yOffset",i,0),t+e.width>this._size)throw new s.a("xOffset + source.width must be less than or equal to width.");if(i+e.height>this._size)throw new s.a("yOffset + source.height must be less than or equal to height.");var n=this._gl,l=this._textureTarget,u=this._targetFace;n.activeTexture(n.TEXTURE0),n.bindTexture(l,this._texture);var h=e.width,d=e.height,f=e.arrayBufferView,p=this._size,m=this._pixelFormat,g=this._pixelDatatype,_=this._preMultiplyAlpha,v=this._flipY,b=4;Object(o.a)(f)&&(b=c.a.alignmentInBytes(m,g,h)),n.pixelStorei(n.UNPACK_ALIGNMENT,b);var y=!1;if(!this._initialized){if(0===t&&0===i&&h===p&&d===p)Object(o.a)(f)?(n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),v&&(f=c.a.flipY(f,m,g,p,p)),n.texImage2D(u,0,m,p,p,0,m,g,f)):(n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,v),n.texImage2D(u,0,m,m,g,e)),y=!0;else{n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);var O=c.a.createTypedArray(m,g,p,p);n.texImage2D(u,0,m,p,p,0,m,g,O)}this._initialized=!0}y||(Object(o.a)(f)?(n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),v&&(f=c.a.flipY(f,m,g,h,d)),n.texSubImage2D(u,0,t,i,h,d,m,g,f)):(n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,v),n.texSubImage2D(u,0,t,i,m,g,e))),n.bindTexture(l,null)},n.prototype.copyFromFramebuffer=function(e,t,i,n,o,c){if(e=Object(r.a)(e,0),t=Object(r.a)(t,0),i=Object(r.a)(i,0),n=Object(r.a)(n,0),o=Object(r.a)(o,this._size),c=Object(r.a)(c,this._size),a.a.typeOf.number.greaterThanOrEquals("xOffset",e,0),a.a.typeOf.number.greaterThanOrEquals("yOffset",t,0),a.a.typeOf.number.greaterThanOrEquals("framebufferXOffset",i,0),a.a.typeOf.number.greaterThanOrEquals("framebufferYOffset",n,0),e+o>this._size)throw new s.a("xOffset + source.width must be less than or equal to width.");if(t+c>this._size)throw new s.a("yOffset + source.height must be less than or equal to height.");if(this._pixelDatatype===l.a.FLOAT)throw new s.a("Cannot call copyFromFramebuffer when the texture pixel data type is FLOAT.");if(this._pixelDatatype===l.a.HALF_FLOAT)throw new s.a("Cannot call copyFromFramebuffer when the texture pixel data type is HALF_FLOAT.");var u=this._gl,h=this._textureTarget;u.activeTexture(u.TEXTURE0),u.bindTexture(h,this._texture),u.copyTexSubImage2D(this._targetFace,0,e,t,i,n,o,c),u.bindTexture(h,null),this._initialized=!0},t.a=n},k6SC:function(e,t,i){"use strict";t.a="/**\n * The automatic GLSL constant for {@link Pass#OVERLAY}\n *\n * @name czm_passOverlay\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passOverlay = 9.0;\n"},k6tp:function(e,t,i){"use strict";function n(e){if("string"==typeof e){var t=document.getElementById(e);if(null===t)throw new a.a('Element with id "'+e+'" does not exist in the document.');e=t}return e}var a=i("PzDm");t.a=n},k7uJ:function(e,t,i){"use strict";var n=i("CcV0"),a={};!function(e){function t(){var e=-1,t=this;t.append=function(i){var n,a=t.table;for(n=0;n<i.length;n++)e=e>>>8^a[255&(e^i[n])]},t.get=function(){return~e}}function i(e,t,i){return e.slice?e.slice(t,t+i):e.webkitSlice?e.webkitSlice(t,t+i):e.mozSlice?e.mozSlice(t,t+i):e.msSlice?e.msSlice(t,t+i):void 0}function a(e,t){var i,n;return i=new ArrayBuffer(e),n=new Uint8Array(i),t&&n.set(t,0),{buffer:i,array:n,view:new DataView(i)}}function r(){}function o(e){function t(t,i){var r=new Blob([e],{type:B});n=new c(r),n.init(function(){a.size=n.size,t()},i)}function i(e,t,i,a){n.readUint8Array(e,t,i,a)}var n,a=this;a.size=0,a.init=t,a.readUint8Array=i}function s(e){function t(t){for(var i=e.length;"="==e.charAt(i-1);)i--;n=e.indexOf(",")+1,r.size=Math.floor(.75*(i-n)),t()}function i(t,i,r){var o,s=a(i),c=4*Math.floor(t/3),l=4*Math.ceil((t+i)/3),u=window.atob(e.substring(c+n,l+n)),h=t-3*Math.floor(c/4);for(o=h;o<h+i;o++)s.array[o-h]=u.charCodeAt(o);r(s.array)}var n,r=this;r.size=0,r.init=t,r.readUint8Array=i}function c(e){function t(t){this.size=e.size,t()}function n(t,n,a,r){var o=new FileReader;o.onload=function(e){a(new Uint8Array(e.target.result))},o.onerror=r,o.readAsArrayBuffer(i(e,t,n))}var a=this;a.size=0,a.init=t,a.readUint8Array=n}function l(){}function u(e){function t(e){a=new Blob([],{type:B}),e()}function i(e,t){a=new Blob([a,C?e:e.buffer],{type:B}),t()}function n(t,i){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=i,n.readAsText(a,e)}var a,r=this;r.init=t,r.writeUint8Array=i,r.getData=n}function h(e){function t(t){r+="data:"+(e||"")+";base64,",t()}function i(e,t){var i,n=o.length,a=o;for(o="",i=0;i<3*Math.floor((n+e.length)/3)-n;i++)a+=String.fromCharCode(e[i]);for(;i<e.length;i++)o+=String.fromCharCode(e[i]);a.length>2?r+=window.btoa(a):o=a,t()}function n(e){e(r+window.btoa(o))}var a=this,r="",o="";a.init=t,a.writeUint8Array=i,a.getData=n}function d(e){function t(t){a=new Blob([],{type:e}),t()}function i(t,i){a=new Blob([a,C?t:t.buffer],{type:e}),i()}function n(e){e(a)}var a,r=this;r.init=t,r.writeUint8Array=i,r.getData=n}function f(e,t,i,n,a,r,o,s,c,l){function u(){e.removeEventListener(k,h,!1),s(p)}function h(e){var t=e.data,n=t.data;t.onappend&&(p+=n.length,i.writeUint8Array(n,function(){r(!1,n),d()},l)),t.onflush&&(n?(p+=n.length,i.writeUint8Array(n,function(){r(!1,n),u()},l)):u()),t.progress&&o&&o(f+t.current,a)}function d(){f=m*N,f<a?t.readUint8Array(n+f,Math.min(N,a-f),function(t){e.postMessage({append:!0,data:t}),m++,o&&o(f,a),r(!0,t)},c):e.postMessage({flush:!0})}var f,p,m=0;p=0,e.addEventListener(k,h,!1),d()}function p(e,t,i,n,a,r,o,s,c,l){function u(){var p;h=d*N,h<a?t.readUint8Array(n+h,Math.min(N,a-h),function(t){var s=e.append(t,function(){o&&o(n+h,a)});f+=s.length,r(!0,t),i.writeUint8Array(s,function(){r(!1,s),d++,setTimeout(u,1)},l),o&&o(h,a)},c):(p=e.flush(),p?(f+=p.length,i.writeUint8Array(p,function(){r(!1,p),s(f)},l)):s(f))}var h,d=0,f=0;u()}function m(i,n,a,r,o,s,c,l,u){function h(e,t){o&&!e&&g.append(t)}function d(e){s(e,g.get())}var m,g=new t;return e.zip.useWebWorkers?(m=new Worker(e.zip.workerScriptsPath+F),f(m,i,n,a,r,h,c,d,l,u)):p(new e.zip.Inflater,i,n,a,r,h,c,d,l,u),m}function g(i,n,a,r,o,s,c){function l(e,t){e&&m.append(t)}function u(e){r(e,m.get())}function h(){d.removeEventListener(k,h,!1),f(d,i,n,0,i.size,l,o,u,s,c)}var d,m=new t;return e.zip.useWebWorkers?(d=new Worker(e.zip.workerScriptsPath+z),d.addEventListener(k,h,!1),d.postMessage({init:!0,level:a})):p(new e.zip.Deflater,i,n,0,i.size,l,o,u,s,c),d}function _(e,i,n,a,r,o,s,c,l){function u(){var t=h*N;t<a?e.readUint8Array(n+t,Math.min(N,a-t),function(e){r&&d.append(e),s&&s(t,a,e),i.writeUint8Array(e,function(){h++,u()},l)},c):o(a,d.get())}var h=0,d=new t;u()}function v(e){var t,i,n="",a=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];for(t=0;t<e.length;t++)i=255&e.charCodeAt(t),n+=i>127?a[i-128]:String.fromCharCode(i);return n}function b(e){return decodeURIComponent(escape(e))}function y(e){var t,i="";for(t=0;t<e.length;t++)i+=String.fromCharCode(e[t]);return i}function O(e){var t=(4294901760&e)>>16,i=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&i)>>11,(2016&i)>>5,2*(31&i),0)}catch(e){}}function w(e,t,i,n,a){return e.version=t.view.getUint16(i,!0),e.bitFlag=t.view.getUint16(i+2,!0),e.compressionMethod=t.view.getUint16(i+4,!0),e.lastModDateRaw=t.view.getUint32(i+6,!0),e.lastModDate=O(e.lastModDateRaw),1==(1&e.bitFlag)?void a(j):((n||8!=(8&e.bitFlag))&&(e.crc32=t.view.getUint32(i+10,!0),e.compressedSize=t.view.getUint32(i+14,!0),e.uncompressedSize=t.view.getUint32(i+18,!0)),4294967295===e.compressedSize||4294967295===e.uncompressedSize?void a(P):(e.filenameLength=t.view.getUint16(i+22,!0),void(e.extraFieldLength=t.view.getUint16(i+24,!0))))}function x(e,t){function i(){}function n(i,r){e.readUint8Array(e.size-i,i,function(e){var t=a(e.length,e).view;1347093766!=t.getUint32(0)?n(i+1,r):r(t)},function(){t(D)})}return i.prototype.getData=function(i,n,r,o){function s(e,t){d&&d.terminate(),d=null,e&&e(t)}function c(e){var t=a(4);return t.view.setUint32(0,e),f.crc32==t.view.getUint32(0)}function l(e,t){o&&!c(t)?u():i.getData(function(e){s(n,e)})}function u(){s(t,M)}function h(){s(t,R)}var d,f=this;e.readUint8Array(f.offset,30,function(n){var s,c=a(n.length,n);if(1347093252!=c.view.getUint32(0))return void t(S);w(f,c,4,!1,t),s=f.offset+30+f.filenameLength+f.extraFieldLength,i.init(function(){0===f.compressionMethod?_(e,i,s,f.compressedSize,o,l,r,u,h):d=m(e,i,s,f.compressedSize,o,l,r,u,h)},h)},u)},{getEntries:function(r){if(e.size<22)return void t(S);n(22,function(n){var o,s;o=n.getUint32(16,!0),s=n.getUint16(8,!0),e.readUint8Array(o,e.size-o,function(e){var n,o,c,l,u=0,h=[],d=a(e.length,e);for(n=0;n<s;n++){if(o=new i,1347092738!=d.view.getUint32(u))return void t(S);w(o,d,u+6,!0,t),o.commentLength=d.view.getUint16(u+32,!0),o.directory=16==(16&d.view.getUint8(u+38)),o.offset=d.view.getUint32(u+42,!0),c=y(d.array.subarray(u+46,u+46+o.filenameLength)),o.filename=2048==(2048&o.bitFlag)?b(c):v(c),o.directory||"/"!=o.filename.charAt(o.filename.length-1)||(o.directory=!0),l=y(d.array.subarray(u+46+o.filenameLength+o.extraFieldLength,u+46+o.filenameLength+o.extraFieldLength+o.commentLength)),o.comment=2048==(2048&o.bitFlag)?b(l):v(l),h.push(o),u+=46+o.filenameLength+o.extraFieldLength+o.commentLength}r(h)},function(){t(D)})})},close:function(e){e&&e()}}}function E(e){return unescape(encodeURIComponent(e))}function T(e){var t,i=[];for(t=0;t<e.length;t++)i.push(e.charCodeAt(t));return i}function A(e,t,i){function n(e,t){s&&s.terminate(),s=null,e&&e(t)}function r(){n(t,I)}function o(){n(t,M)}var s,c={},l=[],u=0;return{add:function(h,d,f,p,m){function v(t){var n;x=m.lastModDate||new Date,O=a(26),c[h]={headerArray:O.array,directory:m.directory,filename:w,offset:u,comment:T(E(m.comment||""))},O.view.setUint32(0,335546376),m.version&&O.view.setUint8(0,m.version),i||0===m.level||m.directory||O.view.setUint16(4,2048),O.view.setUint16(6,(x.getHours()<<6|x.getMinutes())<<5|x.getSeconds()/2,!0),O.view.setUint16(8,(x.getFullYear()-1980<<4|x.getMonth()+1)<<5|x.getDate(),!0),O.view.setUint16(22,w.length,!0),n=a(30+w.length),n.view.setUint32(0,1347093252),n.array.set(O.array,4),n.array.set(w,30),u+=n.array.length,e.writeUint8Array(n.array,t,r)}function b(t,i){var o=a(16);u+=t||0,o.view.setUint32(0,1347094280),void 0!==i&&(O.view.setUint32(10,i,!0),o.view.setUint32(4,i,!0)),d&&(o.view.setUint32(8,t,!0),O.view.setUint32(14,t,!0),o.view.setUint32(12,d.size,!0),O.view.setUint32(18,d.size,!0)),e.writeUint8Array(o.array,function(){u+=16,n(f)},r)}function y(){if(m=m||{},h=h.trim(),m.directory&&"/"!=h.charAt(h.length-1)&&(h+="/"),c.hasOwnProperty(h))return void t(L);w=T(E(h)),l.push(h),v(function(){d?i||0===m.level?_(d,e,0,d.size,!0,b,p,o,r):s=g(d,e,m.level,b,p,o,r):b()},r)}var O,w,x;d?d.init(y,o):y()},close:function(t){var i,o,s,h=0,d=0;for(o=0;o<l.length;o++)s=c[l[o]],h+=46+s.filename.length+s.comment.length;for(i=a(h+22),o=0;o<l.length;o++)s=c[l[o]],i.view.setUint32(d,1347092738),i.view.setUint16(d+4,5120),i.array.set(s.headerArray,d+6),i.view.setUint16(d+32,s.comment.length,!0),s.directory&&i.view.setUint8(d+38,16),i.view.setUint32(d+42,s.offset,!0),i.array.set(s.filename,d+46),i.array.set(s.comment,d+46+s.filename.length),d+=46+s.filename.length+s.comment.length;i.view.setUint32(d,1347093766),i.view.setUint16(d+8,l.length,!0),i.view.setUint16(d+10,l.length,!0),i.view.setUint32(d+12,h,!0),i.view.setUint32(d+16,u,!0),e.writeUint8Array(i.array,function(){n(function(){e.getData(t)})},r)}}}var C,S="File format is not recognized.",j="File contains encrypted entry.",P="File is using Zip64 (4gb+ file size).",D="Error while reading zip file.",I="Error while writing zip file.",R="Error while writing file data.",M="Error while reading file data.",L="File already exists.",N=524288,F="inflate.js",z="deflate.js",B="text/plain",k="message";try{C=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(e){}t.prototype.table=function(){var e,t,i,n=[];for(e=0;e<256;e++){for(i=e,t=0;t<8;t++)1&i?i=i>>>1^3988292384:i>>>=1;n[e]=i}return n}(),o.prototype=new r,o.prototype.constructor=o,s.prototype=new r,s.prototype.constructor=s,c.prototype=new r,c.prototype.constructor=c,l.prototype.getData=function(e){e(this.data)},u.prototype=new l,u.prototype.constructor=u,h.prototype=new l,h.prototype.constructor=h,d.prototype=new l,d.prototype.constructor=d,e.zip={Reader:r,Writer:l,BlobReader:c,Data64URIReader:s,TextReader:o,BlobWriter:d,Data64URIWriter:h,TextWriter:u,createReader:function(e,t,i){e.init(function(){t(x(e,i))},i)},createWriter:function(e,t,i,n){e.init(function(){t(A(e,i,n))},i)},useWebWorkers:!0};var U;Object.defineProperties(e.zip,{workerScriptsPath:{get:function(){return void 0===U&&(U=Object(n.a)("ThirdParty/Workers/")),U}}})}(a),t.a=a.zip},k8Lw:function(e,t,i){"use strict";t.a="/**\n * The automatic GLSL constant for {@link Pass#ENVIRONMENT}\n *\n * @name czm_passEnvironment\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passEnvironment = 0.0;\n"},kCPa:function(e,t,i){"use strict";var n=i("7ar3"),a=n("%Object.getOwnPropertyDescriptor%",!0);if(a)try{a([],"length")}catch(e){a=null}e.exports=a},kJ95:function(e,t,i){"use strict";function n(e,t){var i=new E.a({attributes:new A.a,primitiveType:L.a.TRIANGLES});return i.attributes.position=new T.a({componentDatatype:b.a.DOUBLE,componentsPerAttribute:3,values:t.positions}),e.normal&&(i.attributes.normal=new T.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:3,values:t.normals})),e.tangent&&(i.attributes.tangent=new T.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:3,values:t.tangents})),e.bitangent&&(i.attributes.bitangent=new T.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:3,values:t.bitangents})),i}function a(e,t,i,a){var r=e.length,o=t.normal?new Float32Array(r):void 0,s=t.tangent?new Float32Array(r):void 0,c=t.bitangent?new Float32Array(r):void 0,l=0,u=H,h=V,d=U;if(t.normal||t.tangent||t.bitangent)for(var f=0;f<r;f+=3){var p=g.a.fromArray(e,f,k),m=l+1,_=l+2;d=i.geodeticSurfaceNormal(p,d),(t.tangent||t.bitangent)&&(g.a.cross(g.a.UNIT_Z,d,h),R.a.multiplyByVector(a,h,h),g.a.normalize(h,h),t.bitangent&&g.a.normalize(g.a.cross(d,h,u),u)),t.normal&&(o[l]=d.x,o[m]=d.y,o[_]=d.z),t.tangent&&(s[l]=h.x,s[m]=h.y,s[_]=h.z),t.bitangent&&(c[l]=u.x,c[m]=u.y,c[_]=u.z),l+=3}return n(t,{positions:e,normals:o,tangents:s,bitangents:c})}function r(e,t,i){var a=e.length,r=t.normal?new Float32Array(a):void 0,o=t.tangent?new Float32Array(a):void 0,s=t.bitangent?new Float32Array(a):void 0,c=0,l=0,u=0,h=!0,d=H,f=V,p=U;if(t.normal||t.tangent||t.bitangent)for(var m=0;m<a;m+=6){var _=g.a.fromArray(e,m,k),v=g.a.fromArray(e,(m+6)%a,X);if(h){var b=g.a.fromArray(e,(m+3)%a,Q);g.a.subtract(v,_,v),g.a.subtract(b,_,b),p=g.a.normalize(g.a.cross(b,v,p),p),h=!1}g.a.equalsEpsilon(v,_,D.a.EPSILON10)&&(h=!0),(t.tangent||t.bitangent)&&(d=i.geodeticSurfaceNormal(_,d),t.tangent&&(f=g.a.normalize(g.a.cross(d,p,f),f))),t.normal&&(r[c++]=p.x,r[c++]=p.y,r[c++]=p.z,r[c++]=p.x,r[c++]=p.y,r[c++]=p.z),t.tangent&&(o[l++]=f.x,o[l++]=f.y,o[l++]=f.z,o[l++]=f.x,o[l++]=f.y,o[l++]=f.z),t.bitangent&&(s[u++]=d.x,s[u++]=d.y,s[u++]=d.z,s[u++]=d.x,s[u++]=d.y,s[u++]=d.z)}return n(t,{positions:e,normals:r,tangents:o,bitangents:s})}function o(e,t){var i=e._vertexFormat,n=e._ellipsoid,r=t.height,o=t.width,s=t.northCap,c=t.southCap,l=0,u=r,h=r,d=0;s&&(l=1,h-=1,d+=1),c&&(u-=1,h-=1,d+=1),d+=o*h;for(var f=i.position?new Float64Array(3*d):void 0,p=i.st?new Float32Array(2*d):void 0,m=0,g=0,_=k,v=W,y=Number.MAX_VALUE,O=Number.MAX_VALUE,w=-Number.MAX_VALUE,x=-Number.MAX_VALUE,E=l;E<u;++E)for(var A=0;A<o;++A)z.a.computePosition(t,n,i.st,E,A,_,v),f[m++]=_.x,f[m++]=_.y,f[m++]=_.z,i.st&&(p[g++]=v.x,p[g++]=v.y,y=Math.min(y,v.x),O=Math.min(O,v.y),w=Math.max(w,v.x),x=Math.max(x,v.y));if(s&&(z.a.computePosition(t,n,i.st,0,0,_,v),f[m++]=_.x,f[m++]=_.y,f[m++]=_.z,i.st&&(p[g++]=v.x,p[g++]=v.y,y=v.x,O=v.y,w=v.x,x=v.y)),c&&(z.a.computePosition(t,n,i.st,r-1,0,_,v),f[m++]=_.x,f[m++]=_.y,f[m]=_.z,i.st&&(p[g++]=v.x,p[g]=v.y,y=Math.min(y,v.x),O=Math.min(O,v.y),w=Math.max(w,v.x),x=Math.max(x,v.y))),i.st&&(y<0||O<0||w>1||x>1))for(var C=0;C<p.length;C+=2)p[C]=(p[C]-y)/(w-y),p[C+1]=(p[C+1]-O)/(x-O);var S=a(f,i,n,t.tangentRotationMatrix),j=6*(o-1)*(h-1);s&&(j+=3*(o-1)),c&&(j+=3*(o-1));var D,I=P.a.createTypedArray(d,j),R=0,M=0;for(D=0;D<h-1;++D){for(var L=0;L<o-1;++L){var N=R,F=N+o,B=F+1,U=N+1;I[M++]=N,I[M++]=F,I[M++]=U,I[M++]=U,I[M++]=F,I[M++]=B,++R}++R}if(s||c){var V=d-1,H=d-1;s&&c&&(V=d-2);var q,G;if(R=0,s)for(D=0;D<o-1;D++)q=R,G=q+1,I[M++]=V,I[M++]=q,I[M++]=G,++R;if(c)for(R=(h-1)*o,D=0;D<o-1;D++)q=R,G=q+1,I[M++]=q,I[M++]=H,I[M++]=G,++R}return S.indices=I,i.st&&(S.attributes.st=new T.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:2,values:p})),S}function s(e,t,i,n,a){return e[t++]=n[i],e[t++]=n[i+1],e[t++]=n[i+2],e[t++]=a[i],e[t++]=a[i+1],e[t]=a[i+2],e}function c(e,t,i,n){return e[t++]=n[i],e[t++]=n[i+1],e[t++]=n[i],e[t]=n[i+1],e}function l(e,t){var i,n=e._shadowVolume,a=e._offsetAttribute,l=e._vertexFormat,u=e._extrudedHeight,h=e._surfaceHeight,d=e._ellipsoid,p=t.height,m=t.width;if(n){var _=B.a.clone(l,J);_.normal=!0,e._vertexFormat=_}var v=o(e,t);n&&(e._vertexFormat=l);var y=M.a.scaleToGeodeticHeight(v.attributes.position.values,h,d,!1);y=new Float64Array(y);var w=y.length,x=2*w,E=new Float64Array(x);E.set(y);var A=M.a.scaleToGeodeticHeight(v.attributes.position.values,u,d);E.set(A,w),v.attributes.position.values=E;var I,R,L=l.normal?new Float32Array(x):void 0,N=l.tangent?new Float32Array(x):void 0,F=l.bitangent?new Float32Array(x):void 0,z=l.st?new Float32Array(x/3*2):void 0;if(l.normal){for(R=v.attributes.normal.values,L.set(R),i=0;i<w;i++)R[i]=-R[i];L.set(R,w),v.attributes.normal.values=L}if(n){R=v.attributes.normal.values,l.normal||(v.attributes.normal=void 0);var k=new Float32Array(x);for(i=0;i<w;i++)R[i]=-R[i];k.set(R,w),v.attributes.extrudeDirection=new T.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:3,values:k})}var U,V=Object(O.a)(a);if(V){var H=w/3*2,q=new Uint8Array(H);a===S.a.TOP?q=Object(f.a)(q,1,0,H/2):(U=a===S.a.NONE?0:1,q=Object(f.a)(q,U)),v.attributes.applyOffset=new T.a({componentDatatype:b.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:q})}if(l.tangent){var W=v.attributes.tangent.values;for(N.set(W),i=0;i<w;i++)W[i]=-W[i];N.set(W,w),v.attributes.tangent.values=N}if(l.bitangent){var G=v.attributes.bitangent.values;F.set(G),F.set(G,w),v.attributes.bitangent.values=F}l.st&&(I=v.attributes.st.values,z.set(I),z.set(I,w/3*2),v.attributes.st.values=z);var Y=v.indices,Z=Y.length,K=w/3,$=P.a.createTypedArray(x/3,2*Z);for($.set(Y),i=0;i<Z;i+=3)$[i+Z]=Y[i+2]+K,$[i+1+Z]=Y[i+1]+K,$[i+2+Z]=Y[i]+K;v.indices=$;var ee=t.northCap,te=t.southCap,ie=p,ne=2,ae=0,re=4,oe=4;ee&&(ne-=1,ie-=1,ae+=1,re-=2,oe-=1),te&&(ne-=1,ie-=1,ae+=1,re-=2,oe-=1),ae+=ne*m+2*ie-re;var se=2*(ae+oe),ce=new Float64Array(3*se),le=n?new Float32Array(3*se):void 0,ue=V?new Uint8Array(se):void 0,he=l.st?new Float32Array(2*se):void 0,de=a===S.a.TOP;V&&!de&&(U=a===S.a.ALL?1:0,ue=Object(f.a)(ue,U));var fe,pe=0,me=0,ge=0,_e=0,ve=m*ie;for(i=0;i<ve;i+=m)fe=3*i,ce=s(ce,pe,fe,y,A),pe+=6,l.st&&(he=c(he,me,2*i,I),me+=4),n&&(ge+=3,le[ge++]=R[fe],le[ge++]=R[fe+1],le[ge++]=R[fe+2]),de&&(ue[_e++]=1,_e+=1);if(te){var be=ee?ve+1:ve;for(fe=3*be,i=0;i<2;i++)ce=s(ce,pe,fe,y,A),pe+=6,l.st&&(he=c(he,me,2*be,I),me+=4),n&&(ge+=3,le[ge++]=R[fe],le[ge++]=R[fe+1],le[ge++]=R[fe+2]),de&&(ue[_e++]=1,_e+=1)}else for(i=ve-m;i<ve;i++)fe=3*i,ce=s(ce,pe,fe,y,A),pe+=6,l.st&&(he=c(he,me,2*i,I),me+=4),n&&(ge+=3,le[ge++]=R[fe],le[ge++]=R[fe+1],le[ge++]=R[fe+2]),de&&(ue[_e++]=1,_e+=1);for(i=ve-1;i>0;i-=m)fe=3*i,ce=s(ce,pe,fe,y,A),pe+=6,l.st&&(he=c(he,me,2*i,I),me+=4),n&&(ge+=3,le[ge++]=R[fe],le[ge++]=R[fe+1],le[ge++]=R[fe+2]),de&&(ue[_e++]=1,_e+=1);if(ee){var ye=ve;for(fe=3*ye,i=0;i<2;i++)ce=s(ce,pe,fe,y,A),pe+=6,l.st&&(he=c(he,me,2*ye,I),me+=4),n&&(ge+=3,le[ge++]=R[fe],le[ge++]=R[fe+1],le[ge++]=R[fe+2]),de&&(ue[_e++]=1,_e+=1)}else for(i=m-1;i>=0;i--)fe=3*i,ce=s(ce,pe,fe,y,A),pe+=6,l.st&&(he=c(he,me,2*i,I),me+=4),n&&(ge+=3,le[ge++]=R[fe],le[ge++]=R[fe+1],le[ge++]=R[fe+2]),de&&(ue[_e++]=1,_e+=1);var Oe=r(ce,l,d);l.st&&(Oe.attributes.st=new T.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:2,values:he})),n&&(Oe.attributes.extrudeDirection=new T.a({componentDatatype:b.a.FLOAT,componentsPerAttribute:3,values:le})),V&&(Oe.attributes.applyOffset=new T.a({componentDatatype:b.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:ue}));var we,xe,Ee,Te,Ae=P.a.createTypedArray(se,6*ae);w=ce.length/3;var Ce=0;for(i=0;i<w-1;i+=2){we=i,Te=(we+2)%w;var Se=g.a.fromArray(ce,3*we,X),je=g.a.fromArray(ce,3*Te,Q);g.a.equalsEpsilon(Se,je,D.a.EPSILON10)||(xe=(we+1)%w,Ee=(xe+2)%w,Ae[Ce++]=we,Ae[Ce++]=xe,Ae[Ce++]=Te,Ae[Ce++]=Te,Ae[Ce++]=xe,Ae[Ce++]=Ee)}return Oe.indices=Ae,Oe=j.a.combineInstances([new C.a({geometry:v}),new C.a({geometry:Oe})]),Oe[0]}function u(e,t,i,n,a){if(0===i)return F.a.clone(e,a);var r=z.a.computeOptions(e,t,i,0,q,K),o=r.height,s=r.width,c=Z;return z.a.computePosition(r,n,!1,0,0,c[0]),z.a.computePosition(r,n,!1,0,s-1,c[1]),z.a.computePosition(r,n,!1,o-1,0,c[2]),z.a.computePosition(r,n,!1,o-1,s-1,c[3]),F.a.fromCartesianArray(c,n,a)}function h(e){e=Object(y.a)(e,y.a.EMPTY_OBJECT);var t=e.rectangle;if(v.a.typeOf.object("rectangle",t),F.a.validate(t),t.north<t.south)throw new w.a("options.rectangle.north must be greater than or equal to options.rectangle.south");var i=Object(y.a)(e.height,0),n=Object(y.a)(e.extrudedHeight,i);this._rectangle=F.a.clone(t),this._granularity=Object(y.a)(e.granularity,D.a.RADIANS_PER_DEGREE),this._ellipsoid=x.a.clone(Object(y.a)(e.ellipsoid,x.a.WGS84)),this._surfaceHeight=Math.max(i,n),this._rotation=Object(y.a)(e.rotation,0),this._stRotation=Object(y.a)(e.stRotation,0),this._vertexFormat=B.a.clone(Object(y.a)(e.vertexFormat,B.a.DEFAULT)),this._extrudedHeight=Math.min(i,n),this._shadowVolume=Object(y.a)(e.shadowVolume,!1),this._workerName="createRectangleGeometry",this._offsetAttribute=e.offsetAttribute,this._rotatedRectangle=void 0,this._textureCoordinateRotationPoints=void 0}function d(e){if(0===e._stRotation)return[0,0,0,1,1,0];var t=F.a.clone(e._rectangle,oe),i=e._granularity,n=e._ellipsoid,a=e._rotation-e._stRotation,r=u(t,i,a,n,oe),o=se;o[0].x=r.west,o[0].y=r.south,o[1].x=r.west,o[1].y=r.north,o[2].x=r.east,o[2].y=r.south;for(var s=e.rectangle,c=I.a.fromRotation(e._stRotation,ce),l=F.a.center(s,le),h=0;h<3;++h){var d=o[h];d.x-=l.longitude,d.y-=l.latitude,I.a.multiplyByVector(c,d,d),d.x+=l.longitude,d.y+=l.latitude,d.x=(d.x-s.west)/s.width,d.y=(d.y-s.south)/s.height}var f=o[0],p=o[1],g=o[2],_=new Array(6);return m.a.pack(f,_),m.a.pack(p,_,2),m.a.pack(g,_,4),_}var f=i("Sfsp"),p=i("lBr9"),m=i("Ss9j"),g=i("Jj+J"),_=i("I3GD"),v=i("5F4X"),b=i("YCZg"),y=i("5A4e"),O=i("xC6Q"),w=i("PzDm"),x=i("y6fO"),E=i("RGAo"),T=i("RYD3"),A=i("GaJK"),C=i("izcu"),S=i("2g+t"),j=i("odWO"),P=i("oMsT"),D=i("fq+p"),I=i("BvC/"),R=i("i3sv"),M=i("EDAM"),L=i("nHNe"),N=i("q/xW"),F=i("Wq1U"),z=i("0dqR"),B=i("xvTE"),k=new g.a,U=new g.a,V=new g.a,H=new g.a,q=new F.a,W=new m.a,G=new p.a,Y=new p.a,X=new g.a,Q=new g.a,J=new B.a,Z=[new g.a,new g.a,new g.a,new g.a],K=new _.a,$=new _.a;h.packedLength=F.a.packedLength+x.a.packedLength+B.a.packedLength+7,h.pack=function(e,t,i){return v.a.typeOf.object("value",e),v.a.defined("array",t),i=Object(y.a)(i,0),F.a.pack(e._rectangle,t,i),i+=F.a.packedLength,x.a.pack(e._ellipsoid,t,i),i+=x.a.packedLength,B.a.pack(e._vertexFormat,t,i),i+=B.a.packedLength,t[i++]=e._granularity,t[i++]=e._surfaceHeight,t[i++]=e._rotation,t[i++]=e._stRotation,t[i++]=e._extrudedHeight,t[i++]=e._shadowVolume?1:0,t[i]=Object(y.a)(e._offsetAttribute,-1),t};var ee=new F.a,te=x.a.clone(x.a.UNIT_SPHERE),ie={rectangle:ee,ellipsoid:te,vertexFormat:J,granularity:void 0,height:void 0,rotation:void 0,stRotation:void 0,extrudedHeight:void 0,shadowVolume:void 0,offsetAttribute:void 0};h.unpack=function(e,t,i){v.a.defined("array",e),t=Object(y.a)(t,0);var n=F.a.unpack(e,t,ee);t+=F.a.packedLength;var a=x.a.unpack(e,t,te);t+=x.a.packedLength;var r=B.a.unpack(e,t,J);t+=B.a.packedLength;var o=e[t++],s=e[t++],c=e[t++],l=e[t++],u=e[t++],d=1===e[t++],f=e[t];return Object(O.a)(i)?(i._rectangle=F.a.clone(n,i._rectangle),i._ellipsoid=x.a.clone(a,i._ellipsoid),i._vertexFormat=B.a.clone(r,i._vertexFormat),i._granularity=o,i._surfaceHeight=s,i._rotation=c,i._stRotation=l,i._extrudedHeight=u,i._shadowVolume=d,i._offsetAttribute=-1===f?void 0:f,i):(ie.granularity=o,ie.height=s,ie.rotation=c,ie.stRotation=l,ie.extrudedHeight=u,ie.shadowVolume=d,ie.offsetAttribute=-1===f?void 0:f,new h(ie))},h.computeRectangle=function(e,t){e=Object(y.a)(e,y.a.EMPTY_OBJECT);var i=e.rectangle;if(v.a.typeOf.object("rectangle",i),F.a.validate(i),i.north<i.south)throw new w.a("options.rectangle.north must be greater than or equal to options.rectangle.south");var n=Object(y.a)(e.granularity,D.a.RADIANS_PER_DEGREE),a=Object(y.a)(e.ellipsoid,x.a.WGS84);return u(i,n,Object(y.a)(e.rotation,0),a,t)};var ne=new R.a,ae=new N.a,re=new _.a;h.createGeometry=function(e){if(!D.a.equalsEpsilon(e._rectangle.north,e._rectangle.south,D.a.EPSILON10)&&!D.a.equalsEpsilon(e._rectangle.east,e._rectangle.west,D.a.EPSILON10)){var t=e._rectangle,i=e._ellipsoid,n=e._rotation,a=e._stRotation,r=e._vertexFormat,s=z.a.computeOptions(t,e._granularity,n,a,q,K,$),c=ne;if(0!==a||0!==n){var u=F.a.center(t,re),h=i.geodeticSurfaceNormalCartographic(u,X);N.a.fromAxisAngle(h,-a,ae),R.a.fromQuaternion(ae,c)}else R.a.clone(R.a.IDENTITY,c);var d=e._surfaceHeight,m=e._extrudedHeight,g=!D.a.equalsEpsilon(d,m,0,D.a.EPSILON2);s.lonScalar=1/e._rectangle.width,s.latScalar=1/e._rectangle.height,s.tangentRotationMatrix=c;var _,v;if(t=e._rectangle,g){_=l(e,s);var y=p.a.fromRectangle3D(t,i,d,Y),w=p.a.fromRectangle3D(t,i,m,G);v=p.a.union(y,w)}else{if(_=o(e,s),_.attributes.position.values=M.a.scaleToGeodeticHeight(_.attributes.position.values,d,i,!1),Object(O.a)(e._offsetAttribute)){var x=_.attributes.position.values.length,A=new Uint8Array(x/3),C=e._offsetAttribute===S.a.NONE?0:1;Object(f.a)(A,C),_.attributes.applyOffset=new T.a({componentDatatype:b.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:A})}v=p.a.fromRectangle3D(t,i,d)}return r.position||delete _.attributes.position,new E.a({attributes:_.attributes,indices:_.indices,primitiveType:_.primitiveType,boundingSphere:v,offsetAttribute:e._offsetAttribute})}},h.createShadowVolume=function(e,t,i){var n=e._granularity,a=e._ellipsoid,r=t(n,a),o=i(n,a);return new h({rectangle:e._rectangle,rotation:e._rotation,ellipsoid:a,stRotation:e._stRotation,granularity:n,extrudedHeight:o,height:r,vertexFormat:B.a.POSITION_ONLY,shadowVolume:!0})};var oe=new F.a,se=[new m.a,new m.a,new m.a],ce=new I.a,le=new _.a;Object.defineProperties(h.prototype,{rectangle:{get:function(){return Object(O.a)(this._rotatedRectangle)||(this._rotatedRectangle=u(this._rectangle,this._granularity,this._rotation,this._ellipsoid)),this._rotatedRectangle}},textureCoordinateRotationPoints:{get:function(){return Object(O.a)(this._textureCoordinateRotationPoints)||(this._textureCoordinateRotationPoints=d(this)),this._textureCoordinateRotationPoints}}}),t.a=h},kM2E:function(e,t,i){var n=i("7KvD"),a=i("FeBl"),r=i("+ZMJ"),o=i("hJx8"),s=i("D2L2"),c=function(e,t,i){var l,u,h,d=e&c.F,f=e&c.G,p=e&c.S,m=e&c.P,g=e&c.B,_=e&c.W,v=f?a:a[t]||(a[t]={}),b=v.prototype,y=f?n:p?n[t]:(n[t]||{}).prototype;f&&(i=t);for(l in i)(u=!d&&y&&void 0!==y[l])&&s(v,l)||(h=u?y[l]:i[l],v[l]=f&&"function"!=typeof y[l]?i[l]:g&&u?r(h,n):_&&y[l]==h?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(h):m&&"function"==typeof h?r(Function.call,h):h,m&&((v.virtual||(v.virtual={}))[l]=h,e&c.R&&b&&!b[l]&&o(b,l,h)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},kOga:function(e,t,i){"use strict";t.a="// See:\n//    https://knarkowicz.wordpress.com/2016/01/06/aces-filmic-tone-mapping-curve/\n\nvec3 czm_acesTonemapping(vec3 color) {\n    float g = 0.985;\n    float a = 0.065;\n    float b = 0.0001;\n    float c = 0.433;\n    float d = 0.238;\n\n    color = (color * (color + a) - b) / (color * (g * color + c) + d);\n\n    color = clamp(color, 0.0, 1.0);\n\n    return color;\n}\n"},kRYv:function(e,t,i){"use strict";function n(e,t){e._cachedGltf=t}function a(e){this._gltf=e.gltf,this.ready=e.ready,this.modelsToLoad=[],this.count=0}function r(e){e=Object(pt.a)(e,pt.a.EMPTY_OBJECT);var t=e.cacheKey;this._cacheKey=t,this._cachedGltf=void 0,this._releaseGltfJson=Object(pt.a)(e.releaseGltfJson,!1);var i;if(Object(mt.a)(t)&&Object(mt.a)(Si[t])&&Si[t].ready)i=Si[t],++i.count;else{var r=e.gltf;if(Object(mt.a)(r)){if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array){i=new a({gltf:Object(ei.a)(r),ready:!0})}else i=new a({gltf:e.gltf,ready:!0});i.count=1,Object(mt.a)(t)&&(Si[t]=i)}}n(this,i);var o=Object(pt.a)(e.basePath,"");this._resource=Rt.a.createIfNeeded(o);var s=e.credit;"string"==typeof s&&(s=new ft.a(s)),this._credit=s,this._resourceCredits=[],this.show=Object(pt.a)(e.show,!0),this.silhouetteColor=Object(pt.a)(e.silhouetteColor,ut.a.RED),this._silhouetteColor=new ut.a,this._silhouetteColorPreviousAlpha=1,this._normalAttributeName=void 0,this.silhouetteSize=Object(pt.a)(e.silhouetteSize,0),this.modelMatrix=jt.a.clone(Object(pt.a)(e.modelMatrix,jt.a.IDENTITY)),this._modelMatrix=jt.a.clone(this.modelMatrix),this._clampedModelMatrix=void 0,this.scale=Object(pt.a)(e.scale,1),this._scale=this.scale,this.minimumPixelSize=Object(pt.a)(e.minimumPixelSize,0),this._minimumPixelSize=this.minimumPixelSize,this.maximumScale=e.maximumScale,this._maximumScale=this.maximumScale,this.id=e.id,this._id=e.id,this.heightReference=Object(pt.a)(e.heightReference,hi.a.NONE),this._heightReference=this.heightReference,this._heightChanged=!1,this._removeUpdateHeightCallback=void 0;var c=e.scene;this._scene=c,Object(mt.a)(c)&&Object(mt.a)(c.terrainProviderChanged)&&(this._terrainProviderChangedCallback=c.terrainProviderChanged.addEventListener(function(){this._heightChanged=!0},this)),this._pickObject=e.pickObject,this._allowPicking=Object(pt.a)(e.allowPicking,!0),this._ready=!1,this._readyPromise=ii.a.defer(),this.activeAnimations=new pi.a(this),this.clampAnimations=Object(pt.a)(e.clampAnimations,!0),this._defaultTexture=void 0,this._incrementallyLoadTextures=Object(pt.a)(e.incrementallyLoadTextures,!0),this._asynchronous=Object(pt.a)(e.asynchronous,!0),this.shadows=Object(pt.a)(e.shadows,Ei.a.ENABLED),this._shadows=this.shadows,this.color=ut.a.clone(Object(pt.a)(e.color,ut.a.WHITE)),this._colorPreviousAlpha=1,this.colorBlendMode=Object(pt.a)(e.colorBlendMode,oi.a.HIGHLIGHT),this.colorBlendAmount=Object(pt.a)(e.colorBlendAmount,.5),this._colorShadingEnabled=!1,this._clippingPlanes=void 0,this.clippingPlanes=e.clippingPlanes,this._clippingPlanesState=0,this.clippingPlanesOriginMatrix=void 0,this.debugShowBoundingVolume=Object(pt.a)(e.debugShowBoundingVolume,!1),this._debugShowBoundingVolume=!1,this.debugWireframe=Object(pt.a)(e.debugWireframe,!1),this._debugWireframe=!1,this._distanceDisplayCondition=e.distanceDisplayCondition,this._addBatchIdToGeneratedShaders=e.addBatchIdToGeneratedShaders,this._precreatedAttributes=e.precreatedAttributes,this._vertexShaderLoaded=e.vertexShaderLoaded,this._fragmentShaderLoaded=e.fragmentShaderLoaded,this._uniformMapLoaded=e.uniformMapLoaded,this._pickIdLoaded=e.pickIdLoaded,this._ignoreCommands=Object(pt.a)(e.ignoreCommands,!1),this._requestType=e.requestType,this._upAxis=Object(pt.a)(e.upAxis,ni.a.Y),this._gltfForwardAxis=ni.a.Z,this._forwardAxis=e.forwardAxis,this.cull=Object(pt.a)(e.cull,!0),this.opaquePass=Object(pt.a)(e.opaquePass,Bt.a.OPAQUE),this._computedModelMatrix=new jt.a,this._clippingPlaneModelViewMatrix=jt.a.clone(jt.a.IDENTITY),this._initialRadius=void 0,this._boundingSphere=void 0,this._scaledBoundingSphere=new nt.a,this._state=Ai.NEEDS_LOAD,this._loadResources=void 0,this._mode=void 0,this._perNodeShowDirty=!1,this._cesiumAnimationsDirty=!1,this._dirty=!1,this._maxDirtyNumber=0,this._runtime={animations:void 0,articulationsByName:void 0,articulationsByStageKey:void 0,stagesByKey:void 0,rootNodes:void 0,nodes:void 0,nodesByName:void 0,skinnedNodes:void 0,meshesByName:void 0,materialsByName:void 0,materialsById:void 0},this._uniformMaps={},this._extensionsUsed=void 0,this._extensionsRequired=void 0,this._quantizedUniforms={},this._programPrimitives={},this._rendererResources={buffers:{},vertexArrays:{},programs:{},sourceShaders:{},silhouettePrograms:{},textures:{},samplers:{},renderStates:{}},this._cachedRendererResources=void 0,this._loadRendererResourcesFromCache=!1,this._dequantizeInShader=Object(pt.a)(e.dequantizeInShader,!0),this._decodedData={},this._cachedGeometryByteLength=0,this._cachedTexturesByteLength=0,this._geometryByteLength=0,this._texturesByteLength=0,this._trianglesLength=0,this._sourceTechniques={},this._sourcePrograms={},this._quantizedVertexShaders={},this._nodeCommands=[],this._pickIds=[],this._rtcCenter=void 0,this._rtcCenterEye=void 0,this._rtcCenter3D=void 0,this._rtcCenter2D=void 0,this._sourceVersion=void 0,this._sourceKHRTechniquesWebGL=void 0,this._imageBasedLightingFactor=new at.a(1,1),at.a.clone(e.imageBasedLightingFactor,this._imageBasedLightingFactor),this._lightColor=rt.a.clone(e.lightColor),this._luminanceAtZenith=void 0,this.luminanceAtZenith=Object(pt.a)(e.luminanceAtZenith,.2),this._sphericalHarmonicCoefficients=e.sphericalHarmonicCoefficients,this._specularEnvironmentMaps=e.specularEnvironmentMaps,this._shouldUpdateSpecularMapAtlas=!0,this._specularEnvironmentMapAtlas=void 0,this._useDefaultSphericalHarmonics=!1,this._useDefaultSpecularMaps=!1,this._shouldRegenerateShaders=!1}function o(e){return e.stencilBuffer}function s(e){return!ut.a.equals(e.color,ut.a.WHITE)||e.colorBlendMode!==oi.a.HIGHLIGHT}function c(e){var t=e._clippingPlanes;return Object(mt.a)(t)&&t.enabled&&0!==t.length}function l(e){return"glTF"===Object(Ot.a)(e)}function u(e,t,i){if(e._state!==Ai.LOADED)throw new _t.a("The model is not loaded.  Use Model.readyPromise or wait for Model.ready to be true.");if(!Object(mt.a)(i))throw new _t.a("name is required.");return e._runtime[t][i]}function h(e,t){ct.a.typeOf.object("stage",e),ct.a.typeOf.object("result",t);var i,n=e.currentValue,a=Pi;switch(e.type){case"xRotate":i=St.a.fromRotationX(Ct.a.toRadians(n),Di),jt.a.multiplyByMatrix3(t,i,t);break;case"yRotate":i=St.a.fromRotationY(Ct.a.toRadians(n),Di),jt.a.multiplyByMatrix3(t,i,t);break;case"zRotate":i=St.a.fromRotationZ(Ct.a.toRadians(n),Di),jt.a.multiplyByMatrix3(t,i,t);break;case"xTranslate":a.x=n,a.y=0,a.z=0,jt.a.multiplyByTranslation(t,a,t);break;case"yTranslate":a.x=0,a.y=n,a.z=0,jt.a.multiplyByTranslation(t,a,t);break;case"zTranslate":a.x=0,a.y=0,a.z=n,jt.a.multiplyByTranslation(t,a,t);break;case"xScale":a.x=n,a.y=1,a.z=1,jt.a.multiplyByScale(t,a,t);break;case"yScale":a.x=1,a.y=n,a.z=1,jt.a.multiplyByScale(t,a,t);break;case"zScale":a.x=1,a.y=1,a.z=n,jt.a.multiplyByScale(t,a,t);break;case"uniformScale":jt.a.multiplyByUniformScale(t,n,t)}return t}function d(e){var t=e.gltf,i=e._loadResources;Jt.a.buffer(t,function(e,t){i.buffers[t]=e.extras._pipeline.source})}function f(e,t){return function(i){var n=e._loadResources,a=new Uint8Array(i);--n.pendingBufferLoads,e.gltf.buffers[t].extras._pipeline.source=a}}function p(e){var t=e.gltf.bufferViews,i=e._loadResources.vertexBuffersToCreate;Jt.a.bufferView(e.gltf,function(e,t){e.target===Lt.a.ARRAY_BUFFER&&i.enqueue(t)});var n=e._loadResources.indexBuffersToCreate,a={};Jt.a.accessor(e.gltf,function(e){var i=e.bufferView;if(Object(mt.a)(i)){t[i].target!==Lt.a.ELEMENT_ARRAY_BUFFER||Object(mt.a)(a[i])||(a[i]=!0,n.enqueue({id:i,componentType:e.componentType}))}})}function m(e){var t=e.gltf;if(Object(Kt.a)(t,"KHR_techniques_webgl")){var i=e._sourcePrograms,n=e._sourceTechniques,a=t.extensions.KHR_techniques_webgl.programs;Jt.a.technique(t,function(e,t){n[t]=Object(lt.a)(e);var r=e.program;Object(mt.a)(i[r])||(i[r]=Object(lt.a)(a[r]))})}}function g(e,t,i){return function(n){var a=e._loadResources;a.shaders[i]={source:n,type:t,bufferView:void 0},--a.pendingShaderLoads,e._rendererResources.sourceShaders[i]=n}}function _(e){var t=e.gltf,i=t.buffers,n=t.bufferViews,a=e._rendererResources.sourceShaders;Jt.a.shader(t,function(t,r){if(Object(mt.a)(t.bufferView)){var o=t.bufferView,s=n[o],c=s.buffer,l=i[c],u=Object(wt.a)(l.extras._pipeline.source,s.byteOffset,s.byteLength);a[r]=u}else if(Object(mt.a)(t.extras._pipeline.source))a[r]=t.extras._pipeline.source;else{++e._loadResources.pendingShaderLoads;var h=e._resource.getDerivedResource({url:t.uri});h.fetchText().then(g(e,t.type,r)).otherwise(bi.a.getFailedLoadFunction(e,"shader",h.url))}})}function v(e){var t=e._sourceTechniques;for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];e._loadResources.programsToCreate.enqueue({programId:n.program,techniqueId:i})}}function b(e){var t={},i={},n={};e._runtime.articulationsByName=t,e._runtime.articulationsByStageKey=i,e._runtime.stagesByKey=n;var a=e.gltf;if(Object(Kt.a)(a,"AGI_articulations")&&Object(mt.a)(a.extensions)&&Object(mt.a)(a.extensions.AGI_articulations)){var r=a.extensions.AGI_articulations.articulations;if(Object(mt.a)(r))for(var o=r.length,s=0;s<o;++s){var c=Object(lt.a)(r[s]);c.nodes=[],c.isDirty=!0,t[c.name]=c;for(var l=c.stages.length,u=0;u<l;++u){var h=c.stages[u];h.currentValue=h.initialValue;var d=c.name+" "+h.name;i[d]=c,n[d]=h}}}}function y(e,t){return function(i){var n=e._loadResources;--n.pendingTextureLoads,n.texturesToCreate.enqueue({id:t,image:i,bufferView:i.bufferView,width:i.width,height:i.height,internalFormat:i.internalFormat})}}function O(e,t,i){var n,a=e.gltf,r=a.images;Jt.a.texture(a,function(a,o){var s=a.source;Object(mt.a)(a.extensions)&&Object(mt.a)(a.extensions.EXT_texture_webp)&&i&&(s=a.extensions.EXT_texture_webp.source);var c=r[s],l=c.extras,u=c.bufferView,h=c.mimeType;if(n=c.uri,Object(mt.a)(l)&&Object(mt.a)(l.compressedImage3DTiles)){var d=l.compressedImage3DTiles.crunch,f=l.compressedImage3DTiles.s3tc,p=l.compressedImage3DTiles.pvrtc1,m=l.compressedImage3DTiles.etc1;t.s3tc&&Object(mt.a)(d)?(h=d.mimeType,Object(mt.a)(d.bufferView)?u=d.bufferView:n=d.uri):t.s3tc&&Object(mt.a)(f)?(h=f.mimeType,Object(mt.a)(f.bufferView)?u=f.bufferView:n=f.uri):t.pvrtc&&Object(mt.a)(p)?(h=p.mimeType,Object(mt.a)(p.bufferView)?u=p.bufferView:n=p.uri):t.etc1&&Object(mt.a)(m)&&(h=m.mimeType,Object(mt.a)(m.bufferView)?u=m.bufferView:n=m.uri)}if(Object(mt.a)(u))e._loadResources.texturesToCreateFromBufferView.enqueue({id:o,image:void 0,bufferView:u,mimeType:h});else{++e._loadResources.pendingTextureLoads;var g,_=e._resource.getDerivedResource({url:n});g=Ri.test(n)?Object(At.a)(_):Mi.test(n)?Object(Et.a)(_):_.fetchImage(),g.then(y(e,o,s)).otherwise(bi.a.getFailedLoadFunction(e,"image",_.url))}})}function w(e){var t={},i={},n=[],a=e._loadResources.skinnedNodesIds,r=e._runtime.articulationsByName;Jt.a.node(e.gltf,function(o,s){var c={matrix:void 0,translation:void 0,rotation:void 0,scale:void 0,computedShow:!0,transformToRoot:new jt.a,computedMatrix:new jt.a,dirtyNumber:0,commands:[],inverseBindMatrices:void 0,bindShapeMatrix:void 0,joints:[],computedJointMatrices:[],jointName:o.jointName,weights:[],children:[],parents:[],publicNode:void 0};if(c.publicNode=new vi.a(e,o,c,s,bi.a.getTransform(o)),t[s]=c,i[o.name]=c,Object(mt.a)(o.skin)&&(a.push(s),n.push(c)),Object(mt.a)(o.extensions)&&Object(mt.a)(o.extensions.AGI_articulations)){var l=o.extensions.AGI_articulations.articulationName;if(Object(mt.a)(l)){var u=jt.a.clone(c.publicNode.originalMatrix,Li),d=r[l];d.nodes.push(c.publicNode);for(var f=d.stages.length,p=0;p<f;++p){u=h(d.stages[p],u)}c.publicNode.matrix=u}}}),e._runtime.nodes=t,e._runtime.nodesByName=i,e._runtime.skinnedNodes=n}function x(e){var t=e.gltf,i=e._sourceTechniques,n={},a={},r=e._uniformMaps;Jt.a.material(t,function(t,o){r[o]={uniformMap:void 0,values:void 0,jointMatrixUniformName:void 0,morphWeightsUniformName:void 0};var s=new gi.a(e,t,o);if(Object(mt.a)(t.extensions)&&Object(mt.a)(t.extensions.KHR_techniques_webgl)){var c=t.extensions.KHR_techniques_webgl.technique;s._technique=c,s._program=i[c].program,Jt.a.materialValue(t,function(e,t){Object(mt.a)(s._values)||(s._values={}),s._values[t]=Object(lt.a)(e)})}n[t.name]=s,a[o]=s}),e._runtime.materialsByName=n,e._runtime.materialsById=a}function E(e){var t={},i=e._runtime.materialsById;Jt.a.mesh(e.gltf,function(n,a){t[n.name]=new _i.a(n,i,a),(Object(mt.a)(e.extensionsUsed.WEB3D_quantized_attributes)||e._dequantizeInShader)&&Jt.a.meshPrimitive(n,function(t,i){var n=S(e,t),r=e._programPrimitives[n];Object(mt.a)(r)||(r={},e._programPrimitives[n]=r),r[a+".primitive."+i]=t})}),e._runtime.meshesByName=t}function T(e,t,i){var n=t._loadResources,a=t.gltf.bufferViews,r=a[e];Object(mt.a)(r)||(r=n.createdBufferViews[e]);var o=Nt.a.createVertexBuffer({context:i,typedArray:n.getBuffer(r),usage:Ft.a.STATIC_DRAW});o.vertexArrayDestroyable=!1,t._rendererResources.buffers[e]=o,t._geometryByteLength+=o.sizeInBytes}function A(e,t,i,n){var a=i._loadResources,r=i.gltf.bufferViews,o=r[e];Object(mt.a)(o)||(o=a.createdBufferViews[e]);var s=Nt.a.createIndexBuffer({context:n,typedArray:a.getBuffer(o),usage:Ft.a.STATIC_DRAW,indexDatatype:t});s.vertexArrayDestroyable=!1,i._rendererResources.buffers[e]=s,i._geometryByteLength+=s.sizeInBytes}function C(e,t){var i=e._loadResources;if(0===i.pendingBufferLoads){var n,a=t.context,r=i.vertexBuffersToCreate,o=i.indexBuffersToCreate;if(e.asynchronous){for(;r.length>0&&(zi.set(r.peek(),e,a),t.jobScheduler.execute(zi,di.a.BUFFER));)r.dequeue();for(;o.length>0&&(n=o.peek(),Bi.set(n.id,n.componentType,e,a),t.jobScheduler.execute(Bi,di.a.BUFFER));)o.dequeue()}else{for(;r.length>0;)T(r.dequeue(),e,a);for(;o.length>0;)n=o.dequeue(),A(n.id,n.componentType,e,a)}}}function S(e,t){var i=e._runtime.materialsById[t.material];if(Object(mt.a)(i))return i._program}function j(e,t,i){var n,a=i._programPrimitives[t];if(!Object(mt.a)(a))return e;var r;for(r in a)if(a.hasOwnProperty(r)&&(n=a[r],S(i,n)===t))break;i._programPrimitives[t]=void 0;var o;if(i.extensionsUsed.WEB3D_quantized_attributes)o=bi.a.modifyShaderForQuantizedAttributes(i.gltf,n,e),i._quantizedUniforms[t]=o.uniforms;else{var s=i._decodedData[r];if(!Object(mt.a)(s))return e;o=bi.a.modifyShaderForDracoQuantizedAttributes(i.gltf,n,e,s.attributes)}return o.shader}function P(e){return e=Ht.a.replaceMain(e,"gltf_blend_main"),e+="uniform vec4 gltf_color; \nuniform float gltf_colorBlend; \nvoid main() \n{ \n    gltf_blend_main(); \n    gl_FragColor.rgb = mix(gl_FragColor.rgb, gltf_color.rgb, gltf_colorBlend); \n    float highlight = ceil(gltf_colorBlend); \n    gl_FragColor.rgb *= mix(gltf_color.rgb, vec3(1.0), highlight); \n    gl_FragColor.a *= gltf_color.a; \n} \n"}function D(e,t,i){return Object(mt.a)(i)&&(e=i(e,t)),e}function I(e,t,i){var n=e.programId,a=e.techniqueId,r=t._sourcePrograms[n],o=t._rendererResources.sourceShaders,s=o[r.vertexShader],c=o[r.fragmentShader],l=t._quantizedVertexShaders,u=t._toClipCoordinatesGLSL[n];if(t.extensionsUsed.WEB3D_quantized_attributes||t._dequantizeInShader){var h=l[n];Object(mt.a)(h)||(h=j(s,n,t),l[n]=h),s=h}var d=D(s,n,t._vertexShaderLoaded),f=D(c,n,t._fragmentShaderLoaded);bt.a.isInternetExplorer()||(d=bi.a.modifyVertexShaderForLogDepth(d,u),f=bi.a.modifyFragmentShaderForLogDepth(f)),Object(mt.a)(t._uniformMapLoaded)||(f="uniform vec4 czm_pickColor;\n"+f);var p=t._imageBasedLightingFactor.x>0||t._imageBasedLightingFactor.y>0;if(p&&(f="#define USE_IBL_LIGHTING \n\n"+f),Object(mt.a)(t._lightColor)&&(f="#define USE_CUSTOM_LIGHT_COLOR \n\n"+f),("2.0"!==t._sourceVersion||t._sourceKHRTechniquesWebGL)&&(f=Ht.a.replaceMain(f,"non_gamma_corrected_main"),f+="\nvoid main() { \n    non_gamma_corrected_main(); \n    gl_FragColor = czm_gammaCorrect(gl_FragColor); \n} \n"),yi.a.isSupported(i)){var m=Object(mt.a)(t._sphericalHarmonicCoefficients)||t._useDefaultSphericalHarmonics,g=Object(mt.a)(t._specularEnvironmentMapAtlas)&&t._specularEnvironmentMapAtlas.ready||t._useDefaultSpecularMaps;(m||g||p)&&(f="uniform mat4 gltf_clippingPlanesMatrix; \n"+f),Object(mt.a)(t._sphericalHarmonicCoefficients)?f="#define DIFFUSE_IBL \n#define CUSTOM_SPHERICAL_HARMONICS \nuniform vec3 gltf_sphericalHarmonicCoefficients[9]; \n"+f:t._useDefaultSphericalHarmonics&&(f="#define DIFFUSE_IBL \n"+f),Object(mt.a)(t._specularEnvironmentMapAtlas)&&t._specularEnvironmentMapAtlas.ready?f="#define SPECULAR_IBL \n#define CUSTOM_SPECULAR_IBL \nuniform sampler2D gltf_specularMap; \nuniform vec2 gltf_specularMapSize; \nuniform float gltf_maxSpecularLOD; \n"+f:t._useDefaultSpecularMaps&&(f="#define SPECULAR_IBL \n"+f)}Object(mt.a)(t._luminanceAtZenith)&&(f="#define USE_SUN_LUMINANCE \nuniform float gltf_luminanceAtZenith;\n"+f),M(n,a,f,d,t,i)}function R(e,t,i){var n=e.programId,a=e.techniqueId,o=t._sourcePrograms[n],l=t._rendererResources.sourceShaders,u=t._quantizedVertexShaders,h=t._toClipCoordinatesGLSL[n],d=t.clippingPlanes,f=c(t),p=l[o.vertexShader],m=l[o.fragmentShader];(t.extensionsUsed.WEB3D_quantized_attributes||t._dequantizeInShader)&&(p=u[n]);var g=m;s(t)&&(g=r._modifyShaderForColor(g)),f&&(g=He(g,d,i));var _=D(p,n,t._vertexShaderLoaded),v=D(g,n,t._fragmentShaderLoaded);bt.a.isInternetExplorer()||(_=bi.a.modifyVertexShaderForLogDepth(_,h),v=bi.a.modifyFragmentShaderForLogDepth(v)),Object(mt.a)(t._uniformMapLoaded)||(v="uniform vec4 czm_pickColor;\n"+v);var b=t._imageBasedLightingFactor.x>0||t._imageBasedLightingFactor.y>0;if(b&&(v="#define USE_IBL_LIGHTING \n\n"+v),Object(mt.a)(t._lightColor)&&(v="#define USE_CUSTOM_LIGHT_COLOR \n\n"+v),("2.0"!==t._sourceVersion||t._sourceKHRTechniquesWebGL)&&(v=Ht.a.replaceMain(v,"non_gamma_corrected_main"),v+="\nvoid main() { \n    non_gamma_corrected_main(); \n    gl_FragColor = czm_gammaCorrect(gl_FragColor); \n} \n"),yi.a.isSupported(i)){var y=Object(mt.a)(t._sphericalHarmonicCoefficients)||t._useDefaultSphericalHarmonics,O=Object(mt.a)(t._specularEnvironmentMapAtlas)&&t._specularEnvironmentMapAtlas.ready||t._useDefaultSpecularMaps;!f&&(y||O||b)&&(v="uniform mat4 gltf_clippingPlanesMatrix; \n"+v),Object(mt.a)(t._sphericalHarmonicCoefficients)?v="#define DIFFUSE_IBL \n#define CUSTOM_SPHERICAL_HARMONICS \nuniform vec3 gltf_sphericalHarmonicCoefficients[9]; \n"+v:t._useDefaultSphericalHarmonics&&(v="#define DIFFUSE_IBL \n"+v),Object(mt.a)(t._specularEnvironmentMapAtlas)&&t._specularEnvironmentMapAtlas.ready?v="#define SPECULAR_IBL \n#define CUSTOM_SPECULAR_IBL \nuniform sampler2D gltf_specularMap; \nuniform vec2 gltf_specularMapSize; \nuniform float gltf_maxSpecularLOD; \n"+v:t._useDefaultSpecularMaps&&(v="#define SPECULAR_IBL \n"+v)}Object(mt.a)(t._luminanceAtZenith)&&(v="#define USE_SUN_LUMINANCE \nuniform float gltf_luminanceAtZenith;\n"+v),M(n,a,v,_,t,i)}function M(e,t,i,n,a,r){var o=a._sourceTechniques[t],s=bi.a.createAttributeLocations(o,a._precreatedAttributes);a._rendererResources.programs[e]=Vt.a.fromCache({context:r,vertexShaderSource:n,fragmentShaderSource:i,attributeLocations:s})}function L(e,t){var i=e._loadResources,n=i.programsToCreate;if(0===i.pendingShaderLoads&&0===i.pendingBufferLoads){var a=t.context;if(e.asynchronous)for(;n.length>0&&(Ui.set(n.peek(),e,a),t.jobScheduler.execute(Ui,di.a.PROGRAM));)n.dequeue();else for(;n.length>0;)I(n.dequeue(),e,a)}}function N(e,t){return function(i){e.texturesToCreate.enqueue({id:t.id,image:i,bufferView:void 0}),--e.pendingBufferViewToImage}}function F(e){var t=e._loadResources;if(0===t.pendingBufferLoads)for(;t.texturesToCreateFromBufferView.length>0;){var i=t.texturesToCreateFromBufferView.dequeue(),n=e.gltf,a=n.bufferViews[i.bufferView],r=n.textures[i.id].source,o=bi.a.getFailedLoadFunction(e,"image","id: "+i.id+", bufferView: "+i.bufferView);if("image/ktx"===i.mimeType)Object(At.a)(t.getBuffer(a)).then(y(e,i.id,r)).otherwise(o),++e._loadResources.pendingTextureLoads;else if("image/crn"===i.mimeType)Object(Et.a)(t.getBuffer(a)).then(y(e,i.id,r)).otherwise(o),++e._loadResources.pendingTextureLoads;else{var s=N(t,i);Object(Tt.a)({uint8Array:t.getBuffer(a),format:i.mimeType,flipY:!1}).then(s).otherwise(o),++t.pendingBufferViewToImage}}}function z(e){var t=e._loadResources;if(t.createSamplers){t.createSamplers=!1;var i=e._rendererResources.samplers;Jt.a.sampler(e.gltf,function(e,t){i[t]=new Ut.a({wrapS:e.wrapS,wrapT:e.wrapT,minificationFilter:e.minFilter,magnificationFilter:e.magFilter})})}}function B(e,t,i){var n=t.gltf.textures,a=n[e.id],r=t._rendererResources.samplers,o=r[a.sampler];Object(mt.a)(o)||(o=new Ut.a({wrapS:Gt.a.REPEAT,wrapT:Gt.a.REPEAT}));for(var s=!1,c=t.gltf.materials,l=c.length,u=0;u<l;++u){var h=c[u];if(Object(mt.a)(h.extensions)&&Object(mt.a)(h.extensions.KHR_techniques_webgl)){var d=h.extensions.KHR_techniques_webgl.values;for(var f in d)if(d.hasOwnProperty(f)&&-1!==f.indexOf("Texture")){var p=d[f];if(p.index===e.id&&Object(mt.a)(p.extensions)&&Object(mt.a)(p.extensions.KHR_texture_transform)){s=!0;break}}}if(s)break}var m=o.wrapS,g=o.wrapT,_=o.minificationFilter;s&&_!==Wt.a.LINEAR&&_!==Wt.a.NEAREST&&(_=_===Wt.a.NEAREST_MIPMAP_NEAREST||_===Wt.a.NEAREST_MIPMAP_LINEAR?Wt.a.NEAREST:Wt.a.LINEAR,o=new Ut.a({wrapS:o.wrapS,wrapT:o.wrapT,textureMinificationFilter:_,textureMagnificationFilter:o.magnificationFilter}));var v,b=e.internalFormat,y=!(Object(mt.a)(b)&&Pt.a.isCompressedFormat(b)||_!==Wt.a.NEAREST_MIPMAP_NEAREST&&_!==Wt.a.NEAREST_MIPMAP_LINEAR&&_!==Wt.a.LINEAR_MIPMAP_NEAREST&&_!==Wt.a.LINEAR_MIPMAP_LINEAR),O=y||m===Gt.a.REPEAT||m===Gt.a.MIRRORED_REPEAT||g===Gt.a.REPEAT||g===Gt.a.MIRRORED_REPEAT,w=e.image;if(Object(mt.a)(b))v=new qt.a({context:i,source:{arrayBufferView:e.bufferView},width:e.width,height:e.height,pixelFormat:b,sampler:o});else if(Object(mt.a)(w)){var x=!Ct.a.isPowerOfTwo(w.width)||!Ct.a.isPowerOfTwo(w.height);if(O&&x){var E=document.createElement("canvas");E.width=Ct.a.nextPowerOfTwo(w.width),E.height=Ct.a.nextPowerOfTwo(w.height);var T=E.getContext("2d");T.drawImage(w,0,0,w.width,w.height,0,0,E.width,E.height),w=E}v=new qt.a({context:i,source:w,pixelFormat:a.internalFormat,pixelDatatype:a.type,sampler:o,flipY:!1}),y&&v.generateMipmap()}Object(mt.a)(v)&&(t._rendererResources.textures[e.id]=v,t._texturesByteLength+=v.sizeInBytes)}function k(e,t){var i=t.context,n=e._loadResources.texturesToCreate;if(e.asynchronous)for(;n.length>0&&(Hi.set(n.peek(),e,i),t.jobScheduler.execute(Hi,di.a.TEXTURE));)n.dequeue();else for(;n.length>0;)B(n.dequeue(),e,i)}function U(e,t){var i,n,a=e._sourceTechniques,r={},o=e._runtime.materialsById[t.material];if(!Object(mt.a)(o))return r;var s=a[o._technique];if(!Object(mt.a)(s))return r;var c=s.attributes,l=e._rendererResources.programs[s.program],u=l.vertexAttributes,h=l._attributeLocations;for(i in u)if(u.hasOwnProperty(i)){var d=c[i];Object(mt.a)(d)&&(n=h[i],r[d.semantic]=n)}var f=e._precreatedAttributes;if(Object(mt.a)(f))for(i in f)f.hasOwnProperty(i)&&(n=h[i],r[i]=n);return r}function V(e,t){for(var i=e.length,n={},a=0;a<i;++a)for(var r=[e[a]];r.length>0;){var o=r.pop(),s=t[o];Object(mt.a)(s)&&(n[o]=o);var c=s.children;if(Object(mt.a)(c))for(var l=c.length,u=0;u<l;++u)r.push(c[u])}return n}function H(e,t){for(var i=e.gltf,n=i.skins,a=i.nodes,r=e._runtime.nodes,o=e._loadResources.skinnedNodesIds,s=o.length,c=0;c<s;++c){var l=o[c],u=r[l],h=a[l],d=t[h.skin];u.inverseBindMatrices=d.inverseBindMatrices,u.bindShapeMatrix=d.bindShapeMatrix;var f=[],p=n[h.skin];Object(mt.a)(p.skeleton)&&f.push(p.skeleton);for(var m=V(f,a),g=n[h.skin].joints,_=g.length,v=0;v<_;++v){var b=g[v],y=m[b],O=r[y];u.joints.push(O)}}}function q(e){var t=e._loadResources;if(0===t.pendingBufferLoads&&t.createSkins){t.createSkins=!1;var i=e.gltf,n=i.accessors,a={};Jt.a.skin(i,function(t,i){var r,o=n[t.inverseBindMatrices];jt.a.equals(t.bindShapeMatrix,jt.a.IDENTITY)||(r=jt.a.clone(t.bindShapeMatrix)),a[i]={inverseBindMatrices:fi.a.getSkinInverseBindMatrices(e,o),bindShapeMatrix:r}}),H(e,a)}}function W(e,t,i,n){return function(a){Object(mt.a)(n)&&(a=e.clampAnimations?n.clampTime(a):n.wrapTime(a),t[i]=n.evaluate(a,t[i]),t.dirtyNumber=e._maxDirtyNumber)}}function G(e){var t=e._loadResources;if(t.finishedPendingBufferLoads()&&t.createRuntimeAnimations){t.createRuntimeAnimations=!1,e._runtime.animations=[];var i=e._runtime.nodes,n=e.gltf.accessors;Jt.a.animation(e.gltf,function(t,a){for(var r=t.channels,o=t.samplers,s=Number.MAX_VALUE,c=-Number.MAX_VALUE,l=r.length,u=new Array(l),h=0;h<l;++h){var d=r[h],f=d.target,p=f.path,m=o[d.sampler],g=fi.a.getAnimationParameterValues(e,n[m.input]),_=fi.a.getAnimationParameterValues(e,n[m.output]);s=Math.min(s,g[0]),c=Math.max(c,g[g.length-1]);var v=fi.a.getAnimationSpline(e,a,t,d.sampler,m,g,p,_);u[h]=W(e,i[f.node],f.path,v)}e._runtime.animations[a]={name:t.name,startTime:s,stopTime:c,channelEvaluators:u}})}}function Y(e,t){var i=e._loadResources;if(i.finishedBuffersCreation()&&i.finishedProgramCreation()&&i.createVertexArrays){i.createVertexArrays=!1;var n=e._rendererResources.buffers,a=e._rendererResources.vertexArrays,r=e.gltf,o=r.accessors;Jt.a.mesh(r,function(i,s){Jt.a.meshPrimitive(i,function(i,c){var l,u=[],h=U(e,i),d=e._decodedData[s+".primitive."+c];Jt.a.meshPrimitiveAttribute(i,function(e,t){if(l=h[t],Object(mt.a)(l)){if(Object(mt.a)(d)){var i=d.attributes;if(i.hasOwnProperty(t)){var a=i[t];return void u.push({index:l,vertexBuffer:n[a.bufferView],componentsPerAttribute:a.componentsPerAttribute,componentDatatype:a.componentDatatype,normalize:a.normalized,offsetInBytes:a.byteOffset,strideInBytes:a.byteStride})}}var s=o[e],c=Object(mt.a)(s.normalized)&&s.normalized;u.push({index:l,vertexBuffer:n[s.bufferView],componentsPerAttribute:Object($t.a)(s.type),componentDatatype:s.componentType,normalize:c,offsetInBytes:s.byteOffset,strideInBytes:Object(Zt.a)(r,s)})}});var f,p,m=e._precreatedAttributes;if(Object(mt.a)(m))for(p in m)m.hasOwnProperty(p)&&(l=h[p],Object(mt.a)(l)&&(f=m[p],f.index=l,u.push(f)));var g;if(Object(mt.a)(i.indices)){var _=o[i.indices],v=_.bufferView;Object(mt.a)(d)&&(v=d.bufferView),g=n[v]}a[s+".primitive."+c]=new Yt.a({context:t,attributes:u,indexBuffer:g})})})}}function X(e){var t=e._loadResources;t.createRenderStates&&(t.createRenderStates=!1,Jt.a.material(e.gltf,function(t,i){Q(e,t,i)}))}function Q(e,t,i){var n=e._rendererResources.renderStates,a=[Lt.a.FUNC_ADD,Lt.a.FUNC_ADD],r=[Lt.a.ONE,Lt.a.ONE_MINUS_SRC_ALPHA,Lt.a.ONE,Lt.a.ONE_MINUS_SRC_ALPHA];Object(mt.a)(t.extensions)&&Object(mt.a)(t.extensions.KHR_blend)&&(a=t.extensions.KHR_blend.blendEquation,r=t.extensions.KHR_blend.blendFactors);var o=!t.doubleSided,s="BLEND"===t.alphaMode;n[i]=kt.a.fromCache({cull:{enabled:o},depthTest:{enabled:!0,func:si.a.LESS_OR_EQUAL},depthMask:!s,blending:{enabled:s,equationRgb:a[0],equationAlpha:a[1],functionSourceRgb:r[0],functionDestinationRgb:r[1],functionSourceAlpha:r[2],functionDestinationAlpha:r[3]}})}function J(e,t,i,n){var a=t._runtime.nodes[e];return qi[i](n,t,a)}function Z(e,t,i,n,a,r,o){var s,c,l={},u={};return Jt.a.techniqueUniform(i,function(i,h){var d;if(Object(mt.a)(n)&&Object(mt.a)(n[h]))d=bi.a.createUniformFunction(i.type,n[h],r,o),l[h]=d.func,u[h]=d;else if(Object(mt.a)(i.node))l[h]=J(i.node,e,i.semantic,a.uniformState);else if(Object(mt.a)(i.semantic))if("JOINTMATRIX"===i.semantic)s=h;else if("MORPHWEIGHTS"===i.semantic)c=h;else if("ALPHACUTOFF"===i.semantic){var f=t.alphaMode;if(Object(mt.a)(f)&&"MASK"===f){var p=Object(pt.a)(t.alphaCutoff,.5);d=bi.a.createUniformFunction(i.type,p,r,o),l[h]=d.func,u[h]=d}}else l[h]=bi.a.getGltfSemanticUniforms()[i.semantic](a.uniformState,e);else if(Object(mt.a)(i.value)){var m=bi.a.createUniformFunction(i.type,i.value,r,o);l[h]=m.func,u[h]=m}}),{map:l,values:u,jointMatrixUniformName:s,morphWeightsUniformName:c}}function K(e,t){var i=e._loadResources;if(i.finishedProgramCreation()&&i.createUniformMaps){i.createUniformMaps=!1;var n=e.gltf,a=e._sourceTechniques,r=e._uniformMaps,o=e._rendererResources.textures,s=e._defaultTexture;Jt.a.material(n,function(i,n){var c=e._runtime.materialsById[n],l=a[c._technique],u=c._values,h=Z(e,i,l,u,t,o,s),d=r[n];d.uniformMap=h.map,d.values=h.values,d.jointMatrixUniformName=h.jointMatrixUniformName,d.morphWeightsUniformName=h.morphWeightsUniformName})}}function $(e){return bi.a.createUniformsForDracoQuantizedAttributes(e.attributes)}function ee(e,t){var i=S(e,t),n=e._quantizedUniforms[i];return bi.a.createUniformsForQuantizedAttributes(e.gltf,t,n)}function te(e){return function(){return e}}function ie(e){return function(){return e.computedJointMatrices}}function ne(e){return function(){return e.weights}}function ae(e){return function(){return e.silhouetteColor}}function re(e){return function(){return e.silhouetteSize}}function oe(e){return function(){return e.color}}function se(e){return function(){var t=e.clippingPlanes;if(!Object(mt.a)(t)&&!Object(mt.a)(e._sphericalHarmonicCoefficients)&&!Object(mt.a)(e._specularEnvironmentMaps))return jt.a.IDENTITY;var i=Object(mt.a)(t)?t.modelMatrix:jt.a.IDENTITY;return jt.a.multiply(e._clippingPlaneModelViewMatrix,i,Wi)}}function ce(e){return function(){var t=e.clippingPlanes;return Object(mt.a)(t)&&t.enabled?t.texture:e._defaultTexture}}function le(e){return function(){var t=e.clippingPlanes;if(!Object(mt.a)(t))return ut.a.WHITE.withAlpha(0);var i=ut.a.clone(t.edgeColor);return i.alpha=t.edgeWidth,i}}function ue(e){return function(){return oi.a.getColorBlend(e.colorBlendMode,e.colorBlendAmount)}}function he(e){return function(){return e._imageBasedLightingFactor}}function de(e){return function(){return e._lightColor}}function fe(e){return function(){return e.luminanceAtZenith}}function pe(e){return function(){return e._sphericalHarmonicCoefficients}}function me(e){return function(){return e._specularEnvironmentMapAtlas.texture}}function ge(e){return function(){return e._specularEnvironmentMapAtlas.texture.dimensions}}function _e(e){return function(){return e._specularEnvironmentMapAtlas.maximumMipmapLevel}}function ve(e,t){switch(e.mode){case Dt.a.TRIANGLES:return t/3;case Dt.a.TRIANGLE_STRIP:case Dt.a.TRIANGLE_FAN:return Math.max(t-2,0);default:return 0}}function be(e,t,i,n,a){for(var r=e._nodeCommands,o=e._pickIds,s=e.allowPicking,c=e._runtime.meshesByName,l=e._rendererResources,u=l.vertexArrays,h=l.programs,d=l.renderStates,f=e._uniformMaps,p=e.gltf,m=p.accessors,g=p.meshes,_=t.mesh,v=g[_],b=v.primitives,y=b.length,O=0;O<y;++O){var w,x=b[O],E=m[x.indices],T=e._runtime.materialsById[x.material],A=T._program,C=e._decodedData[_+".primitive."+O],S=x.attributes.POSITION;if(Object(mt.a)(S)){var j=bi.a.getAccessorMinMax(p,S);w=nt.a.fromCornerPoints(rt.a.fromArray(j.min),rt.a.fromArray(j.max))}var P,D,I=u[_+".primitive."+O];if(Object(mt.a)(C))D=C.numberOfIndices,P=0;else if(Object(mt.a)(E))D=E.count,P=E.byteOffset/xt.a.getSizeInBytes(E.componentType);else{var R=m[x.attributes.POSITION];D=R.count,P=0}e._trianglesLength+=ve(x,D);var M=f[x.material],L=M.uniformMap;if(Object(mt.a)(M.jointMatrixUniformName)){var N={};N[M.jointMatrixUniformName]=ie(i),L=Object(ht.a)(L,N)}if(Object(mt.a)(M.morphWeightsUniformName)){var F={};F[M.morphWeightsUniformName]=ne(i),L=Object(ht.a)(L,F)}L=Object(ht.a)(L,{gltf_color:oe(e),gltf_colorBlend:ue(e),gltf_clippingPlanes:ce(e),gltf_clippingPlanesEdgeStyle:le(e),gltf_clippingPlanesMatrix:se(e),gltf_iblFactor:he(e),gltf_lightColor:de(e),gltf_sphericalHarmonicCoefficients:pe(e),gltf_specularMap:me(e),gltf_specularMapSize:ge(e),gltf_maxSpecularLOD:_e(e),gltf_luminanceAtZenith:fe(e)}),Object(mt.a)(e._uniformMapLoaded)&&(L=e._uniformMapLoaded(L,A,i));var z={};e.extensionsUsed.WEB3D_quantized_attributes?z=ee(e,x):e._dequantizeInShader&&Object(mt.a)(C)&&(z=$(C)),L=Object(ht.a)(L,z);var B=d[x.material],k=B.blending.enabled,U=e._pickObject;Object(mt.a)(U)||(U={primitive:e,id:e.id,node:i.publicNode,mesh:c[v.name]});var V,H=Ei.a.castShadows(e._shadows),q=Ei.a.receiveShadows(e._shadows);if(s&&!Object(mt.a)(e._uniformMapLoaded)){V=n.createPickId(U),o.push(V);var W={czm_pickColor:te(V.color)};L=Object(ht.a)(L,W)}s&&(V=Object(mt.a)(e._pickIdLoaded)&&Object(mt.a)(e._uniformMapLoaded)?e._pickIdLoaded():"czm_pickColor");var G,Y=new zt.a({boundingVolume:new nt.a,cull:e.cull,modelMatrix:new jt.a,primitiveType:x.mode,vertexArray:I,count:D,offset:P,shaderProgram:h[A],castShadows:H,receiveShadows:q,uniformMap:L,renderState:B,owner:U,pass:k?Bt.a.TRANSLUCENT:e.opaquePass,pickId:V});a||(G=zt.a.shallowClone(Y),G.boundingVolume=new nt.a,G.modelMatrix=new jt.a);var X={show:!0,boundingSphere:w,command:Y,command2D:G,silhouetteModelCommand:void 0,silhouetteModelCommand2D:void 0,silhouetteColorCommand:void 0,silhouetteColorCommand2D:void 0,translucentCommand:void 0,translucentCommand2D:void 0,programId:A};i.commands.push(X),r.push(X)}}function ye(e,t,i){var n=e._loadResources;if(n.finishedEverythingButTextureCreation()&&n.createRuntimeNodes){n.createRuntimeNodes=!1;for(var a=[],r=e._runtime.nodes,o=e.gltf,s=o.nodes,c=o.skins,l=o.scenes[o.scene],u=l.nodes,h=u.length,d=[],f={},p=0;p<h;++p){d.push({parentRuntimeNode:void 0,gltfNode:s[u[p]],id:u[p]});for(var m=[];d.length>0;){var g=d.pop();f[g.id]=!0;var _=g.parentRuntimeNode,v=g.gltfNode,b=r[g.id];if(0===b.parents.length)if(Object(mt.a)(v.matrix))b.matrix=jt.a.fromColumnMajorArray(v.matrix);else{var y=v.rotation;b.translation=rt.a.fromArray(v.translation),b.rotation=It.a.unpack(y),b.scale=rt.a.fromArray(v.scale)}Object(mt.a)(_)?(_.children.push(b),b.parents.push(_)):a.push(b),Object(mt.a)(v.mesh)&&be(e,v,b,t,i);var O=v.children;if(Object(mt.a)(O))for(var w=O.length,x=0;x<w;x++){var E=O[x];f[E]||d.push({parentRuntimeNode:b,gltfNode:s[E],id:O[x]})}var T=v.skin;if(Object(mt.a)(T)&&m.push(c[T].skeleton),0===d.length)for(var A=0;A<m.length;A++){var C=m[A];f[C]||d.push({parentRuntimeNode:void 0,gltfNode:s[C],id:C})}}}e._runtime.rootNodes=a,e._runtime.nodes=r}}function Oe(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&(t+=e[i].sizeInBytes);return t}function we(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&(t+=e[i].sizeInBytes);return t}function xe(e,t){var i=t.context,n=t.scene3DOnly,a=e._quantizedVertexShaders,r=e._toClipCoordinatesGLSL={},o=e._sourceTechniques,s=e._sourcePrograms,c=e._rendererResources,l=c.sourceShaders;e._loadRendererResourcesFromCache&&(l=c.sourceShaders=e._cachedRendererResources.sourceShaders);for(var u in o)if(o.hasOwnProperty(u)){var h=o[u].program,d=s[h],f=l[d.vertexShader];if(bi.a.checkSupportedGlExtensions(d.glExtensions,i),e.extensionsUsed.WEB3D_quantized_attributes||e._dequantizeInShader){var p=a[h];Object(mt.a)(p)||(p=j(f,h,e),a[h]=p),f=p}f=D(f,h,e._vertexShaderLoaded),r[h]=bi.a.toClipCoordinatesGLSL(e.gltf,f)}if(e._loadRendererResourcesFromCache){var m=e._cachedRendererResources;c.buffers=m.buffers,c.vertexArrays=m.vertexArrays,c.programs=m.programs,c.silhouettePrograms=m.silhouettePrograms,c.textures=m.textures,c.samplers=m.samplers,c.renderStates=m.renderStates,Object(mt.a)(e._precreatedAttributes)&&Y(e,i),e._cachedGeometryByteLength+=Oe(m.buffers),e._cachedTexturesByteLength+=we(m.textures)}else C(e,t),L(e,t),z(e,i),F(e),k(e,t);q(e),G(e),e._loadRendererResourcesFromCache||(Y(e,i),X(e)),K(e,i),ye(e,i,n)}function Ee(e,t){var i=e.publicNode,n=i.matrix;i.useMatrix&&Object(mt.a)(n)?jt.a.clone(n,t):Object(mt.a)(e.matrix)?jt.a.clone(e.matrix,t):(jt.a.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t),i.setMatrix(t))}function Te(e,t,i,n){var a=e._maxDirtyNumber,r=e._runtime.rootNodes,o=r.length,s=Gi,c=e._computedModelMatrix;if(e._mode!==xi.a.SCENE3D&&!e._ignoreCommands){var l=jt.a.getColumn(c,3,Yi);if(ot.a.equals(l,ot.a.UNIT_W)){var u=e.boundingSphere.center,h=Mt.a.wgs84To2DModelMatrix(n,u,Xi);c=jt.a.multiply(h,c,Xi),Object(mt.a)(e._rtcCenter)&&(jt.a.setTranslation(c,ot.a.UNIT_W,c),e._rtcCenter=e._rtcCenter2D)}else c=Mt.a.basisTo2D(n,c,Xi),e._rtcCenter=e._rtcCenter3D}for(var d=0;d<o;++d){var f=r[d];for(Ee(f,f.transformToRoot),s.push(f);s.length>0;){f=s.pop();var p=f.transformToRoot,m=f.commands;if(f.dirtyNumber===a||t||i){var g=jt.a.multiplyTransformation(c,p,f.computedMatrix),_=m.length;if(_>0)for(var v=0;v<_;++v){var b=m[v],y=b.command;jt.a.clone(g,y.modelMatrix),nt.a.transform(b.boundingSphere,y.modelMatrix,y.boundingVolume),Object(mt.a)(e._rtcCenter)&&rt.a.add(e._rtcCenter,y.boundingVolume.center,y.boundingVolume.center),y=b.command2D,Object(mt.a)(y)&&e._mode===xi.a.SCENE2D&&(jt.a.clone(g,y.modelMatrix),y.modelMatrix[13]-=2*Ct.a.sign(y.modelMatrix[13])*Ct.a.PI*n.ellipsoid.maximumRadius,nt.a.transform(b.boundingSphere,y.modelMatrix,y.boundingVolume))}}var O=f.children;if(Object(mt.a)(O))for(var w=O.length,x=0;x<w;++x){var E=O[x];E.dirtyNumber=Math.max(E.dirtyNumber,f.dirtyNumber),(E.dirtyNumber===a||i)&&(Ee(E,E.transformToRoot),jt.a.multiplyTransformation(p,E.transformToRoot,E.transformToRoot)),s.push(E)}}}++e._maxDirtyNumber}function Ae(e){for(var t=e._runtime.skinnedNodes,i=t.length,n=0;n<i;++n){var a=t[n];Qi=jt.a.inverseTransformation(a.transformToRoot,Qi);for(var r=a.computedJointMatrices,o=a.joints,s=a.bindShapeMatrix,c=a.inverseBindMatrices,l=c.length,u=0;u<l;++u)Object(mt.a)(r[u])||(r[u]=new jt.a),r[u]=jt.a.multiplyTransformation(Qi,o[u].transformToRoot,r[u]),r[u]=jt.a.multiplyTransformation(r[u],c[u],r[u]),Object(mt.a)(s)&&(r[u]=jt.a.multiplyTransformation(r[u],s,r[u]))}}function Ce(e){for(var t=e._runtime.rootNodes,i=t.length,n=Gi,a=0;a<i;++a){var r=t[a];for(r.computedShow=r.publicNode.show,n.push(r);n.length>0;){r=n.pop();for(var o=r.computedShow,s=r.commands,c=s.length,l=0;l<c;++l)s[l].show=o;var u=r.children;if(Object(mt.a)(u))for(var h=u.length,d=0;d<h;++d){var f=u[d];f.computedShow=o&&f.publicNode.show,n.push(f)}}}}function Se(e,t){var i=e.id;if(e._id!==i){e._id=i;for(var n=e._pickIds,a=n.length,r=0;r<a;++r)n[r].object.id=i}}function je(e){if(e._debugWireframe!==e.debugWireframe){e._debugWireframe=e.debugWireframe;for(var t=e.debugWireframe?Dt.a.LINES:Dt.a.TRIANGLES,i=e._nodeCommands,n=i.length,a=0;a<n;++a)i[a].command.primitiveType=t}}function Pe(e){if(e.debugShowBoundingVolume!==e._debugShowBoundingVolume){e._debugShowBoundingVolume=e.debugShowBoundingVolume;for(var t=e.debugShowBoundingVolume,i=e._nodeCommands,n=i.length,a=0;a<n;++a)i[a].command.debugShowBoundingVolume=t}}function De(e){if(e.shadows!==e._shadows){e._shadows=e.shadows;for(var t=Ei.a.castShadows(e.shadows),i=Ei.a.receiveShadows(e.shadows),n=e._nodeCommands,a=n.length,r=0;r<a;r++){var o=n[r];o.command.castShadows=t,o.command.receiveShadows=i}}}function Ie(e){var t=Object(lt.a)(e,!0);return t.cull.enabled=!1,t.depthTest.enabled=!0,t.depthMask=!1,t.blending=ai.a.ALPHA_BLEND,kt.a.fromCache(t)}function Re(e){var t=zt.a.shallowClone(e);return t.pass=Bt.a.TRANSLUCENT,t.renderState=Ie(e.renderState),t}function Me(e,t,i){var n=t.scene3DOnly,a=e.color.alpha;if(a>0&&a<1){var r=e._nodeCommands,o=r.length;if(!Object(mt.a)(r[0].translucentCommand)||i)for(var s=0;s<o;++s){var c=r[s],l=c.command;if(c.translucentCommand=Re(l),!n){var u=c.command2D;c.translucentCommand2D=Re(u)}}}}function Le(e,t){var i=e._rendererResources.programs;for(var n in i)if(i.hasOwnProperty(n)&&i[n]===t)return n}function Ne(e,t,i){var n=t.vertexShaderSource.sources[0],a=t._attributeLocations,r=e._normalAttributeName;n=Ht.a.replaceMain(n,"gltf_silhouette_main"),n+="uniform float gltf_silhouetteSize; \nvoid main() \n{ \n    gltf_silhouette_main(); \n    vec3 n = normalize(czm_normal3D * "+r+"); \n    n.x *= czm_projection[0][0]; \n    n.y *= czm_projection[1][1]; \n    vec4 clip = gl_Position; \n    clip.xy += n.xy * clip.w * gltf_silhouetteSize * czm_pixelRatio / czm_viewport.z; \n    gl_Position = clip; \n}";return Vt.a.fromCache({context:i.context,vertexShaderSource:n,fragmentShaderSource:"uniform vec4 gltf_silhouetteColor; \nvoid main() \n{ \n    gl_FragColor = czm_gammaCorrect(gltf_silhouetteColor); \n}",attributeLocations:a})}function Fe(e,t){return o(t.context)&&e.silhouetteSize>0&&e.silhouetteColor.alpha>0&&Object(mt.a)(e._normalAttributeName)}function ze(e){for(var t=e._nodeCommands,i=t.length,n=0;n<i;++n){if(t[n].command.pass===Bt.a.TRANSLUCENT)return!0}return!1}function Be(e){return e.color.alpha>0&&e.color.alpha<1}function ke(e){return 0===e.color.alpha}function Ue(e,t){return Math.floor(e)!==Math.floor(t)||Math.ceil(e)!==Math.ceil(t)}function Ve(e,t){for(var i=++Ji%255,n=ze(e)||Be(e)||e.silhouetteColor.alpha<1,a=e._rendererResources.silhouettePrograms,r=t.scene3DOnly,o=e._nodeCommands,s=o.length,c=0;c<s;++c){var l=o[c],u=l.command,h=Be(e)?l.translucentCommand:u,d=zt.a.shallowClone(h),f=Object(lt.a)(h.renderState);f.stencilTest={enabled:!0,frontFunction:Lt.a.ALWAYS,backFunction:Lt.a.ALWAYS,reference:i,mask:-1,frontOperation:{fail:Lt.a.KEEP,zFail:Lt.a.KEEP,zPass:Lt.a.REPLACE},backOperation:{fail:Lt.a.KEEP,zFail:Lt.a.KEEP,zPass:Lt.a.REPLACE}},ke(e)&&(f.colorMask={red:!1,green:!1,blue:!1,alpha:!1},f.depthMask=!1),f=kt.a.fromCache(f),d.renderState=f,l.silhouetteModelCommand=d;var p=zt.a.shallowClone(u);f=Object(lt.a)(u.renderState,!0),f.depthTest.enabled=!0,f.cull.enabled=!1,n&&(p.pass=Bt.a.TRANSLUCENT,f.depthMask=!1,f.blending=ai.a.ALPHA_BLEND),f.stencilTest={enabled:!0,frontFunction:Lt.a.NOTEQUAL,backFunction:Lt.a.NOTEQUAL,reference:i,mask:-1,frontOperation:{fail:Lt.a.KEEP,zFail:Lt.a.KEEP,zPass:Lt.a.KEEP},backOperation:{fail:Lt.a.KEEP,zFail:Lt.a.KEEP,zPass:Lt.a.KEEP}},f=kt.a.fromCache(f);var m=u.shaderProgram,g=Le(e,m),_=a[g];Object(mt.a)(_)||(_=Ne(e,m,t),a[g]=_);var v=Object(ht.a)(u.uniformMap,{gltf_silhouetteColor:ae(e),gltf_silhouetteSize:re(e)});if(p.renderState=f,p.shaderProgram=_,p.uniformMap=v,p.castShadows=!1,p.receiveShadows=!1,l.silhouetteColorCommand=p,!r){var b=l.command2D,y=zt.a.shallowClone(d);y.boundingVolume=b.boundingVolume,y.modelMatrix=b.modelMatrix,l.silhouetteModelCommand2D=y;var O=zt.a.shallowClone(p);y.boundingVolume=b.boundingVolume,y.modelMatrix=b.modelMatrix,l.silhouetteColorCommand2D=O}}}function He(e,t,i){return e=Ht.a.replaceMain(e,"gltf_clip_main"),e+=r._getClippingFunction(t,i)+"\n",e+="uniform sampler2D gltf_clippingPlanes; \nuniform mat4 gltf_clippingPlanesMatrix; \nuniform vec4 gltf_clippingPlanesEdgeStyle; \nvoid main() \n{ \n    gltf_clip_main(); \n"+Object(li.a)("gltf_clippingPlanes","gltf_clippingPlanesMatrix","gltf_clippingPlanesEdgeStyle")+"} \n"}function qe(e,t,i){if(Fe(e,t)){var n=e._nodeCommands,a=Ue(e.color.alpha,e._colorPreviousAlpha)||Ue(e.silhouetteColor.alpha,e._silhouetteColorPreviousAlpha)||!Object(mt.a)(n[0].silhouetteModelCommand);e._colorPreviousAlpha=e.color.alpha,e._silhouetteColorPreviousAlpha=e.silhouetteColor.alpha,(a||i)&&Ve(e,t)}}function We(e,t){var i=e._clippingPlanes;Object(mt.a)(i)&&i.owner===e&&i.enabled&&i.update(t)}function Ge(e,t,i){return Zi.center=e,Zi.radius=t,i.camera.getPixelSize(Zi,i.context.drawingBufferWidth,i.context.drawingBufferHeight)}function Ye(e,t){var i=e.scale;if(0!==e.minimumPixelSize){var n=t.context,a=Math.max(n.drawingBufferWidth,n.drawingBufferHeight),r=Object(mt.a)(e._clampedModelMatrix)?e._clampedModelMatrix:e.modelMatrix;if(Ki.x=r[12],Ki.y=r[13],Ki.z=r[14],Object(mt.a)(e._rtcCenter)&&rt.a.add(e._rtcCenter,Ki,Ki),e._mode!==xi.a.SCENE3D){var o=t.mapProjection,s=o.ellipsoid.cartesianToCartographic(Ki,$i);o.project(s,Ki),rt.a.fromElements(Ki.z,Ki.x,Ki.y,Ki)}var c=e.boundingSphere.radius,l=Ge(Ki,c,t),u=1/l;Math.min(u*(2*c),a)<e.minimumPixelSize&&(i=e.minimumPixelSize*l/(2*e._initialRadius))}return Object(mt.a)(e.maximumScale)?Math.min(e.maximumScale,i):i}function Xe(e){Object(mt.a)(e._cacheKey)&&Object(mt.a)(e._cachedGltf)&&0==--e._cachedGltf.count&&delete Si[e._cacheKey],e._cachedGltf=void 0}function Qe(e,t){this.buffers=void 0,this.vertexArrays=void 0,this.programs=void 0,this.sourceShaders=void 0,this.silhouettePrograms=void 0,this.textures=void 0,this.samplers=void 0,this.renderStates=void 0,this.ready=!1,this.context=e,this.cacheKey=t,this.count=0}function Je(e){for(var t in e)e.hasOwnProperty(t)&&e[t].destroy()}function Ze(e){Je(e.buffers),Je(e.vertexArrays),Je(e.programs),Je(e.silhouettePrograms),Je(e.textures)}function Ke(e,t,i){return function(n){if(e.heightReference===hi.a.RELATIVE_TO_GROUND){var a=t.cartesianToCartographic(n,$i);a.height+=i.height,t.cartographicToCartesian(a,n)}var r=e._clampedModelMatrix;jt.a.clone(e.modelMatrix,r),r[12]=n.x,r[13]=n.y,r[14]=n.z,e._heightChanged=!0}}function $e(e){Object(mt.a)(e._removeUpdateHeightCallback)&&(e._removeUpdateHeightCallback(),e._removeUpdateHeightCallback=void 0);var t=e._scene;if(!Object(mt.a)(t)||!Object(mt.a)(t.globe)||e.heightReference===hi.a.NONE){if(e.heightReference!==hi.a.NONE)throw new _t.a("Height reference is not supported without a scene and globe.");return void(e._clampedModelMatrix=void 0)}var i=t.globe,n=i.ellipsoid,a=e.modelMatrix;Ki.x=a[12],Ki.y=a[13],Ki.z=a[14];var r=n.cartesianToCartographic(Ki);Object(mt.a)(e._clampedModelMatrix)||(e._clampedModelMatrix=jt.a.clone(a,new jt.a));var o=i._surface;e._removeUpdateHeightCallback=o.updateHeight(r,Ke(e,n,r));var s=i.getHeight(r);if(Object(mt.a)(s)){var c=Ke(e,n,r);st.a.clone(r,$i),$i.height=s,n.cartographicToCartesian($i,Ki),c(Ki)}}function et(e,t){var i,n=e.distanceDisplayCondition,a=n.near*n.near,r=n.far*n.far;if(t.mode===xi.a.SCENE2D){i=.5*(t.camera.frustum.right-t.camera.frustum.left),i*=i}else{var o=jt.a.getTranslation(e.modelMatrix,en);if(t.mode===xi.a.COLUMBUS_VIEW){var s=t.mapProjection,c=s.ellipsoid,l=c.cartesianToCartographic(o,tn);o=s.project(l,o),rt.a.fromElements(o.z,o.x,o.y,o)}i=rt.a.distanceSquared(o,t.camera.positionWC)}return i>=a&&i<=r}function tt(e,t){e.programs!==t.programs&&Je(e.programs),e.silhouettePrograms!==t.silhouettePrograms&&Je(e.silhouettePrograms)}function it(e,t){var i=e._rendererResources,n=e._cachedRendererResources;tt(i,n);var a;if(c(e)||s(e)||e._shouldRegenerateShaders){e._shouldRegenerateShaders=!1,i.programs={},i.silhouettePrograms={};var r,o={},l=e._sourceTechniques;for(var u in l)l.hasOwnProperty(u)&&(r=l[u],a=r.program,o[a]||(o[a]=!0,R({programId:a,techniqueId:u},e,t.context)))}else i.programs=n.programs,i.silhouettePrograms=n.silhouettePrograms;for(var h=i.programs,d=e._nodeCommands,f=d.length,p=0;p<f;++p){var m=d[p];a=m.programId;var g=h[a];m.command.shaderProgram=g,Object(mt.a)(m.command2D)&&(m.command2D.shaderProgram=g)}Me(e,t,!0),qe(e,t,!0)}var nt=i("lBr9"),at=i("Ss9j"),rt=i("Jj+J"),ot=i("PDkd"),st=i("I3GD"),ct=i("5F4X"),lt=i("wv0P"),ut=i("6F0S"),ht=i("ZboF"),dt=i("ed27"),ft=i("ODTd"),pt=i("5A4e"),mt=i("xC6Q"),gt=i("6sr8"),_t=i("PzDm"),vt=i("2d28"),bt=i("gjtw"),yt=i("u44x"),Ot=i("l7qC"),wt=i("Q+B7"),xt=i("oMsT"),Et=i("O41A"),Tt=i("DPpe"),At=i("RWMz"),Ct=i("fq+p"),St=i("i3sv"),jt=i("Xjii"),Pt=i("FhYh"),Dt=i("nHNe"),It=i("q/xW"),Rt=i("rMjQ"),Mt=i("g/FO"),Lt=i("1L1F"),Nt=i("tW+E"),Ft=i("rFKc"),zt=i("1mJh"),Bt=i("M0+0"),kt=i("DrvA"),Ut=i("l0BX"),Vt=i("WUlw"),Ht=i("x6Ms"),qt=i("25X5"),Wt=i("z2iY"),Gt=i("L4GL"),Yt=i("+0EW"),Xt=i("K8l+"),Qt=i("ZGiz"),Jt=i("FJg6"),Zt=i("dWoC"),Kt=i("dnpE"),$t=i("8uSS"),ei=i("xc3H"),ti=i("d+a7"),ii=i("S7OP"),ni=i("gsn9"),ai=i("OtDm"),ri=i("Jl4s"),oi=i("Lx6B"),si=i("jFv/"),ci=i("zrBd"),li=i("7Xkg"),ui=i("YC0M"),hi=i("JIo7"),di=i("GPPq"),fi=i("AYAi"),pi=i("xtvr"),mi=i("xVcD"),gi=i("lGcN"),_i=i("/RMi"),vi=i("EH9U"),bi=i("67ZH"),yi=i("pfpV"),Oi=i("qy4r"),wi=i("52/g"),xi=i("sotJ"),Ei=i("ARzC"),Ti=new rt.a,Ai=bi.a.ModelState,Ci=Ct.a.EPSILON16;Object.defineProperties(a.prototype,{gltf:{set:function(e){this._gltf=e},get:function(){return this._gltf}}}),a.prototype.makeReady=function(e){this.gltf=e;for(var t=this.modelsToLoad,i=t.length,a=0;a<i;++a){var r=t[a];r.isDestroyed()||n(r,this)}this.modelsToLoad=void 0,this.ready=!0};var Si={},ji={};Object.defineProperties(r.prototype,{gltf:{get:function(){return Object(mt.a)(this._cachedGltf)?this._cachedGltf.gltf:void 0}},releaseGltfJson:{get:function(){return this._releaseGltfJson}},cacheKey:{get:function(){return this._cacheKey}},basePath:{get:function(){return this._resource.url}},boundingSphere:{get:function(){if(this._state!==Ai.LOADED)throw new _t.a("The model is not loaded.  Use Model.readyPromise or wait for Model.ready to be true.");var e=this.modelMatrix;this.heightReference!==hi.a.NONE&&this._clampedModelMatrix&&(e=this._clampedModelMatrix);var t=jt.a.getScale(e,Ti),i=Object(mt.a)(this.maximumScale)?Math.min(this.maximumScale,this.scale):this.scale;rt.a.multiplyByScalar(t,i,t);var n=this._scaledBoundingSphere;return n.center=rt.a.multiplyComponents(this._boundingSphere.center,t,n.center),n.radius=rt.a.maximumComponent(t)*this._initialRadius,Object(mt.a)(this._rtcCenter)&&rt.a.add(this._rtcCenter,n.center,n.center),n}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},asynchronous:{get:function(){return this._asynchronous}},allowPicking:{get:function(){return this._allowPicking}},incrementallyLoadTextures:{get:function(){return this._incrementallyLoadTextures}},pendingTextureLoads:{get:function(){return Object(mt.a)(this._loadResources)?this._loadResources.pendingTextureLoads:0}},dirty:{get:function(){return this._dirty}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){if(Object(mt.a)(e)&&e.far<=e.near)throw new _t.a("far must be greater than near");this._distanceDisplayCondition=vt.a.clone(e,this._distanceDisplayCondition)}},extensionsUsed:{get:function(){return Object(mt.a)(this._extensionsUsed)||(this._extensionsUsed=bi.a.getUsedExtensions(this.gltf)),this._extensionsUsed}},extensionsRequired:{get:function(){return Object(mt.a)(this._extensionsRequired)||(this._extensionsRequired=bi.a.getRequiredExtensions(this.gltf)),this._extensionsRequired}},upAxis:{get:function(){return this._upAxis}},forwardAxis:{get:function(){return Object(mt.a)(this._forwardAxis)?this._forwardAxis:this._gltfForwardAxis}},trianglesLength:{get:function(){return this._trianglesLength}},geometryByteLength:{get:function(){return this._geometryByteLength}},texturesByteLength:{get:function(){return this._texturesByteLength}},cachedGeometryByteLength:{get:function(){return this._cachedGeometryByteLength}},cachedTexturesByteLength:{get:function(){return this._cachedTexturesByteLength}},clippingPlanes:{get:function(){return this._clippingPlanes},set:function(e){e!==this._clippingPlanes&&ri.a.setOwner(e,this,"_clippingPlanes")}},pickIds:{get:function(){return this._pickIds}},imageBasedLightingFactor:{get:function(){return this._imageBasedLightingFactor},set:function(e){ct.a.typeOf.object("imageBasedLightingFactor",e),ct.a.typeOf.number.greaterThanOrEquals("imageBasedLightingFactor.x",e.x,0),ct.a.typeOf.number.lessThanOrEquals("imageBasedLightingFactor.x",e.x,1),ct.a.typeOf.number.greaterThanOrEquals("imageBasedLightingFactor.y",e.y,0),ct.a.typeOf.number.lessThanOrEquals("imageBasedLightingFactor.y",e.y,1);var t=this._imageBasedLightingFactor;e===t||at.a.equals(e,t)||(this._shouldRegenerateShaders=this._shouldRegenerateShaders||this._imageBasedLightingFactor.x>0&&0===e.x||0===this._imageBasedLightingFactor.x&&e.x>0,this._shouldRegenerateShaders=this._shouldRegenerateShaders||this._imageBasedLightingFactor.y>0&&0===e.y||0===this._imageBasedLightingFactor.y&&e.y>0,at.a.clone(e,this._imageBasedLightingFactor))}},lightColor:{get:function(){return this._lightColor},set:function(e){var t=this._lightColor;e===t||rt.a.equals(e,t)||(this._shouldRegenerateShaders=this._shouldRegenerateShaders||Object(mt.a)(t)&&!Object(mt.a)(e)||Object(mt.a)(e)&&!Object(mt.a)(t),this._lightColor=rt.a.clone(e,t))}},luminanceAtZenith:{get:function(){return this._luminanceAtZenith},set:function(e){var t=this._luminanceAtZenith;e!==t&&(this._shouldRegenerateShaders=this._shouldRegenerateShaders||Object(mt.a)(t)&&!Object(mt.a)(e)||Object(mt.a)(e)&&!Object(mt.a)(t),this._luminanceAtZenith=e)}},sphericalHarmonicCoefficients:{get:function(){return this._sphericalHarmonicCoefficients},set:function(e){if(Object(mt.a)(e)&&(!Array.isArray(e)||9!==e.length))throw new _t.a("sphericalHarmonicCoefficients must be an array of 9 Cartesian3 values.");e!==this._sphericalHarmonicCoefficients&&(this._sphericalHarmonicCoefficients=e,this._shouldRegenerateShaders=!0)}},specularEnvironmentMaps:{get:function(){return this._specularEnvironmentMaps},set:function(e){this._shouldUpdateSpecularMapAtlas=this._shouldUpdateSpecularMapAtlas||e!==this._specularEnvironmentMaps,this._specularEnvironmentMaps=e}},credit:{get:function(){return this._credit}}}),r.silhouetteSupported=function(e){return o(e.context)},r.fromGltf=function(e){if(!Object(mt.a)(e)||!Object(mt.a)(e.url))throw new _t.a("options.url is required");var t=e.url;e=Object(lt.a)(e);var i=Rt.a.createIfNeeded(t),o=Object(pt.a)(e.basePath,i.clone()),s=Rt.a.createIfNeeded(o),c=Object(pt.a)(e.cacheKey,ji[Object(yt.a)(i.url)]);Object(mt.a)(c)||(c=Object(dt.a)(),ji[Object(yt.a)(i.url)]=c),Object(mt.a)(e.basePath)&&!Object(mt.a)(e.cacheKey)&&(c+=s.url),e.cacheKey=c,e.basePath=s;var u=new r(e),h=Si[c];return Object(mt.a)(h)?h.ready||(++h.count,h.modelsToLoad.push(u)):(h=new a({ready:!1}),h.count=1,h.modelsToLoad.push(u),n(u,h),Si[c]=h,Object(mt.a)(i.headers.Accept)||(i.headers.Accept="model/gltf-binary,model/gltf+json;q=0.8,application/json;q=0.2,*/*;q=0.01"),i.fetchArrayBuffer().then(function(e){var t=new Uint8Array(e);if(l(t)){var n=Object(ei.a)(t);h.makeReady(n)}else{var a=Object(wt.a)(t);h.makeReady(JSON.parse(a))}var r=u._resourceCredits,o=i.credits;if(Object(mt.a)(o))for(var s=o.length,c=0;c<s;c++)r.push(o[c])}).otherwise(bi.a.getFailedLoadFunction(u,"model",i.url))),u},r._gltfCache=Si,r.prototype.getNode=function(e){var t=u(this,"nodesByName",e);return Object(mt.a)(t)?t.publicNode:void 0},r.prototype.getMesh=function(e){return u(this,"meshesByName",e)},r.prototype.getMaterial=function(e){return u(this,"materialsByName",e)},r.prototype.setArticulationStage=function(e,t){ct.a.typeOf.number("value",t);var i=u(this,"stagesByKey",e),n=u(this,"articulationsByStageKey",e);Object(mt.a)(i)&&Object(mt.a)(n)&&(t=Ct.a.clamp(t,i.minimumValue,i.maximumValue),Ct.a.equalsEpsilon(i.currentValue,t,Ci)||(i.currentValue=t,n.isDirty=!0))};var Pi=new rt.a,Di=new St.a,Ii=new jt.a;r.prototype.applyArticulations=function(){var e=this._runtime.articulationsByName;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];if(i.isDirty){i.isDirty=!1;for(var n=i.nodes.length,a=0;a<n;++a){for(var r=i.nodes[a],o=jt.a.clone(r.originalMatrix,Ii),s=i.stages.length,c=0;c<s;++c){var l=i.stages[c];o=h(l,o)}r.matrix=o}}}};var Ri=/(^data:image\/ktx)|(\.ktx$)/i,Mi=/(^data:image\/crn)|(\.crn$)/i,Li=new jt.a,Ni=function(){this.id=void 0,this.model=void 0,this.context=void 0};Ni.prototype.set=function(e,t,i){this.id=e,this.model=t,this.context=i},Ni.prototype.execute=function(){T(this.id,this.model,this.context)};var Fi=function(){this.id=void 0,this.componentType=void 0,this.model=void 0,this.context=void 0};Fi.prototype.set=function(e,t,i,n){this.id=e,this.componentType=t,this.model=i,this.context=n},Fi.prototype.execute=function(){A(this.id,this.componentType,this.model,this.context)};var zi=new Ni,Bi=new Fi,ki=function(){this.programToCreate=void 0,this.model=void 0,this.context=void 0};ki.prototype.set=function(e,t,i){this.programToCreate=e,this.model=t,this.context=i},ki.prototype.execute=function(){I(this.programToCreate,this.model,this.context)};var Ui=new ki,Vi=function(){this.gltfTexture=void 0,this.model=void 0,this.context=void 0};Vi.prototype.set=function(e,t,i){this.gltfTexture=e,this.model=t,this.context=i},Vi.prototype.execute=function(){B(this.gltfTexture,this.model,this.context)};var Hi=new Vi,qi={MODEL:function(e,t,i){return function(){return i.computedMatrix}},VIEW:function(e,t,i){return function(){return e.view}},PROJECTION:function(e,t,i){return function(){return e.projection}},MODELVIEW:function(e,t,i){var n=new jt.a;return function(){return jt.a.multiplyTransformation(e.view,i.computedMatrix,n)}},CESIUM_RTC_MODELVIEW:function(e,t,i){var n=new jt.a;return function(){return jt.a.multiplyTransformation(e.view,i.computedMatrix,n),jt.a.setTranslation(n,t._rtcCenterEye,n)}},MODELVIEWPROJECTION:function(e,t,i){var n=new jt.a;return function(){return jt.a.multiplyTransformation(e.view,i.computedMatrix,n),jt.a.multiply(e._projection,n,n)}},MODELINVERSE:function(e,t,i){var n=new jt.a;return function(){return jt.a.inverse(i.computedMatrix,n)}},VIEWINVERSE:function(e,t){return function(){return e.inverseView}},PROJECTIONINVERSE:function(e,t,i){return function(){return e.inverseProjection}},MODELVIEWINVERSE:function(e,t,i){var n=new jt.a,a=new jt.a;return function(){return jt.a.multiplyTransformation(e.view,i.computedMatrix,n),jt.a.inverse(n,a)}},MODELVIEWPROJECTIONINVERSE:function(e,t,i){var n=new jt.a,a=new jt.a;return function(){return jt.a.multiplyTransformation(e.view,i.computedMatrix,n),jt.a.multiply(e._projection,n,n),jt.a.inverse(n,a)}},MODELINVERSETRANSPOSE:function(e,t,i){var n=new jt.a,a=new St.a;return function(){return jt.a.inverse(i.computedMatrix,n),jt.a.getMatrix3(n,a),St.a.transpose(a,a)}},MODELVIEWINVERSETRANSPOSE:function(e,t,i){var n=new jt.a,a=new jt.a,r=new St.a;return function(){return jt.a.multiplyTransformation(e.view,i.computedMatrix,n),jt.a.inverse(n,a),jt.a.getMatrix3(a,r),St.a.transpose(r,r)}},VIEWPORT:function(e,t,i){return function(){return e.viewportCartesian4}}},Wi=new jt.a,Gi=[],Yi=new ot.a,Xi=new jt.a,Qi=new jt.a,Ji=0,Zi=new nt.a,Ki=new rt.a,$i=new st.a;Qe.prototype.release=function(){if(0==--this.count)return Object(mt.a)(this.cacheKey)&&delete this.context.cache.modelRendererResourceCache[this.cacheKey],Ze(this),Object(gt.a)(this)};var en=new rt.a,tn=new st.a;r.prototype.update=function(e){if(e.mode!==xi.a.MORPHING){if(!bt.a.supportsWebP.initialized)return void bt.a.supportsWebP.initialize();var t=bt.a.supportsWebP(),i=e.context;if(this._defaultTexture=i.defaultTexture,this._state===Ai.NEEDS_LOAD&&Object(mt.a)(this.gltf)){var n,a=this.cacheKey;if(Object(mt.a)(a)){i.cache.modelRendererResourceCache=Object(pt.a)(i.cache.modelRendererResourceCache,{});var r=i.cache.modelRendererResourceCache;if(n=r[this.cacheKey],Object(mt.a)(n)){if(!n.ready)return;++n.count,this._loadRendererResourcesFromCache=!0}else n=new Qe(i,a),n.count=1,r[this.cacheKey]=n;this._cachedRendererResources=n}else n=new Qe(i),n.count=1,this._cachedRendererResources=n;if(this._state=Ai.LOADING,this._state!==Ai.FAILED){var o=this.gltf.extensions;if(Object(mt.a)(o)&&Object(mt.a)(o.CESIUM_RTC)){var c=rt.a.fromArray(o.CESIUM_RTC.center);if(!rt.a.equals(c,rt.a.ZERO)){this._rtcCenter3D=c;var l=e.mapProjection,u=l.ellipsoid,h=u.cartesianToCartographic(this._rtcCenter3D),g=l.project(h);rt.a.fromElements(g.z,g.x,g.y,g),this._rtcCenter2D=g,this._rtcCenterEye=new rt.a,this._rtcCenter=this._rtcCenter3D}}Object(Qt.a)(this.gltf),this._loadResources=new mi.a,this._loadRendererResourcesFromCache||bi.a.parseBuffers(this,f)}}var y=this._loadResources,T=this._incrementallyLoadTextures,A=!1;if(this._state===Ai.LOADING){if(0===y.pendingBufferLoads){if(!y.initialized){if(e.brdfLutGenerator.update(e),bi.a.checkSupportedExtensions(this.extensionsRequired,t),bi.a.updateForwardAxis(this),!Object(mt.a)(this.gltf.extras.sourceVersion)){var C=this.gltf;C.extras.sourceVersion=bi.a.getAssetVersion(C),C.extras.sourceKHRTechniquesWebGL=Object(mt.a)(bi.a.getUsedExtensions(C).KHR_techniques_webgl),this._sourceVersion=C.extras.sourceVersion,this._sourceKHRTechniquesWebGL=C.extras.sourceKHRTechniquesWebGL,Object(ti.a)(C),Object(Xt.a)(C);var S={addBatchIdToGeneratedShaders:this._addBatchIdToGeneratedShaders};Object(Oi.a)(C,S),Object(wi.a)(C,S)}this._sourceVersion=this.gltf.extras.sourceVersion,this._sourceKHRTechniquesWebGL=this.gltf.extras.sourceKHRTechniquesWebGL,this._dequantizeInShader=this._dequantizeInShader&&ci.a.hasExtension(this),d(this),b(this),m(this),this._loadRendererResourcesFromCache||(p(this),_(this),v(this),O(this,i,t)),x(this),E(this),w(this),ci.a.parse(this,i),y.initialized=!0}y.finishedDecoding()||ci.a.decodeModel(this,i).otherwise(bi.a.getFailedLoadFunction(this,"model",this.basePath)),y.finishedDecoding()&&!y.resourcesParsed&&(this._boundingSphere=bi.a.computeBoundingSphere(this),this._initialRadius=this._boundingSphere.radius,ci.a.cacheDataForModel(this),y.resourcesParsed=!0),y.resourcesParsed&&0===y.pendingShaderLoads&&xe(this,e)}(y.finished()||T&&y.finishedEverythingButTextureCreation())&&(this._state=Ai.LOADED,A=!0)}if(Object(mt.a)(y)&&this._state===Ai.LOADED&&(T&&!A&&xe(this,e),y.finished())){this._loadResources=void 0;var j=this._rendererResources,P=this._cachedRendererResources;P.buffers=j.buffers,P.vertexArrays=j.vertexArrays,P.programs=j.programs,P.sourceShaders=j.sourceShaders,P.silhouettePrograms=j.silhouettePrograms,P.textures=j.textures,P.samplers=j.samplers,P.renderStates=j.renderStates,P.ready=!0,this._normalAttributeName=bi.a.getAttributeOrUniformBySemantic(this.gltf,"NORMAL"),Object(mt.a)(this._precreatedAttributes)&&(P.vertexArrays={}),this.releaseGltfJson&&Xe(this)}var D=yi.a.isSupported(i);if(this._shouldUpdateSpecularMapAtlas&&D){if(this._shouldUpdateSpecularMapAtlas=!1,this._specularEnvironmentMapAtlas=this._specularEnvironmentMapAtlas&&this._specularEnvironmentMapAtlas.destroy(),this._specularEnvironmentMapAtlas=void 0,Object(mt.a)(this._specularEnvironmentMaps)){this._specularEnvironmentMapAtlas=new yi.a(this._specularEnvironmentMaps);var I=this;this._specularEnvironmentMapAtlas.readyPromise.then(function(){I._shouldRegenerateShaders=!0}).otherwise(function(e){console.error("Error loading specularEnvironmentMaps: "+e)})}this._shouldRegenerateShaders=!0}Object(mt.a)(this._specularEnvironmentMapAtlas)&&this._specularEnvironmentMapAtlas.update(e);var R=!Object(mt.a)(this._specularEnvironmentMapAtlas)&&Object(mt.a)(e.specularEnvironmentMaps)&&!this._useDefaultSpecularMaps,M=!Object(mt.a)(e.specularEnvironmentMaps)&&this._useDefaultSpecularMaps,L=!Object(mt.a)(this._sphericalHarmonicCoefficients)&&Object(mt.a)(e.sphericalHarmonicCoefficients)&&!this._useDefaultSphericalHarmonics,N=!Object(mt.a)(e.sphericalHarmonicCoefficients)&&this._useDefaultSphericalHarmonics;this._shouldRegenerateShaders=this._shouldRegenerateShaders||R||M||L||N,this._useDefaultSpecularMaps=!Object(mt.a)(this._specularEnvironmentMapAtlas)&&Object(mt.a)(e.specularEnvironmentMaps),this._useDefaultSphericalHarmonics=!Object(mt.a)(this._sphericalHarmonicCoefficients)&&Object(mt.a)(e.sphericalHarmonicCoefficients);var F=Fe(this,e),z=Be(this),B=ke(this),k=!Object(mt.a)(this.distanceDisplayCondition)||et(this,e),U=this.show&&k&&0!==this.scale&&(!B||F);if(U&&this._state===Ai.LOADED||A){var V=this.activeAnimations.update(e)||this._cesiumAnimationsDirty;this._cesiumAnimationsDirty=!1,this._dirty=!1;var H=this.modelMatrix,q=e.mode!==this._mode;this._mode=e.mode;var W=!jt.a.equals(this._modelMatrix,H)||this._scale!==this.scale||this._minimumPixelSize!==this.minimumPixelSize||0!==this.minimumPixelSize||this._maximumScale!==this.maximumScale||this._heightReference!==this.heightReference||this._heightChanged||q;if(W||A){jt.a.clone(H,this._modelMatrix),$e(this),Object(mt.a)(this._clampedModelMatrix)&&(H=this._clampedModelMatrix),this._scale=this.scale,this._minimumPixelSize=this.minimumPixelSize,this._maximumScale=this.maximumScale,this._heightReference=this.heightReference,this._heightChanged=!1;var G=Ye(this,e),Y=this._computedModelMatrix;jt.a.multiplyByUniformScale(H,G,Y),this._upAxis===ni.a.Y?jt.a.multiplyTransformation(Y,ni.a.Y_UP_TO_Z_UP,Y):this._upAxis===ni.a.X&&jt.a.multiplyTransformation(Y,ni.a.X_UP_TO_Z_UP,Y),this.forwardAxis===ni.a.Z&&jt.a.multiplyTransformation(Y,ni.a.Z_UP_TO_X_UP,Y)}(V||W||A)&&(Te(this,W,A,e.mapProjection),this._dirty=!0,(V||A)&&Ae(this)),this._perNodeShowDirty&&(this._perNodeShowDirty=!1,Ce(this)),Se(this,i),je(this),Pe(this),De(this),We(this,e);var X=this._clippingPlanes,Q=0,J=Object(mt.a)(X)&&X.enabled&&X.length>0,Z=Object(mt.a)(this._sphericalHarmonicCoefficients)||this._useDefaultSphericalHarmonics,K=Object(mt.a)(this._specularEnvironmentMapAtlas)&&this._specularEnvironmentMapAtlas.ready||this._useDefaultSpecularMaps;if(J||Z||K){var $=Object(pt.a)(this.clippingPlanesOriginMatrix,H);jt.a.multiply(i.uniformState.view3D,$,this._clippingPlaneModelViewMatrix)}J&&(Q=X.clippingPlanesState);var ee=this._shouldRegenerateShaders;ee=ee||this._clippingPlanesState!==Q,this._clippingPlanesState=Q;var te=s(this);te!==this._colorShadingEnabled&&(this._colorShadingEnabled=te,ee=!0),ee?it(this,e):(Me(this,e,!1),qe(this,e,!1))}if(A){var ie=this;return void e.afterRender.push(function(){ie._ready=!0,ie._readyPromise.resolve(ie)})}if(U&&!this._ignoreCommands){var ne,ae,re,oe=e.commandList,se=e.passes,ce=this._nodeCommands,le=ce.length,ue=e.mapProjection.ellipsoid.maximumRadius*Ct.a.PI;if(se.render||se.pick&&this.allowPicking){for(ne=0;ne<le;++ne)if(ae=ce[ne],ae.show){var he=z?ae.translucentCommand:ae.command;if(he=F?ae.silhouetteModelCommand:he,oe.push(he),re=ae.command.boundingVolume,e.mode===xi.a.SCENE2D&&(re.center.y+re.radius>ue||re.center.y-re.radius<ue)){var de=z?ae.translucentCommand2D:ae.command2D;de=F?ae.silhouetteModelCommand2D:de,oe.push(de)}}if(F&&!se.pick)for(ne=0;ne<le;++ne)ae=ce[ne],ae.show&&(oe.push(ae.silhouetteColorCommand),re=ae.command.boundingVolume,e.mode===xi.a.SCENE2D&&(re.center.y+re.radius>ue||re.center.y-re.radius<ue)&&oe.push(ae.silhouetteColorCommand2D))}}var fe=this._credit;Object(mt.a)(fe)&&e.creditDisplay.addCredit(fe);for(var pe=this._resourceCredits,me=pe.length,ge=0;ge<me;ge++)e.creditDisplay.addCredit(pe[ge])}},r.prototype.isDestroyed=function(){return!1},r.prototype.destroy=function(){Object(mt.a)(this._precreatedAttributes)&&Je(this._rendererResources.vertexArrays),Object(mt.a)(this._removeUpdateHeightCallback)&&(this._removeUpdateHeightCallback(),this._removeUpdateHeightCallback=void 0),Object(mt.a)(this._terrainProviderChangedCallback)&&(this._terrainProviderChangedCallback(),this._terrainProviderChangedCallback=void 0),Object(mt.a)(this._cachedRendererResources)&&tt(this._rendererResources,this._cachedRendererResources),this._rendererResources=void 0,this._cachedRendererResources=this._cachedRendererResources&&this._cachedRendererResources.release(),ci.a.destroyCachedDataForModel(this);for(var e=this._pickIds,t=e.length,i=0;i<t;++i)e[i].destroy();Xe(this),this._quantizedVertexShaders=void 0;var n=this._clippingPlanes;return Object(mt.a)(n)&&!n.isDestroyed()&&n.owner===this&&n.destroy(),this._clippingPlanes=void 0,this._specularEnvironmentMapAtlas=this._specularEnvironmentMapAtlas&&this._specularEnvironmentMapAtlas.destroy(),Object(gt.a)(this)},r._getClippingFunction=ui.a,r._modifyShaderForColor=P,t.a=r},kRxM:function(e,t,i){"use strict";function n(e,t){if(r.a.typeOf.object("normal",e),!c.a.equalsEpsilon(a.a.magnitude(e),1,c.a.EPSILON6))throw new s.a("normal must be normalized.");r.a.typeOf.number("distance",t),this.normal=a.a.clone(e),this.distance=t}var a=i("Jj+J"),r=i("5F4X"),o=i("xC6Q"),s=i("PzDm"),c=i("fq+p"),l=i("Xjii");n.fromPointNormal=function(e,t,i){if(r.a.typeOf.object("point",e),r.a.typeOf.object("normal",t),!c.a.equalsEpsilon(a.a.magnitude(t),1,c.a.EPSILON6))throw new s.a("normal must be normalized.");var l=-a.a.dot(t,e);return Object(o.a)(i)?(a.a.clone(t,i.normal),i.distance=l,i):new n(t,l)};var u=new a.a;n.fromCartesian4=function(e,t){r.a.typeOf.object("coefficients",e);var i=a.a.fromCartesian4(e,u),l=e.w;if(!c.a.equalsEpsilon(a.a.magnitude(i),1,c.a.EPSILON6))throw new s.a("normal must be normalized.");return Object(o.a)(t)?(a.a.clone(i,t.normal),t.distance=l,t):new n(i,l)},n.getPointDistance=function(e,t){return r.a.typeOf.object("plane",e),r.a.typeOf.object("point",t),a.a.dot(e.normal,t)+e.distance};var h=new a.a;n.projectPointOntoPlane=function(e,t,i){r.a.typeOf.object("plane",e),r.a.typeOf.object("point",t),Object(o.a)(i)||(i=new a.a);var s=n.getPointDistance(e,t),c=a.a.multiplyByScalar(e.normal,s,h);return a.a.subtract(t,c,i)};var d=new a.a;n.transform=function(e,t,i){return r.a.typeOf.object("plane",e),r.a.typeOf.object("transform",t),l.a.multiplyByPointAsVector(t,e.normal,u),a.a.normalize(u,u),a.a.multiplyByScalar(e.normal,-e.distance,d),l.a.multiplyByPoint(t,d,d),n.fromPointNormal(d,u,i)},n.clone=function(e,t){return r.a.typeOf.object("plane",e),Object(o.a)(t)?(a.a.clone(e.normal,t.normal),t.distance=e.distance,t):new n(e.normal,e.distance)},n.equals=function(e,t){return r.a.typeOf.object("left",e),r.a.typeOf.object("right",t),e.distance===t.distance&&a.a.equals(e.normal,t.normal)},n.ORIGIN_XY_PLANE=Object.freeze(new n(a.a.UNIT_Z,0)),n.ORIGIN_YZ_PLANE=Object.freeze(new n(a.a.UNIT_X,0)),n.ORIGIN_ZX_PLANE=Object.freeze(new n(a.a.UNIT_Y,0)),t.a=n},kVOD:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._uri=void 0,this._uriSubscription=void 0,this._maximumScreenSpaceError=void 0,this._maximumScreenSpaceErrorSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(c.a)("show"),uri:Object(c.a)("uri"),maximumScreenSpaceError:Object(c.a)("maximumScreenSpaceError")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.uri=this.uri,e.maximumScreenSpaceError=this.maximumScreenSpaceError,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.uri=Object(a.a)(this.uri,e.uri),this.maximumScreenSpaceError=Object(a.a)(this.maximumScreenSpaceError,e.maximumScreenSpaceError)},t.a=n},kh8h:function(e,t,i){"use strict";t.a="/**\n * A built-in GLSL floating-point constant for <code>pi/2</code>.\n *\n * @alias czm_piOverTwo\n * @glslConstant\n *\n * @see CesiumMath.PI_OVER_TWO\n *\n * @example\n * // GLSL declaration\n * const float czm_piOverTwo = ...;\n *\n * // Example\n * float pi = 2.0 * czm_piOverTwo;\n */\nconst float czm_piOverTwo = 1.5707963267948966;\n"},kkc6:function(e,t,i){function n(e,t){for(var i in e)t[i]=e[i]}function a(e,t,i){return o(e,t,i)}var r=i("EuP9"),o=r.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=a),n(o,a),a.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,i)},a.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},km4D:function(e,t,i){"use strict";function n(e){r.a.typeOf.object("options",e),r.a.defined("options.comparator",e.comparator),this._comparator=e.comparator,this._array=[],this._length=0,this._maximumLength=void 0}function a(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}var r=i("5F4X"),o=i("5A4e"),s=i("xC6Q");Object.defineProperties(n.prototype,{length:{get:function(){return this._length}},internalArray:{get:function(){return this._array}},maximumLength:{get:function(){return this._maximumLength},set:function(e){this._maximumLength=e,this._length>e&&e>0&&(this._length=e,this._array.length=e)}},comparator:{get:function(){return this._comparator}}}),n.prototype.reserve=function(e){e=Object(o.a)(e,this._length),this._array.length=e},n.prototype.heapify=function(e){e=Object(o.a)(e,0);for(var t=this._length,i=this._comparator,n=this._array,r=-1,s=!0;s;){var c=2*(e+1),l=c-1;r=l<t&&i(n[l],n[e])<0?l:e,c<t&&i(n[c],n[r])<0&&(r=c),r!==e?(a(n,r,e),e=r):s=!1}},n.prototype.resort=function(){for(var e=this._length,t=Math.ceil(e/2);t>=0;--t)this.heapify(t)},n.prototype.insert=function(e){r.a.defined("element",e);var t=this._array,i=this._comparator,n=this._maximumLength,o=this._length++;for(o<t.length?t[o]=e:t.push(e);0!==o;){var c=Math.floor((o-1)/2);if(!(i(t[o],t[c])<0))break;a(t,o,c),o=c}var l;return Object(s.a)(n)&&this._length>n&&(l=t[n],this._length=n),l},n.prototype.pop=function(e){if(e=Object(o.a)(e,0),0!==this._length){r.a.typeOf.number.lessThan("index",e,this._length);var t=this._array,i=t[e];return a(t,e,--this._length),this.heapify(e),i}},t.a=n},kruX:function(e,t,i){"use strict";(function(e){var i;"undefined"!=typeof ko&&(i=ko),function(){/*!
 * Knockout JavaScript library v3.5.1
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
!function(){!function(e){var t=this||(0,eval)("this"),i=t.document,n=t.navigator,a=t.jQuery,r=t.JSON;a||"undefined"==typeof jQuery||(a=jQuery),function(e){!function(o,s){function c(e,t){return(null===e||typeof e in m)&&e===t}function l(t,i){var n;return function(){n||(n=p.a.setTimeout(function(){n=e,t()},i))}}function u(e,t){var i;return function(){clearTimeout(i),i=p.a.setTimeout(e,t)}}function h(e,t){t&&"change"!==t?"beforeChange"===t?this.pc(e):this.gb(e,t):this.qc(e)}function d(e,t){null!==t&&t.s&&t.s()}function f(e,t){var i=this.qd,n=i[y];n.ra||(this.Qb&&this.mb[t]?(i.uc(t,e,this.mb[t]),this.mb[t]=null,--this.Qb):n.I[t]||i.uc(t,e,n.J?{da:e}:i.$c(e)),e.Ja&&e.gd())}var p=void 0!==o?o:{};p.b=function(e,t){for(var i=e.split("."),n=p,a=0;a<i.length-1;a++)n=n[i[a]];n[i[i.length-1]]=t},p.L=function(e,t,i){e[t]=i},p.version="3.5.1",p.b("version",p.version),p.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},p.a=function(){function o(e,t){for(var i in e)u.call(e,i)&&t(i,e[i])}function s(e,t){if(t)for(var i in t)u.call(t,i)&&(e[i]=t[i]);return e}function c(e,t){return e.__proto__=t,e}function l(e,t,i,n){var a=e[t].match(b)||[];p.a.D(i.match(b),function(e){p.a.Na(a,e,n)}),e[t]=a.join(" ")}var u=Object.prototype.hasOwnProperty,h={__proto__:[]}instanceof Array,d="function"==typeof Symbol,f={},m={};f[n&&/Firefox\/2/i.test(n.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],f.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),o(f,function(e,t){if(t.length)for(var i=0,n=t.length;i<n;i++)m[t[i]]=e});var g,_={propertychange:!0},v=i&&function(){for(var t=3,n=i.createElement("div"),a=n.getElementsByTagName("i");n.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",a[0];);return 4<t?t:e}(),b=/\S+/g;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],D:function(e,t,i){for(var n=0,a=e.length;n<a;n++)t.call(i,e[n],n,e)},A:"function"==typeof Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},Lb:function(t,i,n){for(var a=0,r=t.length;a<r;a++)if(i.call(n,t[a],a,t))return t[a];return e},Pa:function(e,t){var i=p.a.A(e,t);0<i?e.splice(i,1):0===i&&e.shift()},wc:function(e){var t=[];return e&&p.a.D(e,function(e){0>p.a.A(t,e)&&t.push(e)}),t},Mb:function(e,t,i){var n=[];if(e)for(var a=0,r=e.length;a<r;a++)n.push(t.call(i,e[a],a));return n},jb:function(e,t,i){var n=[];if(e)for(var a=0,r=e.length;a<r;a++)t.call(i,e[a],a)&&n.push(e[a]);return n},Nb:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var i=0,n=t.length;i<n;i++)e.push(t[i]);return e},Na:function(e,t,i){var n=p.a.A(p.a.bc(e),t);0>n?i&&e.push(t):i||e.splice(n,1)},Ba:h,extend:s,setPrototypeOf:c,Ab:h?c:s,P:o,Ga:function(e,t,i){if(!e)return e;var n,a={};for(n in e)u.call(e,n)&&(a[n]=t.call(i,e[n],n,e));return a},Tb:function(e){for(;e.firstChild;)p.removeNode(e.firstChild)},Yb:function(e){e=p.a.la(e);for(var t=(e[0]&&e[0].ownerDocument||i).createElement("div"),n=0,a=e.length;n<a;n++)t.appendChild(p.oa(e[n]));return t},Ca:function(e,t){for(var i=0,n=e.length,a=[];i<n;i++){var r=e[i].cloneNode(!0);a.push(t?p.oa(r):r)}return a},va:function(e,t){if(p.a.Tb(e),t)for(var i=0,n=t.length;i<n;i++)e.appendChild(t[i])},Xc:function(e,t){var i=e.nodeType?[e]:e;if(0<i.length){for(var n=i[0],a=n.parentNode,r=0,o=t.length;r<o;r++)a.insertBefore(t[r],n);for(r=0,o=i.length;r<o;r++)p.removeNode(i[r])}},Ua:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var i=e[0],n=e[e.length-1];for(e.length=0;i!==n;)e.push(i),i=i.nextSibling;e.push(n)}}return e},Zc:function(e,t){7>v?e.setAttribute("selected",t):e.selected=t},Db:function(t){return null===t||t===e?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},vd:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(1!==e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Sb:function(e){return p.a.vd(e,e.ownerDocument.documentElement)},kd:function(e){return!!p.a.Lb(e,p.a.Sb)},R:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Ac:function(e){return p.onError?function(){try{return e.apply(this,arguments)}catch(e){throw p.onError&&p.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(p.a.Ac(e),t)},Gc:function(e){setTimeout(function(){throw p.onError&&p.onError(e),e},0)},B:function(e,t,i){var n=p.a.Ac(i);if(i=_[t],p.options.useOnlyNativeEvents||i||!a)if(i||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var r=function(t){n.call(e,t)},o="on"+t;e.attachEvent(o,r),p.a.K.za(e,function(){e.detachEvent(o,r)})}else e.addEventListener(t,n,!1);else g||(g="function"==typeof a(e).on?"on":"bind"),a(e)[g](t,n)},Fb:function(e,n){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var r;if("input"===p.a.R(e)&&e.type&&"click"==n.toLowerCase()?(r=e.type,r="checkbox"==r||"radio"==r):r=!1,p.options.useOnlyNativeEvents||!a||r)if("function"==typeof i.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");r=i.createEvent(m[n]||"HTMLEvents"),r.initEvent(n,!0,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(r)}else if(r&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+n)}else a(e).trigger(n)},f:function(e){return p.O(e)?e():e},bc:function(e){return p.O(e)?e.v():e},Eb:function(e,t,i){var n;t&&("object"==typeof e.classList?(n=e.classList[i?"add":"remove"],p.a.D(t.match(b),function(t){n.call(e.classList,t)})):"string"==typeof e.className.baseVal?l(e.className,"baseVal",t,i):l(e,"className",t,i))},Bb:function(t,i){var n=p.a.f(i);null!==n&&n!==e||(n="");var a=p.h.firstChild(t);!a||3!=a.nodeType||p.h.nextSibling(a)?p.h.va(t,[t.ownerDocument.createTextNode(n)]):a.data=n,p.a.Ad(t)},Yc:function(e,t){if(e.name=t,7>=v)try{var n=e.name.replace(/[&<>'"]/g,function(e){return"&#"+e.charCodeAt(0)+";"});e.mergeAttributes(i.createElement("<input name='"+n+"'/>"),!1)}catch(e){}},Ad:function(e){9<=v&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},wd:function(e){if(v){var t=e.style.width;e.style.width=0,e.style.width=t}},Pd:function(e,t){e=p.a.f(e),t=p.a.f(t);for(var i=[],n=e;n<=t;n++)i.push(n);return i},la:function(e){for(var t=[],i=0,n=e.length;i<n;i++)t.push(e[i]);return t},Da:function(e){return d?Symbol(e):e},Zd:6===v,$d:7===v,W:v,Lc:function(e,t){for(var i=p.a.la(e.getElementsByTagName("input")).concat(p.a.la(e.getElementsByTagName("textarea"))),n="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},a=[],r=i.length-1;0<=r;r--)n(i[r])&&a.push(i[r]);return a},Nd:function(e){return"string"==typeof e&&(e=p.a.Db(e))?r&&r.parse?r.parse(e):new Function("return "+e)():null},hc:function(e,t,i){if(!r||!r.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return r.stringify(p.a.f(e),t,i)},Od:function(e,t,n){n=n||{};var a=n.params||{},r=n.includeFields||this.Jc,s=e;if("object"==typeof e&&"form"===p.a.R(e))for(var s=e.action,c=r.length-1;0<=c;c--)for(var l=p.a.Lc(e,r[c]),u=l.length-1;0<=u;u--)a[l[u].name]=l[u].value;t=p.a.f(t);var h=i.createElement("form");h.style.display="none",h.action=s,h.method="post";for(var d in t)e=i.createElement("input"),e.type="hidden",e.name=d,e.value=p.a.hc(p.a.f(t[d])),h.appendChild(e);o(a,function(e,t){var n=i.createElement("input");n.type="hidden",n.name=e,n.value=t,h.appendChild(n)}),i.body.appendChild(h),n.submitter?n.submitter(h):h.submit(),setTimeout(function(){h.parentNode.removeChild(h)},0)}}}(),p.b("utils",p.a),p.b("utils.arrayForEach",p.a.D),p.b("utils.arrayFirst",p.a.Lb),p.b("utils.arrayFilter",p.a.jb),p.b("utils.arrayGetDistinctValues",p.a.wc),p.b("utils.arrayIndexOf",p.a.A),p.b("utils.arrayMap",p.a.Mb),p.b("utils.arrayPushAll",p.a.Nb),p.b("utils.arrayRemoveItem",p.a.Pa),p.b("utils.cloneNodes",p.a.Ca),p.b("utils.createSymbolOrString",p.a.Da),p.b("utils.extend",p.a.extend),p.b("utils.fieldsIncludedWithJsonPost",p.a.Jc),p.b("utils.getFormFields",p.a.Lc),p.b("utils.objectMap",p.a.Ga),p.b("utils.peekObservable",p.a.bc),p.b("utils.postJson",p.a.Od),p.b("utils.parseJson",p.a.Nd),p.b("utils.registerEventHandler",p.a.B),p.b("utils.stringifyJson",p.a.hc),p.b("utils.range",p.a.Pd),p.b("utils.toggleDomNodeCssClass",p.a.Eb),p.b("utils.triggerEvent",p.a.Fb),p.b("utils.unwrapObservable",p.a.f),p.b("utils.objectForEach",p.a.P),p.b("utils.addOrRemoveItem",p.a.Na),p.b("utils.setTextContent",p.a.Bb),p.b("unwrap",p.a.f),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice(0);return n.push.apply(n,arguments),t.apply(e,n)}}),p.a.g=new function(){var t,i,n=0,a="__ko__"+(new Date).getTime(),r={};return p.a.W?(t=function(t,i){var o=t[a];if(!o||"null"===o||!r[o]){if(!i)return e;o=t[a]="ko"+n++,r[o]={}}return r[o]},i=function(e){var t=e[a];return!!t&&(delete r[t],e[a]=null,!0)}):(t=function(e,t){var i=e[a];return!i&&t&&(i=e[a]={}),i},i=function(e){return!!e[a]&&(delete e[a],!0)}),{get:function(e,i){var n=t(e,!1);return n&&n[i]},set:function(i,n,a){(i=t(i,a!==e))&&(i[n]=a)},Ub:function(e,i,n){return e=t(e,!0),e[i]||(e[i]=n)},clear:i,Z:function(){return n+++a}}},p.b("utils.domData",p.a.g),p.b("utils.domData.clear",p.a.g.clear),p.a.K=new function(){function t(t,i){var n=p.a.g.get(t,r);return n===e&&i&&(n=[],p.a.g.set(t,r,n)),n}function i(e){var i=t(e,!1);if(i)for(var i=i.slice(0),a=0;a<i.length;a++)i[a](e);p.a.g.clear(e),p.a.K.cleanExternalData(e),s[e.nodeType]&&n(e.childNodes,!0)}function n(e,t){for(var n,a=[],r=0;r<e.length;r++)if((!t||8===e[r].nodeType)&&(i(a[a.length]=n=e[r]),e[r]!==n))for(;r--&&-1==p.a.A(a,e[r]););}var r=p.a.g.Z(),o={1:!0,8:!0,9:!0},s={1:!0,9:!0};return{za:function(e,i){if("function"!=typeof i)throw Error("Callback must be a function");t(e,!0).push(i)},yb:function(i,n){var a=t(i,!1);a&&(p.a.Pa(a,n),0==a.length&&p.a.g.set(i,r,e))},oa:function(e){return p.u.G(function(){o[e.nodeType]&&(i(e),s[e.nodeType]&&n(e.getElementsByTagName("*")))}),e},removeNode:function(e){p.oa(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){a&&"function"==typeof a.cleanData&&a.cleanData([e])}}},p.oa=p.a.K.oa,p.removeNode=p.a.K.removeNode,p.b("cleanNode",p.oa),p.b("removeNode",p.removeNode),p.b("utils.domNodeDisposal",p.a.K),p.b("utils.domNodeDisposal.addDisposeCallback",p.a.K.za),p.b("utils.domNodeDisposal.removeDisposeCallback",p.a.K.yb),function(){var n=[0,"",""],r=[1,"<table>","</table>"],o=[3,"<table><tbody><tr>","</tr></tbody></table>"],s=[1,"<select multiple='multiple'>","</select>"],c={thead:r,tbody:r,tfoot:r,tr:[2,"<table><tbody>","</tbody></table>"],td:o,th:o,option:s,optgroup:s},l=8>=p.a.W;p.a.ua=function(e,r){var o;if(a){if(a.parseHTML)o=a.parseHTML(e,r)||[];else if((o=a.clean([e],r))&&o[0]){for(var s=o[0];s.parentNode&&11!==s.parentNode.nodeType;)s=s.parentNode;s.parentNode&&s.parentNode.removeChild(s)}}else{(o=r)||(o=i);var u,s=o.parentWindow||o.defaultView||t,h=p.a.Db(e).toLowerCase(),d=o.createElement("div");for(u=(h=h.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&c[h[1]]||n,h=u[0],u="ignored<div>"+u[1]+e+u[2]+"</div>","function"==typeof s.innerShiv?d.appendChild(s.innerShiv(u)):(l&&o.body.appendChild(d),d.innerHTML=u,l&&d.parentNode.removeChild(d));h--;)d=d.lastChild;o=p.a.la(d.lastChild.childNodes)}return o},p.a.Md=function(e,t){var i=p.a.ua(e,t);return i.length&&i[0].parentElement||p.a.Yb(i)},p.a.fc=function(t,i){if(p.a.Tb(t),null!==(i=p.a.f(i))&&i!==e)if("string"!=typeof i&&(i=i.toString()),a)a(t).html(i);else for(var n=p.a.ua(i,t.ownerDocument),r=0;r<n.length;r++)t.appendChild(n[r])}}(),p.b("utils.parseHtmlFragment",p.a.ua),p.b("utils.setHtml",p.a.fc),p.aa=function(){function t(e,i){if(e)if(8==e.nodeType){var n=p.aa.Uc(e.nodeValue);null!=n&&i.push({ud:e,Kd:n})}else if(1==e.nodeType)for(var n=0,a=e.childNodes,r=a.length;n<r;n++)t(a[n],i)}var i={};return{Xb:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return i[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},bd:function(t,n){var a=i[t];if(a===e)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return a.apply(null,n||[]),!0}finally{delete i[t]}},cd:function(e,i){var n=[];t(e,n);for(var a=0,r=n.length;a<r;a++){var o=n[a].ud,s=[o];i&&p.a.Nb(s,i),p.aa.bd(n[a].Kd,s),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},Uc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),p.b("memoization",p.aa),p.b("memoization.memoize",p.aa.Xb),p.b("memoization.unmemoize",p.aa.bd),p.b("memoization.parseMemoText",p.aa.Uc),p.b("memoization.unmemoizeDomNodeAndDescendants",p.aa.cd),p.na=function(){function e(){if(o)for(var e,t=o,i=0;c<o;)if(e=r[c++]){if(c>t){if(5e3<=++i){c=o,p.a.Gc(Error("'Too much recursion' after processing "+i+" task groups."));break}t=o}try{e()}catch(e){p.a.Gc(e)}}}function n(){e(),c=o=r.length=0}var a,r=[],o=0,s=1,c=0;return a=t.MutationObserver?function(e){var t=i.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(n):i&&"onreadystatechange"in i.createElement("script")?function(e){var t=i.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,i.documentElement.removeChild(t),t=null,e()},i.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},{scheduler:a,zb:function(e){return o||p.na.scheduler(n),r[o++]=e,s++},cancel:function(e){(e-=s-o)>=c&&e<o&&(r[e]=null)},resetForTesting:function(){var e=o-c;return c=o=r.length=0,e},Sd:e}}(),p.b("tasks",p.na),p.b("tasks.schedule",p.na.zb),p.b("tasks.runEarly",p.na.Sd),p.Ta={throttle:function(e,t){e.throttleEvaluation=t;var i=null;return p.$({read:e,write:function(n){clearTimeout(i),i=p.a.setTimeout(function(){e(n)},t)}})},rateLimit:function(e,t){var i,n,a;"number"==typeof t?i=t:(i=t.timeout,n=t.method),e.Hb=!1,a="function"==typeof n?n:"notifyWhenChangesStop"==n?u:l,e.ub(function(e){return a(e,i,t)})},deferred:function(t,i){if(!0!==i)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");t.Hb||(t.Hb=!0,t.ub(function(i){var n,a=!1;return function(){if(!a){p.na.cancel(n),n=p.na.zb(i);try{a=!0,t.notifySubscribers(e,"dirty")}finally{a=!1}}}}))},notify:function(e,t){e.equalityComparer="always"==t?null:c}};var m={undefined:1,boolean:1,number:1,string:1};p.b("extenders",p.Ta),p.ic=function(e,t,i){this.da=e,this.lc=t,this.mc=i,this.Ib=!1,this.fb=this.Jb=null,p.L(this,"dispose",this.s),p.L(this,"disposeWhenNodeIsRemoved",this.l)},p.ic.prototype.s=function(){this.Ib||(this.fb&&p.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)},p.ic.prototype.l=function(e){this.Jb=e,p.a.K.za(e,this.fb=this.s.bind(this))},p.T=function(){p.a.Ab(this,g),g.qb(this)};var g={qb:function(e){e.U={change:[]},e.sc=1},subscribe:function(e,t,i){var n=this;i=i||"change";var a=new p.ic(n,t?e.bind(t):e,function(){p.a.Pa(n.U[i],a),n.hb&&n.hb(i)});return n.Qa&&n.Qa(i),n.U[i]||(n.U[i]=[]),n.U[i].push(a),a},notifySubscribers:function(e,t){if(t=t||"change","change"===t&&this.Gb(),this.Wa(t)){var i="change"===t&&this.ed||this.U[t].slice(0);try{p.u.xc();for(var n,a=0;n=i[a];++a)n.Ib||n.lc(e)}finally{p.u.end()}}},ob:function(){return this.sc},Dd:function(e){return this.ob()!==e},Gb:function(){++this.sc},ub:function(e){var t,i,n,a,r,o=this,s=p.O(o);o.gb||(o.gb=o.notifySubscribers,o.notifySubscribers=h);var c=e(function(){o.Ja=!1,s&&a===o&&(a=o.nc?o.nc():o());var e=i||r&&o.sb(n,a);r=i=t=!1,e&&o.gb(n=a)});o.qc=function(e,i){i&&o.Ja||(r=!i),o.ed=o.U.change.slice(0),o.Ja=t=!0,a=e,c()},o.pc=function(e){t||(n=e,o.gb(e,"beforeChange"))},o.rc=function(){r=!0},o.gd=function(){o.sb(n,o.v(!0))&&(i=!0)}},Wa:function(e){return this.U[e]&&this.U[e].length},Bd:function(e){if(e)return this.U[e]&&this.U[e].length||0;var t=0;return p.a.P(this.U,function(e,i){"dirty"!==e&&(t+=i.length)}),t},sb:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},toString:function(){return"[object Object]"},extend:function(e){var t=this;return e&&p.a.P(e,function(e,i){var n=p.Ta[e];"function"==typeof n&&(t=n(t,i)||t)}),t}};p.L(g,"init",g.qb),p.L(g,"subscribe",g.subscribe),p.L(g,"extend",g.extend),p.L(g,"getSubscriptionsCount",g.Bd),p.a.Ba&&p.a.setPrototypeOf(g,Function.prototype),p.T.fn=g,p.Qc=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},p.b("subscribable",p.T),p.b("isSubscribable",p.Qc),p.S=p.u=function(){function e(e){n.push(i),i=e}function t(){i=n.pop()}var i,n=[],a=0;return{xc:e,end:t,cc:function(e){if(i){if(!p.Qc(e))throw Error("Only subscribable things can act as dependencies");i.od.call(i.pd,e,e.fd||(e.fd=++a))}},G:function(i,n,a){try{return e(),i.apply(n,a||[])}finally{t()}},qa:function(){if(i)return i.o.qa()},Va:function(){if(i)return i.o.Va()},Ya:function(){if(i)return i.Ya},o:function(){if(i)return i.o}}}(),p.b("computedContext",p.S),p.b("computedContext.getDependenciesCount",p.S.qa),p.b("computedContext.getDependencies",p.S.Va),p.b("computedContext.isInitial",p.S.Ya),p.b("computedContext.registerDependency",p.S.cc),p.b("ignoreDependencies",p.Yd=p.u.G);var _=p.a.Da("_latestValue");p.ta=function(e){function t(){return 0<arguments.length?(t.sb(t[_],arguments[0])&&(t.ya(),t[_]=arguments[0],t.xa()),this):(p.u.cc(t),t[_])}return t[_]=e,p.a.Ba||p.a.extend(t,p.T.fn),p.T.fn.qb(t),p.a.Ab(t,v),p.options.deferUpdates&&p.Ta.deferred(t,!0),t};var v={equalityComparer:c,v:function(){return this[_]},xa:function(){this.notifySubscribers(this[_],"spectate"),this.notifySubscribers(this[_])},ya:function(){this.notifySubscribers(this[_],"beforeChange")}};p.a.Ba&&p.a.setPrototypeOf(v,p.T.fn);var b=p.ta.Ma="__ko_proto__";v[b]=p.ta,p.O=function(e){if((e="function"==typeof e&&e[b])&&e!==v[b]&&e!==p.o.fn[b])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!e},p.Za=function(e){return"function"==typeof e&&(e[b]===v[b]||e[b]===p.o.fn[b]&&e.Nc)},p.b("observable",p.ta),p.b("isObservable",p.O),p.b("isWriteableObservable",p.Za),p.b("isWritableObservable",p.Za),p.b("observable.fn",v),p.L(v,"peek",v.v),p.L(v,"valueHasMutated",v.xa),p.L(v,"valueWillMutate",v.ya),p.Ha=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=p.ta(e),p.a.Ab(e,p.Ha.fn),e.extend({trackArrayChanges:!0})},p.Ha.fn={remove:function(e){for(var t=this.v(),i=[],n="function"!=typeof e||p.O(e)?function(t){return t===e}:e,a=0;a<t.length;a++){var r=t[a];if(n(r)){if(0===i.length&&this.ya(),t[a]!==r)throw Error("Array modified during remove; cannot remove item");i.push(r),t.splice(a,1),a--}}return i.length&&this.xa(),i},removeAll:function(t){if(t===e){var i=this.v(),n=i.slice(0);return this.ya(),i.splice(0,i.length),this.xa(),n}return t?this.remove(function(e){return 0<=p.a.A(t,e)}):[]},destroy:function(e){var t=this.v(),i="function"!=typeof e||p.O(e)?function(t){return t===e}:e;this.ya();for(var n=t.length-1;0<=n;n--){var a=t[n];i(a)&&(a._destroy=!0)}this.xa()},destroyAll:function(t){return t===e?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=p.a.A(t,e)}):[]},indexOf:function(e){var t=this();return p.a.A(t,e)},replace:function(e,t){var i=this.indexOf(e);0<=i&&(this.ya(),this.v()[i]=t,this.xa())},sorted:function(e){var t=this().slice(0);return e?t.sort(e):t.sort()},reversed:function(){return this().slice(0).reverse()}},p.a.Ba&&p.a.setPrototypeOf(p.Ha.fn,p.ta.fn),p.a.D("pop push reverse shift sort splice unshift".split(" "),function(e){p.Ha.fn[e]=function(){var t=this.v();this.ya(),this.zc(t,e,arguments);var i=t[e].apply(t,arguments);return this.xa(),i===t?this:i}}),p.a.D(["slice"],function(e){p.Ha.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),p.Pc=function(e){return p.O(e)&&"function"==typeof e.remove&&"function"==typeof e.push},p.b("observableArray",p.Ha),p.b("isObservableArray",p.Pc),p.Ta.trackArrayChanges=function(t,i){function n(){function e(){if(l){var e,i=[].concat(t.v()||[]);t.Wa("arrayChange")&&((!c||1<l)&&(c=p.a.Pb(o,i,t.Ob)),e=c),o=i,c=null,l=0,e&&e.length&&t.notifySubscribers(e,"arrayChange")}}s?e():(s=!0,r=t.subscribe(function(){++l},null,"spectate"),o=[].concat(t.v()||[]),c=null,a=t.subscribe(e))}if(t.Ob={},i&&"object"==typeof i&&p.a.extend(t.Ob,i),t.Ob.sparse=!0,!t.zc){var a,r,o,s=!1,c=null,l=0,u=t.Qa,h=t.hb;t.Qa=function(e){u&&u.call(t,e),"arrayChange"===e&&n()},t.hb=function(i){h&&h.call(t,i),"arrayChange"!==i||t.Wa("arrayChange")||(a&&a.s(),r&&r.s(),r=a=null,s=!1,o=e)},t.zc=function(e,t,i){function n(e,t,i){return a[a.length]={status:e,value:t,index:i}}if(s&&!l){var a=[],r=e.length,o=i.length,u=0;switch(t){case"push":u=r;case"unshift":for(t=0;t<o;t++)n("added",i[t],u+t);break;case"pop":u=r-1;case"shift":r&&n("deleted",e[u],u);break;case"splice":t=Math.min(Math.max(0,0>i[0]?r+i[0]:i[0]),r);for(var r=1===o?r:Math.min(t+(i[1]||0),r),o=t+o-2,u=Math.max(r,o),h=[],d=[],f=2;t<u;++t,++f)t<r&&d.push(n("deleted",e[t],t)),t<o&&h.push(n("added",i[f],t));p.a.Kc(d,h);break;default:return}c=a}}}};var y=p.a.Da("_state");p.o=p.$=function(t,i,n){function a(){if(0<arguments.length){if("function"!=typeof r)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return r.apply(o.nb,arguments),this}return o.ra||p.u.cc(a),(o.ka||o.J&&a.Xa())&&a.ha(),o.X}if("object"==typeof t?n=t:(n=n||{},t&&(n.read=t)),"function"!=typeof n.read)throw Error("Pass a function that returns the value of the ko.computed");var r=n.write,o={X:e,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:n.read,nb:i||n.owner,l:n.disposeWhenNodeIsRemoved||n.l||null,Sa:n.disposeWhen||n.Sa,Rb:null,I:{},V:0,Ic:null};return a[y]=o,a.Nc="function"==typeof r,p.a.Ba||p.a.extend(a,p.T.fn),p.T.fn.qb(a),p.a.Ab(a,O),n.pure?(o.wb=!0,o.J=!0,p.a.extend(a,w)):n.deferEvaluation&&p.a.extend(a,x),p.options.deferUpdates&&p.Ta.deferred(a,!0),o.l&&(o.jc=!0,o.l.nodeType||(o.l=null)),o.J||n.deferEvaluation||a.ha(),o.l&&a.ja()&&p.a.K.za(o.l,o.Rb=function(){a.s()}),a};var O={equalityComparer:c,qa:function(){return this[y].V},Va:function(){var e=[];return p.a.P(this[y].I,function(t,i){e[i.Ka]=i.da}),e},Vb:function(e){if(!this[y].V)return!1;var t=this.Va();return-1!==p.a.A(t,e)||!!p.a.Lb(t,function(t){return t.Vb&&t.Vb(e)})},uc:function(e,t,i){if(this[y].wb&&t===this)throw Error("A 'pure' computed must not be called recursively");this[y].I[e]=i,i.Ka=this[y].V++,i.La=t.ob()},Xa:function(){var e,t,i=this[y].I;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&(t=i[e],this.Ia&&t.da.Ja||t.da.Dd(t.La)))return!0},Jd:function(){this.Ia&&!this[y].rb&&this.Ia(!1)},ja:function(){var e=this[y];return e.ka||0<e.V},Rd:function(){this.Ja?this[y].ka&&(this[y].sa=!0):this.Hc()},$c:function(e){if(e.Hb){var t=e.subscribe(this.Jd,this,"dirty"),i=e.subscribe(this.Rd,this);return{da:e,s:function(){t.s(),i.s()}}}return e.subscribe(this.Hc,this)},Hc:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[y].Ic),this[y].Ic=p.a.setTimeout(function(){e.ha(!0)},t)):e.Ia?e.Ia(!0):e.ha(!0)},ha:function(e){var t=this[y],i=t.Sa,n=!1;if(!t.rb&&!t.ra){if(t.l&&!p.a.Sb(t.l)||i&&i()){if(!t.jc)return void this.s()}else t.jc=!1;t.rb=!0;try{n=this.zd(e)}finally{t.rb=!1}return n}},zd:function(t){var i=this[y],n=!1,a=i.wb?e:!i.V,n={qd:this,mb:i.I,Qb:i.V};p.u.xc({pd:n,od:f,o:this,Ya:a}),i.I={},i.V=0;var r=this.yd(i,n);return i.V?n=this.sb(i.X,r):(this.s(),n=!0),n&&(i.J?this.Gb():this.notifySubscribers(i.X,"beforeChange"),i.X=r,this.notifySubscribers(i.X,"spectate"),!i.J&&t&&this.notifySubscribers(i.X),this.rc&&this.rc()),a&&this.notifySubscribers(i.X,"awake"),n},yd:function(e,t){try{var i=e.Wc;return e.nb?i.call(e.nb):i()}finally{p.u.end(),t.Qb&&!e.J&&p.a.P(t.mb,d),e.sa=e.ka=!1}},v:function(e){var t=this[y];return(t.ka&&(e||!t.V)||t.J&&this.Xa())&&this.ha(),t.X},ub:function(e){p.T.fn.ub.call(this,e),this.nc=function(){return this[y].J||(this[y].sa?this.ha():this[y].ka=!1),this[y].X},this.Ia=function(e){this.pc(this[y].X),this[y].ka=!0,e&&(this[y].sa=!0),this.qc(this,!e)}},s:function(){var t=this[y];!t.J&&t.I&&p.a.P(t.I,function(e,t){t.s&&t.s()}),t.l&&t.Rb&&p.a.K.yb(t.l,t.Rb),t.I=e,t.V=0,t.ra=!0,t.sa=!1,t.ka=!1,t.J=!1,t.l=e,t.Sa=e,t.Wc=e,this.Nc||(t.nb=e)}},w={Qa:function(e){var t=this,i=t[y];if(!i.ra&&i.J&&"change"==e){if(i.J=!1,i.sa||t.Xa())i.I=null,i.V=0,t.ha()&&t.Gb();else{var n=[];p.a.P(i.I,function(e,t){n[t.Ka]=e}),p.a.D(n,function(e,n){var a=i.I[e],r=t.$c(a.da);r.Ka=n,r.La=a.La,i.I[e]=r}),t.Xa()&&t.ha()&&t.Gb()}i.ra||t.notifySubscribers(i.X,"awake")}},hb:function(t){var i=this[y];i.ra||"change"!=t||this.Wa("change")||(p.a.P(i.I,function(e,t){t.s&&(i.I[e]={da:t.da,Ka:t.Ka,La:t.La},t.s())}),i.J=!0,this.notifySubscribers(e,"asleep"))},ob:function(){var e=this[y];return e.J&&(e.sa||this.Xa())&&this.ha(),p.T.fn.ob.call(this)}},x={Qa:function(e){"change"!=e&&"beforeChange"!=e||this.v()}};p.a.Ba&&p.a.setPrototypeOf(O,p.T.fn);var E=p.ta.Ma;O[E]=p.o,p.Oc=function(e){return"function"==typeof e&&e[E]===O[E]},p.Fd=function(e){return p.Oc(e)&&e[y]&&e[y].wb},p.b("computed",p.o),p.b("dependentObservable",p.o),p.b("isComputed",p.Oc),p.b("isPureComputed",p.Fd),p.b("computed.fn",O),p.L(O,"peek",O.v),p.L(O,"dispose",O.s),p.L(O,"isActive",O.ja),p.L(O,"getDependenciesCount",O.qa),p.L(O,"getDependencies",O.Va),p.xb=function(e,t){return"function"==typeof e?p.o(e,t,{pure:!0}):(e=p.a.extend({},e),e.pure=!0,p.o(e,t))},p.b("pureComputed",p.xb),function(){function t(a,r,o){if(o=o||new n,"object"!=typeof(a=r(a))||null===a||a===e||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var s=a instanceof Array?[]:{};return o.save(a,s),i(a,function(i){var n=r(a[i]);switch(typeof n){case"boolean":case"number":case"string":case"function":s[i]=n;break;case"object":case"undefined":var c=o.get(n);s[i]=c!==e?c:t(n,r,o)}}),s}function i(e,t){if(e instanceof Array){for(var i=0;i<e.length;i++)t(i);"function"==typeof e.toJSON&&t("toJSON")}else for(i in e)t(i)}function n(){this.keys=[],this.values=[]}p.ad=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return t(e,function(e){for(var t=0;p.O(e)&&10>t;t++)e=e();return e})},p.toJSON=function(e,t,i){return e=p.ad(e),p.a.hc(e,t,i)},n.prototype={constructor:n,save:function(e,t){var i=p.a.A(this.keys,e);0<=i?this.values[i]=t:(this.keys.push(e),this.values.push(t))},get:function(t){return t=p.a.A(this.keys,t),0<=t?this.values[t]:e}}}(),p.b("toJS",p.ad),p.b("toJSON",p.toJSON),p.Wd=function(e,t,i){function n(t){var n=p.xb(e,i).extend({ma:"always"}),a=n.subscribe(function(e){e&&(a.s(),t(e))});return n.notifySubscribers(n.v()),a}return"function"!=typeof Promise||t?n(t.bind(i)):new Promise(n)},p.b("when",p.Wd),function(){p.w={M:function(t){switch(p.a.R(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?p.a.g.get(t,p.c.options.$b):7>=p.a.W?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?p.w.M(t.options[t.selectedIndex]):e;default:return t.value}},cb:function(t,i,n){switch(p.a.R(t)){case"option":"string"==typeof i?(p.a.g.set(t,p.c.options.$b,e),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=i):(p.a.g.set(t,p.c.options.$b,i),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof i?i:"");break;case"select":""!==i&&null!==i||(i=e);for(var a,r=-1,o=0,s=t.options.length;o<s;++o)if((a=p.w.M(t.options[o]))==i||""===a&&i===e){r=o;break}(n||0<=r||i===e&&1<t.size)&&(t.selectedIndex=r,6===p.a.W&&p.a.setTimeout(function(){t.selectedIndex=r},0));break;default:null!==i&&i!==e||(i=""),t.value=i}}}}(),p.b("selectExtensions",p.w),p.b("selectExtensions.readValue",p.w.M),p.b("selectExtensions.writeValue",p.w.cb),p.m=function(){function e(e){e=p.a.Db(e),123===e.charCodeAt(0)&&(e=e.slice(1,-1)),e+="\n,";var t,i=[],o=e.match(n),s=[],c=0;if(1<o.length){for(var l,u=0;l=o[u];++u){var h=l.charCodeAt(0);if(44===h){if(0>=c){i.push(t&&s.length?{key:t,value:s.join("")}:{unknown:t||s.join("")}),t=c=0,s=[];continue}}else if(58===h){if(!c&&!t&&1===s.length){t=s.pop();continue}}else{if(47===h&&1<l.length&&(47===l.charCodeAt(1)||42===l.charCodeAt(1)))continue;47===h&&u&&1<l.length?(h=o[u-1].match(a))&&!r[h[0]]&&(e=e.substr(e.indexOf(l)+1),o=e.match(n),u=-1,l="/"):40===h||123===h||91===h?++c:41===h||125===h||93===h?--c:t||s.length||34!==h&&39!==h||(l=l.slice(1,-1))}s.push(l)}if(0<c)throw Error("Unbalanced parentheses, braces, or brackets")}return i}var t=["true","false","null","undefined"],i=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,n=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),a=/[\])"'A-Za-z0-9_$]+$/,r={in:1,return:1,typeof:1},o={};return{Ra:[],wa:o,ac:e,vb:function(n,a){function r(e,n){var a;if(!u){var h=p.getBindingHandler(e);if(h&&h.preprocess&&!(n=h.preprocess(n,e,r)))return;(h=o[e])&&(a=n,0<=p.a.A(t,a)?a=!1:(h=a.match(i),a=null!==h&&(h[1]?"Object("+h[1]+")"+h[2]:a)),h=a),h&&c.push("'"+("string"==typeof o[e]?o[e]:e)+"':function(_z){"+a+"=_z}")}l&&(n="function(){return "+n+" }"),s.push("'"+e+"':"+n)}a=a||{};var s=[],c=[],l=a.valueAccessors,u=a.bindingParams,h="string"==typeof n?e(n):n;return p.a.D(h,function(e){r(e.key||e.unknown,e.value)}),c.length&&r("_ko_property_writers","{"+c.join(",")+" }"),s.join(",")},Id:function(e,t){for(var i=0;i<e.length;i++)if(e[i].key==t)return!0;return!1},eb:function(e,t,i,n,a){e&&p.O(e)?!p.Za(e)||a&&e.v()===n||e(n):(e=t.get("_ko_property_writers"))&&e[i]&&e[i](n)}}}(),p.b("expressionRewriting",p.m),p.b("expressionRewriting.bindingRewriteValidators",p.m.Ra),p.b("expressionRewriting.parseObjectLiteral",p.m.ac),p.b("expressionRewriting.preProcessBindings",p.m.vb),p.b("expressionRewriting._twoWayBindings",p.m.wa),p.b("jsonExpressionRewriting",p.m),p.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",p.m.vb),function(){function e(e){return 8==e.nodeType&&o.test(r?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&s.test(r?e.text:e.nodeValue)}function n(i,n){for(var a=i,r=1,o=[];a=a.nextSibling;){if(t(a)&&(p.a.g.set(a,l,!0),0===--r))return o;o.push(a),e(a)&&r++}if(!n)throw Error("Cannot find closing comment tag to match: "+i.nodeValue);return null}function a(e,t){var i=n(e,t);return i?0<i.length?i[i.length-1].nextSibling:e.nextSibling:null}var r=i&&"\x3c!--test--\x3e"===i.createComment("test").text,o=r?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=r?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,c={ul:!0,ol:!0},l="__ko_matchedEndComment__";p.h={ea:{},childNodes:function(t){return e(t)?n(t):t.childNodes},Ea:function(t){if(e(t)){t=p.h.childNodes(t);for(var i=0,n=t.length;i<n;i++)p.removeNode(t[i])}else p.a.Tb(t)},va:function(t,i){if(e(t)){p.h.Ea(t);for(var n=t.nextSibling,a=0,r=i.length;a<r;a++)n.parentNode.insertBefore(i[a],n)}else p.a.va(t,i)},Vc:function(t,i){var n;e(t)?(n=t.nextSibling,t=t.parentNode):n=t.firstChild,n?i!==n&&t.insertBefore(i,n):t.appendChild(i)},Wb:function(t,i,n){n?(n=n.nextSibling,e(t)&&(t=t.parentNode),n?i!==n&&t.insertBefore(i,n):t.appendChild(i)):p.h.Vc(t,i)},firstChild:function(i){if(e(i))return!i.nextSibling||t(i.nextSibling)?null:i.nextSibling;if(i.firstChild&&t(i.firstChild))throw Error("Found invalid end comment, as the first child of "+i);return i.firstChild},nextSibling:function(i){if(e(i)&&(i=a(i)),i.nextSibling&&t(i.nextSibling)){var n=i.nextSibling;if(t(n)&&!p.a.g.get(n,l))throw Error("Found end comment without a matching opening comment, as child of "+i);return null}return i.nextSibling},Cd:e,Vd:function(e){return(e=(r?e.text:e.nodeValue).match(o))?e[1]:null},Sc:function(i){if(c[p.a.R(i)]){var n=i.firstChild;if(n)do{if(1===n.nodeType){var r;r=n.firstChild;var o=null;if(r)do{if(o)o.push(r);else if(e(r)){var s=a(r,!0);s?r=s:o=[r]}else t(r)&&(o=[r])}while(r=r.nextSibling);if(r=o)for(o=n.nextSibling,s=0;s<r.length;s++)o?i.insertBefore(r[s],o):i.appendChild(r[s])}}while(n=n.nextSibling)}}}}(),p.b("virtualElements",p.h),p.b("virtualElements.allowedBindings",p.h.ea),p.b("virtualElements.emptyNode",p.h.Ea),p.b("virtualElements.insertAfter",p.h.Wb),p.b("virtualElements.prepend",p.h.Vc),p.b("virtualElements.setDomNodeChildren",p.h.va),function(){p.ga=function(){this.nd={}},p.a.extend(p.ga.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||p.j.getComponentNameForNode(e);case 8:return p.h.Cd(e);default:return!1}},getBindings:function(e,t){var i=this.getBindingsString(e,t),i=i?this.parseBindingsString(i,t,e):null;return p.j.tc(i,e,t,!1)},getBindingAccessors:function(e,t){var i=this.getBindingsString(e,t),i=i?this.parseBindingsString(i,t,e,{valueAccessors:!0}):null;return p.j.tc(i,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return p.h.Vd(e);default:return null}},parseBindingsString:function(e,t,i,n){try{var a,r=this.nd,o=e+(n&&n.valueAccessors||"");if(!(a=r[o])){var s,c="with($context){with($data||{}){return{"+p.m.vb(e,n)+"}}}";s=new Function("$context","$element",c),a=r[o]=s}return a(t,i)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),p.ga.instance=new p.ga}(),p.b("bindingProvider",p.ga),function(){function n(e){var t=(e=p.a.g.get(e,w))&&e.N;t&&(e.N=null,t.Tc())}function r(e,t,i){this.node=e,this.yc=t,this.kb=[],this.H=!1,t.N||p.a.K.za(e,n),i&&i.N&&(i.N.kb.push(e),this.Kb=i)}function o(e){return function(){return e}}function s(e){return e()}function c(e){return p.a.Ga(p.u.G(e),function(t,i){return function(){return e()[i]}})}function l(e,t,i){return"function"==typeof e?c(e.bind(null,t,i)):p.a.Ga(e,o)}function u(e,t){return c(this.getBindings.bind(this,e,t))}function h(e,t){var i=p.h.firstChild(t);if(i){var n,a=p.ga.instance,r=a.preprocessNode;if(r){for(;n=i;)i=p.h.nextSibling(n),r.call(a,n);i=p.h.firstChild(t)}for(;n=i;)i=p.h.nextSibling(n),d(e,n)}p.i.ma(t,p.i.H)}function d(e,t){var i=e,n=1===t.nodeType;n&&p.h.Sc(t),(n||p.ga.instance.nodeHasBindings(t))&&(i=m(t,null,e).bindingContextForDescendants),i&&!y[p.a.R(t)]&&h(i,t)}function f(e){var t=[],i={},n=[];return p.a.P(e,function a(r){if(!i[r]){var o=p.getBindingHandler(r);o&&(o.after&&(n.push(r),p.a.D(o.after,function(t){if(e[t]){if(-1!==p.a.A(n,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+n.join(", "));a(t)}}),n.length--),t.push({key:r,Mc:o})),i[r]=!0}}),t}function m(t,i,n){var a=p.a.g.Ub(t,w,{}),r=a.hd;if(!i){if(r)throw Error("You cannot apply bindings multiple times to the same element.");a.hd=!0}r||(a.context=n),a.Zb||(a.Zb={});var o;if(i&&"function"!=typeof i)o=i;else{var c=p.ga.instance,l=c.getBindingAccessors||u,h=p.$(function(){return(o=i?i(n,t):l.call(c,t,n))&&(n[_]&&n[_](),n[b]&&n[b]()),o},null,{l:t});o&&h.ja()||(h=null)}var d,m=n;if(o){var g=function(){return p.a.Ga(h?h():o,s)},v=h?function(e){return function(){return s(h()[e])}}:function(e){return o[e]};g.get=function(e){return o[e]&&s(v(e))},g.has=function(e){return e in o},p.i.H in o&&p.i.subscribe(t,p.i.H,function(){var e=(0,o[p.i.H])();if(e){var i=p.h.childNodes(t);i.length&&e(i,p.Ec(i[0]))}}),p.i.pa in o&&(m=p.i.Cb(t,n),p.i.subscribe(t,p.i.pa,function(){var e=(0,o[p.i.pa])();e&&p.h.firstChild(t)&&e(t)})),a=f(o),p.a.D(a,function(i){var n=i.Mc.init,a=i.Mc.update,r=i.key;if(8===t.nodeType&&!p.h.ea[r])throw Error("The binding '"+r+"' cannot be used with virtual elements");try{"function"==typeof n&&p.u.G(function(){var i=n(t,v(r),g,m.$data,m);if(i&&i.controlsDescendantBindings){if(d!==e)throw Error("Multiple bindings ("+d+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");d=r}}),"function"==typeof a&&p.$(function(){a(t,v(r),g,m.$data,m)},null,{l:t})}catch(e){throw e.message='Unable to process binding "'+r+": "+o[r]+'"\nMessage: '+e.message,e}})}return a=d===e,{shouldBindDescendants:a,bindingContextForDescendants:a&&m}}function g(t,i){return t&&t instanceof p.fa?t:new p.fa(t,e,e,i)}var _=p.a.Da("_subscribable"),v=p.a.Da("_ancestorBindingInfo"),b=p.a.Da("_dataDependency");p.c={};var y={script:!0,textarea:!0,template:!0};p.getBindingHandler=function(e){return p.c[e]};var O={};p.fa=function(t,i,n,a,r){function o(){var e=h?u():u,t=p.a.f(e);return i?(p.a.extend(c,i),v in i&&(c[v]=i[v])):(c.$parents=[],c.$root=t,c.ko=p),c[_]=s,l?t=c.$data:(c.$rawData=e,c.$data=t),n&&(c[n]=t),a&&a(c,i,t),i&&i[_]&&!p.S.o().Vb(i[_])&&i[_](),d&&(c[b]=d),c.$data}var s,c=this,l=t===O,u=l?e:t,h="function"==typeof u&&!p.O(u),d=r&&r.dataDependency;r&&r.exportDependencies?o():(s=p.xb(o),s.v(),s.ja()?s.equalityComparer=null:c[_]=e)},p.fa.prototype.createChildContext=function(e,t,i,n){if(!n&&t&&"object"==typeof t&&(n=t,t=n.as,i=n.extend),t&&n&&n.noChildContext){var a="function"==typeof e&&!p.O(e);return new p.fa(O,this,null,function(n){i&&i(n),n[t]=a?e():e},n)}return new p.fa(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),i&&i(e)},n)},p.fa.prototype.extend=function(e,t){return new p.fa(O,this,null,function(t){p.a.extend(t,"function"==typeof e?e(t):e)},t)};var w=p.a.g.Z();r.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)},r.prototype.sd=function(e){p.a.Pa(this.kb,e),!this.kb.length&&this.H&&this.Cc()},r.prototype.Cc=function(){this.H=!0,this.yc.N&&!this.kb.length&&(this.yc.N=null,p.a.K.yb(this.node,n),p.i.ma(this.node,p.i.pa),this.Tc())},p.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(e,t,i,n,a){var r=p.a.g.Ub(e,w,{});return r.Fa||(r.Fa=new p.T),a&&a.notifyImmediately&&r.Zb[t]&&p.u.G(i,n,[e]),r.Fa.subscribe(i,n,t)},ma:function(t,i){var n=p.a.g.get(t,w);if(n&&(n.Zb[i]=!0,n.Fa&&n.Fa.notifySubscribers(t,i),i==p.i.H))if(n.N)n.N.Cc();else if(n.N===e&&n.Fa&&n.Fa.Wa(p.i.pa))throw Error("descendantsComplete event not supported for bindings on this node")},Cb:function(e,t){var i=p.a.g.Ub(e,w,{});return i.N||(i.N=new r(e,i,t[v])),t[v]==i?t:t.extend(function(e){e[v]=i})}},p.Td=function(e){return(e=p.a.g.get(e,w))&&e.context},p.ib=function(e,t,i){return 1===e.nodeType&&p.h.Sc(e),m(e,t,g(i))},p.ld=function(e,t,i){return i=g(i),p.ib(e,l(t,i,e),i)},p.Oa=function(e,t){1!==t.nodeType&&8!==t.nodeType||h(g(e),t)},p.vc=function(e,n,r){if(!a&&t.jQuery&&(a=t.jQuery),2>arguments.length){if(!(n=i.body))throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!n||1!==n.nodeType&&8!==n.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");d(g(e,r),n)},p.Dc=function(t){return!t||1!==t.nodeType&&8!==t.nodeType?e:p.Td(t)},p.Ec=function(t){return(t=p.Dc(t))?t.$data:e},p.b("bindingHandlers",p.c),p.b("bindingEvent",p.i),p.b("bindingEvent.subscribe",p.i.subscribe),p.b("bindingEvent.startPossiblyAsyncContentBinding",p.i.Cb),p.b("applyBindings",p.vc),p.b("applyBindingsToDescendants",p.Oa),p.b("applyBindingAccessorsToNode",p.ib),p.b("applyBindingsToNode",p.ld),p.b("contextFor",p.Dc),p.b("dataFor",p.Ec)}(),function(e){function t(t,n){var o,s=Object.prototype.hasOwnProperty.call(a,t)?a[t]:e;s?s.subscribe(n):(s=a[t]=new p.T,s.subscribe(n),i(t,function(e,i){var n=!(!i||!i.synchronous);r[t]={definition:e,Gd:n},delete a[t],o||n?s.notifySubscribers(e):p.na.zb(function(){s.notifySubscribers(e)})}),o=!0)}function i(e,t){n("getConfig",[e],function(i){i?n("loadComponent",[e,i],function(e){t(e,i)}):t(null,null)})}function n(t,i,a,r){r||(r=p.j.loaders.slice(0));var o=r.shift();if(o){var s=o[t];if(s){var c=!1;if(s.apply(o,i.concat(function(e){c?a(null):null!==e?a(e):n(t,i,a,r)}))!==e&&(c=!0,!o.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else n(t,i,a,r)}else a(null)}var a={},r={};p.j={get:function(i,n){var a=Object.prototype.hasOwnProperty.call(r,i)?r[i]:e;a?a.Gd?p.u.G(function(){n(a.definition)}):p.na.zb(function(){n(a.definition)}):t(i,n)},Bc:function(e){delete r[e]},oc:n},p.j.loaders=[],p.b("components",p.j),p.b("components.get",p.j.get),p.b("components.clearCachedDefinition",p.j.Bc)}(),function(){function e(e,t,i,n){function a(){0==--s&&n(r)}var r={},s=2,c=i.template;i=i.viewModel,c?o(t,c,function(t){p.j.oc("loadTemplate",[e,t],function(e){r.template=e,a()})}):a(),i?o(t,i,function(t){p.j.oc("loadViewModel",[e,t],function(e){r[u]=e,a()})}):a()}function n(e,t,i){if("function"==typeof t)i(function(e){return new t(e)});else if("function"==typeof t[u])i(t[u]);else if("instance"in t){var a=t.instance;i(function(){return a})}else"viewModel"in t?n(e,t.viewModel,i):e("Unknown viewModel value: "+t)}function a(e){switch(p.a.R(e)){case"script":return p.a.ua(e.text);case"textarea":return p.a.ua(e.value);case"template":if(r(e.content))return p.a.Ca(e.content.childNodes)}return p.a.Ca(e.childNodes)}function r(e){return t.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function o(e,i,n){"string"==typeof i.require?s||t.require?(s||t.require)([i.require],function(e){e&&"object"==typeof e&&e.Xd&&e.default&&(e=e.default),n(e)}):e("Uses require, but no AMD loader is present"):n(i)}function c(e){return function(t){throw Error("Component '"+e+"': "+t)}}var l={};p.j.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(p.j.tb(e))throw Error("Component "+e+" is already registered");l[e]=t},p.j.tb=function(e){return Object.prototype.hasOwnProperty.call(l,e)},p.j.unregister=function(e){delete l[e],p.j.Bc(e)},p.j.Fc={getConfig:function(e,t){t(p.j.tb(e)?l[e]:null)},loadComponent:function(t,i,n){var a=c(t);o(a,i,function(i){e(t,a,i,n)})},loadTemplate:function(e,n,o){if(e=c(e),"string"==typeof n)o(p.a.ua(n));else if(n instanceof Array)o(n);else if(r(n))o(p.a.la(n.childNodes));else if(n.element)if(n=n.element,t.HTMLElement?n instanceof HTMLElement:n&&n.tagName&&1===n.nodeType)o(a(n));else if("string"==typeof n){var s=i.getElementById(n);s?o(a(s)):e("Cannot find element with ID "+n)}else e("Unknown element type: "+n);else e("Unknown template value: "+n)},loadViewModel:function(e,t,i){n(c(e),t,i)}};var u="createViewModel";p.b("components.register",p.j.register),p.b("components.isRegistered",p.j.tb),p.b("components.unregister",p.j.unregister),p.b("components.defaultLoader",p.j.Fc),p.j.loaders.push(p.j.Fc),p.j.dd=l}(),function(){function e(e,i){var n=e.getAttribute("params");if(n){var n=t.parseBindingsString(n,i,e,{valueAccessors:!0,bindingParams:!0}),n=p.a.Ga(n,function(t){return p.o(t,null,{l:e})}),a=p.a.Ga(n,function(t){var i=t.v();return t.ja()?p.o({read:function(){return p.a.f(t())},write:p.Za(i)&&function(e){t()(e)},l:e}):i});return Object.prototype.hasOwnProperty.call(a,"$raw")||(a.$raw=n),a}return{$raw:{}}}p.j.getComponentNameForNode=function(e){var t=p.a.R(e);if(p.j.tb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=p.a.W&&e.tagName===t))return t},p.j.tc=function(t,i,n,a){if(1===i.nodeType){var r=p.j.getComponentNameForNode(i);if(r){if(t=t||{},t.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var o={name:r,params:e(i,n)};t.component=a?function(){return o}:o}}return t};var t=new p.ga;9>p.a.W&&(p.j.register=function(e){return function(t){return e.apply(this,arguments)}}(p.j.register),i.createDocumentFragment=function(e){return function(){var t,i=e(),n=p.j.dd;for(t in n);return i}}(i.createDocumentFragment))}(),function(){function e(e,t,i){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=p.a.Ca(t),p.h.va(i,e)}function t(e,t,i){var n=e.createViewModel;return n?n.call(e,t,i):t}var i=0;p.c.component={init:function(n,a,r,o,s){function c(){var e=l&&l.dispose;"function"==typeof e&&e.call(l),h&&h.s(),u=l=h=null}var l,u,h,d=p.a.la(p.h.childNodes(n));return p.h.Ea(n),p.a.K.za(n,c),p.o(function(){var r,o,f=p.a.f(a());if("string"==typeof f?r=f:(r=p.a.f(f.name),o=p.a.f(f.params)),!r)throw Error("No component name specified");var m=p.i.Cb(n,s),g=u=++i;p.j.get(r,function(i){if(u===g){if(c(),!i)throw Error("Unknown component '"+r+"'");e(r,i,n);var a=t(i,o,{element:n,templateNodes:d});i=m.createChildContext(a,{extend:function(e){e.$component=a,e.$componentTemplateNodes=d}}),a&&a.koDescendantsComplete&&(h=p.i.subscribe(n,p.i.pa,a.koDescendantsComplete,a)),l=a,p.Oa(i,n)}})},null,{l:n}),{controlsDescendantBindings:!0}}},p.h.ea.component=!0}();var T={class:"className",for:"htmlFor"};p.c.attr={update:function(t,i){var n=p.a.f(i())||{};p.a.P(n,function(i,n){n=p.a.f(n);var a=i.indexOf(":"),a="lookupNamespaceURI"in t&&0<a&&t.lookupNamespaceURI(i.substr(0,a)),r=!1===n||null===n||n===e;r?a?t.removeAttributeNS(a,i):t.removeAttribute(i):n=n.toString(),8>=p.a.W&&i in T?(i=T[i],r?t.removeAttribute(i):t[i]=n):r||(a?t.setAttributeNS(a,i,n):t.setAttribute(i,n)),"name"===i&&p.a.Yc(t,r?"":n)})}},function(){p.c.checked={after:["value","attr"],init:function(t,i,n){function a(){var a=t.checked,r=o();if(!p.S.Ya()&&(a||!c&&!p.S.qa())){var l=p.u.G(i);if(u){var d=h?l.v():l,m=f;f=r,m!==r?a&&(p.a.Na(d,r,!0),p.a.Na(d,m,!1)):p.a.Na(d,r,a),h&&p.Za(l)&&l(d)}else s&&(r===e?r=a:a||(r=e)),p.m.eb(l,n,"checked",r,!0)}}function r(){var n=p.a.f(i()),a=o();u?(t.checked=0<=p.a.A(n,a),f=a):t.checked=s&&a===e?!!n:o()===n}var o=p.xb(function(){return n.has("checkedValue")?p.a.f(n.get("checkedValue")):d?n.has("value")?p.a.f(n.get("value")):t.value:void 0}),s="checkbox"==t.type,c="radio"==t.type;if(s||c){var l=i(),u=s&&p.a.f(l)instanceof Array,h=!(u&&l.push&&l.splice),d=c||u,f=u?o():e;c&&!t.name&&p.c.uniqueName.init(t,function(){return!0}),p.o(a,null,{l:t}),p.a.B(t,"click",a),p.o(r,null,{l:t}),l=e}}},p.m.wa.checked=!0,p.c.checkedValue={update:function(e,t){e.value=p.a.f(t())}}}(),p.c.class={update:function(e,t){var i=p.a.Db(p.a.f(t()));p.a.Eb(e,e.__ko__cssValue,!1),e.__ko__cssValue=i,p.a.Eb(e,i,!0)}},p.c.css={update:function(e,t){var i=p.a.f(t());null!==i&&"object"==typeof i?p.a.P(i,function(t,i){i=p.a.f(i),p.a.Eb(e,t,i)}):p.c.class.update(e,t)}},p.c.enable={update:function(e,t){var i=p.a.f(t());i&&e.disabled?e.removeAttribute("disabled"):i||e.disabled||(e.disabled=!0)}},p.c.disable={update:function(e,t){p.c.enable.update(e,function(){return!p.a.f(t())})}},p.c.event={init:function(e,t,i,n,a){var r=t()||{};p.a.P(r,function(r){"string"==typeof r&&p.a.B(e,r,function(e){var o,s=t()[r];if(s){try{var c=p.a.la(arguments);n=a.$data,c.unshift(n),o=s.apply(n,c)}finally{!0!==o&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===i.get(r+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},p.c.foreach={Rc:function(e){return function(){var t=e(),i=p.a.bc(t);return i&&"number"!=typeof i.length?(p.a.f(t),{foreach:i.data,as:i.as,noChildContext:i.noChildContext,includeDestroyed:i.includeDestroyed,afterAdd:i.afterAdd,beforeRemove:i.beforeRemove,afterRender:i.afterRender,beforeMove:i.beforeMove,afterMove:i.afterMove,templateEngine:p.ba.Ma}):{foreach:t,templateEngine:p.ba.Ma}}},init:function(e,t){return p.c.template.init(e,p.c.foreach.Rc(t))},update:function(e,t,i,n,a){return p.c.template.update(e,p.c.foreach.Rc(t),i,n,a)}},p.m.Ra.foreach=!1,p.h.ea.foreach=!0,p.c.hasfocus={init:function(e,t,i){function n(n){e.__ko_hasfocusUpdating=!0;var a=e.ownerDocument;if("activeElement"in a){var r;try{r=a.activeElement}catch(e){r=a.body}n=r===e}a=t(),p.m.eb(a,i,"hasfocus",n,!0),e.__ko_hasfocusLastValue=n,e.__ko_hasfocusUpdating=!1}var a=n.bind(null,!0),r=n.bind(null,!1);p.a.B(e,"focus",a),p.a.B(e,"focusin",a),p.a.B(e,"blur",r),p.a.B(e,"focusout",r),e.__ko_hasfocusLastValue=!1},update:function(e,t){var i=!!p.a.f(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===i||(i?e.focus():e.blur(),!i&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),p.u.G(p.a.Fb,null,[e,i?"focusin":"focusout"]))}},p.m.wa.hasfocus=!0,p.c.hasFocus=p.c.hasfocus,p.m.wa.hasFocus="hasfocus",p.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){p.a.fc(e,t())}},function(){function e(e,t,i){p.c[e]={init:function(e,n,a,r,o){var s,c,l,u,h,d={};if(t){r=a.get("as");var f=a.get("noChildContext");h=!(r&&f),d={as:r,noChildContext:f,exportDependencies:h}}return u=(l="render"==a.get("completeOn"))||a.has(p.i.pa),p.o(function(){var a,r=p.a.f(n()),f=!i!=!r,m=!c;(h||f!==s)&&(u&&(o=p.i.Cb(e,o)),f&&(t&&!h||(d.dataDependency=p.S.o()),a=t?o.createChildContext("function"==typeof r?r:n,d):p.S.qa()?o.extend(null,d):o),m&&p.S.qa()&&(c=p.a.Ca(p.h.childNodes(e),!0)),f?(m||p.h.va(e,p.a.Ca(c)),p.Oa(a,e)):(p.h.Ea(e),l||p.i.ma(e,p.i.H)),s=f)},null,{l:e}),{controlsDescendantBindings:!0}}},p.m.Ra[e]=!1,p.h.ea[e]=!0}e("if"),e("ifnot",!1,!0),e("with",!0)}(),p.c.let={init:function(e,t,i,n,a){return t=a.extend(t),p.Oa(t,e),{controlsDescendantBindings:!0}}},p.h.ea.let=!0;var A={};p.c.options={init:function(e){if("select"!==p.a.R(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(t,i,n){function a(){return p.a.jb(t.options,function(e){return e.selected})}function r(e,t,i){var n=typeof t;return"function"==n?t(e):"string"==n?e[t]:i}function o(e,i){if(m&&u)p.i.ma(t,p.i.H);else if(f.length){var n=0<=p.a.A(f,p.w.M(i[0]));p.a.Zc(i[0],n),m&&!n&&p.u.G(p.a.Fb,null,[t,"change"])}}var s=t.multiple,c=0!=t.length&&s?t.scrollTop:null,l=p.a.f(i()),u=n.get("valueAllowUnset")&&n.has("value"),h=n.get("optionsIncludeDestroyed");i={};var d,f=[];u||(s?f=p.a.Mb(a(),p.w.M):0<=t.selectedIndex&&f.push(p.w.M(t.options[t.selectedIndex]))),l&&(void 0===l.length&&(l=[l]),d=p.a.jb(l,function(t){return h||t===e||null===t||!p.a.f(t._destroy)}),n.has("optionsCaption")&&null!==(l=p.a.f(n.get("optionsCaption")))&&l!==e&&d.unshift(A));var m=!1;if(i.beforeRemove=function(e){t.removeChild(e)},l=o,n.has("optionsAfterRender")&&"function"==typeof n.get("optionsAfterRender")&&(l=function(t,i){o(0,i),p.u.G(n.get("optionsAfterRender"),null,[i[0],t!==A?t:e])}),p.a.ec(t,d,function(i,a,o){return o.length&&(f=!u&&o[0].selected?[p.w.M(o[0])]:[],m=!0),a=t.ownerDocument.createElement("option"),i===A?(p.a.Bb(a,n.get("optionsCaption")),p.w.cb(a,e)):(o=r(i,n.get("optionsValue"),i),p.w.cb(a,p.a.f(o)),i=r(i,n.get("optionsText"),o),p.a.Bb(a,i)),[a]},i,l),!u){var g;g=s?f.length&&a().length<f.length:f.length&&0<=t.selectedIndex?p.w.M(t.options[t.selectedIndex])!==f[0]:f.length||0<=t.selectedIndex,g&&p.u.G(p.a.Fb,null,[t,"change"])}(u||p.S.Ya())&&p.i.ma(t,p.i.H),p.a.wd(t),c&&20<Math.abs(c-t.scrollTop)&&(t.scrollTop=c)}},p.c.options.$b=p.a.g.Z(),p.c.selectedOptions={init:function(e,t,i){function n(){var n=t(),a=[];p.a.D(e.getElementsByTagName("option"),function(e){e.selected&&a.push(p.w.M(e))}),p.m.eb(n,i,"selectedOptions",a)}function a(){var i=p.a.f(t()),n=e.scrollTop;i&&"number"==typeof i.length&&p.a.D(e.getElementsByTagName("option"),function(e){var t=0<=p.a.A(i,p.w.M(e));e.selected!=t&&p.a.Zc(e,t)}),e.scrollTop=n}if("select"!=p.a.R(e))throw Error("selectedOptions binding applies only to SELECT elements");var r;p.i.subscribe(e,p.i.H,function(){r?n():(p.a.B(e,"change",n),r=p.o(a,null,{l:e}))},null,{notifyImmediately:!0})},update:function(){}},p.m.wa.selectedOptions=!0,p.c.style={update:function(t,i){var n=p.a.f(i()||{});p.a.P(n,function(i,n){if(n=p.a.f(n),null!==n&&n!==e&&!1!==n||(n=""),a)a(t).css(i,n);else if(/^--/.test(i))t.style.setProperty(i,n);else{i=i.replace(/-(\w)/g,function(e,t){return t.toUpperCase()});var r=t.style[i];t.style[i]=n,n===r||t.style[i]!=r||isNaN(n)||(t.style[i]=n+"px")}})}},p.c.submit={init:function(e,t,i,n,a){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");p.a.B(e,"submit",function(i){var n,r=t();try{n=r.call(a.$data,e)}finally{!0!==n&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}},p.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){p.a.Bb(e,t())}},p.h.ea.text=!0,function(){if(t&&t.navigator){var i,n,a,r,o,s=function(e){if(e)return parseFloat(e[1])},c=t.navigator.userAgent;(i=t.opera&&t.opera.version&&parseInt(t.opera.version()))||(o=s(c.match(/Edge\/([^ ]+)$/)))||s(c.match(/Chrome\/([^ ]+)/))||(n=s(c.match(/Version\/([^ ]+) Safari/)))||(a=s(c.match(/Firefox\/([^ ]+)/)))||(r=p.a.W||s(c.match(/MSIE ([^ ]+)/)))||(r=s(c.match(/rv:([^ )]+)/)))}if(8<=r&&10>r)var l=p.a.g.Z(),u=p.a.g.Z(),h=function(e){var t=this.activeElement;(t=t&&p.a.g.get(t,u))&&t(e)},d=function(e,t){var i=e.ownerDocument;p.a.g.get(i,l)||(p.a.g.set(i,l,!0),p.a.B(i,"selectionchange",h)),p.a.g.set(e,u,t)};p.c.textInput={init:function(t,s,c){function l(e,i){p.a.B(t,e,i)}function u(){var i=p.a.f(s());null!==i&&i!==e||(i=""),g!==e&&i===g?p.a.setTimeout(u,4):t.value!==i&&(b=!0,t.value=i,b=!1,_=t.value)}function h(){m||(g=t.value,m=p.a.setTimeout(f,4))}function f(){clearTimeout(m),g=m=e;var i=t.value;_!==i&&(_=i,p.m.eb(s(),c,"textInput",i))}var m,g,_=t.value,v=9==p.a.W?h:f,b=!1;r&&l("keypress",f),11>r&&l("propertychange",function(e){b||"value"!==e.propertyName||v(e)}),8==r&&(l("keyup",f),l("keydown",f)),d&&(d(t,v),l("dragend",h)),(!r||9<=r)&&l("input",v),5>n&&"textarea"===p.a.R(t)?(l("keydown",h),l("paste",h),l("cut",h)):11>i?l("keydown",h):4>a?(l("DOMAutoComplete",f),l("dragdrop",f),l("drop",f)):o&&"number"===t.type&&l("keydown",h),l("change",f),l("blur",f),p.o(u,null,{l:t})}},p.m.wa.textInput=!0,p.c.textinput={preprocess:function(e,t,i){i("textInput",e)}}}(),p.c.uniqueName={init:function(e,t){if(t()){var i="ko_unique_"+ ++p.c.uniqueName.rd;p.a.Yc(e,i)}}},p.c.uniqueName.rd=0,p.c.using={init:function(e,t,i,n,a){var r;return i.has("as")&&(r={as:i.get("as"),noChildContext:i.get("noChildContext")}),t=a.createChildContext(t,r),p.Oa(t,e),{controlsDescendantBindings:!0}}},p.h.ea.using=!0,p.c.value={init:function(t,i,n){var a=p.a.R(t),r="input"==a;if(!r||"checkbox"!=t.type&&"radio"!=t.type){var o=[],s=n.get("valueUpdate"),c=!1,l=null;s&&(o="string"==typeof s?[s]:p.a.wc(s),p.a.Pa(o,"change"));var u=function(){l=null,c=!1;var e=i(),a=p.w.M(t);p.m.eb(e,n,"value",a)};!p.a.W||!r||"text"!=t.type||"off"==t.autocomplete||t.form&&"off"==t.form.autocomplete||-1!=p.a.A(o,"propertychange")||(p.a.B(t,"propertychange",function(){c=!0}),p.a.B(t,"focus",function(){c=!1}),p.a.B(t,"blur",function(){c&&u()})),p.a.D(o,function(e){var i=u;p.a.Ud(e,"after")&&(i=function(){l=p.w.M(t),p.a.setTimeout(u,0)},e=e.substring(5)),p.a.B(t,e,i)});var h;if(h=r&&"file"==t.type?function(){var n=p.a.f(i());null===n||n===e||""===n?t.value="":p.u.G(u)}:function(){var r=p.a.f(i()),o=p.w.M(t);null!==l&&r===l?p.a.setTimeout(h,0):r===o&&o!==e||("select"===a?(o=n.get("valueAllowUnset"),p.w.cb(t,r,o),o||r===p.w.M(t)||p.u.G(u)):p.w.cb(t,r))},"select"===a){var d;p.i.subscribe(t,p.i.H,function(){d?n.get("valueAllowUnset")?h():u():(p.a.B(t,"change",u),d=p.o(h,null,{l:t}))},null,{notifyImmediately:!0})}else p.a.B(t,"change",u),p.o(h,null,{l:t})}else p.ib(t,{checkedValue:i})},update:function(){}},p.m.wa.value=!0,p.c.visible={update:function(e,t){var i=p.a.f(t()),n="none"!=e.style.display;i&&!n?e.style.display="":!i&&n&&(e.style.display="none")}},p.c.hidden={update:function(e,t){p.c.visible.update(e,function(){return!p.a.f(t())})}},function(e){p.c[e]={init:function(t,i,n,a,r){return p.c.event.init.call(this,t,function(){var t={};return t[e]=i(),t},n,a,r)}}}("click"),p.ca=function(){},p.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},p.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},p.ca.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||i;var n=t.getElementById(e);if(!n)throw Error("Cannot find template with ID "+e);return new p.C.F(n)}if(1==e.nodeType||8==e.nodeType)return new p.C.ia(e);throw Error("Unknown template type: "+e)},p.ca.prototype.renderTemplate=function(e,t,i,n){return e=this.makeTemplateSource(e,n),this.renderTemplateSource(e,t,i,n)},p.ca.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},p.ca.prototype.rewriteTemplate=function(e,t,i){e=this.makeTemplateSource(e,i),t=t(e.text()),e.text(t),e.data("isRewritten",!0)},p.b("templateEngine",p.ca),p.kc=function(){function e(e,t,i,n){e=p.m.ac(e);for(var a=p.m.Ra,r=0;r<e.length;r++){var o=e[r].key;if(Object.prototype.hasOwnProperty.call(a,o)){var s=a[o];if("function"==typeof s){if(o=s(e[r].value))throw Error(o)}else if(!s)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+p.m.vb(e,{valueAccessors:!0})+" } })()},'"+i.toLowerCase()+"')",n.createJavaScriptEvaluatorBlock(i)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(e,t,i){t.isTemplateRewritten(e,i)||t.rewriteTemplate(e,function(e){return p.kc.Ld(e,t)},i)},Ld:function(n,a){return n.replace(t,function(t,i,n,r,o){return e(o,i,n,a)}).replace(i,function(t,i){return e(i,"\x3c!-- ko --\x3e","#comment",a)})},md:function(e,t){return p.aa.Xb(function(i,n){var a=i.nextSibling;a&&a.nodeName.toLowerCase()===t&&p.ib(a,e,n)})}}}(),p.b("__tr_ambtns",p.kc.md),function(){p.C={},p.C.F=function(e){if(this.F=e){var t=p.a.R(e);this.ab="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},p.C.F.prototype.text=function(){var e=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[e];var t=arguments[0];"innerHTML"===e?p.a.fc(this.F,t):this.F[e]=t};var t=p.a.g.Z()+"_";p.C.F.prototype.data=function(e){if(1===arguments.length)return p.a.g.get(this.F,t+e);p.a.g.set(this.F,t+e,arguments[1])};var i=p.a.g.Z();p.C.F.prototype.nodes=function(){var t=this.F;if(0==arguments.length){var n=p.a.g.get(t,i)||{},a=n.lb||(3===this.ab?t.content:4===this.ab?t:e);if(!a||n.jd){var r=this.text();r&&r!==n.bb&&(a=p.a.Md(r,t.ownerDocument),p.a.g.set(t,i,{lb:a,bb:r,jd:!0}))}return a}n=arguments[0],this.ab!==e&&this.text(""),p.a.g.set(t,i,{lb:n})},p.C.ia=function(e){this.F=e},p.C.ia.prototype=new p.C.F,p.C.ia.prototype.constructor=p.C.ia,p.C.ia.prototype.text=function(){if(0==arguments.length){var t=p.a.g.get(this.F,i)||{};return t.bb===e&&t.lb&&(t.bb=t.lb.innerHTML),t.bb}p.a.g.set(this.F,i,{bb:arguments[0]})},p.b("templateSources",p.C),p.b("templateSources.domElement",p.C.F),p.b("templateSources.anonymousTemplate",p.C.ia)}(),function(){function t(e,t,i){var n;for(t=p.h.nextSibling(t);e&&(n=e)!==t;)e=p.h.nextSibling(n),i(n,e)}function i(e,i){if(e.length){var n=e[0],a=e[e.length-1],r=n.parentNode,o=p.ga.instance,s=o.preprocessNode;if(s){if(t(n,a,function(e,t){var i=e.previousSibling,r=s.call(o,e);r&&(e===n&&(n=r[0]||t),e===a&&(a=r[r.length-1]||i))}),e.length=0,!n)return;n===a?e.push(n):(e.push(n,a),p.a.Ua(e,r))}t(n,a,function(e){1!==e.nodeType&&8!==e.nodeType||p.vc(i,e)}),t(n,a,function(e){1!==e.nodeType&&8!==e.nodeType||p.aa.cd(e,[i])}),p.a.Ua(e,r)}}function n(e){return e.nodeType?e:0<e.length?e[0]:null}function a(e,t,a,r,s){s=s||{};var c=(e&&n(e)||a||{}).ownerDocument,l=s.templateEngine||o;if(p.kc.xd(a,l,c),a=l.renderTemplate(a,r,s,c),"number"!=typeof a.length||0<a.length&&"number"!=typeof a[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(c=!1,t){case"replaceChildren":p.h.va(e,a),c=!0;break;case"replaceNode":p.a.Xc(e,a),c=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return c&&(i(a,r),s.afterRender&&p.u.G(s.afterRender,null,[a,r[s.as||"$data"]]),"replaceChildren"==t&&p.i.ma(e,p.i.H)),a}function r(e,t,i){return p.O(e)?e():"function"==typeof e?e(t,i):e}var o;p.gc=function(t){if(t!=e&&!(t instanceof p.ca))throw Error("templateEngine must inherit from ko.templateEngine");o=t},p.dc=function(t,i,s,c,l){if(s=s||{},(s.templateEngine||o)==e)throw Error("Set a template engine before calling renderTemplate");if(l=l||"replaceChildren",c){var u=n(c);return p.$(function(){var e=i&&i instanceof p.fa?i:new p.fa(i,null,null,null,{exportDependencies:!0}),o=r(t,e.$data,e),e=a(c,l,o,e,s);"replaceNode"==l&&(c=e,u=n(c))},null,{Sa:function(){return!u||!p.a.Sb(u)},l:u&&"replaceNode"==l?u.parentNode:u})}return p.aa.Xb(function(e){p.dc(t,i,s,e,"replaceNode")})},p.Qd=function(t,n,o,s,c){function l(e,t){p.u.G(p.a.ec,null,[s,e,h,o,u,t]),p.i.ma(s,p.i.H)}function u(e,t){i(t,d),o.afterRender&&o.afterRender(t,e),d=null}function h(e,i){d=c.createChildContext(e,{as:f,noChildContext:o.noChildContext,extend:function(e){e.$index=i,f&&(e[f+"Index"]=i)}});var n=r(t,e,d);return a(s,"ignoreTargetNode",n,d,o)}var d,f=o.as,m=!1===o.includeDestroyed||p.options.foreachHidesDestroyed&&!o.includeDestroyed;if(m||o.beforeRemove||!p.Pc(n))return p.$(function(){var t=p.a.f(n)||[];void 0===t.length&&(t=[t]),m&&(t=p.a.jb(t,function(t){return t===e||null===t||!p.a.f(t._destroy)})),l(t)},null,{l:s});l(n.v());var g=n.subscribe(function(e){l(n(),e)},null,"arrayChange");return g.l(s),g};var s=p.a.g.Z(),c=p.a.g.Z();p.c.template={init:function(e,t){var i=p.a.f(t());if("string"==typeof i||"name"in i)p.h.Ea(e);else if("nodes"in i){if(i=i.nodes||[],p.O(i))throw Error('The "nodes" option must be a plain, non-observable array.');var n=i[0]&&i[0].parentNode;n&&p.a.g.get(n,c)||(n=p.a.Yb(i),p.a.g.set(n,c,!0)),new p.C.ia(e).nodes(n)}else{if(i=p.h.childNodes(e),!(0<i.length))throw Error("Anonymous template defined, but no template content was provided");n=p.a.Yb(i),new p.C.ia(e).nodes(n)}return{controlsDescendantBindings:!0}},update:function(t,i,n,a,r){var o=i();i=p.a.f(o),n=!0,a=null,"string"==typeof i?i={}:(o="name"in i?i.name:t,"if"in i&&(n=p.a.f(i.if)),n&&"ifnot"in i&&(n=!p.a.f(i.ifnot)),n&&!o&&(n=!1)),"foreach"in i?a=p.Qd(o,n&&i.foreach||[],i,t,r):n?(n=r,"data"in i&&(n=r.createChildContext(i.data,{as:i.as,noChildContext:i.noChildContext,exportDependencies:!0})),a=p.dc(o,n,i,t)):p.h.Ea(t),r=a,(i=p.a.g.get(t,s))&&"function"==typeof i.s&&i.s(),p.a.g.set(t,s,!r||r.ja&&!r.ja()?e:r)}},p.m.Ra.template=function(e){return e=p.m.ac(e),1==e.length&&e[0].unknown||p.m.Id(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},p.h.ea.template=!0}(),p.b("setTemplateEngine",p.gc),p.b("renderTemplate",p.dc),p.a.Kc=function(e,t,i){if(e.length&&t.length){var n,a,r,o,s;for(n=a=0;(!i||n<i)&&(o=e[a]);++a){for(r=0;s=t[r];++r)if(o.value===s.value){o.moved=s.index,s.moved=o.index,t.splice(r,1),n=r=0;break}n+=r}}},p.a.Pb=function(){function e(e,t,i,n,a){var r,o,s,c,l,u=Math.min,h=Math.max,d=[],f=e.length,m=t.length,g=m-f||1,_=f+m+1;for(r=0;r<=f;r++)for(c=s,d.push(s=[]),l=u(m,r+g),o=h(0,r-1);o<=l;o++)s[o]=o?r?e[r-1]===t[o-1]?c[o-1]:u(c[o]||_,s[o-1]||_)+1:o+1:r+1;for(u=[],h=[],g=[],r=f,o=m;r||o;)m=d[r][o]-1,o&&m===d[r][o-1]?h.push(u[u.length]={status:i,value:t[--o],index:o}):r&&m===d[r-1][o]?g.push(u[u.length]={status:n,value:e[--r],index:r}):(--o,--r,a.sparse||u.push({status:"retained",value:t[o]}));return p.a.Kc(g,h,!a.dontLimitMoves&&10*f),u.reverse()}return function(t,i,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},t=t||[],i=i||[],t.length<i.length?e(t,i,"added","deleted",n):e(i,t,"deleted","added",n)}}(),p.b("utils.compareArrays",p.a.Pb),function(){function t(t,i,n,a,r){var o=[],s=p.$(function(){var e=i(n,r,p.a.Ua(o,t))||[];0<o.length&&(p.a.Xc(o,e),a&&p.u.G(a,null,[n,e,r])),o.length=0,p.a.Nb(o,e)},null,{l:t,Sa:function(){return!p.a.kd(o)}});return{Y:o,$:s.ja()?s:e}}var i=p.a.g.Z(),n=p.a.g.Z();p.a.ec=function(a,r,o,s,c,l){function u(e){f={Aa:e,pb:p.ta(b++)},_.push(f),g||E.push(f)}function h(e){f=m[e],b!==f.pb.v()&&x.push(f),f.pb(b++),p.a.Ua(f.Y,a),_.push(f)}function d(e,t){if(e)for(var i=0,n=t.length;i<n;i++)p.a.D(t[i].Y,function(n){e(n,i,t[i].Aa)})}r=r||[],void 0===r.length&&(r=[r]),s=s||{};var f,m=p.a.g.get(a,i),g=!m,_=[],v=0,b=0,y=[],O=[],w=[],x=[],E=[],T=0;if(g)p.a.D(r,u);else{if(!l||m&&m._countWaitingForRemove){var A=p.a.Mb(m,function(e){return e.Aa});l=p.a.Pb(A,r,{dontLimitMoves:s.dontLimitMoves,sparse:!0})}for(var C,S,j,A=0;C=l[A];A++)switch(S=C.moved,j=C.index,C.status){case"deleted":for(;v<j;)h(v++);S===e&&(f=m[v],f.$&&(f.$.s(),f.$=e),p.a.Ua(f.Y,a).length&&(s.beforeRemove&&(_.push(f),T++,f.Aa===n?f=null:w.push(f)),f&&y.push.apply(y,f.Y))),v++;break;case"added":for(;b<j;)h(v++);S!==e?(O.push(_.length),h(S)):u(C.value)}for(;b<r.length;)h(v++);_._countWaitingForRemove=T}p.a.g.set(a,i,_),d(s.beforeMove,x),p.a.D(y,s.beforeRemove?p.oa:p.removeNode);var P,D,I;try{I=a.ownerDocument.activeElement}catch(e){}if(O.length)for(;(A=O.shift())!=e;){for(f=_[A],P=e;A;)if((D=_[--A].Y)&&D.length){P=D[D.length-1];break}for(r=0;v=f.Y[r];P=v,r++)p.h.Wb(a,v,P)}for(A=0;f=_[A];A++){for(f.Y||p.a.extend(f,t(a,o,f.Aa,c,f.pb)),r=0;v=f.Y[r];P=v,r++)p.h.Wb(a,v,P);!f.Ed&&c&&(c(f.Aa,f.Y,f.pb),f.Ed=!0,P=f.Y[f.Y.length-1])}for(I&&a.ownerDocument.activeElement!=I&&I.focus(),d(s.beforeRemove,w),A=0;A<w.length;++A)w[A].Aa=n;d(s.afterMove,x),d(s.afterAdd,E)}}(),p.b("utils.setDomNodeChildrenFromArrayMapping",p.a.ec),p.ba=function(){this.allowTemplateRewriting=!1},p.ba.prototype=new p.ca,p.ba.prototype.constructor=p.ba,p.ba.prototype.renderTemplateSource=function(e,t,i,n){return(t=(9>p.a.W?0:e.nodes)?e.nodes():null)?p.a.la(t.cloneNode(!0).childNodes):(e=e.text(),p.a.ua(e,n))},p.ba.Ma=new p.ba,p.gc(p.ba.Ma),p.b("nativeTemplateEngine",p.ba),function(){p.$a=function(){var e=this.Hd=function(){if(!a||!a.tmpl)return 0;try{if(0<=a.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,n,r,o){if(o=o||i,r=r||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var s=t.data("precompiled");return s||(s=t.text()||"",s=a.template(null,"{{ko_with $item.koBindingContext}}"+s+"{{/ko_with}}"),t.data("precompiled",s)),t=[n.$data],n=a.extend({koBindingContext:n},r.templateOptions),n=a.tmpl(s,t,n),n.appendTo(o.createElement("div")),a.fragments={},n},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){i.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<e&&(a.tmpl.tag.ko_code={open:"__.push($1 || '');"},a.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},p.$a.prototype=new p.ca,p.$a.prototype.constructor=p.$a;var e=new p.$a;0<e.Hd&&p.gc(e),p.b("jqueryTmplTemplateEngine",p.$a)}()}(t.ko={})}()}()}()}();var n=ko;"undefined"!=typeof window?(ko=window.ko,void 0!==i?window.ko=i:delete window.ko):(ko=e.ko,void 0!==i?e.ko=i:delete e.ko),t.a=n}).call(t,i("DuR2"))},ku5u:function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT),this._offCenterFrustum=new u.a,this.width=e.width,this._width=void 0,this.aspectRatio=e.aspectRatio,this._aspectRatio=void 0,this.near=Object(o.a)(e.near,1),this._near=this.near,this.far=Object(o.a)(e.far,5e8),this._far=this.far}function a(e){if(!(Object(s.a)(e.width)&&Object(s.a)(e.aspectRatio)&&Object(s.a)(e.near)&&Object(s.a)(e.far)))throw new c.a("width, aspectRatio, near, or far parameters are not set.");var t=e._offCenterFrustum;if(e.width!==e._width||e.aspectRatio!==e._aspectRatio||e.near!==e._near||e.far!==e._far){if(e.aspectRatio<0)throw new c.a("aspectRatio must be positive.");if(e.near<0||e.near>e.far)throw new c.a("near must be greater than zero and less than far.");e._aspectRatio=e.aspectRatio,e._width=e.width,e._near=e.near,e._far=e.far;var i=1/e.aspectRatio;t.right=.5*e.width,t.left=-t.right,t.top=i*t.right,t.bottom=-t.top,t.near=e.near,t.far=e.far}}var r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("PzDm"),l=i("fq+p"),u=i("rpO5");n.packedLength=4,n.pack=function(e,t,i){return r.a.typeOf.object("value",e),r.a.defined("array",t),i=Object(o.a)(i,0),t[i++]=e.width,t[i++]=e.aspectRatio,t[i++]=e.near,t[i]=e.far,t},n.unpack=function(e,t,i){return r.a.defined("array",e),t=Object(o.a)(t,0),Object(s.a)(i)||(i=new n),i.width=e[t++],i.aspectRatio=e[t++],i.near=e[t++],i.far=e[t],i},Object.defineProperties(n.prototype,{projectionMatrix:{get:function(){return a(this),this._offCenterFrustum.projectionMatrix}}}),n.prototype.computeCullingVolume=function(e,t,i){return a(this),this._offCenterFrustum.computeCullingVolume(e,t,i)},n.prototype.getPixelDimensions=function(e,t,i,n,r){return a(this),this._offCenterFrustum.getPixelDimensions(e,t,i,n,r)},n.prototype.clone=function(e){return Object(s.a)(e)||(e=new n),e.aspectRatio=this.aspectRatio,e.width=this.width,e.near=this.near,e.far=this.far,e._aspectRatio=void 0,e._width=void 0,e._near=void 0,e._far=void 0,this._offCenterFrustum.clone(e._offCenterFrustum),e},n.prototype.equals=function(e){return!!(Object(s.a)(e)&&e instanceof n)&&(a(this),a(e),this.width===e.width&&this.aspectRatio===e.aspectRatio&&this._offCenterFrustum.equals(e._offCenterFrustum))},n.prototype.equalsEpsilon=function(e,t,i){return!!(Object(s.a)(e)&&e instanceof n)&&(a(this),a(e),l.a.equalsEpsilon(this.width,e.width,t,i)&&l.a.equalsEpsilon(this.aspectRatio,e.aspectRatio,t,i)&&this._offCenterFrustum.equalsEpsilon(e._offCenterFrustum,t,i))},t.a=n},kulZ:function(e,t,i){"use strict";i("5A4e"),i("xC6Q"),i("PzDm"),i("WyUw")},kxFB:function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},l0BX:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT);var t=Object(r.a)(e.wrapS,u.a.CLAMP_TO_EDGE),i=Object(r.a)(e.wrapT,u.a.CLAMP_TO_EDGE),n=Object(r.a)(e.minificationFilter,l.a.LINEAR),h=Object(r.a)(e.magnificationFilter,c.a.LINEAR),d=Object(o.a)(e.maximumAnisotropy)?e.maximumAnisotropy:1;if(!u.a.validate(t))throw new s.a("Invalid sampler.wrapS.");if(!u.a.validate(i))throw new s.a("Invalid sampler.wrapT.");if(!l.a.validate(n))throw new s.a("Invalid sampler.minificationFilter.");if(!c.a.validate(h))throw new s.a("Invalid sampler.magnificationFilter.");a.a.typeOf.number.greaterThanOrEquals("maximumAnisotropy",d,1),this._wrapS=t,this._wrapT=i,this._minificationFilter=n,this._magnificationFilter=h,this._maximumAnisotropy=d}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("YKq0"),l=i("z2iY"),u=i("L4GL");Object.defineProperties(n.prototype,{wrapS:{get:function(){return this._wrapS}},wrapT:{get:function(){return this._wrapT}},minificationFilter:{get:function(){return this._minificationFilter}},magnificationFilter:{get:function(){return this._magnificationFilter}},maximumAnisotropy:{get:function(){return this._maximumAnisotropy}}}),n.equals=function(e,t){return e===t||Object(o.a)(e)&&Object(o.a)(t)&&e._wrapS===t._wrapS&&e._wrapT===t._wrapT&&e._minificationFilter===t._minificationFilter&&e._magnificationFilter===t._magnificationFilter&&e._maximumAnisotropy===t._maximumAnisotropy},t.a=n},l1tn:function(e,t,i){"use strict";var n={UNLOADED:0,TRANSITIONING:1,RECEIVED:2,TEXTURE_LOADED:3,READY:4,FAILED:5,INVALID:6,PLACEHOLDER:7};t.a=Object.freeze(n)},l3S0:function(e,t,i){"use strict";function n(e){if(!Object(f.a)(e)||!Object(f.a)(e.buffer))throw new p.a("options.buffer is required.");if(!Object(f.a)(e.width))throw new p.a("options.width is required.");if(!Object(f.a)(e.height))throw new p.a("options.height is required.");this._buffer=e.buffer,this._width=e.width,this._height=e.height,this._childTileMask=Object(d.a)(e.childTileMask,15),this._encoding=Object(d.a)(e.encoding,g.a.NONE);var t=_.a.DEFAULT_STRUCTURE,i=e.structure;Object(f.a)(i)?i!==t&&(i.heightScale=Object(d.a)(i.heightScale,t.heightScale),i.heightOffset=Object(d.a)(i.heightOffset,t.heightOffset),i.elementsPerHeight=Object(d.a)(i.elementsPerHeight,t.elementsPerHeight),i.stride=Object(d.a)(i.stride,t.stride),i.elementMultiplier=Object(d.a)(i.elementMultiplier,t.elementMultiplier),i.isBigEndian=Object(d.a)(i.isBigEndian,t.isBigEndian)):i=t,this._structure=i,this._createdByUpsampling=Object(d.a)(e.createdByUpsampling,!1),this._waterMask=e.waterMask,this._skirtHeight=void 0,this._bufferType=this._encoding===g.a.LERC?Float32Array:this._buffer.constructor,this._mesh=void 0}function a(e,t,i,n,a,r,c,l,u,h){var d=(u-r.west)*(c-1)/(r.east-r.west),f=(h-r.south)*(l-1)/(r.north-r.south),p=0|d,m=p+1;m>=c&&(m=c-1,p=c-2);var g=0|f,_=g+1;_>=l&&(_=l-1,g=l-2);var v=d-p,b=f-g;return g=l-1-g,_=l-1-_,o(v,b,s(e,t,i,n,a,g*c+p),s(e,t,i,n,a,g*c+m),s(e,t,i,n,a,_*c+p),s(e,t,i,n,a,_*c+m))}function r(e,t,i,n,a,r,s,c,l,u){var h=(c-a.west)*(r-1)/(a.east-a.west),d=(l-a.south)*(s-1)/(a.north-a.south),f=0|h,p=f+1;p>=r&&(p=r-1,f=r-2);var m=0|d,g=m+1;g>=s&&(g=s-1,m=s-2);var _=h-f,v=d-m;return m=s-1-m,g=s-1-g,o(_,v,(t.decodeHeight(e,m*r+f)/u-i)/n,(t.decodeHeight(e,m*r+p)/u-i)/n,(t.decodeHeight(e,g*r+f)/u-i)/n,(t.decodeHeight(e,g*r+p)/u-i)/n)}function o(e,t,i,n,a,r){return t<e?i+e*(n-i)+t*(r-n):i+e*(r-a)+t*(a-i)}function s(e,t,i,n,a,r){r*=n;var o,s=0;if(a)for(o=0;o<t;++o)s=s*i+e[r+o];else for(o=t-1;o>=0;--o)s=s*i+e[r+o];return s}function c(e,t,i,n,a,r,o,s){o*=a;var c;if(r)for(c=0;c<t-1;++c)e[o+c]=s/n|0,s-=e[o+c]*n,n/=i;else for(c=t-1;c>0;--c)e[o+c]=s/n|0,s-=e[o+c]*n,n/=i;e[o+c]=s}var l=i("S7OP"),u=i("lBr9"),h=i("Jj+J"),d=i("5A4e"),f=i("xC6Q"),p=i("PzDm"),m=i("eUIW"),g=i("giWl"),_=i("BEV1"),v=i("fq+p"),b=i("qBw0"),y=i("Wq1U"),O=i("JlUm"),w=i("c/Hq"),x=i("o9ZK"),E=i("9xui");Object.defineProperties(n.prototype,{credits:{get:function(){}},waterMask:{get:function(){return this._waterMask}},childTileMask:{get:function(){return this._childTileMask}}});var T=new O.a("createVerticesFromHeightmap");n.prototype.createMesh=function(e,t,i,n,a){if(!Object(f.a)(e))throw new p.a("tilingScheme is required.");if(!Object(f.a)(t))throw new p.a("x is required.");if(!Object(f.a)(i))throw new p.a("y is required.");if(!Object(f.a)(n))throw new p.a("level is required.");var r=e.ellipsoid,o=e.tileXYToNativeRectangle(t,i,n),s=e.tileXYToRectangle(t,i,n);a=Object(d.a)(a,1);var c=r.cartographicToCartesian(y.a.center(s)),g=this._structure,_=E.a.getEstimatedLevelZeroGeometricErrorForAHeightmap(r,this._width,e.getNumberOfXTilesAtLevel(0)),v=_/(1<<n);this._skirtHeight=Math.min(4*v,1e3);var O=T.scheduleTask({heightmap:this._buffer,structure:g,includeWebMercatorT:!0,width:this._width,height:this._height,nativeRectangle:o,rectangle:s,relativeToCenter:c,ellipsoid:r,skirtHeight:this._skirtHeight,isGeographic:e.projection instanceof m.a,exaggeration:a,encoding:this._encoding});if(Object(f.a)(O)){var A=this;return Object(l.a)(O,function(e){var t;t=A._skirtHeight>0?E.a.getRegularGridAndSkirtIndicesAndEdgeIndices(e.gridWidth,e.gridHeight):E.a.getRegularGridIndicesAndEdgeIndices(e.gridWidth,e.gridHeight);var i=e.gridWidth*e.gridHeight;return A._mesh=new x.a(c,new Float32Array(e.vertices),t.indices,t.indexCountWithoutSkirts,i,e.minimumHeight,e.maximumHeight,u.a.clone(e.boundingSphere3D),h.a.clone(e.occludeePointInScaledSpace),e.numberOfAttributes,b.a.clone(e.orientedBoundingBox),w.a.clone(e.encoding),a,t.westIndicesSouthToNorth,t.southIndicesEastToWest,t.eastIndicesNorthToSouth,t.northIndicesWestToEast),A._buffer=void 0,A._mesh})}},n.prototype._createMeshSync=function(e,t,i,n,a){if(!Object(f.a)(e))throw new p.a("tilingScheme is required.");if(!Object(f.a)(t))throw new p.a("x is required.");if(!Object(f.a)(i))throw new p.a("y is required.");if(!Object(f.a)(n))throw new p.a("level is required.");var r=e.ellipsoid,o=e.tileXYToNativeRectangle(t,i,n),s=e.tileXYToRectangle(t,i,n);a=Object(d.a)(a,1);var c=r.cartographicToCartesian(y.a.center(s)),l=this._structure,u=E.a.getEstimatedLevelZeroGeometricErrorForAHeightmap(r,this._width,e.getNumberOfXTilesAtLevel(0)),h=u/(1<<n);this._skirtHeight=Math.min(4*h,1e3);var g=_.a.computeVertices({heightmap:this._buffer,structure:l,includeWebMercatorT:!0,width:this._width,height:this._height,nativeRectangle:o,rectangle:s,relativeToCenter:c,ellipsoid:r,skirtHeight:this._skirtHeight,isGeographic:e.projection instanceof m.a,exaggeration:a});this._buffer=void 0;var v;v=this._skirtHeight>0?E.a.getRegularGridAndSkirtIndicesAndEdgeIndices(this._width,this._height):E.a.getRegularGridIndicesAndEdgeIndices(this._width,this._height);var b=g.gridWidth*g.gridHeight;return new x.a(c,g.vertices,v.indices,v.indexCountWithoutSkirts,b,g.minimumHeight,g.maximumHeight,g.boundingSphere3D,g.occludeePointInScaledSpace,g.encoding.getStride(),g.orientedBoundingBox,g.encoding,a,v.westIndicesSouthToNorth,v.southIndicesEastToWest,v.eastIndicesNorthToSouth,v.northIndicesWestToEast)},n.prototype.interpolateHeight=function(e,t,i){var n,o=this._width,s=this._height,c=this._structure,l=c.stride,u=c.elementsPerHeight,h=c.elementMultiplier,d=c.isBigEndian,p=c.heightOffset,m=c.heightScale;if(Object(f.a)(this._mesh)){n=r(this._mesh.vertices,this._mesh.encoding,p,m,e,o,s,t,i,this._mesh.exaggeration)}else n=a(this._buffer,u,h,l,d,e,o,s,t,i),n=n*m+p;return n},n.prototype.upsample=function(e,t,i,a,o,s,l){if(!Object(f.a)(e))throw new p.a("tilingScheme is required.");if(!Object(f.a)(t))throw new p.a("thisX is required.");if(!Object(f.a)(i))throw new p.a("thisY is required.");if(!Object(f.a)(a))throw new p.a("thisLevel is required.");if(!Object(f.a)(o))throw new p.a("descendantX is required.");if(!Object(f.a)(s))throw new p.a("descendantY is required.");if(!Object(f.a)(l))throw new p.a("descendantLevel is required.");if(l-a>1)throw new p.a("Upsampling through more than one level at a time is not currently supported.");var u=this._mesh;if(Object(f.a)(u)){for(var h=this._width,d=this._height,m=this._structure,g=m.stride,_=new this._bufferType(h*d*g),b=u.vertices,y=u.encoding,O=e.tileXYToRectangle(t,i,a),w=e.tileXYToRectangle(o,s,l),x=m.heightOffset,E=m.heightScale,T=u.exaggeration,A=m.elementsPerHeight,C=m.elementMultiplier,S=m.isBigEndian,j=Math.pow(C,A-1),P=0;P<d;++P)for(var D=v.a.lerp(w.north,w.south,P/(d-1)),I=0;I<h;++I){var R=v.a.lerp(w.west,w.east,I/(h-1)),M=r(b,y,x,E,O,h,d,R,D,T);M=M<m.lowestEncodedHeight?m.lowestEncodedHeight:M,M=M>m.highestEncodedHeight?m.highestEncodedHeight:M,c(_,A,C,j,g,S,P*h+I,M)}return new n({buffer:_,width:h,height:d,childTileMask:0,structure:this._structure,createdByUpsampling:!0})}},n.prototype.isChildAvailable=function(e,t,i,n){if(!Object(f.a)(e))throw new p.a("thisX is required.");if(!Object(f.a)(t))throw new p.a("thisY is required.");if(!Object(f.a)(i))throw new p.a("childX is required.");if(!Object(f.a)(n))throw new p.a("childY is required.");var a=2;return i!==2*e&&++a,n!==2*t&&(a-=2),0!=(this._childTileMask&1<<a)},n.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling},t.a=n},l7qC:function(e,t,i){"use strict";function n(e,t){return t=Object(a.a)(t,0),Object(r.a)(e,t,Math.min(4,e.length))}var a=i("5A4e"),r=i("Q+B7");t.a=n},lBr9:function(e,t,i){"use strict";function n(e,t){this.center=a.a.clone(Object(s.a)(e,a.a.ZERO)),this.radius=Object(s.a)(t,0)}var a=i("Jj+J"),r=i("I3GD"),o=i("5F4X"),s=i("5A4e"),c=i("xC6Q"),l=i("y6fO"),u=i("eUIW"),h=i("u909"),d=i("ogen"),f=i("fq+p"),p=i("i3sv"),m=i("Xjii"),g=i("Wq1U"),_=new a.a,v=new a.a,b=new a.a,y=new a.a,O=new a.a,w=new a.a,x=new a.a,E=new a.a,T=new a.a,A=new a.a,C=new a.a,S=new a.a,j=4/3*f.a.PI;n.fromPoints=function(e,t){if(Object(c.a)(t)||(t=new n),!Object(c.a)(e)||0===e.length)return t.center=a.a.clone(a.a.ZERO,t.center),t.radius=0,t;var i,r=a.a.clone(e[0],x),o=a.a.clone(r,_),s=a.a.clone(r,v),l=a.a.clone(r,b),u=a.a.clone(r,y),h=a.a.clone(r,O),d=a.a.clone(r,w),f=e.length;for(i=1;i<f;i++){a.a.clone(e[i],r);var p=r.x,m=r.y,g=r.z;p<o.x&&a.a.clone(r,o),p>u.x&&a.a.clone(r,u),m<s.y&&a.a.clone(r,s),m>h.y&&a.a.clone(r,h),g<l.z&&a.a.clone(r,l),g>d.z&&a.a.clone(r,d)}var j=a.a.magnitudeSquared(a.a.subtract(u,o,E)),P=a.a.magnitudeSquared(a.a.subtract(h,s,E)),D=a.a.magnitudeSquared(a.a.subtract(d,l,E)),I=o,R=u,M=j;P>M&&(M=P,I=s,R=h),D>M&&(M=D,I=l,R=d);var L=T;L.x=.5*(I.x+R.x),L.y=.5*(I.y+R.y),L.z=.5*(I.z+R.z);var N=a.a.magnitudeSquared(a.a.subtract(R,L,E)),F=Math.sqrt(N),z=A;z.x=o.x,z.y=s.y,z.z=l.z;var B=C;B.x=u.x,B.y=h.y,B.z=d.z;var k=a.a.midpoint(z,B,S),U=0;for(i=0;i<f;i++){a.a.clone(e[i],r);var V=a.a.magnitude(a.a.subtract(r,k,E));V>U&&(U=V);var H=a.a.magnitudeSquared(a.a.subtract(r,L,E));if(H>N){var q=Math.sqrt(H);F=.5*(F+q),N=F*F;var W=q-F;L.x=(F*L.x+W*r.x)/q,L.y=(F*L.y+W*r.y)/q,L.z=(F*L.z+W*r.z)/q}}return F<U?(a.a.clone(L,t.center),t.radius=F):(a.a.clone(k,t.center),t.radius=U),t};var P=new u.a,D=new a.a,I=new a.a,R=new r.a,M=new r.a;n.fromRectangle2D=function(e,t,i){return n.fromRectangleWithHeights2D(e,t,0,0,i)},n.fromRectangleWithHeights2D=function(e,t,i,r,o){if(Object(c.a)(o)||(o=new n),!Object(c.a)(e))return o.center=a.a.clone(a.a.ZERO,o.center),o.radius=0,o;t=Object(s.a)(t,P),g.a.southwest(e,R),R.height=i,g.a.northeast(e,M),M.height=r;var l=t.project(R,D),u=t.project(M,I),h=u.x-l.x,d=u.y-l.y,f=u.z-l.z;o.radius=.5*Math.sqrt(h*h+d*d+f*f);var p=o.center;return p.x=l.x+.5*h,p.y=l.y+.5*d,p.z=l.z+.5*f,o};var L=[];n.fromRectangle3D=function(e,t,i,r){if(t=Object(s.a)(t,l.a.WGS84),i=Object(s.a)(i,0),Object(c.a)(r)||(r=new n),!Object(c.a)(e))return r.center=a.a.clone(a.a.ZERO,r.center),r.radius=0,r;var o=g.a.subsample(e,t,i,L);return n.fromPoints(o,r)},n.fromVertices=function(e,t,i,r){if(Object(c.a)(r)||(r=new n),!Object(c.a)(e)||0===e.length)return r.center=a.a.clone(a.a.ZERO,r.center),r.radius=0,r;t=Object(s.a)(t,a.a.ZERO),i=Object(s.a)(i,3),o.a.typeOf.number.greaterThanOrEquals("stride",i,3);var l=x;l.x=e[0]+t.x,l.y=e[1]+t.y,l.z=e[2]+t.z;var u,h=a.a.clone(l,_),d=a.a.clone(l,v),f=a.a.clone(l,b),p=a.a.clone(l,y),m=a.a.clone(l,O),g=a.a.clone(l,w),j=e.length;for(u=0;u<j;u+=i){var P=e[u]+t.x,D=e[u+1]+t.y,I=e[u+2]+t.z;l.x=P,l.y=D,l.z=I,P<h.x&&a.a.clone(l,h),P>p.x&&a.a.clone(l,p),D<d.y&&a.a.clone(l,d),D>m.y&&a.a.clone(l,m),I<f.z&&a.a.clone(l,f),I>g.z&&a.a.clone(l,g)}var R=a.a.magnitudeSquared(a.a.subtract(p,h,E)),M=a.a.magnitudeSquared(a.a.subtract(m,d,E)),L=a.a.magnitudeSquared(a.a.subtract(g,f,E)),N=h,F=p,z=R;M>z&&(z=M,N=d,F=m),L>z&&(z=L,N=f,F=g);var B=T;B.x=.5*(N.x+F.x),B.y=.5*(N.y+F.y),B.z=.5*(N.z+F.z);var k=a.a.magnitudeSquared(a.a.subtract(F,B,E)),U=Math.sqrt(k),V=A;V.x=h.x,V.y=d.y,V.z=f.z;var H=C;H.x=p.x,H.y=m.y,H.z=g.z;var q=a.a.midpoint(V,H,S),W=0;for(u=0;u<j;u+=i){l.x=e[u]+t.x,l.y=e[u+1]+t.y,l.z=e[u+2]+t.z;var G=a.a.magnitude(a.a.subtract(l,q,E));G>W&&(W=G);var Y=a.a.magnitudeSquared(a.a.subtract(l,B,E));if(Y>k){var X=Math.sqrt(Y);U=.5*(U+X),k=U*U;var Q=X-U;B.x=(U*B.x+Q*l.x)/X,B.y=(U*B.y+Q*l.y)/X,B.z=(U*B.z+Q*l.z)/X}}return U<W?(a.a.clone(B,r.center),r.radius=U):(a.a.clone(q,r.center),r.radius=W),r},n.fromEncodedCartesianVertices=function(e,t,i){if(Object(c.a)(i)||(i=new n),!Object(c.a)(e)||!Object(c.a)(t)||e.length!==t.length||0===e.length)return i.center=a.a.clone(a.a.ZERO,i.center),i.radius=0,i;var r=x;r.x=e[0]+t[0],r.y=e[1]+t[1],r.z=e[2]+t[2];var o,s=a.a.clone(r,_),l=a.a.clone(r,v),u=a.a.clone(r,b),h=a.a.clone(r,y),d=a.a.clone(r,O),f=a.a.clone(r,w),p=e.length;for(o=0;o<p;o+=3){var m=e[o]+t[o],g=e[o+1]+t[o+1],j=e[o+2]+t[o+2];r.x=m,r.y=g,r.z=j,m<s.x&&a.a.clone(r,s),m>h.x&&a.a.clone(r,h),g<l.y&&a.a.clone(r,l),g>d.y&&a.a.clone(r,d),j<u.z&&a.a.clone(r,u),j>f.z&&a.a.clone(r,f)}var P=a.a.magnitudeSquared(a.a.subtract(h,s,E)),D=a.a.magnitudeSquared(a.a.subtract(d,l,E)),I=a.a.magnitudeSquared(a.a.subtract(f,u,E)),R=s,M=h,L=P;D>L&&(L=D,R=l,M=d),I>L&&(L=I,R=u,M=f);var N=T;N.x=.5*(R.x+M.x),N.y=.5*(R.y+M.y),N.z=.5*(R.z+M.z);var F=a.a.magnitudeSquared(a.a.subtract(M,N,E)),z=Math.sqrt(F),B=A;B.x=s.x,B.y=l.y,B.z=u.z;var k=C;k.x=h.x,k.y=d.y,k.z=f.z;var U=a.a.midpoint(B,k,S),V=0;for(o=0;o<p;o+=3){r.x=e[o]+t[o],r.y=e[o+1]+t[o+1],r.z=e[o+2]+t[o+2];var H=a.a.magnitude(a.a.subtract(r,U,E));H>V&&(V=H);var q=a.a.magnitudeSquared(a.a.subtract(r,N,E));if(q>F){var W=Math.sqrt(q);z=.5*(z+W),F=z*z;var G=W-z;N.x=(z*N.x+G*r.x)/W,N.y=(z*N.y+G*r.y)/W,N.z=(z*N.z+G*r.z)/W}}return z<V?(a.a.clone(N,i.center),i.radius=z):(a.a.clone(U,i.center),i.radius=V),i},n.fromCornerPoints=function(e,t,i){o.a.typeOf.object("corner",e),o.a.typeOf.object("oppositeCorner",t),Object(c.a)(i)||(i=new n);var r=a.a.midpoint(e,t,i.center);return i.radius=a.a.distance(r,t),i},n.fromEllipsoid=function(e,t){return o.a.typeOf.object("ellipsoid",e),Object(c.a)(t)||(t=new n),a.a.clone(a.a.ZERO,t.center),t.radius=e.maximumRadius,t};var N=new a.a;n.fromBoundingSpheres=function(e,t){if(Object(c.a)(t)||(t=new n),!Object(c.a)(e)||0===e.length)return t.center=a.a.clone(a.a.ZERO,t.center),t.radius=0,t;var i=e.length;if(1===i)return n.clone(e[0],t);if(2===i)return n.union(e[0],e[1],t);var r,o=[];for(r=0;r<i;r++)o.push(e[r].center);t=n.fromPoints(o,t);var s=t.center,l=t.radius;for(r=0;r<i;r++){var u=e[r];l=Math.max(l,a.a.distance(s,u.center,N)+u.radius)}return t.radius=l,t};var F=new a.a,z=new a.a,B=new a.a;n.fromOrientedBoundingBox=function(e,t){o.a.defined("orientedBoundingBox",e),Object(c.a)(t)||(t=new n);var i=e.halfAxes,r=p.a.getColumn(i,0,F),s=p.a.getColumn(i,1,z),l=p.a.getColumn(i,2,B);return a.a.add(r,s,r),a.a.add(r,l,r),t.center=a.a.clone(e.center,t.center),t.radius=a.a.magnitude(r),t},n.clone=function(e,t){if(Object(c.a)(e))return Object(c.a)(t)?(t.center=a.a.clone(e.center,t.center),t.radius=e.radius,t):new n(e.center,e.radius)},n.packedLength=4,n.pack=function(e,t,i){o.a.typeOf.object("value",e),o.a.defined("array",t),i=Object(s.a)(i,0);var n=e.center;return t[i++]=n.x,t[i++]=n.y,t[i++]=n.z,t[i]=e.radius,t},n.unpack=function(e,t,i){o.a.defined("array",e),t=Object(s.a)(t,0),Object(c.a)(i)||(i=new n);var a=i.center;return a.x=e[t++],a.y=e[t++],a.z=e[t++],i.radius=e[t],i};var k=new a.a,U=new a.a;n.union=function(e,t,i){o.a.typeOf.object("left",e),o.a.typeOf.object("right",t),Object(c.a)(i)||(i=new n);var r=e.center,s=e.radius,l=t.center,u=t.radius,h=a.a.subtract(l,r,k),d=a.a.magnitude(h);if(s>=d+u)return e.clone(i),i;if(u>=d+s)return t.clone(i),i;var f=.5*(s+d+u),p=a.a.multiplyByScalar(h,(-s+f)/d,U);return a.a.add(p,r,p),a.a.clone(p,i.center),i.radius=f,i};var V=new a.a;n.expand=function(e,t,i){o.a.typeOf.object("sphere",e),o.a.typeOf.object("point",t),i=n.clone(e,i);var r=a.a.magnitude(a.a.subtract(t,i.center,V));return r>i.radius&&(i.radius=r),i},n.intersectPlane=function(e,t){o.a.typeOf.object("sphere",e),o.a.typeOf.object("plane",t);var i=e.center,n=e.radius,r=t.normal,s=a.a.dot(r,i)+t.distance;return s<-n?h.a.OUTSIDE:s<n?h.a.INTERSECTING:h.a.INSIDE},n.transform=function(e,t,i){return o.a.typeOf.object("sphere",e),o.a.typeOf.object("transform",t),Object(c.a)(i)||(i=new n),i.center=m.a.multiplyByPoint(t,e.center,i.center),i.radius=m.a.getMaximumScale(t)*e.radius,i};var H=new a.a;n.distanceSquaredTo=function(e,t){o.a.typeOf.object("sphere",e),o.a.typeOf.object("cartesian",t);var i=a.a.subtract(e.center,t,H);return a.a.magnitudeSquared(i)-e.radius*e.radius},n.transformWithoutScale=function(e,t,i){return o.a.typeOf.object("sphere",e),o.a.typeOf.object("transform",t),Object(c.a)(i)||(i=new n),i.center=m.a.multiplyByPoint(t,e.center,i.center),i.radius=e.radius,i};var q=new a.a;n.computePlaneDistances=function(e,t,i,n){o.a.typeOf.object("sphere",e),o.a.typeOf.object("position",t),o.a.typeOf.object("direction",i),Object(c.a)(n)||(n=new d.a);var r=a.a.subtract(e.center,t,q),s=a.a.dot(i,r);return n.start=s-e.radius,n.stop=s+e.radius,n};for(var W=new a.a,G=new a.a,Y=new a.a,X=new a.a,Q=new a.a,J=new r.a,Z=new Array(8),K=0;K<8;++K)Z[K]=new a.a;var $=new u.a;n.projectTo2D=function(e,t,i){o.a.typeOf.object("sphere",e),t=Object(s.a)(t,$);var r,c=t.ellipsoid,l=e.center,u=e.radius;r=a.a.equals(l,a.a.ZERO)?a.a.clone(a.a.UNIT_X,W):c.geodeticSurfaceNormal(l,W);var h=a.a.cross(a.a.UNIT_Z,r,G);a.a.normalize(h,h);var d=a.a.cross(r,h,Y);a.a.normalize(d,d),a.a.multiplyByScalar(r,u,r),a.a.multiplyByScalar(d,u,d),a.a.multiplyByScalar(h,u,h);var f=a.a.negate(d,Q),p=a.a.negate(h,X),m=Z,g=m[0];a.a.add(r,d,g),a.a.add(g,h,g),g=m[1],a.a.add(r,d,g),a.a.add(g,p,g),g=m[2],a.a.add(r,f,g),a.a.add(g,p,g),g=m[3],a.a.add(r,f,g),a.a.add(g,h,g),a.a.negate(r,r),g=m[4],a.a.add(r,d,g),a.a.add(g,h,g),g=m[5],a.a.add(r,d,g),a.a.add(g,p,g),g=m[6],a.a.add(r,f,g),a.a.add(g,p,g),g=m[7],a.a.add(r,f,g),a.a.add(g,h,g);for(var _=m.length,v=0;v<_;++v){var b=m[v];a.a.add(l,b,b);var y=c.cartesianToCartographic(b,J);t.project(y,b)}i=n.fromPoints(m,i),l=i.center;var O=l.x,w=l.y,x=l.z;return l.x=x,l.y=O,l.z=w,i},n.isOccluded=function(e,t){return o.a.typeOf.object("sphere",e),o.a.typeOf.object("occluder",t),!t.isBoundingSphereVisible(e)},n.equals=function(e,t){return e===t||Object(c.a)(e)&&Object(c.a)(t)&&a.a.equals(e.center,t.center)&&e.radius===t.radius},n.prototype.intersectPlane=function(e){return n.intersectPlane(this,e)},n.prototype.distanceSquaredTo=function(e){return n.distanceSquaredTo(this,e)},n.prototype.computePlaneDistances=function(e,t,i){return n.computePlaneDistances(this,e,t,i)},n.prototype.isOccluded=function(e){return n.isOccluded(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.volume=function(){var e=this.radius;return j*e*e*e},t.a=n},lGcN:function(e,t,i){"use strict";function n(e,t,i){this._name=t.name,this._id=i,this._uniformMap=e._uniformMaps[i],this._technique=void 0,this._program=void 0,this._values=void 0}var a=i("xC6Q"),r=i("PzDm");Object.defineProperties(n.prototype,{name:{get:function(){return this._name}},id:{get:function(){return this._id}}}),n.prototype.setValue=function(e,t){if(!Object(a.a)(e))throw new r.a("name is required.");var i="u_"+e,n=this._uniformMap.values[i];if(!Object(a.a)(n))throw new r.a("name must match a parameter name in the material's technique that is targetable and not optimized out.");n.value=n.clone(t,n.value)},n.prototype.getValue=function(e){if(!Object(a.a)(e))throw new r.a("name is required.");var t="u_"+e,i=this._uniformMap.values[t];if(Object(a.a)(i))return i.value},t.a=n},lIfV:function(e,t,i){"use strict";t.a="/**\n * Decompresses texture coordinates that were packed into a single float.\n *\n * @name czm_decompressTextureCoordinates\n * @glslFunction\n *\n * @param {float} encoded The compressed texture coordinates.\n * @returns {vec2} The decompressed texture coordinates.\n */\n vec2 czm_decompressTextureCoordinates(float encoded)\n {\n    float temp = encoded / 4096.0;\n    float xZeroTo4095 = floor(temp);\n    float stx = xZeroTo4095 / 4095.0;\n    float sty = (encoded - xZeroTo4095 * 4096.0) / 4095.0;\n    return vec2(stx, sty);\n }\n"},lNFN:function(e,t,i){"use strict";function n(e,t){if(!Object(a.a)(e))throw new o.a("container is required.");e=Object(l.a)(e);var i=new u.a(t),n=document.createElement("button");n.type="button",n.className="cesium-button cesium-toolbar-button",n.setAttribute("data-bind","attr: { title: buttonTooltip },click: toggleDropDown"),e.appendChild(n);var r=document.createElement("img");r.setAttribute("draggable","false"),r.className="cesium-baseLayerPicker-selected",r.setAttribute("data-bind","attr: { src: buttonImageUrl }, visible: !!buttonImageUrl"),n.appendChild(r);var h=document.createElement("div");h.className="cesium-baseLayerPicker-dropDown",h.setAttribute("data-bind",'css: { "cesium-baseLayerPicker-dropDown-visible" : dropDownVisible }'),e.appendChild(h);var d=document.createElement("div");d.className="cesium-baseLayerPicker-sectionTitle",d.setAttribute("data-bind","visible: imageryProviderViewModels.length > 0"),d.innerHTML="Imagery",h.appendChild(d);var f=document.createElement("div");f.className="cesium-baseLayerPicker-section",f.setAttribute("data-bind","foreach: _imageryProviders"),h.appendChild(f);var p=document.createElement("div");p.className="cesium-baseLayerPicker-category",f.appendChild(p);var m=document.createElement("div");m.className="cesium-baseLayerPicker-categoryTitle",m.setAttribute("data-bind","text: name"),p.appendChild(m);var g=document.createElement("div");g.className="cesium-baseLayerPicker-choices",g.setAttribute("data-bind","foreach: providers"),p.appendChild(g);var _=document.createElement("div");_.className="cesium-baseLayerPicker-item",_.setAttribute("data-bind",'css: { "cesium-baseLayerPicker-selectedItem" : $data === $parents[1].selectedImagery },attr: { title: tooltip },visible: creationCommand.canExecute,click: function($data) { $parents[1].selectedImagery = $data; }'),g.appendChild(_);var v=document.createElement("img");v.className="cesium-baseLayerPicker-itemIcon",v.setAttribute("data-bind","attr: { src: iconUrl }"),v.setAttribute("draggable","false"),_.appendChild(v);var b=document.createElement("div");b.className="cesium-baseLayerPicker-itemLabel",b.setAttribute("data-bind","text: name"),_.appendChild(b);var y=document.createElement("div");y.className="cesium-baseLayerPicker-sectionTitle",y.setAttribute("data-bind","visible: terrainProviderViewModels.length > 0"),y.innerHTML="Terrain",h.appendChild(y);var O=document.createElement("div");O.className="cesium-baseLayerPicker-section",O.setAttribute("data-bind","foreach: _terrainProviders"),h.appendChild(O);var w=document.createElement("div");w.className="cesium-baseLayerPicker-category",O.appendChild(w);var x=document.createElement("div");x.className="cesium-baseLayerPicker-categoryTitle",x.setAttribute("data-bind","text: name"),w.appendChild(x);var E=document.createElement("div");E.className="cesium-baseLayerPicker-choices",E.setAttribute("data-bind","foreach: providers"),w.appendChild(E);var T=document.createElement("div");T.className="cesium-baseLayerPicker-item",T.setAttribute("data-bind",'css: { "cesium-baseLayerPicker-selectedItem" : $data === $parents[1].selectedTerrain },attr: { title: tooltip },visible: creationCommand.canExecute,click: function($data) { $parents[1].selectedTerrain = $data; }'),E.appendChild(T);var A=document.createElement("img");A.className="cesium-baseLayerPicker-itemIcon",A.setAttribute("data-bind","attr: { src: iconUrl }"),A.setAttribute("draggable","false"),T.appendChild(A);var C=document.createElement("div");C.className="cesium-baseLayerPicker-itemLabel",C.setAttribute("data-bind","text: name"),T.appendChild(C),c.a.applyBindings(i,n),c.a.applyBindings(i,h),this._viewModel=i,this._container=e,this._element=n,this._dropPanel=h,this._closeDropDown=function(e){n.contains(e.target)||h.contains(e.target)||(i.dropDownVisible=!1)},s.a.supportsPointerEvents()?document.addEventListener("pointerdown",this._closeDropDown,!0):(document.addEventListener("mousedown",this._closeDropDown,!0),document.addEventListener("touchstart",this._closeDropDown,!0))}var a=i("xC6Q"),r=i("6sr8"),o=i("PzDm"),s=i("gjtw"),c=i("PKIF"),l=i("k6tp"),u=i("9JyB");Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return s.a.supportsPointerEvents()?document.removeEventListener("pointerdown",this._closeDropDown,!0):(document.removeEventListener("mousedown",this._closeDropDown,!0),document.removeEventListener("touchstart",this._closeDropDown,!0)),c.a.cleanNode(this._element),c.a.cleanNode(this._dropPanel),this._container.removeChild(this._element),this._container.removeChild(this._dropPanel),Object(r.a)(this)},t.a=n},lOnJ:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},lV5x:function(e,t,i){"use strict";t.a="attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 prevPosition3DHigh;\nattribute vec3 prevPosition3DLow;\nattribute vec3 nextPosition3DHigh;\nattribute vec3 nextPosition3DLow;\nattribute vec2 expandAndWidth;\nattribute vec2 st;\nattribute float batchId;\n\nvarying float v_width;\nvarying vec2 v_st;\nvarying float v_polylineAngle;\n\nvoid main()\n{\n    float expandDir = expandAndWidth.x;\n    float width = abs(expandAndWidth.y) + 0.5;\n    bool usePrev = expandAndWidth.y < 0.0;\n\n    vec4 p = czm_computePosition();\n    vec4 prev = czm_computePrevPosition();\n    vec4 next = czm_computeNextPosition();\n\n    v_width = width;\n    v_st = st;\n\n    vec4 positionWC = getPolylineWindowCoordinates(p, prev, next, expandDir, width, usePrev, v_polylineAngle);\n    gl_Position = czm_viewportOrthographic * positionWC;\n\n#ifdef LOG_DEPTH\n    czm_vertexLogDepth(czm_modelViewProjectionRelativeToEye * p);\n#endif\n}\n"},lVfo:function(e,t,i){"use strict";var n={SEARCH:0,AUTOCOMPLETE:1};t.a=Object.freeze(n)},lWL3:function(e,t,i){"use strict";t.a="/**\n * Computes a value that scales with distance.  The scaling is clamped at the near and\n * far distances, and does not extrapolate.  This function works with the\n * {@link NearFarScalar} JavaScript class.\n *\n * @name czm_nearFarScalar\n * @glslFunction\n *\n * @param {vec4} nearFarScalar A vector with 4 components: Near distance (x), Near value (y), Far distance (z), Far value (w).\n * @param {float} cameraDistSq The square of the current distance from the camera.\n *\n * @returns {float} The value at this distance.\n */\nfloat czm_nearFarScalar(vec4 nearFarScalar, float cameraDistSq)\n{\n    float valueAtMin = nearFarScalar.y;\n    float valueAtMax = nearFarScalar.w;\n    float nearDistanceSq = nearFarScalar.x * nearFarScalar.x;\n    float farDistanceSq = nearFarScalar.z * nearFarScalar.z;\n\n    float t = (cameraDistSq - nearDistanceSq) / (farDistanceSq - nearDistanceSq);\n\n    t = pow(clamp(t, 0.0, 1.0), 0.2);\n\n    return mix(valueAtMin, valueAtMax, t);\n}\n"},lagm:function(e,t,i){"use strict";function n(){}var a=i("PzDm");n.prototype.geocode=a.a.throwInstantiationError},lgRh:function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\nuniform sampler2D ambientOcclusionTexture;\nuniform bool ambientOcclusionOnly;\nvarying vec2 v_textureCoordinates;\n\nvoid main(void)\n{\n    vec3 color = texture2D(colorTexture, v_textureCoordinates).rgb;\n    vec3 ao = texture2D(ambientOcclusionTexture, v_textureCoordinates).rgb;\n    gl_FragColor.rgb = ambientOcclusionOnly ? ao : ao * color;\n}\n"},lkIJ:function(e,t,i){"use strict";function n(e,t){return e-t}function a(e,t){var i=Object(c.a)(t,e,n);return i<0?~i:i}function r(e,t){if(Math.abs(e)<=b)return e/b;var i,n,a=b,r=y;return e>0?(i=Math.log(t[t.length-1]),n=(i-0)/(r-a),Math.exp(0+n*(e-a))):(i=Math.log(-t[0]),n=(i-0)/(r-a),-Math.exp(0+n*(Math.abs(e)-a)))}function o(e,t,i){if(i.clockStep===u.a.SYSTEM_CLOCK)return b;if(Math.abs(e)<=1)return e*b;var n=t[t.length-1];e>n?e=n:e<-n&&(e=-n);var a,r,o=b,s=y;return e>0?(a=Math.log(n),r=(a-0)/(s-o),(Math.log(e)-0)/r+o):(a=Math.log(-t[0]),r=(a-0)/(s-o),-((Math.log(Math.abs(e))-0)/r+o))}function s(e){if(!Object(h.a)(e))throw new d.a("clockViewModel is required.");var t=this;this._clockViewModel=e,this._allShuttleRingTicks=[],this._dateFormatter=s.defaultDateFormatter,this._timeFormatter=s.defaultTimeFormatter,this.shuttleRingDragging=!1,this.snapToTicks=!1,p.a.track(this,["_allShuttleRingTicks","_dateFormatter","_timeFormatter","shuttleRingDragging","snapToTicks"]),this._sortedFilteredPositiveTicks=[],this.setShuttleRingTicks(s.defaultTicks),this.timeLabel=void 0,p.a.defineProperty(this,"timeLabel",function(){return t._timeFormatter(t._clockViewModel.currentTime,t)}),this.dateLabel=void 0,p.a.defineProperty(this,"dateLabel",function(){return t._dateFormatter(t._clockViewModel.currentTime,t)}),this.multiplierLabel=void 0,p.a.defineProperty(this,"multiplierLabel",function(){var e=t._clockViewModel;if(e.clockStep===u.a.SYSTEM_CLOCK)return"Today";var i=e.multiplier;return i%1==0?i.toFixed(0)+"x":i.toFixed(3).replace(/0{0,3}$/,"")+"x"}),this.shuttleRingAngle=void 0,p.a.defineProperty(this,"shuttleRingAngle",{get:function(){return o(e.multiplier,t._allShuttleRingTicks,e)},set:function(e){e=Math.max(Math.min(e,y),-y);var i=t._allShuttleRingTicks,n=t._clockViewModel;if(n.clockStep=u.a.SYSTEM_CLOCK_MULTIPLIER,Math.abs(e)===y)return void(n.multiplier=e>0?i[i.length-1]:i[0]);var o=r(e,i);if(t.snapToTicks)o=i[a(o,i)];else if(0!==o){var s=Math.abs(o);if(s>100){var c=s.toFixed(0).length-2,l=Math.pow(10,c);o=Math.round(o/l)*l|0}else s>b?o=Math.round(o):s>1?o=+o.toFixed(1):s>0&&(o=+o.toFixed(2))}n.multiplier=o}}),this._canAnimate=void 0,p.a.defineProperty(this,"_canAnimate",function(){var e=t._clockViewModel,i=e.clockRange;if(t.shuttleRingDragging||i===l.a.UNBOUNDED)return!0;var n=e.multiplier,a=e.currentTime,r=e.startTime,o=!1;if(i===l.a.LOOP_STOP)o=f.a.greaterThan(a,r)||a.equals(r)&&n>0;else{var s=e.stopTime;o=f.a.greaterThan(a,r)&&f.a.lessThan(a,s)||a.equals(r)&&n>0||a.equals(s)&&n<0}return o||(e.shouldAnimate=!1),o}),this._isSystemTimeAvailable=void 0,p.a.defineProperty(this,"_isSystemTimeAvailable",function(){var e=t._clockViewModel;if(e.clockRange===l.a.UNBOUNDED)return!0;var i=e.systemTime;return f.a.greaterThanOrEquals(i,e.startTime)&&f.a.lessThanOrEquals(i,e.stopTime)}),this._isAnimating=void 0,p.a.defineProperty(this,"_isAnimating",function(){return t._clockViewModel.shouldAnimate&&(t._canAnimate||t.shuttleRingDragging)});var i=Object(g.a)(function(){var e=t._clockViewModel;e.shouldAnimate?e.shouldAnimate=!1:t._canAnimate&&(e.shouldAnimate=!0)});this._pauseViewModel=new _.a(i,{toggled:p.a.computed(function(){return!t._isAnimating}),tooltip:"Pause"});var n=Object(g.a)(function(){var e=t._clockViewModel,i=e.multiplier;i>0&&(e.multiplier=-i),e.shouldAnimate=!0});this._playReverseViewModel=new _.a(n,{toggled:p.a.computed(function(){return t._isAnimating&&e.multiplier<0}),tooltip:"Play Reverse"});var c=Object(g.a)(function(){var e=t._clockViewModel,i=e.multiplier;i<0&&(e.multiplier=-i),e.shouldAnimate=!0});this._playForwardViewModel=new _.a(c,{toggled:p.a.computed(function(){return t._isAnimating&&e.multiplier>0&&e.clockStep!==u.a.SYSTEM_CLOCK}),tooltip:"Play Forward"});var m=Object(g.a)(function(){t._clockViewModel.clockStep=u.a.SYSTEM_CLOCK},p.a.getObservable(this,"_isSystemTimeAvailable"));this._playRealtimeViewModel=new _.a(m,{toggled:p.a.computed(function(){return e.clockStep===u.a.SYSTEM_CLOCK}),tooltip:p.a.computed(function(){return t._isSystemTimeAvailable?"Today (real-time)":"Current time not in range"})}),this._slower=Object(g.a)(function(){var e=t._clockViewModel,i=t._allShuttleRingTicks,n=e.multiplier,r=a(n,i)-1;r>=0&&(e.multiplier=i[r])}),this._faster=Object(g.a)(function(){var e=t._clockViewModel,i=t._allShuttleRingTicks,n=e.multiplier,r=a(n,i)+1;r<i.length&&(e.multiplier=i[r])})}var c=i("KPbu"),l=i("P5H1"),u=i("miaP"),h=i("xC6Q"),d=i("PzDm"),f=i("9Uqs"),p=i("PKIF"),m=i("rhka"),g=i("E9RU"),_=i("37bU"),v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],b=15,y=105;s.defaultDateFormatter=function(e,t){var i=f.a.toGregorianDate(e);return v[i.month-1]+" "+i.day+" "+i.year},s.defaultTicks=[.001,.002,.005,.01,.02,.05,.1,.25,.5,1,2,5,10,15,30,60,120,300,600,900,1800,3600,7200,14400,21600,43200,86400,172800,345600,604800],s.defaultTimeFormatter=function(e,t){var i=f.a.toGregorianDate(e),n=Math.round(i.millisecond);return Math.abs(t._clockViewModel.multiplier)<1?Object(m.a)("%02d:%02d:%02d.%03d",i.hour,i.minute,i.second,n):Object(m.a)("%02d:%02d:%02d UTC",i.hour,i.minute,i.second)},s.prototype.getShuttleRingTicks=function(){return this._sortedFilteredPositiveTicks.slice(0)},s.prototype.setShuttleRingTicks=function(e){if(!Object(h.a)(e))throw new d.a("positiveTicks is required.");var t,i,a,r={},o=this._sortedFilteredPositiveTicks;for(o.length=0,t=0,i=e.length;t<i;++t)a=e[t],r.hasOwnProperty(a)||(r[a]=!0,o.push(a));o.sort(n);var s=[];for(i=o.length,t=i-1;t>=0;--t)0!==(a=o[t])&&s.push(-a);Array.prototype.push.apply(s,o),this._allShuttleRingTicks=s},Object.defineProperties(s.prototype,{slower:{get:function(){return this._slower}},faster:{get:function(){return this._faster}},clockViewModel:{get:function(){return this._clockViewModel}},pauseViewModel:{get:function(){return this._pauseViewModel}},playReverseViewModel:{get:function(){return this._playReverseViewModel}},playForwardViewModel:{get:function(){return this._playForwardViewModel}},playRealtimeViewModel:{get:function(){return this._playRealtimeViewModel}},dateFormatter:{get:function(){return this._dateFormatter},set:function(e){if("function"!=typeof e)throw new d.a("dateFormatter must be a function");this._dateFormatter=e}},timeFormatter:{get:function(){return this._timeFormatter},set:function(e){if("function"!=typeof e)throw new d.a("timeFormatter must be a function");this._timeFormatter=e}}}),s._maxShuttleRingAngle=y,s._realtimeShuttleRingAngle=b,t.a=s},lktj:function(e,t,i){var n=i("Ibhu"),a=i("xnc9");e.exports=Object.keys||function(e){return n(e,a)}},lmKU:function(e,t,i){"use strict";function n(e){this._ellipsoid=new r.a(e.ellipsoid,a.a.ZERO)}var a=i("Jj+J"),r=i("PRoZ");Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),t.a=n},lnSD:function(e,t,i){"use strict";t.a="#define SAMPLES 8\n\nuniform float delta;\nuniform float sigma;\nuniform float direction; // 0.0 for x direction, 1.0 for y direction\n\nuniform sampler2D colorTexture;\n\n#ifdef USE_STEP_SIZE\nuniform float stepSize;\n#else\nuniform vec2 step;\n#endif\n\nvarying vec2 v_textureCoordinates;\n\n//  Incremental Computation of the Gaussian:\n//  https://developer.nvidia.com/gpugems/GPUGems3/gpugems3_ch40.html\n\nvoid main()\n{\n    vec2 st = v_textureCoordinates;\n    vec2 dir = vec2(1.0 - direction, direction);\n\n#ifdef USE_STEP_SIZE\n    vec2 step = vec2(stepSize * (czm_pixelRatio / czm_viewport.zw));\n#else\n    vec2 step = step;\n#endif\n\n    vec3 g;\n    g.x = 1.0 / (sqrt(czm_twoPi) * sigma);\n    g.y = exp((-0.5 * delta * delta) / (sigma * sigma));\n    g.z = g.y * g.y;\n\n    vec4 result = texture2D(colorTexture, st) * g.x;\n    for (int i = 1; i < SAMPLES; ++i)\n    {\n        g.xy *= g.yz;\n\n        vec2 offset = float(i) * dir * step;\n        result += texture2D(colorTexture, st - offset) * g.x;\n        result += texture2D(colorTexture, st + offset) * g.x;\n    }\n\n    gl_FragColor = result;\n}\n"},lo7V:function(e,t,i){"use strict";function n(){this.head=void 0,this.tail=void 0,this._length=0}function a(e,t,i){this.item=e,this.previous=t,this.next=i}function r(e,t){Object(o.a)(t.previous)&&Object(o.a)(t.next)?(t.previous.next=t.next,t.next.previous=t.previous):Object(o.a)(t.previous)?(t.previous.next=void 0,e.tail=t.previous):Object(o.a)(t.next)?(t.next.previous=void 0,e.head=t.next):(e.head=void 0,e.tail=void 0),t.next=void 0,t.previous=void 0}var o=i("xC6Q");Object.defineProperties(n.prototype,{length:{get:function(){return this._length}}}),n.prototype.add=function(e){var t=new a(e,this.tail,void 0);return Object(o.a)(this.tail)?(this.tail.next=t,this.tail=t):(this.head=t,this.tail=t),++this._length,t},n.prototype.remove=function(e){Object(o.a)(e)&&(r(this,e),--this._length)},n.prototype.splice=function(e,t){if(e!==t){r(this,t);var i=e.next;e.next=t,this.tail===e?this.tail=t:i.previous=t,t.next=i,t.previous=e}},t.a=n},loHl:function(e,t,i){"use strict";function n(){this._length=0,this._collections={},this._collectionsArray=[],this.show=!0}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("6sr8"),c=i("ebOZ");Object.defineProperties(n.prototype,{length:{get:function(){return this._length}}}),n.prototype.add=function(e,t){a.a.defined("primitive",e),Object(o.a)(t)&&a.a.typeOf.number("zIndex",t),t=Object(r.a)(t,0);var i=this._collections[t];if(!Object(o.a)(i)){i=new c.a({destroyPrimitives:!1}),i._zIndex=t,this._collections[t]=i;for(var n=this._collectionsArray,s=0;s<n.length&&n[s]._zIndex<t;)s++;n.splice(s,0,i)}return i.add(e),this._length++,e._zIndex=t,e},n.prototype.set=function(e,t){return a.a.defined("primitive",e),a.a.typeOf.number("zIndex",t),t===e._zIndex?e:(this.remove(e,!0),this.add(e,t),e)},n.prototype.remove=function(e,t){if(this.contains(e)){var i,n=e._zIndex,a=this._collections[n];return i=t?a.remove(e):a.removeAndDestroy(e),i&&this._length--,0===a.length&&(this._collectionsArray.splice(this._collectionsArray.indexOf(a),1),this._collections[n]=void 0,a.destroy()),i}return!1},n.prototype.removeAll=function(){for(var e=this._collectionsArray,t=0;t<e.length;t++){var i=e[t];i.destroyPrimitives=!0,i.destroy()}this._collections={},this._collectionsArray=[],this._length=0},n.prototype.contains=function(e){if(!Object(o.a)(e))return!1;var t=this._collections[e._zIndex];return Object(o.a)(t)&&t.contains(e)},n.prototype.update=function(e){if(this.show)for(var t=this._collectionsArray,i=0;i<t.length;i++)t[i].update(e)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this.removeAll(),Object(s.a)(this)},t.a=n},lovY:function(e,t,i){"use strict";function n(e){if(!Object(F.a)(e))throw new B.a("scene is required.");this.enableInputs=!0,this.enableTranslate=!0,this.enableZoom=!0,this.enableRotate=!0,this.enableTilt=!0,this.enableLook=!0,this.inertiaSpin=.9,this.inertiaTranslate=.9,this.inertiaZoom=.8,this.maximumMovementRatio=.1,this.bounceAnimationTime=3,this.minimumZoomDistance=1,this.maximumZoomDistance=Number.POSITIVE_INFINITY,this.translateEventTypes=$.a.LEFT_DRAG,this.zoomEventTypes=[$.a.RIGHT_DRAG,$.a.WHEEL,$.a.PINCH],this.rotateEventTypes=$.a.LEFT_DRAG,this.tiltEventTypes=[$.a.MIDDLE_DRAG,$.a.PINCH,{eventType:$.a.LEFT_DRAG,modifier:H.a.CTRL},{eventType:$.a.RIGHT_DRAG,modifier:H.a.CTRL}],this.lookEventTypes={eventType:$.a.LEFT_DRAG,modifier:H.a.SHIFT},this.minimumPickingTerrainHeight=15e4,this._minimumPickingTerrainHeight=this.minimumPickingTerrainHeight,this.minimumCollisionTerrainHeight=15e3,this._minimumCollisionTerrainHeight=this.minimumCollisionTerrainHeight,this.minimumTrackBallHeight=75e5,this._minimumTrackBallHeight=this.minimumTrackBallHeight,this.enableCollisionDetection=!0,this._scene=e,this._globe=void 0,this._ellipsoid=void 0,this._aggregator=new K.a(e.canvas),this._lastInertiaSpinMovement=void 0,this._lastInertiaZoomMovement=void 0,this._lastInertiaTranslateMovement=void 0,this._lastInertiaTiltMovement=void 0,this._tweens=new ne.a,this._tween=void 0,this._horizontalRotationAxis=void 0,this._tiltCenterMousePosition=new I.a(-1,-1),this._tiltCenter=new R.a,this._rotateMousePosition=new I.a(-1,-1),this._rotateStartPosition=new R.a,this._strafeStartPosition=new R.a,this._zoomMouseStart=new I.a(-1,-1),this._zoomWorldPosition=new R.a,this._useZoomWorldPosition=!1,this._tiltCVOffMap=!1,this._looking=!1,this._rotating=!1,this._strafing=!1,this._zoomingOnVector=!1,this._rotatingZoom=!1,this._adjustedHeightForTerrain=!1;var t=e.mapProjection;this._maxCoord=t.project(new L.a(Math.PI,q.a.PI_OVER_TWO)),this._zoomFactor=5,this._rotateFactor=void 0,this._rotateRateRangeAdjustment=void 0,this._maximumRotateRate=1.77,this._minimumRotateRate=2e-4,this._minimumZoomRate=20,this._maximumZoomRate=5906376272e3}function a(e,t){if(e<0)return 0;var i=25*(1-t);return Math.exp(-i*e)}function r(e){return I.a.equalsEpsilon(e.startPosition,e.endPosition,q.a.EPSILON14)}function o(e,t,i,n,o,s,c){var l=s[c];Object(F.a)(l)||(l=s[c]={startPosition:new I.a,endPosition:new I.a,motion:new I.a,active:!1});var u=e.getButtonPressTime(t,i),h=e.getButtonReleaseTime(t,i),d=u&&h&&(h.getTime()-u.getTime())/1e3,f=new Date,p=h&&(f.getTime()-h.getTime())/1e3;if(u&&h&&d<ae){var m=a(p,n);if(l.active)l.startPosition=I.a.clone(l.endPosition,l.startPosition),l.endPosition=I.a.multiplyByScalar(l.motion,m,l.endPosition),l.endPosition=I.a.add(l.startPosition,l.endPosition,l.endPosition),l.motion=I.a.clone(I.a.ZERO,l.motion);else{var g=e.getLastMovement(t,i);if(!Object(F.a)(g)||r(g))return;l.motion.x=.5*(g.endPosition.x-g.startPosition.x),l.motion.y=.5*(g.endPosition.y-g.startPosition.y),l.startPosition=I.a.clone(g.startPosition,l.startPosition),l.endPosition=I.a.multiplyByScalar(l.motion,m,l.endPosition),l.endPosition=I.a.add(l.startPosition,l.endPosition,l.endPosition),l.active=!0}if(isNaN(l.endPosition.x)||isNaN(l.endPosition.y)||I.a.distance(l.startPosition,l.endPosition)<.5)return void(l.active=!1);if(!e.isButtonDown(t,i)){o(s,e.getStartMousePosition(t,i),l)}}else l.active=!1}function s(e,t,i,n,a,r){if(Object(F.a)(i)){var s=e._aggregator;Array.isArray(i)||(re[0]=i,i=re);for(var c=i.length,l=0;l<c;++l){var u=i[l],h=Object(F.a)(u.eventType)?u.eventType:u,d=u.modifier,f=s.isMoving(h,d)&&s.getMovement(h,d),p=s.getStartMousePosition(h,d);e.enableInputs&&t&&(f?n(e,p,f):a<1&&o(s,h,d,a,n,e,r))}}}function c(e,t,i,n,a,r){var o=1;Object(F.a)(r)&&(o=q.a.clamp(Math.abs(r),.25,1));var s=e.minimumZoomDistance*o,c=e.maximumZoomDistance,l=a-s,u=n*l;u=q.a.clamp(u,e._minimumZoomRate,e._maximumZoomRate);var h=i.endPosition.y-i.startPosition.y,d=h/e._scene.canvas.clientHeight;d=Math.min(d,e.maximumMovementRatio);var f=u*d;if(!(f>0&&Math.abs(a-s)<1||f<0&&Math.abs(a-c)<1)){a-f<s?f=a-s-1:a-f>c&&(f=a-c);var m=e._scene,g=m.camera,_=m.mode,v=je.orientation;if(v.heading=g.heading,v.pitch=g.pitch,v.roll=g.roll,g.frustum instanceof Y.a)return void(Math.abs(f)>0&&(g.zoomIn(f),g._adjustOrthographicFrustum()));var b,y=I.a.equals(t,e._zoomMouseStart),O=e._zoomingOnVector,w=e._rotatingZoom;if(y||(e._zoomMouseStart=I.a.clone(t,e._zoomMouseStart),Object(F.a)(e._globe)&&(_===te.a.SCENE2D?(b=g.getPickRay(t,oe).origin,b=R.a.fromElements(b.y,b.z,b.x)):b=p(e,t,se)),Object(F.a)(b)?(e._useZoomWorldPosition=!0,e._zoomWorldPosition=R.a.clone(b,e._zoomWorldPosition)):e._useZoomWorldPosition=!1,O=e._zoomingOnVector=!1,w=e._rotatingZoom=!1),!e._useZoomWorldPosition)return void g.zoomIn(f);var x=_===te.a.COLUMBUS_VIEW;if(g.positionCartographic.height<2e6&&(w=!0),!y||w){if(_===te.a.SCENE2D){var E=e._zoomWorldPosition,T=g.position;if(!R.a.equals(E,T)&&g.positionCartographic.height<2*e._maxCoord.x){var A=g.position.x,C=R.a.subtract(E,T,le);R.a.normalize(C,C);var S=R.a.distance(E,T)*f/(.5*g.getMagnitude());g.move(C,.5*S),(g.position.x<0&&A>0||g.position.x>0&&A<0)&&(b=g.getPickRay(t,oe).origin,b=R.a.fromElements(b.y,b.z,b.x),e._zoomWorldPosition=R.a.clone(b,e._zoomWorldPosition))}}else if(_===te.a.SCENE3D){var j=R.a.normalize(g.position,me);if(g.positionCartographic.height<3e3&&Math.abs(R.a.dot(g.direction,j))<.6)x=!0;else{var P=m.canvas,D=ue;D.x=P.clientWidth/2,D.y=P.clientHeight/2;var M=p(e,D,he);if(Object(F.a)(M)&&g.positionCartographic.height<1e6){var L=_e;R.a.clone(g.position,L);var N=e._zoomWorldPosition,z=ge;if(z=R.a.normalize(N,z),R.a.dot(z,j)<0)return;var B=Te,k=ye;R.a.clone(g.direction,k),R.a.add(L,R.a.multiplyByScalar(k,1e3,Ae),B);var U=Oe,V=we;R.a.subtract(N,L,U),R.a.normalize(U,V);var H=R.a.dot(j,V);if(H>=0)return void(e._zoomMouseStart.x=-1);var W=Math.acos(-H),G=R.a.magnitude(L),X=R.a.magnitude(N),Q=G-f,J=R.a.magnitude(U),Z=Math.asin(q.a.clamp(J/X*Math.sin(W),-1,1)),K=Math.asin(q.a.clamp(Q/X*Math.sin(W),-1,1)),$=Z-K+W,ee=ve;R.a.normalize(L,ee);var ne=be;ne=R.a.cross(V,ee,ne),ne=R.a.normalize(ne,ne),R.a.normalize(R.a.cross(ee,ne,Ae),k),R.a.multiplyByScalar(R.a.normalize(B,Ae),R.a.magnitude(B)-f,B),R.a.normalize(L,L),R.a.multiplyByScalar(L,Q,L);var ae=xe;R.a.multiplyByScalar(R.a.add(R.a.multiplyByScalar(ee,Math.cos($)-1,Ce),R.a.multiplyByScalar(k,Math.sin($),Se),Ae),Q,ae),R.a.add(L,ae,L),R.a.normalize(B,ee),R.a.normalize(R.a.cross(ee,ne,Ae),k);var re=Ee;return R.a.multiplyByScalar(R.a.add(R.a.multiplyByScalar(ee,Math.cos($)-1,Ce),R.a.multiplyByScalar(k,Math.sin($),Se),Ae),R.a.magnitude(B),re),R.a.add(B,re,B),R.a.clone(L,g.position),R.a.normalize(R.a.subtract(B,L,Ae),g.direction),R.a.clone(g.direction,g.direction),R.a.cross(g.direction,g.up,g.right),R.a.cross(g.right,g.direction,g.up),void g.setView(je)}if(Object(F.a)(M)){var Pe=R.a.normalize(M,de),De=R.a.normalize(e._zoomWorldPosition,fe),Ie=R.a.dot(De,Pe);if(Ie>0&&Ie<1){var Re=q.a.acosClamped(Ie),Me=R.a.cross(De,Pe,pe),Le=Math.abs(Re)>q.a.toRadians(20)?.75*g.positionCartographic.height:g.positionCartographic.height-f,Ne=f/Le;g.rotate(Me,Re*Ne)}}else x=!0}}e._rotatingZoom=!x}if(!y&&x||O){var Fe,ze=ie.a.wgs84ToWindowCoordinates(m,e._zoomWorldPosition,ce);Fe=_!==te.a.COLUMBUS_VIEW&&I.a.equals(t,e._zoomMouseStart)&&Object(F.a)(ze)?g.getPickRay(ze,oe):g.getPickRay(t,oe);var Be=Fe.direction;_!==te.a.COLUMBUS_VIEW&&_!==te.a.SCENE2D||R.a.fromElements(Be.y,Be.z,Be.x,Be),g.move(Be,f),e._zoomingOnVector=!0}else g.zoomIn(f);g.setView(je)}}function l(e,t,i){var n=e._scene,a=n.camera,r=a.getPickRay(i.startPosition,Pe).origin,o=a.getPickRay(i.endPosition,De).origin;r=R.a.fromElements(r.y,r.z,r.x,r),o=R.a.fromElements(o.y,o.z,o.x,o);var s=R.a.subtract(r,o,Ie),c=R.a.magnitude(s);c>0&&(R.a.normalize(s,s),a.move(s,c))}function u(e,t,i){Object(F.a)(i.distance)&&(i=i.distance);var n=e._scene,a=n.camera;c(e,t,i,e._zoomFactor,a.getMagnitude())}function h(e,t,i){if(Object(F.a)(i.angleAndHeight))return void d(e,t,i.angleAndHeight);var n=e._scene,a=n.camera,r=n.canvas,o=r.clientWidth,s=r.clientHeight,c=Re;c.x=2/o*i.startPosition.x-1,c.y=2/s*(s-i.startPosition.y)-1,c=I.a.normalize(c,c);var l=Me;l.x=2/o*i.endPosition.x-1,l.y=2/s*(s-i.endPosition.y)-1,l=I.a.normalize(l,l);var u=q.a.acosClamped(c.x);c.y<0&&(u=q.a.TWO_PI-u);var h=q.a.acosClamped(l.x);l.y<0&&(h=q.a.TWO_PI-h);var f=h-u;a.twistRight(f)}function d(e,t,i){var n=e._rotateFactor*e._rotateRateRangeAdjustment;n>e._maximumRotateRate&&(n=e._maximumRotateRate),n<e._minimumRotateRate&&(n=e._minimumRotateRate);var a=e._scene,r=a.camera,o=a.canvas,s=(i.endPosition.x-i.startPosition.x)/o.clientWidth;s=Math.min(s,e.maximumMovementRatio);var c=n*s*Math.PI*4;r.twistRight(c)}function f(e){var t=e._scene.mapMode2D===ee.a.ROTATE;G.a.equals(G.a.IDENTITY,e._scene.camera.transform)?(s(e,e.enableTranslate,e.translateEventTypes,l,e.inertiaTranslate,"_lastInertiaTranslateMovement"),s(e,e.enableZoom,e.zoomEventTypes,u,e.inertiaZoom,"_lastInertiaZoomMovement"),t&&s(e,e.enableRotate,e.tiltEventTypes,h,e.inertiaSpin,"_lastInertiaTiltMovement")):(s(e,e.enableZoom,e.zoomEventTypes,u,e.inertiaZoom,"_lastInertiaZoomMovement"),t&&s(e,e.enableRotate,e.translateEventTypes,h,e.inertiaSpin,"_lastInertiaSpinMovement"))}function p(e,t,i){var n=e._scene,a=e._globe,r=n.camera;if(Object(F.a)(a)){var o;n.pickPositionSupported&&(o=n.pickPositionWorldCoordinates(t,Ne));var s=r.getPickRay(t,Le),c=a.pickWorldCoordinates(s,n,Fe);return(Object(F.a)(o)?R.a.distance(o,r.positionWC):Number.POSITIVE_INFINITY)<(Object(F.a)(c)?R.a.distance(c,r.positionWC):Number.POSITIVE_INFINITY)?R.a.clone(o,i):R.a.clone(c,i)}}function m(e,t,i){if(R.a.equals(t,e._translateMousePosition)||(e._looking=!1),R.a.equals(t,e._strafeMousePosition)||(e._strafing=!1),e._looking)return void j(e,t,i);if(e._strafing)return void O(e,t,i);var n,a=e._scene,r=a.camera,o=I.a.clone(i.startPosition,We),s=I.a.clone(i.endPosition,Ge),c=r.getPickRay(o,ze),l=R.a.clone(R.a.ZERO,He),u=R.a.UNIT_X;if(r.position.z<e._minimumPickingTerrainHeight&&(n=p(e,o,ke),Object(F.a)(n)&&(l.x=n.x)),l.x>r.position.z&&Object(F.a)(n))return R.a.clone(n,e._strafeStartPosition),e._strafing=!0,O(e,t,i),void(e._strafeMousePosition=I.a.clone(t,e._strafeMousePosition));var h=X.a.fromPointNormal(l,u,qe);c=r.getPickRay(o,ze);var d=V.a.rayPlane(c,h,ke),f=r.getPickRay(s,Be),m=V.a.rayPlane(f,h,Ue);if(!Object(F.a)(d)||!Object(F.a)(m))return e._looking=!0,j(e,t,i),void I.a.clone(t,e._translateMousePosition);var g=R.a.subtract(d,m,Ve),_=g.x;g.x=g.y,g.y=g.z,g.z=_;var v=R.a.magnitude(g);v>q.a.EPSILON6&&(R.a.normalize(g,g),r.move(g,v))}function g(e,t,i){if(Object(F.a)(i.angleAndHeight)&&(i=i.angleAndHeight),I.a.equals(t,e._tiltCenterMousePosition)||(e._tiltCVOffMap=!1,e._looking=!1),e._looking)return void j(e,t,i);var n=e._scene,a=n.camera,r=e._maxCoord,o=Math.abs(a.position.x)-r.x<0&&Math.abs(a.position.y)-r.y<0;e._tiltCVOffMap||!o||a.position.z>e._minimumPickingTerrainHeight?(e._tiltCVOffMap=!0,_(e,t,i)):v(e,t,i)}function _(e,t,i){var n=e._scene,a=n.camera,r=n.canvas,o=Ye;o.x=r.clientWidth/2,o.y=r.clientHeight/2;var s,c=a.getPickRay(o,Xe),l=R.a.UNIT_X,u=c.origin,h=c.direction,d=R.a.dot(l,h);if(Math.abs(d)>q.a.EPSILON6&&(s=-R.a.dot(l,u)/d),!Object(F.a)(s)||s<=0)return e._looking=!0,j(e,t,i),void I.a.clone(t,e._tiltCenterMousePosition);var f=R.a.multiplyByScalar(h,s,Qe);R.a.add(u,f,f);var p=n.mapProjection,m=p.ellipsoid;R.a.fromElements(f.y,f.z,f.x,f);var g=p.unproject(f,it);m.cartographicToCartesian(g,f);var _=Z.a.eastNorthUpToFixedFrame(f,m,Ze),v=e._globe,b=e._ellipsoid;e._globe=void 0,e._ellipsoid=k.a.UNIT_SPHERE,e._rotateFactor=1,e._rotateRateRangeAdjustment=1;var y=G.a.clone(a.transform,nt);a._setTransform(_),x(e,t,i,R.a.UNIT_Z),a._setTransform(y),e._globe=v,e._ellipsoid=b;var O=b.maximumRadius;e._rotateFactor=1/O,e._rotateRateRangeAdjustment=O}function v(e,t,i){var n,a,r=e._scene,o=r.camera,s=R.a.UNIT_X;if(I.a.equals(t,e._tiltCenterMousePosition))n=R.a.clone(e._tiltCenter,Qe);else{if(o.position.z<e._minimumPickingTerrainHeight&&(n=p(e,t,Qe)),!Object(F.a)(n)){a=o.getPickRay(t,Xe);var c,l=a.origin,u=a.direction,h=R.a.dot(s,u);if(Math.abs(h)>q.a.EPSILON6&&(c=-R.a.dot(s,l)/h),!Object(F.a)(c)||c<=0)return e._looking=!0,j(e,t,i),void I.a.clone(t,e._tiltCenterMousePosition);n=R.a.multiplyByScalar(u,c,Qe),R.a.add(l,n,n)}I.a.clone(t,e._tiltCenterMousePosition),R.a.clone(n,e._tiltCenter)}var d=r.canvas,f=Ye;f.x=d.clientWidth/2,f.y=e._tiltCenterMousePosition.y,a=o.getPickRay(f,Xe);var m=R.a.clone(R.a.ZERO,$e);m.x=n.x;var g=X.a.fromPointNormal(m,s,et),_=V.a.rayPlane(a,g,Je),v=o._projection,b=v.ellipsoid;R.a.fromElements(n.y,n.z,n.x,n);var y=v.unproject(n,it);b.cartographicToCartesian(y,n);var O,w=Z.a.eastNorthUpToFixedFrame(n,b,Ze);Object(F.a)(_)?(R.a.fromElements(_.y,_.z,_.x,_),y=v.unproject(_,it),b.cartographicToCartesian(y,_),O=Z.a.eastNorthUpToFixedFrame(_,b,Ke)):O=w;var E=e._globe,T=e._ellipsoid;e._globe=void 0,e._ellipsoid=k.a.UNIT_SPHERE,e._rotateFactor=1,e._rotateRateRangeAdjustment=1;var A=R.a.UNIT_Z,C=G.a.clone(o.transform,nt);o._setTransform(w);var S=R.a.cross(R.a.UNIT_Z,R.a.normalize(o.position,tt),tt),P=R.a.dot(o.right,S);if(x(e,t,i,A,!1,!0),o._setTransform(O),P<0){i.startPosition.y>i.endPosition.y&&(A=void 0);var M=o.constrainedAxis;o.constrainedAxis=void 0,x(e,t,i,A,!0,!1),o.constrainedAxis=M}else x(e,t,i,A,!0,!1);if(Object(F.a)(o.constrainedAxis)){var L=R.a.cross(o.direction,o.constrainedAxis,ot);R.a.equalsEpsilon(L,R.a.ZERO,q.a.EPSILON6)||(R.a.dot(L,o.right)<0&&R.a.negate(L,L),R.a.cross(L,o.direction,o.up),R.a.cross(o.direction,o.up,o.right),R.a.normalize(o.up,o.up),R.a.normalize(o.right,o.right))}o._setTransform(C),e._globe=E,e._ellipsoid=T;var N=T.maximumRadius;e._rotateFactor=1/N,e._rotateRateRangeAdjustment=N;var z=R.a.clone(o.positionWC,tt);if(e.enableCollisionDetection&&D(e),!R.a.equals(o.positionWC,z)){o._setTransform(O),o.worldToCameraCoordinatesPoint(z,z);var B=R.a.magnitudeSquared(z);R.a.magnitudeSquared(o.position)>B&&(R.a.normalize(o.position,o.position),R.a.multiplyByScalar(o.position,Math.sqrt(B),o.position));var U=R.a.angleBetween(z,o.position),H=R.a.cross(z,o.position,z);R.a.normalize(H,H);var Y=Q.a.fromAxisAngle(H,U,at),J=W.a.fromQuaternion(Y,rt);W.a.multiplyByVector(J,o.direction,o.direction),W.a.multiplyByVector(J,o.up,o.up),R.a.cross(o.direction,o.up,o.right),R.a.cross(o.right,o.direction,o.up),o._setTransform(C)}}function b(e,t,i){Object(F.a)(i.distance)&&(i=i.distance);var n=e._scene,a=n.camera,r=n.canvas,o=st;o.x=r.clientWidth/2,o.y=r.clientHeight/2;var s,l=a.getPickRay(o,ct);a.position.z<e._minimumPickingTerrainHeight&&(s=p(e,o,lt));var u;if(Object(F.a)(s))u=R.a.distance(l.origin,s);else{var h=R.a.UNIT_X,d=l.origin,f=l.direction;u=-R.a.dot(h,d)/R.a.dot(h,f)}c(e,t,i,e._zoomFactor,u)}function y(e){var t=e._scene,i=t.camera;if(G.a.equals(G.a.IDENTITY,i.transform)){var n=e._tweens;if(e._aggregator.anyButtonDown&&n.removeAll(),s(e,e.enableTilt,e.tiltEventTypes,g,e.inertiaSpin,"_lastInertiaTiltMovement"),s(e,e.enableTranslate,e.translateEventTypes,m,e.inertiaTranslate,"_lastInertiaTranslateMovement"),s(e,e.enableZoom,e.zoomEventTypes,b,e.inertiaZoom,"_lastInertiaZoomMovement"),s(e,e.enableLook,e.lookEventTypes,j),!(e._aggregator.anyButtonDown||Object(F.a)(e._lastInertiaZoomMovement)&&e._lastInertiaZoomMovement.active||Object(F.a)(e._lastInertiaTranslateMovement)&&e._lastInertiaTranslateMovement.active||n.contains(e._tween))){var a=i.createCorrectPositionTween(e.bounceAnimationTime);Object(F.a)(a)&&(e._tween=n.add(a))}n.update()}else s(e,e.enableRotate,e.rotateEventTypes,x,e.inertiaSpin,"_lastInertiaSpinMovement"),s(e,e.enableZoom,e.zoomEventTypes,T,e.inertiaZoom,"_lastInertiaZoomMovement")}function O(e,t,i){var n=e._scene,a=n.camera,r=p(e,i.startPosition,pt);if(Object(F.a)(r)){var o=i.endPosition,s=a.getPickRay(o,ut),c=R.a.clone(a.direction,ft);n.mode===te.a.COLUMBUS_VIEW&&R.a.fromElements(c.z,c.x,c.y,c);var l=X.a.fromPointNormal(r,c,ht),u=V.a.rayPlane(s,l,dt);Object(F.a)(u)&&(c=R.a.subtract(r,u,c),n.mode===te.a.COLUMBUS_VIEW&&R.a.fromElements(c.y,c.z,c.x,c),R.a.add(a.position,c,a.position))}}function w(e,t,i){var n=e._scene,a=n.camera;if(!G.a.equals(a.transform,G.a.IDENTITY))return void x(e,t,i);var r,o,s,c,l=e._ellipsoid.geodeticSurfaceNormal(a.position,bt),u=e._ellipsoid.cartesianToCartographic(a.positionWC,gt).height,h=e._globe,d=!1;if(Object(F.a)(h)&&u<e._minimumPickingTerrainHeight&&(c=p(e,i.startPosition,pt),Object(F.a)(c))){var f=a.getPickRay(i.startPosition,Le),m=e._ellipsoid.geodeticSurfaceNormal(c);d=Math.abs(R.a.dot(f.direction,m))<.05,d&&!e._looking&&(e._rotating=!1,e._strafing=!0)}if(I.a.equals(t,e._rotateMousePosition))return void(e._looking?j(e,t,i,l):e._rotating?x(e,t,i):e._strafing?(R.a.clone(c,e._strafeStartPosition),O(e,t,i)):(r=R.a.magnitude(e._rotateStartPosition),o=_t,o.x=o.y=o.z=r,s=k.a.fromCartesian3(o,vt),E(e,t,i,s)));e._looking=!1,e._rotating=!1,e._strafing=!1,Object(F.a)(h)&&u<e._minimumPickingTerrainHeight?Object(F.a)(c)?R.a.magnitude(a.position)<R.a.magnitude(c)?(R.a.clone(c,e._strafeStartPosition),e._strafing=!0,O(e,t,i)):(r=R.a.magnitude(c),o=_t,o.x=o.y=o.z=r,s=k.a.fromCartesian3(o,vt),E(e,t,i,s),R.a.clone(c,e._rotateStartPosition)):(e._looking=!0,j(e,t,i,l)):Object(F.a)(a.pickEllipsoid(i.startPosition,e._ellipsoid,mt))?(E(e,t,i,e._ellipsoid),R.a.clone(mt,e._rotateStartPosition)):u>e._minimumTrackBallHeight?(e._rotating=!0,x(e,t,i)):(e._looking=!0,j(e,t,i,l)),I.a.clone(t,e._rotateMousePosition)}function x(e,t,i,n,a,r){a=Object(N.a)(a,!1),r=Object(N.a)(r,!1);var o=e._scene,s=o.camera,c=o.canvas,l=s.constrainedAxis;Object(F.a)(n)&&(s.constrainedAxis=n);var u=R.a.magnitude(s.position),h=e._rotateFactor*(u-e._rotateRateRangeAdjustment);h>e._maximumRotateRate&&(h=e._maximumRotateRate),h<e._minimumRotateRate&&(h=e._minimumRotateRate);var d=(i.startPosition.x-i.endPosition.x)/c.clientWidth,f=(i.startPosition.y-i.endPosition.y)/c.clientHeight;d=Math.min(d,e.maximumMovementRatio),f=Math.min(f,e.maximumMovementRatio);var p=h*d*Math.PI*2,m=h*f*Math.PI;a||s.rotateRight(p),r||s.rotateUp(m),s.constrainedAxis=l}function E(e,t,i,n){var a=e._scene,r=a.camera,o=I.a.clone(i.startPosition,At),s=I.a.clone(i.endPosition,Ct),c=r.pickEllipsoid(o,n,yt),l=r.pickEllipsoid(s,n,Ot);if(!Object(F.a)(c)||!Object(F.a)(l))return e._rotating=!0,void x(e,t,i);if(c=r.worldToCameraCoordinates(c,c),l=r.worldToCameraCoordinates(l,l),Object(F.a)(r.constrainedAxis)){var u=r.constrainedAxis,h=R.a.mostOrthogonalAxis(u,wt);R.a.cross(h,u,h),R.a.normalize(h,h);var d=R.a.cross(u,h,xt),f=R.a.magnitude(c),p=R.a.dot(u,c),m=Math.acos(p/f),g=R.a.multiplyByScalar(u,p,Et);R.a.subtract(c,g,g),R.a.normalize(g,g);var _=R.a.magnitude(l),v=R.a.dot(u,l),b=Math.acos(v/_),y=R.a.multiplyByScalar(u,v,Tt);R.a.subtract(l,y,y),R.a.normalize(y,y);var O=Math.acos(R.a.dot(g,h));R.a.dot(g,d)<0&&(O=q.a.TWO_PI-O);var w=Math.acos(R.a.dot(y,h));R.a.dot(y,d)<0&&(w=q.a.TWO_PI-w);var E,T=O-w;E=R.a.equalsEpsilon(u,r.position,q.a.EPSILON2)?r.right:R.a.cross(u,r.position,wt);var A,C=R.a.cross(u,E,wt),S=R.a.dot(C,R.a.subtract(c,u,xt)),j=R.a.dot(C,R.a.subtract(l,u,xt));A=S>0&&j>0?b-m:S>0&&j<=0?R.a.dot(r.position,u)>0?-m-b:m+b:m-b,r.rotateRight(T),r.rotateUp(A)}else{R.a.normalize(c,c),R.a.normalize(l,l);var P=R.a.dot(c,l),D=R.a.cross(c,l,wt);if(P<1&&!R.a.equalsEpsilon(D,R.a.ZERO,q.a.EPSILON14)){var M=Math.acos(P);r.rotate(D,M)}}}function T(e,t,i){Object(F.a)(i.distance)&&(i=i.distance);var n=e._ellipsoid,a=e._scene,r=a.camera,o=a.canvas,s=st;s.x=o.clientWidth/2,s.y=o.clientHeight/2;var l,u=r.getPickRay(s,ct),h=n.cartesianToCartographic(r.position,jt).height;h<e._minimumPickingTerrainHeight&&(l=p(e,s,lt));var d;d=Object(F.a)(l)?R.a.distance(u.origin,l):h;var f=R.a.normalize(r.position,St);c(e,t,i,e._zoomFactor,d,R.a.dot(f,r.direction))}function A(e,t,i){var n=e._scene,a=n.camera;if(G.a.equals(a.transform,G.a.IDENTITY)){if(Object(F.a)(i.angleAndHeight)&&(i=i.angleAndHeight),I.a.equals(t,e._tiltCenterMousePosition)||(e._tiltOnEllipsoid=!1,e._looking=!1),e._looking){return void j(e,t,i,e._ellipsoid.geodeticSurfaceNormal(a.position,kt))}var r=e._ellipsoid,o=r.cartesianToCartographic(a.position,Bt);e._tiltOnEllipsoid||o.height>e._minimumCollisionTerrainHeight?(e._tiltOnEllipsoid=!0,C(e,t,i)):S(e,t,i)}}function C(e,t,i){var n=e._ellipsoid,a=e._scene,r=a.camera,o=.25*e.minimumZoomDistance,s=n.cartesianToCartographic(r.positionWC,Ut).height;if(!(s-o-1<q.a.EPSILON3&&i.endPosition.y-i.startPosition.y<0)){var c=a.canvas,l=Pt;l.x=c.clientWidth/2,l.y=c.clientHeight/2;var u,h=r.getPickRay(l,Dt),d=V.a.rayEllipsoid(h,n);if(Object(F.a)(d))u=J.a.getPoint(h,d.start,It);else{if(!(s>e._minimumTrackBallHeight)){e._looking=!0;return j(e,t,i,e._ellipsoid.geodeticSurfaceNormal(r.position,kt)),void I.a.clone(t,e._tiltCenterMousePosition)}var f=V.a.grazingAltitudeLocation(h,n);if(!Object(F.a)(f))return;var p=n.cartesianToCartographic(f,Bt);p.height=0,u=n.cartographicToCartesian(p,It)}var m=Z.a.eastNorthUpToFixedFrame(u,n,Mt),g=e._globe,_=e._ellipsoid;e._globe=void 0,e._ellipsoid=k.a.UNIT_SPHERE,e._rotateFactor=1,e._rotateRateRangeAdjustment=1;var v=G.a.clone(r.transform,Nt);r._setTransform(m),x(e,t,i,R.a.UNIT_Z),r._setTransform(v),e._globe=g,e._ellipsoid=_;var b=_.maximumRadius;e._rotateFactor=1/b,e._rotateRateRangeAdjustment=b}}function S(e,t,i){var n,a,r,o=e._ellipsoid,s=e._scene,c=s.camera;if(I.a.equals(t,e._tiltCenterMousePosition))n=R.a.clone(e._tiltCenter,It);else{if(n=p(e,t,It),!Object(F.a)(n)){if(a=c.getPickRay(t,Dt),r=V.a.rayEllipsoid(a,o),!Object(F.a)(r)){if(o.cartesianToCartographic(c.position,Bt).height<=e._minimumTrackBallHeight){e._looking=!0;j(e,t,i,e._ellipsoid.geodeticSurfaceNormal(c.position,kt)),I.a.clone(t,e._tiltCenterMousePosition)}return}n=J.a.getPoint(a,r.start,It)}I.a.clone(t,e._tiltCenterMousePosition),R.a.clone(n,e._tiltCenter)}var l=s.canvas,u=Pt;u.x=l.clientWidth/2,u.y=e._tiltCenterMousePosition.y,a=c.getPickRay(u,Dt);var h=R.a.magnitude(n),d=R.a.fromElements(h,h,h,_t),f=k.a.fromCartesian3(d,vt);if(r=V.a.rayEllipsoid(a,f),Object(F.a)(r)){var m=R.a.magnitude(a.origin)>h?r.start:r.stop,g=J.a.getPoint(a,m,Rt),_=Z.a.eastNorthUpToFixedFrame(n,o,Mt),v=Z.a.eastNorthUpToFixedFrame(g,f,Lt),b=e._globe,y=e._ellipsoid;e._globe=void 0,e._ellipsoid=k.a.UNIT_SPHERE,e._rotateFactor=1,e._rotateRateRangeAdjustment=1;var O=R.a.UNIT_Z,w=G.a.clone(c.transform,Nt);c._setTransform(_);var E=R.a.cross(g,c.positionWC,ot),T=R.a.dot(c.rightWC,E);if(x(e,t,i,O,!1,!0),c._setTransform(v),T<0){i.startPosition.y>i.endPosition.y&&(O=void 0);var A=c.constrainedAxis;c.constrainedAxis=void 0,x(e,t,i,O,!0,!1),c.constrainedAxis=A}else x(e,t,i,O,!0,!1);if(Object(F.a)(c.constrainedAxis)){var C=R.a.cross(c.direction,c.constrainedAxis,ot);R.a.equalsEpsilon(C,R.a.ZERO,q.a.EPSILON6)||(R.a.dot(C,c.right)<0&&R.a.negate(C,C),R.a.cross(C,c.direction,c.up),R.a.cross(c.direction,c.up,c.right),R.a.normalize(c.up,c.up),R.a.normalize(c.right,c.right))}c._setTransform(w),e._globe=b,e._ellipsoid=y;var S=y.maximumRadius;e._rotateFactor=1/S,e._rotateRateRangeAdjustment=S;var P=R.a.clone(c.positionWC,ot);if(e.enableCollisionDetection&&D(e),!R.a.equals(c.positionWC,P)){c._setTransform(v),c.worldToCameraCoordinatesPoint(P,P);var M=R.a.magnitudeSquared(P);R.a.magnitudeSquared(c.position)>M&&(R.a.normalize(c.position,c.position),R.a.multiplyByScalar(c.position,Math.sqrt(M),c.position));var L=R.a.angleBetween(P,c.position),N=R.a.cross(P,c.position,P);R.a.normalize(N,N);var z=Q.a.fromAxisAngle(N,L,Ft),B=W.a.fromQuaternion(z,zt);W.a.multiplyByVector(B,c.direction,c.direction),W.a.multiplyByVector(B,c.up,c.up),R.a.cross(c.direction,c.up,c.right),R.a.cross(c.right,c.direction,c.up),c._setTransform(w)}}}function j(e,t,i,n){var a=e._scene,r=a.camera,o=Vt;o.x=i.startPosition.x,o.y=0;var s=Ht;s.x=i.endPosition.x,s.y=0;var c,l,u=r.getPickRay(o,qt),h=r.getPickRay(s,Wt),d=0;r.frustum instanceof Y.a?(c=u.origin,l=h.origin,R.a.add(r.direction,c,c),R.a.add(r.direction,l,l),R.a.subtract(c,r.position,c),R.a.subtract(l,r.position,l),R.a.normalize(c,c),R.a.normalize(l,l)):(c=u.direction,l=h.direction);var f=R.a.dot(c,l);f<1&&(d=Math.acos(f)),d=i.startPosition.x>i.endPosition.x?-d:d;var p=e._horizontalRotationAxis;if(Object(F.a)(n)?r.look(n,-d):Object(F.a)(p)?r.look(p,-d):r.lookLeft(d),o.x=0,o.y=i.startPosition.y,s.x=0,s.y=i.endPosition.y,u=r.getPickRay(o,qt),h=r.getPickRay(s,Wt),d=0,r.frustum instanceof Y.a?(c=u.origin,l=h.origin,R.a.add(r.direction,c,c),R.a.add(r.direction,l,l),R.a.subtract(c,r.position,c),R.a.subtract(l,r.position,l),R.a.normalize(c,c),R.a.normalize(l,l)):(c=u.direction,l=h.direction),f=R.a.dot(c,l),f<1&&(d=Math.acos(f)),d=i.startPosition.y>i.endPosition.y?-d:d,n=Object(N.a)(n,p),Object(F.a)(n)){var m=r.direction,g=R.a.negate(n,Gt),_=R.a.equalsEpsilon(m,n,q.a.EPSILON2),v=R.a.equalsEpsilon(m,g,q.a.EPSILON2);if(_||v)(_&&d<0||v&&d>0)&&r.look(r.right,-d);else{f=R.a.dot(m,n);var b=q.a.acosClamped(f);d>0&&d>b&&(d=b-q.a.EPSILON4),f=R.a.dot(m,g),b=q.a.acosClamped(f),d<0&&-d>b&&(d=-b+q.a.EPSILON4);var y=R.a.cross(n,m,Yt);r.look(y,d)}}else r.lookUp(d)}function P(e){s(e,e.enableRotate,e.rotateEventTypes,w,e.inertiaSpin,"_lastInertiaSpinMovement"),s(e,e.enableZoom,e.zoomEventTypes,T,e.inertiaZoom,"_lastInertiaZoomMovement"),s(e,e.enableTilt,e.tiltEventTypes,A,e.inertiaSpin,"_lastInertiaTiltMovement"),s(e,e.enableLook,e.lookEventTypes,j)}function D(e){e._adjustedHeightForTerrain=!0;var t=e._scene,i=t.mode,n=t.globe;if(Object(F.a)(n)&&i!==te.a.SCENE2D&&i!==te.a.MORPHING){var a,r,o=t.camera,s=n.ellipsoid,c=t.mapProjection;G.a.equals(o.transform,G.a.IDENTITY)||(a=G.a.clone(o.transform,Xt),r=R.a.magnitude(o.position),o._setTransform(G.a.IDENTITY));var l=Qt;i===te.a.SCENE3D?s.cartesianToCartographic(o.position,l):c.unproject(o.position,l);var u=!1;if(l.height<e._minimumCollisionTerrainHeight){var h=n.getHeight(l);Object(F.a)(h)&&(h+=e.minimumZoomDistance,l.height<h&&(l.height=h,i===te.a.SCENE3D?s.cartographicToCartesian(l,o.position):c.project(l,o.position),u=!0))}Object(F.a)(a)&&(o._setTransform(a),u&&(R.a.normalize(o.position,o.position),R.a.negate(o.position,o.direction),R.a.multiplyByScalar(o.position,Math.max(r,e.minimumZoomDistance),o.position),R.a.normalize(o.direction,o.direction),R.a.cross(o.direction,o.up,o.right),R.a.cross(o.right,o.direction,o.up)))}}var I=i("Ss9j"),R=i("Jj+J"),M=i("PDkd"),L=i("I3GD"),N=i("5A4e"),F=i("xC6Q"),z=i("6sr8"),B=i("PzDm"),k=i("y6fO"),U=i("72xV"),V=i("Myjj"),H=i("j94w"),q=i("fq+p"),W=i("i3sv"),G=i("Xjii"),Y=i("ku5u"),X=i("kRxM"),Q=i("q/xW"),J=i("/++d"),Z=i("g/FO"),K=i("YnUm"),$=i("aApw"),ee=i("6Euq"),te=i("sotJ"),ie=i("D2nr"),ne=i("oQwc"),ae=.4,re=[],oe=new J.a,se=new R.a,ce=new I.a,le=new R.a,ue=new I.a,he=new R.a,de=new R.a,fe=new R.a,pe=new R.a,me=new R.a,ge=new R.a,_e=new R.a,ve=new R.a,be=new R.a,ye=new R.a,Oe=new R.a,we=new R.a,xe=new R.a,Ee=new R.a,Te=new R.a,Ae=new R.a,Ce=new R.a,Se=new R.a,je={orientation:new U.a},Pe=new J.a,De=new J.a,Ie=new R.a,Re=new I.a,Me=new I.a,Le=new J.a,Ne=new R.a,Fe=new R.a,ze=new J.a,Be=new J.a,ke=new R.a,Ue=new R.a,Ve=new R.a,He=new R.a,qe=new X.a(R.a.UNIT_X,0),We=new I.a,Ge=new I.a,Ye=new I.a,Xe=new J.a,Qe=new R.a,Je=new R.a,Ze=new G.a,Ke=new G.a,$e=new R.a,et=new X.a(R.a.UNIT_X,0),tt=new R.a,it=new L.a,nt=new G.a,at=new Q.a,rt=new W.a,ot=new R.a,st=new I.a,ct=new J.a,lt=new R.a,ut=new J.a,ht=new X.a(R.a.UNIT_X,0),dt=new R.a,ft=new R.a,pt=new R.a,mt=new R.a,gt=new L.a,_t=new R.a,vt=new k.a,bt=new R.a,yt=M.a.clone(M.a.UNIT_W),Ot=M.a.clone(M.a.UNIT_W),wt=new R.a,xt=new R.a,Et=new R.a,Tt=new R.a,At=new I.a,Ct=new I.a,St=new R.a,jt=new L.a,Pt=new I.a,Dt=new J.a,It=new R.a,Rt=new R.a,Mt=new G.a,Lt=new G.a,Nt=new G.a,Ft=new Q.a,zt=new W.a,Bt=new L.a,kt=new R.a,Ut=new L.a,Vt=new I.a,Ht=new I.a,qt=new J.a,Wt=new J.a,Gt=new R.a,Yt=new R.a,Xt=new G.a,Qt=new L.a,Jt=new R.a,Zt=new R.a;n.prototype.update=function(){var e=this._scene.camera;G.a.equals(e.transform,G.a.IDENTITY)?(this._globe=this._scene.globe,this._ellipsoid=Object(F.a)(this._globe)?this._globe.ellipsoid:this._scene.mapProjection.ellipsoid):(this._globe=void 0,this._ellipsoid=k.a.UNIT_SPHERE),this._minimumCollisionTerrainHeight=this.minimumCollisionTerrainHeight*this._scene.terrainExaggeration,this._minimumPickingTerrainHeight=this.minimumPickingTerrainHeight*this._scene.terrainExaggeration,this._minimumTrackBallHeight=this.minimumTrackBallHeight*this._scene.terrainExaggeration;var t=this._ellipsoid.maximumRadius;this._rotateFactor=1/t,this._rotateRateRangeAdjustment=t,this._adjustedHeightForTerrain=!1;var i=R.a.clone(e.positionWC,Jt),n=R.a.clone(e.directionWC,Zt),a=this._scene,r=a.mode;if(r===te.a.SCENE2D?f(this):r===te.a.COLUMBUS_VIEW?(this._horizontalRotationAxis=R.a.UNIT_Z,y(this)):r===te.a.SCENE3D&&(this._horizontalRotationAxis=void 0,P(this)),this.enableCollisionDetection&&!this._adjustedHeightForTerrain){(!R.a.equals(i,e.positionWC)||!R.a.equals(n,e.directionWC))&&D(this)}this._aggregator.reset()},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._tweens.removeAll(),this._aggregator=this._aggregator&&this._aggregator.destroy(),Object(z.a)(this)},t.a=n},lubo:function(e,t,i){"use strict";function n(e,t){if(!Object(r.a)(e))throw new s.a("scene is required.");this._scene=e;var i=this,n=function(e,t,n,a){i.sceneMode=n,i.dropDownVisible=!1};this._eventHelper=new c.a,this._eventHelper.add(e.morphStart,n),this._duration=Object(a.a)(t,2),this.sceneMode=e.mode,this.dropDownVisible=!1,this.tooltip2D="2D",this.tooltip3D="3D",this.tooltipColumbusView="Columbus View",u.a.track(this,["sceneMode","dropDownVisible","tooltip2D","tooltip3D","tooltipColumbusView"]),this.selectedTooltip=void 0,u.a.defineProperty(this,"selectedTooltip",function(){var e=i.sceneMode;return e===l.a.SCENE2D?i.tooltip2D:e===l.a.SCENE3D?i.tooltip3D:i.tooltipColumbusView}),this._toggleDropDown=Object(h.a)(function(){i.dropDownVisible=!i.dropDownVisible}),this._morphTo2D=Object(h.a)(function(){e.morphTo2D(i._duration)}),this._morphTo3D=Object(h.a)(function(){e.morphTo3D(i._duration)}),this._morphToColumbusView=Object(h.a)(function(){e.morphToColumbusView(i._duration)}),this._sceneMode=l.a}var a=i("5A4e"),r=i("xC6Q"),o=i("6sr8"),s=i("PzDm"),c=i("HMO3"),l=i("sotJ"),u=i("PKIF"),h=i("E9RU");Object.defineProperties(n.prototype,{scene:{get:function(){return this._scene}},duration:{get:function(){return this._duration},set:function(e){if(e<0)throw new s.a("duration value must be positive.");this._duration=e}},toggleDropDown:{get:function(){return this._toggleDropDown}},morphTo2D:{get:function(){return this._morphTo2D}},morphTo3D:{get:function(){return this._morphTo3D}},morphToColumbusView:{get:function(){return this._morphToColumbusView}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){this._eventHelper.removeAll(),Object(o.a)(this)},t.a=n},lwv5:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._leadTime=void 0,this._leadTimeSubscription=void 0,this._trailTime=void 0,this._trailTimeSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._resolution=void 0,this._resolutionSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("6ktF"),l=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l.a)("show"),leadTime:Object(l.a)("leadTime"),trailTime:Object(l.a)("trailTime"),width:Object(l.a)("width"),resolution:Object(l.a)("resolution"),material:Object(c.a)("material"),distanceDisplayCondition:Object(l.a)("distanceDisplayCondition")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.leadTime=this.leadTime,e.trailTime=this.trailTime,e.width=this.width,e.resolution=this.resolution,e.material=this.material,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.leadTime=Object(a.a)(this.leadTime,e.leadTime),this.trailTime=Object(a.a)(this.trailTime,e.trailTime),this.width=Object(a.a)(this.width,e.width),this.resolution=Object(a.a)(this.resolution,e.resolution),this.material=Object(a.a)(this.material,e.material),this.distanceDisplayCondition=Object(a.a)(this.distanceDisplayCondition,e.distanceDisplayCondition)},t.a=n},m28O:function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT);var t=e.attributeName,i=e.perInstanceAttribute;if(!Object(r.a)(t))throw new o.a("options.attributeName is required.");Object(r.a)(i)||(i=!1);var n,c=Object(a.a)(e.glslDatatype,"vec3"),l="v_"+t;if("normal"===t||"tangent"===t||"bitangent"===t)n="vec4 getColor() { return vec4(("+l+" + vec3(1.0)) * 0.5, 1.0); }\n";else switch("st"===t&&(c="vec2"),c){case"float":n="vec4 getColor() { return vec4(vec3("+l+"), 1.0); }\n";break;case"vec2":n="vec4 getColor() { return vec4("+l+", 0.0, 1.0); }\n";break;case"vec3":n="vec4 getColor() { return vec4("+l+", 1.0); }\n";break;case"vec4":n="vec4 getColor() { return "+l+"; }\n";break;default:throw new o.a("options.glslDatatype must be float, vec2, vec3, or vec4.")}var u="attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute float batchId;\n"+(i?"":"attribute "+c+" "+t+";\n")+"varying "+c+" "+l+";\nvoid main()\n{\nvec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n"+(i?l+" = czm_batchTable_"+t+"(batchId);\n":l+" = "+t+";\n")+"gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}",h="varying "+c+" "+l+";\n"+n+"\nvoid main()\n{\ngl_FragColor = getColor();\n}";this.material=void 0,this.translucent=Object(a.a)(e.translucent,!1),this._vertexShaderSource=Object(a.a)(e.vertexShaderSource,u),this._fragmentShaderSource=Object(a.a)(e.fragmentShaderSource,h),this._renderState=s.a.getDefaultRenderState(!1,!1,e.renderState),this._closed=Object(a.a)(e.closed,!1),this._attributeName=t,this._glslDatatype=c}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("fSWn");Object.defineProperties(n.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},attributeName:{get:function(){return this._attributeName}},glslDatatype:{get:function(){return this._glslDatatype}}}),n.prototype.getFragmentShaderSource=s.a.prototype.getFragmentShaderSource,n.prototype.isTranslucent=s.a.prototype.isTranslucent,n.prototype.getRenderState=s.a.prototype.getRenderState},mDWl:function(e,t,i){"use strict";t.a="uniform vec4 lightColor;\nuniform vec4 darkColor;\nuniform vec2 repeat;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 st = materialInput.st;\n\n    // From Stefan Gustavson's Procedural Textures in GLSL in OpenGL Insights\n    float b = mod(floor(repeat.s * st.s) + floor(repeat.t * st.t), 2.0);  // 0.0 or 1.0\n\n    // Find the distance from the closest separator (region between two colors)\n    float scaledWidth = fract(repeat.s * st.s);\n    scaledWidth = abs(scaledWidth - floor(scaledWidth + 0.5));\n    float scaledHeight = fract(repeat.t * st.t);\n    scaledHeight = abs(scaledHeight - floor(scaledHeight + 0.5));\n    float value = min(scaledWidth, scaledHeight);\n\n    vec4 currentColor = mix(lightColor, darkColor, b);\n    vec4 color = czm_antialias(lightColor, darkColor, currentColor, value, 0.03);\n\n    color = czm_gammaCorrect(color);\n    material.diffuse = color.rgb;\n    material.alpha = color.a;\n\n    return material;\n}\n"},mEEk:function(e,t,i){"use strict";function n(e,t,i){var n,a=e.length,r=i.length,o=a+r;if(e.length=o,a!==t){var s=a-1;for(n=o-1;n>=t;n--)e[n]=e[s--]}for(n=0;n<r;n++)e[t++]=i[n]}function a(e,t){return e instanceof m.a?e:"string"==typeof e?m.a.fromIso8601(e):m.a.addSeconds(t,e,new m.a)}function r(e,t,i,r,o){for(var s,l,u,d,f,p,g=0;g<r.length;){f=a(r[g],e),u=Object(c.a)(t,f,m.a.compare);var _=0,y=0;if(u<0){for(u=~u,d=u*o,l=void 0,p=t[u];g<r.length&&(f=a(r[g],e),!(Object(h.a)(l)&&m.a.compare(l,f)>=0||Object(h.a)(p)&&m.a.compare(f,p)>=0));){for(v[_++]=f,g+=1,s=0;s<o;s++)b[y++]=r[g],g+=1;l=f}_>0&&(b.length=y,n(i,d,b),v.length=_,n(t,u,v))}else{for(s=0;s<o;s++)g++,i[u*o+s]=r[g];g++}}}function o(e,t){l.a.defined("type",e);var i=e;i===Number&&(i=_);var n,a=i.packedLength,r=Object(u.a)(i.packedInterpolationLength,a),o=0;if(Object(h.a)(t)){var s=t.length;n=new Array(s);for(var c=0;c<s;c++){var d=t[c];d===Number&&(d=_);var m=d.packedLength;a+=m,r+=Object(u.a)(d.packedInterpolationLength,m),n[c]=d}o=s}this._type=e,this._innerType=i,this._interpolationDegree=1,this._interpolationAlgorithm=g.a,this._numberOfPoints=0,this._times=[],this._values=[],this._xTable=[],this._yTable=[],this._packedLength=a,this._packedInterpolationLength=r,this._updateTableLength=!0,this._interpolationResult=new Array(r),this._definitionChanged=new f.a,this._derivativeTypes=t,this._innerDerivativeTypes=n,this._inputOrder=o,this._forwardExtrapolationType=p.a.NONE,this._forwardExtrapolationDuration=0,this._backwardExtrapolationType=p.a.NONE,this._backwardExtrapolationDuration=0}function s(e,t,i){var n=e._packedLength;e._times.splice(t,i),e._values.splice(t*n,i*n),e._updateTableLength=!0,e._definitionChanged.raiseEvent(e)}var c=i("KPbu"),l=i("5F4X"),u=i("5A4e"),h=i("xC6Q"),d=i("PzDm"),f=i("W6xh"),p=i("F6/P"),m=i("9Uqs"),g=i("8EHP"),_={packedLength:1,pack:function(e,t,i){i=Object(u.a)(i,0),t[i]=e},unpack:function(e,t,i){return t=Object(u.a)(t,0),e[t]}},v=[],b=[];Object.defineProperties(o.prototype,{isConstant:{get:function(){return 0===this._values.length}},definitionChanged:{get:function(){return this._definitionChanged}},type:{get:function(){return this._type}},derivativeTypes:{get:function(){return this._derivativeTypes}},interpolationDegree:{get:function(){return this._interpolationDegree}},interpolationAlgorithm:{get:function(){return this._interpolationAlgorithm}},forwardExtrapolationType:{get:function(){return this._forwardExtrapolationType},set:function(e){this._forwardExtrapolationType!==e&&(this._forwardExtrapolationType=e,this._definitionChanged.raiseEvent(this))}},forwardExtrapolationDuration:{get:function(){return this._forwardExtrapolationDuration},set:function(e){this._forwardExtrapolationDuration!==e&&(this._forwardExtrapolationDuration=e,this._definitionChanged.raiseEvent(this))}},backwardExtrapolationType:{get:function(){return this._backwardExtrapolationType},set:function(e){this._backwardExtrapolationType!==e&&(this._backwardExtrapolationType=e,this._definitionChanged.raiseEvent(this))}},backwardExtrapolationDuration:{get:function(){return this._backwardExtrapolationDuration},set:function(e){this._backwardExtrapolationDuration!==e&&(this._backwardExtrapolationDuration=e,this._definitionChanged.raiseEvent(this))}}}),o.prototype.getValue=function(e,t){l.a.defined("time",e);var i=this._times,n=i.length;if(0!==n){var a,r=this._innerType,o=this._values,s=Object(c.a)(i,e,m.a.compare);if(s<0){if(0===(s=~s)){var u=i[s];if(a=this._backwardExtrapolationDuration,this._backwardExtrapolationType===p.a.NONE||0!==a&&m.a.secondsDifference(u,e)>a)return;if(this._backwardExtrapolationType===p.a.HOLD)return r.unpack(o,0,t)}if(s>=n){s=n-1;var d=i[s];if(a=this._forwardExtrapolationDuration,this._forwardExtrapolationType===p.a.NONE||0!==a&&m.a.secondsDifference(e,d)>a)return;if(this._forwardExtrapolationType===p.a.HOLD)return s=n-1,r.unpack(o,s*r.packedLength,t)}var f=this._xTable,g=this._yTable,_=this._interpolationAlgorithm,v=this._packedInterpolationLength,b=this._inputOrder;if(this._updateTableLength){this._updateTableLength=!1;var y=Math.min(_.getRequiredDataPoints(this._interpolationDegree,b),n);y!==this._numberOfPoints&&(this._numberOfPoints=y,f.length=y,g.length=y*v)}var O=this._numberOfPoints-1;if(O<1)return;var w=0,x=n-1;if(x-w+1>=O+1){var E=s-(O/2|0)-1;E<w&&(E=w);var T=E+O;T>x&&(T=x,(E=T-O)<w&&(E=w)),w=E,x=T}for(var A=x-w+1,C=0;C<A;++C)f[C]=m.a.secondsDifference(i[w+C],i[x]);if(Object(h.a)(r.convertPackedArrayForInterpolation))r.convertPackedArrayForInterpolation(o,w,x,g);else for(var S=0,j=this._packedLength,P=w*j,D=(x+1)*j;P<D;)g[S]=o[P],P++,S++;var I,R=m.a.secondsDifference(e,i[x]);if(0!==b&&Object(h.a)(_.interpolate)){var M=Math.floor(v/(b+1));I=_.interpolate(R,f,g,M,b,b,this._interpolationResult)}else I=_.interpolateOrderZero(R,f,g,v,this._interpolationResult);return Object(h.a)(r.unpackInterpolationResult)?r.unpackInterpolationResult(I,o,w,x,t):r.unpack(I,0,t)}return r.unpack(o,s*this._packedLength,t)}},o.prototype.setInterpolationOptions=function(e){if(Object(h.a)(e)){var t=!1,i=e.interpolationAlgorithm,n=e.interpolationDegree;Object(h.a)(i)&&this._interpolationAlgorithm!==i&&(this._interpolationAlgorithm=i,t=!0),Object(h.a)(n)&&this._interpolationDegree!==n&&(this._interpolationDegree=n,t=!0),t&&(this._updateTableLength=!0,this._definitionChanged.raiseEvent(this))}},o.prototype.addSample=function(e,t,i){var n=this._innerDerivativeTypes,a=Object(h.a)(n);l.a.defined("time",e),l.a.defined("value",t),a&&l.a.defined("derivatives",i);var o=this._innerType,s=[];if(s.push(e),o.pack(t,s,s.length),a)for(var c=n.length,u=0;u<c;u++)n[u].pack(i[u],s,s.length);r(void 0,this._times,this._values,s,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)},o.prototype.addSamples=function(e,t,i){var n=this._innerDerivativeTypes,a=Object(h.a)(n);if(l.a.defined("times",e),l.a.defined("values",t),e.length!==t.length)throw new d.a("times and values must be the same length.");if(a&&(!Object(h.a)(i)||i.length!==e.length))throw new d.a("times and derivativeValues must be the same length.");for(var o=this._innerType,s=e.length,c=[],u=0;u<s;u++)if(c.push(e[u]),o.pack(t[u],c,c.length),a)for(var f=i[u],p=n.length,m=0;m<p;m++)n[m].pack(f[m],c,c.length);r(void 0,this._times,this._values,c,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)},o.prototype.addSamplesPackedArray=function(e,t){l.a.defined("packedSamples",e),r(t,this._times,this._values,e,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)},o.prototype.removeSample=function(e){l.a.defined("time",e);var t=Object(c.a)(this._times,e,m.a.compare);return!(t<0)&&(s(this,t,1),!0)},o.prototype.removeSamples=function(e){l.a.defined("timeInterval",e);var t=this._times,i=Object(c.a)(t,e.start,m.a.compare);i<0?i=~i:e.isStartIncluded||++i;var n=Object(c.a)(t,e.stop,m.a.compare);n<0?n=~n:e.isStopIncluded&&++n,s(this,i,n-i)},o.prototype.equals=function(e){if(this===e)return!0;if(!Object(h.a)(e))return!1;if(this._type!==e._type||this._interpolationDegree!==e._interpolationDegree||this._interpolationAlgorithm!==e._interpolationAlgorithm)return!1;var t=this._derivativeTypes,i=Object(h.a)(t),n=e._derivativeTypes;if(i!==Object(h.a)(n))return!1;var a,r;if(i){if((r=t.length)!==n.length)return!1;for(a=0;a<r;a++)if(t[a]!==n[a])return!1}var o=this._times,s=e._times;if((r=o.length)!==s.length)return!1;for(a=0;a<r;a++)if(!m.a.equals(o[a],s[a]))return!1;var c=this._values,l=e._values;for(a=0;a<r;a++)if(c[a]!==l[a])return!1;return!0},o._mergeNewSamples=r,t.a=o},mFnG:function(e,t,i){"use strict";function n(e,t,i,n){if(o.a.prototype._onEntityPropertyChanged.call(this,e,t,i,n),-1!==this._observedPropertyNames.indexOf(t)){var c=this._entity[this._geometryPropertyName];if(Object(a.a)(c)){Object(a.a)(this._terrainOffsetProperty)&&(this._terrainOffsetProperty.destroy(),this._terrainOffsetProperty=void 0);var l=c.heightReference;if(Object(a.a)(l)){var u=new r.a(this._computeCenter.bind(this),!this._dynamic);this._terrainOffsetProperty=new s.a(this._scene,u,l)}}}}var a=i("xC6Q"),r=i("h3qT"),o=i("rVBE"),s=i("NUUv");t.a=n},mRvb:function(e,t,i){"use strict";var n=i("1L1F"),a={ZERO:n.a.ZERO,ONE:n.a.ONE,SOURCE_COLOR:n.a.SRC_COLOR,ONE_MINUS_SOURCE_COLOR:n.a.ONE_MINUS_SRC_COLOR,DESTINATION_COLOR:n.a.DST_COLOR,ONE_MINUS_DESTINATION_COLOR:n.a.ONE_MINUS_DST_COLOR,SOURCE_ALPHA:n.a.SRC_ALPHA,ONE_MINUS_SOURCE_ALPHA:n.a.ONE_MINUS_SRC_ALPHA,DESTINATION_ALPHA:n.a.DST_ALPHA,ONE_MINUS_DESTINATION_ALPHA:n.a.ONE_MINUS_DST_ALPHA,CONSTANT_COLOR:n.a.CONSTANT_COLOR,ONE_MINUS_CONSTANT_COLOR:n.a.ONE_MINUS_CONSTANT_COLOR,CONSTANT_ALPHA:n.a.CONSTANT_ALPHA,ONE_MINUS_CONSTANT_ALPHA:n.a.ONE_MINUS_CONSTANT_ALPHA,SOURCE_ALPHA_SATURATE:n.a.SRC_ALPHA_SATURATE};t.a=Object.freeze(a)},mUvA:function(e,t,i){"use strict";function n(){o.a.throwInstantiationError()}var a=i("Jj+J"),r=i("xC6Q"),o=i("PzDm"),s=i("i3sv"),c=i("IDfv"),l=i("g/FO");Object.defineProperties(n.prototype,{isConstant:{get:o.a.throwInstantiationError},definitionChanged:{get:o.a.throwInstantiationError},referenceFrame:{get:o.a.throwInstantiationError}}),n.prototype.getValue=o.a.throwInstantiationError,n.prototype.getValueInReferenceFrame=o.a.throwInstantiationError,n.prototype.equals=o.a.throwInstantiationError;var u=new s.a;n.convertToReferenceFrame=function(e,t,i,n,o){if(!Object(r.a)(t))return t;if(Object(r.a)(o)||(o=new a.a),i===n)return a.a.clone(t,o);var h=l.a.computeIcrfToFixedMatrix(e,u);return Object(r.a)(h)||(h=l.a.computeTemeToPseudoFixedMatrix(e,u)),i===c.a.INERTIAL?s.a.multiplyByVector(h,t,o):i===c.a.FIXED?s.a.multiplyByVector(s.a.transpose(h,u),t,o):void 0},t.a=n},mbU0:function(e,t,i){(function(e,n,a){var r=i("ZqVu"),o=i("LC74"),s=i("cSWu"),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=t.IncomingMessage=function(t,i,o,c){function l(){d.read().then(function(e){if(!u._destroyed){if(e.done)return a.clearTimeout(c),void u.push(null);u.push(new n(e.value)),l()}}).catch(function(e){a.clearTimeout(c),u._destroyed||u.emit("error",e)})}var u=this;if(s.Readable.call(u),u._mode=o,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){e.nextTick(function(){u.emit("close")})}),"fetch"===o){if(u._fetchResponse=i,u.url=i.url,u.statusCode=i.status,u.statusMessage=i.statusText,i.headers.forEach(function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)}),r.writableStream){var h=new WritableStream({write:function(e){return new Promise(function(t,i){u._destroyed?i():u.push(new n(e))?t():u._resumeFetch=t})},close:function(){a.clearTimeout(c),u._destroyed||u.push(null)},abort:function(e){u._destroyed||u.emit("error",e)}});try{return void i.body.pipeTo(h).catch(function(e){a.clearTimeout(c),u._destroyed||u.emit("error",e)})}catch(e){}}var d=i.body.getReader();l()}else{u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText;if(t.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var i=t[1].toLowerCase();"set-cookie"===i?(void 0===u.headers[i]&&(u.headers[i]=[]),u.headers[i].push(t[2])):void 0!==u.headers[i]?u.headers[i]+=", "+t[2]:u.headers[i]=t[2],u.rawHeaders.push(t[1],t[2])}}),u._charset="x-user-defined",!r.overrideMimeType){var f=u.rawHeaders["mime-type"];if(f){var p=f.match(/;\s*charset=([^;])(;|$)/);p&&(u._charset=p[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};o(l,s.Readable),l.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())},l.prototype._onXHRProgress=function(){var e=this,t=e._xhr,i=null;switch(e._mode){case"text:vbarray":if(t.readyState!==c.DONE)break;try{i=new a.VBArray(t.responseBody).toArray()}catch(e){}if(null!==i){e.push(new n(i));break}case"text":try{i=t.responseText}catch(t){e._mode="text:vbarray";break}if(i.length>e._pos){var r=i.substr(e._pos);if("x-user-defined"===e._charset){for(var o=new n(r.length),s=0;s<r.length;s++)o[s]=255&r.charCodeAt(s);e.push(o)}else e.push(r,e._charset);e._pos=i.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;i=t.response,e.push(new n(new Uint8Array(i)));break;case"moz-chunked-arraybuffer":if(i=t.response,t.readyState!==c.LOADING||!i)break;e.push(new n(new Uint8Array(i)));break;case"ms-stream":if(i=t.response,t.readyState!==c.LOADING)break;var l=new a.MSStreamReader;l.onprogress=function(){l.result.byteLength>e._pos&&(e.push(new n(new Uint8Array(l.result.slice(e._pos)))),e._pos=l.result.byteLength)},l.onload=function(){e.push(null)},l.readAsArrayBuffer(i)}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(t,i("W2nU"),i("EuP9").Buffer,i("DuR2"))},mft1:function(e,t,i){"use strict";function n(e){return e=Object(r.a)(e,r.a.EMPTY_OBJECT),new a.a({url:o.a.fromAssetId(1),requestVertexNormals:Object(r.a)(e.requestVertexNormals,!1),requestWaterMask:Object(r.a)(e.requestWaterMask,!1)})}var a=i("1+jh"),r=i("5A4e"),o=i("PTtG");t.a=n},miaP:function(e,t,i){"use strict";var n={TICK_DEPENDENT:0,SYSTEM_CLOCK_MULTIPLIER:1,SYSTEM_CLOCK:2};t.a=Object.freeze(n)},mnnV:function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\nuniform sampler2D dirtTexture;\nuniform sampler2D starTexture;\nuniform vec2 dirtTextureDimensions;\nuniform float distortion;\nuniform float ghostDispersal;\nuniform float haloWidth;\nuniform float dirtAmount;\nuniform float earthRadius;\nuniform float intensity;\n\nvarying vec2 v_textureCoordinates;\n\n// whether it is in space or not\n// 6500000.0 is empirical value\n#define DISTANCE_TO_SPACE 6500000.0\n\n// return ndc from world coordinate biased earthRadius\nvec4 getNDCFromWC(vec3 WC, float earthRadius)\n{\n    vec4 positionEC = czm_view * vec4(WC, 1.0);\n    positionEC = vec4(positionEC.x + earthRadius, positionEC.y, positionEC.z, 1.0);\n    vec4 positionWC = czm_eyeToWindowCoordinates(positionEC);\n    return czm_viewportOrthographic * vec4(positionWC.xy, -positionWC.z, 1.0);\n}\n\n// Check if current pixel is included Earth\n// if then mask it gradually\nfloat isInEarth(vec2 texcoord, vec2 sceneSize)\n{\n    vec2 NDC = texcoord * 2.0 - 1.0;\n    vec4 earthPosSC = getNDCFromWC(vec3(0.0), 0.0);\n    vec4 earthPosSCEdge = getNDCFromWC(vec3(0.0), earthRadius * 1.5);\n    NDC.xy -= earthPosSC.xy;\n\n    float X = abs(NDC.x) * sceneSize.x;\n    float Y = abs(NDC.y) * sceneSize.y;\n\n    return clamp(0.0, 1.0, max(sqrt(X * X + Y * Y) / max(abs(earthPosSCEdge.x * sceneSize.x), 1.0) - 0.8 , 0.0));\n}\n\n// For Chromatic effect\nvec4 textureDistorted(sampler2D tex, vec2 texcoord, vec2 direction, vec3 distortion, bool isSpace)\n{\n    vec2 sceneSize = czm_viewport.zw;\n    vec3 color;\n    if(isSpace)\n    {\n        color.r = isInEarth(texcoord + direction * distortion.r, sceneSize) * texture2D(tex, texcoord + direction * distortion.r).r;\n        color.g = isInEarth(texcoord + direction * distortion.g, sceneSize) * texture2D(tex, texcoord + direction * distortion.g).g;\n        color.b = isInEarth(texcoord + direction * distortion.b, sceneSize) * texture2D(tex, texcoord + direction * distortion.b).b;\n    }\n    else\n    {\n        color.r = texture2D(tex, texcoord + direction * distortion.r).r;\n        color.g = texture2D(tex, texcoord + direction * distortion.g).g;\n        color.b = texture2D(tex, texcoord + direction * distortion.b).b;\n    }\n    return vec4(clamp(color, 0.0, 1.0), 0.0);\n}\n\nvoid main(void)\n{\n    vec4 originalColor = texture2D(colorTexture, v_textureCoordinates);\n    vec3 rgb = originalColor.rgb;\n    bool isSpace = length(czm_viewerPositionWC.xyz) > DISTANCE_TO_SPACE;\n\n    // Sun position\n    vec4 sunPos = czm_morphTime == 1.0 ? vec4(czm_sunPositionWC, 1.0) : vec4(czm_sunPositionColumbusView.zxy, 1.0);\n    vec4 sunPositionEC = czm_view * sunPos;\n    vec4 sunPositionWC = czm_eyeToWindowCoordinates(sunPositionEC);\n    sunPos = czm_viewportOrthographic * vec4(sunPositionWC.xy, -sunPositionWC.z, 1.0);\n\n    // If sun is not in the screen space, use original color.\n    if(!isSpace || !((sunPos.x >= -1.1 && sunPos.x <= 1.1) && (sunPos.y >= -1.1 && sunPos.y <= 1.1)))\n    {\n        // Lens flare is disabled when not in space until #5932 is fixed.\n        //    https://github.com/CesiumGS/cesium/issues/5932\n        gl_FragColor = originalColor;\n        return;\n    }\n\n    vec2 texcoord = vec2(1.0) - v_textureCoordinates;\n    vec2 pixelSize = czm_pixelRatio / czm_viewport.zw;\n    vec2 invPixelSize = 1.0 / pixelSize;\n    vec3 distortionVec = pixelSize.x * vec3(-distortion, 0.0, distortion);\n\n    // ghost vector to image centre:\n    vec2 ghostVec = (vec2(0.5) - texcoord) * ghostDispersal;\n    vec3 direction = normalize(vec3(ghostVec, 0.0));\n\n    // sample ghosts:\n    vec4 result = vec4(0.0);\n    vec4 ghost = vec4(0.0);\n    for (int i = 0; i < 4; ++i)\n    {\n        vec2 offset = fract(texcoord + ghostVec * float(i));\n        // Only bright spots from the centre of the source image\n        ghost += textureDistorted(colorTexture, offset, direction.xy, distortionVec, isSpace);\n    }\n    result += ghost;\n\n    // sample halo\n    vec2 haloVec = normalize(ghostVec) * haloWidth;\n    float weightForHalo = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\n    weightForHalo = pow(1.0 - weightForHalo, 5.0);\n\n    result += textureDistorted(colorTexture, texcoord + haloVec, direction.xy, distortionVec, isSpace) * weightForHalo * 1.5;\n\n    // dirt on lens\n    vec2 dirtTexCoords = (v_textureCoordinates * invPixelSize) / dirtTextureDimensions;\n    if (dirtTexCoords.x > 1.0)\n    {\n        dirtTexCoords.x = mod(floor(dirtTexCoords.x), 2.0) == 1.0 ? 1.0 - fract(dirtTexCoords.x) :  fract(dirtTexCoords.x);\n    }\n    if (dirtTexCoords.y > 1.0)\n    {\n        dirtTexCoords.y = mod(floor(dirtTexCoords.y), 2.0) == 1.0 ? 1.0 - fract(dirtTexCoords.y) :  fract(dirtTexCoords.y);\n    }\n    result += dirtAmount * texture2D(dirtTexture, dirtTexCoords);\n\n    // Rotating starburst texture's coordinate\n    // dot(czm_view[0].xyz, vec3(0.0, 0.0, 1.0)) + dot(czm_view[1].xyz, vec3(0.0, 1.0, 0.0))\n    float camrot = czm_view[0].z + czm_view[1].y;\n    float cosValue = cos(camrot);\n    float sinValue = sin(camrot);\n    mat3 rotation = mat3(\n        cosValue, -sinValue, 0.0,\n        sinValue, cosValue, 0.0,\n        0.0, 0.0, 1.0\n    );\n\n    vec3 st1 = vec3(v_textureCoordinates * 2.0 - vec2(1.0), 1.0);\n    vec3 st2 = vec3((rotation * st1).xy, 1.0);\n    vec3 st3 = st2 * 0.5 + vec3(0.5);\n    vec2 lensStarTexcoord = st3.xy;\n    float weightForLensFlare = length(vec3(sunPos.xy, 0.0));\n    float oneMinusWeightForLensFlare = max(1.0 - weightForLensFlare, 0.0);\n\n    if (!isSpace)\n    {\n        result *= oneMinusWeightForLensFlare * intensity * 0.2;\n    }\n    else\n    {\n        result *= oneMinusWeightForLensFlare * intensity;\n        result *= texture2D(starTexture, lensStarTexcoord) * pow(weightForLensFlare, 1.0) * max((1.0 - length(vec3(st1.xy, 0.0))), 0.0) * 2.0;\n    }\n\n    result += texture2D(colorTexture, v_textureCoordinates);\n\n    gl_FragColor = result;\n}\n"},mypn:function(e,t,i){(function(e,t){!function(e,i){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return l[c]=n,s(c),c++}function a(e){delete l[e]}function r(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}function o(e){if(u)setTimeout(o,0,e);else{var t=l[e];if(t){u=!0;try{r(t)}finally{a(e),u=!1}}}}if(!e.setImmediate){var s,c=1,l={},u=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){o(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?function(){var t="setImmediate$"+Math.random()+"$",i=function(i){i.source===e&&"string"==typeof i.data&&0===i.data.indexOf(t)&&o(+i.data.slice(t.length))};e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),s=function(i){e.postMessage(t+i,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},s=function(t){e.port2.postMessage(t)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var e=h.documentElement;s=function(t){var i=h.createElement("script");i.onreadystatechange=function(){o(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}}():function(){s=function(e){setTimeout(o,0,e)}}(),d.setImmediate=n,d.clearImmediate=a}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,i("DuR2"),i("W2nU"))},n08a:function(e,t,i){"use strict";var n;n="undefined"!=typeof performance&&"function"==typeof performance.now&&isFinite(performance.now())?function(){return performance.now()}:function(){return Date.now()},t.a=n},n1gM:function(e,t,i){"use strict";t.a="/**\n * Samples the 4 neighboring pixels and return the weighted average.\n *\n * @private\n */\nvec3 czm_sampleOctahedralProjectionWithFiltering(sampler2D projectedMap, vec2 textureSize, vec3 direction, float lod)\n{\n    direction /= dot(vec3(1.0), abs(direction));\n    vec2 rev = abs(direction.zx) - vec2(1.0);\n    vec2 neg = vec2(direction.x < 0.0 ? rev.x : -rev.x,\n                    direction.z < 0.0 ? rev.y : -rev.y);\n    vec2 uv = direction.y < 0.0 ? neg : direction.xz;\n    vec2 coord = 0.5 * uv + vec2(0.5);\n    vec2 pixel = 1.0 / textureSize;\n\n    if (lod > 0.0)\n    {\n        // Each subseqeuent mip level is half the size\n        float scale = 1.0 / pow(2.0, lod);\n        float offset = ((textureSize.y + 1.0) / textureSize.x);\n\n        coord.x *= offset;\n        coord *= scale;\n\n        coord.x += offset + pixel.x;\n        coord.y += (1.0 - (1.0 / pow(2.0, lod - 1.0))) + pixel.y * (lod - 1.0) * 2.0;\n    }\n    else\n    {\n        coord.x *= (textureSize.y / textureSize.x);\n    }\n\n    // Do bilinear filtering\n    #ifndef OES_texture_float_linear\n        vec3 color1 = texture2D(projectedMap, coord + vec2(0.0, pixel.y)).rgb;\n        vec3 color2 = texture2D(projectedMap, coord + vec2(pixel.x, 0.0)).rgb;\n        vec3 color3 = texture2D(projectedMap, coord + pixel).rgb;\n        vec3 color4 = texture2D(projectedMap, coord).rgb;\n\n        vec2 texturePosition = coord * textureSize;\n\n        float fu = fract(texturePosition.x);\n        float fv = fract(texturePosition.y);\n\n        vec3 average1 = mix(color4, color2, fu);\n        vec3 average2 = mix(color1, color3, fu);\n\n        vec3 color = mix(average1, average2, fv);\n    #else\n        vec3 color = texture2D(projectedMap, coord).rgb;\n    #endif\n\n    return color;\n}\n\n\n/**\n * Samples from a cube map that has been projected using an octahedral projection from the given direction.\n *\n * @name czm_sampleOctahedralProjection\n * @glslFunction\n *\n * @param {sampler2D} projectedMap The texture with the octahedral projected cube map.\n * @param {vec2} textureSize The width and height dimensions in pixels of the projected map.\n * @param {vec3} direction The normalized direction used to sample the cube map.\n * @param {float} lod The level of detail to sample.\n * @param {float} maxLod The maximum level of detail.\n * @returns {vec3} The color of the cube map at the direction.\n */\nvec3 czm_sampleOctahedralProjection(sampler2D projectedMap, vec2 textureSize, vec3 direction, float lod, float maxLod) {\n    float currentLod = floor(lod + 0.5);\n    float nextLod = min(currentLod + 1.0, maxLod);\n\n    vec3 colorCurrentLod = czm_sampleOctahedralProjectionWithFiltering(projectedMap, textureSize, direction, currentLod);\n    vec3 colorNextLod = czm_sampleOctahedralProjectionWithFiltering(projectedMap, textureSize, direction, nextLod);\n\n    return mix(colorNextLod, colorCurrentLod, nextLod - lod);\n}\n"},nBeE:function(e,t,i){"use strict";function n(e){if(e=Object(o.a)(e,o.a.EMPTY_OBJECT),!Object(s.a)(e.url))throw new c.a("options.url is required.");var t=g.a.defer();_.a.call(this,t.promise),this._tmsResource=void 0,this._xmlResource=void 0,this._options=e,this._deferred=t,this._metadataError=void 0,this._metadataSuccess=this._metadataSuccess.bind(this),this._metadataFailure=this._metadataFailure.bind(this),this._requestMetadata=this._requestMetadata.bind(this);var i,n=this;Object(g.a)(e.url).then(function(e){i=d.a.createIfNeeded(e),i.appendForwardSlash(),n._tmsResource=i,n._xmlResource=i.getDerivedResource({url:"tilemapresource.xml"}),n._requestMetadata()}).otherwise(function(e){t.reject(e)})}var a=i("Ss9j"),r=i("I3GD"),o=i("5A4e"),s=i("xC6Q"),c=i("PzDm"),l=i("eUIW"),u=i("4MnW"),h=i("Wq1U"),d=i("rMjQ"),f=i("V22k"),p=i("M1To"),m=i("Y4y7"),g=i("S7OP"),_=i("LS2q");Object(s.a)(Object.create)&&(n.prototype=Object.create(_.a.prototype),n.prototype.constructor=n),n.prototype._requestMetadata=function(){this._xmlResource.fetchXML().then(this._metadataSuccess).otherwise(this._metadataFailure)},n.prototype._metadataSuccess=function(e){for(var t,i,n,c=/tileformat/i,d=/tileset/i,g=/tilesets/i,_=/boundingbox/i,v=[],b=this._xmlResource,y=this._metadataError,O=this._deferred,w=this._requestMetadata,x=e.childNodes[0].childNodes,E=0;E<x.length;E++)if(c.test(x.item(E).nodeName))t=x.item(E);else if(g.test(x.item(E).nodeName)){n=x.item(E);for(var T=x.item(E).childNodes,A=0;A<T.length;A++)d.test(T.item(A).nodeName)&&v.push(T.item(A))}else _.test(x.item(E).nodeName)&&(i=x.item(E));var C;if(!Object(s.a)(n)||!Object(s.a)(i))return C="Unable to find expected tilesets or bbox attributes in "+b.url+".",y=p.a.handleError(y,this,this.errorEvent,C,void 0,void 0,void 0,w),y.retry||O.reject(new f.a(C)),void(this._metadataError=y);var S=this._options,j=Object(o.a)(S.fileExtension,t.getAttribute("extension")),P=Object(o.a)(S.tileWidth,parseInt(t.getAttribute("width"),10)),D=Object(o.a)(S.tileHeight,parseInt(t.getAttribute("height"),10)),I=Object(o.a)(S.minimumLevel,parseInt(v[0].getAttribute("order"),10)),R=Object(o.a)(S.maximumLevel,parseInt(v[v.length-1].getAttribute("order"),10)),M=n.getAttribute("profile"),L=S.tilingScheme;if(!Object(s.a)(L))if("geodetic"===M||"global-geodetic"===M)L=new u.a({ellipsoid:S.ellipsoid});else{if("mercator"!==M&&"global-mercator"!==M)return C=b.url+"specifies an unsupported profile attribute, "+M+".",y=p.a.handleError(y,this,this.errorEvent,C,void 0,void 0,void 0,w),y.retry||O.reject(new f.a(C)),void(this._metadataError=y);L=new m.a({ellipsoid:S.ellipsoid})}var N=h.a.clone(S.rectangle);if(!Object(s.a)(N)){var F,z,B,k;Object(o.a)(S.flipXY,!1)?(B=new a.a(parseFloat(i.getAttribute("miny")),parseFloat(i.getAttribute("minx"))),k=new a.a(parseFloat(i.getAttribute("maxy")),parseFloat(i.getAttribute("maxx")))):(B=new a.a(parseFloat(i.getAttribute("minx")),parseFloat(i.getAttribute("miny"))),k=new a.a(parseFloat(i.getAttribute("maxx")),parseFloat(i.getAttribute("maxy"))));var U="geodetic"===M||"mercator"===M;if(L.projection instanceof l.a||U)F=r.a.fromDegrees(B.x,B.y),z=r.a.fromDegrees(k.x,k.y);else{var V=L.projection;F=V.unproject(B),z=V.unproject(k)}N=new h.a(F.longitude,F.latitude,z.longitude,z.latitude)}N.west<L.rectangle.west&&(N.west=L.rectangle.west),N.east>L.rectangle.east&&(N.east=L.rectangle.east),N.south<L.rectangle.south&&(N.south=L.rectangle.south),N.north>L.rectangle.north&&(N.north=L.rectangle.north);var H=L.positionToTileXY(h.a.southwest(N),I),q=L.positionToTileXY(h.a.northeast(N),I);(Math.abs(q.x-H.x)+1)*(Math.abs(q.y-H.y)+1)>4&&(I=0);var W=this._tmsResource.getDerivedResource({url:"{z}/{x}/{reverseY}."+j});O.resolve({url:W,tilingScheme:L,rectangle:N,tileWidth:P,tileHeight:D,minimumLevel:I,maximumLevel:R,tileDiscardPolicy:S.tileDiscardPolicy,credit:S.credit})},n.prototype._metadataFailure=function(e){var t=this._options,i=Object(o.a)(t.fileExtension,"png"),n=Object(o.a)(t.tileWidth,256),a=Object(o.a)(t.tileHeight,256),r=Object(o.a)(t.minimumLevel,0),c=t.maximumLevel,l=Object(s.a)(t.tilingScheme)?t.tilingScheme:new m.a({ellipsoid:t.ellipsoid}),u=Object(o.a)(t.rectangle,l.rectangle),h=this._tmsResource.getDerivedResource({url:"{z}/{x}/{reverseY}."+i});this._deferred.resolve({url:h,tilingScheme:l,rectangle:u,tileWidth:n,tileHeight:a,minimumLevel:r,maximumLevel:c,tileDiscardPolicy:t.tileDiscardPolicy,credit:t.credit})},t.a=n},nErl:function(e,t){(function(t){e.exports=t}).call(t,{})},nFqq:function(e,t,i){(function(e){var n=i("rzLl"),a=i("mbU0"),r=i("q+vg"),o=i("K3Fi"),s=i("UZ5h"),c=t;c.request=function(t,i){t="string"==typeof t?s.parse(t):r(t);var a=-1===e.location.protocol.search(/^https?:$/)?"http:":"",o=t.protocol||a,c=t.hostname||t.host,l=t.port,u=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?o+"//"+c:"")+(l?":"+l:"")+u,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new n(t);return i&&h.on("response",i),h},c.get=function(e,t){var i=c.request(e,t);return i.end(),i},c.ClientRequest=n,c.IncomingMessage=a.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=o,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(t,i("DuR2"))},nHNe:function(e,t,i){"use strict";var n=i("1L1F"),a={POINTS:n.a.POINTS,LINES:n.a.LINES,LINE_LOOP:n.a.LINE_LOOP,LINE_STRIP:n.a.LINE_STRIP,TRIANGLES:n.a.TRIANGLES,TRIANGLE_STRIP:n.a.TRIANGLE_STRIP,TRIANGLE_FAN:n.a.TRIANGLE_FAN,validate:function(e){return e===a.POINTS||e===a.LINES||e===a.LINE_LOOP||e===a.LINE_STRIP||e===a.TRIANGLES||e===a.TRIANGLE_STRIP||e===a.TRIANGLE_FAN}};t.a=Object.freeze(a)},nO52:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._text=void 0,this._textSubscription=void 0,this._font=void 0,this._fontSubscription=void 0,this._style=void 0,this._styleSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this._showBackground=void 0,this._showBackgroundSubscription=void 0,this._backgroundColor=void 0,this._backgroundColorSubscription=void 0,this._backgroundPadding=void 0,this._backgroundPaddingSubscription=void 0,this._pixelOffset=void 0,this._pixelOffsetSubscription=void 0,this._eyeOffset=void 0,this._eyeOffsetSubscription=void 0,this._horizontalOrigin=void 0,this._horizontalOriginSubscription=void 0,this._verticalOrigin=void 0,this._verticalOriginSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._fillColor=void 0,this._fillColorSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._translucencyByDistance=void 0,this._translucencyByDistanceSubscription=void 0,this._pixelOffsetScaleByDistance=void 0,this._pixelOffsetScaleByDistanceSubscription=void 0,this._scaleByDistance=void 0,this._scaleByDistanceSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._disableDepthTestDistance=void 0,this._disableDepthTestDistanceSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(c.a)("show"),text:Object(c.a)("text"),font:Object(c.a)("font"),style:Object(c.a)("style"),scale:Object(c.a)("scale"),showBackground:Object(c.a)("showBackground"),backgroundColor:Object(c.a)("backgroundColor"),backgroundPadding:Object(c.a)("backgroundPadding"),pixelOffset:Object(c.a)("pixelOffset"),eyeOffset:Object(c.a)("eyeOffset"),horizontalOrigin:Object(c.a)("horizontalOrigin"),verticalOrigin:Object(c.a)("verticalOrigin"),heightReference:Object(c.a)("heightReference"),fillColor:Object(c.a)("fillColor"),outlineColor:Object(c.a)("outlineColor"),outlineWidth:Object(c.a)("outlineWidth"),translucencyByDistance:Object(c.a)("translucencyByDistance"),pixelOffsetScaleByDistance:Object(c.a)("pixelOffsetScaleByDistance"),scaleByDistance:Object(c.a)("scaleByDistance"),distanceDisplayCondition:Object(c.a)("distanceDisplayCondition"),disableDepthTestDistance:Object(c.a)("disableDepthTestDistance")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.text=this.text,e.font=this.font,e.style=this.style,e.scale=this.scale,e.showBackground=this.showBackground,e.backgroundColor=this.backgroundColor,e.backgroundPadding=this.backgroundPadding,e.pixelOffset=this.pixelOffset,e.eyeOffset=this.eyeOffset,e.horizontalOrigin=this.horizontalOrigin,e.verticalOrigin=this.verticalOrigin,e.heightReference=this.heightReference,e.fillColor=this.fillColor,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.translucencyByDistance=this.translucencyByDistance,e.pixelOffsetScaleByDistance=this.pixelOffsetScaleByDistance,e.scaleByDistance=this.scaleByDistance,e.distanceDisplayCondition=this.distanceDisplayCondition,e.disableDepthTestDistance=this.disableDepthTestDistance,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.text=Object(a.a)(this.text,e.text),this.font=Object(a.a)(this.font,e.font),this.style=Object(a.a)(this.style,e.style),this.scale=Object(a.a)(this.scale,e.scale),this.showBackground=Object(a.a)(this.showBackground,e.showBackground),this.backgroundColor=Object(a.a)(this.backgroundColor,e.backgroundColor),this.backgroundPadding=Object(a.a)(this.backgroundPadding,e.backgroundPadding),this.pixelOffset=Object(a.a)(this.pixelOffset,e.pixelOffset),this.eyeOffset=Object(a.a)(this.eyeOffset,e.eyeOffset),this.horizontalOrigin=Object(a.a)(this.horizontalOrigin,e.horizontalOrigin),this.verticalOrigin=Object(a.a)(this.verticalOrigin,e.verticalOrigin),this.heightReference=Object(a.a)(this.heightReference,e.heightReference),this.fillColor=Object(a.a)(this.fillColor,e.fillColor),this.outlineColor=Object(a.a)(this.outlineColor,e.outlineColor),this.outlineWidth=Object(a.a)(this.outlineWidth,e.outlineWidth),this.translucencyByDistance=Object(a.a)(this.translucencyByDistance,e.translucencyByDistance),this.pixelOffsetScaleByDistance=Object(a.a)(this.pixelOffsetScaleByDistance,e.pixelOffsetScaleByDistance),this.scaleByDistance=Object(a.a)(this.scaleByDistance,e.scaleByDistance),this.distanceDisplayCondition=Object(a.a)(this.distanceDisplayCondition,e.distanceDisplayCondition),this.disableDepthTestDistance=Object(a.a)(this.disableDepthTestDistance,e.disableDepthTestDistance)},t.a=n},nUpE:function(e,t,i){"use strict";function n(e){this.id=e,this.vertexFormat=void 0,this.plane=void 0,this.dimensions=void 0}function a(e,t){S.a.call(this,{entity:e,scene:t,geometryOptions:new n(e),geometryPropertyName:"plane",observedPropertyNames:["availability","position","orientation","plane"]}),this._onEntityPropertyChanged(e,"plane",e.plane,void 0)}function r(e,t,i){C.a.call(this,e,t,i)}function o(e,t,i,n,a){var r=e.normal,o=e.distance,l=c.a.multiplyByScalar(r,-o,M);l=b.a.multiplyByPoint(i,l,l);var u=b.a.multiplyByPointAsVector(i,r,L);c.a.normalize(u,u);var h=n.geodeticSurfaceNormal(l,R);_.a.equalsEpsilon(Math.abs(c.a.dot(h,u)),1,_.a.EPSILON8)&&(h=c.a.clone(c.a.UNIT_Z,h),_.a.equalsEpsilon(Math.abs(c.a.dot(h,u)),1,_.a.EPSILON8)&&(h=c.a.clone(c.a.UNIT_X,h)));var d=c.a.cross(h,u,I);h=c.a.cross(u,d,h),c.a.normalize(d,d),c.a.normalize(h,h);var f=z;v.a.setColumn(f,0,d,f),v.a.setColumn(f,1,h,f),v.a.setColumn(f,2,u,f);var p=w.a.fromRotationMatrix(f,F),m=s.a.clone(t,N);return m.z=1,b.a.fromTranslationQuaternionRotationScale(l,p,m,a)}var s=i("Ss9j"),c=i("Jj+J"),l=i("5F4X"),u=i("6F0S"),h=i("devy"),d=i("xC6Q"),f=i("PzDm"),p=i("2kyc"),m=i("izcu"),g=i("DsDe"),_=i("fq+p"),v=i("i3sv"),b=i("Xjii"),y=i("sjyQ"),O=i("Xnmy"),w=i("q/xW"),x=i("zSqc"),E=i("xEUC"),T=i("BOJj"),A=i("I5FW"),C=i("5s/y"),S=i("rVBE"),j=i("uhjI"),P=new c.a,D=new u.a;Object(d.a)(Object.create)&&(a.prototype=Object.create(S.a.prototype),a.prototype.constructor=a),a.prototype.createFillGeometryInstance=function(e){if(l.a.defined("time",e),!this._fillEnabled)throw new f.a("This instance does not represent a filled geometry.");var t,i,n=this._entity,a=n.isAvailable(e),r=new x.a(a&&n.isShowing&&this._showProperty.getValue(e)&&this._fillProperty.getValue(e)),s=this._distanceDisplayConditionProperty.getValue(e),c=p.a.fromDistanceDisplayCondition(s);if(this._materialProperty instanceof A.a){var g;Object(d.a)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||a)&&(g=this._materialProperty.color.getValue(e,D)),Object(d.a)(g)||(g=u.a.WHITE),i=h.a.fromColor(g),t={show:r,distanceDisplayCondition:c,color:i}}else t={show:r,distanceDisplayCondition:c};var _=n.plane,v=this._options,b=n.computeModelMatrix(e),O=j.a.getValueOrDefault(_.plane,e,v.plane),w=j.a.getValueOrUndefined(_.dimensions,e,v.dimensions);return v.plane=O,v.dimensions=w,b=o(O,w,b,this._scene.mapProjection.ellipsoid,b),new m.a({id:n,geometry:new y.a(this._options),modelMatrix:b,attributes:t})},a.prototype.createOutlineGeometryInstance=function(e){if(l.a.defined("time",e),!this._outlineEnabled)throw new f.a("This instance does not represent an outlined geometry.");var t=this._entity,i=t.isAvailable(e),n=j.a.getValueOrDefault(this._outlineColorProperty,e,u.a.BLACK,D),a=this._distanceDisplayConditionProperty.getValue(e),r=t.plane,s=this._options,c=t.computeModelMatrix(e),d=j.a.getValueOrDefault(r.plane,e,s.plane),g=j.a.getValueOrUndefined(r.dimensions,e,s.dimensions);return s.plane=d,s.dimensions=g,c=o(d,g,c,this._scene.mapProjection.ellipsoid,c),new m.a({id:t,geometry:new O.a,modelMatrix:c,attributes:{show:new x.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._showOutlineProperty.getValue(e)),color:h.a.fromColor(n),distanceDisplayCondition:p.a.fromDistanceDisplayCondition(a)}})},a.prototype._isHidden=function(e,t){return!Object(d.a)(t.plane)||!Object(d.a)(t.dimensions)||!Object(d.a)(e.position)||S.a.prototype._isHidden.call(this,e,t)},a.prototype._getIsClosed=function(e){return!1},a.prototype._isDynamic=function(e,t){return!(e.position.isConstant&&j.a.isConstant(e.orientation)&&t.plane.isConstant&&t.dimensions.isConstant&&j.a.isConstant(t.outlineWidth))},a.prototype._setStaticOptions=function(e,t){var i=this._materialProperty instanceof A.a,n=this._options;n.vertexFormat=i?T.a.VERTEX_FORMAT:E.a.MaterialSupport.TEXTURED.vertexFormat,n.plane=t.plane.getValue(g.a.MINIMUM_VALUE,n.plane),n.dimensions=t.dimensions.getValue(g.a.MINIMUM_VALUE,n.dimensions)},a.DynamicGeometryUpdater=r,Object(d.a)(Object.create)&&(r.prototype=Object.create(C.a.prototype),r.prototype.constructor=r),r.prototype._isHidden=function(e,t,i){var n=this._options,a=j.a.getValueOrUndefined(e.position,i,P);return!Object(d.a)(a)||!Object(d.a)(n.plane)||!Object(d.a)(n.dimensions)||C.a.prototype._isHidden.call(this,e,t,i)},r.prototype._setOptions=function(e,t,i){var n=this._options;n.plane=j.a.getValueOrDefault(t.plane,i,n.plane),n.dimensions=j.a.getValueOrUndefined(t.dimensions,i,n.dimensions)};var I=new c.a,R=new c.a,M=new c.a,L=new c.a,N=new c.a,F=new w.a,z=new v.a;a.createPrimitiveMatrix=o,t.a=a},nfk5:function(e,t,i){"use strict";t.a="attribute vec4 position;\nattribute float webMercatorT;\n\nuniform vec2 u_textureDimensions;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main()\n{\n    v_textureCoordinates = vec2(position.x, webMercatorT);\n    gl_Position = czm_viewportOrthographic * (position * vec4(u_textureDimensions, 1.0, 1.0));\n}\n"},npu7:function(e,t,i){"use strict";function n(e){if(e=Object(s.a)(e,s.a.EMPTY_OBJECT),!Object(c.a)(e.url))throw new l.a("options.url is required.");if(!Object(c.a)(e.layers))throw new l.a("options.layers is required.");if(Object(c.a)(e.times)&&!Object(c.a)(e.clock))throw new l.a("options.times was specified, so options.clock is required.");var t=h.a.createIfNeeded(e.url),i=t.clone();t.setQueryParameters(n.DefaultParameters,!0),i.setQueryParameters(n.GetFeatureInfoDefaultParameters,!0),Object(c.a)(e.parameters)&&t.setQueryParameters(o(e.parameters)),Object(c.a)(e.getFeatureInfoParameters)&&i.setQueryParameters(o(e.getFeatureInfoParameters));var r=this;this._reload=void 0,Object(c.a)(e.times)&&(this._timeDynamicImagery=new p.a({clock:e.clock,times:e.times,requestImageFunction:function(e,t,i,n,o){return a(r,e,t,i,n,o)},reloadFunction:function(){Object(c.a)(r._reload)&&r._reload()}}));var f={};f.layers=e.layers,f.bbox="{westProjected},{southProjected},{eastProjected},{northProjected}",f.width="{width}",f.height="{height}",parseFloat(t.queryParameters.version)>=1.3?f.crs=Object(s.a)(e.crs,e.tilingScheme&&e.tilingScheme.projection instanceof d.a?"EPSG:3857":"CRS:84"):f.srs=Object(s.a)(e.srs,e.tilingScheme&&e.tilingScheme.projection instanceof d.a?"EPSG:3857":"EPSG:4326"),t.setQueryParameters(f,!0),i.setQueryParameters(f,!0);var g={query_layers:e.layers,x:"{i}",y:"{j}",info_format:"{format}"};i.setQueryParameters(g,!0),this._resource=t,this._pickFeaturesResource=i,this._layers=e.layers,this._tileProvider=new m.a({url:t,pickFeaturesUrl:i,tilingScheme:Object(s.a)(e.tilingScheme,new u.a({ellipsoid:e.ellipsoid})),rectangle:e.rectangle,tileWidth:e.tileWidth,tileHeight:e.tileHeight,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,subdomains:e.subdomains,tileDiscardPolicy:e.tileDiscardPolicy,credit:e.credit,getFeatureInfoFormats:Object(s.a)(e.getFeatureInfoFormats,n.DefaultGetFeatureInfoFormats),enablePickFeatures:e.enablePickFeatures})}function a(e,t,i,n,a,r){var o=Object(c.a)(r)?r.data:void 0,s=e._tileProvider;return Object(c.a)(o)&&s._resource.setQueryParameters(o),s.requestImage(t,i,n,a)}function r(e,t,i,n,a,r,o){var s=Object(c.a)(o)?o.data:void 0,l=e._tileProvider;return Object(c.a)(s)&&l._pickFeaturesResource.setQueryParameters(s),l.pickFeatures(t,i,n,a,r)}function o(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i.toLowerCase()]=e[i]);return t}var s=i("5A4e"),c=i("xC6Q"),l=i("PzDm"),u=i("4MnW"),h=i("rMjQ"),d=i("6AvQ"),f=i("apxI"),p=i("otw6"),m=i("LS2q");Object.defineProperties(n.prototype,{url:{get:function(){return this._resource._url}},proxy:{get:function(){return this._resource.proxy}},layers:{get:function(){return this._layers}},tileWidth:{get:function(){return this._tileProvider.tileWidth}},tileHeight:{get:function(){return this._tileProvider.tileHeight}},maximumLevel:{get:function(){return this._tileProvider.maximumLevel}},minimumLevel:{get:function(){return this._tileProvider.minimumLevel}},tilingScheme:{get:function(){return this._tileProvider.tilingScheme}},rectangle:{get:function(){return this._tileProvider.rectangle}},tileDiscardPolicy:{get:function(){return this._tileProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._tileProvider.errorEvent}},ready:{get:function(){return this._tileProvider.ready}},readyPromise:{get:function(){return this._tileProvider.readyPromise}},credit:{get:function(){return this._tileProvider.credit}},hasAlphaChannel:{get:function(){return this._tileProvider.hasAlphaChannel}},enablePickFeatures:{get:function(){return this._tileProvider.enablePickFeatures},set:function(e){this._tileProvider.enablePickFeatures=e}},clock:{get:function(){return this._timeDynamicImagery.clock},set:function(e){this._timeDynamicImagery.clock=e}},times:{get:function(){return this._timeDynamicImagery.times},set:function(e){this._timeDynamicImagery.times=e}}}),n.prototype.getTileCredits=function(e,t,i){return this._tileProvider.getTileCredits(e,t,i)},n.prototype.requestImage=function(e,t,i,n){var r,o,s=this._timeDynamicImagery;return Object(c.a)(s)&&(o=s.currentInterval,r=s.getFromCache(e,t,i,n)),Object(c.a)(r)||(r=a(this,e,t,i,n,o)),Object(c.a)(r)&&Object(c.a)(s)&&s.checkApproachingInterval(e,t,i,n),r},n.prototype.pickFeatures=function(e,t,i,n,a){var o=this._timeDynamicImagery;return r(this,e,t,i,n,a,Object(c.a)(o)?o.currentInterval:void 0)},n.DefaultParameters=Object.freeze({service:"WMS",version:"1.1.1",request:"GetMap",styles:"",format:"image/jpeg"}),n.GetFeatureInfoDefaultParameters=Object.freeze({service:"WMS",version:"1.1.1",request:"GetFeatureInfo"}),n.DefaultGetFeatureInfoFormats=Object.freeze([Object.freeze(new f.a("json","application/json")),Object.freeze(new f.a("xml","text/xml")),Object.freeze(new f.a("text","text/html"))]),t.a=n},nuRc:function(e,t,i){"use strict";i("FJg6"),i("xC6Q")},nyDB:function(e,t,i){"use strict";function n(e){var t=6.239996+.0172019696544*e;return.001657*Math.sin(t+.01671*Math.sin(t))}function a(e,t){t=_.a.addSeconds(e,x,t);var i=_.a.totalDays(t)-E;return t=_.a.addSeconds(t,n(i),t)}function r(e,t,i,n,a,r,c){if(i<0&&(i=-i,a+=v.a.PI),i<0||i>v.a.PI)throw new g.a("The inclination is out of range. Inclination must be greater than or equal to zero and less than or equal to Pi radians.");var l=e*(1-t),h=n-a,d=a,f=s(r-n,t);if("Hyperbolic"===o(t,0)&&Math.abs(v.a.negativePiToPi(f))>=Math.acos(-1/t))throw new g.a("The true anomaly of the hyperbolic orbit lies outside of the bounds of the hyperbola.");u(h,i,d,j);var _=l*(1+t),y=Math.cos(f),O=Math.sin(f),w=1+t*y;if(w<=v.a.Epsilon10)throw new g.a("elements cannot be converted to cartesian");var x=_/w;return Object(m.a)(c)?(c.x=x*y,c.y=x*O,c.z=0):c=new p.a(x*y,x*O,0),b.a.multiplyByVector(j,c,c)}function o(e,t){if(e<0)throw new g.a("eccentricity cannot be negative.");return e<=t?"Circular":e<1-t?"Elliptical":e<=1+t?"Parabolic":"Hyperbolic"}function s(e,t){if(t<0||t>=1)throw new g.a("eccentricity out of range.");return l(c(e,t),t)}function c(e,t){if(t<0||t>=1)throw new g.a("eccentricity out of range.");var i=Math.floor(e/v.a.TWO_PI);e-=i*v.a.TWO_PI;var n,a=e+t*Math.sin(e)/(1-Math.sin(e+t)+Math.sin(e)),r=Number.MAX_VALUE;for(n=0;n<P&&Math.abs(r-a)>D;++n){r=a;a=r-(r-t*Math.sin(r)-e)/(1-t*Math.cos(r))}if(n>=P)throw new g.a("Kepler equation did not converge");return r=a+i*v.a.TWO_PI}function l(e,t){if(t<0||t>=1)throw new g.a("eccentricity out of range.");var i=Math.floor(e/v.a.TWO_PI);e-=i*v.a.TWO_PI;var n=Math.cos(e)-t,a=Math.sin(e)*Math.sqrt(1-t*t),r=Math.atan2(a,n);return r=v.a.zeroToTwoPi(r),e<0&&(r-=v.a.TWO_PI),r+=i*v.a.TWO_PI}function u(e,t,i,n){if(t<0||t>v.a.PI)throw new g.a("inclination out of range");var a=Math.cos(e),r=Math.sin(e),o=Math.cos(t),s=Math.sin(t),c=Math.cos(i),l=Math.sin(i);return Object(m.a)(n)?(n[0]=c*a-l*r*o,n[1]=l*a+c*r*o,n[2]=r*s,n[3]=-c*r-l*a*o,n[4]=-l*r+c*a*o,n[5]=a*s,n[6]=l*s,n[7]=-c*s,n[8]=o):n=new b.a(c*a-l*r*o,-c*r-l*a*o,l*s,l*a+c*r*o,-l*r+c*a*o,-c*s,r*s,a*s,o),n}function h(e,t){a(e,je);var i=je.dayNumber-T.dayNumber+(je.secondsOfDay-T.secondsOfDay)/y.a.SECONDS_PER_DAY,n=i/(10*y.a.DAYS_PER_JULIAN_CENTURY),o=.3595362*n,s=I+H*Math.cos(L*o)+Z*Math.sin(L*o)+q*Math.cos(N*o)+K*Math.sin(N*o)+W*Math.cos(F*o)+$*Math.sin(F*o)+G*Math.cos(z*o)+ee*Math.sin(z*o)+Y*Math.cos(B*o)+te*Math.sin(B*o)+X*Math.cos(k*o)+ie*Math.sin(k*o)+Q*Math.cos(U*o)+ne*Math.sin(U*o)+J*Math.cos(V*o)+ae*Math.sin(V*o),c=R+M*n+fe*Math.cos(re*o)+Oe*Math.sin(re*o)+pe*Math.cos(oe*o)+we*Math.sin(oe*o)+me*Math.cos(se*o)+xe*Math.sin(se*o)+ge*Math.cos(ce*o)+Ee*Math.sin(ce*o)+_e*Math.cos(le*o)+Te*Math.sin(le*o)+ve*Math.cos(ue*o)+Ae*Math.sin(ue*o)+be*Math.cos(he*o)+Ce*Math.sin(he*o)+ye*Math.cos(de*o)+Se*Math.sin(de*o);return r(s,.0167086342-.0004203654*n,469.97289*S*n,102.93734808*C+11612.3529*S*n,174.87317577*C-8679.27034*S*n,c,t)}function d(e,t){a(e,je);var i=je.dayNumber-T.dayNumber+(je.secondsOfDay-T.secondsOfDay)/y.a.SECONDS_PER_DAY,n=i/y.a.DAYS_PER_JULIAN_CENTURY,o=n*n,s=o*n,c=s*n,l=383397.7725+.004*n,u=.055545526-1.6e-8*n,h=5.15668983*C,d=-8e-5*n+.02966*o-42e-6*s-1.3e-7*c,f=83.35324312*C,p=14643420.2669*n-38.2702*o-.045047*s+21301e-8*c,m=125.04455501*C,g=-6967919.3631*n+6.3602*o+.007625*s-3586e-8*c,_=218.31664563*C,v=1732559343.4847*n-6.391*o+.006588*s-3169e-8*c,b=297.85019547*C+S*(1602961601.209*n-6.3706*o+.006593*s-3169e-8*c),O=93.27209062*C+S*(1739527262.8478*n-12.7512*o-.001037*s+417e-8*c),w=134.96340251*C+S*(1717915923.2178*n+31.8792*o+.051635*s-2447e-7*c),x=357.52910918*C+S*(129596581.0481*n-.5532*o+136e-6*s-1149e-8*c),E=310.17137918*C-S*(6967051.436*n+6.2068*o+.007618*s-3219e-8*c),j=2*b,P=4*b,D=6*b,I=2*w,R=3*w,M=4*w,L=2*O;l+=3400.4*Math.cos(j)-635.6*Math.cos(j-w)-235.6*Math.cos(w)+218.1*Math.cos(j-x)+181*Math.cos(j+w),u+=.014216*Math.cos(j-w)+.008551*Math.cos(j-I)-.001383*Math.cos(w)+.001356*Math.cos(j+w)-.001147*Math.cos(P-R)-914e-6*Math.cos(P-I)+869e-6*Math.cos(j-x-w)-627e-6*Math.cos(j)-394e-6*Math.cos(P-M)+282e-6*Math.cos(j-x-I)-279e-6*Math.cos(b-w)-236e-6*Math.cos(I)+231e-6*Math.cos(P)+229e-6*Math.cos(D-M)-201e-6*Math.cos(I-L),d+=486.26*Math.cos(j-L)-40.13*Math.cos(j)+37.51*Math.cos(L)+25.73*Math.cos(I-L)+19.97*Math.cos(j-x-L),p+=-55609*Math.sin(j-w)-34711*Math.sin(j-I)-9792*Math.sin(w)+9385*Math.sin(P-R)+7505*Math.sin(P-I)+5318*Math.sin(j+w)+3484*Math.sin(P-M)-3417*Math.sin(j-x-w)-2530*Math.sin(D-M)-2376*Math.sin(j)-2075*Math.sin(j-R)-1883*Math.sin(I)-1736*Math.sin(D-5*w)+1626*Math.sin(x)-1370*Math.sin(D-R),g+=-5392*Math.sin(j-L)-540*Math.sin(x)-441*Math.sin(j)+423*Math.sin(L)-288*Math.sin(I-L),v+=-3332.9*Math.sin(j)+1197.4*Math.sin(j-w)-662.5*Math.sin(x)+396.3*Math.sin(w)-218*Math.sin(j-x);var N=2*E,F=3*E;d+=46.997*Math.cos(E)*n-.614*Math.cos(j-L+E)*n+.614*Math.cos(j-L-E)*n-.0297*Math.cos(N)*o-.0335*Math.cos(E)*o+.0012*Math.cos(j-L+N)*o-16e-5*Math.cos(E)*s+4e-5*Math.cos(F)*s+4e-5*Math.cos(N)*s;var z=2.116*Math.sin(E)*n-.111*Math.sin(j-L-E)*n-.0015*Math.sin(E)*o;return p+=z,v+=z,g+=-520.77*Math.sin(E)*n+13.66*Math.sin(j-L+E)*n+1.12*Math.sin(j-E)*n-1.06*Math.sin(L-E)*n+.66*Math.sin(N)*o+.371*Math.sin(E)*o-.035*Math.sin(j-L+N)*o-.015*Math.sin(j-L+E)*o+.0014*Math.sin(E)*s-.0011*Math.sin(F)*s-9e-4*Math.sin(N)*s,l*=A,r(l,u,h+d*S,f+p*S,m+g*S,_+v*S,t)}function f(e,t){return t=d(e,t),p.a.multiplyByScalar(t,Pe,t)}var p=i("Jj+J"),m=i("xC6Q"),g=i("PzDm"),_=i("9Uqs"),v=i("fq+p"),b=i("i3sv"),y=i("9ZH6"),O=i("Bosk"),w={},x=32.184,E=2451545,T=new _.a(2451545,0,O.a.TAI),A=1e3,C=v.a.RADIANS_PER_DEGREE,S=v.a.RADIANS_PER_ARCSECOND,j=new b.a,P=50,D=v.a.EPSILON8,I=149598022260.7121,R=100.46645683*C,M=1295977422.83429*S,L=16002,N=21863,F=32004,z=10931,B=14529,k=16368,U=15318,V=32794,H=64e-7*14959787e4,q=-2273887.624,W=927506.794,G=14959787e4*-8e-7,Y=32e-7*14959787e4,X=-613351.267,Q=284235.953,J=-164557.657,Z=-2243968.05,K=-688150.202,$=1017265.516,ee=807828.498,te=14e-7*14959787e4,ie=359034.888,ne=14959787e4*-28e-7,ae=329115.314,re=10,oe=16002,se=21863,ce=10931,le=1473,ue=32004,he=4387,de=73,fe=-325e-7,pe=-322e-7,me=1e-7*-79,ge=232*1e-7,_e=1e-7*-52,ve=97e-7,be=55e-7,ye=-41e-7,Oe=-105e-7,we=-137e-7,xe=258e-7,Ee=35e-7,Te=1e-7*-116,Ae=-88e-7,Ce=-112e-7,Se=-8e-6,je=new _.a(0,0,O.a.TAI),Pe=-.01215058143522694,De=new b.a(1.0000000000000002,5.619723173785822e-16,4.690511510146299e-19,-5.154129427414611e-16,.9174820620691819,-.39777715593191376,-2.23970096136568e-16,.39777715593191376,.9174820620691819),Ie=new p.a;w.computeSunPositionInEarthInertialFrame=function(e,t){return Object(m.a)(e)||(e=_.a.now()),Object(m.a)(t)||(t=new p.a),Ie=h(e,Ie),t=p.a.negate(Ie,t),f(e,Ie),p.a.subtract(t,Ie,t),b.a.multiplyByVector(De,t,t),t},w.computeMoonPositionInEarthInertialFrame=function(e,t){return Object(m.a)(e)||(e=_.a.now()),t=d(e,t),b.a.multiplyByVector(De,t,t),t},t.a=w},nzLv:function(e,t,i){"use strict";function n(e){this.sources=e.sources,this._sources=void 0,this.show=Object(o.a)(e.show,!0),this._command=new m.a({modelMatrix:h.a.clone(h.a.IDENTITY),owner:this}),this._cubeMap=void 0,this._attributeLocations=void 0,this._useHdr=void 0}var a=i("7snz"),r=i("Jj+J"),o=i("5A4e"),s=i("xC6Q"),c=i("6sr8"),l=i("PzDm"),u=i("odWO"),h=i("Xjii"),d=i("xvTE"),f=i("rFKc"),p=i("VvLh"),m=i("1mJh"),g=i("1v7x"),_=i("DrvA"),v=i("WUlw"),b=i("x6Ms"),y=i("+0EW"),O=i("V739"),w=i("A4vh"),x=i("OtDm"),E=i("sotJ");n.prototype.update=function(e,t){var i=this;if(this.show&&(e.mode===E.a.SCENE3D||e.mode===E.a.MORPHING)&&e.passes.render){var n=e.context;if(this._sources!==this.sources){this._sources=this.sources;var o=this.sources;if(!(Object(s.a)(o.positiveX)&&Object(s.a)(o.negativeX)&&Object(s.a)(o.positiveY)&&Object(s.a)(o.negativeY)&&Object(s.a)(o.positiveZ)&&Object(s.a)(o.negativeZ)))throw new l.a("this.sources is required and must have positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ properties.");if(typeof o.positiveX!=typeof o.negativeX||typeof o.positiveX!=typeof o.positiveY||typeof o.positiveX!=typeof o.negativeY||typeof o.positiveX!=typeof o.positiveZ||typeof o.positiveX!=typeof o.negativeZ)throw new l.a("this.sources properties must all be the same type.");"string"==typeof o.positiveX?Object(g.a)(n,this._sources).then(function(e){i._cubeMap=i._cubeMap&&i._cubeMap.destroy(),i._cubeMap=e}):(this._cubeMap=this._cubeMap&&this._cubeMap.destroy(),this._cubeMap=new p.a({context:n,source:o}))}var c=this._command;if(!Object(s.a)(c.vertexArray)){c.uniformMap={u_cubeMap:function(){return i._cubeMap}};var h=a.a.createGeometry(a.a.fromDimensions({dimensions:new r.a(2,2,2),vertexFormat:d.a.POSITION_ONLY})),m=this._attributeLocations=u.a.createAttributeLocations(h);c.vertexArray=y.a.fromGeometry({context:n,geometry:h,attributeLocations:m,bufferUsage:f.a.STATIC_DRAW}),c.renderState=_.a.fromCache({blending:x.a.ALPHA_BLEND})}if(!Object(s.a)(c.shaderProgram)||this._useHdr!==t){var T=new b.a({defines:[t?"HDR":""],sources:[O.a]});c.shaderProgram=v.a.fromCache({context:n,vertexShaderSource:w.a,fragmentShaderSource:T,attributeLocations:this._attributeLocations}),this._useHdr=t}if(Object(s.a)(this._cubeMap))return c}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){var e=this._command;return e.vertexArray=e.vertexArray&&e.vertexArray.destroy(),e.shaderProgram=e.shaderProgram&&e.shaderProgram.destroy(),this._cubeMap=this._cubeMap&&this._cubeMap.destroy(),Object(c.a)(this)},t.a=n},"nzu/":function(e,t,i){"use strict";function n(e,t,i){this.minimum=a.a.clone(Object(o.a)(e,a.a.ZERO)),this.maximum=a.a.clone(Object(o.a)(t,a.a.ZERO)),i=Object(s.a)(i)?a.a.clone(i):a.a.midpoint(this.minimum,this.maximum,new a.a),this.center=i}var a=i("Jj+J"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("u909");n.fromPoints=function(e,t){if(Object(s.a)(t)||(t=new n),!Object(s.a)(e)||0===e.length)return t.minimum=a.a.clone(a.a.ZERO,t.minimum),t.maximum=a.a.clone(a.a.ZERO,t.maximum),t.center=a.a.clone(a.a.ZERO,t.center),t;for(var i=e[0].x,r=e[0].y,o=e[0].z,c=e[0].x,l=e[0].y,u=e[0].z,h=e.length,d=1;d<h;d++){var f=e[d],p=f.x,m=f.y,g=f.z;i=Math.min(p,i),c=Math.max(p,c),r=Math.min(m,r),l=Math.max(m,l),o=Math.min(g,o),u=Math.max(g,u)}var _=t.minimum;_.x=i,_.y=r,_.z=o;var v=t.maximum;return v.x=c,v.y=l,v.z=u,t.center=a.a.midpoint(_,v,t.center),t},n.clone=function(e,t){if(Object(s.a)(e))return Object(s.a)(t)?(t.minimum=a.a.clone(e.minimum,t.minimum),t.maximum=a.a.clone(e.maximum,t.maximum),t.center=a.a.clone(e.center,t.center),t):new n(e.minimum,e.maximum,e.center)},n.equals=function(e,t){return e===t||Object(s.a)(e)&&Object(s.a)(t)&&a.a.equals(e.center,t.center)&&a.a.equals(e.minimum,t.minimum)&&a.a.equals(e.maximum,t.maximum)};var l=new a.a;n.intersectPlane=function(e,t){r.a.defined("box",e),r.a.defined("plane",t),l=a.a.subtract(e.maximum,e.minimum,l);var i=a.a.multiplyByScalar(l,.5,l),n=t.normal,o=i.x*Math.abs(n.x)+i.y*Math.abs(n.y)+i.z*Math.abs(n.z),s=a.a.dot(e.center,n)+t.distance;return s-o>0?c.a.INSIDE:s+o<0?c.a.OUTSIDE:c.a.INTERSECTING},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.intersectPlane=function(e){return n.intersectPlane(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},t.a=n},"o/vQ":function(e,t,i){"use strict";function n(e,t){var i=e.extensionsUsed;Object(r.a)(i)||(i=[],e.extensionsUsed=i),Object(a.a)(i,t,!0)}var a=i("gjak"),r=i("xC6Q");t.a=n},o12a:function(e,t,i){"use strict";function n(e){this.context=e,this.framebuffer=void 0,this.blendingEnabled=void 0,this.scissorTest=void 0,this.viewport=void 0}t.a=n},o58b:function(e,t,i){"use strict";function n(e,t){var i=new v.a;i.position=new _.a({componentDatatype:u.a.DOUBLE,componentsPerAttribute:3,values:e});var n,a,r=t.length,o=i.position.values.length/3,c=e.length/3,l=c/r,h=b.a.createTypedArray(o,2*r*(l+1)),d=0;n=0;var f=n*r;for(a=0;a<r-1;a++)h[d++]=a+f,h[d++]=a+f+1;for(h[d++]=r-1+f,h[d++]=f,n=l-1,f=n*r,a=0;a<r-1;a++)h[d++]=a+f,h[d++]=a+f+1;for(h[d++]=r-1+f,h[d++]=f,n=0;n<l-1;n++){var p=r*n,m=p+r;for(a=0;a<r;a++)h[d++]=a+p,h[d++]=a+m}return new g.a({attributes:i,indices:b.a.createTypedArray(o,h),boundingSphere:s.a.fromVertices(e),primitiveType:x.a.LINES})}function a(e){e=Object(d.a)(e,d.a.EMPTY_OBJECT);var t=e.polylinePositions,i=e.shapePositions;if(!Object(f.a)(t))throw new p.a("options.polylinePositions is required.");if(!Object(f.a)(i))throw new p.a("options.shapePositions is required.");this._positions=t,this._shape=i,this._ellipsoid=m.a.clone(Object(d.a)(e.ellipsoid,m.a.WGS84)),this._cornerType=Object(d.a)(e.cornerType,h.a.ROUNDED),this._granularity=Object(d.a)(e.granularity,y.a.RADIANS_PER_DEGREE),this._workerName="createPolylineVolumeOutlineGeometry";var n=1+t.length*l.a.packedLength;n+=1+i.length*c.a.packedLength,this.packedLength=n+m.a.packedLength+2}var r=i("6Ilv"),o=i("or8k"),s=i("lBr9"),c=i("Ss9j"),l=i("Jj+J"),u=i("YCZg"),h=i("sEJp"),d=i("5A4e"),f=i("xC6Q"),p=i("PzDm"),m=i("y6fO"),g=i("RGAo"),_=i("RYD3"),v=i("GaJK"),b=i("oMsT"),y=i("fq+p"),O=i("EDAM"),w=i("VpTN"),x=i("nHNe"),E=i("+snP");a.pack=function(e,t,i){if(!Object(f.a)(e))throw new p.a("value is required");if(!Object(f.a)(t))throw new p.a("array is required");i=Object(d.a)(i,0);var n,a=e._positions,r=a.length;for(t[i++]=r,n=0;n<r;++n,i+=l.a.packedLength)l.a.pack(a[n],t,i);var o=e._shape;for(r=o.length,t[i++]=r,n=0;n<r;++n,i+=c.a.packedLength)c.a.pack(o[n],t,i);return m.a.pack(e._ellipsoid,t,i),i+=m.a.packedLength,t[i++]=e._cornerType,t[i]=e._granularity,t};var T=m.a.clone(m.a.UNIT_SPHERE),A={polylinePositions:void 0,shapePositions:void 0,ellipsoid:T,height:void 0,cornerType:void 0,granularity:void 0};a.unpack=function(e,t,i){if(!Object(f.a)(e))throw new p.a("array is required");t=Object(d.a)(t,0);var n,r=e[t++],o=new Array(r);for(n=0;n<r;++n,t+=l.a.packedLength)o[n]=l.a.unpack(e,t);r=e[t++];var s=new Array(r);for(n=0;n<r;++n,t+=c.a.packedLength)s[n]=c.a.unpack(e,t);var u=m.a.unpack(e,t,T);t+=m.a.packedLength;var h=e[t++],g=e[t];return Object(f.a)(i)?(i._positions=o,i._shape=s,i._ellipsoid=m.a.clone(u,i._ellipsoid),i._cornerType=h,i._granularity=g,i):(A.polylinePositions=o,A.shapePositions=s,A.cornerType=h,A.granularity=g,new a(A))};var C=new o.a;a.createGeometry=function(e){var t=e._positions,i=Object(r.a)(t,l.a.equalsEpsilon),a=e._shape;if(a=w.a.removeDuplicatesFromShape(a),!(i.length<2||a.length<3)){O.a.computeWindingOrder2D(a)===E.a.CLOCKWISE&&a.reverse();var s=o.a.fromPoints(a,C);return n(w.a.computePositions(i,a,s,e,!1),a)}},t.a=a},o8TK:function(e,t,i){"use strict";function n(e){return Array.isArray(e)&&(e=new l.a(e)),new u.a(e)}function a(e){this._definitionChanged=new c.a,this._show=void 0,this._showSubscription=void 0,this._hierarchy=void 0,this._hierarchySubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._stRotation=void 0,this._stRotationSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._perPositionHeight=void 0,this._perPositionHeightSubscription=void 0,this._closeTop=void 0,this._closeTopSubscription=void 0,this._closeBottom=void 0,this._closeBottomSubscription=void 0,this._arcType=void 0,this._arcTypeSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this.merge(Object(r.a)(e,r.a.EMPTY_OBJECT))}var r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("W6xh"),l=i("rEiK"),u=i("53NE"),h=i("6ktF"),d=i("7687");Object.defineProperties(a.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(d.a)("show"),hierarchy:Object(d.a)("hierarchy",void 0,n),height:Object(d.a)("height"),heightReference:Object(d.a)("heightReference"),extrudedHeight:Object(d.a)("extrudedHeight"),extrudedHeightReference:Object(d.a)("extrudedHeightReference"),stRotation:Object(d.a)("stRotation"),granularity:Object(d.a)("granularity"),fill:Object(d.a)("fill"),material:Object(h.a)("material"),outline:Object(d.a)("outline"),outlineColor:Object(d.a)("outlineColor"),outlineWidth:Object(d.a)("outlineWidth"),perPositionHeight:Object(d.a)("perPositionHeight"),closeTop:Object(d.a)("closeTop"),closeBottom:Object(d.a)("closeBottom"),arcType:Object(d.a)("arcType"),shadows:Object(d.a)("shadows"),distanceDisplayCondition:Object(d.a)("distanceDisplayCondition"),classificationType:Object(d.a)("classificationType"),zIndex:Object(d.a)("zIndex")}),a.prototype.clone=function(e){return Object(o.a)(e)?(e.show=this.show,e.hierarchy=this.hierarchy,e.height=this.height,e.heightReference=this.heightReference,e.extrudedHeight=this.extrudedHeight,e.extrudedHeightReference=this.extrudedHeightReference,e.stRotation=this.stRotation,e.granularity=this.granularity,e.fill=this.fill,e.material=this.material,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.perPositionHeight=this.perPositionHeight,e.closeTop=this.closeTop,e.closeBottom=this.closeBottom,e.arcType=this.arcType,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e.classificationType=this.classificationType,e.zIndex=this.zIndex,e):new a(this)},a.prototype.merge=function(e){if(!Object(o.a)(e))throw new s.a("source is required.");this.show=Object(r.a)(this.show,e.show),this.hierarchy=Object(r.a)(this.hierarchy,e.hierarchy),this.height=Object(r.a)(this.height,e.height),this.heightReference=Object(r.a)(this.heightReference,e.heightReference),this.extrudedHeight=Object(r.a)(this.extrudedHeight,e.extrudedHeight),this.extrudedHeightReference=Object(r.a)(this.extrudedHeightReference,e.extrudedHeightReference),this.stRotation=Object(r.a)(this.stRotation,e.stRotation),this.granularity=Object(r.a)(this.granularity,e.granularity),this.fill=Object(r.a)(this.fill,e.fill),this.material=Object(r.a)(this.material,e.material),this.outline=Object(r.a)(this.outline,e.outline),this.outlineColor=Object(r.a)(this.outlineColor,e.outlineColor),this.outlineWidth=Object(r.a)(this.outlineWidth,e.outlineWidth),this.perPositionHeight=Object(r.a)(this.perPositionHeight,e.perPositionHeight),this.closeTop=Object(r.a)(this.closeTop,e.closeTop),this.closeBottom=Object(r.a)(this.closeBottom,e.closeBottom),this.arcType=Object(r.a)(this.arcType,e.arcType),this.shadows=Object(r.a)(this.shadows,e.shadows),this.distanceDisplayCondition=Object(r.a)(this.distanceDisplayCondition,e.distanceDisplayCondition),this.classificationType=Object(r.a)(this.classificationType,e.classificationType),this.zIndex=Object(r.a)(this.zIndex,e.zIndex)},t.a=a},o9ZK:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,c,l,u,h,d,f,p,m,g,_){this.center=e,this.vertices=t,this.stride=Object(a.a)(u,6),this.indices=i,this.indexCountWithoutSkirts=n,this.vertexCountWithoutSkirts=r,this.minimumHeight=o,this.maximumHeight=s,this.boundingSphere3D=c,this.occludeePointInScaledSpace=l,this.orientedBoundingBox=h,this.encoding=d,this.exaggeration=f,this.westIndicesSouthToNorth=p,this.southIndicesEastToWest=m,this.eastIndicesNorthToSouth=g,this.northIndicesWestToEast=_}var a=i("5A4e");t.a=n},oIh2:function(e,t,i){"use strict";function n(){this._definitionChanged=new c.a,this._startTime=void 0,this._stopTime=void 0,this._currentTime=void 0,this._clockRange=void 0,this._clockStep=void 0,this._multiplier=void 0}var a=i("gDU9"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("W6xh"),l=i("9Uqs"),u=i("huC5");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},startTime:Object(u.a)("startTime"),stopTime:Object(u.a)("stopTime"),currentTime:Object(u.a)("currentTime"),clockRange:Object(u.a)("clockRange"),clockStep:Object(u.a)("clockStep"),multiplier:Object(u.a)("multiplier")}),n.prototype.clone=function(e){return Object(o.a)(e)||(e=new n),e.startTime=this.startTime,e.stopTime=this.stopTime,e.currentTime=this.currentTime,e.clockRange=this.clockRange,e.clockStep=this.clockStep,e.multiplier=this.multiplier,e},n.prototype.equals=function(e){return this===e||Object(o.a)(e)&&l.a.equals(this.startTime,e.startTime)&&l.a.equals(this.stopTime,e.stopTime)&&l.a.equals(this.currentTime,e.currentTime)&&this.clockRange===e.clockRange&&this.clockStep===e.clockStep&&this.multiplier===e.multiplier},n.prototype.merge=function(e){if(!Object(o.a)(e))throw new s.a("source is required.");this.startTime=Object(r.a)(this.startTime,e.startTime),this.stopTime=Object(r.a)(this.stopTime,e.stopTime),this.currentTime=Object(r.a)(this.currentTime,e.currentTime),this.clockRange=Object(r.a)(this.clockRange,e.clockRange),this.clockStep=Object(r.a)(this.clockStep,e.clockStep),this.multiplier=Object(r.a)(this.multiplier,e.multiplier)},n.prototype.getValue=function(e){return Object(o.a)(e)||(e=new a.a),e.startTime=Object(r.a)(this.startTime,e.startTime),e.stopTime=Object(r.a)(this.stopTime,e.stopTime),e.currentTime=Object(r.a)(this.currentTime,e.currentTime),e.clockRange=Object(r.a)(this.clockRange,e.clockRange),e.multiplier=Object(r.a)(this.multiplier,e.multiplier),e.clockStep=Object(r.a)(this.clockStep,e.clockStep),e},t.a=n},oMsT:function(e,t,i){"use strict";var n=i("xC6Q"),a=i("PzDm"),r=i("fq+p"),o=i("1L1F"),s={UNSIGNED_BYTE:o.a.UNSIGNED_BYTE,UNSIGNED_SHORT:o.a.UNSIGNED_SHORT,UNSIGNED_INT:o.a.UNSIGNED_INT};s.getSizeInBytes=function(e){switch(e){case s.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case s.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case s.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT}throw new a.a("indexDatatype is required and must be a valid IndexDatatype constant.")},s.fromSizeInBytes=function(e){switch(e){case 2:return s.UNSIGNED_SHORT;case 4:return s.UNSIGNED_INT;case 1:return s.UNSIGNED_BYTE;default:throw new a.a("Size in bytes cannot be mapped to an IndexDatatype")}},s.validate=function(e){return Object(n.a)(e)&&(e===s.UNSIGNED_BYTE||e===s.UNSIGNED_SHORT||e===s.UNSIGNED_INT)},s.createTypedArray=function(e,t){if(!Object(n.a)(e))throw new a.a("numberOfVertices is required.");return e>=r.a.SIXTY_FOUR_KILOBYTES?new Uint32Array(t):new Uint16Array(t)},s.createTypedArrayFromArrayBuffer=function(e,t,i,o){if(!Object(n.a)(e))throw new a.a("numberOfVertices is required.");if(!Object(n.a)(t))throw new a.a("sourceArray is required.");if(!Object(n.a)(i))throw new a.a("byteOffset is required.");return e>=r.a.SIXTY_FOUR_KILOBYTES?new Uint32Array(t,i,o):new Uint16Array(t,i,o)},t.a=Object.freeze(s)},oQwc:function(e,t,i){"use strict";function n(e,t,i,n,a,o,s,c,l,u){this._tweens=e,this._tweenjs=t,this._startObject=Object(r.a)(i),this._stopObject=Object(r.a)(n),this._duration=a,this._delay=o,this._easingFunction=s,this._update=c,this._complete=l,this.cancel=u,this.needsStart=!0}function a(){this._tweens=[]}var r=i("wv0P"),o=i("5A4e"),s=i("xC6Q"),c=i("PzDm"),l=i("jxrD"),u=i("n08a"),h=i("9ZH6"),d=i("g5zr");Object.defineProperties(n.prototype,{startObject:{get:function(){return this._startObject}},stopObject:{get:function(){return this._stopObject}},duration:{get:function(){return this._duration}},delay:{get:function(){return this._delay}},easingFunction:{get:function(){return this._easingFunction}},update:{get:function(){return this._update}},complete:{get:function(){return this._complete}},tweenjs:{get:function(){return this._tweenjs}}}),n.prototype.cancelTween=function(){this._tweens.remove(this)},Object.defineProperties(a.prototype,{length:{get:function(){return this._tweens.length}}}),a.prototype.add=function(e){if(e=Object(o.a)(e,o.a.EMPTY_OBJECT),!Object(s.a)(e.startObject)||!Object(s.a)(e.stopObject))throw new c.a("options.startObject and options.stopObject are required.");if(!Object(s.a)(e.duration)||e.duration<0)throw new c.a("options.duration is required and must be positive.");if(0===e.duration)return Object(s.a)(e.complete)&&e.complete(),new n(this);var t=e.duration/h.a.SECONDS_PER_MILLISECOND,i=Object(o.a)(e.delay,0),a=i/h.a.SECONDS_PER_MILLISECOND,u=Object(o.a)(e.easingFunction,l.a.LINEAR_NONE),f=e.startObject,p=new d.a.Tween(f);p.to(Object(r.a)(e.stopObject),t),p.delay(a),p.easing(u),Object(s.a)(e.update)&&p.onUpdate(function(){e.update(f)}),p.onComplete(Object(o.a)(e.complete,null)),p.repeat(Object(o.a)(e._repeat,0));var m=new n(this,p,e.startObject,e.stopObject,e.duration,i,u,e.update,e.complete,e.cancel);return this._tweens.push(m),m},a.prototype.addProperty=function(e){function t(e){i[n]=e.value}e=Object(o.a)(e,o.a.EMPTY_OBJECT);var i=e.object,n=e.property,a=e.startValue,r=e.stopValue;if(!Object(s.a)(i)||!Object(s.a)(e.property))throw new c.a("options.object and options.property are required.");if(!Object(s.a)(i[n]))throw new c.a("options.object must have the specified property.");if(!Object(s.a)(a)||!Object(s.a)(r))throw new c.a("options.startValue and options.stopValue are required.");return this.add({startObject:{value:a},stopObject:{value:r},duration:Object(o.a)(e.duration,3),delay:e.delay,easingFunction:e.easingFunction,update:t,complete:e.complete,cancel:e.cancel,_repeat:e._repeat})},a.prototype.addAlpha=function(e){function t(e){for(var t=n.length,a=0;a<t;++a)i.uniforms[n[a]].alpha=e.alpha}e=Object(o.a)(e,o.a.EMPTY_OBJECT);var i=e.material;if(!Object(s.a)(i))throw new c.a("options.material is required.");var n=[];for(var a in i.uniforms)i.uniforms.hasOwnProperty(a)&&Object(s.a)(i.uniforms[a])&&Object(s.a)(i.uniforms[a].alpha)&&n.push(a);if(0===n.length)throw new c.a("material has no properties with alpha components.");return this.add({startObject:{alpha:Object(o.a)(e.startValue,0)},stopObject:{alpha:Object(o.a)(e.stopValue,1)},duration:Object(o.a)(e.duration,3),delay:e.delay,easingFunction:e.easingFunction,update:t,complete:e.complete,cancel:e.cancel})},a.prototype.addOffsetIncrement=function(e){e=Object(o.a)(e,o.a.EMPTY_OBJECT);var t=e.material;if(!Object(s.a)(t))throw new c.a("material is required.");if(!Object(s.a)(t.uniforms.offset))throw new c.a("material.uniforms must have an offset property.");var i=t.uniforms;return this.addProperty({object:i,property:"offset",startValue:i.offset,stopValue:i.offset+1,duration:e.duration,delay:e.delay,easingFunction:e.easingFunction,update:e.update,cancel:e.cancel,_repeat:1/0})},a.prototype.remove=function(e){if(!Object(s.a)(e))return!1;var t=this._tweens.indexOf(e);return-1!==t&&(e.tweenjs.stop(),Object(s.a)(e.cancel)&&e.cancel(),this._tweens.splice(t,1),!0)},a.prototype.removeAll=function(){for(var e=this._tweens,t=0;t<e.length;++t){var i=e[t];i.tweenjs.stop(),Object(s.a)(i.cancel)&&i.cancel()}e.length=0},a.prototype.contains=function(e){return Object(s.a)(e)&&-1!==this._tweens.indexOf(e)},a.prototype.get=function(e){if(!Object(s.a)(e))throw new c.a("index is required.");return this._tweens[e]},a.prototype.update=function(e){var t=this._tweens,i=0;for(e=Object(s.a)(e)?e/h.a.SECONDS_PER_MILLISECOND:Object(u.a)();i<t.length;){var n=t[i],a=n.tweenjs;n.needsStart?(n.needsStart=!1,a.start(e)):a.update(e)?i++:(a.stop(),t.splice(i,1))}},t.a=a},oYso:function(e,t,i){function n(e,t){for(var i in e)t[i]=e[i]}function a(e,t,i){return o(e,t,i)}var r=i("EuP9"),o=r.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=a),n(o,a),a.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,i)},a.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},odWO:function(e,t,i){"use strict";function n(e,t,i,n,a){e[t++]=i,e[t++]=n,e[t++]=n,e[t++]=a,e[t++]=a,e[t]=i}function a(e){for(var t=e.length,i=t/3*6,a=K.a.createTypedArray(t,i),r=0,o=0;o<t;o+=3,r+=6)n(a,r,e[o],e[o+1],e[o+2]);return a}function r(e){var t=e.length;if(t>=3){var i=6*(t-2),a=K.a.createTypedArray(t,i);n(a,0,e[0],e[1],e[2]);for(var r=6,o=3;o<t;++o,r+=6)n(a,r,e[o-1],e[o],e[o-2]);return a}return new Uint16Array}function o(e){if(e.length>0){for(var t=e.length-1,i=6*(t-1),a=K.a.createTypedArray(t,i),r=e[0],o=0,s=1;s<t;++s,o+=6)n(a,o,r,e[s],e[s+1]);return a}return new Uint16Array}function s(e){var t={};for(var i in e)if(e.hasOwnProperty(i)&&Object(W.a)(e[i])&&Object(W.a)(e[i].values)){var n=e[i];t[i]=new J.a({componentDatatype:n.componentDatatype,componentsPerAttribute:n.componentsPerAttribute,normalize:n.normalize,values:[]})}return t}function c(e,t,i){for(var n in t)if(t.hasOwnProperty(n)&&Object(W.a)(t[n])&&Object(W.a)(t[n].values))for(var a=t[n],r=0;r<a.componentsPerAttribute;++r)e[n].values.push(a.values[i*a.componentsPerAttribute+r])}function l(e,t){if(Object(W.a)(t))for(var i=t.values,n=i.length,a=0;a<n;a+=3)k.a.unpack(i,a,he),ne.a.multiplyByPoint(e,he,he),k.a.pack(he,i,a)}function u(e,t){if(Object(W.a)(t))for(var i=t.values,n=i.length,a=0;a<n;a+=3)k.a.unpack(i,a,he),ie.a.multiplyByVector(e,he,he),he=k.a.normalize(he,he),k.a.pack(he,i,a)}function h(e,t){var i,n=e.length,a={},r=e[0][t].attributes;for(i in r)if(r.hasOwnProperty(i)&&Object(W.a)(r[i])&&Object(W.a)(r[i].values)){for(var o=r[i],s=o.values.length,c=!0,l=1;l<n;++l){var u=e[l][t].attributes[i];if(!Object(W.a)(u)||o.componentDatatype!==u.componentDatatype||o.componentsPerAttribute!==u.componentsPerAttribute||o.normalize!==u.normalize){c=!1;break}s+=u.values.length}c&&(a[i]=new J.a({componentDatatype:o.componentDatatype,componentsPerAttribute:o.componentsPerAttribute,normalize:o.normalize,values:H.a.createTypedArray(o.componentDatatype,s)}))}return a}function d(e,t){var i,n,a,r,o=e.length,s=e[0].modelMatrix,c=Object(W.a)(e[0][t].indices),l=e[0][t].primitiveType;for(n=1;n<o;++n){if(!ne.a.equals(e[n].modelMatrix,s))throw new G.a("All instances must have the same modelMatrix.");if(Object(W.a)(e[n][t].indices)!==c)throw new G.a("All instance geometries must have an indices or not have one.");if(e[n][t].primitiveType!==l)throw new G.a("All instance geometries must have the same primitiveType.")}var u,d,f,p=h(e,t);for(i in p)if(p.hasOwnProperty(i))for(u=p[i].values,r=0,n=0;n<o;++n)for(d=e[n][t].attributes[i].values,f=d.length,a=0;a<f;++a)u[r++]=d[a];var m;if(c){var g=0;for(n=0;n<o;++n)g+=e[n][t].indices.length;var _=Q.a.computeNumberOfVertices(new Q.a({attributes:p,primitiveType:re.a.POINTS})),v=K.a.createTypedArray(_,g),b=0,y=0;for(n=0;n<o;++n){var O=e[n][t].indices,w=O.length;for(r=0;r<w;++r)v[b++]=y+O[r];y+=Q.a.computeNumberOfVertices(e[n][t])}m=v}var x,E=new k.a,T=0;for(n=0;n<o;++n){if(x=e[n][t].boundingSphere,!Object(W.a)(x)){E=void 0;break}k.a.add(x.center,E,E)}if(Object(W.a)(E))for(k.a.divideByScalar(E,o,E),n=0;n<o;++n){x=e[n][t].boundingSphere;var A=k.a.magnitude(k.a.subtract(x.center,E,pe))+x.radius;A>T&&(T=A)}return new Q.a({attributes:p,indices:m,primitiveType:l,boundingSphere:Object(W.a)(E)?new z.a(E,T):void 0})}function f(e){if(Object(W.a)(e.indices))return e;var t=Q.a.computeNumberOfVertices(e);if(t<3)throw new G.a("The number of vertices must be at least three.");if(t%3!=0)throw new G.a("The number of vertices must be a multiple of three.");for(var i=K.a.createTypedArray(t,t),n=0;n<t;++n)i[n]=n;return e.indices=i,e}function p(e){var t=Q.a.computeNumberOfVertices(e);if(t<3)throw new G.a("The number of vertices must be at least three.");var i=K.a.createTypedArray(t,3*(t-2));i[0]=1,i[1]=0,i[2]=2;for(var n=3,a=3;a<t;++a)i[n++]=a-1,i[n++]=0,i[n++]=a;return e.indices=i,e.primitiveType=re.a.TRIANGLES,e}function m(e){var t=Q.a.computeNumberOfVertices(e);if(t<3)throw new G.a("The number of vertices must be at least 3.");var i=K.a.createTypedArray(t,3*(t-2));i[0]=0,i[1]=1,i[2]=2,t>3&&(i[3]=0,i[4]=2,i[5]=3);for(var n=6,a=3;a<t-1;a+=2)i[n++]=a,i[n++]=a-1,i[n++]=a+1,a+2<t&&(i[n++]=a,i[n++]=a+1,i[n++]=a+2);return e.indices=i,e.primitiveType=re.a.TRIANGLES,e}function g(e){if(Object(W.a)(e.indices))return e;var t=Q.a.computeNumberOfVertices(e);if(t<2)throw new G.a("The number of vertices must be at least two.");if(t%2!=0)throw new G.a("The number of vertices must be a multiple of 2.");for(var i=K.a.createTypedArray(t,t),n=0;n<t;++n)i[n]=n;return e.indices=i,e}function _(e){var t=Q.a.computeNumberOfVertices(e);if(t<2)throw new G.a("The number of vertices must be at least two.");var i=K.a.createTypedArray(t,2*(t-1));i[0]=0,i[1]=1;for(var n=2,a=2;a<t;++a)i[n++]=a-1,i[n++]=a;return e.indices=i,e.primitiveType=re.a.LINES,e}function v(e){var t=Q.a.computeNumberOfVertices(e);if(t<2)throw new G.a("The number of vertices must be at least two.");var i=K.a.createTypedArray(t,2*t);i[0]=0,i[1]=1;for(var n=2,a=2;a<t;++a)i[n++]=a-1,i[n++]=a;return i[n++]=t-1,i[n]=0,e.indices=i,e.primitiveType=re.a.LINES,e}function b(e){switch(e.primitiveType){case re.a.TRIANGLE_FAN:return p(e);case re.a.TRIANGLE_STRIP:return m(e);case re.a.TRIANGLES:return f(e);case re.a.LINE_STRIP:return _(e);case re.a.LINE_LOOP:return v(e);case re.a.LINES:return g(e)}return e}function y(e,t){Math.abs(e.y)<te.a.EPSILON6&&(e.y=t?-te.a.EPSILON6:te.a.EPSILON6)}function O(e,t,i){if(0!==e.y&&0!==t.y&&0!==i.y)return y(e,e.y<0),y(t,t.y<0),void y(i,i.y<0);var n,a=Math.abs(e.y),r=Math.abs(t.y),o=Math.abs(i.y);n=a>r?a>o?te.a.sign(e.y):te.a.sign(i.y):r>o?te.a.sign(t.y):te.a.sign(i.y);var s=n<0;y(e,s),y(t,s),y(i,s)}function w(e,t,i,n){k.a.add(e,k.a.multiplyByScalar(k.a.subtract(t,e,Ce),e.y/(e.y-t.y),Ce),i),k.a.clone(i,n),y(i,!0),y(n,!1)}function x(e,t,i){if(!(e.x>=0||t.x>=0||i.x>=0)){O(e,t,i);var n=e.y<0,a=t.y<0,r=i.y<0,o=0;o+=n?1:0,o+=a?1:0,o+=r?1:0;var s=Ie.indices;1===o?(s[1]=3,s[2]=4,s[5]=6,s[7]=6,s[8]=5,n?(w(e,t,Se,Pe),w(e,i,je,De),s[0]=0,s[3]=1,s[4]=2,s[6]=1):a?(w(t,i,Se,Pe),w(t,e,je,De),s[0]=1,s[3]=2,s[4]=0,s[6]=2):r&&(w(i,e,Se,Pe),w(i,t,je,De),s[0]=2,s[3]=0,s[4]=1,s[6]=0)):2===o&&(s[2]=4,s[4]=4,s[5]=3,s[7]=5,s[8]=6,n?a?r||(w(i,e,Se,Pe),w(i,t,je,De),s[0]=0,s[1]=1,s[3]=0,s[6]=2):(w(t,i,Se,Pe),w(t,e,je,De),s[0]=2,s[1]=0,s[3]=2,s[6]=1):(w(e,t,Se,Pe),w(e,i,je,De),s[0]=1,s[1]=2,s[3]=1,s[6]=0));var c=Ie.positions;return c[0]=e,c[1]=t,c[2]=i,c.length=3,1!==o&&2!==o||(c[3]=Se,c[4]=je,c[5]=Pe,c[6]=De,c.length=7),Ie}}function E(e,t){var i=e.attributes;if(0!==i.position.values.length){for(var n in i)if(i.hasOwnProperty(n)&&Object(W.a)(i[n])&&Object(W.a)(i[n].values)){var a=i[n];a.values=H.a.createTypedArray(a.componentDatatype,a.values)}var r=Q.a.computeNumberOfVertices(e);return e.indices=K.a.createTypedArray(r,e.indices),t&&(e.boundingSphere=z.a.fromVertices(i.position.values)),e}}function T(e){var t=e.attributes,i={};for(var n in t)if(t.hasOwnProperty(n)&&Object(W.a)(t[n])&&Object(W.a)(t[n].values)){var a=t[n];i[n]=new J.a({componentDatatype:a.componentDatatype,componentsPerAttribute:a.componentsPerAttribute,normalize:a.normalize,values:[]})}return new Q.a({attributes:i,indices:[],primitiveType:e.primitiveType})}function A(e,t,i){var n=Object(W.a)(e.geometry.boundingSphere);t=E(t,n),i=E(i,n),Object(W.a)(i)&&!Object(W.a)(t)?e.geometry=i:!Object(W.a)(i)&&Object(W.a)(t)?e.geometry=t:(e.westHemisphereGeometry=t,e.eastHemisphereGeometry=i,e.geometry=void 0)}function C(e,t){var i=new e,n=new e,a=new e;return function(r,o,s,c,l,u,h,d){var f=e.fromArray(l,r*t,i),p=e.fromArray(l,o*t,n),m=e.fromArray(l,s*t,a);e.multiplyByScalar(f,c.x,f),e.multiplyByScalar(p,c.y,p),e.multiplyByScalar(m,c.z,m);var g=e.add(f,p,f);e.add(g,m,g),d&&e.normalize(g,g),e.pack(g,u,h*t)}}function S(e,t,i,n,a,r,o,s,c,l,u,h,d,f,p,m){if(Object(W.a)(r)||Object(W.a)(o)||Object(W.a)(s)||Object(W.a)(c)||Object(W.a)(l)||0!==f){var g=k.a.fromArray(a,3*e,Fe),_=k.a.fromArray(a,3*t,ze),v=k.a.fromArray(a,3*i,Be),b=Object(F.a)(n,g,_,v,ke);if(Object(W.a)(r)&&Me(e,t,i,b,r,h.normal.values,m,!0),Object(W.a)(l)){var y=k.a.fromArray(l,3*e,Fe),O=k.a.fromArray(l,3*t,ze),w=k.a.fromArray(l,3*i,Be);k.a.multiplyByScalar(y,b.x,y),k.a.multiplyByScalar(O,b.y,O),k.a.multiplyByScalar(w,b.z,w);var x;k.a.equals(y,k.a.ZERO)&&k.a.equals(O,k.a.ZERO)&&k.a.equals(w,k.a.ZERO)?(x=Fe,x.x=0,x.y=0,x.z=0):(x=k.a.add(y,O,y),k.a.add(x,w,x),k.a.normalize(x,x)),k.a.pack(x,h.extrudeDirection.values,3*m)}if(Object(W.a)(u)&&Ne(e,t,i,b,u,h.applyOffset.values,m),Object(W.a)(o)&&Me(e,t,i,b,o,h.tangent.values,m,!0),Object(W.a)(s)&&Me(e,t,i,b,s,h.bitangent.values,m,!0),Object(W.a)(c)&&Le(e,t,i,b,c,h.st.values,m),f>0)for(var E=0;E<f;E++){var T=d[E];j(e,t,i,b,m,p[T],h[T])}}}function j(e,t,i,n,a,r,o){var s=r.componentsPerAttribute,c=r.values,l=o.values;switch(s){case 4:Re(e,t,i,n,c,l,a,!1);break;case 3:Me(e,t,i,n,c,l,a,!1);break;case 2:Le(e,t,i,n,c,l,a,!1);break;default:l[a]=c[e]*n.x+c[t]*n.y+c[i]*n.z}}function P(e,t,i,n,a,r){var o=e.position.values.length/3;if(-1!==a){var s=n[a],c=i[s];return-1===c?(i[s]=o,e.position.values.push(r.x,r.y,r.z),t.push(o),o):(t.push(c),c)}return e.position.values.push(r.x,r.y,r.z),t.push(o),o}function D(e){var t=e.geometry,i=t.attributes,n=i.position.values,a=Object(W.a)(i.normal)?i.normal.values:void 0,r=Object(W.a)(i.bitangent)?i.bitangent.values:void 0,o=Object(W.a)(i.tangent)?i.tangent.values:void 0,s=Object(W.a)(i.st)?i.st.values:void 0,c=Object(W.a)(i.extrudeDirection)?i.extrudeDirection.values:void 0,l=Object(W.a)(i.applyOffset)?i.applyOffset.values:void 0,u=t.indices,h=[];for(var d in i)i.hasOwnProperty(d)&&!Ue[d]&&Object(W.a)(i[d])&&h.push(d);var f,p,m,g,_,v=h.length,b=T(t),y=T(t),O=[];O.length=n.length/3;var w=[];for(w.length=n.length/3,_=0;_<O.length;++_)O[_]=-1,w[_]=-1;var E=u.length;for(_=0;_<E;_+=3){var C=u[_],j=u[_+1],D=u[_+2],I=k.a.fromArray(n,3*C),R=k.a.fromArray(n,3*j),M=k.a.fromArray(n,3*D),L=x(I,R,M);if(Object(W.a)(L)&&L.positions.length>3)for(var N=L.positions,F=L.indices,z=F.length,B=0;B<z;++B){var U=F[B],V=N[U];V.y<0?(f=y.attributes,p=y.indices,m=O):(f=b.attributes,p=b.indices,m=w),g=P(f,p,m,u,U<3?_+U:-1,V),S(C,j,D,V,n,a,o,r,s,c,l,f,h,v,i,g)}else Object(W.a)(L)&&(I=L.positions[0],R=L.positions[1],M=L.positions[2]),I.y<0?(f=y.attributes,p=y.indices,m=O):(f=b.attributes,p=b.indices,m=w),g=P(f,p,m,u,_,I),S(C,j,D,I,n,a,o,r,s,c,l,f,h,v,i,g),g=P(f,p,m,u,_+1,R),S(C,j,D,R,n,a,o,r,s,c,l,f,h,v,i,g),g=P(f,p,m,u,_+2,M),S(C,j,D,M,n,a,o,r,s,c,l,f,h,v,i,g)}A(e,y,b)}function I(e,t,i,n,a,r,o){if(Object(W.a)(o)){var s=k.a.fromArray(n,3*e,Fe);k.a.equalsEpsilon(s,i,te.a.EPSILON10)?r.applyOffset.values[a]=o[e]:r.applyOffset.values[a]=o[t]}}function R(e){var t,i=e.geometry,n=i.attributes,a=n.position.values,r=Object(W.a)(n.applyOffset)?n.applyOffset.values:void 0,o=i.indices,s=T(i),c=T(i),l=o.length,u=[];u.length=a.length/3;var h=[];for(h.length=a.length/3,t=0;t<u.length;++t)u[t]=-1,h[t]=-1;for(t=0;t<l;t+=2){var d,f=o[t],p=o[t+1],m=k.a.fromArray(a,3*f,Fe),g=k.a.fromArray(a,3*p,ze);Math.abs(m.y)<te.a.EPSILON6&&(m.y<0?m.y=-te.a.EPSILON6:m.y=te.a.EPSILON6),Math.abs(g.y)<te.a.EPSILON6&&(g.y<0?g.y=-te.a.EPSILON6:g.y=te.a.EPSILON6);var _=s.attributes,v=s.indices,b=h,y=c.attributes,O=c.indices,w=u,x=ee.a.lineSegmentPlane(m,g,Ve,Be);if(Object(W.a)(x)){var E=k.a.multiplyByScalar(k.a.UNIT_Y,5*te.a.EPSILON9,He);m.y<0&&(k.a.negate(E,E),_=c.attributes,v=c.indices,b=u,y=s.attributes,O=s.indices,w=h);var C=k.a.add(x,E,qe);d=P(_,v,b,o,t,m),I(f,p,m,a,d,_,r),d=P(_,v,b,o,-1,C),I(f,p,C,a,d,_,r),k.a.negate(E,E),k.a.add(x,E,C),d=P(y,O,w,o,-1,C),I(f,p,C,a,d,y,r),d=P(y,O,w,o,t+1,g),I(f,p,g,a,d,y,r)}else{var S,j,D;m.y<0?(S=c.attributes,j=c.indices,D=u):(S=s.attributes,j=s.indices,D=h),d=P(S,j,D,o,t,m),I(f,p,m,a,d,S,r),d=P(S,j,D,o,t+1,g),I(f,p,g,a,d,S,r)}}A(e,c,s)}function M(e){for(var t=e.attributes,i=t.position.values,n=t.prevPosition.values,a=t.nextPosition.values,r=i.length,o=0;o<r;o+=3){var s=k.a.unpack(i,o,Ye);if(!(s.x>0)){var c=k.a.unpack(n,o,Xe);(s.y<0&&c.y>0||s.y>0&&c.y<0)&&(o-3>0?(n[o]=i[o-3],n[o+1]=i[o-2],n[o+2]=i[o-1]):k.a.pack(s,n,o));var l=k.a.unpack(a,o,Qe);(s.y<0&&l.y>0||s.y>0&&l.y<0)&&(o+3<r?(a[o]=i[o+3],a[o+1]=i[o+4],a[o+2]=i[o+5]):k.a.pack(s,a,o))}}}function L(e){var t,i,n,a=e.geometry,r=a.attributes,o=r.position.values,s=r.prevPosition.values,c=r.nextPosition.values,l=r.expandAndWidth.values,u=Object(W.a)(r.st)?r.st.values:void 0,h=Object(W.a)(r.color)?r.color.values:void 0,d=T(a),f=T(a),p=!1,m=o.length/3;for(t=0;t<m;t+=4){var g=t,_=t+2,v=k.a.fromArray(o,3*g,Ye),b=k.a.fromArray(o,3*_,Xe);if(Math.abs(v.y)<tt)for(v.y=tt*(b.y<0?-1:1),o[3*t+1]=v.y,o[3*(t+1)+1]=v.y,i=3*g;i<3*g+12;i+=3)s[i]=o[3*t],s[i+1]=o[3*t+1],s[i+2]=o[3*t+2];if(Math.abs(b.y)<tt)for(b.y=tt*(v.y<0?-1:1),o[3*(t+2)+1]=b.y,o[3*(t+3)+1]=b.y,i=3*g;i<3*g+12;i+=3)c[i]=o[3*(t+2)],c[i+1]=o[3*(t+2)+1],c[i+2]=o[3*(t+2)+2];var y=d.attributes,O=d.indices,w=f.attributes,x=f.indices,E=ee.a.lineSegmentPlane(v,b,Ve,Je);if(Object(W.a)(E)){p=!0;var C=k.a.multiplyByScalar(k.a.UNIT_Y,et,Ze);v.y<0&&(k.a.negate(C,C),y=f.attributes,O=f.indices,w=d.attributes,x=d.indices);var S=k.a.add(E,C,Ke);y.position.values.push(v.x,v.y,v.z,v.x,v.y,v.z),y.position.values.push(S.x,S.y,S.z),y.position.values.push(S.x,S.y,S.z),y.prevPosition.values.push(s[3*g],s[3*g+1],s[3*g+2]),y.prevPosition.values.push(s[3*g+3],s[3*g+4],s[3*g+5]),y.prevPosition.values.push(v.x,v.y,v.z,v.x,v.y,v.z),y.nextPosition.values.push(S.x,S.y,S.z),y.nextPosition.values.push(S.x,S.y,S.z),y.nextPosition.values.push(S.x,S.y,S.z),y.nextPosition.values.push(S.x,S.y,S.z),k.a.negate(C,C),k.a.add(E,C,S),w.position.values.push(S.x,S.y,S.z),w.position.values.push(S.x,S.y,S.z),w.position.values.push(b.x,b.y,b.z,b.x,b.y,b.z),w.prevPosition.values.push(S.x,S.y,S.z),w.prevPosition.values.push(S.x,S.y,S.z),w.prevPosition.values.push(S.x,S.y,S.z),w.prevPosition.values.push(S.x,S.y,S.z),w.nextPosition.values.push(b.x,b.y,b.z,b.x,b.y,b.z),w.nextPosition.values.push(c[3*_],c[3*_+1],c[3*_+2]),w.nextPosition.values.push(c[3*_+3],c[3*_+4],c[3*_+5]);var j=B.a.fromArray(l,2*g,We),P=Math.abs(j.y);y.expandAndWidth.values.push(-1,P,1,P),y.expandAndWidth.values.push(-1,-P,1,-P),w.expandAndWidth.values.push(-1,P,1,P),w.expandAndWidth.values.push(-1,-P,1,-P);var D=k.a.magnitudeSquared(k.a.subtract(E,v,Qe));if(D/=k.a.magnitudeSquared(k.a.subtract(b,v,Qe)),Object(W.a)(h)){var I=U.a.fromArray(h,4*g,$e),R=U.a.fromArray(h,4*_,$e),L=te.a.lerp(I.x,R.x,D),N=te.a.lerp(I.y,R.y,D),F=te.a.lerp(I.z,R.z,D),z=te.a.lerp(I.w,R.w,D);for(i=4*g;i<4*g+8;++i)y.color.values.push(h[i]);for(y.color.values.push(L,N,F,z),y.color.values.push(L,N,F,z),w.color.values.push(L,N,F,z),w.color.values.push(L,N,F,z),i=4*_;i<4*_+8;++i)w.color.values.push(h[i])}if(Object(W.a)(u)){var V=B.a.fromArray(u,2*g,We),H=B.a.fromArray(u,2*(t+3),Ge),q=te.a.lerp(V.x,H.x,D);for(i=2*g;i<2*g+4;++i)y.st.values.push(u[i]);for(y.st.values.push(q,V.y),y.st.values.push(q,H.y),w.st.values.push(q,V.y),w.st.values.push(q,H.y),i=2*_;i<2*_+4;++i)w.st.values.push(u[i])}n=y.position.values.length/3-4,O.push(n,n+2,n+1),O.push(n+1,n+2,n+3),n=w.position.values.length/3-4,x.push(n,n+2,n+1),x.push(n+1,n+2,n+3)}else{var G,Y;for(v.y<0?(G=f.attributes,Y=f.indices):(G=d.attributes,Y=d.indices),G.position.values.push(v.x,v.y,v.z),G.position.values.push(v.x,v.y,v.z),G.position.values.push(b.x,b.y,b.z),G.position.values.push(b.x,b.y,b.z),i=3*t;i<3*t+12;++i)G.prevPosition.values.push(s[i]),G.nextPosition.values.push(c[i]);for(i=2*t;i<2*t+8;++i)G.expandAndWidth.values.push(l[i]),Object(W.a)(u)&&G.st.values.push(u[i]);if(Object(W.a)(h))for(i=4*t;i<4*t+16;++i)G.color.values.push(h[i]);n=G.position.values.length/3-4,Y.push(n,n+2,n+1),Y.push(n+1,n+2,n+3)}}p&&(M(f),M(d)),A(e,f,d)}var N=i("j90k"),F=i("fwwW"),z=i("lBr9"),B=i("Ss9j"),k=i("Jj+J"),U=i("PDkd"),V=i("I3GD"),H=i("YCZg"),q=i("5A4e"),W=i("xC6Q"),G=i("PzDm"),Y=i("Is4l"),X=i("eUIW"),Q=i("RGAo"),J=i("RYD3"),Z=i("pLXb"),K=i("oMsT"),$=i("u909"),ee=i("Myjj"),te=i("fq+p"),ie=i("i3sv"),ne=i("Xjii"),ae=i("kRxM"),re=i("nHNe"),oe=i("M1aY"),se={};se.toWireframe=function(e){if(!Object(W.a)(e))throw new G.a("geometry is required.");var t=e.indices;if(Object(W.a)(t)){switch(e.primitiveType){case re.a.TRIANGLES:e.indices=a(t);break;case re.a.TRIANGLE_STRIP:e.indices=r(t);break;case re.a.TRIANGLE_FAN:e.indices=o(t);break;default:throw new G.a("geometry.primitiveType must be TRIANGLES, TRIANGLE_STRIP, or TRIANGLE_FAN.")}e.primitiveType=re.a.LINES}return e},se.createLineSegmentsForVectors=function(e,t,i){if(t=Object(q.a)(t,"normal"),!Object(W.a)(e))throw new G.a("geometry is required.");if(!Object(W.a)(e.attributes.position))throw new G.a("geometry.attributes.position is required.");if(!Object(W.a)(e.attributes[t]))throw new G.a("geometry.attributes must have an attribute with the same name as the attributeName parameter, "+t+".");i=Object(q.a)(i,1e4);for(var n=e.attributes.position.values,a=e.attributes[t].values,r=n.length,o=new Float64Array(2*r),s=0,c=0;c<r;c+=3)o[s++]=n[c],o[s++]=n[c+1],o[s++]=n[c+2],o[s++]=n[c]+a[c]*i,o[s++]=n[c+1]+a[c+1]*i,o[s++]=n[c+2]+a[c+2]*i;var l,u=e.boundingSphere;return Object(W.a)(u)&&(l=new z.a(u.center,u.radius+i)),new Q.a({attributes:{position:new J.a({componentDatatype:H.a.DOUBLE,componentsPerAttribute:3,values:o})},primitiveType:re.a.LINES,boundingSphere:l})},se.createAttributeLocations=function(e){if(!Object(W.a)(e))throw new G.a("geometry is required.");var t,i=["position","positionHigh","positionLow","position3DHigh","position3DLow","position2DHigh","position2DLow","pickColor","normal","st","tangent","bitangent","extrudeDirection","compressedAttributes"],n=e.attributes,a={},r=0,o=i.length;for(t=0;t<o;++t){var s=i[t];Object(W.a)(n[s])&&(a[s]=r++)}for(var c in n)n.hasOwnProperty(c)&&!Object(W.a)(a[c])&&(a[c]=r++);return a},se.reorderForPreVertexCache=function(e){if(!Object(W.a)(e))throw new G.a("geometry is required.");var t=Q.a.computeNumberOfVertices(e),i=e.indices;if(Object(W.a)(i)){for(var n=new Int32Array(t),a=0;a<t;a++)n[a]=-1;for(var r,o=i,s=o.length,c=K.a.createTypedArray(t,s),l=0,u=0,h=0;l<s;)r=n[o[l]],-1!==r?c[u]=r:(r=o[l],n[r]=h,c[u]=h,++h),++l,++u;e.indices=c;var d=e.attributes;for(var f in d)if(d.hasOwnProperty(f)&&Object(W.a)(d[f])&&Object(W.a)(d[f].values)){for(var p=d[f],m=p.values,g=0,_=p.componentsPerAttribute,v=H.a.createTypedArray(p.componentDatatype,h*_);g<t;){var b=n[g];if(-1!==b)for(var y=0;y<_;y++)v[_*b+y]=m[_*g+y];++g}p.values=v}}return e},se.reorderForPostVertexCache=function(e,t){if(!Object(W.a)(e))throw new G.a("geometry is required.");var i=e.indices;if(e.primitiveType===re.a.TRIANGLES&&Object(W.a)(i)){for(var n=i.length,a=0,r=0;r<n;r++)i[r]>a&&(a=i[r]);e.indices=oe.a.tipsify({indices:i,maximumIndex:a,cacheSize:t})}return e},se.fitToUnsignedShortIndices=function(e){if(!Object(W.a)(e))throw new G.a("geometry is required.");if(Object(W.a)(e.indices)&&e.primitiveType!==re.a.TRIANGLES&&e.primitiveType!==re.a.LINES&&e.primitiveType!==re.a.POINTS)throw new G.a("geometry.primitiveType must equal to PrimitiveType.TRIANGLES, PrimitiveType.LINES, or PrimitiveType.POINTS.");var t=[],i=Q.a.computeNumberOfVertices(e);if(Object(W.a)(e.indices)&&i>=te.a.SIXTY_FOUR_KILOBYTES){var n,a=[],r=[],o=0,l=s(e.attributes),u=e.indices,h=u.length;e.primitiveType===re.a.TRIANGLES?n=3:e.primitiveType===re.a.LINES?n=2:e.primitiveType===re.a.POINTS&&(n=1);for(var d=0;d<h;d+=n){for(var f=0;f<n;++f){var p=u[d+f],m=a[p];Object(W.a)(m)||(m=o++,a[p]=m,c(l,e.attributes,p)),r.push(m)}o+n>=te.a.SIXTY_FOUR_KILOBYTES&&(t.push(new Q.a({attributes:l,indices:r,primitiveType:e.primitiveType,boundingSphere:e.boundingSphere,boundingSphereCV:e.boundingSphereCV})),a=[],r=[],o=0,l=s(e.attributes))}0!==r.length&&t.push(new Q.a({attributes:l,indices:r,primitiveType:e.primitiveType,boundingSphere:e.boundingSphere,boundingSphereCV:e.boundingSphereCV}))}else t.push(e);return t};var ce=new k.a,le=new V.a;se.projectTo2D=function(e,t,i,n,a){if(!Object(W.a)(e))throw new G.a("geometry is required.");if(!Object(W.a)(t))throw new G.a("attributeName is required.");if(!Object(W.a)(i))throw new G.a("attributeName3D is required.");if(!Object(W.a)(n))throw new G.a("attributeName2D is required.");if(!Object(W.a)(e.attributes[t]))throw new G.a("geometry must have attribute matching the attributeName argument: "+t+".");if(e.attributes[t].componentDatatype!==H.a.DOUBLE)throw new G.a("The attribute componentDatatype must be ComponentDatatype.DOUBLE.");var r=e.attributes[t];a=Object(W.a)(a)?a:new X.a;for(var o=a.ellipsoid,s=r.values,c=new Float64Array(s.length),l=0,u=0;u<s.length;u+=3){var h=k.a.fromArray(s,u,ce),d=o.cartesianToCartographic(h,le);if(!Object(W.a)(d))throw new G.a("Could not project point ("+h.x+", "+h.y+", "+h.z+") to 2D.");var f=a.project(d,ce);c[l++]=f.x,c[l++]=f.y,c[l++]=f.z}return e.attributes[i]=r,e.attributes[n]=new J.a({componentDatatype:H.a.DOUBLE,componentsPerAttribute:3,values:c}),delete e.attributes[t],e};var ue={high:0,low:0};se.encodeAttribute=function(e,t,i,n){if(!Object(W.a)(e))throw new G.a("geometry is required.");if(!Object(W.a)(t))throw new G.a("attributeName is required.");if(!Object(W.a)(i))throw new G.a("attributeHighName is required.");if(!Object(W.a)(n))throw new G.a("attributeLowName is required.");if(!Object(W.a)(e.attributes[t]))throw new G.a("geometry must have attribute matching the attributeName argument: "+t+".");if(e.attributes[t].componentDatatype!==H.a.DOUBLE)throw new G.a("The attribute componentDatatype must be ComponentDatatype.DOUBLE.");for(var a=e.attributes[t],r=a.values,o=r.length,s=new Float32Array(o),c=new Float32Array(o),l=0;l<o;++l)Y.a.encode(r[l],ue),s[l]=ue.high,c[l]=ue.low;var u=a.componentsPerAttribute;return e.attributes[i]=new J.a({componentDatatype:H.a.FLOAT,componentsPerAttribute:u,values:s}),e.attributes[n]=new J.a({componentDatatype:H.a.FLOAT,componentsPerAttribute:u,values:c}),delete e.attributes[t],e};var he=new k.a,de=new ne.a,fe=new ie.a;se.transformToWorldCoordinates=function(e){if(!Object(W.a)(e))throw new G.a("instance is required.");var t=e.modelMatrix;if(ne.a.equals(t,ne.a.IDENTITY))return e;var i=e.geometry.attributes;l(t,i.position),l(t,i.prevPosition),l(t,i.nextPosition),(Object(W.a)(i.normal)||Object(W.a)(i.tangent)||Object(W.a)(i.bitangent))&&(ne.a.inverse(t,de),ne.a.transpose(de,de),ne.a.getMatrix3(de,fe),u(fe,i.normal),u(fe,i.tangent),u(fe,i.bitangent));var n=e.geometry.boundingSphere;return Object(W.a)(n)&&(e.geometry.boundingSphere=z.a.transform(n,t,n)),e.modelMatrix=ne.a.clone(ne.a.IDENTITY),e};var pe=new k.a;se.combineInstances=function(e){if(!Object(W.a)(e)||e.length<1)throw new G.a("instances is required and must have length greater than zero.");for(var t=[],i=[],n=e.length,a=0;a<n;++a){var r=e[a];Object(W.a)(r.geometry)?t.push(r):Object(W.a)(r.westHemisphereGeometry)&&Object(W.a)(r.eastHemisphereGeometry)&&i.push(r)}var o=[];return t.length>0&&o.push(d(t,"geometry")),i.length>0&&(o.push(d(i,"westHemisphereGeometry")),o.push(d(i,"eastHemisphereGeometry"))),o};var me=new k.a,ge=new k.a,_e=new k.a,ve=new k.a;se.computeNormal=function(e){if(!Object(W.a)(e))throw new G.a("geometry is required.");if(!Object(W.a)(e.attributes.position)||!Object(W.a)(e.attributes.position.values))throw new G.a("geometry.attributes.position.values is required.");if(!Object(W.a)(e.indices))throw new G.a("geometry.indices is required.");if(e.indices.length<2||e.indices.length%3!=0)throw new G.a("geometry.indices length must be greater than 0 and be a multiple of 3.");if(e.primitiveType!==re.a.TRIANGLES)throw new G.a("geometry.primitiveType must be PrimitiveType.TRIANGLES.");var t,i=e.indices,n=e.attributes,a=n.position.values,r=n.position.values.length/3,o=i.length,s=new Array(r),c=new Array(o/3),l=new Array(o);for(t=0;t<r;t++)s[t]={indexOffset:0,count:0,currentCount:0};var u=0;for(t=0;t<o;t+=3){var h=i[t],d=i[t+1],f=i[t+2],p=3*h,m=3*d,g=3*f;ge.x=a[p],ge.y=a[p+1],ge.z=a[p+2],_e.x=a[m],_e.y=a[m+1],_e.z=a[m+2],ve.x=a[g],ve.y=a[g+1],ve.z=a[g+2],s[h].count++,s[d].count++,s[f].count++,k.a.subtract(_e,ge,_e),k.a.subtract(ve,ge,ve),c[u]=k.a.cross(_e,ve,new k.a),u++}var _=0;for(t=0;t<r;t++)s[t].indexOffset+=_,_+=s[t].count;u=0;var v;for(t=0;t<o;t+=3){v=s[i[t]];var b=v.indexOffset+v.currentCount;l[b]=u,v.currentCount++,v=s[i[t+1]],b=v.indexOffset+v.currentCount,l[b]=u,v.currentCount++,v=s[i[t+2]],b=v.indexOffset+v.currentCount,l[b]=u,v.currentCount++,u++}var y=new Float32Array(3*r);for(t=0;t<r;t++){var O=3*t;if(v=s[t],k.a.clone(k.a.ZERO,me),v.count>0){for(u=0;u<v.count;u++)k.a.add(me,c[l[v.indexOffset+u]],me);k.a.equalsEpsilon(k.a.ZERO,me,te.a.EPSILON10)&&k.a.clone(c[l[v.indexOffset]],me)}k.a.equalsEpsilon(k.a.ZERO,me,te.a.EPSILON10)&&(me.z=1),k.a.normalize(me,me),y[O]=me.x,y[O+1]=me.y,y[O+2]=me.z}return e.attributes.normal=new J.a({componentDatatype:H.a.FLOAT,componentsPerAttribute:3,values:y}),e};var be=new k.a,ye=new k.a,Oe=new k.a;se.computeTangentAndBitangent=function(e){if(!Object(W.a)(e))throw new G.a("geometry is required.");var t=e.attributes,i=e.indices;if(!Object(W.a)(t.position)||!Object(W.a)(t.position.values))throw new G.a("geometry.attributes.position.values is required.");if(!Object(W.a)(t.normal)||!Object(W.a)(t.normal.values))throw new G.a("geometry.attributes.normal.values is required.");if(!Object(W.a)(t.st)||!Object(W.a)(t.st.values))throw new G.a("geometry.attributes.st.values is required.");if(!Object(W.a)(i))throw new G.a("geometry.indices is required.");if(i.length<2||i.length%3!=0)throw new G.a("geometry.indices length must be greater than 0 and be a multiple of 3.");if(e.primitiveType!==re.a.TRIANGLES)throw new G.a("geometry.primitiveType must be PrimitiveType.TRIANGLES.");var n,a=e.attributes.position.values,r=e.attributes.normal.values,o=e.attributes.st.values,s=e.attributes.position.values.length/3,c=i.length,l=new Array(3*s);for(n=0;n<l.length;n++)l[n]=0;var u,h,d;for(n=0;n<c;n+=3){var f=i[n],p=i[n+1],m=i[n+2];u=3*f,h=3*p,d=3*m;var g=2*f,_=2*p,v=2*m,b=a[u],y=a[u+1],O=a[u+2],w=o[g],x=o[g+1],E=o[_+1]-x,T=o[v+1]-x,A=1/((o[_]-w)*T-(o[v]-w)*E),C=(T*(a[h]-b)-E*(a[d]-b))*A,S=(T*(a[h+1]-y)-E*(a[d+1]-y))*A,j=(T*(a[h+2]-O)-E*(a[d+2]-O))*A;l[u]+=C,l[u+1]+=S,l[u+2]+=j,l[h]+=C,l[h+1]+=S,l[h+2]+=j,l[d]+=C,l[d+1]+=S,l[d+2]+=j}var P=new Float32Array(3*s),D=new Float32Array(3*s);for(n=0;n<s;n++){u=3*n,h=u+1,d=u+2;var I=k.a.fromArray(r,u,be),R=k.a.fromArray(l,u,Oe),M=k.a.dot(I,R);k.a.multiplyByScalar(I,M,ye),k.a.normalize(k.a.subtract(R,ye,R),R),P[u]=R.x,P[h]=R.y,P[d]=R.z,k.a.normalize(k.a.cross(I,R,R),R),D[u]=R.x,D[h]=R.y,D[d]=R.z}return e.attributes.tangent=new J.a({componentDatatype:H.a.FLOAT,componentsPerAttribute:3,values:P}),e.attributes.bitangent=new J.a({componentDatatype:H.a.FLOAT,componentsPerAttribute:3,values:D}),e};var we=new B.a,xe=new k.a,Ee=new k.a,Te=new k.a,Ae=new B.a;se.compressVertices=function(e){if(!Object(W.a)(e))throw new G.a("geometry is required.");var t,i,n=e.attributes.extrudeDirection;if(Object(W.a)(n)){var a=n.values;i=a.length/3;var r=new Float32Array(2*i),o=0;for(t=0;t<i;++t)k.a.fromArray(a,3*t,xe),k.a.equals(xe,k.a.ZERO)?o+=2:(Ae=N.a.octEncodeInRange(xe,65535,Ae),r[o++]=Ae.x,r[o++]=Ae.y);return e.attributes.compressedAttributes=new J.a({componentDatatype:H.a.FLOAT,componentsPerAttribute:2,values:r}),delete e.attributes.extrudeDirection,e}var s=e.attributes.normal,c=e.attributes.st,l=Object(W.a)(s),u=Object(W.a)(c);if(!l&&!u)return e;var h,d,f,p,m=e.attributes.tangent,g=e.attributes.bitangent,_=Object(W.a)(m),v=Object(W.a)(g);l&&(h=s.values),u&&(d=c.values),_&&(f=m.values),v&&(p=g.values),i=(l?h.length:d.length)/(l?3:2);var b=i,y=u&&l?2:1;y+=_||v?1:0,b*=y;var O=new Float32Array(b),w=0;for(t=0;t<i;++t){u&&(B.a.fromArray(d,2*t,we),O[w++]=N.a.compressTextureCoordinates(we));var x=3*t;l&&Object(W.a)(f)&&Object(W.a)(p)?(k.a.fromArray(h,x,xe),k.a.fromArray(f,x,Ee),k.a.fromArray(p,x,Te),N.a.octPack(xe,Ee,Te,we),O[w++]=we.x,O[w++]=we.y):(l&&(k.a.fromArray(h,x,xe),O[w++]=N.a.octEncodeFloat(xe)),_&&(k.a.fromArray(f,x,xe),O[w++]=N.a.octEncodeFloat(xe)),v&&(k.a.fromArray(p,x,xe),O[w++]=N.a.octEncodeFloat(xe)))}return e.attributes.compressedAttributes=new J.a({componentDatatype:H.a.FLOAT,componentsPerAttribute:y,values:O}),l&&delete e.attributes.normal,u&&delete e.attributes.st,v&&delete e.attributes.bitangent,_&&delete e.attributes.tangent,e};var Ce=new k.a,Se=new k.a,je=new k.a,Pe=new k.a,De=new k.a,Ie={positions:new Array(7),indices:new Array(9)},Re=C(U.a,4),Me=C(k.a,3),Le=C(B.a,2),Ne=function(e,t,i,n,a,r,o){var s=a[e]*n.x,c=a[t]*n.y,l=a[i]*n.z;r[o]=s+c+l>te.a.EPSILON6?1:0},Fe=new k.a,ze=new k.a,Be=new k.a,ke=new k.a,Ue={position:!0,normal:!0,bitangent:!0,tangent:!0,st:!0,extrudeDirection:!0,applyOffset:!0},Ve=ae.a.fromPointNormal(k.a.ZERO,k.a.UNIT_Y),He=new k.a,qe=new k.a,We=new B.a,Ge=new B.a,Ye=new k.a,Xe=new k.a,Qe=new k.a,Je=new k.a,Ze=new k.a,Ke=new k.a,$e=new U.a,et=5*te.a.EPSILON9,tt=te.a.EPSILON6;se.splitLongitude=function(e){if(!Object(W.a)(e))throw new G.a("instance is required.");var t=e.geometry,i=t.boundingSphere;if(Object(W.a)(i)){if(i.center.x-i.radius>0||z.a.intersectPlane(i,ae.a.ORIGIN_ZX_PLANE)!==$.a.INTERSECTING)return e}if(t.geometryType!==Z.a.NONE)switch(t.geometryType){case Z.a.POLYLINES:L(e);break;case Z.a.TRIANGLES:D(e);break;case Z.a.LINES:R(e)}else b(t),t.primitiveType===re.a.TRIANGLES?D(e):t.primitiveType===re.a.LINES&&R(e);return e},t.a=se},ogen:function(e,t,i){"use strict";function n(e,t){this.start=Object(a.a)(e,0),this.stop=Object(a.a)(t,0)}var a=i("5A4e");t.a=n},oiLF:function(e,t,i){"use strict";function n(e){if(e=Object(s.a)(e,s.a.EMPTY_OBJECT),!Object(c.a)(e.camera))throw new u.a("options.camera is required.");this._camera=e.camera,this._color=Object(s.a)(e.color,r.a.CYAN),this._updateOnChange=Object(s.a)(e.updateOnChange,!0),this.show=Object(s.a)(e.show,!0),this.id=e.id,this._id=void 0,this._outlinePrimitives=[],this._planesPrimitives=[]}var a=i("Jj+J"),r=i("6F0S"),o=i("devy"),s=i("5A4e"),c=i("xC6Q"),l=i("6sr8"),u=i("PzDm"),h=i("TkFC"),d=i("42aX"),f=i("izcu"),p=i("i3sv"),m=i("ku5u"),g=i("rpO5"),_=i("MYGk"),v=i("IPrE"),b=i("q/xW"),y=i("BOJj"),O=i("0df4"),w=new a.a,x=new p.a,E=new b.a,T=new _.a,A=new v.a,C=new m.a,S=new g.a,j=new r.a,P=[1,1e5];n.prototype.update=function(e){if(this.show){var t,i,n=this._planesPrimitives,s=this._outlinePrimitives;if(this._updateOnChange){for(i=n.length,t=0;t<i;++t)s[t]=s[t]&&s[t].destroy(),n[t]=n[t]&&n[t].destroy();n.length=0,s.length=0}if(0===n.length){var c,l=this._camera,u=l.frustum;c=u instanceof _.a?T:u instanceof v.a?A:u instanceof m.a?C:S,c=u.clone(c);var g=e.frustumSplits,D=g.length-1;D<=0&&(g=P,g[0]=this._camera.frustum.near,g[1]=this._camera.frustum.far,D=1);var I=l.positionWC,R=l.directionWC,M=l.upWC,L=l.rightWC;L=a.a.negate(L,w);var N=x;p.a.setColumn(N,0,L,N),p.a.setColumn(N,1,M,N),p.a.setColumn(N,2,R,N);var F=b.a.fromRotationMatrix(N,E);for(n.length=s.length=D,t=0;t<D;++t)c.near=g[t],c.far=g[t+1],n[t]=new O.a({geometryInstances:new f.a({geometry:new h.a({origin:I,orientation:F,frustum:c,_drawNearPlane:0===t}),attributes:{color:o.a.fromColor(r.a.fromAlpha(this._color,.1,j))},id:this.id,pickPrimitive:this}),appearance:new y.a({translucent:!0,flat:!0}),asynchronous:!1}),s[t]=new O.a({geometryInstances:new f.a({geometry:new d.a({origin:I,orientation:F,frustum:c,_drawNearPlane:0===t}),attributes:{color:o.a.fromColor(this._color)},id:this.id,pickPrimitive:this}),appearance:new y.a({translucent:!1,flat:!0}),asynchronous:!1})}for(i=n.length,t=0;t<i;++t)s[t].update(e),n[t].update(e)}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){for(var e=this._planesPrimitives.length,t=0;t<e;++t)this._outlinePrimitives[t]=this._outlinePrimitives[t]&&this._outlinePrimitives[t].destroy(),this._planesPrimitives[t]=this._planesPrimitives[t]&&this._planesPrimitives[t].destroy();return Object(l.a)(this)},t.a=n},"ok/U":function(e,t,i){"use strict";function n(e,t){Y.a.typeOf.string("expression",e),this._expression=e,e=g(e,t),e=b(_(e)),$.a.addBinaryOp("=~",0),$.a.addBinaryOp("!~",0);var i;try{i=Object($.a)(e)}catch(e){throw new K.a(e)}this._runtimeAst=P(this,i)}function a(e){return e-Math.floor(e)}function r(e){return Math.pow(2,e)}function o(e){return Z.a.log2(e)}function s(e){return function(t,i){if("number"==typeof i)return e(i);if(i instanceof q.a)return q.a.fromElements(e(i.x),e(i.y),te.getCartesian2());if(i instanceof W.a)return W.a.fromElements(e(i.x),e(i.y),e(i.z),te.getCartesian3());if(i instanceof G.a)return G.a.fromElements(e(i.x),e(i.y),e(i.z),e(i.w),te.getCartesian4());throw new K.a('Function "'+t+'" requires a vector or number argument. Argument is '+i+".")}}function c(e,t){return function(i,n,a){if(t&&"number"==typeof a){if("number"==typeof n)return e(n,a);if(n instanceof q.a)return q.a.fromElements(e(n.x,a),e(n.y,a),te.getCartesian2());if(n instanceof W.a)return W.a.fromElements(e(n.x,a),e(n.y,a),e(n.z,a),te.getCartesian3());if(n instanceof G.a)return G.a.fromElements(e(n.x,a),e(n.y,a),e(n.z,a),e(n.w,a),te.getCartesian4())}if("number"==typeof n&&"number"==typeof a)return e(n,a);if(n instanceof q.a&&a instanceof q.a)return q.a.fromElements(e(n.x,a.x),e(n.y,a.y),te.getCartesian2());if(n instanceof W.a&&a instanceof W.a)return W.a.fromElements(e(n.x,a.x),e(n.y,a.y),e(n.z,a.z),te.getCartesian3());if(n instanceof G.a&&a instanceof G.a)return G.a.fromElements(e(n.x,a.x),e(n.y,a.y),e(n.z,a.z),e(n.w,a.w),te.getCartesian4());throw new K.a('Function "'+i+'" requires vector or number arguments of matching types. Arguments are '+n+" and "+a+".")}}function l(e,t){return function(i,n,a,r){if(t&&"number"==typeof r){if("number"==typeof n&&"number"==typeof a)return e(n,a,r);if(n instanceof q.a&&a instanceof q.a)return q.a.fromElements(e(n.x,a.x,r),e(n.y,a.y,r),te.getCartesian2());if(n instanceof W.a&&a instanceof W.a)return W.a.fromElements(e(n.x,a.x,r),e(n.y,a.y,r),e(n.z,a.z,r),te.getCartesian3());if(n instanceof G.a&&a instanceof G.a)return G.a.fromElements(e(n.x,a.x,r),e(n.y,a.y,r),e(n.z,a.z,r),e(n.w,a.w,r),te.getCartesian4())}if("number"==typeof n&&"number"==typeof a&&"number"==typeof r)return e(n,a,r);if(n instanceof q.a&&a instanceof q.a&&r instanceof q.a)return q.a.fromElements(e(n.x,a.x,r.x),e(n.y,a.y,r.y),te.getCartesian2());if(n instanceof W.a&&a instanceof W.a&&r instanceof W.a)return W.a.fromElements(e(n.x,a.x,r.x),e(n.y,a.y,r.y),e(n.z,a.z,r.z),te.getCartesian3());if(n instanceof G.a&&a instanceof G.a&&r instanceof G.a)return G.a.fromElements(e(n.x,a.x,r.x),e(n.y,a.y,r.y),e(n.z,a.z,r.z),e(n.w,a.w,r.w),te.getCartesian4());throw new K.a('Function "'+i+'" requires vector or number arguments of matching types. Arguments are '+n+", "+a+", and "+r+".")}}function u(e,t){if("number"==typeof t)return Math.abs(t);if(t instanceof q.a)return q.a.magnitude(t);if(t instanceof W.a)return W.a.magnitude(t);if(t instanceof G.a)return G.a.magnitude(t);throw new K.a('Function "'+e+'" requires a vector or number argument. Argument is '+t+".")}function h(e,t){if("number"==typeof t)return 1;if(t instanceof q.a)return q.a.normalize(t,te.getCartesian2());if(t instanceof W.a)return W.a.normalize(t,te.getCartesian3());if(t instanceof G.a)return G.a.normalize(t,te.getCartesian4());throw new K.a('Function "'+e+'" requires a vector or number argument. Argument is '+t+".")}function d(e,t,i){if("number"==typeof t&&"number"==typeof i)return Math.abs(t-i);if(t instanceof q.a&&i instanceof q.a)return q.a.distance(t,i);if(t instanceof W.a&&i instanceof W.a)return W.a.distance(t,i);if(t instanceof G.a&&i instanceof G.a)return G.a.distance(t,i);throw new K.a('Function "'+e+'" requires vector or number arguments of matching types. Arguments are '+t+" and "+i+".")}function f(e,t,i){if("number"==typeof t&&"number"==typeof i)return t*i;if(t instanceof q.a&&i instanceof q.a)return q.a.dot(t,i);if(t instanceof W.a&&i instanceof W.a)return W.a.dot(t,i);if(t instanceof G.a&&i instanceof G.a)return G.a.dot(t,i);throw new K.a('Function "'+e+'" requires vector or number arguments of matching types. Arguments are '+t+" and "+i+".")}function p(e,t,i){if(t instanceof W.a&&i instanceof W.a)return W.a.cross(t,i,te.getCartesian3());throw new K.a('Function "'+e+'" requires vec3 arguments. Arguments are '+t+" and "+i+".")}function m(e,t,i,n,a){this._type=e,this._value=t,this._left=i,this._right=n,this._test=a,this.evaluate=void 0,D(this)}function g(e,t){if(!Object(Q.a)(t))return e;for(var i in t)if(t.hasOwnProperty(i)){var n=new RegExp("\\$\\{"+i+"\\}","g"),a="("+t[i]+")";Object(Q.a)(a)&&(e=e.replace(n,a))}return e}function _(e){return e.replace(re,oe)}function v(e){return e.replace(se,"\\")}function b(e){for(var t=e,i="",n=t.indexOf("${");n>=0;){var a,r=t.indexOf("'"),o=t.indexOf('"');if(r>=0&&r<n)a=t.indexOf("'",r+1),i+=t.substr(0,a+1),t=t.substr(a+1),n=t.indexOf("${");else if(o>=0&&o<n)a=t.indexOf('"',o+1),i+=t.substr(0,a+1),t=t.substr(a+1),n=t.indexOf("${");else{i+=t.substr(0,n);var s=t.indexOf("}");if(s<0)throw new K.a("Unmatched {.");i+="czm_"+t.substr(n+2,s-(n+2)),t=t.substr(s+1),n=t.indexOf("${")}}return i+=t}function y(e){var t=typeof e.value;return null===e.value?new m(ee.a.LITERAL_NULL,null):"boolean"===t?new m(ee.a.LITERAL_BOOLEAN,e.value):"number"===t?new m(ee.a.LITERAL_NUMBER,e.value):"string"===t?e.value.indexOf("${")>=0?new m(ee.a.VARIABLE_IN_STRING,e.value):new m(ee.a.LITERAL_STRING,v(e.value)):void 0}function O(e,t){var i,n,a,r,o=t.arguments,s=o.length;if("MemberExpression"===t.callee.type){i=t.callee.property.name;var c=t.callee.object;if("test"===i||"exec"===i){if("regExp"!==c.callee.name)throw new K.a(i+" is not a function.");return 0===s?"test"===i?new m(ee.a.LITERAL_BOOLEAN,!1):new m(ee.a.LITERAL_NULL,null):(a=P(e,c),r=P(e,o[0]),new m(ee.a.FUNCTION_CALL,i,a,r))}if("toString"===i)return n=P(e,c),new m(ee.a.FUNCTION_CALL,i,n);throw new K.a('Unexpected function call "'+i+'".')}if("color"===(i=t.callee.name)){if(0===s)return new m(ee.a.LITERAL_COLOR,i);if(n=P(e,o[0]),Object(Q.a)(o[1])){var l=P(e,o[1]);return new m(ee.a.LITERAL_COLOR,i,[n,l])}return new m(ee.a.LITERAL_COLOR,i,[n])}if("rgb"===i||"hsl"===i){if(s<3)throw new K.a(i+" requires three arguments.");return n=[P(e,o[0]),P(e,o[1]),P(e,o[2])],new m(ee.a.LITERAL_COLOR,i,n)}if("rgba"===i||"hsla"===i){if(s<4)throw new K.a(i+" requires four arguments.");return n=[P(e,o[0]),P(e,o[1]),P(e,o[2]),P(e,o[3])],new m(ee.a.LITERAL_COLOR,i,n)}if("vec2"===i||"vec3"===i||"vec4"===i){n=new Array(s);for(var u=0;u<s;++u)n[u]=P(e,o[u]);return new m(ee.a.LITERAL_VECTOR,i,n)}if("isNaN"===i||"isFinite"===i)return 0===s?"isNaN"===i?new m(ee.a.LITERAL_BOOLEAN,!0):new m(ee.a.LITERAL_BOOLEAN,!1):(n=P(e,o[0]),new m(ee.a.UNARY,i,n));if("isExactClass"===i||"isClass"===i){if(s<1||s>1)throw new K.a(i+" requires exactly one argument.");return n=P(e,o[0]),new m(ee.a.UNARY,i,n)}if("getExactClassName"===i){if(s>0)throw new K.a(i+" does not take any argument.");return new m(ee.a.UNARY,i)}if(Object(Q.a)(le[i])){if(1!==s)throw new K.a(i+" requires exactly one argument.");return n=P(e,o[0]),new m(ee.a.UNARY,i,n)}if(Object(Q.a)(ue[i])){if(2!==s)throw new K.a(i+" requires exactly two arguments.");return a=P(e,o[0]),r=P(e,o[1]),new m(ee.a.BINARY,i,a,r)}if(Object(Q.a)(he[i])){if(3!==s)throw new K.a(i+" requires exactly three arguments.");a=P(e,o[0]),r=P(e,o[1]);var h=P(e,o[2]);return new m(ee.a.TERNARY,i,a,r,h)}if("Boolean"===i)return 0===s?new m(ee.a.LITERAL_BOOLEAN,!1):(n=P(e,o[0]),new m(ee.a.UNARY,i,n));if("Number"===i)return 0===s?new m(ee.a.LITERAL_NUMBER,0):(n=P(e,o[0]),new m(ee.a.UNARY,i,n));if("String"===i)return 0===s?new m(ee.a.LITERAL_STRING,""):(n=P(e,o[0]),new m(ee.a.UNARY,i,n));if("regExp"===i)return w(e,t);throw new K.a('Unexpected function call "'+i+'".')}function w(e,t){var i=t.arguments;if(0===i.length)return new m(ee.a.LITERAL_REGEX,new RegExp);var n,a=P(e,i[0]);if(i.length>1){var r=P(e,i[1]);if(C(a)&&C(r)){try{n=new RegExp(v(String(a._value)),r._value)}catch(e){throw new K.a(e)}return new m(ee.a.LITERAL_REGEX,n)}return new m(ee.a.REGEX,a,r)}if(C(a)){try{n=new RegExp(v(String(a._value)))}catch(e){throw new K.a(e)}return new m(ee.a.LITERAL_REGEX,n)}return new m(ee.a.REGEX,a)}function x(e){if(S(e.name)){var t=j(e.name);return"tiles3d_"===t.substr(0,8)?new m(ee.a.BUILTIN_VARIABLE,t):new m(ee.a.VARIABLE,t)}if("NaN"===e.name)return new m(ee.a.LITERAL_NUMBER,NaN);if("Infinity"===e.name)return new m(ee.a.LITERAL_NUMBER,1/0);if("undefined"===e.name)return new m(ee.a.LITERAL_UNDEFINED,void 0);throw new K.a(e.name+" is not defined.")}function E(e){var t=e.property.name;return"PI"===t?new m(ee.a.LITERAL_NUMBER,Math.PI):"E"===t?new m(ee.a.LITERAL_NUMBER,Math.E):void 0}function T(e){if("POSITIVE_INFINITY"===e.property.name)return new m(ee.a.LITERAL_NUMBER,Number.POSITIVE_INFINITY)}function A(e,t){if("Math"===t.object.name)return E(t);if("Number"===t.object.name)return T(t);var i,n=P(e,t.object);return t.computed?(i=P(e,t.property),new m(ee.a.MEMBER,"brackets",n,i)):(i=new m(ee.a.LITERAL_STRING,t.property.name),new m(ee.a.MEMBER,"dot",n,i))}function C(e){return e._type>=ee.a.LITERAL_NULL}function S(e){return"czm_"===e.substr(0,4)}function j(e){return e.substr(4)}function P(e,t){var i,n,a,r;if("Literal"===t.type)i=y(t);else if("CallExpression"===t.type)i=O(e,t);else if("Identifier"===t.type)i=x(t);else if("UnaryExpression"===t.type){n=t.operator;var o=P(e,t.argument);if(!(ie.indexOf(n)>-1))throw new K.a('Unexpected operator "'+n+'".');i=new m(ee.a.UNARY,n,o)}else if("BinaryExpression"===t.type){if(n=t.operator,a=P(e,t.left),r=P(e,t.right),!(ne.indexOf(n)>-1))throw new K.a('Unexpected operator "'+n+'".');i=new m(ee.a.BINARY,n,a,r)}else if("LogicalExpression"===t.type)n=t.operator,a=P(e,t.left),r=P(e,t.right),ne.indexOf(n)>-1&&(i=new m(ee.a.BINARY,n,a,r));else if("ConditionalExpression"===t.type){var s=P(e,t.test);a=P(e,t.consequent),r=P(e,t.alternate),i=new m(ee.a.CONDITIONAL,"?",a,r,s)}else if("MemberExpression"===t.type)i=A(e,t);else{if("ArrayExpression"!==t.type)throw"Compound"===t.type?new K.a("Provide exactly one expression."):new K.a("Cannot parse expression.");for(var c=[],l=0;l<t.elements.length;l++)c[l]=P(e,t.elements[l]);i=new m(ee.a.ARRAY,c)}return i}function D(e){e._type===ee.a.CONDITIONAL?e.evaluate=e._evaluateConditional:e._type===ee.a.FUNCTION_CALL?"test"===e._value?e.evaluate=e._evaluateRegExpTest:"exec"===e._value?e.evaluate=e._evaluateRegExpExec:"toString"===e._value&&(e.evaluate=e._evaluateToString):e._type===ee.a.UNARY?"!"===e._value?e.evaluate=e._evaluateNot:"-"===e._value?e.evaluate=e._evaluateNegative:"+"===e._value?e.evaluate=e._evaluatePositive:"isNaN"===e._value?e.evaluate=e._evaluateNaN:"isFinite"===e._value?e.evaluate=e._evaluateIsFinite:"isExactClass"===e._value?e.evaluate=e._evaluateIsExactClass:"isClass"===e._value?e.evaluate=e._evaluateIsClass:"getExactClassName"===e._value?e.evaluate=e._evaluateGetExactClassName:"Boolean"===e._value?e.evaluate=e._evaluateBooleanConversion:"Number"===e._value?e.evaluate=e._evaluateNumberConversion:"String"===e._value?e.evaluate=e._evaluateStringConversion:Object(Q.a)(le[e._value])&&(e.evaluate=R(e._value)):e._type===ee.a.BINARY?"+"===e._value?e.evaluate=e._evaluatePlus:"-"===e._value?e.evaluate=e._evaluateMinus:"*"===e._value?e.evaluate=e._evaluateTimes:"/"===e._value?e.evaluate=e._evaluateDivide:"%"===e._value?e.evaluate=e._evaluateMod:"==="===e._value?e.evaluate=e._evaluateEqualsStrict:"!=="===e._value?e.evaluate=e._evaluateNotEqualsStrict:"<"===e._value?e.evaluate=e._evaluateLessThan:"<="===e._value?e.evaluate=e._evaluateLessThanOrEquals:">"===e._value?e.evaluate=e._evaluateGreaterThan:">="===e._value?e.evaluate=e._evaluateGreaterThanOrEquals:"&&"===e._value?e.evaluate=e._evaluateAnd:"||"===e._value?e.evaluate=e._evaluateOr:"=~"===e._value?e.evaluate=e._evaluateRegExpMatch:"!~"===e._value?e.evaluate=e._evaluateRegExpNotMatch:Object(Q.a)(ue[e._value])&&(e.evaluate=M(e._value)):e._type===ee.a.TERNARY?e.evaluate=L(e._value):e._type===ee.a.MEMBER?"brackets"===e._value?e.evaluate=e._evaluateMemberBrackets:e.evaluate=e._evaluateMemberDot:e._type===ee.a.ARRAY?e.evaluate=e._evaluateArray:e._type===ee.a.VARIABLE?e.evaluate=e._evaluateVariable:e._type===ee.a.VARIABLE_IN_STRING?e.evaluate=e._evaluateVariableString:e._type===ee.a.LITERAL_COLOR?e.evaluate=e._evaluateLiteralColor:e._type===ee.a.LITERAL_VECTOR?e.evaluate=e._evaluateLiteralVector:e._type===ee.a.LITERAL_STRING?e.evaluate=e._evaluateLiteralString:e._type===ee.a.REGEX?e.evaluate=e._evaluateRegExp:e._type===ee.a.BUILTIN_VARIABLE?"tiles3d_tileset_time"===e._value&&(e.evaluate=I):e.evaluate=e._evaluateLiteral}function I(e){return Object(Q.a)(e)?e.content.tileset.timeSinceLoad:0}function R(e){var t=le[e];return function(i){var n=this._left.evaluate(i);return t(e,n)}}function M(e){var t=ue[e];return function(i){var n=this._left.evaluate(i),a=this._right.evaluate(i);return t(e,n,a)}}function L(e){var t=he[e];return function(i){var n=this._left.evaluate(i),a=this._right.evaluate(i),r=this._test.evaluate(i);return t(e,n,a,r)}}function N(e,t){if(Object(Q.a)(e))return e.getProperty(t)}function F(e){return"feature"===e._value}function z(e){for(var t=e._left,i=t.length,n=0;n<i;++n)if(t[n]._type!==ee.a.LITERAL_NUMBER)return;var a=t[0]._value,r=t[1]._value,o=t[2]._value,s=4===i?t[3]._value:1;return X.a.fromHsl(a,r,o,s,ce)}function B(e){for(var t=e._left,i=t.length,n=0;n<i;++n)if(t[n]._type!==ee.a.LITERAL_NUMBER)return;var a=ce;return a.red=t[0]._value/255,a.green=t[1]._value/255,a.blue=t[2]._value/255,a.alpha=4===i?t[3]._value:1,a}function k(e){return e%1==0?e.toFixed(1):e.toString()}function U(e){return"vec3("+k(e.red)+", "+k(e.green)+", "+k(e.blue)+")"}function V(e){return"vec4("+k(e.red)+", "+k(e.green)+", "+k(e.blue)+", "+k(e.alpha)+")"}function H(e,t,i,n){for(var a=e.length,r=new Array(a),o=0;o<a;++o)r[o]=e[o].getShaderExpression(t,i,n);return r}var q=i("Ss9j"),W=i("Jj+J"),G=i("PDkd"),Y=i("5F4X"),X=i("6F0S"),Q=i("xC6Q"),J=i("PzDm"),Z=i("fq+p"),K=i("V22k"),$=i("CsKk"),ee=i("376T");Object.defineProperties(n.prototype,{expression:{get:function(){return this._expression}}});var te={arrayIndex:0,arrayArray:[[]],cartesian2Index:0,cartesian3Index:0,cartesian4Index:0,cartesian2Array:[new q.a],cartesian3Array:[new W.a],cartesian4Array:[new G.a],reset:function(){this.arrayIndex=0,this.cartesian2Index=0,this.cartesian3Index=0,this.cartesian4Index=0},getArray:function(){this.arrayIndex>=this.arrayArray.length&&this.arrayArray.push([]);var e=this.arrayArray[this.arrayIndex++];return e.length=0,e},getCartesian2:function(){return this.cartesian2Index>=this.cartesian2Array.length&&this.cartesian2Array.push(new q.a),this.cartesian2Array[this.cartesian2Index++]},getCartesian3:function(){return this.cartesian3Index>=this.cartesian3Array.length&&this.cartesian3Array.push(new W.a),this.cartesian3Array[this.cartesian3Index++]},getCartesian4:function(){return this.cartesian4Index>=this.cartesian4Array.length&&this.cartesian4Array.push(new G.a),this.cartesian4Array[this.cartesian4Index++]}};n.prototype.evaluate=function(e,t){te.reset();var i=this._runtimeAst.evaluate(e);return t instanceof X.a&&i instanceof G.a?X.a.fromCartesian4(i,t):i instanceof q.a||i instanceof W.a||i instanceof G.a?i.clone(t):i},n.prototype.evaluateColor=function(e,t){te.reset();var i=this._runtimeAst.evaluate(e);return X.a.fromCartesian4(i,t)},n.prototype.getShaderFunction=function(e,t,i,n){var a=this.getShaderExpression(t,i);return a=n+" "+e+"() \n{ \n    return "+a+"; \n} \n"},n.prototype.getShaderExpression=function(e,t){return this._runtimeAst.getShaderExpression(e,t)};var ie=["!","-","+"],ne=["+","-","*","/","%","===","!==",">",">=","<","<=","&&","||","!~","=~"],ae=/\${(.*?)}/g,re=/\\/g,oe="@#%",se=/@#%/g,ce=new X.a,le={abs:s(Math.abs),sqrt:s(Math.sqrt),cos:s(Math.cos),sin:s(Math.sin),tan:s(Math.tan),acos:s(Math.acos),asin:s(Math.asin),atan:s(Math.atan),radians:s(Z.a.toRadians),degrees:s(Z.a.toDegrees),sign:s(Z.a.sign),floor:s(Math.floor),ceil:s(Math.ceil),round:s(Math.round),exp:s(Math.exp),exp2:s(r),log:s(Math.log),log2:s(o),fract:s(a),length:u,normalize:h},ue={atan2:c(Math.atan2,!1),pow:c(Math.pow,!1),min:c(Math.min,!0),max:c(Math.max,!0),distance:d,dot:f,cross:p},he={clamp:l(Z.a.clamp,!0),mix:l(Z.a.lerp,!0)};m.prototype._evaluateLiteral=function(){return this._value},m.prototype._evaluateLiteralColor=function(e){var t=ce,i=this._left;if("color"===this._value)Object(Q.a)(i)?i.length>1?(X.a.fromCssColorString(i[0].evaluate(e),t),t.alpha=i[1].evaluate(e)):X.a.fromCssColorString(i[0].evaluate(e),t):X.a.fromBytes(255,255,255,255,t);else if("rgb"===this._value)X.a.fromBytes(i[0].evaluate(e),i[1].evaluate(e),i[2].evaluate(e),255,t);else if("rgba"===this._value){var n=255*i[3].evaluate(e);X.a.fromBytes(i[0].evaluate(e),i[1].evaluate(e),i[2].evaluate(e),n,t)}else"hsl"===this._value?X.a.fromHsl(i[0].evaluate(e),i[1].evaluate(e),i[2].evaluate(e),1,t):"hsla"===this._value&&X.a.fromHsl(i[0].evaluate(e),i[1].evaluate(e),i[2].evaluate(e),i[3].evaluate(e),t);return G.a.fromColor(t,te.getCartesian4())},m.prototype._evaluateLiteralVector=function(e){for(var t=te.getArray(),i=this._value,n=this._left,a=n.length,r=0;r<a;++r){var o=n[r].evaluate(e);if("number"==typeof o)t.push(o);else if(o instanceof q.a)t.push(o.x,o.y);else if(o instanceof W.a)t.push(o.x,o.y,o.z);else{if(!(o instanceof G.a))throw new K.a(i+" argument must be a vector or number. Argument is "+o+".");t.push(o.x,o.y,o.z,o.w)}}var s=t.length,c=parseInt(i.charAt(3));if(0===s)throw new K.a("Invalid "+i+" constructor. No valid arguments.");if(s<c&&s>1)throw new K.a("Invalid "+i+" constructor. Not enough arguments.");if(s>c&&a>1)throw new K.a("Invalid "+i+" constructor. Too many arguments.");if(1===s){var l=t[0];t.push(l,l,l)}return"vec2"===i?q.a.fromArray(t,0,te.getCartesian2()):"vec3"===i?W.a.fromArray(t,0,te.getCartesian3()):"vec4"===i?G.a.fromArray(t,0,te.getCartesian4()):void 0},m.prototype._evaluateLiteralString=function(){return this._value},m.prototype._evaluateVariableString=function(e){for(var t=this._value,i=ae.exec(t);null!==i;){var n=i[0],a=i[1],r=N(e,a);Object(Q.a)(r)||(r=""),t=t.replace(n,r),i=ae.exec(t)}return t},m.prototype._evaluateVariable=function(e){return N(e,this._value)},m.prototype._evaluateMemberDot=function(e){if(F(this._left))return N(e,this._right.evaluate(e));var t=this._left.evaluate(e);if(Object(Q.a)(t)){var i=this._right.evaluate(e);if(t instanceof q.a||t instanceof W.a||t instanceof G.a){if("r"===i)return t.x;if("g"===i)return t.y;if("b"===i)return t.z;if("a"===i)return t.w}return t[i]}},m.prototype._evaluateMemberBrackets=function(e){if(F(this._left))return N(e,this._right.evaluate(e));var t=this._left.evaluate(e);if(Object(Q.a)(t)){var i=this._right.evaluate(e);if(t instanceof q.a||t instanceof W.a||t instanceof G.a){if(0===i||"r"===i)return t.x;if(1===i||"g"===i)return t.y;if(2===i||"b"===i)return t.z;if(3===i||"a"===i)return t.w}return t[i]}},m.prototype._evaluateArray=function(e){for(var t=[],i=0;i<this._value.length;i++)t[i]=this._value[i].evaluate(e);return t},m.prototype._evaluateNot=function(e){var t=this._left.evaluate(e);if("boolean"!=typeof t)throw new K.a('Operator "!" requires a boolean argument. Argument is '+t+".");return!t},m.prototype._evaluateNegative=function(e){var t=this._left.evaluate(e);if(t instanceof q.a)return q.a.negate(t,te.getCartesian2());if(t instanceof W.a)return W.a.negate(t,te.getCartesian3());if(t instanceof G.a)return G.a.negate(t,te.getCartesian4());if("number"==typeof t)return-t;throw new K.a('Operator "-" requires a vector or number argument. Argument is '+t+".")},m.prototype._evaluatePositive=function(e){var t=this._left.evaluate(e);if(!(t instanceof q.a||t instanceof W.a||t instanceof G.a||"number"==typeof t))throw new K.a('Operator "+" requires a vector or number argument. Argument is '+t+".");return t},m.prototype._evaluateLessThan=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);if("number"!=typeof t||"number"!=typeof i)throw new K.a('Operator "<" requires number arguments. Arguments are '+t+" and "+i+".");return t<i},m.prototype._evaluateLessThanOrEquals=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);if("number"!=typeof t||"number"!=typeof i)throw new K.a('Operator "<=" requires number arguments. Arguments are '+t+" and "+i+".");return t<=i},m.prototype._evaluateGreaterThan=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);if("number"!=typeof t||"number"!=typeof i)throw new K.a('Operator ">" requires number arguments. Arguments are '+t+" and "+i+".");return t>i},m.prototype._evaluateGreaterThanOrEquals=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);if("number"!=typeof t||"number"!=typeof i)throw new K.a('Operator ">=" requires number arguments. Arguments are '+t+" and "+i+".");return t>=i},m.prototype._evaluateOr=function(e){var t=this._left.evaluate(e);if("boolean"!=typeof t)throw new K.a('Operator "||" requires boolean arguments. First argument is '+t+".");if(t)return!0;var i=this._right.evaluate(e);if("boolean"!=typeof i)throw new K.a('Operator "||" requires boolean arguments. Second argument is '+i+".");return t||i},m.prototype._evaluateAnd=function(e){var t=this._left.evaluate(e);if("boolean"!=typeof t)throw new K.a('Operator "&&" requires boolean arguments. First argument is '+t+".");if(!t)return!1;var i=this._right.evaluate(e);if("boolean"!=typeof i)throw new K.a('Operator "&&" requires boolean arguments. Second argument is '+i+".");return t&&i},m.prototype._evaluatePlus=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);if(i instanceof q.a&&t instanceof q.a)return q.a.add(t,i,te.getCartesian2());if(i instanceof W.a&&t instanceof W.a)return W.a.add(t,i,te.getCartesian3());if(i instanceof G.a&&t instanceof G.a)return G.a.add(t,i,te.getCartesian4());if("string"==typeof t||"string"==typeof i)return t+i;if("number"==typeof t&&"number"==typeof i)return t+i;throw new K.a('Operator "+" requires vector or number arguments of matching types, or at least one string argument. Arguments are '+t+" and "+i+".")},m.prototype._evaluateMinus=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);if(i instanceof q.a&&t instanceof q.a)return q.a.subtract(t,i,te.getCartesian2());if(i instanceof W.a&&t instanceof W.a)return W.a.subtract(t,i,te.getCartesian3());if(i instanceof G.a&&t instanceof G.a)return G.a.subtract(t,i,te.getCartesian4());if("number"==typeof t&&"number"==typeof i)return t-i;throw new K.a('Operator "-" requires vector or number arguments of matching types. Arguments are '+t+" and "+i+".")},m.prototype._evaluateTimes=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);if(i instanceof q.a&&t instanceof q.a)return q.a.multiplyComponents(t,i,te.getCartesian2());if(i instanceof q.a&&"number"==typeof t)return q.a.multiplyByScalar(i,t,te.getCartesian2());if(t instanceof q.a&&"number"==typeof i)return q.a.multiplyByScalar(t,i,te.getCartesian2());if(i instanceof W.a&&t instanceof W.a)return W.a.multiplyComponents(t,i,te.getCartesian3());if(i instanceof W.a&&"number"==typeof t)return W.a.multiplyByScalar(i,t,te.getCartesian3());if(t instanceof W.a&&"number"==typeof i)return W.a.multiplyByScalar(t,i,te.getCartesian3());if(i instanceof G.a&&t instanceof G.a)return G.a.multiplyComponents(t,i,te.getCartesian4());if(i instanceof G.a&&"number"==typeof t)return G.a.multiplyByScalar(i,t,te.getCartesian4());if(t instanceof G.a&&"number"==typeof i)return G.a.multiplyByScalar(t,i,te.getCartesian4());if("number"==typeof t&&"number"==typeof i)return t*i;throw new K.a('Operator "*" requires vector or number arguments. If both arguments are vectors they must be matching types. Arguments are '+t+" and "+i+".")},m.prototype._evaluateDivide=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);if(i instanceof q.a&&t instanceof q.a)return q.a.divideComponents(t,i,te.getCartesian2());if(t instanceof q.a&&"number"==typeof i)return q.a.divideByScalar(t,i,te.getCartesian2());if(i instanceof W.a&&t instanceof W.a)return W.a.divideComponents(t,i,te.getCartesian3());if(t instanceof W.a&&"number"==typeof i)return W.a.divideByScalar(t,i,te.getCartesian3());if(i instanceof G.a&&t instanceof G.a)return G.a.divideComponents(t,i,te.getCartesian4());if(t instanceof G.a&&"number"==typeof i)return G.a.divideByScalar(t,i,te.getCartesian4());if("number"==typeof t&&"number"==typeof i)return t/i;throw new K.a('Operator "/" requires vector or number arguments of matching types, or a number as the second argument. Arguments are '+t+" and "+i+".")},m.prototype._evaluateMod=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);if(i instanceof q.a&&t instanceof q.a)return q.a.fromElements(t.x%i.x,t.y%i.y,te.getCartesian2());if(i instanceof W.a&&t instanceof W.a)return W.a.fromElements(t.x%i.x,t.y%i.y,t.z%i.z,te.getCartesian3());if(i instanceof G.a&&t instanceof G.a)return G.a.fromElements(t.x%i.x,t.y%i.y,t.z%i.z,t.w%i.w,te.getCartesian4());if("number"==typeof t&&"number"==typeof i)return t%i;throw new K.a('Operator "%" requires vector or number arguments of matching types. Arguments are '+t+" and "+i+".")},m.prototype._evaluateEqualsStrict=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);return i instanceof q.a&&t instanceof q.a||i instanceof W.a&&t instanceof W.a||i instanceof G.a&&t instanceof G.a?t.equals(i):t===i},m.prototype._evaluateNotEqualsStrict=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);return i instanceof q.a&&t instanceof q.a||i instanceof W.a&&t instanceof W.a||i instanceof G.a&&t instanceof G.a?!t.equals(i):t!==i},m.prototype._evaluateConditional=function(e){var t=this._test.evaluate(e);if("boolean"!=typeof t)throw new K.a("Conditional argument of conditional expression must be a boolean. Argument is "+t+".");return t?this._left.evaluate(e):this._right.evaluate(e)},m.prototype._evaluateNaN=function(e){return isNaN(this._left.evaluate(e))},m.prototype._evaluateIsFinite=function(e){return isFinite(this._left.evaluate(e))},m.prototype._evaluateIsExactClass=function(e){return!!Object(Q.a)(e)&&e.isExactClass(this._left.evaluate(e))},m.prototype._evaluateIsClass=function(e){return!!Object(Q.a)(e)&&e.isClass(this._left.evaluate(e))},m.prototype._evaluateGetExactClassName=function(e){if(Object(Q.a)(e))return e.getExactClassName()},m.prototype._evaluateBooleanConversion=function(e){return Boolean(this._left.evaluate(e))},m.prototype._evaluateNumberConversion=function(e){return Number(this._left.evaluate(e))},m.prototype._evaluateStringConversion=function(e){return String(this._left.evaluate(e))},m.prototype._evaluateRegExp=function(e){var t=this._value.evaluate(e),i="";Object(Q.a)(this._left)&&(i=this._left.evaluate(e));var n;try{n=new RegExp(t,i)}catch(e){throw new K.a(e)}return n},m.prototype._evaluateRegExpTest=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);if(!(t instanceof RegExp&&"string"==typeof i))throw new K.a("RegExp.test requires the first argument to be a RegExp and the second argument to be a string. Arguments are "+t+" and "+i+".");return t.test(i)},m.prototype._evaluateRegExpMatch=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);if(t instanceof RegExp&&"string"==typeof i)return t.test(i);if(i instanceof RegExp&&"string"==typeof t)return i.test(t);throw new K.a('Operator "=~" requires one RegExp argument and one string argument. Arguments are '+t+" and "+i+".")},m.prototype._evaluateRegExpNotMatch=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);if(t instanceof RegExp&&"string"==typeof i)return!t.test(i);if(i instanceof RegExp&&"string"==typeof t)return!i.test(t);throw new K.a('Operator "!~" requires one RegExp argument and one string argument. Arguments are '+t+" and "+i+".")},m.prototype._evaluateRegExpExec=function(e){var t=this._left.evaluate(e),i=this._right.evaluate(e);if(!(t instanceof RegExp&&"string"==typeof i))throw new K.a("RegExp.exec requires the first argument to be a RegExp and the second argument to be a string. Arguments are "+t+" and "+i+".");var n=t.exec(i);return Object(Q.a)(n)?n[1]:null},m.prototype._evaluateToString=function(e){var t=this._left.evaluate(e);if(t instanceof RegExp||t instanceof q.a||t instanceof W.a||t instanceof G.a)return String(t);throw new K.a('Unexpected function call "'+this._value+'".')};m.prototype.getShaderExpression=function(e,t,i){var n,a,r,o,s=this._type,c=this._value;switch(Object(Q.a)(this._left)&&(a=Array.isArray(this._left)?H(this._left,e,t,this):this._left.getShaderExpression(e,t,this)),Object(Q.a)(this._right)&&(r=this._right.getShaderExpression(e,t,this)),Object(Q.a)(this._test)&&(o=this._test.getShaderExpression(e,t,this)),Array.isArray(this._value)&&(c=H(this._value,e,t,this)),s){case ee.a.VARIABLE:return e+c;case ee.a.UNARY:if("Boolean"===c)return"bool("+a+")";if("Number"===c)return"float("+a+")";if("round"===c)return"floor("+a+" + 0.5)";if(Object(Q.a)(le[c]))return c+"("+a+")";if("isNaN"===c)return"("+a+" != "+a+")";if("isFinite"===c)return"(abs("+a+") < czm_infinity)";if("String"===c||"isExactClass"===c||"isClass"===c||"getExactClassName"===c)throw new K.a('Error generating style shader: "'+c+'" is not supported.');return Object(Q.a)(le[c])?c+"("+a+")":c+a;case ee.a.BINARY:return"%"===c?"mod("+a+", "+r+")":"==="===c?"("+a+" == "+r+")":"!=="===c?"("+a+" != "+r+")":"atan2"===c?"atan("+a+", "+r+")":Object(Q.a)(ue[c])?c+"("+a+", "+r+")":"("+a+" "+c+" "+r+")";case ee.a.TERNARY:if(Object(Q.a)(he[c]))return c+"("+a+", "+r+", "+o+")";break;case ee.a.CONDITIONAL:return"("+o+" ? "+a+" : "+r+")";case ee.a.MEMBER:return"r"===r||"x"===r||"0.0"===r?a+"[0]":"g"===r||"y"===r||"1.0"===r?a+"[1]":"b"===r||"z"===r||"2.0"===r?a+"[2]":"a"===r||"w"===r||"3.0"===r?a+"[3]":a+"[int("+r+")]";case ee.a.FUNCTION_CALL:throw new K.a('Error generating style shader: "'+c+'" is not supported.');case ee.a.ARRAY:if(4===c.length)return"vec4("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")";if(3===c.length)return"vec3("+c[0]+", "+c[1]+", "+c[2]+")";if(2===c.length)return"vec2("+c[0]+", "+c[1]+")";throw new K.a("Error generating style shader: Invalid array length. Array length should be 2, 3, or 4.");case ee.a.REGEX:throw new K.a("Error generating style shader: Regular expressions are not supported.");case ee.a.VARIABLE_IN_STRING:throw new K.a("Error generating style shader: Converting a variable to a string is not supported.");case ee.a.LITERAL_NULL:return"czm_infinity";case ee.a.LITERAL_BOOLEAN:return c?"true":"false";case ee.a.LITERAL_NUMBER:return k(c);case ee.a.LITERAL_STRING:if(Object(Q.a)(i)&&i._type===ee.a.MEMBER&&("r"===c||"g"===c||"b"===c||"a"===c||"x"===c||"y"===c||"z"===c||"w"===c))return c;if(n=X.a.fromCssColorString(c,ce),Object(Q.a)(n))return U(n);throw new K.a("Error generating style shader: String literals are not supported.");case ee.a.LITERAL_COLOR:var l=a;if("color"===c){if(!Object(Q.a)(l))return"vec4(1.0)";if(l.length>1){var u=l[0],h=l[1];return"1.0"!==h&&(t.translucent=!0),"vec4("+u+", "+h+")"}return"vec4("+l[0]+", 1.0)"}if("rgb"===c)return n=B(this),Object(Q.a)(n)?V(n):"vec4("+l[0]+" / 255.0, "+l[1]+" / 255.0, "+l[2]+" / 255.0, 1.0)";if("rgba"===c)return"1.0"!==l[3]&&(t.translucent=!0),n=B(this),Object(Q.a)(n)?V(n):"vec4("+l[0]+" / 255.0, "+l[1]+" / 255.0, "+l[2]+" / 255.0, "+l[3]+")";if("hsl"===c)return n=z(this),Object(Q.a)(n)?V(n):"vec4(czm_HSLToRGB(vec3("+l[0]+", "+l[1]+", "+l[2]+")), 1.0)";if("hsla"===c)return n=z(this),Object(Q.a)(n)?(1!==n.alpha&&(t.translucent=!0),V(n)):("1.0"!==l[3]&&(t.translucent=!0),"vec4(czm_HSLToRGB(vec3("+l[0]+", "+l[1]+", "+l[2]+")), "+l[3]+")");break;case ee.a.LITERAL_VECTOR:if(!Object(Q.a)(a))throw new J.a("left should always be defined for type ExpressionNodeType.LITERAL_VECTOR");for(var d=a.length,f=c+"(",p=0;p<d;++p)f+=a[p],p<d-1&&(f+=", ");return f+=")";case ee.a.LITERAL_REGEX:throw new K.a("Error generating style shader: Regular expressions are not supported.");case ee.a.LITERAL_UNDEFINED:return"czm_infinity";case ee.a.BUILTIN_VARIABLE:if("tiles3d_tileset_time"===c)return"u_time"}},t.a=n},oosW:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT),a.a.defined("options.context",e.context);var t=e.context,i=t._gl,n=l.a.maximumRenderbufferSize,s=Object(r.a)(e.format,u.a.RGBA4),h=Object(o.a)(e.width)?e.width:i.drawingBufferWidth,d=Object(o.a)(e.height)?e.height:i.drawingBufferHeight;if(!u.a.validate(s))throw new c.a("Invalid format.");if(a.a.typeOf.number.greaterThan("width",h,0),h>n)throw new c.a("Width must be less than or equal to the maximum renderbuffer size ("+n+").  Check maximumRenderbufferSize.");if(a.a.typeOf.number.greaterThan("height",d,0),d>n)throw new c.a("Height must be less than or equal to the maximum renderbuffer size ("+n+").  Check maximumRenderbufferSize.");this._gl=i,this._format=s,this._width=h,this._height=d,this._renderbuffer=this._gl.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,this._renderbuffer),i.renderbufferStorage(i.RENDERBUFFER,s,h,d),i.bindRenderbuffer(i.RENDERBUFFER,null)}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("6sr8"),c=i("PzDm"),l=i("J1no"),u=i("TkhT");Object.defineProperties(n.prototype,{format:{get:function(){return this._format}},width:{get:function(){return this._width}},height:{get:function(){return this._height}}}),n.prototype._getRenderbuffer=function(){return this._renderbuffer},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._gl.deleteRenderbuffer(this._renderbuffer),Object(s.a)(this)},t.a=n},opDe:function(e,t,i){"use strict";function n(e,t){var i=e.enable;return!!Object(l.a)(i)&&i.indexOf(t)>-1}function a(e,t){if(!Object(l.a)(e))return t;for(var i=0;i<4;i++)if(-1===f.indexOf(e[i]))return t;return e}function r(e){var t={},i={},r=e.techniques;return Object(l.a)(r)?(s.a.technique(e,function(e,r){var o=e.states;if(Object(l.a)(o)){var s=i[r]={};if(n(o,u.a.BLEND)){s.alphaMode="BLEND";var f=o.functions;Object(l.a)(f)&&(Object(l.a)(f.blendEquationSeparate)||Object(l.a)(f.blendFuncSeparate))&&(t[r]={blendEquation:Object(c.a)(f.blendEquationSeparate,h),blendFactors:a(f.blendFuncSeparate,d)})}n(o,u.a.CULL_FACE)||(s.doubleSided=!0),delete e.states}}),Object.keys(t).length>0&&(Object(l.a)(e.extensions)||(e.extensions={}),Object(o.a)(e,"KHR_blend")),s.a.material(e,function(e){if(Object(l.a)(e.technique)){var n=i[e.technique];s.a.objectLegacy(n,function(t,i){e[i]=t});var a=t[e.technique];Object(l.a)(a)&&(Object(l.a)(e.extensions)||(e.extensions={}),e.extensions.KHR_blend=a)}}),e):e}var o=i("o/vQ"),s=i("FJg6"),c=i("5A4e"),l=i("xC6Q"),u=i("1L1F"),h=[u.a.FUNC_ADD,u.a.FUNC_ADD],d=[u.a.ONE,u.a.ZERO,u.a.ONE,u.a.ZERO],f=[u.a.ZERO,u.a.ONE,u.a.SRC_COLOR,u.a.ONE_MINUS_SRC_COLOR,u.a.SRC_ALPHA,u.a.ONE_MINUS_SRC_ALPHA,u.a.DST_ALPHA,u.a.ONE_MINUS_DST_ALPHA,u.a.DST_COLOR,u.a.ONE_MINUS_DST_COLOR];t.a=r},or8k:function(e,t,i){"use strict";function n(e,t,i,n){this.x=Object(s.a)(e,0),this.y=Object(s.a)(t,0),this.width=Object(s.a)(i,0),this.height=Object(s.a)(n,0)}var a=i("Ss9j"),r=i("I3GD"),o=i("5F4X"),s=i("5A4e"),c=i("xC6Q"),l=i("eUIW"),u=i("u909"),h=i("Wq1U");n.packedLength=4,n.pack=function(e,t,i){return o.a.typeOf.object("value",e),o.a.defined("array",t),i=Object(s.a)(i,0),t[i++]=e.x,t[i++]=e.y,t[i++]=e.width,t[i]=e.height,t},n.unpack=function(e,t,i){return o.a.defined("array",e),t=Object(s.a)(t,0),Object(c.a)(i)||(i=new n),i.x=e[t++],i.y=e[t++],i.width=e[t++],i.height=e[t],i},n.fromPoints=function(e,t){if(Object(c.a)(t)||(t=new n),!Object(c.a)(e)||0===e.length)return t.x=0,t.y=0,t.width=0,t.height=0,t;for(var i=e.length,a=e[0].x,r=e[0].y,o=e[0].x,s=e[0].y,l=1;l<i;l++){var u=e[l],h=u.x,d=u.y;a=Math.min(h,a),o=Math.max(h,o),r=Math.min(d,r),s=Math.max(d,s)}return t.x=a,t.y=r,t.width=o-a,t.height=s-r,t};var d=new l.a,f=new r.a,p=new r.a;n.fromRectangle=function(e,t,i){if(Object(c.a)(i)||(i=new n),!Object(c.a)(e))return i.x=0,i.y=0,i.width=0,i.height=0,i;t=Object(s.a)(t,d);var r=t.project(h.a.southwest(e,f)),o=t.project(h.a.northeast(e,p));return a.a.subtract(o,r,o),i.x=r.x,i.y=r.y,i.width=o.x,i.height=o.y,i},n.clone=function(e,t){if(Object(c.a)(e))return Object(c.a)(t)?(t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t):new n(e.x,e.y,e.width,e.height)},n.union=function(e,t,i){o.a.typeOf.object("left",e),o.a.typeOf.object("right",t),Object(c.a)(i)||(i=new n);var a=Math.min(e.x,t.x),r=Math.min(e.y,t.y),s=Math.max(e.x+e.width,t.x+t.width),l=Math.max(e.y+e.height,t.y+t.height);return i.x=a,i.y=r,i.width=s-a,i.height=l-r,i},n.expand=function(e,t,i){o.a.typeOf.object("rectangle",e),o.a.typeOf.object("point",t),i=n.clone(e,i);var a=t.x-i.x,r=t.y-i.y;return a>i.width?i.width=a:a<0&&(i.width-=a,i.x=t.x),r>i.height?i.height=r:r<0&&(i.height-=r,i.y=t.y),i},n.intersect=function(e,t){o.a.typeOf.object("left",e),o.a.typeOf.object("right",t);var i=e.x,n=e.y,a=t.x,r=t.y;return i>a+t.width||i+e.width<a||n+e.height<r||n>r+t.height?u.a.OUTSIDE:u.a.INTERSECTING},n.equals=function(e,t){return e===t||Object(c.a)(e)&&Object(c.a)(t)&&e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.intersect=function(e){return n.intersect(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},t.a=n},otw6:function(e,t,i){"use strict";function n(e){e=Object(l.a)(e,l.a.EMPTY_OBJECT),c.a.typeOf.object("options.clock",e.clock),c.a.typeOf.object("options.times",e.times),c.a.typeOf.func("options.requestImageFunction",e.requestImageFunction),c.a.typeOf.func("options.reloadFunction",e.reloadFunction),this._tileCache={},this._tilesRequestedForInterval=[];var t=this._clock=e.clock;this._times=e.times,this._requestImageFunction=e.requestImageFunction,this._reloadFunction=e.reloadFunction,this._currentIntervalIndex=-1,t.onTick.addEventListener(this._clockOnTick,this),this._clockOnTick(t)}function a(e,t,i){return e+"-"+t+"-"+i}function r(e){var t=e.split("-");if(3===t.length)return{x:Number(t[0]),y:Number(t[1]),level:Number(t[2])}}function o(e){var t=e._times;if(Object(u.a)(t)){var i=e._clock,n=i.currentTime,a=i.canAnimate&&i.shouldAnimate,r=i.multiplier;if(a||0===r){var o,s=t.indexOf(n);if(!(s<0)){var c=t.get(s);return r>0?(o=d.a.secondsDifference(c.stop,n),++s):(o=d.a.secondsDifference(c.start,n),--s),o/=r,s>=0&&o<=5?t.get(s):void 0}}}}function s(e,t,i){var n=e._times.indexOf(i.start),a=e._tileCache,o=a[n];Object(u.a)(o)||(o=a[n]={});var s=t.key;if(Object(u.a)(o[s]))return!0;var c=r(s),l=new f.a({throttle:!0,throttleByServer:!0,type:p.a.IMAGERY,priorityFunction:t.priorityFunction}),h=e._requestImageFunction(c.x,c.y,c.level,l,i);return!!Object(u.a)(h)&&(o[s]={promise:h,request:l},!0)}var c=i("5F4X"),l=i("5A4e"),u=i("xC6Q"),h=i("PzDm"),d=i("9Uqs"),f=i("dI/G"),p=i("0pio");Object.defineProperties(n.prototype,{clock:{get:function(){return this._clock},set:function(e){if(!Object(u.a)(e))throw new h.a("value is required.");this._clock!==e&&(this._clock=e,this._clockOnTick(e),this._reloadFunction())}},times:{get:function(){return this._times},set:function(e){if(!Object(u.a)(e))throw new h.a("value is required.");this._times!==e&&(this._times=e,this._clockOnTick(this._clock),this._reloadFunction())}},currentInterval:{get:function(){return this._times.get(this._currentIntervalIndex)}}}),n.prototype.getFromCache=function(e,t,i,n){var r,o=a(e,t,i),s=this._tileCache[this._currentIntervalIndex];if(Object(u.a)(s)&&Object(u.a)(s[o])){var c=s[o];r=c.promise.otherwise(function(e){throw n.state=c.request.state,e}),delete s[o]}return r},n.prototype.checkApproachingInterval=function(e,t,i,n){var r=a(e,t,i),c=this._tilesRequestedForInterval,l=o(this),h={key:r,priorityFunction:n.priorityFunction};Object(u.a)(l)&&s(this,h,l)||c.push(h),c.length>=512&&c.splice(0,256)},n.prototype._clockOnTick=function(e){var t=e.currentTime,i=this._times,n=i.indexOf(t),a=this._currentIntervalIndex;if(n!==a){var r=this._tileCache[a];for(var c in r)r.hasOwnProperty(c)&&r[c].request.cancel();return delete this._tileCache[a],this._tilesRequestedForInterval=[],this._currentIntervalIndex=n,void this._reloadFunction()}var l=o(this);if(Object(u.a)(l))for(var h=this._tilesRequestedForInterval,d=!0;d&&0!==h.length;){var f=h.pop();(d=s(this,f,l))||h.push(f)}},t.a=n},ow1b:function(e,t,i){"use strict";var n=i("7ar3"),a=n("%Object.defineProperty%",!0)||!1;if(a)try{a({},"a",{value:1})}catch(e){a=!1}e.exports=a},p4mb:function(e,t,i){"use strict";t.a="uniform sampler2D depthTexture;\nuniform float length;\nuniform vec4 color;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main(void)\n{\n    float directions[3];\n    directions[0] = -1.0;\n    directions[1] = 0.0;\n    directions[2] = 1.0;\n\n    float scalars[3];\n    scalars[0] = 3.0;\n    scalars[1] = 10.0;\n    scalars[2] = 3.0;\n\n    float padx = czm_pixelRatio / czm_viewport.z;\n    float pady = czm_pixelRatio / czm_viewport.w;\n\n#ifdef CZM_SELECTED_FEATURE\n    bool selected = false;\n    for (int i = 0; i < 3; ++i)\n    {\n        float dir = directions[i];\n        selected = selected || czm_selected(vec2(-padx, dir * pady));\n        selected = selected || czm_selected(vec2(padx, dir * pady));\n        selected = selected || czm_selected(vec2(dir * padx, -pady));\n        selected = selected || czm_selected(vec2(dir * padx, pady));\n        if (selected)\n        {\n            break;\n        }\n    }\n    if (!selected)\n    {\n        gl_FragColor = vec4(color.rgb, 0.0);\n        return;\n    }\n#endif\n\n    float horizEdge = 0.0;\n    float vertEdge = 0.0;\n\n    for (int i = 0; i < 3; ++i)\n    {\n        float dir = directions[i];\n        float scale = scalars[i];\n\n        horizEdge -= texture2D(depthTexture, v_textureCoordinates + vec2(-padx, dir * pady)).x * scale;\n        horizEdge += texture2D(depthTexture, v_textureCoordinates + vec2(padx, dir * pady)).x * scale;\n\n        vertEdge -= texture2D(depthTexture, v_textureCoordinates + vec2(dir * padx, -pady)).x * scale;\n        vertEdge += texture2D(depthTexture, v_textureCoordinates + vec2(dir * padx, pady)).x * scale;\n    }\n\n    float len = sqrt(horizEdge * horizEdge + vertEdge * vertEdge);\n    gl_FragColor = vec4(color.rgb, len > length ? color.a : 0.0);\n}\n"},pEVw:function(e,t,i){"use strict";t.a="/**\n * The constant identifier for the Morphing {@link SceneMode}\n *\n * @name czm_sceneModeMorphing\n * @glslConstant\n * @see czm_sceneMode\n * @see czm_sceneMode2D\n * @see czm_sceneModeColumbusView\n * @see czm_sceneMode3D\n */\nconst float czm_sceneModeMorphing = 0.0;\n"},"pH/u":function(e,t,i){"use strict";function n(e,t,i){var n=t.vertexFormat,a=t.center,r=t.semiMajorAxis,o=t.semiMinorAxis,s=t.ellipsoid,c=t.stRotation,l=i?e.length/3*2:e.length/3,u=t.shadowVolume,h=n.st?new Float32Array(2*l):void 0,f=n.normal?new Float32Array(3*l):void 0,g=n.tangent?new Float32Array(3*l):void 0,_=n.bitangent?new Float32Array(3*l):void 0,b=u?new Float32Array(3*l):void 0,O=0,x=G,T=Y,S=X,P=new E.a(s),D=P.project(s.cartesianToCartographic(a,Q),J),I=s.scaleToGeodeticSurface(a,z);s.geodeticSurfaceNormal(I,I);var M=H,N=q;if(0!==c){var F=L.a.fromAxisAngle(I,c,W);M=R.a.fromQuaternion(F,M),F=L.a.fromAxisAngle(I,-c,W),N=R.a.fromQuaternion(F,N)}else M=R.a.clone(R.a.IDENTITY,M),N=R.a.clone(R.a.IDENTITY,N);for(var U=p.a.fromElements(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Z),$=p.a.fromElements(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,K),ee=e.length,te=i?ee:0,ie=te/3*2,ne=0;ne<ee;ne+=3){var ae=ne+1,re=ne+2,oe=m.a.fromArray(e,ne,z);if(n.st){var se=R.a.multiplyByVector(M,oe,B),ce=P.project(s.cartesianToCartographic(se,Q),k);m.a.subtract(ce,D,ce),V.x=(ce.x+r)/(2*r),V.y=(ce.y+o)/(2*o),U.x=Math.min(V.x,U.x),U.y=Math.min(V.y,U.y),$.x=Math.max(V.x,$.x),$.y=Math.max(V.y,$.y),i&&(h[O+ie]=V.x,h[O+1+ie]=V.y),h[O++]=V.x,h[O++]=V.y}(n.normal||n.tangent||n.bitangent||u)&&(x=s.geodeticSurfaceNormal(oe,x),u&&(b[ne+te]=-x.x,b[ae+te]=-x.y,b[re+te]=-x.z),(n.normal||n.tangent||n.bitangent)&&((n.tangent||n.bitangent)&&(T=m.a.normalize(m.a.cross(m.a.UNIT_Z,x,T),T),R.a.multiplyByVector(N,T,T)),n.normal&&(f[ne]=x.x,f[ae]=x.y,f[re]=x.z,i&&(f[ne+te]=-x.x,f[ae+te]=-x.y,f[re+te]=-x.z)),n.tangent&&(g[ne]=T.x,g[ae]=T.y,g[re]=T.z,i&&(g[ne+te]=-T.x,g[ae+te]=-T.y,g[re+te]=-T.z)),n.bitangent&&(S=m.a.normalize(m.a.cross(x,T,S),S),_[ne]=S.x,_[ae]=S.y,_[re]=S.z,i&&(_[ne+te]=S.x,_[ae+te]=S.y,_[re+te]=S.z))))}if(n.st){ee=h.length;for(var le=0;le<ee;le+=2)h[le]=(h[le]-U.x)/($.x-U.x),h[le+1]=(h[le+1]-U.y)/($.y-U.y)}var ue=new C.a;if(n.position){var he=w.a.raisePositionsToHeight(e,t,i);ue.position=new A.a({componentDatatype:v.a.DOUBLE,componentsPerAttribute:3,values:he})}if(n.st&&(ue.st=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:2,values:h})),n.normal&&(ue.normal=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:f})),n.tangent&&(ue.tangent=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:g})),n.bitangent&&(ue.bitangent=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:_})),u&&(ue.extrudeDirection=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:b})),i&&Object(y.a)(t.offsetAttribute)){var de=new Uint8Array(l);if(t.offsetAttribute===j.a.TOP)de=Object(d.a)(de,1,0,l/2);else{var fe=t.offsetAttribute===j.a.NONE?0:1;de=Object(d.a)(de,fe)}ue.applyOffset=new A.a({componentDatatype:v.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:de})}return ue}function a(e){var t,i,n,a,r,o=new Array(e*(e+1)*12-6),s=0;for(t=0,n=1,a=0;a<3;a++)o[s++]=n++,o[s++]=t,o[s++]=n;for(a=2;a<e+1;++a){for(n=a*(a+1)-1,t=(a-1)*a-1,o[s++]=n++,o[s++]=t,o[s++]=n,i=2*a,r=0;r<i-1;++r)o[s++]=n,o[s++]=t++,o[s++]=t,o[s++]=n++,o[s++]=t,o[s++]=n;o[s++]=n++,o[s++]=t,o[s++]=n}for(i=2*e,++n,++t,a=0;a<i-1;++a)o[s++]=n,o[s++]=t++,o[s++]=t,o[s++]=n++,o[s++]=t,o[s++]=n;for(o[s++]=n,o[s++]=t++,o[s++]=t,o[s++]=n++,o[s++]=t++,o[s++]=t,++t,a=e-1;a>1;--a){for(o[s++]=t++,o[s++]=t,o[s++]=n,i=2*a,r=0;r<i-1;++r)o[s++]=n,o[s++]=t++,o[s++]=t,o[s++]=n++,o[s++]=t,o[s++]=n;o[s++]=t++,o[s++]=t++,o[s++]=n++}for(a=0;a<3;a++)o[s++]=t++,o[s++]=t,o[s++]=n;return o}function r(e){var t=e.center;$=m.a.multiplyByScalar(e.ellipsoid.geodeticSurfaceNormal(t,$),e.height,$),$=m.a.add(t,$,$);var i=new f.a($,e.semiMajorAxis),r=w.a.computeEllipsePositions(e,!0,!1),o=r.positions,s=r.numPts,c=n(o,e,!1),l=a(s);return l=D.a.createTypedArray(o.length/3,l),{boundingSphere:i,attributes:c,indices:l}}function o(e,t){var i=t.vertexFormat,n=t.center,a=t.semiMajorAxis,r=t.semiMinorAxis,o=t.ellipsoid,s=t.height,c=t.extrudedHeight,l=t.stRotation,u=e.length/3*2,h=new Float64Array(3*u),f=i.st?new Float32Array(2*u):void 0,g=i.normal?new Float32Array(3*u):void 0,_=i.tangent?new Float32Array(3*u):void 0,b=i.bitangent?new Float32Array(3*u):void 0,O=t.shadowVolume,w=O?new Float32Array(3*u):void 0,x=0,T=G,S=Y,P=X,D=new E.a(o),I=D.project(o.cartesianToCartographic(n,Q),J),M=o.scaleToGeodeticSurface(n,z);o.geodeticSurfaceNormal(M,M);for(var N=L.a.fromAxisAngle(M,l,W),F=R.a.fromQuaternion(N,H),q=p.a.fromElements(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Z),$=p.a.fromElements(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,K),ee=e.length,te=ee/3*2,ie=0;ie<ee;ie+=3){var ne,ae=ie+1,re=ie+2,oe=m.a.fromArray(e,ie,z);if(i.st){var se=R.a.multiplyByVector(F,oe,B),ce=D.project(o.cartesianToCartographic(se,Q),k);m.a.subtract(ce,I,ce),V.x=(ce.x+a)/(2*a),V.y=(ce.y+r)/(2*r),q.x=Math.min(V.x,q.x),q.y=Math.min(V.y,q.y),$.x=Math.max(V.x,$.x),$.y=Math.max(V.y,$.y),f[x+te]=V.x,f[x+1+te]=V.y,f[x++]=V.x,f[x++]=V.y}oe=o.scaleToGeodeticSurface(oe,oe),ne=m.a.clone(oe,B),T=o.geodeticSurfaceNormal(oe,T),O&&(w[ie+ee]=-T.x,w[ae+ee]=-T.y,w[re+ee]=-T.z);var le=m.a.multiplyByScalar(T,s,U);if(oe=m.a.add(oe,le,oe),le=m.a.multiplyByScalar(T,c,le),ne=m.a.add(ne,le,ne),i.position&&(h[ie+ee]=ne.x,h[ae+ee]=ne.y,h[re+ee]=ne.z,h[ie]=oe.x,h[ae]=oe.y,h[re]=oe.z),i.normal||i.tangent||i.bitangent){P=m.a.clone(T,P);var ue=m.a.fromArray(e,(ie+3)%ee,U);m.a.subtract(ue,oe,ue);var he=m.a.subtract(ne,oe,k);T=m.a.normalize(m.a.cross(he,ue,T),T),i.normal&&(g[ie]=T.x,g[ae]=T.y,g[re]=T.z,g[ie+ee]=T.x,g[ae+ee]=T.y,g[re+ee]=T.z),i.tangent&&(S=m.a.normalize(m.a.cross(P,T,S),S),_[ie]=S.x,_[ae]=S.y,_[re]=S.z,_[ie+ee]=S.x,_[ie+1+ee]=S.y,_[ie+2+ee]=S.z),i.bitangent&&(b[ie]=P.x,b[ae]=P.y,b[re]=P.z,b[ie+ee]=P.x,b[ae+ee]=P.y,b[re+ee]=P.z)}}if(i.st){ee=f.length;for(var de=0;de<ee;de+=2)f[de]=(f[de]-q.x)/($.x-q.x),f[de+1]=(f[de+1]-q.y)/($.y-q.y)}var fe=new C.a;if(i.position&&(fe.position=new A.a({componentDatatype:v.a.DOUBLE,componentsPerAttribute:3,values:h})),i.st&&(fe.st=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:2,values:f})),i.normal&&(fe.normal=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:g})),i.tangent&&(fe.tangent=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:_})),i.bitangent&&(fe.bitangent=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:b})),O&&(fe.extrudeDirection=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:w})),Object(y.a)(t.offsetAttribute)){var pe=new Uint8Array(u);if(t.offsetAttribute===j.a.TOP)pe=Object(d.a)(pe,1,0,u/2);else{var me=t.offsetAttribute===j.a.NONE?0:1;pe=Object(d.a)(pe,me)}fe.applyOffset=new A.a({componentDatatype:v.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:pe})}return fe}function s(e){for(var t=e.length/3,i=D.a.createTypedArray(t,6*t),n=0,a=0;a<t;a++){var r=a,o=a+t,s=(r+1)%t,c=s+t;i[n++]=r,i[n++]=o,i[n++]=s,i[n++]=s,i[n++]=o,i[n++]=c}return i}function c(e){var t=e.center,i=e.ellipsoid,r=e.semiMajorAxis,c=m.a.multiplyByScalar(i.geodeticSurfaceNormal(t,z),e.height,z);ee.center=m.a.add(t,c,ee.center),ee.radius=r,c=m.a.multiplyByScalar(i.geodeticSurfaceNormal(t,c),e.extrudedHeight,c),te.center=m.a.add(t,c,te.center),te.radius=r;var l=w.a.computeEllipsePositions(e,!0,!0),u=l.positions,h=l.numPts,d=l.outerPositions,p=f.a.union(ee,te),g=n(u,e,!0),_=a(h),v=_.length;_.length=2*v;for(var b=u.length/3,y=0;y<v;y+=3)_[y+v]=_[y+2]+b,_[y+1+v]=_[y+1]+b,_[y+2+v]=_[y]+b;var O=D.a.createTypedArray(2*b/3,_),x=new T.a({attributes:g,indices:O,primitiveType:M.a.TRIANGLES}),E=o(d,e);_=s(d);var A=D.a.createTypedArray(2*d.length/3,_),C=new T.a({attributes:E,indices:A,primitiveType:M.a.TRIANGLES}),j=P.a.combineInstances([new S.a({geometry:x}),new S.a({geometry:C})]);return{boundingSphere:p,attributes:j[0].attributes,indices:j[0].indices}}function l(e,t,i,n,a,r,o){for(var s=w.a.computeEllipsePositions({center:e,semiMajorAxis:t,semiMinorAxis:i,rotation:n,granularity:a},!1,!0),c=s.outerPositions,l=c.length/3,u=new Array(l),h=0;h<l;++h)u[h]=m.a.fromArray(c,3*h);var d=N.a.fromCartesianArray(u,r,o);return d.width>I.a.PI&&(d.north=d.north>0?I.a.PI_OVER_TWO-I.a.EPSILON7:d.north,d.south=d.south<0?I.a.EPSILON7-I.a.PI_OVER_TWO:d.south,d.east=I.a.PI,d.west=-I.a.PI),d}function u(e){e=Object(b.a)(e,b.a.EMPTY_OBJECT);var t=e.center,i=Object(b.a)(e.ellipsoid,x.a.WGS84),n=e.semiMajorAxis,a=e.semiMinorAxis,r=Object(b.a)(e.granularity,I.a.RADIANS_PER_DEGREE),o=Object(b.a)(e.vertexFormat,F.a.DEFAULT);if(_.a.defined("options.center",t),_.a.typeOf.number("options.semiMajorAxis",n),_.a.typeOf.number("options.semiMinorAxis",a),n<a)throw new O.a("semiMajorAxis must be greater than or equal to the semiMinorAxis.");if(r<=0)throw new O.a("granularity must be greater than zero.");var s=Object(b.a)(e.height,0),c=Object(b.a)(e.extrudedHeight,s);this._center=m.a.clone(t),this._semiMajorAxis=n,this._semiMinorAxis=a,this._ellipsoid=x.a.clone(i),this._rotation=Object(b.a)(e.rotation,0),this._stRotation=Object(b.a)(e.stRotation,0),this._height=Math.max(c,s),this._granularity=r,this._vertexFormat=F.a.clone(o),this._extrudedHeight=Math.min(c,s),this._shadowVolume=Object(b.a)(e.shadowVolume,!1),this._workerName="createEllipseGeometry",this._offsetAttribute=e.offsetAttribute,this._rectangle=void 0,this._textureCoordinateRotationPoints=void 0}function h(e){var t=-e._stRotation;if(0===t)return[0,0,0,1,1,0];for(var i=w.a.computeEllipsePositions({center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,rotation:e._rotation,granularity:e._granularity},!1,!0),n=i.outerPositions,a=n.length/3,r=new Array(a),o=0;o<a;++o)r[o]=m.a.fromArray(n,3*o);var s=e._ellipsoid,c=e.rectangle;return T.a._textureCoordinateRotationPoints(r,t,s,c)}var d=i("Sfsp"),f=i("lBr9"),p=i("Ss9j"),m=i("Jj+J"),g=i("I3GD"),_=i("5F4X"),v=i("YCZg"),b=i("5A4e"),y=i("xC6Q"),O=i("PzDm"),w=i("fCa+"),x=i("y6fO"),E=i("eUIW"),T=i("RGAo"),A=i("RYD3"),C=i("GaJK"),S=i("izcu"),j=i("2g+t"),P=i("odWO"),D=i("oMsT"),I=i("fq+p"),R=i("i3sv"),M=i("nHNe"),L=i("q/xW"),N=i("Wq1U"),F=i("xvTE"),z=new m.a,B=new m.a,k=new m.a,U=new m.a,V=new p.a,H=new R.a,q=new R.a,W=new L.a,G=new m.a,Y=new m.a,X=new m.a,Q=new g.a,J=new m.a,Z=new p.a,K=new p.a,$=new m.a,ee=new f.a,te=new f.a;u.packedLength=m.a.packedLength+x.a.packedLength+F.a.packedLength+9,u.pack=function(e,t,i){return _.a.defined("value",e),_.a.defined("array",t),i=Object(b.a)(i,0),m.a.pack(e._center,t,i),i+=m.a.packedLength,x.a.pack(e._ellipsoid,t,i),i+=x.a.packedLength,F.a.pack(e._vertexFormat,t,i),i+=F.a.packedLength,t[i++]=e._semiMajorAxis,t[i++]=e._semiMinorAxis,t[i++]=e._rotation,t[i++]=e._stRotation,t[i++]=e._height,t[i++]=e._granularity,t[i++]=e._extrudedHeight,t[i++]=e._shadowVolume?1:0,t[i]=Object(b.a)(e._offsetAttribute,-1),t};var ie=new m.a,ne=new x.a,ae=new F.a,re={center:ie,ellipsoid:ne,vertexFormat:ae,semiMajorAxis:void 0,semiMinorAxis:void 0,rotation:void 0,stRotation:void 0,height:void 0,granularity:void 0,extrudedHeight:void 0,shadowVolume:void 0,offsetAttribute:void 0};u.unpack=function(e,t,i){_.a.defined("array",e),t=Object(b.a)(t,0);var n=m.a.unpack(e,t,ie);t+=m.a.packedLength;var a=x.a.unpack(e,t,ne);t+=x.a.packedLength;var r=F.a.unpack(e,t,ae);t+=F.a.packedLength;var o=e[t++],s=e[t++],c=e[t++],l=e[t++],h=e[t++],d=e[t++],f=e[t++],p=1===e[t++],g=e[t];return Object(y.a)(i)?(i._center=m.a.clone(n,i._center),i._ellipsoid=x.a.clone(a,i._ellipsoid),i._vertexFormat=F.a.clone(r,i._vertexFormat),i._semiMajorAxis=o,i._semiMinorAxis=s,i._rotation=c,i._stRotation=l,i._height=h,i._granularity=d,i._extrudedHeight=f,i._shadowVolume=p,i._offsetAttribute=-1===g?void 0:g,i):(re.height=h,re.extrudedHeight=f,re.granularity=d,re.stRotation=l,re.rotation=c,re.semiMajorAxis=o,re.semiMinorAxis=s,re.shadowVolume=p,re.offsetAttribute=-1===g?void 0:g,new u(re))},u.computeRectangle=function(e,t){e=Object(b.a)(e,b.a.EMPTY_OBJECT);var i=e.center,n=Object(b.a)(e.ellipsoid,x.a.WGS84),a=e.semiMajorAxis,r=e.semiMinorAxis,o=Object(b.a)(e.granularity,I.a.RADIANS_PER_DEGREE),s=Object(b.a)(e.rotation,0);if(_.a.defined("options.center",i),_.a.typeOf.number("options.semiMajorAxis",a),_.a.typeOf.number("options.semiMinorAxis",r),a<r)throw new O.a("semiMajorAxis must be greater than or equal to the semiMinorAxis.");if(o<=0)throw new O.a("granularity must be greater than zero.");return l(i,a,r,s,o,n,t)},u.createGeometry=function(e){if(!(e._semiMajorAxis<=0||e._semiMinorAxis<=0)){var t=e._height,i=e._extrudedHeight,n=!I.a.equalsEpsilon(t,i,0,I.a.EPSILON2);e._center=e._ellipsoid.scaleToGeodeticSurface(e._center,e._center);var a,o={center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,ellipsoid:e._ellipsoid,rotation:e._rotation,height:t,granularity:e._granularity,vertexFormat:e._vertexFormat,stRotation:e._stRotation};if(n)o.extrudedHeight=i,o.shadowVolume=e._shadowVolume,o.offsetAttribute=e._offsetAttribute,a=c(o);else if(a=r(o),Object(y.a)(e._offsetAttribute)){var s=a.attributes.position.values.length,l=new Uint8Array(s/3),u=e._offsetAttribute===j.a.NONE?0:1;Object(d.a)(l,u),a.attributes.applyOffset=new A.a({componentDatatype:v.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:l})}return new T.a({attributes:a.attributes,indices:a.indices,primitiveType:M.a.TRIANGLES,boundingSphere:a.boundingSphere,offsetAttribute:e._offsetAttribute})}},u.createShadowVolume=function(e,t,i){var n=e._granularity,a=e._ellipsoid,r=t(n,a),o=i(n,a);return new u({center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,ellipsoid:a,rotation:e._rotation,stRotation:e._stRotation,granularity:n,extrudedHeight:r,height:o,vertexFormat:F.a.POSITION_ONLY,shadowVolume:!0})},Object.defineProperties(u.prototype,{rectangle:{get:function(){return Object(y.a)(this._rectangle)||(this._rectangle=l(this._center,this._semiMajorAxis,this._semiMinorAxis,this._rotation,this._granularity,this._ellipsoid)),this._rectangle}},textureCoordinateRotationPoints:{get:function(){return Object(y.a)(this._textureCoordinateRotationPoints)||(this._textureCoordinateRotationPoints=h(this)),this._textureCoordinateRotationPoints}}}),t.a=u},pLXb:function(e,t,i){"use strict";var n={NONE:0,TRIANGLES:1,LINES:2,POLYLINES:3};t.a=Object.freeze(n)},pZIl:function(e,t,i){"use strict";function n(e){this.type="KmlTourWait",this.blocking=!0,this.duration=e,this.timeout=null}var a=i("xC6Q");n.prototype.play=function(e){var t=this;this.activeCallback=e,this.timeout=setTimeout(function(){delete t.activeCallback,e(!1)},1e3*this.duration)},n.prototype.stop=function(){clearTimeout(this.timeout),Object(a.a)(this.activeCallback)&&this.activeCallback(!0)},t.a=n},pd23:function(e,t,i){"use strict";t.a="/**\n * 0.0000001\n *\n * @name czm_epsilon7\n * @glslConstant\n */\nconst float czm_epsilon7 = 0.0000001;\n"},pfpV:function(e,t,i){"use strict";function n(e){this._url=e,this._cubeMapBuffers=void 0,this._cubeMaps=void 0,this._texture=void 0,this._mipTextures=void 0,this._va=void 0,this._sp=void 0,this._maximumMipmapLevel=void 0,this._loading=!1,this._ready=!1,this._readyPromise=T.a.defer()}function a(e){var t=p.a.createVertexBuffer({context:e,typedArray:F,usage:m.a.STATIC_DRAW}),i=p.a.createVertexBuffer({context:e,typedArray:M,usage:m.a.STATIC_DRAW}),n=p.a.createIndexBuffer({context:e,typedArray:z,usage:m.a.STATIC_DRAW,indexDatatype:h.a.UNSIGNED_SHORT}),a=[{index:0,vertexBuffer:t,componentsPerAttribute:2,componentDatatype:c.a.FLOAT},{index:1,vertexBuffer:i,componentsPerAttribute:3,componentDatatype:c.a.FLOAT}];return new O.a({context:e,attributes:a,indexBuffer:n})}function r(e){return function(){return e}}function o(e){e._va=e._va&&e._va.destroy(),e._sp=e._sp&&e._sp.destroy();var t,i,n=e._cubeMaps;if(Object(l.a)(n))for(i=n.length,t=0;t<i;++t)n[t].destroy();var a=e._mipTextures;if(Object(l.a)(a))for(i=a.length,t=0;t<i;++t)a[t].destroy();e._va=void 0,e._sp=void 0,e._cubeMaps=void 0,e._cubeMapBuffers=void 0,e._mipTextures=void 0}var s=i("Jj+J"),c=i("YCZg"),l=i("xC6Q"),u=i("6sr8"),h=i("oMsT"),d=i("RWMz"),f=i("FhYh"),p=i("tW+E"),m=i("rFKc"),g=i("/Bhn"),_=i("VvLh"),v=i("HvCH"),b=i("WUlw"),y=i("25X5"),O=i("+0EW"),w=i("0Jwc"),x=i("y67q"),E=i("KzcB"),T=i("S7OP");Object.defineProperties(n.prototype,{url:{get:function(){return this._url}},texture:{get:function(){return this._texture}},maximumMipmapLevel:{get:function(){return this._maximumMipmapLevel}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}}}),n.isSupported=function(e){return e.colorBufferHalfFloat&&e.halfFloatingPointTexture||e.floatingPointTexture&&e.colorBufferFloat};for(var A=new s.a(1,0,0),C=new s.a(0,0,1),S=new s.a(-1,0,0),j=new s.a(0,0,-1),P=new s.a(0,1,0),D=new s.a(0,-1,0),I=[P,S,C,D,A,P,j,P,P],R=I.length,M=new Float32Array(3*R),L=0,N=0;N<R;++N,L+=3)s.a.pack(I[N],M,L);var F=new Float32Array([-1,1,-1,0,0,1,0,0,1,0,1,1,0,-1,-1,-1,1,-1]),z=new Uint16Array([0,1,2,2,3,1,7,6,1,3,6,1,2,5,4,3,4,2,4,8,6,3,4,6]);n.prototype.update=function(e){var t=e.context;if(n.isSupported(t)&&(Object(l.a)(this._texture)&&Object(l.a)(this._va)&&o(this),!Object(l.a)(this._texture))){if(!Object(l.a)(this._texture)&&!this._loading){var i=t.textureCache.getTexture(this._url);if(Object(l.a)(i))return o(this),this._texture=i,this._maximumMipmapLevel=this._texture.maximumMipmapLevel,this._ready=!0,void this._readyPromise.resolve()}var s=this._cubeMapBuffers;if(!Object(l.a)(s)&&!this._loading){var c=this;Object(d.a)(this._url).then(function(e){c._cubeMapBuffers=e,c._loading=!1}).otherwise(this._readyPromise.reject),this._loading=!0}if(Object(l.a)(this._cubeMapBuffers)){this._va=a(t),this._sp=b.a.fromCache({context:t,vertexShaderSource:E.a,fragmentShaderSource:x.a,attributeLocations:{position:0,cubeMapCoordinates:1}});var u=Math.min(s.length,6);this._maximumMipmapLevel=u-1;for(var h=this._cubeMaps=new Array(u),p=this._mipTextures=new Array(u),m=2*s[0].positiveX.width,O={originalSize:function(){return m}},T=t.halfFloatingPointTexture?v.a.HALF_FLOAT:v.a.FLOAT,A=f.a.RGBA,C=0;C<u;++C){var S=s[C].positiveY;s[C].positiveY=s[C].negativeY,s[C].negativeY=S;var j=h[C]=new _.a({context:t,source:s[C]}),P=2*h[C].width,D=p[C]=new y.a({context:t,width:P,height:P,pixelDatatype:T,pixelFormat:A}),I=new g.a({vertexArray:this._va,shaderProgram:this._sp,uniformMap:{cubeMap:r(j)},outputTexture:D,persists:!0,owner:this});e.commandList.push(I),O["texture"+C]=r(D)}this._texture=new y.a({context:t,width:1.5*m+2,height:m,pixelDatatype:T,pixelFormat:A}),this._texture.maximumMipmapLevel=this._maximumMipmapLevel,t.textureCache.addTexture(this._url,this._texture);var R=new g.a({fragmentShaderSource:w.a,uniformMap:O,outputTexture:this._texture,persists:!1,owner:this});e.commandList.push(R),this._ready=!0,this._readyPromise.resolve()}}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return o(this),this._texture=this._texture&&this._texture.destroy(),Object(u.a)(this)},t.a=n},pmdr:function(e,t,i){"use strict";var n=i("ow1b"),a=i("XHij"),r=i("xTtY"),o=i("kCPa");e.exports=function(e,t,i){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new r("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new r("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],h=!!o&&o(e,t);if(n)n(e,t,{configurable:null===l&&h?h.configurable:!l,enumerable:null===s&&h?h.enumerable:!s,value:i,writable:null===c&&h?h.writable:!c});else{if(!u&&(s||c||l))throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=i}}},pw30:function(e,t,i){"use strict";var n={__proto__:null,foo:{}},a=Object;e.exports=function(){return{__proto__:n}.foo===n.foo&&!(n instanceof a)}},"q+vg":function(e,t){function i(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var a in i)n.call(i,a)&&(e[a]=i[a])}return e}e.exports=i;var n=Object.prototype.hasOwnProperty},"q/xW":function(e,t,i){"use strict";function n(e,t,i,n){this.x=Object(o.a)(e,0),this.y=Object(o.a)(t,0),this.z=Object(o.a)(i,0),this.w=Object(o.a)(n,0)}var a=i("Jj+J"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("gjtw"),l=i("fq+p"),u=i("i3sv"),h=new a.a;n.fromAxisAngle=function(e,t,i){r.a.typeOf.object("axis",e),r.a.typeOf.number("angle",t);var o=t/2,c=Math.sin(o);h=a.a.normalize(e,h);var l=h.x*c,u=h.y*c,d=h.z*c,f=Math.cos(o);return Object(s.a)(i)?(i.x=l,i.y=u,i.z=d,i.w=f,i):new n(l,u,d,f)};var d=[1,2,0],f=new Array(3);n.fromRotationMatrix=function(e,t){r.a.typeOf.object("matrix",e);var i,a,o,c,l,h=e[u.a.COLUMN0ROW0],p=e[u.a.COLUMN1ROW1],m=e[u.a.COLUMN2ROW2],g=h+p+m;if(g>0)i=Math.sqrt(g+1),l=.5*i,i=.5/i,a=(e[u.a.COLUMN1ROW2]-e[u.a.COLUMN2ROW1])*i,o=(e[u.a.COLUMN2ROW0]-e[u.a.COLUMN0ROW2])*i,c=(e[u.a.COLUMN0ROW1]-e[u.a.COLUMN1ROW0])*i;else{var _=d,v=0;p>h&&(v=1),m>h&&m>p&&(v=2);var b=_[v],y=_[b];i=Math.sqrt(e[u.a.getElementIndex(v,v)]-e[u.a.getElementIndex(b,b)]-e[u.a.getElementIndex(y,y)]+1);var O=f;O[v]=.5*i,i=.5/i,l=(e[u.a.getElementIndex(y,b)]-e[u.a.getElementIndex(b,y)])*i,O[b]=(e[u.a.getElementIndex(b,v)]+e[u.a.getElementIndex(v,b)])*i,O[y]=(e[u.a.getElementIndex(y,v)]+e[u.a.getElementIndex(v,y)])*i,a=-O[0],o=-O[1],c=-O[2]}return Object(s.a)(t)?(t.x=a,t.y=o,t.z=c,t.w=l,t):new n(a,o,c,l)};var p=new n,m=new n,g=new n,_=new n;n.fromHeadingPitchRoll=function(e,t){return r.a.typeOf.object("headingPitchRoll",e),_=n.fromAxisAngle(a.a.UNIT_X,e.roll,p),g=n.fromAxisAngle(a.a.UNIT_Y,-e.pitch,t),t=n.multiply(g,_,g),m=n.fromAxisAngle(a.a.UNIT_Z,-e.heading,p),n.multiply(m,t,t)};var v=new a.a,b=new a.a,y=new n,O=new n,w=new n;n.packedLength=4,n.pack=function(e,t,i){return r.a.typeOf.object("value",e),r.a.defined("array",t),i=Object(o.a)(i,0),t[i++]=e.x,t[i++]=e.y,t[i++]=e.z,t[i]=e.w,t},n.unpack=function(e,t,i){return r.a.defined("array",e),t=Object(o.a)(t,0),Object(s.a)(i)||(i=new n),i.x=e[t],i.y=e[t+1],i.z=e[t+2],i.w=e[t+3],i},n.packedInterpolationLength=3,n.convertPackedArrayForInterpolation=function(e,t,i,a){n.unpack(e,4*i,w),n.conjugate(w,w);for(var r=0,o=i-t+1;r<o;r++){var s=3*r;n.unpack(e,4*(t+r),y),n.multiply(y,w,y),y.w<0&&n.negate(y,y),n.computeAxis(y,v);var c=n.computeAngle(y);a[s]=v.x*c,a[s+1]=v.y*c,a[s+2]=v.z*c}},n.unpackInterpolationResult=function(e,t,i,r,o){Object(s.a)(o)||(o=new n),a.a.fromArray(e,0,b);var c=a.a.magnitude(b);return n.unpack(t,4*r,O),0===c?n.clone(n.IDENTITY,y):n.fromAxisAngle(b,c,y),n.multiply(y,O,o)},n.clone=function(e,t){if(Object(s.a)(e))return Object(s.a)(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new n(e.x,e.y,e.z,e.w)},n.conjugate=function(e,t){return r.a.typeOf.object("quaternion",e),r.a.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},n.magnitudeSquared=function(e){return r.a.typeOf.object("quaternion",e),e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},n.magnitude=function(e){return Math.sqrt(n.magnitudeSquared(e))},n.normalize=function(e,t){r.a.typeOf.object("result",t);var i=1/n.magnitude(e),a=e.x*i,o=e.y*i,s=e.z*i,c=e.w*i;return t.x=a,t.y=o,t.z=s,t.w=c,t},n.inverse=function(e,t){r.a.typeOf.object("result",t);var i=n.magnitudeSquared(e);return t=n.conjugate(e,t),n.multiplyByScalar(t,1/i,t)},n.add=function(e,t,i){return r.a.typeOf.object("left",e),r.a.typeOf.object("right",t),r.a.typeOf.object("result",i),i.x=e.x+t.x,i.y=e.y+t.y,i.z=e.z+t.z,i.w=e.w+t.w,i},n.subtract=function(e,t,i){return r.a.typeOf.object("left",e),r.a.typeOf.object("right",t),r.a.typeOf.object("result",i),i.x=e.x-t.x,i.y=e.y-t.y,i.z=e.z-t.z,i.w=e.w-t.w,i},n.negate=function(e,t){return r.a.typeOf.object("quaternion",e),r.a.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},n.dot=function(e,t){return r.a.typeOf.object("left",e),r.a.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},n.multiply=function(e,t,i){r.a.typeOf.object("left",e),r.a.typeOf.object("right",t),r.a.typeOf.object("result",i);var n=e.x,a=e.y,o=e.z,s=e.w,c=t.x,l=t.y,u=t.z,h=t.w,d=s*c+n*h+a*u-o*l,f=s*l-n*u+a*h+o*c,p=s*u+n*l-a*c+o*h,m=s*h-n*c-a*l-o*u;return i.x=d,i.y=f,i.z=p,i.w=m,i},n.multiplyByScalar=function(e,t,i){return r.a.typeOf.object("quaternion",e),r.a.typeOf.number("scalar",t),r.a.typeOf.object("result",i),i.x=e.x*t,i.y=e.y*t,i.z=e.z*t,i.w=e.w*t,i},n.divideByScalar=function(e,t,i){return r.a.typeOf.object("quaternion",e),r.a.typeOf.number("scalar",t),r.a.typeOf.object("result",i),i.x=e.x/t,i.y=e.y/t,i.z=e.z/t,i.w=e.w/t,i},n.computeAxis=function(e,t){r.a.typeOf.object("quaternion",e),r.a.typeOf.object("result",t);var i=e.w;if(Math.abs(i-1)<l.a.EPSILON6)return t.x=t.y=t.z=0,t;var n=1/Math.sqrt(1-i*i);return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t},n.computeAngle=function(e){return r.a.typeOf.object("quaternion",e),Math.abs(e.w-1)<l.a.EPSILON6?0:2*Math.acos(e.w)};var x=new n;n.lerp=function(e,t,i,a){return r.a.typeOf.object("start",e),r.a.typeOf.object("end",t),r.a.typeOf.number("t",i),r.a.typeOf.object("result",a),x=n.multiplyByScalar(t,i,x),a=n.multiplyByScalar(e,1-i,a),n.add(x,a,a)};var E=new n,T=new n,A=new n;n.slerp=function(e,t,i,a){r.a.typeOf.object("start",e),r.a.typeOf.object("end",t),r.a.typeOf.number("t",i),r.a.typeOf.object("result",a);var o=n.dot(e,t),s=t;if(o<0&&(o=-o,s=E=n.negate(t,E)),1-o<l.a.EPSILON6)return n.lerp(e,s,i,a);var c=Math.acos(o);return T=n.multiplyByScalar(e,Math.sin((1-i)*c),T),A=n.multiplyByScalar(s,Math.sin(i*c),A),a=n.add(T,A,a),n.multiplyByScalar(a,1/Math.sin(c),a)},n.log=function(e,t){r.a.typeOf.object("quaternion",e),r.a.typeOf.object("result",t);var i=l.a.acosClamped(e.w),n=0;return 0!==i&&(n=i/Math.sin(i)),a.a.multiplyByScalar(e,n,t)},n.exp=function(e,t){r.a.typeOf.object("cartesian",e),r.a.typeOf.object("result",t);var i=a.a.magnitude(e),n=0;return 0!==i&&(n=Math.sin(i)/i),t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t.w=Math.cos(i),t};var C=new a.a,S=new a.a,j=new n,P=new n;n.computeInnerQuadrangle=function(e,t,i,o){r.a.typeOf.object("q0",e),r.a.typeOf.object("q1",t),r.a.typeOf.object("q2",i),r.a.typeOf.object("result",o);var s=n.conjugate(t,j);n.multiply(s,i,P);var c=n.log(P,C);n.multiply(s,e,P);var l=n.log(P,S);return a.a.add(c,l,c),a.a.multiplyByScalar(c,.25,c),a.a.negate(c,c),n.exp(c,j),n.multiply(t,j,o)},n.squad=function(e,t,i,a,o,s){r.a.typeOf.object("q0",e),r.a.typeOf.object("q1",t),r.a.typeOf.object("s0",i),r.a.typeOf.object("s1",a),r.a.typeOf.number("t",o),r.a.typeOf.object("result",s);var c=n.slerp(e,t,o,j),l=n.slerp(i,a,o,P);return n.slerp(c,l,2*o*(1-o),s)};for(var D=new n,I=1.9011074535173003,R=c.a.supportsTypedArrays()?new Float32Array(8):[],M=c.a.supportsTypedArrays()?new Float32Array(8):[],L=c.a.supportsTypedArrays()?new Float32Array(8):[],N=c.a.supportsTypedArrays()?new Float32Array(8):[],F=0;F<7;++F){var z=F+1,B=2*z+1;R[F]=1/(z*B),M[F]=z/B}R[7]=I/136,M[7]=8*I/17,n.fastSlerp=function(e,t,i,a){r.a.typeOf.object("start",e),r.a.typeOf.object("end",t),r.a.typeOf.number("t",i),r.a.typeOf.object("result",a);var o,s=n.dot(e,t);s>=0?o=1:(o=-1,s=-s);for(var c=s-1,l=1-i,u=i*i,h=l*l,d=7;d>=0;--d)L[d]=(R[d]*u-M[d])*c,N[d]=(R[d]*h-M[d])*c;var f=o*i*(1+L[0]*(1+L[1]*(1+L[2]*(1+L[3]*(1+L[4]*(1+L[5]*(1+L[6]*(1+L[7])))))))),p=l*(1+N[0]*(1+N[1]*(1+N[2]*(1+N[3]*(1+N[4]*(1+N[5]*(1+N[6]*(1+N[7])))))))),m=n.multiplyByScalar(e,p,D);return n.multiplyByScalar(t,f,a),n.add(m,a,a)},n.fastSquad=function(e,t,i,a,o,s){r.a.typeOf.object("q0",e),r.a.typeOf.object("q1",t),r.a.typeOf.object("s0",i),r.a.typeOf.object("s1",a),r.a.typeOf.number("t",o),r.a.typeOf.object("result",s);var c=n.fastSlerp(e,t,o,j),l=n.fastSlerp(i,a,o,P);return n.fastSlerp(c,l,2*o*(1-o),s)},n.equals=function(e,t){return e===t||Object(s.a)(e)&&Object(s.a)(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},n.equalsEpsilon=function(e,t,i){return r.a.typeOf.number("epsilon",i),e===t||Object(s.a)(e)&&Object(s.a)(t)&&Math.abs(e.x-t.x)<=i&&Math.abs(e.y-t.y)<=i&&Math.abs(e.z-t.z)<=i&&Math.abs(e.w-t.w)<=i},n.ZERO=Object.freeze(new n(0,0,0,0)),n.IDENTITY=Object.freeze(new n(0,0,0,1)),n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},n.prototype.equalsEpsilon=function(e,t){return n.equalsEpsilon(this,e,t)},n.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},t.a=n},qBw0:function(e,t,i){"use strict";function n(e,t){this.center=s.a.clone(Object(u.a)(e,s.a.ZERO)),this.halfAxes=v.a.clone(Object(u.a)(t,v.a.ZERO))}function a(e,t,i,a,r,o,c,l,u,f,p){if(!(Object(h.a)(r)&&Object(h.a)(o)&&Object(h.a)(c)&&Object(h.a)(l)&&Object(h.a)(u)&&Object(h.a)(f)))throw new d.a("all extents (minimum/maximum X/Y/Z) are required.");Object(h.a)(p)||(p=new n);var m=p.halfAxes;v.a.setColumn(m,0,t,m),v.a.setColumn(m,1,i,m),v.a.setColumn(m,2,a,m);var g=j;g.x=(r+o)/2,g.y=(c+l)/2,g.z=(u+f)/2;var _=P;_.x=(o-r)/2,_.y=(l-c)/2,_.z=(f-u)/2;var b=p.center;return g=v.a.multiplyByVector(m,g,g),s.a.add(e,g,b),v.a.multiplyByScale(m,_,m),p}var r=i("lBr9"),o=i("Ss9j"),s=i("Jj+J"),c=i("I3GD"),l=i("5F4X"),u=i("5A4e"),h=i("xC6Q"),d=i("PzDm"),f=i("y6fO"),p=i("GmON"),m=i("u909"),g=i("ogen"),_=i("fq+p"),v=i("i3sv"),b=i("kRxM"),y=i("Wq1U");n.packedLength=s.a.packedLength+v.a.packedLength,n.pack=function(e,t,i){return l.a.typeOf.object("value",e),l.a.defined("array",t),i=Object(u.a)(i,0),s.a.pack(e.center,t,i),v.a.pack(e.halfAxes,t,i+s.a.packedLength),t},n.unpack=function(e,t,i){return l.a.defined("array",e),t=Object(u.a)(t,0),Object(h.a)(i)||(i=new n),s.a.unpack(e,t,i.center),v.a.unpack(e,t+s.a.packedLength,i.halfAxes),i};var O=new s.a,w=new s.a,x=new s.a,E=new s.a,T=new s.a,A=new s.a,C=new v.a,S={unitary:new v.a,diagonal:new v.a};n.fromPoints=function(e,t){if(Object(h.a)(t)||(t=new n),!Object(h.a)(e)||0===e.length)return t.halfAxes=v.a.ZERO,t.center=s.a.ZERO,t;var i,a=e.length,r=s.a.clone(e[0],O);for(i=1;i<a;i++)s.a.add(r,e[i],r);var o=1/a;s.a.multiplyByScalar(r,o,r);var c,l=0,u=0,d=0,f=0,p=0,m=0;for(i=0;i<a;i++)c=s.a.subtract(e[i],r,w),l+=c.x*c.x,u+=c.x*c.y,d+=c.x*c.z,f+=c.y*c.y,p+=c.y*c.z,m+=c.z*c.z;l*=o,u*=o,d*=o,f*=o,p*=o,m*=o;var g=C;g[0]=l,g[1]=u,g[2]=d,g[3]=u,g[4]=f,g[5]=p,g[6]=d,g[7]=p,g[8]=m;var _=v.a.computeEigenDecomposition(g,S),b=v.a.clone(_.unitary,t.halfAxes),y=v.a.getColumn(b,0,E),j=v.a.getColumn(b,1,T),P=v.a.getColumn(b,2,A),D=-Number.MAX_VALUE,I=-Number.MAX_VALUE,R=-Number.MAX_VALUE,M=Number.MAX_VALUE,L=Number.MAX_VALUE,N=Number.MAX_VALUE;for(i=0;i<a;i++)c=e[i],D=Math.max(s.a.dot(y,c),D),I=Math.max(s.a.dot(j,c),I),R=Math.max(s.a.dot(P,c),R),M=Math.min(s.a.dot(y,c),M),L=Math.min(s.a.dot(j,c),L),N=Math.min(s.a.dot(P,c),N);y=s.a.multiplyByScalar(y,.5*(M+D),y),j=s.a.multiplyByScalar(j,.5*(L+I),j),P=s.a.multiplyByScalar(P,.5*(N+R),P);var F=s.a.add(y,j,t.center);s.a.add(F,P,F);var z=x;return z.x=D-M,z.y=I-L,z.z=R-N,s.a.multiplyByScalar(z,.5,z),v.a.multiplyByScale(t.halfAxes,z,t.halfAxes),t};var j=new s.a,P=new s.a,D=new c.a,I=new s.a,R=new c.a,M=new c.a,L=new c.a,N=new c.a,F=new c.a,z=new s.a,B=new s.a,k=new s.a,U=new s.a,V=new s.a,H=new o.a,q=new o.a,W=new o.a,G=new o.a,Y=new o.a,X=new s.a,Q=new s.a,J=new s.a,Z=new s.a,K=new o.a,$=new s.a,ee=new s.a,te=new s.a,ie=new b.a(s.a.UNIT_X,0);n.fromRectangle=function(e,t,i,n,r){if(!Object(h.a)(e))throw new d.a("rectangle is required");if(e.width<0||e.width>_.a.TWO_PI)throw new d.a("Rectangle width must be between 0 and 2*pi");if(e.height<0||e.height>_.a.PI)throw new d.a("Rectangle height must be between 0 and pi");if(Object(h.a)(n)&&!_.a.equalsEpsilon(n.radii.x,n.radii.y,_.a.EPSILON15))throw new d.a("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");t=Object(u.a)(t,0),i=Object(u.a)(i,0),n=Object(u.a)(n,f.a.WGS84);var o,l,m,g,v,O,w;if(e.width<=_.a.PI){var x=y.a.center(e,D),E=n.cartographicToCartesian(x,I),T=new p.a(E,n);w=T.plane;var A=x.longitude,C=e.south<0&&e.north>0?0:x.latitude,S=c.a.fromRadians(A,e.north,i,R),j=c.a.fromRadians(e.west,e.north,i,M),P=c.a.fromRadians(e.west,C,i,L),ne=c.a.fromRadians(e.west,e.south,i,N),ae=c.a.fromRadians(A,e.south,i,F),re=n.cartographicToCartesian(S,z),oe=n.cartographicToCartesian(j,B),se=n.cartographicToCartesian(P,k),ce=n.cartographicToCartesian(ne,U),le=n.cartographicToCartesian(ae,V),ue=T.projectPointToNearestOnPlane(re,H),he=T.projectPointToNearestOnPlane(oe,q),de=T.projectPointToNearestOnPlane(se,W),fe=T.projectPointToNearestOnPlane(ce,G),pe=T.projectPointToNearestOnPlane(le,Y);return o=Math.min(he.x,de.x,fe.x),l=-o,g=Math.max(he.y,ue.y),m=Math.min(fe.y,pe.y),j.height=ne.height=t,oe=n.cartographicToCartesian(j,B),ce=n.cartographicToCartesian(ne,U),v=Math.min(b.a.getPointDistance(w,oe),b.a.getPointDistance(w,ce)),O=i,a(T.origin,T.xAxis,T.yAxis,T.zAxis,o,l,m,g,v,O,r)}var me=e.south>0,ge=e.north<0,_e=me?e.south:ge?e.north:0,ve=y.a.center(e,D).longitude,be=s.a.fromRadians(ve,_e,i,n,X);be.z=0;var ye=Math.abs(be.x)<_.a.EPSILON10&&Math.abs(be.y)<_.a.EPSILON10,Oe=ye?s.a.UNIT_X:s.a.normalize(be,Q),we=s.a.UNIT_Z,xe=s.a.cross(Oe,we,J);w=b.a.fromPointNormal(be,Oe,ie);var Ee=s.a.fromRadians(ve+_.a.PI_OVER_TWO,_e,i,n,Z);l=s.a.dot(b.a.projectPointOntoPlane(w,Ee,K),xe),o=-l,g=s.a.fromRadians(0,e.north,ge?t:i,n,$).z,m=s.a.fromRadians(0,e.south,me?t:i,n,ee).z;var Te=s.a.fromRadians(e.east,_e,i,n,te);return v=b.a.getPointDistance(w,Te),O=0,a(be,xe,we,Oe,o,l,m,g,v,O,r)},n.clone=function(e,t){if(Object(h.a)(e))return Object(h.a)(t)?(s.a.clone(e.center,t.center),v.a.clone(e.halfAxes,t.halfAxes),t):new n(e.center,e.halfAxes)},n.intersectPlane=function(e,t){if(!Object(h.a)(e))throw new d.a("box is required.");if(!Object(h.a)(t))throw new d.a("plane is required.");var i=e.center,n=t.normal,a=e.halfAxes,r=n.x,o=n.y,c=n.z,l=Math.abs(r*a[v.a.COLUMN0ROW0]+o*a[v.a.COLUMN0ROW1]+c*a[v.a.COLUMN0ROW2])+Math.abs(r*a[v.a.COLUMN1ROW0]+o*a[v.a.COLUMN1ROW1]+c*a[v.a.COLUMN1ROW2])+Math.abs(r*a[v.a.COLUMN2ROW0]+o*a[v.a.COLUMN2ROW1]+c*a[v.a.COLUMN2ROW2]),u=s.a.dot(n,i)+t.distance;return u<=-l?m.a.OUTSIDE:u>=l?m.a.INSIDE:m.a.INTERSECTING};var ne=new s.a,ae=new s.a,re=new s.a,oe=new s.a;n.distanceSquaredTo=function(e,t){if(!Object(h.a)(e))throw new d.a("box is required.");if(!Object(h.a)(t))throw new d.a("cartesian is required.");var i=s.a.subtract(t,e.center,j),n=e.halfAxes,a=v.a.getColumn(n,0,ne),r=v.a.getColumn(n,1,ae),o=v.a.getColumn(n,2,re),c=s.a.magnitude(a),l=s.a.magnitude(r),u=s.a.magnitude(o);s.a.normalize(a,a),s.a.normalize(r,r),s.a.normalize(o,o);var f=oe;f.x=s.a.dot(i,a),f.y=s.a.dot(i,r),f.z=s.a.dot(i,o);var p,m=0;return f.x<-c?(p=f.x+c,m+=p*p):f.x>c&&(p=f.x-c,m+=p*p),f.y<-l?(p=f.y+l,m+=p*p):f.y>l&&(p=f.y-l,m+=p*p),f.z<-u?(p=f.z+u,m+=p*p):f.z>u&&(p=f.z-u,m+=p*p),m};var se=new s.a,ce=new s.a;n.computePlaneDistances=function(e,t,i,n){if(!Object(h.a)(e))throw new d.a("box is required.");if(!Object(h.a)(t))throw new d.a("position is required.");if(!Object(h.a)(i))throw new d.a("direction is required.");Object(h.a)(n)||(n=new g.a);var a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=e.center,c=e.halfAxes,l=v.a.getColumn(c,0,ne),u=v.a.getColumn(c,1,ae),f=v.a.getColumn(c,2,re),p=s.a.add(l,u,se);s.a.add(p,f,p),s.a.add(p,o,p);var m=s.a.subtract(p,t,ce),_=s.a.dot(i,m);return a=Math.min(_,a),r=Math.max(_,r),s.a.add(o,l,p),s.a.add(p,u,p),s.a.subtract(p,f,p),s.a.subtract(p,t,m),_=s.a.dot(i,m),a=Math.min(_,a),r=Math.max(_,r),s.a.add(o,l,p),s.a.subtract(p,u,p),s.a.add(p,f,p),s.a.subtract(p,t,m),_=s.a.dot(i,m),a=Math.min(_,a),r=Math.max(_,r),s.a.add(o,l,p),s.a.subtract(p,u,p),s.a.subtract(p,f,p),s.a.subtract(p,t,m),_=s.a.dot(i,m),a=Math.min(_,a),r=Math.max(_,r),s.a.subtract(o,l,p),s.a.add(p,u,p),s.a.add(p,f,p),s.a.subtract(p,t,m),_=s.a.dot(i,m),a=Math.min(_,a),r=Math.max(_,r),s.a.subtract(o,l,p),s.a.add(p,u,p),s.a.subtract(p,f,p),s.a.subtract(p,t,m),_=s.a.dot(i,m),a=Math.min(_,a),r=Math.max(_,r),s.a.subtract(o,l,p),s.a.subtract(p,u,p),s.a.add(p,f,p),s.a.subtract(p,t,m),_=s.a.dot(i,m),a=Math.min(_,a),r=Math.max(_,r),s.a.subtract(o,l,p),s.a.subtract(p,u,p),s.a.subtract(p,f,p),s.a.subtract(p,t,m),_=s.a.dot(i,m),a=Math.min(_,a),r=Math.max(_,r),n.start=a,n.stop=r,n};var le=new r.a;n.isOccluded=function(e,t){if(!Object(h.a)(e))throw new d.a("box is required.");if(!Object(h.a)(t))throw new d.a("occluder is required.");var i=r.a.fromOrientedBoundingBox(e,le);return!t.isBoundingSphereVisible(i)},n.prototype.intersectPlane=function(e){return n.intersectPlane(this,e)},n.prototype.distanceSquaredTo=function(e){return n.distanceSquaredTo(this,e)},n.prototype.computePlaneDistances=function(e,t,i){return n.computePlaneDistances(this,e,t,i)},n.prototype.isOccluded=function(e){return n.isOccluded(this,e)},n.equals=function(e,t){return e===t||Object(h.a)(e)&&Object(h.a)(t)&&s.a.equals(e.center,t.center)&&v.a.equals(e.halfAxes,t.halfAxes)},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e){return n.equals(this,e)},t.a=n},qEhp:function(e,t,i){"use strict";function n(e){var t,i=e.componentType;t="string"==typeof i?s.a.fromName(i):i;var n=h[e.type],a=d[e.type];return{componentsPerAttribute:n,classType:a,createArrayBufferView:function(e,i,a){return s.a.createArrayBufferView(t,e,i,n*a)}}}var a=i("Ss9j"),r=i("Jj+J"),o=i("PDkd"),s=i("YCZg"),c=i("BvC/"),l=i("i3sv"),u=i("Xjii"),h={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},d={SCALAR:void 0,VEC2:a.a,VEC3:r.a,VEC4:o.a,MAT2:c.a,MAT3:l.a,MAT4:u.a};t.a=n},"qG/l":function(e,t,i){"use strict";function n(e,t,i,n){return s.a.subtract(t,e,C),s.a.multiplyByScalar(C,i/n,C),s.a.add(e,C,C),[C.x,C.y,C.z]}var a=i("X8rS"),r=i("6Ilv"),o=i("Ss9j"),s=i("Jj+J"),c=i("I3GD"),l=i("YCZg"),u=i("5A4e"),h=i("xC6Q"),d=i("y6fO"),f=i("uZf/"),p=i("RGAo"),m=i("RYD3"),g=i("GaJK"),_=i("odWO"),v=i("oMsT"),b=i("fq+p"),y=i("i3sv"),O=i("EDAM"),w=i("nHNe"),x=i("q/xW"),E=i("z43S"),T=i("+snP"),A={};A.computeHierarchyPackedLength=function(e){for(var t=0,i=[e];i.length>0;){var n=i.pop();if(Object(h.a)(n)){t+=2;var a=n.positions,r=n.holes;if(Object(h.a)(a)&&(t+=a.length*s.a.packedLength),Object(h.a)(r))for(var o=r.length,c=0;c<o;++c)i.push(r[c])}}return t},A.packPolygonHierarchy=function(e,t,i){for(var n=[e];n.length>0;){var a=n.pop();if(Object(h.a)(a)){var r=a.positions,o=a.holes;if(t[i++]=Object(h.a)(r)?r.length:0,t[i++]=Object(h.a)(o)?o.length:0,Object(h.a)(r))for(var c=r.length,l=0;l<c;++l,i+=3)s.a.pack(r[l],t,i);if(Object(h.a)(o))for(var u=o.length,d=0;d<u;++d)n.push(o[d])}}return i},A.unpackPolygonHierarchy=function(e,t){for(var i=e[t++],n=e[t++],a=new Array(i),r=n>0?new Array(n):void 0,o=0;o<i;++o,t+=s.a.packedLength)a[o]=s.a.unpack(e,t);for(var c=0;c<n;++c)r[c]=A.unpackPolygonHierarchy(e,t),t=r[c].startingIndex,delete r[c].startingIndex;return{positions:a,holes:r,startingIndex:t}};var C=new s.a;A.subdivideLineCount=function(e,t,i){var n=s.a.distance(e,t),a=n/i,r=Math.max(0,Math.ceil(b.a.log2(a)));return Math.pow(2,r)};var S=new c.a,j=new c.a,P=new c.a,D=new s.a;A.subdivideRhumbLineCount=function(e,t,i,n){var a=e.cartesianToCartographic(t,S),r=e.cartesianToCartographic(i,j),o=new f.a(a,r,e),s=o.surfaceDistance/n,c=Math.max(0,Math.ceil(b.a.log2(s)));return Math.pow(2,c)},A.subdivideLine=function(e,t,i,a){var r=A.subdivideLineCount(e,t,i),o=s.a.distance(e,t),c=o/r;Object(h.a)(a)||(a=[]);var l=a;l.length=3*r;for(var u=0,d=0;d<r;d++){var f=n(e,t,d*c,o);l[u++]=f[0],l[u++]=f[1],l[u++]=f[2]}return l},A.subdivideRhumbLine=function(e,t,i,n,a){var r=e.cartesianToCartographic(t,S),o=e.cartesianToCartographic(i,j),s=new f.a(r,o,e),c=s.surfaceDistance/n,l=Math.max(0,Math.ceil(b.a.log2(c))),u=Math.pow(2,l),d=s.surfaceDistance/u;Object(h.a)(a)||(a=[]);var p=a;p.length=3*u;for(var m=0,g=0;g<u;g++){var _=s.interpolateUsingSurfaceDistance(g*d,P),v=e.cartographicToCartesian(_,D);p[m++]=v.x,p[m++]=v.y,p[m++]=v.z}return p};var I=new s.a,R=new s.a,M=new s.a,L=new s.a;A.scaleToGeodeticHeightExtruded=function(e,t,i,n,a){n=Object(u.a)(n,d.a.WGS84);var r=I,o=R,c=M,l=L;if(Object(h.a)(e)&&Object(h.a)(e.attributes)&&Object(h.a)(e.attributes.position))for(var f=e.attributes.position.values,p=f.length/2,m=0;m<p;m+=3)s.a.fromArray(f,m,c),n.geodeticSurfaceNormal(c,r),l=n.scaleToGeodeticSurface(c,l),o=s.a.multiplyByScalar(r,i,o),o=s.a.add(l,o,o),f[m+p]=o.x,f[m+1+p]=o.y,f[m+2+p]=o.z,a&&(l=s.a.clone(c,l)),o=s.a.multiplyByScalar(r,t,o),o=s.a.add(l,o,o),f[m]=o.x,f[m+1]=o.y,f[m+2]=o.z;return e},A.polygonOutlinesFromHierarchy=function(e,t,i){var n=[],a=new E.a;a.enqueue(e);for(var o,c,l;0!==a.length;){var u=a.dequeue(),d=u.positions;if(t)for(l=d.length,o=0;o<l;o++)i.scaleToGeodeticSurface(d[o],d[o]);if(d=Object(r.a)(d,s.a.equalsEpsilon,!0),!(d.length<3)){var f=u.holes?u.holes.length:0;for(o=0;o<f;o++){var p=u.holes[o],m=p.positions;if(t)for(l=m.length,c=0;c<l;++c)i.scaleToGeodeticSurface(m[c],m[c]);if(m=Object(r.a)(m,s.a.equalsEpsilon,!0),!(m.length<3)){n.push(m);var g=0;for(Object(h.a)(p.holes)&&(g=p.holes.length),c=0;c<g;c++)a.enqueue(p.holes[c])}}n.push(d)}}return n},A.polygonsFromHierarchy=function(e,t,i,n){var a=[],o=[],c=new E.a;for(c.enqueue(e);0!==c.length;){var l,u,d=c.dequeue(),f=d.positions,p=d.holes;if(i)for(u=f.length,l=0;l<u;l++)n.scaleToGeodeticSurface(f[l],f[l]);if(f=Object(r.a)(f,s.a.equalsEpsilon,!0),!(f.length<3)){var m=t(f);if(Object(h.a)(m)){var g=[],_=O.a.computeWindingOrder2D(m);_===T.a.CLOCKWISE&&(m.reverse(),f=f.slice().reverse());var v,b=f.slice(),y=Object(h.a)(p)?p.length:0,w=[];for(l=0;l<y;l++){var x=p[l],A=x.positions;if(i)for(u=A.length,v=0;v<u;++v)n.scaleToGeodeticSurface(A[v],A[v]);if(A=Object(r.a)(A,s.a.equalsEpsilon,!0),!(A.length<3)){var C=t(A);if(Object(h.a)(C)){_=O.a.computeWindingOrder2D(C),_===T.a.CLOCKWISE&&(C.reverse(),A=A.slice().reverse()),w.push(A),g.push(b.length),b=b.concat(A),m=m.concat(C);var S=0;for(Object(h.a)(x.holes)&&(S=x.holes.length),v=0;v<S;v++)c.enqueue(x.holes[v])}}}a.push({outerRing:f,holes:w}),o.push({positions:b,positions2D:m,holes:g})}}}return{hierarchy:a,polygons:o}};var N=new o.a,F=new s.a,z=new x.a,B=new y.a;A.computeBoundingRectangle=function(e,t,i,n,a){for(var r=x.a.fromAxisAngle(e,n,z),o=y.a.fromQuaternion(r,B),c=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,f=i.length,p=0;p<f;++p){var m=s.a.clone(i[p],F);y.a.multiplyByVector(o,m,m);var g=t(m,N);Object(h.a)(g)&&(c=Math.min(c,g.x),l=Math.max(l,g.x),u=Math.min(u,g.y),d=Math.max(d,g.y))}return a.x=c,a.y=u,a.width=l-c,a.height=d-u,a},A.createGeometryFromPositions=function(e,t,i,n,r,o){var s=O.a.triangulate(t.positions2D,t.holes);s.length<3&&(s=[0,1,2]);var c=t.positions;if(n){for(var u=c.length,h=new Array(3*u),d=0,f=0;f<u;f++){var g=c[f];h[d++]=g.x,h[d++]=g.y,h[d++]=g.z}var v=new p.a({attributes:{position:new m.a({componentDatatype:l.a.DOUBLE,componentsPerAttribute:3,values:h})},indices:s,primitiveType:w.a.TRIANGLES});return r.normal?_.a.computeNormal(v):v}return o===a.a.GEODESIC?O.a.computeSubdivision(e,c,s,i):o===a.a.RHUMB?O.a.computeRhumbLineSubdivision(e,c,s,i):void 0};var k=[],U=new s.a,V=new s.a;A.computeWallGeometry=function(e,t,i,n,r){var o,c,u,h,d,f=e.length,_=0;if(n)for(c=3*f*2,o=new Array(2*c),u=0;u<f;u++)h=e[u],d=e[(u+1)%f],o[_]=o[_+c]=h.x,++_,o[_]=o[_+c]=h.y,++_,o[_]=o[_+c]=h.z,++_,o[_]=o[_+c]=d.x,++_,o[_]=o[_+c]=d.y,++_,o[_]=o[_+c]=d.z,++_;else{var y=b.a.chordLength(i,t.maximumRadius),O=0;if(r===a.a.GEODESIC)for(u=0;u<f;u++)O+=A.subdivideLineCount(e[u],e[(u+1)%f],y);else if(r===a.a.RHUMB)for(u=0;u<f;u++)O+=A.subdivideRhumbLineCount(t,e[u],e[(u+1)%f],y);for(c=3*(O+f),o=new Array(2*c),u=0;u<f;u++){h=e[u],d=e[(u+1)%f];var x;r===a.a.GEODESIC?x=A.subdivideLine(h,d,y,k):r===a.a.RHUMB&&(x=A.subdivideRhumbLine(t,h,d,y,k));for(var E=x.length,T=0;T<E;++T,++_)o[_]=x[T],o[_+c]=x[T];o[_]=d.x,o[_+c]=d.x,++_,o[_]=d.y,o[_+c]=d.y,++_,o[_]=d.z,o[_+c]=d.z,++_}}f=o.length;var C=v.a.createTypedArray(f/3,f-6*e.length),S=0;for(f/=6,u=0;u<f;u++){var j=u,P=j+1,D=j+f,I=D+1;h=s.a.fromArray(o,3*j,U),d=s.a.fromArray(o,3*P,V),s.a.equalsEpsilon(h,d,b.a.EPSILON10,b.a.EPSILON10)||(C[S++]=j,C[S++]=D,C[S++]=P,C[S++]=P,C[S++]=D,C[S++]=I)}return new p.a({attributes:new g.a({position:new m.a({componentDatatype:l.a.DOUBLE,componentsPerAttribute:3,values:o})}),indices:C,primitiveType:w.a.TRIANGLES})},t.a=A},qGas:function(e,t,i){"use strict";function n(e){function t(){r(i)}if(!Object(s.a)(e)||!Object(s.a)(e.scene))throw new l.a("options.scene is required.");this._scene=e.scene,this.samplingWindow=Object(o.a)(e.samplingWindow,n.defaultSettings.samplingWindow),this.quietPeriod=Object(o.a)(e.quietPeriod,n.defaultSettings.quietPeriod),this.warmupPeriod=Object(o.a)(e.warmupPeriod,n.defaultSettings.warmupPeriod),this.minimumFrameRateDuringWarmup=Object(o.a)(e.minimumFrameRateDuringWarmup,n.defaultSettings.minimumFrameRateDuringWarmup),this.minimumFrameRateAfterWarmup=Object(o.a)(e.minimumFrameRateAfterWarmup,n.defaultSettings.minimumFrameRateAfterWarmup),this._lowFrameRate=new u.a,this._nominalFrameRate=new u.a,this._frameTimes=[],this._needsQuietPeriod=!0,this._quietPeriodEndTime=0,this._warmupPeriodEndTime=0,this._frameRateIsLow=!1,this._lastFramesPerSecond=void 0,this._pauseCount=0;var i=this;this._preUpdateRemoveListener=this._scene.preUpdate.addEventListener(function(e,t){a(i,t)}),this._hiddenPropertyName=void 0!==document.hidden?"hidden":void 0!==document.mozHidden?"mozHidden":void 0!==document.msHidden?"msHidden":void 0!==document.webkitHidden?"webkitHidden":void 0;var c=void 0!==document.hidden?"visibilitychange":void 0!==document.mozHidden?"mozvisibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychange":void 0;this._visibilityChangeRemoveListener=void 0,Object(s.a)(c)&&(document.addEventListener(c,t,!1),this._visibilityChangeRemoveListener=function(){document.removeEventListener(c,t,!1)})}function a(e,t){if(!(e._pauseCount>0)){var i=Object(h.a)();if(e._needsQuietPeriod)e._needsQuietPeriod=!1,e._frameTimes.length=0,e._quietPeriodEndTime=i+e.quietPeriod/d.a.SECONDS_PER_MILLISECOND,e._warmupPeriodEndTime=e._quietPeriodEndTime+(e.warmupPeriod+e.samplingWindow)/d.a.SECONDS_PER_MILLISECOND;else if(i>=e._quietPeriodEndTime){e._frameTimes.push(i);var n=i-e.samplingWindow/d.a.SECONDS_PER_MILLISECOND;if(e._frameTimes.length>=2&&e._frameTimes[0]<=n){for(;e._frameTimes.length>=2&&e._frameTimes[1]<n;)e._frameTimes.shift();var a=(i-e._frameTimes[0])/(e._frameTimes.length-1);e._lastFramesPerSecond=1e3/a;var r=1e3/(i>e._warmupPeriodEndTime?e.minimumFrameRateAfterWarmup:e.minimumFrameRateDuringWarmup);a>r?e._frameRateIsLow||(e._frameRateIsLow=!0,e._needsQuietPeriod=!0,e.lowFrameRate.raiseEvent(e.scene,e._lastFramesPerSecond)):e._frameRateIsLow&&(e._frameRateIsLow=!1,e._needsQuietPeriod=!0,e.nominalFrameRate.raiseEvent(e.scene,e._lastFramesPerSecond))}}}}function r(e){document[e._hiddenPropertyName]?e.pause():e.unpause()}var o=i("5A4e"),s=i("xC6Q"),c=i("6sr8"),l=i("PzDm"),u=i("W6xh"),h=i("n08a"),d=i("9ZH6");n.defaultSettings={samplingWindow:5,quietPeriod:2,warmupPeriod:5,minimumFrameRateDuringWarmup:4,minimumFrameRateAfterWarmup:8},n.fromScene=function(e){if(!Object(s.a)(e))throw new l.a("scene is required.");return Object(s.a)(e._frameRateMonitor)&&!e._frameRateMonitor.isDestroyed()||(e._frameRateMonitor=new n({scene:e})),e._frameRateMonitor},Object.defineProperties(n.prototype,{scene:{get:function(){return this._scene}},lowFrameRate:{get:function(){return this._lowFrameRate}},nominalFrameRate:{get:function(){return this._nominalFrameRate}},lastFramesPerSecond:{get:function(){return this._lastFramesPerSecond}}}),n.prototype.pause=function(){1===++this._pauseCount&&(this._frameTimes.length=0,this._lastFramesPerSecond=void 0)},n.prototype.unpause=function(){--this._pauseCount<=0&&(this._pauseCount=0,this._needsQuietPeriod=!0)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._preUpdateRemoveListener(),Object(s.a)(this._visibilityChangeRemoveListener)&&this._visibilityChangeRemoveListener(),Object(c.a)(this)},t.a=n},qHse:function(e,t,i){"use strict";t.a="/**\n * DOC_TBA\n *\n * @name czm_ellipsoidContainsPoint\n * @glslFunction\n *\n */\nbool czm_ellipsoidContainsPoint(vec3 ellipsoid_inverseRadii, vec3 point)\n{\n    vec3 scaled = ellipsoid_inverseRadii * (czm_inverseModelView * vec4(point, 1.0)).xyz;\n    return (dot(scaled, scaled) <= 1.0);\n}\n"},qIfy:function(e,t,i){"use strict";t.a="/**\n * Computes distance from a point to a plane.\n *\n * @name czm_planeDistance\n * @glslFunction\n *\n * param {vec4} plane A Plane in Hessian Normal Form. See Plane.js\n * param {vec3} point A point in the same space as the plane.\n * returns {float} The distance from the point to the plane.\n */\nfloat czm_planeDistance(vec4 plane, vec3 point) {\n    return (dot(plane.xyz, point) + plane.w);\n}\n\n/**\n * Computes distance from a point to a plane.\n *\n * @name czm_planeDistance\n * @glslFunction\n *\n * param {vec3} planeNormal Normal for a plane in Hessian Normal Form. See Plane.js\n * param {float} planeDistance Distance for a plane in Hessian Normal form. See Plane.js\n * param {vec3} point A point in the same space as the plane.\n * returns {float} The distance from the point to the plane.\n */\nfloat czm_planeDistance(vec3 planeNormal, float planeDistance, vec3 point) {\n    return (dot(planeNormal, point) + planeDistance);\n}\n"},qJFV:function(e,t,i){"use strict";var n="http://www.w3.org/2000/svg",a={register:function(e){e.bindingHandlers.cesiumSvgPath={init:function(t,i){var a=document.createElementNS(n,"svg:svg");a.setAttribute("class","cesium-svgPath-svg");var r=document.createElementNS(n,"path");return a.appendChild(r),e.virtualElements.setDomNodeChildren(t,[a]),e.computed({read:function(){var t=e.unwrap(i());r.setAttribute("d",e.unwrap(t.path));var n=e.unwrap(t.width),o=e.unwrap(t.height);a.setAttribute("width",n),a.setAttribute("height",o),a.setAttribute("viewBox","0 0 "+n+" "+o),t.css&&a.setAttribute("class","cesium-svgPath-svg "+e.unwrap(t.css))},disposeWhenNodeIsRemoved:t}),{controlsDescendantBindings:!0}}},e.virtualElements.allowedBindings.cesiumSvgPath=!0}};t.a=a},qOxY:function(e,t,i){"use strict";t.a="uniform sampler2D image;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    vec4 rampColor = texture2D(image, vec2(materialInput.aspect / (2.0 * czm_pi), 0.5));\n    rampColor = czm_gammaCorrect(rampColor);\n    material.diffuse = rampColor.rgb;\n    material.alpha = rampColor.a;\n    return material;\n}\n"},qT6X:function(e,t,i){"use strict";function n(){this.globeDepthTexture=void 0,this.gamma=void 0,this._viewport=new D.a,this._viewportCartesian4=new M.a,this._viewportDirty=!1,this._viewportOrthographicMatrix=V.a.clone(V.a.IDENTITY),this._viewportTransformation=V.a.clone(V.a.IDENTITY),this._model=V.a.clone(V.a.IDENTITY),this._view=V.a.clone(V.a.IDENTITY),this._inverseView=V.a.clone(V.a.IDENTITY),this._projection=V.a.clone(V.a.IDENTITY),this._infiniteProjection=V.a.clone(V.a.IDENTITY),this._entireFrustum=new I.a,this._currentFrustum=new I.a,this._frustumPlanes=new M.a,this._farDepthFromNearPlusOne=void 0,this._log2FarDepthFromNearPlusOne=void 0,this._oneOverLog2FarDepthFromNearPlusOne=void 0,this._frameState=void 0,this._temeToPseudoFixed=U.a.clone(V.a.IDENTITY),this._view3DDirty=!0,this._view3D=new V.a,this._inverseView3DDirty=!0,this._inverseView3D=new V.a,this._inverseModelDirty=!0,this._inverseModel=new V.a,this._inverseTransposeModelDirty=!0,this._inverseTransposeModel=new U.a,this._viewRotation=new U.a,this._inverseViewRotation=new U.a,this._viewRotation3D=new U.a,this._inverseViewRotation3D=new U.a,this._inverseProjectionDirty=!0,this._inverseProjection=new V.a,this._modelViewDirty=!0,this._modelView=new V.a,this._modelView3DDirty=!0,this._modelView3D=new V.a,this._modelViewRelativeToEyeDirty=!0,this._modelViewRelativeToEye=new V.a,this._inverseModelViewDirty=!0,this._inverseModelView=new V.a,this._inverseModelView3DDirty=!0,this._inverseModelView3D=new V.a,this._viewProjectionDirty=!0,this._viewProjection=new V.a,this._inverseViewProjectionDirty=!0,this._inverseViewProjection=new V.a,this._modelViewProjectionDirty=!0,this._modelViewProjection=new V.a,this._inverseModelViewProjectionDirty=!0,this._inverseModelViewProjection=new V.a,this._modelViewProjectionRelativeToEyeDirty=!0,this._modelViewProjectionRelativeToEye=new V.a,this._modelViewInfiniteProjectionDirty=!0,this._modelViewInfiniteProjection=new V.a,this._normalDirty=!0,this._normal=new U.a,this._normal3DDirty=!0,this._normal3D=new U.a,this._inverseNormalDirty=!0,this._inverseNormal=new U.a,this._inverseNormal3DDirty=!0,this._inverseNormal3D=new U.a,this._encodedCameraPositionMCDirty=!0,this._encodedCameraPositionMC=new B.a,this._cameraPosition=new R.a,this._sunPositionWC=new R.a,this._sunPositionColumbusView=new R.a,this._sunDirectionWC=new R.a,this._sunDirectionEC=new R.a,this._moonDirectionEC=new R.a,this._lightDirectionWC=new R.a,this._lightDirectionEC=new R.a,this._lightColor=new R.a,this._lightColorHdr=new R.a,this._pass=void 0,this._mode=void 0,this._mapProjection=void 0,this._cameraDirection=new R.a,this._cameraRight=new R.a,this._cameraUp=new R.a,this._frustum2DWidth=0,this._eyeHeight2D=new I.a,this._pixelRatio=1,this._orthographicIn3D=!1,this._backgroundColor=new N.a,this._brdfLut=void 0,this._environmentMap=void 0,this._sphericalHarmonicCoefficients=void 0,this._specularEnvironmentMaps=void 0,this._specularEnvironmentMapsDimensions=new I.a,this._specularEnvironmentMapsMaximumLOD=void 0,this._fogDensity=void 0,this._invertClassificationColor=void 0,this._imagerySplitPosition=0,this._pixelSizePerMeter=void 0,this._geometricToleranceOverMeter=void 0,this._minimumDisableDepthTestDistance=void 0}function a(e,t){V.a.clone(t,e._view),V.a.getMatrix3(t,e._viewRotation),e._view3DDirty=!0,e._inverseView3DDirty=!0,e._modelViewDirty=!0,e._modelView3DDirty=!0,e._modelViewRelativeToEyeDirty=!0,e._inverseModelViewDirty=!0,e._inverseModelView3DDirty=!0,e._viewProjectionDirty=!0,e._inverseViewProjectionDirty=!0,e._modelViewProjectionDirty=!0,e._modelViewProjectionRelativeToEyeDirty=!0,e._modelViewInfiniteProjectionDirty=!0,e._normalDirty=!0,e._inverseNormalDirty=!0,e._normal3DDirty=!0,e._inverseNormal3DDirty=!0}function r(e,t){V.a.clone(t,e._inverseView),V.a.getMatrix3(t,e._inverseViewRotation)}function o(e,t){V.a.clone(t,e._projection),e._inverseProjectionDirty=!0,e._viewProjectionDirty=!0,e._inverseViewProjectionDirty=!0,e._modelViewProjectionDirty=!0,e._modelViewProjectionRelativeToEyeDirty=!0}function s(e,t){V.a.clone(t,e._infiniteProjection),e._modelViewInfiniteProjectionDirty=!0}function c(e,t){R.a.clone(t.positionWC,e._cameraPosition),R.a.clone(t.directionWC,e._cameraDirection),R.a.clone(t.rightWC,e._cameraRight),R.a.clone(t.upWC,e._cameraUp),e._encodedCameraPositionMCDirty=!0}function l(e,t){Object(z.a)(W.a.computeIcrfToFixedMatrix(t.time,X))||(X=W.a.computeTemeToPseudoFixedMatrix(t.time,X));var i=q.a.computeSunPositionInEarthInertialFrame(t.time,e._sunPositionWC);U.a.multiplyByVector(X,i,i),R.a.normalize(i,e._sunDirectionWC),i=U.a.multiplyByVector(e.viewRotation3D,i,e._sunDirectionEC),R.a.normalize(i,i),i=q.a.computeMoonPositionInEarthInertialFrame(t.time,e._moonDirectionEC),U.a.multiplyByVector(X,i,i),U.a.multiplyByVector(e.viewRotation3D,i,i),R.a.normalize(i,i);var n=t.mapProjection,a=n.ellipsoid,r=a.cartesianToCartographic(e._sunPositionWC,Q);n.project(r,e._sunPositionColumbusView)}function u(e){if(e._viewportDirty){var t=e._viewport;V.a.computeOrthographicOffCenter(t.x,t.x+t.width,t.y,t.y+t.height,0,1,e._viewportOrthographicMatrix),V.a.computeViewportTransformation(t,0,1,e._viewportTransformation),e._viewportDirty=!1}}function h(e){e._inverseProjectionDirty&&(e._inverseProjectionDirty=!1,e._mode===G.a.SCENE2D||e._mode===G.a.MORPHING||e._orthographicIn3D?V.a.clone(V.a.ZERO,e._inverseProjection):V.a.inverse(e._projection,e._inverseProjection))}function d(e){e._modelViewDirty&&(e._modelViewDirty=!1,V.a.multiplyTransformation(e._view,e._model,e._modelView))}function f(e){e._modelView3DDirty&&(e._modelView3DDirty=!1,V.a.multiplyTransformation(e.view3D,e._model,e._modelView3D))}function p(e){e._inverseModelViewDirty&&(e._inverseModelViewDirty=!1,V.a.inverse(e.modelView,e._inverseModelView))}function m(e){e._inverseModelView3DDirty&&(e._inverseModelView3DDirty=!1,V.a.inverse(e.modelView3D,e._inverseModelView3D))}function g(e){e._viewProjectionDirty&&(e._viewProjectionDirty=!1,V.a.multiply(e._projection,e._view,e._viewProjection))}function _(e){e._inverseViewProjectionDirty&&(e._inverseViewProjectionDirty=!1,V.a.inverse(e.viewProjection,e._inverseViewProjection))}function v(e){e._modelViewProjectionDirty&&(e._modelViewProjectionDirty=!1,V.a.multiply(e._projection,e.modelView,e._modelViewProjection))}function b(e){if(e._modelViewRelativeToEyeDirty){e._modelViewRelativeToEyeDirty=!1;var t=e.modelView,i=e._modelViewRelativeToEye;i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=0,i[13]=0,i[14]=0,i[15]=t[15]}}function y(e){e._inverseModelViewProjectionDirty&&(e._inverseModelViewProjectionDirty=!1,V.a.inverse(e.modelViewProjection,e._inverseModelViewProjection))}function O(e){e._modelViewProjectionRelativeToEyeDirty&&(e._modelViewProjectionRelativeToEyeDirty=!1,V.a.multiply(e._projection,e.modelViewRelativeToEye,e._modelViewProjectionRelativeToEye))}function w(e){e._modelViewInfiniteProjectionDirty&&(e._modelViewInfiniteProjectionDirty=!1,V.a.multiply(e._infiniteProjection,e.modelView,e._modelViewInfiniteProjection))}function x(e){if(e._normalDirty){e._normalDirty=!1;var t=e._normal;V.a.getMatrix3(e.inverseModelView,t),U.a.getRotation(t,t),U.a.transpose(t,t)}}function E(e){if(e._normal3DDirty){e._normal3DDirty=!1;var t=e._normal3D;V.a.getMatrix3(e.inverseModelView3D,t),U.a.getRotation(t,t),U.a.transpose(t,t)}}function T(e){e._inverseNormalDirty&&(e._inverseNormalDirty=!1,V.a.getMatrix3(e.inverseModelView,e._inverseNormal),U.a.getRotation(e._inverseNormal,e._inverseNormal))}function A(e){e._inverseNormal3DDirty&&(e._inverseNormal3DDirty=!1,V.a.getMatrix3(e.inverseModelView3D,e._inverseNormal3D),U.a.getRotation(e._inverseNormal3D,e._inverseNormal3D))}function C(e){e._encodedCameraPositionMCDirty&&(e._encodedCameraPositionMCDirty=!1,V.a.multiplyByPoint(e.inverseModel,e._cameraPosition,K),B.a.fromCartesian(K,e._encodedCameraPositionMC))}function S(e,t,i,n,a,r,o,s){var c=$;c.x=e.y,c.y=e.z,c.z=e.x;var l=ee;l.x=i.y,l.y=i.z,l.z=i.x;var u=te;u.x=n.y,u.y=n.z,u.z=n.x;var h=ie;h.x=t.y,h.y=t.z,h.z=t.x,r===G.a.SCENE2D&&(c.z=.5*a);var d=o.unproject(c,ne);d.longitude=k.a.clamp(d.longitude,-Math.PI,Math.PI),d.latitude=k.a.clamp(d.latitude,-k.a.PI_OVER_TWO,k.a.PI_OVER_TWO);var f=o.ellipsoid,p=f.cartographicToCartesian(d,ae),m=W.a.eastNorthUpToFixedFrame(p,f,re);return V.a.multiplyByPointAsVector(m,l,l),V.a.multiplyByPointAsVector(m,u,u),V.a.multiplyByPointAsVector(m,h,h),Object(z.a)(s)||(s=new V.a),s[0]=l.x,s[1]=u.x,s[2]=-h.x,s[3]=0,s[4]=l.y,s[5]=u.y,s[6]=-h.y,s[7]=0,s[8]=l.z,s[9]=u.z,s[10]=-h.z,s[11]=0,s[12]=-R.a.dot(l,p),s[13]=-R.a.dot(u,p),s[14]=R.a.dot(h,p),s[15]=1,s}function j(e){e._view3DDirty&&(e._mode===G.a.SCENE3D?V.a.clone(e._view,e._view3D):S(e._cameraPosition,e._cameraDirection,e._cameraRight,e._cameraUp,e._frustum2DWidth,e._mode,e._mapProjection,e._view3D),V.a.getMatrix3(e._view3D,e._viewRotation3D),e._view3DDirty=!1)}function P(e){e._inverseView3DDirty&&(V.a.inverseTransformation(e.view3D,e._inverseView3D),V.a.getMatrix3(e._inverseView3D,e._inverseViewRotation3D),e._inverseView3DDirty=!1)}var D=i("or8k"),I=i("Ss9j"),R=i("Jj+J"),M=i("PDkd"),L=i("I3GD"),N=i("6F0S"),F=i("5A4e"),z=i("xC6Q"),B=i("Is4l"),k=i("fq+p"),U=i("i3sv"),V=i("Xjii"),H=i("ku5u"),q=i("nyDB"),W=i("g/FO"),G=i("sotJ"),Y=i("WZiu");Object.defineProperties(n.prototype,{frameState:{get:function(){return this._frameState}},viewport:{get:function(){return this._viewport},set:function(e){if(!D.a.equals(e,this._viewport)){D.a.clone(e,this._viewport);var t=this._viewport,i=this._viewportCartesian4;i.x=t.x,i.y=t.y,i.z=t.width,i.w=t.height,this._viewportDirty=!0}}},viewportCartesian4:{get:function(){return this._viewportCartesian4}},viewportOrthographic:{get:function(){return u(this),this._viewportOrthographicMatrix}},viewportTransformation:{get:function(){return u(this),this._viewportTransformation}},model:{get:function(){return this._model},set:function(e){V.a.clone(e,this._model),this._modelView3DDirty=!0,this._inverseModelView3DDirty=!0,this._inverseModelDirty=!0,this._inverseTransposeModelDirty=!0,this._modelViewDirty=!0,this._inverseModelViewDirty=!0,this._modelViewRelativeToEyeDirty=!0,this._inverseModelViewDirty=!0,this._modelViewProjectionDirty=!0,this._inverseModelViewProjectionDirty=!0,this._modelViewProjectionRelativeToEyeDirty=!0,this._modelViewInfiniteProjectionDirty=!0,this._normalDirty=!0,this._inverseNormalDirty=!0,this._normal3DDirty=!0,this._inverseNormal3DDirty=!0,this._encodedCameraPositionMCDirty=!0}},inverseModel:{get:function(){return this._inverseModelDirty&&(this._inverseModelDirty=!1,V.a.inverse(this._model,this._inverseModel)),this._inverseModel}},inverseTransposeModel:{get:function(){var e=this._inverseTransposeModel;return this._inverseTransposeModelDirty&&(this._inverseTransposeModelDirty=!1,V.a.getMatrix3(this.inverseModel,e),U.a.transpose(e,e)),e}},view:{get:function(){return this._view}},view3D:{get:function(){return j(this),this._view3D}},viewRotation:{get:function(){return j(this),this._viewRotation}},viewRotation3D:{get:function(){return j(this),this._viewRotation3D}},inverseView:{get:function(){return this._inverseView}},inverseView3D:{get:function(){return P(this),this._inverseView3D}},inverseViewRotation:{get:function(){return this._inverseViewRotation}},inverseViewRotation3D:{get:function(){return P(this),this._inverseViewRotation3D}},projection:{get:function(){return this._projection}},inverseProjection:{get:function(){return h(this),this._inverseProjection}},infiniteProjection:{get:function(){return this._infiniteProjection}},modelView:{get:function(){return d(this),this._modelView}},modelView3D:{get:function(){return f(this),this._modelView3D}},modelViewRelativeToEye:{get:function(){return b(this),this._modelViewRelativeToEye}},inverseModelView:{get:function(){return p(this),this._inverseModelView}},inverseModelView3D:{get:function(){return m(this),this._inverseModelView3D}},viewProjection:{get:function(){return g(this),this._viewProjection}},inverseViewProjection:{get:function(){return _(this),this._inverseViewProjection}},modelViewProjection:{get:function(){return v(this),this._modelViewProjection}},inverseModelViewProjection:{get:function(){return y(this),this._inverseModelViewProjection}},modelViewProjectionRelativeToEye:{get:function(){return O(this),this._modelViewProjectionRelativeToEye}},modelViewInfiniteProjection:{get:function(){return w(this),this._modelViewInfiniteProjection}},normal:{get:function(){return x(this),this._normal}},normal3D:{get:function(){return E(this),this._normal3D}},inverseNormal:{get:function(){return T(this),this._inverseNormal}},inverseNormal3D:{get:function(){return A(this),this._inverseNormal3D}},entireFrustum:{get:function(){return this._entireFrustum}},currentFrustum:{get:function(){return this._currentFrustum}},frustumPlanes:{get:function(){return this._frustumPlanes}},farDepthFromNearPlusOne:{get:function(){return this._farDepthFromNearPlusOne}},log2FarDepthFromNearPlusOne:{get:function(){return this._log2FarDepthFromNearPlusOne}},oneOverLog2FarDepthFromNearPlusOne:{get:function(){return this._oneOverLog2FarDepthFromNearPlusOne}},eyeHeight2D:{get:function(){return this._eyeHeight2D}},sunPositionWC:{get:function(){return this._sunPositionWC}},sunPositionColumbusView:{get:function(){return this._sunPositionColumbusView}},sunDirectionWC:{get:function(){return this._sunDirectionWC}},sunDirectionEC:{get:function(){return this._sunDirectionEC}},moonDirectionEC:{get:function(){return this._moonDirectionEC}},lightDirectionWC:{get:function(){return this._lightDirectionWC}},lightDirectionEC:{get:function(){return this._lightDirectionEC}},lightColor:{get:function(){return this._lightColor}},lightColorHdr:{get:function(){return this._lightColorHdr}},encodedCameraPositionMCHigh:{get:function(){return C(this),this._encodedCameraPositionMC.high}},encodedCameraPositionMCLow:{get:function(){return C(this),this._encodedCameraPositionMC.low}},temeToPseudoFixedMatrix:{get:function(){return this._temeToPseudoFixed}},pixelRatio:{get:function(){return this._pixelRatio}},fogDensity:{get:function(){return this._fogDensity}},geometricToleranceOverMeter:{get:function(){return this._geometricToleranceOverMeter}},pass:{get:function(){return this._pass}},backgroundColor:{get:function(){return this._backgroundColor}},brdfLut:{get:function(){return this._brdfLut}},environmentMap:{get:function(){return this._environmentMap}},sphericalHarmonicCoefficients:{get:function(){return this._sphericalHarmonicCoefficients}},specularEnvironmentMaps:{get:function(){return this._specularEnvironmentMaps}},specularEnvironmentMapsDimensions:{get:function(){return this._specularEnvironmentMapsDimensions}},specularEnvironmentMapsMaximumLOD:{get:function(){return this._specularEnvironmentMapsMaximumLOD}},imagerySplitPosition:{get:function(){return this._imagerySplitPosition}},minimumDisableDepthTestDistance:{get:function(){return this._minimumDisableDepthTestDistance}},invertClassificationColor:{get:function(){return this._invertClassificationColor}},orthographicIn3D:{get:function(){return this._orthographicIn3D}}});var X=new U.a,Q=new L.a;n.prototype.updateCamera=function(e){a(this,e.viewMatrix),r(this,e.inverseViewMatrix),c(this,e),this._entireFrustum.x=e.frustum.near,this._entireFrustum.y=e.frustum.far,this.updateFrustum(e.frustum),this._orthographicIn3D=this._mode!==G.a.SCENE2D&&e.frustum instanceof H.a},n.prototype.updateFrustum=function(e){o(this,e.projectionMatrix),Object(z.a)(e.infiniteProjectionMatrix)&&s(this,e.infiniteProjectionMatrix),this._currentFrustum.x=e.near,this._currentFrustum.y=e.far,this._farDepthFromNearPlusOne=e.far-e.near+1,this._log2FarDepthFromNearPlusOne=k.a.log2(this._farDepthFromNearPlusOne),this._oneOverLog2FarDepthFromNearPlusOne=1/this._log2FarDepthFromNearPlusOne,Object(z.a)(e._offCenterFrustum)&&(e=e._offCenterFrustum),this._frustumPlanes.x=e.top,this._frustumPlanes.y=e.bottom,this._frustumPlanes.z=e.left,this._frustumPlanes.w=e.right},n.prototype.updatePass=function(e){this._pass=e};var J=[],Z=new Y.a;n.prototype.update=function(e){this._mode=e.mode,this._mapProjection=e.mapProjection,this._pixelRatio=e.pixelRatio;var t=e.camera;this.updateCamera(t),e.mode===G.a.SCENE2D?(this._frustum2DWidth=t.frustum.right-t.frustum.left,this._eyeHeight2D.x=.5*this._frustum2DWidth,this._eyeHeight2D.y=this._eyeHeight2D.x*this._eyeHeight2D.x):(this._frustum2DWidth=0,this._eyeHeight2D.x=0,this._eyeHeight2D.y=0),l(this,e);var i=Object(F.a)(e.light,Z);i instanceof Y.a?(this._lightDirectionWC=R.a.clone(this._sunDirectionWC,this._lightDirectionWC),this._lightDirectionEC=R.a.clone(this._sunDirectionEC,this._lightDirectionEC)):(this._lightDirectionWC=R.a.normalize(R.a.negate(i.direction,this._lightDirectionWC),this._lightDirectionWC),this._lightDirectionEC=U.a.multiplyByVector(this.viewRotation3D,this._lightDirectionWC,this._lightDirectionEC));var n=i.color,a=R.a.fromElements(n.red,n.green,n.blue,this._lightColorHdr);a=R.a.multiplyByScalar(a,i.intensity,a);var r=R.a.maximumComponent(a);r>1?R.a.divideByScalar(a,r,this._lightColor):R.a.clone(a,this._lightColor);var o=e.brdfLutGenerator,s=Object(z.a)(o)?o.colorTexture:void 0;this._brdfLut=s,this._environmentMap=Object(F.a)(e.environmentMap,e.context.defaultCubeMap),this._sphericalHarmonicCoefficients=Object(F.a)(e.sphericalHarmonicCoefficients,J),this._specularEnvironmentMaps=e.specularEnvironmentMaps,this._specularEnvironmentMapsMaximumLOD=e.specularEnvironmentMapsMaximumLOD,Object(z.a)(this._specularEnvironmentMaps)&&I.a.clone(this._specularEnvironmentMaps.dimensions,this._specularEnvironmentMapsDimensions),this._fogDensity=e.fog.density,this._invertClassificationColor=e.invertClassificationColor,this._frameState=e,this._temeToPseudoFixed=W.a.computeTemeToPseudoFixedMatrix(e.time,this._temeToPseudoFixed),this._imagerySplitPosition=e.imagerySplitPosition*e.context.drawingBufferWidth;var c,u=t.frustum.fov,h=this._viewport;c=h.height>h.width?2*Math.tan(.5*u)/h.height:2*Math.tan(.5*u)/h.width,this._geometricToleranceOverMeter=c*e.maximumScreenSpaceError,N.a.clone(e.backgroundColor,this._backgroundColor),this._minimumDisableDepthTestDistance=e.minimumDisableDepthTestDistance,this._minimumDisableDepthTestDistance*=this._minimumDisableDepthTestDistance,this._minimumDisableDepthTestDistance===Number.POSITIVE_INFINITY&&(this._minimumDisableDepthTestDistance=-1)};var K=new R.a,$=new R.a,ee=new R.a,te=new R.a,ie=new R.a,ne=new L.a,ae=new R.a,re=new V.a;t.a=n},qZq1:function(e,t,i){"use strict";t.a='#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n#endif\n\nvarying vec4 v_startPlaneNormalEcAndHalfWidth;\nvarying vec4 v_endPlaneNormalEcAndBatchId;\nvarying vec4 v_rightPlaneEC; // Technically can compute distance for this here\nvarying vec4 v_endEcAndStartEcX;\nvarying vec4 v_texcoordNormalizationAndStartEcYZ;\n\n#ifdef PER_INSTANCE_COLOR\nvarying vec4 v_color;\n#endif\n\nvoid main(void)\n{\n    float logDepthOrDepth = czm_branchFreeTernary(czm_sceneMode == czm_sceneMode2D, gl_FragCoord.z, czm_unpackDepth(texture2D(czm_globeDepthTexture, gl_FragCoord.xy / czm_viewport.zw)));\n    vec3 ecStart = vec3(v_endEcAndStartEcX.w, v_texcoordNormalizationAndStartEcYZ.zw);\n\n    // Discard for sky\n    if (logDepthOrDepth == 0.0) {\n#ifdef DEBUG_SHOW_VOLUME\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 0.5);\n        return;\n#else // DEBUG_SHOW_VOLUME\n        discard;\n#endif // DEBUG_SHOW_VOLUME\n    }\n\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, logDepthOrDepth);\n    eyeCoordinate /= eyeCoordinate.w;\n\n    float halfMaxWidth = v_startPlaneNormalEcAndHalfWidth.w * czm_metersPerPixel(eyeCoordinate);\n    // Check distance of the eye coordinate against the right-facing plane\n    float widthwiseDistance = czm_planeDistance(v_rightPlaneEC, eyeCoordinate.xyz);\n\n    // Check eye coordinate against the mitering planes\n    float distanceFromStart = czm_planeDistance(v_startPlaneNormalEcAndHalfWidth.xyz, -dot(ecStart, v_startPlaneNormalEcAndHalfWidth.xyz), eyeCoordinate.xyz);\n    float distanceFromEnd = czm_planeDistance(v_endPlaneNormalEcAndBatchId.xyz, -dot(v_endEcAndStartEcX.xyz, v_endPlaneNormalEcAndBatchId.xyz), eyeCoordinate.xyz);\n\n    if (abs(widthwiseDistance) > halfMaxWidth || distanceFromStart < 0.0 || distanceFromEnd < 0.0) {\n#ifdef DEBUG_SHOW_VOLUME\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 0.5);\n        return;\n#else // DEBUG_SHOW_VOLUME\n        discard;\n#endif // DEBUG_SHOW_VOLUME\n    }\n\n    // Check distance of the eye coordinate against start and end planes with normals in the right plane.\n    // For computing unskewed lengthwise texture coordinate.\n    // Can also be used for clipping extremely pointy miters, but in practice unnecessary because of miter breaking.\n\n    // aligned plane: cross the right plane normal with miter plane normal, then cross the result with right again to point it more "forward"\n    vec3 alignedPlaneNormal;\n\n    // start aligned plane\n    alignedPlaneNormal = cross(v_rightPlaneEC.xyz, v_startPlaneNormalEcAndHalfWidth.xyz);\n    alignedPlaneNormal = normalize(cross(alignedPlaneNormal, v_rightPlaneEC.xyz));\n    distanceFromStart = czm_planeDistance(alignedPlaneNormal, -dot(alignedPlaneNormal, ecStart), eyeCoordinate.xyz);\n\n    // end aligned plane\n    alignedPlaneNormal = cross(v_rightPlaneEC.xyz, v_endPlaneNormalEcAndBatchId.xyz);\n    alignedPlaneNormal = normalize(cross(alignedPlaneNormal, v_rightPlaneEC.xyz));\n    distanceFromEnd = czm_planeDistance(alignedPlaneNormal, -dot(alignedPlaneNormal, v_endEcAndStartEcX.xyz), eyeCoordinate.xyz);\n\n#ifdef PER_INSTANCE_COLOR\n    gl_FragColor = czm_gammaCorrect(v_color);\n#else // PER_INSTANCE_COLOR\n    // Clamp - distance to aligned planes may be negative due to mitering,\n    // so fragment texture coordinate might be out-of-bounds.\n    float s = clamp(distanceFromStart / (distanceFromStart + distanceFromEnd), 0.0, 1.0);\n    s = (s * v_texcoordNormalizationAndStartEcYZ.x) + v_texcoordNormalizationAndStartEcYZ.y;\n    float t = (widthwiseDistance + halfMaxWidth) / (2.0 * halfMaxWidth);\n\n    czm_materialInput materialInput;\n\n    materialInput.s = s;\n    materialInput.st = vec2(s, t);\n    materialInput.str = vec3(s, t, 0.0);\n\n    czm_material material = czm_getMaterial(materialInput);\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#endif // PER_INSTANCE_COLOR\n\n    czm_writeDepthClampedToFarPlane();\n}\n'},qavO:function(e,t,i){"use strict";function n(e,t){var i=Object(a.a)(e,t),n=c.a.getSizeInBytes(t.componentType),u=Object(o.a)(t.type),h=t.count,d=new Array(u*h);if(!Object(l.a)(t.bufferView))return Object(s.a)(d,0),d;for(var f=e.bufferViews[t.bufferView],p=e.buffers[f.buffer].extras._pipeline.source,m=t.byteOffset+f.byteOffset+p.byteOffset,g=new DataView(p.buffer),_=new Array(u),v=Object(r.a)(t.componentType),b=0;b<h;++b){v(g,m,u,n,_);for(var y=0;y<u;++y)d[b*u+y]=_[y];m+=i}return d}var a=i("dWoC"),r=i("QQK7"),o=i("8uSS"),s=i("Sfsp"),c=i("YCZg"),l=i("xC6Q");t.a=n},qieD:function(e,t,i){"use strict";function n(e,t,i,a,r,o){var s,c,l,u=0;if(a>0){for(c=0;c<r;c++){for(s=!1,l=0;l<o.length&&!s;l++)c===o[l]&&(s=!0);s||(o.push(c),u+=n(e,t,i,a-1,r,o),o.splice(o.length-1,1))}return u}for(u=1,c=0;c<r;c++){for(s=!1,l=0;l<o.length&&!s;l++)c===o[l]&&(s=!0);s||(u*=e-i[t[c]])}return u}function a(e,t,i,n,a,r){for(var o,s,l=-1,u=t.length,h=u*(u+1)/2,d=0;d<a;d++){var f=Math.floor(d*h);for(o=0;o<u;o++)s=t[o]*a*(r+1)+d,e[f+o]=n[s];for(var p=1;p<u;p++){var m=0,g=Math.floor(p*(1-p)/2)+u*p,_=!1;for(o=0;o<u-p;o++){var v,b,y=i[t[o]],O=i[t[o+p]];if(O-y<=0)s=t[o]*a*(r+1)+a*p+d,v=n[s],b=v/c.a.factorial(p),e[f+g+m]=b,m++;else{var w=Math.floor((p-1)*(2-p)/2)+u*(p-1);v=e[f+w+o+1]-e[f+w+o],b=v/(O-y),e[f+g+m]=b,m++}_=_||0!==v}_&&(l=Math.max(l,p))}}return l}var r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("fq+p"),l=c.a.factorial,u={type:"Hermite"};u.getRequiredDataPoints=function(e,t){if(t=Object(r.a)(t,0),!Object(o.a)(e))throw new s.a("degree is required.");if(e<0)throw new s.a("degree must be 0 or greater.");if(t<0)throw new s.a("inputOrder must be 0 or greater.");return Math.max(Math.floor((e+1)/(t+1)),2)},u.interpolateOrderZero=function(e,t,i,a,r){Object(o.a)(r)||(r=new Array(a));var s,c,u,h,d,f,p=t.length,m=new Array(a);for(s=0;s<a;s++){r[s]=0;var g=new Array(p);for(m[s]=g,c=0;c<p;c++)g[c]=[]}var _=p,v=new Array(_);for(s=0;s<_;s++)v[s]=s;var b=p-1;for(h=0;h<a;h++){for(c=0;c<_;c++)f=v[c]*a+h,m[h][0].push(i[f]);for(s=1;s<_;s++){var y=!1;for(c=0;c<_-s;c++){var O,w=t[v[c]],x=t[v[c+s]];x-w<=0?(f=v[c]*a+a*s+h,O=i[f],m[h][s].push(O/l(s))):(O=m[h][s-1][c+1]-m[h][s-1][c],m[h][s].push(O/(x-w))),y=y||0!==O}y||(b=s-1)}}for(u=0,d=0;u<=d;u++)for(s=u;s<=b;s++){var E=n(e,v,t,u,s,[]);for(h=0;h<a;h++){var T=m[h][s][0];r[h+u*a]+=T*E}}return r};var h=[];u.interpolate=function(e,t,i,r,s,c,l){var u=r*(c+1);Object(o.a)(l)||(l=new Array(u));for(var d=0;d<u;d++)l[d]=0;var f,p=t.length,m=new Array(p*(s+1));for(f=0;f<p;f++)for(var g=0;g<s+1;g++)m[f*(s+1)+g]=f;for(var _=m.length,v=h,b=a(v,m,t,i,r,s),y=[],O=_*(_+1)/2,w=Math.min(b,c),x=0;x<=w;x++)for(f=x;f<=b;f++){y.length=0;for(var E=n(e,m,t,x,f,y),T=Math.floor(f*(1-f)/2)+_*f,A=0;A<r;A++){var C=Math.floor(A*O),S=v[C+T];l[A+x*r]+=S*E}}return l},t.a=u},qqab:function(e,t,i){"use strict";var n={NONE:0,CULLED:1,RENDERED:2,REFINED:3,RENDERED_AND_KICKED:6,REFINED_AND_KICKED:7,CULLED_BUT_NEEDED:9,wasKicked:function(e){return e>=n.RENDERED_AND_KICKED},originalResult:function(e){return 3&e},kick:function(e){return 4|e}};t.a=n},"qy+6":function(e,t,i){"use strict";function n(e,t,i,n,r){return i.call(n,e[t]),a.a.getObservable(e,t).subscribe(i,n,r)}var a=i("PKIF");t.a=n},qy4r:function(e,t,i){"use strict";function n(e,t){if(t=Object(l.a)(t,l.a.EMPTY_OBJECT),Object(u.a)(e)&&Object(m.a)(e,"KHR_materials_common")){Object(m.a)(e,"KHR_techniques_webgl")||(Object(u.a)(e.extensions)||(e.extensions={}),e.extensions.KHR_techniques_webgl={programs:[],shaders:[],techniques:[]},e.extensionsUsed.push("KHR_techniques_webgl"),e.extensionsRequired.push("KHR_techniques_webgl"));var i=e.extensions.KHR_techniques_webgl;c(e);var n=a(e),o=_.a.splitIncompatibleMaterials(e),h={},d=!1;return p.a.material(e,function(a,c){if(Object(u.a)(a.extensions)&&Object(u.a)(a.extensions.KHR_materials_common)){var l=a.extensions.KHR_materials_common,f=o[c],p=s(l,f),m=h[p];Object(u.a)(m)||(m=r(e,i,f,l,n,t.addBatchIdToGeneratedShaders),h[p]=m,d=!0);var g,_={},v=l.values;for(var b in v)v.hasOwnProperty(b)&&"transparent"!==b&&"doubleSided"!==b&&(g="u_"+b.toLowerCase(),_[g]=v[b]);a.extensions.KHR_techniques_webgl={technique:m,values:_},a.alphaMode="OPAQUE",l.transparent&&(a.alphaMode="BLEND"),l.doubleSided&&(a.doubleSided=!0)}}),d?(_.a.ensureSemanticExistence(e),e):e}}function a(e){var t,i={};if(Object(u.a)(e.extensions)&&Object(u.a)(e.extensions.KHR_materials_common)&&(t=e.extensions.KHR_materials_common.lights),Object(u.a)(t)){var n=e.nodes;for(var a in n)if(n.hasOwnProperty(a)){var r=n[a];if(Object(u.a)(r.extensions)&&Object(u.a)(r.extensions.KHR_materials_common)){var o=r.extensions.KHR_materials_common.light;Object(u.a)(o)&&Object(u.a)(t[o])&&(t[o].node=a),delete r.extensions.KHR_materials_common}}var s=0;for(var c in t)if(t.hasOwnProperty(c)){var l=t[c],d=l.type;if("ambient"!==d&&!Object(u.a)(l.node)){delete t[c];continue}var f="light"+s.toString();switch(l.baseName=f,d){case"ambient":var p=l.ambient;i[f+"Color"]={type:h.a.FLOAT_VEC3,value:p.color};break;case"directional":var m=l.directional;i[f+"Color"]={type:h.a.FLOAT_VEC3,value:m.color},Object(u.a)(l.node)&&(i[f+"Transform"]={node:l.node,semantic:"MODELVIEW",type:h.a.FLOAT_MAT4});break;case"point":var g=l.point;i[f+"Color"]={type:h.a.FLOAT_VEC3,value:g.color},Object(u.a)(l.node)&&(i[f+"Transform"]={node:l.node,semantic:"MODELVIEW",type:h.a.FLOAT_MAT4}),i[f+"Attenuation"]={type:h.a.FLOAT_VEC3,value:[g.constantAttenuation,g.linearAttenuation,g.quadraticAttenuation]};break;case"spot":var _=l.spot;i[f+"Color"]={type:h.a.FLOAT_VEC3,value:_.color},Object(u.a)(l.node)&&(i[f+"Transform"]={node:l.node,semantic:"MODELVIEW",type:h.a.FLOAT_MAT4},i[f+"InverseTransform"]={node:l.node,semantic:"MODELVIEWINVERSE",type:h.a.FLOAT_MAT4,useInFragment:!0}),i[f+"Attenuation"]={type:h.a.FLOAT_VEC3,value:[_.constantAttenuation,_.linearAttenuation,_.quadraticAttenuation]},i[f+"FallOff"]={type:h.a.FLOAT_VEC2,value:[_.fallOffAngle,_.fallOffExponent]}}++s}}return i}function r(e,t,i,n,a,r){Object(u.a)(n)||(n={}),r=Object(l.a)(r,!1);var s,c=t.techniques,p=t.shaders,v=t.programs,b=n.technique.toUpperCase();Object(u.a)(e.extensions)&&Object(u.a)(e.extensions.KHR_materials_common)&&(s=e.extensions.KHR_materials_common.lights);var y,O=n.values,w=Object(l.a)(n.jointCount,0),x=!1,E=!1;Object(u.a)(i)&&(y=i.skinning,x=y.skinned,E=i.hasVertexColors);var T="precision highp float;\n",A="precision highp float;\n",C="CONSTANT"!==b,S={u_modelViewMatrix:{semantic:Object(m.a)(e,"CESIUM_RTC")?"CESIUM_RTC_MODELVIEW":"MODELVIEW",type:h.a.FLOAT_MAT4},u_projectionMatrix:{semantic:"PROJECTION",type:h.a.FLOAT_MAT4}};C&&(S.u_normalMatrix={semantic:"MODELVIEWINVERSETRANSPOSE",type:h.a.FLOAT_MAT3}),x&&(S.u_jointMatrix={count:w,semantic:"JOINTMATRIX",type:h.a.FLOAT_MAT4});var j,P=!1;for(var D in O)if(O.hasOwnProperty(D)&&"transparent"!==D&&"doubleSided"!==D){var I=o(D,O[D]);j="u_"+D.toLowerCase(),P||I!==h.a.SAMPLER_2D||(P=!0),S[j]={type:I}}if(Object(u.a)(S.u_diffuse)&&(S.u_diffuse.semantic="_3DTILESDIFFUSE"),Object(u.a)(a))for(var R in a)a.hasOwnProperty(R)&&(j="u_"+R,S[j]=a[R]);for(j in S)if(S.hasOwnProperty(j)){var M=S[j],L=Object(u.a)(M.count)?"["+M.count+"]":"";M.type!==h.a.FLOAT_MAT3&&M.type!==h.a.FLOAT_MAT4||M.useInFragment?(A+="uniform "+Object(d.a)(M.type)+" "+j+L+";\n",delete M.useInFragment):T+="uniform "+Object(d.a)(M.type)+" "+j+L+";\n"}var N="";if(x){var F,z,B=Object(g.a)(y.type),k=!1;if(0===y.type.indexOf("MAT")&&(k=!0,B=Math.sqrt(B)),k)for(F=0;F<B;F++)for(z=0;z<B;z++)N+=0===F&&0===z?"  mat4 skinMat = ":"  skinMat += ",N+="a_weight["+F+"]["+z+"] * u_jointMatrix[int(a_joint["+F+"]["+z+"])];\n";else for(F=0;F<B;F++)N+=0===F?"  mat4 skinMat = ":"  skinMat += ",N+="a_weight["+F+"] * u_jointMatrix[int(a_joint["+F+"])];\n"}var U={a_position:{semantic:"POSITION"}};T+="attribute vec3 a_position;\n",T+="varying vec3 v_positionEC;\n",N+=x?"  vec4 pos = u_modelViewMatrix * skinMat * vec4(a_position,1.0);\n":"  vec4 pos = u_modelViewMatrix * vec4(a_position,1.0);\n",N+="  v_positionEC = pos.xyz;\n",N+="  gl_Position = u_projectionMatrix * pos;\n",A+="varying vec3 v_positionEC;\n",C&&(U.a_normal={semantic:"NORMAL"},T+="attribute vec3 a_normal;\n",T+="varying vec3 v_normal;\n",N+=x?"  v_normal = u_normalMatrix * mat3(skinMat) * a_normal;\n":"  v_normal = u_normalMatrix * a_normal;\n",A+="varying vec3 v_normal;\n");var V;if(P&&(U.a_texcoord_0={semantic:"TEXCOORD_0"},V="v_texcoord_0",T+="attribute vec2 a_texcoord_0;\n",T+="varying vec2 "+V+";\n",N+="  "+V+" = a_texcoord_0;\n",A+="varying vec2 "+V+";\n"),x){var H=_.a.getShaderVariable(y.type);U.a_joint={semantic:"JOINT"},U.a_weight={semantic:"WEIGHT"},T+="attribute "+H+" a_joint;\n",T+="attribute "+H+" a_weight;\n"}E&&(U.a_vertexColor={semantic:"COLOR_0"},T+="attribute vec4 a_vertexColor;\n",T+="varying vec4 v_vertexColor;\n",N+="  v_vertexColor = a_vertexColor;\n",A+="varying vec4 v_vertexColor;\n"),r&&(U.a_batchId={semantic:"_BATCHID"},T+="attribute float a_batchId;\n");var q=C&&("BLINN"===b||"PHONG"===b)&&Object(u.a)(S.u_specular)&&Object(u.a)(S.u_shininess)&&S.u_shininess>0,W=!1,G=!1,Y="";for(var X in s)if(s.hasOwnProperty(X)){var Q=s[X],J=Q.type.toLowerCase(),Z=Q.baseName;Y+="  {\n";var K,$,ee="u_"+Z+"Color";"ambient"===J?(G=!0,Y+="    ambientLight += "+ee+";\n"):C&&(W=!0,K="v_"+Z+"Direction",$="v_"+Z+"Position","point"!==J&&(T+="varying vec3 "+K+";\n",A+="varying vec3 "+K+";\n",N+="  "+K+" = mat3(u_"+Z+"Transform) * vec3(0.,0.,1.);\n","directional"===J&&(Y+="    vec3 l = normalize("+K+");\n")),"directional"!==J?(T+="varying vec3 "+$+";\n",A+="varying vec3 "+$+";\n",N+="  "+$+" = u_"+Z+"Transform[3].xyz;\n",Y+="    vec3 VP = "+$+" - v_positionEC;\n",Y+="    vec3 l = normalize(VP);\n",Y+="    float range = length(VP);\n",Y+="    float attenuation = 1.0 / (u_"+Z+"Attenuation.x + ",Y+="(u_"+Z+"Attenuation.y * range) + ",Y+="(u_"+Z+"Attenuation.z * range * range));\n"):Y+="    float attenuation = 1.0;\n","spot"===J&&(Y+="    float spotDot = dot(l, normalize("+K+"));\n",Y+="    if (spotDot < cos(u_"+Z+"FallOff.x * 0.5))\n",Y+="    {\n",Y+="      attenuation = 0.0;\n",Y+="    }\n",Y+="    else\n",Y+="    {\n",Y+="        attenuation *= max(0.0, pow(spotDot, u_"+Z+"FallOff.y));\n",Y+="    }\n"),Y+="    diffuseLight += "+ee+"* max(dot(normal,l), 0.) * attenuation;\n",q&&("BLINN"===b?(Y+="    vec3 h = normalize(l + viewDir);\n",Y+="    float specularIntensity = max(0., pow(max(dot(normal, h), 0.), u_shininess)) * attenuation;\n"):(Y+="    vec3 reflectDir = reflect(-l, normal);\n",Y+="    float specularIntensity = max(0., pow(max(dot(reflectDir, viewDir), 0.), u_shininess)) * attenuation;\n"),Y+="    specularLight += "+ee+" * specularIntensity;\n")),Y+="  }\n"}if(G||(Y+="  ambientLight += vec3(0.2, 0.2, 0.2);\n"),!W&&"CONSTANT"!==b){A+="#ifdef USE_CUSTOM_LIGHT_COLOR \n",A+="uniform vec3 gltf_lightColor; \n",A+="#endif \n",Y+="#ifndef USE_CUSTOM_LIGHT_COLOR \n",Y+="    vec3 lightColor = czm_lightColor;\n",Y+="#else \n",Y+="    vec3 lightColor = gltf_lightColor;\n",Y+="#endif \n",Y+="  vec3 l = normalize(czm_lightDirectionEC);\n";Y+="  diffuseLight += lightColor * max(dot(normal,l), 0.2);\n",q&&("BLINN"===b?(Y+="  vec3 h = normalize(l + viewDir);\n",Y+="  float specularIntensity = max(0., pow(max(dot(normal, h), 0.), u_shininess));\n"):(Y+="  vec3 reflectDir = reflect(-l, normal);\n",Y+="  float specularIntensity = max(0., pow(max(dot(reflectDir, viewDir), 0.), u_shininess));\n"),Y+="  specularLight += lightColor * specularIntensity;\n")}T+="void main(void) {\n",T+=N,T+="}\n",A+="void main(void) {\n";var te="  vec3 color = vec3(0.0, 0.0, 0.0);\n";C&&(A+="  vec3 normal = normalize(v_normal);\n",n.doubleSided&&(A+="  if (gl_FrontFacing == false)\n",A+="  {\n",A+="    normal = -normal;\n",A+="  }\n"));var ie;"CONSTANT"!==b?(Object(u.a)(S.u_diffuse)&&(S.u_diffuse.type===h.a.SAMPLER_2D?A+="  vec4 diffuse = texture2D(u_diffuse, "+V+");\n":A+="  vec4 diffuse = u_diffuse;\n",A+="  vec3 diffuseLight = vec3(0.0, 0.0, 0.0);\n",te+="  color += diffuse.rgb * diffuseLight;\n"),q&&(S.u_specular.type===h.a.SAMPLER_2D?A+="  vec3 specular = texture2D(u_specular, "+V+").rgb;\n":A+="  vec3 specular = u_specular.rgb;\n",A+="  vec3 specularLight = vec3(0.0, 0.0, 0.0);\n",te+="  color += specular * specularLight;\n"),ie=Object(u.a)(S.u_transparency)?"  gl_FragColor = vec4(color * diffuse.a * u_transparency, diffuse.a * u_transparency);\n":"  gl_FragColor = vec4(color * diffuse.a, diffuse.a);\n"):ie=Object(u.a)(S.u_transparency)?"  gl_FragColor = vec4(color * u_transparency, u_transparency);\n":"  gl_FragColor = vec4(color, 1.0);\n",E&&(te+="  color *= v_vertexColor.rgb;\n"),Object(u.a)(S.u_emission)&&(S.u_emission.type===h.a.SAMPLER_2D?A+="  vec3 emission = texture2D(u_emission, "+V+").rgb;\n":A+="  vec3 emission = u_emission.rgb;\n",te+="  color += emission;\n"),(Object(u.a)(S.u_ambient)||"CONSTANT"!==b)&&(Object(u.a)(S.u_ambient)?S.u_ambient.type===h.a.SAMPLER_2D?A+="  vec3 ambient = texture2D(u_ambient, "+V+").rgb;\n":A+="  vec3 ambient = u_ambient.rgb;\n":A+="  vec3 ambient = diffuse.rgb;\n",te+="  color += ambient * ambientLight;\n"),A+="  vec3 viewDir = -normalize(v_positionEC);\n",A+="  vec3 ambientLight = vec3(0.0, 0.0, 0.0);\n",A+=Y,A+=te,A+=ie,A+="}\n";var ne=Object(f.a)(p,{type:h.a.VERTEX_SHADER,extras:{_pipeline:{source:T,extension:".glsl"}}}),ae=Object(f.a)(p,{type:h.a.FRAGMENT_SHADER,extras:{_pipeline:{source:A,extension:".glsl"}}}),re=Object(f.a)(v,{fragmentShader:ae,vertexShader:ne});return Object(f.a)(c,{attributes:U,program:re,uniforms:S})}function o(e,t){var i;switch(i=Object(u.a)(t.value)?t.value:Object(u.a)(t.index)?[t.index]:t,e){case"ambient":case"diffuse":case"emission":case"specular":return 1===i.length?h.a.SAMPLER_2D:h.a.FLOAT_VEC4;case"shininess":case"transparency":return h.a.FLOAT;case"transparent":case"doubleSided":return h.a.BOOL}}function s(e,t){var i="";i+="technique:"+e.technique+";";for(var n=e.values,a=Object.keys(n).sort(),r=a.length,s=0;s<r;++s){var c=a[s];n.hasOwnProperty(c)&&(i+=c+":"+o(c,n[c]),i+=";")}var h=Object(l.a)(e.jointCount,0);if(i+=h.toString()+";",Object(u.a)(t)){var d=t.skinning;h>0&&(i+=d.type+";"),i+=t.hasVertexColors}return i}function c(e){var t=e.extensions.KHR_materials_common;if(Object(u.a)(t)&&Object(u.a)(t.lights))for(var i=t.lights,n=i.length,a=0;a<n;a++){var r=i[a];if("ambient"===r.type){Object(u.a)(r.ambient)||(r.ambient={});var o=r.ambient;Object(u.a)(o.color)||(o.color=[1,1,1])}else if("directional"===r.type){Object(u.a)(r.directional)||(r.directional={});var s=r.directional;Object(u.a)(s.color)||(s.color=[1,1,1])}else if("point"===r.type){Object(u.a)(r.point)||(r.point={});var c=r.point;Object(u.a)(c.color)||(c.color=[1,1,1]),c.constantAttenuation=Object(l.a)(c.constantAttenuation,1),c.linearAttenuation=Object(l.a)(c.linearAttenuation,0),c.quadraticAttenuation=Object(l.a)(c.quadraticAttenuation,0)}else if("spot"===r.type){Object(u.a)(r.spot)||(r.spot={});var h=r.spot;Object(u.a)(h.color)||(h.color=[1,1,1]),h.constantAttenuation=Object(l.a)(h.constantAttenuation,1),h.fallOffAngle=Object(l.a)(h.fallOffAngle,3.14159265),h.fallOffExponent=Object(l.a)(h.fallOffExponent,0),h.linearAttenuation=Object(l.a)(h.linearAttenuation,0),h.quadraticAttenuation=Object(l.a)(h.quadraticAttenuation,0)}}}var l=i("5A4e"),u=i("xC6Q"),h=i("1L1F"),d=i("2LHl"),f=i("gjak"),p=i("FJg6"),m=i("dnpE"),g=i("8uSS"),_=i("67ZH");t.a=n},r37A:function(e,t,i){"use strict";function n(e){if(null===e||isNaN(e))throw new a.a("year is required and must be a number.");return e%4==0&&e%100!=0||e%400==0}var a=i("PzDm");t.a=n},r6sZ:function(e,t,i){"use strict";function n(){this.head=void 0,this.tail=void 0,this.count=0,this._lastBeforeStartOfFrame=void 0}function a(e,t){var i=t.replacementPrevious,n=t.replacementNext;t===e._lastBeforeStartOfFrame&&(e._lastBeforeStartOfFrame=n),t===e.head?e.head=n:i.replacementNext=n,t===e.tail?e.tail=i:n.replacementPrevious=i,t.replacementPrevious=void 0,t.replacementNext=void 0,--e.count}var r=i("xC6Q");n.prototype.markStartOfRenderFrame=function(){this._lastBeforeStartOfFrame=this.head},n.prototype.trimTiles=function(e){for(var t=this.tail,i=!0;i&&Object(r.a)(this._lastBeforeStartOfFrame)&&this.count>e&&Object(r.a)(t);){i=t!==this._lastBeforeStartOfFrame;var n=t.replacementPrevious;t.eligibleForUnloading&&(t.freeResources(),a(this,t)),t=n}},n.prototype.markTileRendered=function(e){var t=this.head;return t===e?void(e===this._lastBeforeStartOfFrame&&(this._lastBeforeStartOfFrame=e.replacementNext)):(++this.count,Object(r.a)(t)?((Object(r.a)(e.replacementPrevious)||Object(r.a)(e.replacementNext))&&a(this,e),e.replacementPrevious=void 0,e.replacementNext=t,t.replacementPrevious=e,void(this.head=e)):(e.replacementPrevious=void 0,e.replacementNext=void 0,this.head=e,void(this.tail=e)))},t.a=n},r80a:function(e,t,i){"use strict";t.a="/**\n * Transforms a position from model to window coordinates.  The transformation\n * from model to clip coordinates is done using {@link czm_modelViewProjection}.\n * The transform from normalized device coordinates to window coordinates is\n * done using {@link czm_viewportTransformation}, which assumes a depth range\n * of <code>near = 0</code> and <code>far = 1</code>.\n * <br /><br />\n * This transform is useful when there is a need to manipulate window coordinates\n * in a vertex shader as done by {@link BillboardCollection}.\n * <br /><br />\n * This function should not be confused with {@link czm_viewportOrthographic},\n * which is an orthographic projection matrix that transforms from window \n * coordinates to clip coordinates.\n *\n * @name czm_modelToWindowCoordinates\n * @glslFunction\n *\n * @param {vec4} position The position in model coordinates to transform.\n *\n * @returns {vec4} The transformed position in window coordinates.\n *\n * @see czm_eyeToWindowCoordinates\n * @see czm_modelViewProjection\n * @see czm_viewportTransformation\n * @see czm_viewportOrthographic\n * @see BillboardCollection\n *\n * @example\n * vec4 positionWC = czm_modelToWindowCoordinates(positionMC);\n */\nvec4 czm_modelToWindowCoordinates(vec4 position)\n{\n    vec4 q = czm_modelViewProjection * position;                // clip coordinates\n    q.xyz /= q.w;                                                // normalized device coordinates\n    q.xyz = (czm_viewportTransformation * vec4(q.xyz, 1.0)).xyz; // window coordinates\n    return q;\n}\n"},rEiK:function(e,t,i){"use strict";function n(e,t){this.positions=Object(a.a)(e)?e:[],this.holes=Object(a.a)(t)?t:[]}var a=i("xC6Q");t.a=n},rFKc:function(e,t,i){"use strict";var n=i("1L1F"),a={STREAM_DRAW:n.a.STREAM_DRAW,STATIC_DRAW:n.a.STATIC_DRAW,DYNAMIC_DRAW:n.a.DYNAMIC_DRAW,validate:function(e){return e===a.STREAM_DRAW||e===a.STATIC_DRAW||e===a.DYNAMIC_DRAW}};t.a=Object.freeze(a)},rFgN:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._coordinates=void 0,this._coordinatesSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._stRotation=void 0,this._stRotationSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distancedisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("6ktF"),l=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l.a)("show"),coordinates:Object(l.a)("coordinates"),height:Object(l.a)("height"),heightReference:Object(l.a)("heightReference"),extrudedHeight:Object(l.a)("extrudedHeight"),extrudedHeightReference:Object(l.a)("extrudedHeightReference"),rotation:Object(l.a)("rotation"),stRotation:Object(l.a)("stRotation"),granularity:Object(l.a)("granularity"),fill:Object(l.a)("fill"),material:Object(c.a)("material"),outline:Object(l.a)("outline"),outlineColor:Object(l.a)("outlineColor"),outlineWidth:Object(l.a)("outlineWidth"),shadows:Object(l.a)("shadows"),distanceDisplayCondition:Object(l.a)("distanceDisplayCondition"),classificationType:Object(l.a)("classificationType"),zIndex:Object(l.a)("zIndex")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.coordinates=this.coordinates,e.height=this.height,e.heightReference=this.heightReference,e.extrudedHeight=this.extrudedHeight,e.extrudedHeightReference=this.extrudedHeightReference,e.rotation=this.rotation,e.stRotation=this.stRotation,e.granularity=this.granularity,e.fill=this.fill,e.material=this.material,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e.classificationType=this.classificationType,e.zIndex=this.zIndex,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.coordinates=Object(a.a)(this.coordinates,e.coordinates),this.height=Object(a.a)(this.height,e.height),this.heightReference=Object(a.a)(this.heightReference,e.heightReference),this.extrudedHeight=Object(a.a)(this.extrudedHeight,e.extrudedHeight),this.extrudedHeightReference=Object(a.a)(this.extrudedHeightReference,e.extrudedHeightReference),this.rotation=Object(a.a)(this.rotation,e.rotation),this.stRotation=Object(a.a)(this.stRotation,e.stRotation),this.granularity=Object(a.a)(this.granularity,e.granularity),this.fill=Object(a.a)(this.fill,e.fill),this.material=Object(a.a)(this.material,e.material),this.outline=Object(a.a)(this.outline,e.outline),this.outlineColor=Object(a.a)(this.outlineColor,e.outlineColor),this.outlineWidth=Object(a.a)(this.outlineWidth,e.outlineWidth),this.shadows=Object(a.a)(this.shadows,e.shadows),this.distanceDisplayCondition=Object(a.a)(this.distanceDisplayCondition,e.distanceDisplayCondition),this.classificationType=Object(a.a)(this.classificationType,e.classificationType),this.zIndex=Object(a.a)(this.zIndex,e.zIndex)},t.a=n},rM7e:function(e,t,i){"use strict";function n(e,t){if(!Object(r.a)(e))throw new o.a("uri is required.");var i="",n=e.lastIndexOf("/");return-1!==n&&(i=e.substring(0,n+1)),t?(e=new a.a(e),Object(r.a)(e.query)&&(i+="?"+e.query),Object(r.a)(e.fragment)&&(i+="#"+e.fragment),i):i}var a=i("8Vjj"),r=i("xC6Q"),o=i("PzDm");t.a=n},rMjQ:function(e,t,i){"use strict";(function(e){function n(e,t,i,n){var a=e.query;if(!Object(E.a)(a)||0===a.length)return{};var r;if(-1===a.indexOf("=")){var o={};o[a]=void 0,r=o}else r=Object(M.a)(a);t._queryParameters=i?s(r,t._queryParameters,n):r,e.query=void 0}function a(e,t){var i=t._queryParameters,n=Object.keys(i);1!==n.length||Object(E.a)(i[n[0]])?e.query=Object(R.a)(i):e.query=n[0]}function r(e,t){return Object(E.a)(e)?Object(E.a)(e.clone)?e.clone():Object(O.a)(e):t}function o(e){if(e.state===z.a.ISSUED||e.state===z.a.ACTIVE)throw new B.a("The Resource is already being fetched.");e.state=z.a.UNISSUED,e.deferred=void 0}function s(e,t,i){if(!i)return Object(w.a)(e,t);var n=Object(O.a)(e,!0);for(var a in t)if(t.hasOwnProperty(a)){var r=n[a],o=t[a];Object(E.a)(r)?(Array.isArray(r)||(r=n[a]=[r]),n[a]=r.concat(o)):n[a]=Array.isArray(o)?o.slice():o}return n}function c(e){e=Object(x.a)(e,x.a.EMPTY_OBJECT),"string"==typeof e&&(e={url:e}),y.a.typeOf.string("options.url",e.url),this._url=void 0,this._templateValues=r(e.templateValues,{}),this._queryParameters=r(e.queryParameters,{}),this.headers=r(e.headers,{}),this.request=Object(x.a)(e.request,new L.a),this.proxy=e.proxy,this.retryCallback=e.retryCallback,this.retryAttempts=Object(x.a)(e.retryAttempts,0),this._retryCount=0;var t=new _.a(e.url);n(t,this,!0,!0),t.fragment=void 0,this._url=t.toString()}function l(e){var t=e.resource,i=e.flipY,n=e.preferImageBitmap,a=t.request;a.url=t.url,a.requestFunction=function(){var e=!1;t.isDataUri||t.isBlobUri||(e=t.isCrossOriginUrl);var r=v.a.defer();return c._Implementations.createImage(a,e,r,i,n),r.promise};var r=F.a.request(a);if(Object(E.a)(r))return r.otherwise(function(e){return a.state!==z.a.FAILED?v.a.reject(e):t.retryOnError(e).then(function(r){return r?(a.state=z.a.UNISSUED,a.deferred=void 0,l({resource:t,flipY:i,preferImageBitmap:n})):v.a.reject(e)})})}function u(e,t,i){var n={};n[t]=i,e.setQueryParameters(n);var a=e.request;a.url=e.url,a.requestFunction=function(){var t=v.a.defer();return window[i]=function(e){t.resolve(e);try{delete window[i]}catch(e){window[i]=void 0}},c._Implementations.loadAndExecuteScript(e.url,i,t),t.promise};var r=F.a.request(a);if(Object(E.a)(r))return r.otherwise(function(n){return a.state!==z.a.FAILED?v.a.reject(n):e.retryOnError(n).then(function(r){return r?(a.state=z.a.UNISSUED,a.deferred=void 0,u(e,t,i)):v.a.reject(n)})})}function h(e,t){var i=decodeURIComponent(t);return e?atob(i):i}function d(e,t){for(var i=h(e,t),n=new ArrayBuffer(i.length),a=new Uint8Array(n),r=0;r<i.length;r++)a[r]=i.charCodeAt(r);return n}function f(e,t){t=Object(x.a)(t,"");var i=e[1],n=!!e[2],a=e[3];switch(t){case"":case"text":return h(n,a);case"arraybuffer":return d(n,a);case"blob":var r=d(n,a);return new Blob([r],{type:i});case"document":return(new DOMParser).parseFromString(h(n,a),i);case"json":return JSON.parse(h(n,a));default:throw new T.a("Unhandled responseType: "+t)}}function p(e,t,i){var n=new Image;n.onload=function(){i.resolve(n)},n.onerror=function(e){i.reject(e)},t&&(k.a.contains(e)?n.crossOrigin="use-credentials":n.crossOrigin=""),n.src=e}function m(e,t){switch(t){case"text":return e.toString("utf8");case"json":return JSON.parse(e.toString("utf8"));default:return new Uint8Array(e).buffer}}function g(t,n,a,r,o,s,c){var l=i("UZ5h").parse(t),u=i("https:"===l.protocol?"fBpl":"nFqq"),h=i("/2yO"),d={protocol:l.protocol,hostname:l.hostname,port:l.port,path:l.path,query:l.query,method:a,headers:o};u.request(d).on("response",function(t){if(t.statusCode<200||t.statusCode>=300)return void s.reject(new N.a(t.statusCode,t,t.headers));var i=[];t.on("data",function(e){i.push(e)}),t.on("end",function(){var a=e.concat(i);"gzip"===t.headers["content-encoding"]?h.gunzip(a,function(e,t){e?s.reject(new B.a("Error decompressing response.")):s.resolve(m(t,n))}):s.resolve(m(a,n))})}).on("error",function(e){s.reject(new N.a)}).end()}var _=i("8Vjj"),v=i("S7OP"),b=i("4llK"),y=i("5F4X"),O=i("wv0P"),w=i("ZboF"),x=i("5A4e"),E=i("xC6Q"),T=i("PzDm"),A=i("u44x"),C=i("rM7e"),S=i("5DBO"),j=i("3t6G"),P=i("TDdX"),D=i("L75e"),I=i("eMEA"),R=i("BzNj"),M=i("4A4c"),L=i("dI/G"),N=i("JyL3"),F=i("Y45Y"),z=i("YBjH"),B=i("V22k"),k=i("6up9"),U=function(){try{var e=new XMLHttpRequest;return e.open("GET","#",!0),e.responseType="blob","blob"===e.responseType}catch(e){return!1}}();c.createIfNeeded=function(e){return e instanceof c?e.getDerivedResource({request:e.request}):"string"!=typeof e?e:new c({url:e})};var V;c.supportsImageBitmapOptions=function(){if(Object(E.a)(V))return V;if("function"!=typeof createImageBitmap)return V=v.a.resolve(!1);return V=c.fetchBlob({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWP4////fwAJ+wP9CNHoHgAAAABJRU5ErkJggg=="}).then(function(e){return createImageBitmap(e,{imageOrientation:"flipY",premultiplyAlpha:"none"})}).then(function(e){return!0}).otherwise(function(){return!1})},Object.defineProperties(c,{isBlobSupported:{get:function(){return U}}}),Object.defineProperties(c.prototype,{queryParameters:{get:function(){return this._queryParameters}},templateValues:{get:function(){return this._templateValues}},url:{get:function(){return this.getUrlComponent(!0,!0)},set:function(e){var t=new _.a(e);n(t,this,!1),t.fragment=void 0,this._url=t.toString()}},extension:{get:function(){return Object(S.a)(this._url)}},isDataUri:{get:function(){return Object(D.a)(this._url)}},isBlobUri:{get:function(){return Object(j.a)(this._url)}},isCrossOriginUrl:{get:function(){return Object(P.a)(this._url)}},hasHeaders:{get:function(){return Object.keys(this.headers).length>0}}}),c.prototype.getUrlComponent=function(e,t){if(this.isDataUri)return this._url;var i=new _.a(this._url);e&&a(i,this);var n=i.toString().replace(/%7B/g,"{").replace(/%7D/g,"}"),r=this._templateValues;return n=n.replace(/{(.*?)}/g,function(e,t){var i=r[t];return Object(E.a)(i)?encodeURIComponent(i):e}),t&&Object(E.a)(this.proxy)&&(n=this.proxy.getURL(n)),n},c.prototype.setQueryParameters=function(e,t){this._queryParameters=t?s(this._queryParameters,e,!1):s(e,this._queryParameters,!1)},c.prototype.appendQueryParameters=function(e){this._queryParameters=s(e,this._queryParameters,!0)},c.prototype.setTemplateValues=function(e,t){this._templateValues=t?Object(w.a)(this._templateValues,e):Object(w.a)(e,this._templateValues)},c.prototype.getDerivedResource=function(e){var t=this.clone();if(t._retryCount=0,Object(E.a)(e.url)){var i=new _.a(e.url);n(i,t,!0,Object(x.a)(e.preserveQueryParameters,!1)),i.fragment=void 0,t._url=i.resolve(new _.a(Object(A.a)(this._url))).toString()}return Object(E.a)(e.queryParameters)&&(t._queryParameters=Object(w.a)(e.queryParameters,t._queryParameters)),Object(E.a)(e.templateValues)&&(t._templateValues=Object(w.a)(e.templateValues,t.templateValues)),Object(E.a)(e.headers)&&(t.headers=Object(w.a)(e.headers,t.headers)),Object(E.a)(e.proxy)&&(t.proxy=e.proxy),Object(E.a)(e.request)&&(t.request=e.request),Object(E.a)(e.retryCallback)&&(t.retryCallback=e.retryCallback),Object(E.a)(e.retryAttempts)&&(t.retryAttempts=e.retryAttempts),t},c.prototype.retryOnError=function(e){var t=this.retryCallback;if("function"!=typeof t||this._retryCount>=this.retryAttempts)return Object(v.a)(!1);var i=this;return Object(v.a)(t(this,e)).then(function(e){return++i._retryCount,e})},c.prototype.clone=function(e){return Object(E.a)(e)||(e=new c({url:this._url})),e._url=this._url,e._queryParameters=Object(O.a)(this._queryParameters),e._templateValues=Object(O.a)(this._templateValues),e.headers=Object(O.a)(this.headers),e.proxy=this.proxy,e.retryCallback=this.retryCallback,e.retryAttempts=this.retryAttempts,e._retryCount=0,e.request=this.request.clone(),e},c.prototype.getBaseUri=function(e){return Object(C.a)(this.getUrlComponent(e),e)},c.prototype.appendForwardSlash=function(){this._url=Object(b.a)(this._url)},c.prototype.fetchArrayBuffer=function(){return this.fetch({responseType:"arraybuffer"})},c.fetchArrayBuffer=function(e){return new c(e).fetchArrayBuffer()},c.prototype.fetchBlob=function(){return this.fetch({responseType:"blob"})},c.fetchBlob=function(e){return new c(e).fetchBlob()},c.prototype.fetchImage=function(e){e=Object(x.a)(e,x.a.EMPTY_OBJECT);var t=Object(x.a)(e.preferImageBitmap,!1),i=Object(x.a)(e.preferBlob,!1),n=Object(x.a)(e.flipY,!1);if(o(this.request),!U||this.isDataUri||this.isBlobUri||!this.hasHeaders&&!i)return l({resource:this,flipY:n,preferImageBitmap:t});var a=this.fetchBlob();if(Object(E.a)(a)){var r,s,u,h;return c.supportsImageBitmapOptions().then(function(e){return r=e,s=r&&t,a}).then(function(e){if(Object(E.a)(e)){if(h=e,s)return c.createImageBitmapFromBlob(e,{flipY:n,premultiplyAlpha:!1});var t=window.URL.createObjectURL(e);return u=new c({url:t}),l({resource:u,flipY:n,preferImageBitmap:!1})}}).then(function(e){if(Object(E.a)(e))return e.blob=h,s?e:(window.URL.revokeObjectURL(u.url),e)}).otherwise(function(e){return Object(E.a)(u)&&window.URL.revokeObjectURL(u.url),e.blob=h,v.a.reject(e)})}},c.fetchImage=function(e){return new c(e).fetchImage({flipY:e.flipY,preferBlob:e.preferBlob,preferImageBitmap:e.preferImageBitmap})},c.prototype.fetchText=function(){return this.fetch({responseType:"text"})},c.fetchText=function(e){return new c(e).fetchText()},c.prototype.fetchJson=function(){var e=this.fetch({responseType:"text",headers:{Accept:"application/json,*/*;q=0.01"}});if(Object(E.a)(e))return e.then(function(e){if(Object(E.a)(e))return JSON.parse(e)})},c.fetchJson=function(e){return new c(e).fetchJson()},c.prototype.fetchXML=function(){return this.fetch({responseType:"document",overrideMimeType:"text/xml"})},c.fetchXML=function(e){return new c(e).fetchXML()},c.prototype.fetchJsonp=function(e){e=Object(x.a)(e,"callback"),o(this.request);var t;do{t="loadJsonp"+Math.random().toString().substring(2,8)}while(Object(E.a)(window[t]));return u(this,e,t)},c.fetchJsonp=function(e){return new c(e).fetchJsonp(e.callbackParameterName)},c.prototype._makeRequest=function(e){var t=this;o(t.request);var i=t.request;i.url=t.url,i.requestFunction=function(){var n=e.responseType,a=Object(w.a)(e.headers,t.headers),r=e.overrideMimeType,o=e.method,s=e.data,l=v.a.defer(),u=c._Implementations.loadWithXhr(t.url,n,o,s,a,l,r);return Object(E.a)(u)&&Object(E.a)(u.abort)&&(i.cancelFunction=function(){u.abort()}),l.promise};var n=F.a.request(i);if(Object(E.a)(n))return n.then(function(e){return e}).otherwise(function(n){return i.state!==z.a.FAILED?v.a.reject(n):t.retryOnError(n).then(function(a){return a?(i.state=z.a.UNISSUED,i.deferred=void 0,t.fetch(e)):v.a.reject(n)})})};var H=/^data:(.*?)(;base64)?,(.*)$/;c.prototype.fetch=function(e){return e=r(e,{}),e.method="GET",this._makeRequest(e)},c.fetch=function(e){return new c(e).fetch({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},c.prototype.delete=function(e){return e=r(e,{}),e.method="DELETE",this._makeRequest(e)},c.delete=function(e){return new c(e).delete({responseType:e.responseType,overrideMimeType:e.overrideMimeType,data:e.data})},c.prototype.head=function(e){return e=r(e,{}),e.method="HEAD",this._makeRequest(e)},c.head=function(e){return new c(e).head({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},c.prototype.options=function(e){return e=r(e,{}),e.method="OPTIONS",this._makeRequest(e)},c.options=function(e){return new c(e).options({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},c.prototype.post=function(e,t){return y.a.defined("data",e),t=r(t,{}),t.method="POST",t.data=e,this._makeRequest(t)},c.post=function(e){return new c(e).post(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},c.prototype.put=function(e,t){return y.a.defined("data",e),t=r(t,{}),t.method="PUT",t.data=e,this._makeRequest(t)},c.put=function(e){return new c(e).put(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},c.prototype.patch=function(e,t){return y.a.defined("data",e),t=r(t,{}),t.method="PATCH",t.data=e,this._makeRequest(t)},c.patch=function(e){return new c(e).patch(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},c._Implementations={},c._Implementations.createImage=function(e,t,i,n,a){var r=e.url;c.supportsImageBitmapOptions().then(function(o){if(!o||!a)return void p(r,t,i);var s=v.a.defer(),l=c._Implementations.loadWithXhr(r,"blob","GET",void 0,void 0,s,void 0,void 0,void 0);return Object(E.a)(l)&&Object(E.a)(l.abort)&&(e.cancelFunction=function(){l.abort()}),s.promise.then(function(e){return Object(E.a)(e)?c.createImageBitmapFromBlob(e,{flipY:n,premultiplyAlpha:!1}):void i.reject(new B.a("Successfully retrieved "+r+" but it contained no content."))}).then(i.resolve)}).otherwise(i.reject)},c.createImageBitmapFromBlob=function(e,t){return y.a.defined("options",t),y.a.typeOf.bool("options.flipY",t.flipY),y.a.typeOf.bool("options.premultiplyAlpha",t.premultiplyAlpha),createImageBitmap(e,{imageOrientation:t.flipY?"flipY":"none",premultiplyAlpha:t.premultiplyAlpha?"premultiply":"none"})};var q="undefined"==typeof XMLHttpRequest;c._Implementations.loadWithXhr=function(e,t,i,n,a,r,o){var s=H.exec(e);if(null!==s)return void r.resolve(f(s,t));if(q)return void g(e,t,i,n,a,r,o);var c=new XMLHttpRequest;if(k.a.contains(e)&&(c.withCredentials=!0),c.open(i,e,!0),Object(E.a)(o)&&Object(E.a)(c.overrideMimeType)&&c.overrideMimeType(o),Object(E.a)(a))for(var l in a)a.hasOwnProperty(l)&&c.setRequestHeader(l,a[l]);Object(E.a)(t)&&(c.responseType=t);var u=!1;return"string"==typeof e&&(u=0===e.indexOf("file://")||"undefined"!=typeof window&&"file://"===window.location.origin),c.onload=function(){if((c.status<200||c.status>=300)&&(!u||0!==c.status))return void r.reject(new N.a(c.status,c.response,c.getAllResponseHeaders()));var e=c.response,n=c.responseType;if("HEAD"===i||"OPTIONS"===i){var a=c.getAllResponseHeaders(),o=a.trim().split(/[\r\n]+/),s={};return o.forEach(function(e){var t=e.split(": "),i=t.shift();s[i]=t.join(": ")}),void r.resolve(s)}if(204===c.status)r.resolve();else if(!Object(E.a)(e)||Object(E.a)(t)&&n!==t)if("json"===t&&"string"==typeof e)try{r.resolve(JSON.parse(e))}catch(e){r.reject(e)}else(""===n||"document"===n)&&Object(E.a)(c.responseXML)&&c.responseXML.hasChildNodes()?r.resolve(c.responseXML):""!==n&&"text"!==n||!Object(E.a)(c.responseText)?r.reject(new B.a("Invalid XMLHttpRequest response type.")):r.resolve(c.responseText);else r.resolve(e)},c.onerror=function(e){r.reject(new N.a)},c.send(n),c},c._Implementations.loadAndExecuteScript=function(e,t,i){return Object(I.a)(e,t).otherwise(i.reject)},c._DefaultImplementations={},c._DefaultImplementations.createImage=c._Implementations.createImage,c._DefaultImplementations.loadWithXhr=c._Implementations.loadWithXhr,c._DefaultImplementations.loadAndExecuteScript=c._Implementations.loadAndExecuteScript,c.DEFAULT=Object.freeze(new c({url:"undefined"==typeof document?"":document.location.href.split("?")[0]})),t.a=c}).call(t,i("EuP9").Buffer)},rUNo:function(e,t,i){"use strict";t.a="/**\n * DOC_TBA\n *\n * @name czm_eyeOffset\n * @glslFunction\n *\n * @param {vec4} positionEC DOC_TBA.\n * @param {vec3} eyeOffset DOC_TBA.\n *\n * @returns {vec4} DOC_TBA.\n */\nvec4 czm_eyeOffset(vec4 positionEC, vec3 eyeOffset)\n{\n    // This equation is approximate in x and y.\n    vec4 p = positionEC;\n    vec4 zEyeOffset = normalize(p) * eyeOffset.z;\n    p.xy += eyeOffset.xy + zEyeOffset.xy;\n    p.z += zEyeOffset.z;\n    return p;\n}\n"},rVBE:function(e,t,i){"use strict";function n(e){a.a.defined("options.entity",e.entity),a.a.defined("options.scene",e.scene),a.a.defined("options.geometryOptions",e.geometryOptions),a.a.defined("options.geometryPropertyName",e.geometryPropertyName),a.a.defined("options.observedPropertyNames",e.observedPropertyNames);var t=e.entity,i=e.geometryPropertyName;this._entity=t,this._scene=e.scene,this._fillEnabled=!1,this._isClosed=!1,this._onTerrain=!1,this._dynamic=!1,this._outlineEnabled=!1,this._geometryChanged=new h.a,this._showProperty=void 0,this._materialProperty=void 0,this._showOutlineProperty=void 0,this._outlineColorProperty=void 0,this._outlineWidth=1,this._shadowsProperty=void 0,this._distanceDisplayConditionProperty=void 0,this._classificationTypeProperty=void 0,this._options=e.geometryOptions,this._geometryPropertyName=i,this._id=i+"-"+t.id,this._observedPropertyNames=e.observedPropertyNames,this._supportsMaterialsforEntitiesOnTerrain=v.a.supportsMaterialsforEntitiesOnTerrain(e.scene)}var a=i("5F4X"),r=i("6F0S"),o=i("5A4e"),s=i("xC6Q"),c=i("6sr8"),l=i("PzDm"),u=i("2d28"),h=i("W6xh"),d=i("DsDe"),f=i("VF2d"),p=i("M1dj"),m=i("ARzC"),g=i("I5FW"),_=i("53NE"),v=i("dMpj"),b=i("uhjI"),y=new g.a(r.a.WHITE),O=new _.a(!0),w=new _.a(!0),x=new _.a(!1),E=new _.a(r.a.BLACK),T=new _.a(m.a.DISABLED),A=new _.a(new u.a),C=new _.a(p.a.BOTH);Object.defineProperties(n.prototype,{id:{get:function(){return this._id}},entity:{get:function(){return this._entity}},fillEnabled:{get:function(){return this._fillEnabled}},hasConstantFill:{get:function(){return!this._fillEnabled||!Object(s.a)(this._entity.availability)&&b.a.isConstant(this._showProperty)&&b.a.isConstant(this._fillProperty)}},fillMaterialProperty:{get:function(){return this._materialProperty}},outlineEnabled:{get:function(){return this._outlineEnabled}},hasConstantOutline:{get:function(){return!this._outlineEnabled||!Object(s.a)(this._entity.availability)&&b.a.isConstant(this._showProperty)&&b.a.isConstant(this._showOutlineProperty)}},outlineColorProperty:{get:function(){return this._outlineColorProperty}},outlineWidth:{get:function(){return this._outlineWidth}},shadowsProperty:{get:function(){return this._shadowsProperty}},distanceDisplayConditionProperty:{get:function(){return this._distanceDisplayConditionProperty}},classificationTypeProperty:{get:function(){return this._classificationTypeProperty}},isDynamic:{get:function(){return this._dynamic}},isClosed:{get:function(){return this._isClosed}},onTerrain:{get:function(){return this._onTerrain}},geometryChanged:{get:function(){return this._geometryChanged}}}),n.prototype.isOutlineVisible=function(e){var t=this._entity,i=this._outlineEnabled&&t.isAvailable(e)&&this._showProperty.getValue(e)&&this._showOutlineProperty.getValue(e);return Object(o.a)(i,!1)},n.prototype.isFilled=function(e){var t=this._entity,i=this._fillEnabled&&t.isAvailable(e)&&this._showProperty.getValue(e)&&this._fillProperty.getValue(e);return Object(o.a)(i,!1)},n.prototype.createFillGeometryInstance=l.a.throwInstantiationError,n.prototype.createOutlineGeometryInstance=l.a.throwInstantiationError,n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){Object(c.a)(this)},n.prototype._isHidden=function(e,t){var i=t.show;return Object(s.a)(i)&&i.isConstant&&!i.getValue(d.a.MINIMUM_VALUE)},n.prototype._isOnTerrain=function(e,t){return!1},n.prototype._getIsClosed=function(e){return!0},n.prototype._isDynamic=l.a.throwInstantiationError,n.prototype._setStaticOptions=l.a.throwInstantiationError,n.prototype._onEntityPropertyChanged=function(e,t,i,n){if(-1!==this._observedPropertyNames.indexOf(t)){var a=this._entity[this._geometryPropertyName];if(!Object(s.a)(a))return void((this._fillEnabled||this._outlineEnabled)&&(this._fillEnabled=!1,this._outlineEnabled=!1,this._geometryChanged.raiseEvent(this)));var r=a.fill,c=!Object(s.a)(r)||!r.isConstant||r.getValue(d.a.MINIMUM_VALUE),l=a.outline,u=Object(s.a)(l);if(u&&l.isConstant&&(u=l.getValue(d.a.MINIMUM_VALUE)),!c&&!u)return void((this._fillEnabled||this._outlineEnabled)&&(this._fillEnabled=!1,this._outlineEnabled=!1,this._geometryChanged.raiseEvent(this)));var h=a.show;if(this._isHidden(e,a))return void((this._fillEnabled||this._outlineEnabled)&&(this._fillEnabled=!1,this._outlineEnabled=!1,this._geometryChanged.raiseEvent(this)));this._materialProperty=Object(o.a)(a.material,y),this._fillProperty=Object(o.a)(r,w),this._showProperty=Object(o.a)(h,O),this._showOutlineProperty=Object(o.a)(a.outline,x),this._outlineColorProperty=u?Object(o.a)(a.outlineColor,E):void 0,this._shadowsProperty=Object(o.a)(a.shadows,T),this._distanceDisplayConditionProperty=Object(o.a)(a.distanceDisplayCondition,A),this._classificationTypeProperty=Object(o.a)(a.classificationType,C),this._fillEnabled=c;var p=this._isOnTerrain(e,a)&&(this._supportsMaterialsforEntitiesOnTerrain||this._materialProperty instanceof g.a);if(u&&p&&(Object(f.a)(f.a.geometryOutlines),u=!1),this._onTerrain=p,this._outlineEnabled=u,this._isDynamic(e,a))this._dynamic||(this._dynamic=!0,this._geometryChanged.raiseEvent(this));else{this._setStaticOptions(e,a),this._isClosed=this._getIsClosed(this._options);var m=a.outlineWidth;this._outlineWidth=Object(s.a)(m)?m.getValue(d.a.MINIMUM_VALUE):1,this._dynamic=!1,this._geometryChanged.raiseEvent(this)}}},n.prototype.createDynamicUpdater=function(e,t){if(a.a.defined("primitives",e),a.a.defined("groundPrimitives",t),!this._dynamic)throw new l.a("This instance does not represent dynamic geometry.");return new this.constructor.DynamicGeometryUpdater(this,e,t)},t.a=n},rZrK:function(e,t,i){"use strict";function n(e){var t=e.points,i=e.times;return function(n,a){Object(o.a)(a)||(a=new c.a);var r=e._lastTimeIndex=e.findTimeInterval(n,e._lastTimeIndex),s=(n-i[r])/(i[r+1]-i[r]),l=t[r],u=t[r+1];return c.a.fastSlerp(l,u,s,a)}}function a(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT);var t=e.points,i=e.times;if(!Object(o.a)(t)||!Object(o.a)(i))throw new s.a("points and times are required.");if(t.length<2)throw new s.a("points.length must be greater than or equal to 2.");if(i.length!==t.length)throw new s.a("times.length must be equal to points.length.");this._times=i,this._points=t,this._evaluateFunction=n(this),this._lastTimeIndex=0}var r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("q/xW"),l=i("Jn+X");Object.defineProperties(a.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}}}),a.prototype.findTimeInterval=l.a.prototype.findTimeInterval,a.prototype.wrapTime=l.a.prototype.wrapTime,a.prototype.clampTime=l.a.prototype.clampTime,a.prototype.evaluate=function(e,t){return this._evaluateFunction(e,t)},t.a=a},rfxP:function(e,t,i){"use strict";function n(e,t){this._value=void 0,this._definitionChanged=new s.a,this._eventHelper=new c.a,this._referenceFrame=Object(a.a)(t,l.a.FIXED),this.setValue(e)}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("HMO3"),l=i("IDfv"),u=i("uhjI");Object.defineProperties(n.prototype,{isConstant:{get:function(){var e=this._value;if(!Object(r.a)(e))return!0;for(var t=e.length,i=0;i<t;i++)if(!u.a.isConstant(e[i]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}}),n.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,l.a.FIXED,t)},n.prototype.getValueInReferenceFrame=function(e,t,i){if(!Object(r.a)(e))throw new o.a("time is required.");if(!Object(r.a)(t))throw new o.a("referenceFrame is required.");var n=this._value;if(Object(r.a)(n)){var a=n.length;Object(r.a)(i)||(i=new Array(a));for(var s=0,c=0;s<a;){var l=n[s],u=l.getValueInReferenceFrame(e,t,i[s]);Object(r.a)(u)&&(i[c]=u,c++),s++}return i.length=c,i}},n.prototype.setValue=function(e){var t=this._eventHelper;if(t.removeAll(),Object(r.a)(e)){this._value=e.slice();for(var i=e.length,a=0;a<i;a++){var o=e[a];Object(r.a)(o)&&t.add(o.definitionChanged,n.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)},n.prototype.equals=function(e){return this===e||e instanceof n&&this._referenceFrame===e._referenceFrame&&u.a.arrayEquals(this._value,e._value)},n.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)},t.a=n},rhXD:function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\n\nvarying vec2 v_textureCoordinates;\n\n#ifdef AUTO_EXPOSURE\nuniform sampler2D autoExposure;\n#endif\n\n// See slides 142 and 143:\n//     http://www.gdcvault.com/play/1012459/Uncharted_2__HDR_Lighting\n\nvoid main()\n{\n    vec4 fragmentColor = texture2D(colorTexture, v_textureCoordinates);\n    vec3 color = fragmentColor.rgb;\n\n#ifdef AUTO_EXPOSURE\n    float exposure = texture2D(autoExposure, vec2(0.5)).r;\n    color /= exposure;\n#endif\n\n\tconst float A = 0.22; // shoulder strength\n\tconst float B = 0.30; // linear strength\n\tconst float C = 0.10; // linear angle\n\tconst float D = 0.20; // toe strength\n\tconst float E = 0.01; // toe numerator\n\tconst float F = 0.30; // toe denominator\n\n\tconst float white = 11.2; // linear white point value\n\n\tvec3 c = ((color * (A * color + C * B) + D * E) / (color * ( A * color + B) + D * F)) - E / F;\n\tfloat w = ((white * (A * white + C * B) + D * E) / (white * ( A * white + B) + D * F)) - E / F;\n\n\tc = czm_inverseGamma(c / w);\n\tgl_FragColor = vec4(c, fragmentColor.a);\n}\n"},rhka:function(e,t,i){"use strict";/**
@license
sprintf.js from the php.js project - https://github.com/kvz/phpjs
Directly from https://github.com/kvz/phpjs/blob/master/functions/strings/sprintf.js

php.js is copyright 2012 Kevin van Zonneveld.

Portions copyright Brett Zamir (http://brett-zamir.me), Kevin van Zonneveld
(http://kevin.vanzonneveld.net), Onno Marsman, Theriault, Michael White
(http://getsprink.com), Waldo Malqui Silva, Paulo Freitas, Jack, Jonas
Raoni Soares Silva (http://www.jsfromhell.com), Philip Peterson, Legaev
Andrey, Ates Goral (http://magnetiq.com), Alex, Ratheous, Martijn Wieringa,
Rafa? Kukawski (http://blog.kukawski.pl), lmeyrick
(https://sourceforge.net/projects/bcmath-js/), Nate, Philippe Baumann,
Enrique Gonzalez, Webtoolkit.info (http://www.webtoolkit.info/), Carlos R.
L. Rodrigues (http://www.jsfromhell.com), Ash Searle
(http://hexmen.com/blog/), Jani Hartikainen, travc, Ole Vrijenhoek,
Erkekjetter, Michael Grier, Rafa? Kukawski (http://kukawski.pl), Johnny
Mast (http://www.phpvrouwen.nl), T.Wild, d3x,
http://stackoverflow.com/questions/57803/how-to-convert-decimal-to-hex-in-javascript,
Rafa? Kukawski (http://blog.kukawski.pl/), stag019, pilus, WebDevHobo
(http://webdevhobo.blogspot.com/), marrtins, GeekFG
(http://geekfg.blogspot.com), Andrea Giammarchi
(http://webreflection.blogspot.com), Arpad Ray (mailto:arpad@php.net),
gorthaur, Paul Smith, Tim de Koning (http://www.kingsquare.nl), Joris, Oleg
Eremeev, Steve Hilder, majak, gettimeofday, KELAN, Josh Fraser
(http://onlineaspect.com/2007/06/08/auto-detect-a-time-zone-with-javascript/),
Marc Palau, Martin
(http://www.erlenwiese.de/), Breaking Par Consulting Inc
(http://www.breakingpar.com/bkp/home.nsf/0/87256B280015193F87256CFB006C45F7),
Chris, Mirek Slugen, saulius, Alfonso Jimenez
(http://www.alfonsojimenez.com), Diplom@t (http://difane.com/), felix,
Mailfaker (http://www.weedem.fr/), Tyler Akins (http://rumkin.com), Caio
Ariede (http://caioariede.com), Robin, Kankrelune
(http://www.webfaktory.info/), Karol Kowalski, Imgen Tata
(http://www.myipdf.com/), mdsjack (http://www.mdsjack.bo.it), Dreamer,
Felix Geisendoerfer (http://www.debuggable.com/felix), Lars Fischer, AJ,
David, Aman Gupta, Michael White, Public Domain
(http://www.json.org/json2.js), Steven Levithan
(http://blog.stevenlevithan.com), Sakimori, Pellentesque Malesuada,
Thunder.m, Dj (http://phpjs.org/functions/htmlentities:425#comment_134018),
Steve Clay, David James, Francois, class_exists, nobbler, T. Wild, Itsacon
(http://www.itsacon.net/), date, Ole Vrijenhoek (http://www.nervous.nl/),
Fox, Raphael (Ao RUDLER), Marco, noname, Mateusz "loonquawl" Zalega, Frank
Forte, Arno, ger, mktime, john (http://www.jd-tech.net), Nick Kolosov
(http://sammy.ru), marc andreu, Scott Cariss, Douglas Crockford
(http://javascript.crockford.com), madipta, Slawomir Kaniecki,
ReverseSyntax, Nathan, Alex Wilson, kenneth, Bayron Guevara, Adam Wallner
(http://web2.bitbaro.hu/), paulo kuong, jmweb, Lincoln Ramsay, djmix,
Pyerre, Jon Hohle, Thiago Mata (http://thiagomata.blog.com), lmeyrick
(https://sourceforge.net/projects/bcmath-js/this.), Linuxworld, duncan,
Gilbert, Sanjoy Roy, Shingo, sankai, Oskar Larsson H?gfeldt
(http://oskar-lh.name/), Denny Wardhana, 0m3r, Everlasto, Subhasis Deb,
josh, jd, Pier Paolo Ramon (http://www.mastersoup.com/), P, merabi, Soren
Hansen, Eugene Bulkin (http://doubleaw.com/), Der Simon
(http://innerdom.sourceforge.net/), echo is bad, Ozh, XoraX
(http://www.xorax.info), EdorFaus, JB, J A R, Marc Jansen, Francesco, LH,
Stoyan Kyosev (http://www.svest.org/), nord_ua, omid
(http://phpjs.org/functions/380:380#comment_137122), Brad Touesnard, MeEtc
(http://yass.meetcweb.com), Peter-Paul Koch
(http://www.quirksmode.org/js/beat.html), Olivier Louvignes
(http://mg-crea.com/), T0bsn, Tim Wiel, Bryan Elliott, Jalal Berrami,
Martin, JT, David Randall, Thomas Beaucourt (http://www.webapp.fr), taith,
vlado houba, Pierre-Luc Paour, Kristof Coomans (SCK-CEN Belgian Nucleair
Research Centre), Martin Pool, Kirk Strobeck, Rick Waldron, Brant Messenger
(http://www.brantmessenger.com/), Devan Penner-Woelk, Saulo Vallory, Wagner
B. Soares, Artur Tchernychev, Valentina De Rosa, Jason Wong
(http://carrot.org/), Christoph, Daniel Esteban, strftime, Mick@el, rezna,
Simon Willison (http://simonwillison.net), Anton Ongson, Gabriel Paderni,
Marco van Oort, penutbutterjelly, Philipp Lenssen, Bjorn Roesbeke
(http://www.bjornroesbeke.be/), Bug?, Eric Nagel, Tomasz Wesolowski,
Evertjan Garretsen, Bobby Drake, Blues (http://tech.bluesmoon.info/), Luke
Godfrey, Pul, uestla, Alan C, Ulrich, Rafal Kukawski, Yves Sucaet,
sowberry, Norman "zEh" Fuchs, hitwork, Zahlii, johnrembo, Nick Callen,
Steven Levithan (stevenlevithan.com), ejsanders, Scott Baker, Brian Tafoya
(http://www.premasolutions.com/), Philippe Jausions
(http://pear.php.net/user/jausions), Aidan Lister
(http://aidanlister.com/), Rob, e-mike, HKM, ChaosNo1, metjay, strcasecmp,
strcmp, Taras Bogach, jpfle, Alexander Ermolaev
(http://snippets.dzone.com/user/AlexanderErmolaev), DxGx, kilops, Orlando,
dptr1988, Le Torbi, James (http://www.james-bell.co.uk/), Pedro Tainha
(http://www.pedrotainha.com), James, Arnout Kazemier
(http://www.3rd-Eden.com), Chris McMacken, gabriel paderni, Yannoo,
FGFEmperor, baris ozdil, Tod Gentille, Greg Frazier, jakes, 3D-GRAF, Allan
Jensen (http://www.winternet.no), Howard Yeend, Benjamin Lupton, davook,
daniel airton wermann (http://wermann.com.br), Atli T¨®r, Maximusya, Ryan
W Tenney (http://ryan.10e.us), Alexander M Beedie, fearphage
(http://http/my.opera.com/fearphage/), Nathan Sepulveda, Victor, Matteo,
Billy, stensi, Cord, Manish, T.J. Leahy, Riddler
(http://www.frontierwebdev.com/), Rafa? Kukawski, FremyCompany, Matt
Bradley, Tim de Koning, Luis Salazar (http://www.freaky-media.com/), Diogo
Resende, Rival, Andrej Pavlovic, Garagoth, Le Torbi
(http://www.letorbi.de/), Dino, Josep Sanz (http://www.ws3.es/), rem,
Russell Walker (http://www.nbill.co.uk/), Jamie Beck
(http://www.terabit.ca/), setcookie, Michael, YUI Library:
http://developer.yahoo.com/yui/docs/YAHOO.util.DateLocale.html, Blues at
http://hacks.bluesmoon.info/strftime/strftime.js, Ben
(http://benblume.co.uk/), DtTvB
(http://dt.in.th/2008-09-16.string-length-in-bytes.html), Andreas, William,
meo, incidence, Cagri Ekin, Amirouche, Amir Habibi
(http://www.residence-mixte.com/), Luke Smith (http://lucassmith.name),
Kheang Hok Chin (http://www.distantia.ca/), Jay Klehr, Lorenzo Pisani,
Tony, Yen-Wei Liu, Greenseed, mk.keck, Leslie Hoare, dude, booeyOH, Ben
Bryan

Licensed under the MIT (MIT-LICENSE.txt) license.

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be included
in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL KEVIN VAN ZONNEVELD BE LIABLE FOR ANY CLAIM, DAMAGES
OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
*/
function n(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,t=arguments,i=0,n=t[i++],a=function(e,t,i,n){i||(i=" ");var a=e.length>=t?"":Array(1+t-e.length>>>0).join(i);return n?e+a:a+e},r=function(e,t,i,n,r,o){var s=n-e.length;return s>0&&(e=i||!r?a(e,n,o,i):e.slice(0,t.length)+a("",s,"0",!0)+e.slice(t.length)),e},o=function(e,t,i,n,o,s,c){var l=e>>>0;return i=i&&l&&{2:"0b",8:"0",16:"0x"}[t]||"",e=i+a(l.toString(t),s||0,"0",!1),r(e,i,n,o,c)},s=function(e,t,i,n,a,o){return null!=n&&(e=e.slice(0,n)),r(e,"",t,i,a,o)},c=function(e,n,c,l,u,h,d){var f,p,m,g,_;if("%%"==e)return"%";for(var v=!1,b="",y=!1,O=!1,w=" ",x=c.length,E=0;c&&E<x;E++)switch(c.charAt(E)){case" ":b=" ";break;case"+":b="+";break;case"-":v=!0;break;case"'":w=c.charAt(E+1);break;case"0":y=!0;break;case"#":O=!0}if(l=l?"*"==l?+t[i++]:"*"==l.charAt(0)?+t[l.slice(1,-1)]:+l:0,l<0&&(l=-l,v=!0),!isFinite(l))throw new Error("sprintf: (minimum-)width must be finite");switch(h=h?"*"==h?+t[i++]:"*"==h.charAt(0)?+t[h.slice(1,-1)]:+h:"fFeE".indexOf(d)>-1?6:"d"==d?0:void 0,_=n?t[n.slice(0,-1)]:t[i++],d){case"s":return s(String(_),v,l,h,y,w);case"c":return s(String.fromCharCode(+_),v,l,h,y);case"b":return o(_,2,O,v,l,h,y);case"o":return o(_,8,O,v,l,h,y);case"x":return o(_,16,O,v,l,h,y);case"X":return o(_,16,O,v,l,h,y).toUpperCase();case"u":return o(_,10,O,v,l,h,y);case"i":case"d":return f=+_||0,f=Math.round(f-f%1),p=f<0?"-":b,_=p+a(String(Math.abs(f)),h,"0",!1),r(_,p,v,l,y);case"e":case"E":case"f":case"F":case"g":case"G":return f=+_,p=f<0?"-":b,m=["toExponential","toFixed","toPrecision"]["efg".indexOf(d.toLowerCase())],g=["toString","toUpperCase"]["eEfFgG".indexOf(d)%2],_=p+Math.abs(f)[m](h),r(_,p,v,l,y)[g]();default:return e}};return n.replace(e,c)}t.a=n},rjj0:function(e,t,i){function n(e){for(var t=0;t<e.length;t++){var i=e[t],n=u[i.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](i.parts[a]);for(;a<i.parts.length;a++)n.parts.push(r(i.parts[a]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{for(var o=[],a=0;a<i.parts.length;a++)o.push(r(i.parts[a]));u[i.id]={id:i.id,refs:1,parts:o}}}}function a(){var e=document.createElement("style");return e.type="text/css",h.appendChild(e),e}function r(e){var t,i,n=document.querySelector("style["+_+'~="'+e.id+'"]');if(n){if(p)return m;n.parentNode.removeChild(n)}if(v){var r=f++;n=d||(d=a()),t=o.bind(null,n,r,!1),i=o.bind(null,n,r,!0)}else n=a(),t=s.bind(null,n),i=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else i()}}function o(e,t,i,n){var a=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=b(t,a);else{var r=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function s(e,t){var i=t.css,n=t.media,a=t.sourceMap;if(n&&e.setAttribute("media",n),g.ssrId&&e.setAttribute(_,t.id),a&&(i+="\n/*# sourceURL="+a.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l=i("tTVk"),u={},h=c&&(document.head||document.getElementsByTagName("head")[0]),d=null,f=0,p=!1,m=function(){},g=null,_="data-vue-ssr-id",v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,i,a){p=i,g=a||{};var r=l(e,t);return n(r),function(t){for(var i=[],a=0;a<r.length;a++){var o=r[a],s=u[o.id];s.refs--,i.push(s)}t?(r=l(e,t),n(r)):r=[];for(var a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete u[s.id]}}}};var b=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},rk7A:function(e,t,i){"use strict";var n=i("ODTd"),a=i("xC6Q"),r={};r.defaultAccessToken=void 0;var o,s=!1,c="<b>This application is using Cesium's default Mapbox access token.  Please create a new access token for the application as soon as possible and prior to deployment by visiting <a href=https://www.mapbox.com/account/apps/>https://www.mapbox.com/account/apps/</a>, and provide your token to Cesium by setting the Cesium.MapboxApi.defaultAccessToken property before constructing the CesiumWidget or any other object that uses the Mapbox API.</b>";r.getAccessToken=function(e){return Object(a.a)(e)?e:Object(a.a)(r.defaultAccessToken)?r.defaultAccessToken:(s||(console.log(c),s=!0),"pk.eyJ1IjoiYW5hbHl0aWNhbGdyYXBoaWNzIiwiYSI6ImNpd204Zm4wejAwNzYyeW5uNjYyZmFwdWEifQ.7i-VIZZWX8pd1bTfxIVj9g")},r.getErrorCredit=function(e){if(!Object(a.a)(e)&&!Object(a.a)(r.defaultAccessToken))return Object(a.a)(o)||(o=new n.a(c,!0)),o},t.a=r},rpO5:function(e,t,i){"use strict";function n(e){e=Object(c.a)(e,c.a.EMPTY_OBJECT),this.left=e.left,this._left=void 0,this.right=e.right,this._right=void 0,this.top=e.top,this._top=void 0,this.bottom=e.bottom,this._bottom=void 0,this.near=Object(c.a)(e.near,1),this._near=this.near,this.far=Object(c.a)(e.far,5e8),this._far=this.far,this._cullingVolume=new s.a,this._orthographicMatrix=new d.a}function a(e){if(!(Object(l.a)(e.right)&&Object(l.a)(e.left)&&Object(l.a)(e.top)&&Object(l.a)(e.bottom)&&Object(l.a)(e.near)&&Object(l.a)(e.far)))throw new u.a("right, left, top, bottom, near, or far parameters are not set.");if(e.top!==e._top||e.bottom!==e._bottom||e.left!==e._left||e.right!==e._right||e.near!==e._near||e.far!==e._far){if(e.left>e.right)throw new u.a("right must be greater than left.");if(e.bottom>e.top)throw new u.a("top must be greater than bottom.");if(e.near<=0||e.near>e.far)throw new u.a("near must be greater than zero and less than far.");e._left=e.left,e._right=e.right,e._top=e.top,e._bottom=e.bottom,e._near=e.near,e._far=e.far,e._orthographicMatrix=d.a.computeOrthographicOffCenter(e.left,e.right,e.bottom,e.top,e.near,e.far,e._orthographicMatrix)}}var r=i("Jj+J"),o=i("PDkd"),s=i("XHlg"),c=i("5A4e"),l=i("xC6Q"),u=i("PzDm"),h=i("fq+p"),d=i("Xjii");Object.defineProperties(n.prototype,{projectionMatrix:{get:function(){return a(this),this._orthographicMatrix}}});var f=new r.a,p=new r.a,m=new r.a,g=new r.a;n.prototype.computeCullingVolume=function(e,t,i){if(!Object(l.a)(e))throw new u.a("position is required.");if(!Object(l.a)(t))throw new u.a("direction is required.");if(!Object(l.a)(i))throw new u.a("up is required.");var n=this._cullingVolume.planes,a=this.top,s=this.bottom,c=this.right,h=this.left,d=this.near,_=this.far,v=r.a.cross(t,i,f);r.a.normalize(v,v);var b=p;r.a.multiplyByScalar(t,d,b),r.a.add(e,b,b);var y=m;r.a.multiplyByScalar(v,h,y),r.a.add(b,y,y);var O=n[0];return Object(l.a)(O)||(O=n[0]=new o.a),O.x=v.x,O.y=v.y,O.z=v.z,O.w=-r.a.dot(v,y),r.a.multiplyByScalar(v,c,y),r.a.add(b,y,y),O=n[1],Object(l.a)(O)||(O=n[1]=new o.a),O.x=-v.x,O.y=-v.y,O.z=-v.z,O.w=-r.a.dot(r.a.negate(v,g),y),r.a.multiplyByScalar(i,s,y),r.a.add(b,y,y),O=n[2],Object(l.a)(O)||(O=n[2]=new o.a),O.x=i.x,O.y=i.y,O.z=i.z,O.w=-r.a.dot(i,y),r.a.multiplyByScalar(i,a,y),r.a.add(b,y,y),O=n[3],Object(l.a)(O)||(O=n[3]=new o.a),O.x=-i.x,O.y=-i.y,O.z=-i.z,O.w=-r.a.dot(r.a.negate(i,g),y),O=n[4],Object(l.a)(O)||(O=n[4]=new o.a),O.x=t.x,O.y=t.y,O.z=t.z,O.w=-r.a.dot(t,b),r.a.multiplyByScalar(t,_,y),r.a.add(e,y,y),O=n[5],Object(l.a)(O)||(O=n[5]=new o.a),O.x=-t.x,O.y=-t.y,O.z=-t.z,O.w=-r.a.dot(r.a.negate(t,g),y),this._cullingVolume},n.prototype.getPixelDimensions=function(e,t,i,n,r){if(a(this),!Object(l.a)(e)||!Object(l.a)(t))throw new u.a("Both drawingBufferWidth and drawingBufferHeight are required.");if(e<=0)throw new u.a("drawingBufferWidth must be greater than zero.");if(t<=0)throw new u.a("drawingBufferHeight must be greater than zero.");if(!Object(l.a)(i))throw new u.a("distance is required.");if(!Object(l.a)(n))throw new u.a("pixelRatio is required.");if(n<=0)throw new u.a("pixelRatio must be greater than zero.");if(!Object(l.a)(r))throw new u.a("A result object is required.");var o=this.right-this.left,s=this.top-this.bottom,c=n*o/e,h=n*s/t;return r.x=c,r.y=h,r},n.prototype.clone=function(e){return Object(l.a)(e)||(e=new n),e.left=this.left,e.right=this.right,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e._left=void 0,e._right=void 0,e._top=void 0,e._bottom=void 0,e._near=void 0,e._far=void 0,e},n.prototype.equals=function(e){return Object(l.a)(e)&&e instanceof n&&this.right===e.right&&this.left===e.left&&this.top===e.top&&this.bottom===e.bottom&&this.near===e.near&&this.far===e.far},n.prototype.equalsEpsilon=function(e,t,i){return e===this||Object(l.a)(e)&&e instanceof n&&h.a.equalsEpsilon(this.right,e.right,t,i)&&h.a.equalsEpsilon(this.left,e.left,t,i)&&h.a.equalsEpsilon(this.top,e.top,t,i)&&h.a.equalsEpsilon(this.bottom,e.bottom,t,i)&&h.a.equalsEpsilon(this.near,e.near,t,i)&&h.a.equalsEpsilon(this.far,e.far,t,i)},t.a=n},ryzl:function(e,t,i){"use strict";function n(e){e=Object(o.a)(e,1),r.a.typeOf.number.greaterThan("radius",e,0),this._radius=Object(o.a)(e,1)}var a=i("Jj+J"),r=i("5F4X"),o=i("5A4e"),s=i("fq+p");Object.defineProperties(n.prototype,{radius:{get:function(){return this._radius},set:function(e){r.a.typeOf.number.greaterThan("value",e,0),this._radius=e}}}),n.prototype.emit=function(e){var t=s.a.randomBetween(0,s.a.TWO_PI),i=s.a.randomBetween(0,s.a.PI),n=s.a.randomBetween(0,this._radius),r=n*Math.cos(t)*Math.sin(i),o=n*Math.sin(t)*Math.sin(i),c=n*Math.cos(i);e.position=a.a.fromElements(r,o,c,e.position),e.velocity=a.a.normalize(e.position,e.velocity)}},rzLl:function(e,t,i){(function(t,n,a){function r(e,t){return s.fetch&&t?"fetch":s.mozchunkedarraybuffer?"moz-chunked-arraybuffer":s.msstream?"ms-stream":s.arraybuffer&&e?"arraybuffer":s.vbArray&&e?"text:vbarray":"text"}function o(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}var s=i("ZqVu"),c=i("LC74"),l=i("mbU0"),u=i("cSWu"),h=i("dhnS"),d=l.IncomingMessage,f=l.readyStates,p=e.exports=function(e){var i=this;u.Writable.call(i),i._opts=e,i._body=[],i._headers={},e.auth&&i.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){i.setHeader(t,e.headers[t])});var n,a=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!s.abortController)a=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!s.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}i._mode=r(n,a),i._fetchTimer=null,i.on("finish",function(){i._onFinish()})};c(p,u.Writable),p.prototype.setHeader=function(e,t){var i=this,n=e.toLowerCase();-1===m.indexOf(n)&&(i._headers[n]={name:e,value:t})},p.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},p.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},p.prototype._onFinish=function(){var e=this;if(!e._destroyed){var i=e._opts,r=e._headers,o=null;"GET"!==i.method&&"HEAD"!==i.method&&(o=s.arraybuffer?h(t.concat(e._body)):s.blobConstructor?new n.Blob(e._body.map(function(e){return h(e)}),{type:(r["content-type"]||{}).value||""}):t.concat(e._body).toString());var c=[];if(Object.keys(r).forEach(function(e){var t=r[e].name,i=r[e].value;Array.isArray(i)?i.forEach(function(e){c.push([t,e])}):c.push([t,i])}),"fetch"===e._mode){var l=null;if(s.abortController){var u=new AbortController;l=u.signal,e._fetchAbortController=u,"requestTimeout"in i&&0!==i.requestTimeout&&(e._fetchTimer=n.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},i.requestTimeout))}n.fetch(e._opts.url,{method:e._opts.method,headers:c,body:o||void 0,mode:"cors",credentials:i.withCredentials?"include":"same-origin",signal:l}).then(function(t){e._fetchResponse=t,e._connect()},function(t){n.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var d=e._xhr=new n.XMLHttpRequest;try{d.open(e._opts.method,e._opts.url,!0)}catch(t){return void a.nextTick(function(){e.emit("error",t)})}"responseType"in d&&(d.responseType=e._mode.split(":")[0]),"withCredentials"in d&&(d.withCredentials=!!i.withCredentials),"text"===e._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in i&&(d.timeout=i.requestTimeout,d.ontimeout=function(){e.emit("requestTimeout")}),c.forEach(function(e){d.setRequestHeader(e[0],e[1])}),e._response=null,d.onreadystatechange=function(){switch(d.readyState){case f.LOADING:case f.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(d.onprogress=function(){e._onXHRProgress()}),d.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{d.send(o)}catch(t){return void a.nextTick(function(){e.emit("error",t)})}}}},p.prototype._onXHRProgress=function(){var e=this;o(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},p.prototype._connect=function(){var e=this;e._destroyed||(e._response=new d(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},p.prototype._write=function(e,t,i){this._body.push(e),i()},p.prototype.abort=p.prototype.destroy=function(){var e=this;e._destroyed=!0,n.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},p.prototype.end=function(e,t,i){var n=this;"function"==typeof e&&(i=e,e=void 0),u.Writable.prototype.end.call(n,e,t,i)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var m=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(t,i("EuP9").Buffer,i("DuR2"),i("W2nU"))},s45H:function(e,t,i){"use strict";t.a="\nuniform vec4 shadowMap_cascadeDistances;\n\nfloat czm_cascadeDistance(vec4 weights)\n{\n    return dot(shadowMap_cascadeDistances, weights);\n}\n"},sB3e:function(e,t,i){var n=i("52gC");e.exports=function(e){return Object(n(e))}},sEJp:function(e,t,i){"use strict";var n={ROUNDED:0,MITERED:1,BEVELED:2};t.a=Object.freeze(n)},sFKM:function(e,t,i){"use strict";function n(e,t,i,n,a){this._tileset=e,this._tile=t,this._resource=i,this._geometries=void 0,this._contentReadyPromise=void 0,this._readyPromise=g.a.defer(),this._batchTable=void 0,this._features=void 0,this.featurePropertiesDirty=!1,o(this,n,a)}function a(e){return function(t,i){Object(u.a)(e._geometries)&&e._geometries.updateCommands(t,i)}}function r(e,t){var i,n,a,r,o,s=Object(l.a)(e.BOXES_LENGTH,0),c=Object(l.a)(e.CYLINDERS_LENGTH,0),h=Object(l.a)(e.ELLIPSOIDS_LENGTH,0),d=Object(l.a)(e.SPHERES_LENGTH,0);if(s>0&&Object(u.a)(e.BOX_BATCH_IDS)){var f=t.byteOffset+e.BOX_BATCH_IDS.byteOffset;i=new Uint16Array(t.buffer,f,s)}if(c>0&&Object(u.a)(e.CYLINDER_BATCH_IDS)){var p=t.byteOffset+e.CYLINDER_BATCH_IDS.byteOffset;n=new Uint16Array(t.buffer,p,c)}if(h>0&&Object(u.a)(e.ELLIPSOID_BATCH_IDS)){var g=t.byteOffset+e.ELLIPSOID_BATCH_IDS.byteOffset;a=new Uint16Array(t.buffer,g,h)}if(d>0&&Object(u.a)(e.SPHERE_BATCH_IDS)){var _=t.byteOffset+e.SPHERE_BATCH_IDS.byteOffset;r=new Uint16Array(t.buffer,_,d)}var v=Object(u.a)(i)||Object(u.a)(n)||Object(u.a)(a)||Object(u.a)(r),b=s>0&&!Object(u.a)(i)||c>0&&!Object(u.a)(n)||h>0&&!Object(u.a)(a)||d>0&&!Object(u.a)(r);if(v&&b)throw new m.a("If one group of batch ids is defined, then all batch ids must be defined.");if(!(Object(u.a)(i)||Object(u.a)(n)||Object(u.a)(a)||Object(u.a)(r))){var y=0;if(!Object(u.a)(i)&&s>0)for(i=new Uint16Array(s),o=0;o<s;++o)i[o]=y++;if(!Object(u.a)(n)&&c>0)for(n=new Uint16Array(c),o=0;o<c;++o)n[o]=y++;if(!Object(u.a)(a)&&h>0)for(a=new Uint16Array(h),o=0;o<h;++o)a[o]=y++;if(!Object(u.a)(r)&&d>0)for(r=new Uint16Array(d),o=0;o<d;++o)r[o]=y++}return{boxes:i,cylinders:n,ellipsoids:a,spheres:r}}function o(e,t,i){i=Object(l.a)(i,0);var n=new Uint8Array(t),o=new DataView(t);i+=b;var s=o.getUint32(i,!0);if(1!==s)throw new m.a("Only Geometry tile version 1 is supported.  Version "+s+" is not.");i+=b;var h=o.getUint32(i,!0);if(i+=b,0===h)return void e._readyPromise.resolve(e);var d=o.getUint32(i,!0);if(i+=b,0===d)throw new m.a("Feature table must have a byte length greater than zero");var g=o.getUint32(i,!0);i+=b;var y=o.getUint32(i,!0);i+=b;var O=o.getUint32(i,!0);i+=b;var w=Object(f.a)(n,i,d),x=JSON.parse(w);i+=d;var E=new Uint8Array(t,i,g);i+=g;var T,A;if(y>0){var C=Object(f.a)(n,i,y);T=JSON.parse(C),i+=y,O>0&&(A=new Uint8Array(t,i,O),A=new Uint8Array(A))}var S=Object(l.a)(x.BOXES_LENGTH,0),j=Object(l.a)(x.CYLINDERS_LENGTH,0),P=Object(l.a)(x.ELLIPSOIDS_LENGTH,0),D=Object(l.a)(x.SPHERES_LENGTH,0),I=S+j+P+D,R=new _.a(e,I,T,A,a(e));if(e._batchTable=R,0!==I){var M,L=e.tile.computedTransform;Object(u.a)(x.RTC_CENTER)&&(M=c.a.unpack(x.RTC_CENTER),p.a.multiplyByPoint(L,M,M));var N=r(x,E);if(S>0||j>0||P>0||D>0){var F,z,B,k;if(S>0){var U=E.byteOffset+x.BOXES.byteOffset;F=new Float32Array(E.buffer,U,v.a.packedBoxLength*S)}if(j>0){var V=E.byteOffset+x.CYLINDERS.byteOffset;z=new Float32Array(E.buffer,V,v.a.packedCylinderLength*j)}if(P>0){var H=E.byteOffset+x.ELLIPSOIDS.byteOffset;B=new Float32Array(E.buffer,H,v.a.packedEllipsoidLength*P)}if(D>0){var q=E.byteOffset+x.SPHERES.byteOffset;k=new Float32Array(E.buffer,q,v.a.packedSphereLength*D)}e._geometries=new v.a({boxes:F,boxBatchIds:N.boxes,cylinders:z,cylinderBatchIds:N.cylinders,ellipsoids:B,ellipsoidBatchIds:N.ellipsoids,spheres:k,sphereBatchIds:N.spheres,center:M,modelMatrix:L,batchTable:R,boundingVolume:e.tile.boundingVolume.boundingVolume})}}}function s(e){var t=e.featuresLength;if(!Object(u.a)(e._features)&&t>0){var i=new Array(t);Object(u.a)(e._geometries)&&e._geometries.createFeatures(e,i),e._features=i}}var c=i("Jj+J"),l=i("5A4e"),u=i("xC6Q"),h=i("6sr8"),d=i("PzDm"),f=i("Q+B7"),p=i("Xjii"),m=i("V22k"),g=i("S7OP"),_=i("sNK4"),v=i("9ZZ+");Object.defineProperties(n.prototype,{featuresLength:{get:function(){return Object(u.a)(this._batchTable)?this._batchTable.featuresLength:0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return Object(u.a)(this._geometries)?this._geometries.trianglesLength:0}},geometryByteLength:{get:function(){return Object(u.a)(this._geometries)?this._geometries.geometryByteLength:0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return Object(u.a)(this._batchTable)?this._batchTable.memorySizeInBytes:0}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){return this._batchTable}}});var b=Uint32Array.BYTES_PER_ELEMENT;n.prototype.hasProperty=function(e,t){return this._batchTable.hasProperty(e,t)},n.prototype.getFeature=function(e){var t=this.featuresLength;if(!Object(u.a)(e)||e<0||e>=t)throw new d.a("batchId is required and between zero and featuresLength - 1 ("+(t-1)+").");return s(this),this._features[e]},n.prototype.applyDebugSettings=function(e,t){Object(u.a)(this._geometries)&&this._geometries.applyDebugSettings(e,t)},n.prototype.applyStyle=function(e){s(this),Object(u.a)(this._geometries)&&this._geometries.applyStyle(e,this._features)},n.prototype.update=function(e,t){if(Object(u.a)(this._geometries)&&(this._geometries.classificationType=this._tileset.classificationType,this._geometries.debugWireframe=this._tileset.debugWireframe,this._geometries.update(t)),Object(u.a)(this._batchTable)&&this._geometries._ready&&this._batchTable.update(e,t),!Object(u.a)(this._contentReadyPromise)){var i=this;this._contentReadyPromise=this._geometries.readyPromise.then(function(){i._readyPromise.resolve(i)})}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._geometries=this._geometries&&this._geometries.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),Object(h.a)(this)},t.a=n},sNK4:function(e,t,i){"use strict";function n(e,t,i,n,o){this.featuresLength=t,this._translucentFeaturesLength=0;var s;Object(J.a)(i)&&(s=i.extensions),this._extensions=Object(Q.a)(s,{});var c=a(i);this._properties=c,this._batchTableHierarchy=r(this,i,n),this._batchTableBinaryProperties=l(t,c,n),this._showAlphaProperties=void 0,this._batchValues=void 0,this._batchValuesDirty=!1,this._batchTexture=void 0,this._defaultTexture=void 0,this._pickTexture=void 0,this._pickIds=[],this._content=e,this._colorChangedCallback=o;var u,h;if(t>0){var d=Math.min(t,ne.a.maximumTextureSize),f=Math.ceil(t/ne.a.maximumTextureSize),p=1/d,m=.5*p,g=1/f,_=.5*g;u=new V.a(d,f),h=new H.a(p,m,g,_)}this._textureDimensions=u,this._textureStep=h}function a(e){var t={};if(!Object(J.a)(e))return t;for(var i in e)e.hasOwnProperty(i)&&"HIERARCHY"!==i&&"extensions"!==i&&"extras"!==i&&(t[i]=Object(W.a)(e[i],!0));return t}function r(e,t,i){if(Object(J.a)(t)){var a=e._extensions["3DTILES_batch_table_hierarchy"],r=t.HIERARCHY;if(Object(J.a)(r)&&(n._deprecationWarning("batchTableHierarchyExtension","The batch table HIERARCHY property has been moved to an extension. Use extensions.3DTILES_batch_table_hierarchy instead."),e._extensions["3DTILES_batch_table_hierarchy"]=r,a=r),Object(J.a)(a))return o(a,i)}}function o(e,t){var i,n,a,r=e.instancesLength,o=e.classes,c=e.classIds,u=e.parentCounts,h=e.parentIds,d=r;Object(J.a)(c.byteOffset)&&(c.componentType=Object(Q.a)(c.componentType,X.a.UNSIGNED_SHORT),c.type=fe.a.SCALAR,a=Object(_e.a)(c),c=a.createArrayBufferView(t.buffer,t.byteOffset+c.byteOffset,r));var f;if(Object(J.a)(u))for(Object(J.a)(u.byteOffset)&&(u.componentType=Object(Q.a)(u.componentType,X.a.UNSIGNED_SHORT),u.type=fe.a.SCALAR,a=Object(_e.a)(u),u=a.createArrayBufferView(t.buffer,t.byteOffset+u.byteOffset,r)),f=new Uint16Array(r),d=0,i=0;i<r;++i)f[i]=d,d+=u[i];Object(J.a)(h)&&Object(J.a)(h.byteOffset)&&(h.componentType=Object(Q.a)(h.componentType,X.a.UNSIGNED_SHORT),h.type=fe.a.SCALAR,a=Object(_e.a)(h),h=a.createArrayBufferView(t.buffer,t.byteOffset+h.byteOffset,d));var p=o.length;for(i=0;i<p;++i){var m=o[i].length,g=o[i].instances,_=l(m,g,t);o[i].instances=Object(Y.a)(_,g)}var v=Object(U.a)(new Array(p),0),b=new Uint16Array(r);for(i=0;i<r;++i)n=c[i],b[i]=v[n],++v[n];var y={classes:o,classIds:c,classIndexes:b,parentCounts:u,parentIndexes:f,parentIds:h};return s(y),y}function s(e){var t=we;t.length=0;for(var i=e.classIds,n=i.length,a=0;a<n;++a)c(e,a,t)}function c(e,t,i){var n=e.parentCounts,a=e.parentIds,r=e.parentIndexes,o=e.classIds,s=o.length;if(Object(J.a)(a)){if(t>=s)throw new $.a("Parent index "+t+" exceeds the total number of instances: "+s);if(i.indexOf(t)>-1)throw new $.a("Circular dependency detected in the batch table hierarchy.");i.push(t);for(var l=Object(J.a)(n)?n[t]:1,u=Object(J.a)(n)?r[t]:t,h=0;h<l;++h){var d=a[u+h];d!==t&&c(e,d,i)}i.pop(t)}}function l(e,t,i){var n;for(var a in t)if(t.hasOwnProperty(a)){var r=t[a],o=r.byteOffset;if(Object(J.a)(o)){var s=r.componentType,c=r.type;if(!Object(J.a)(s))throw new ie.a("componentType is required.");if(!Object(J.a)(c))throw new ie.a("type is required.");if(!Object(J.a)(i))throw new ie.a("Property "+a+" requires a batch table binary.");var l=Object(_e.a)(r),u=l.componentsPerAttribute,h=l.classType,d=l.createArrayBufferView(i.buffer,i.byteOffset+o,e);Object(J.a)(n)||(n={}),n[a]={typedArray:d,componentCount:u,type:h}}}return n}function u(e){var t=e._textureDimensions;return t.x*t.y*4}function h(e){if(!Object(J.a)(e._batchValues)){var t=u(e),i=new Uint8Array(t);Object(U.a)(i,255),e._batchValues=i}return e._batchValues}function d(e){if(!Object(J.a)(e._showAlphaProperties)){var t=2*e.featuresLength,i=new Uint8Array(t);Object(U.a)(i,255),e._showAlphaProperties=i}return e._showAlphaProperties}function f(e,t){if(!Object(J.a)(e)||e<0||e>t)throw new $.a("batchId is required and between zero and featuresLength - 1 ("+t-NaN)}function p(e,t){var i=e.typedArray,n=e.componentCount;return 1===n?i[t]:e.type.unpack(i,t*n)}function m(e,t,i){var n=e.typedArray,a=e.componentCount;1===a?n[t]=i:e.type.pack(i,n,t*a)}function g(e,t,i){var n=e.classIds,a=e.parentCounts,r=e.parentIds,o=e.parentIndexes,s=n.length,c=Te;c.length=Math.max(c.length,s);var l=++Ce,u=Ae;for(u.length=0,u.push(t);u.length>0;)if(t=u.pop(),c[t]!==l){c[t]=l;var h=i(e,t);if(Object(J.a)(h))return h;for(var d=a[t],f=o[t],p=0;p<d;++p){var m=r[f+p];m!==t&&u.push(m)}}}function _(e,t,i){for(var n=!0;n;){var a=i(e,t);if(Object(J.a)(a))return a;var r=e.parentIds[t];n=r!==t,t=r}}function v(e,t,i){var n=e.parentCounts,a=e.parentIds;return Object(J.a)(a)?Object(J.a)(n)?g(e,t,i):_(e,t,i):i(e,t)}function b(e,t,i){var n=e._batchTableHierarchy,a=v(n,t,function(e,t){var n=e.classIds[t],a=e.classes[n].instances;if(Object(J.a)(a[i]))return!0});return Object(J.a)(a)}function y(e,t,i){v(e._batchTableHierarchy,t,function(e,t){var n=e.classIds[t],a=e.classes[n].instances;for(var r in a)a.hasOwnProperty(r)&&-1===i.indexOf(r)&&i.push(r)})}function O(e,t,i){return v(e._batchTableHierarchy,t,function(e,t){var n=e.classIds[t],a=e.classes[n],r=e.classIndexes[t],o=a.instances[i];if(Object(J.a)(o))return Object(J.a)(o.typedArray)?p(o,r):Object(W.a)(o[r],!0)})}function w(e,t,i,n){var a=e._batchTableHierarchy,r=v(a,t,function(e,a){var r=e.classIds[a],o=e.classes[r],s=e.classIndexes[a],c=o.instances[i];if(Object(J.a)(c)){if(a!==t)throw new $.a('Inherited property "'+i+'" is read-only.');return Object(J.a)(c.typedArray)?m(c,s,n):c[s]=Object(W.a)(n,!0),!0}});return Object(J.a)(r)}function x(e){return 1===e._textureDimensions.y?"uniform vec4 tile_textureStep; \nvec2 computeSt(float batchId) \n{ \n    float stepX = tile_textureStep.x; \n    float centerX = tile_textureStep.y; \n    return vec2(centerX + (batchId * stepX), 0.5); \n} \n":"uniform vec4 tile_textureStep; \nuniform vec2 tile_textureDimensions; \nvec2 computeSt(float batchId) \n{ \n    float stepX = tile_textureStep.x; \n    float centerX = tile_textureStep.y; \n    float stepY = tile_textureStep.z; \n    float centerY = tile_textureStep.w; \n    float xId = mod(batchId, tile_textureDimensions.x); \n    float yId = floor(batchId / tile_textureDimensions.x); \n    return vec2(centerX + (xId * stepX), centerY + (yId * stepY)); \n} \n"}function E(e,t){return e=le.a.replaceMain(e,"tile_main"),t?e+"uniform float tile_colorBlend; \nvoid tile_color(vec4 tile_featureColor) \n{ \n    tile_main(); \n    tile_featureColor = czm_gammaCorrect(tile_featureColor); \n    gl_FragColor.a *= tile_featureColor.a; \n    float highlight = ceil(tile_colorBlend); \n    gl_FragColor.rgb *= mix(tile_featureColor.rgb, vec3(1.0), highlight); \n} \n":e+"void tile_color(vec4 tile_featureColor) \n{ \n    tile_main(); \n} \n"}function T(e,t){for(var i,n="texture2D("+t,a=0,r=e.indexOf(n,a);r>-1;){for(var o=0,s=r;s<e.length;++s){var c=e.charAt(s);if("("===c)++o;else if(")"===c&&0===--o){i=s+1;break}}var l=e.slice(r,i),u="tile_diffuse_final("+l+", tile_diffuse)";e=e.slice(0,r)+u+e.slice(i),a=r+u.length,r=e.indexOf(n,a)}return e}function A(e,t,i){if(!Object(J.a)(t))return E(e,i);var n=new RegExp("(uniform|attribute|in)\\s+(vec[34]|sampler2D)\\s+"+t+";"),a=e.match(n);if(!Object(J.a)(a))return E(e,i);var r=a[0],o=a[2];e=le.a.replaceMain(e,"tile_main"),e=e.replace(r,"");var s;if("vec3"===o||"vec4"===o){var c="vec3"===o?"vec4("+t+", 1.0)":t,l="vec3"===o?"tile_diffuse.xyz":"tile_diffuse";n=new RegExp(t,"g"),e=e.replace(n,l),s="    vec4 source = "+c+"; \n    tile_diffuse = tile_diffuse_final(source, tile_featureColor); \n    tile_main(); \n"}else"sampler2D"===o&&(e=T(e,t),s="    tile_diffuse = tile_featureColor; \n    tile_main(); \n");return e="uniform float tile_colorBlend; \nvec4 tile_diffuse = vec4(1.0); \nbool isWhite(vec3 color) \n{ \n    return all(greaterThan(color, vec3(1.0 - czm_epsilon3))); \n} \nvec4 tile_diffuse_final(vec4 sourceDiffuse, vec4 tileDiffuse) \n{ \n    vec4 blendDiffuse = mix(sourceDiffuse, tileDiffuse, tile_colorBlend); \n    vec4 diffuse = isWhite(tileDiffuse.rgb) ? sourceDiffuse : blendDiffuse; \n    return vec4(diffuse.rgb, sourceDiffuse.a); \n} \n"+r+"\n"+e+"\nvoid tile_color(vec4 tile_featureColor) \n{ \n"+s,i&&(e+="    tile_featureColor = czm_gammaCorrect(tile_featureColor); \n    gl_FragColor.a *= tile_featureColor.a; \n    float highlight = ceil(tile_colorBlend); \n    gl_FragColor.rgb *= mix(tile_featureColor.rgb, vec3(1.0), highlight); \n"),e+="} \n"}function C(e){var t=e._content.tileset,i=t.colorBlendMode,n=t.colorBlendAmount;if(i===me.a.HIGHLIGHT)return 0;if(i===me.a.REPLACE)return 1;if(i===me.a.MIX)return ee.a.clamp(n,ee.a.EPSILON4,1);throw new $.a('Invalid color blend mode "'+i+'".')}function S(e){var t=e._translucentFeaturesLength;return 0===t?Se.ALL_OPAQUE:t===e.featuresLength?Se.ALL_TRANSLUCENT:Se.OPAQUE_AND_TRANSLUCENT}function j(e){var t=ae.a.shallowClone(e),i=t.pass===re.a.TRANSLUCENT;return t.uniformMap=Object(J.a)(t.uniformMap)?t.uniformMap:{},t.uniformMap.tile_translucentCommand=function(){return i},t}function P(e){var t=ae.a.shallowClone(e);return t.pass=re.a.TRANSLUCENT,t.renderState=N(e.renderState),t}function D(e){var t=ae.a.shallowClone(e);return t.renderState=F(e.renderState),t}function I(e,t){var i=e.shaderCache.getDerivedShaderProgram(t,"zBackfaceLogDepth");if(!Object(J.a)(i)){var n=t.fragmentShaderSource.clone();n.defines=Object(J.a)(n.defines)?n.defines.slice(0):[],n.defines.push("POLYGON_OFFSET"),n.sources.unshift("#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n"),i=e.shaderCache.createDerivedShaderProgram(t,"zBackfaceLogDepth",{vertexShaderSource:t.vertexShaderSource,fragmentShaderSource:n,attributeLocations:t._attributeLocations})}return i}function R(e,t){var i=ae.a.shallowClone(t),n=Object(W.a)(i.renderState,!0);n.cull.enabled=!0,n.cull.face=ge.a.FRONT,n.colorMask={red:!1,green:!1,blue:!1,alpha:!1},n.polygonOffset={enabled:!0,factor:5,units:5},n.stencilTest=ve.a.setCesium3DTileBit(),n.stencilMask=ve.a.CESIUM_3D_TILE_MASK,i.renderState=se.a.fromCache(n),i.castShadows=!1,i.receiveShadows=!1,i.uniformMap=Object(W.a)(t.uniformMap);var a=new V.a(5,5);return i.uniformMap.u_polygonOffset=function(){return a},i.shaderProgram=I(e,t.shaderProgram),i}function M(e,t){var i=ae.a.shallowClone(e),n=Object(W.a)(i.renderState,!0);return n.stencilTest.enabled=!0,n.stencilTest.mask=ve.a.SKIP_LOD_MASK,n.stencilTest.reference=ve.a.CESIUM_3D_TILE_MASK|t<<ve.a.SKIP_LOD_BIT_SHIFT,n.stencilTest.frontFunction=be.a.GREATER_OR_EQUAL,n.stencilTest.frontOperation.zPass=ye.a.REPLACE,n.stencilTest.backFunction=be.a.GREATER_OR_EQUAL,n.stencilTest.backOperation.zPass=ye.a.REPLACE,n.stencilMask=ve.a.CESIUM_3D_TILE_MASK|ve.a.SKIP_LOD_MASK,i.renderState=se.a.fromCache(n),i}function L(e){return(e.renderState.stencilTest.reference&ve.a.SKIP_LOD_MASK)>>>ve.a.SKIP_LOD_BIT_SHIFT}function N(e){var t=Object(W.a)(e,!0);return t.cull.enabled=!1,t.depthTest.enabled=!0,t.depthMask=!1,t.blending=pe.a.ALPHA_BLEND,se.a.fromCache(t)}function F(e){var t=Object(W.a)(e,!0);return t.stencilTest=ve.a.setCesium3DTileBit(),t.stencilMask=ve.a.CESIUM_3D_TILE_MASK,se.a.fromCache(t)}function z(e,t,i){var n=e._textureDimensions;return new ue.a({context:t,pixelFormat:te.a.RGBA,pixelDatatype:oe.a.UNSIGNED_BYTE,source:{width:n.x,height:n.y,arrayBufferView:i},flipY:!1,sampler:new ce.a({minificationFilter:de.a.NEAREST,magnificationFilter:he.a.NEAREST})})}function B(e,t){var i=e.featuresLength;if(!Object(J.a)(e._pickTexture)&&i>0){for(var n=e._pickIds,a=u(e),r=new Uint8Array(a),o=e._content,s=0;s<i;++s){var c=t.createPickId(o.getFeature(s));n.push(c);var l=c.color,h=4*s;r[h]=G.a.floatToByte(l.red),r[h+1]=G.a.floatToByte(l.green),r[h+2]=G.a.floatToByte(l.blue),r[h+3]=G.a.floatToByte(l.alpha)}e._pickTexture=z(e,t,r),o.tileset._statistics.batchTableByteLength+=e._pickTexture.sizeInBytes}}function k(e){var t=e._textureDimensions;e._batchTexture.copyFrom({width:t.x,height:t.y,arrayBufferView:e._batchValues})}var U=i("Sfsp"),V=i("Ss9j"),H=i("PDkd"),q=i("5F4X"),W=i("wv0P"),G=i("6F0S"),Y=i("ZboF"),X=i("YCZg"),Q=i("5A4e"),J=i("xC6Q"),Z=i("49Ew"),K=i("6sr8"),$=i("PzDm"),ee=i("fq+p"),te=i("FhYh"),ie=i("V22k"),ne=i("J1no"),ae=i("1mJh"),re=i("M0+0"),oe=i("HvCH"),se=i("DrvA"),ce=i("l0BX"),le=i("x6Ms"),ue=i("25X5"),he=i("YKq0"),de=i("z2iY"),fe=i("AP+J"),pe=i("OtDm"),me=i("TYbU"),ge=i("3fQz"),_e=i("qEhp"),ve=i("x0EE"),be=i("i0h9"),ye=i("9URA"),Oe=G.a.WHITE;n._deprecationWarning=Z.a,Object.defineProperties(n.prototype,{memorySizeInBytes:{get:function(){var e=0;return Object(J.a)(this._pickTexture)&&(e+=this._pickTexture.sizeInBytes),Object(J.a)(this._batchTexture)&&(e+=this._batchTexture.sizeInBytes),e}}});var we=[];n.getBinaryProperties=function(e,t,i){return l(e,t,i)},n.prototype.setShow=function(e,t){if(f(e,this.featuresLength),q.a.typeOf.bool("show",t),!t||Object(J.a)(this._showAlphaProperties)){var i=d(this),n=2*e,a=t?255:0;if(i[n]!==a){i[n]=a;h(this)[4*e+3]=t?i[n+1]:0,this._batchValuesDirty=!0}}},n.prototype.setAllShow=function(e){q.a.typeOf.bool("show",e);for(var t=this.featuresLength,i=0;i<t;++i)this.setShow(i,e)},n.prototype.getShow=function(e){if(f(e,this.featuresLength),!Object(J.a)(this._showAlphaProperties))return!0;var t=2*e;return 255===this._showAlphaProperties[t]};var xe=new Array(4);n.prototype.setColor=function(e,t){if(f(e,this.featuresLength),q.a.typeOf.object("color",t),!G.a.equals(t,Oe)||Object(J.a)(this._batchValues)){var i=t.toBytes(xe),n=i[3],a=h(this),r=4*e,o=d(this),s=2*e;if(a[r]!==i[0]||a[r+1]!==i[1]||a[r+2]!==i[2]||o[s+1]!==n){a[r]=i[0],a[r+1]=i[1],a[r+2]=i[2];var c=255!==o[s+1],l=0!==o[s];a[r+3]=l?n:0,o[s+1]=n;var u=255!==n;u&&!c?++this._translucentFeaturesLength:!u&&c&&--this._translucentFeaturesLength,this._batchValuesDirty=!0,Object(J.a)(this._colorChangedCallback)&&this._colorChangedCallback(e,t)}}},n.prototype.setAllColor=function(e){q.a.typeOf.object("color",e);for(var t=this.featuresLength,i=0;i<t;++i)this.setColor(i,e)},n.prototype.getColor=function(e,t){if(f(e,this.featuresLength),q.a.typeOf.object("result",t),!Object(J.a)(this._batchValues))return G.a.clone(Oe,t);var i=this._batchValues,n=4*e,a=this._showAlphaProperties,r=2*e;return G.a.fromBytes(i[n],i[n+1],i[n+2],a[r+1],t)},n.prototype.getPickColor=function(e){return f(e,this.featuresLength),this._pickIds[e]};var Ee=new G.a;n.prototype.applyStyle=function(e){if(!Object(J.a)(e))return this.setAllColor(Oe),void this.setAllShow(!0);for(var t=this._content,i=this.featuresLength,n=0;n<i;++n){var a=t.getFeature(n),r=Object(J.a)(e.color)?e.color.evaluateColor(a,Ee):Oe,o=!Object(J.a)(e.show)||e.show.evaluate(a);this.setColor(n,r),this.setShow(n,o)}};var Te=[],Ae=[],Ce=0;n.prototype.isClass=function(e,t){f(e,this.featuresLength),q.a.typeOf.string("className",t);var i=this._batchTableHierarchy;if(!Object(J.a)(i))return!1;var n=v(i,e,function(e,i){var n=e.classIds[i];if(e.classes[n].name===t)return!0});return Object(J.a)(n)},n.prototype.isExactClass=function(e,t){return q.a.typeOf.string("className",t),this.getExactClassName(e)===t},n.prototype.getExactClassName=function(e){f(e,this.featuresLength);var t=this._batchTableHierarchy;if(Object(J.a)(t)){var i=t.classIds[e];return t.classes[i].name}},n.prototype.hasProperty=function(e,t){return f(e,this.featuresLength),q.a.typeOf.string("name",t),Object(J.a)(this._properties[t])||Object(J.a)(this._batchTableHierarchy)&&b(this,e,t)},n.prototype.getPropertyNames=function(e,t){f(e,this.featuresLength),t=Object(J.a)(t)?t:[],t.length=0;var i=Object.keys(this._properties);return t.push.apply(t,i),Object(J.a)(this._batchTableHierarchy)&&y(this,e,t),t},n.prototype.getProperty=function(e,t){if(f(e,this.featuresLength),q.a.typeOf.string("name",t),Object(J.a)(this._batchTableBinaryProperties)){var i=this._batchTableBinaryProperties[t];if(Object(J.a)(i))return p(i,e)}var n=this._properties[t];if(Object(J.a)(n))return Object(W.a)(n[e],!0);if(Object(J.a)(this._batchTableHierarchy)){var a=O(this,e,t);if(Object(J.a)(a))return a}},n.prototype.setProperty=function(e,t,i){var n=this.featuresLength;if(f(e,n),q.a.typeOf.string("name",t),Object(J.a)(this._batchTableBinaryProperties)){var a=this._batchTableBinaryProperties[t];if(Object(J.a)(a))return void m(a,e,i)}if(!Object(J.a)(this._batchTableHierarchy)||!w(this,e,t,i)){var r=this._properties[t];Object(J.a)(r)||(this._properties[t]=new Array(n),r=this._properties[t]),r[e]=Object(W.a)(i,!0)}},n.prototype.getVertexShaderCallback=function(e,t,i){if(0!==this.featuresLength){var n=this;return function(a){var r,o=A(a,i,!1);return ne.a.maximumVertexTextureImageUnits>0?(r="",e&&(r+="uniform bool tile_translucentCommand; \n"),r+="uniform sampler2D tile_batchTexture; \nvarying vec4 tile_featureColor; \nvarying vec2 tile_featureSt; \nvoid main() \n{ \n    vec2 st = computeSt("+t+"); \n    vec4 featureProperties = texture2D(tile_batchTexture, st); \n    tile_color(featureProperties); \n    float show = ceil(featureProperties.a); \n    gl_Position *= show; \n",e&&(r+="    bool isStyleTranslucent = (featureProperties.a != 1.0); \n    if (czm_pass == czm_passTranslucent) \n    { \n        if (!isStyleTranslucent && !tile_translucentCommand) \n        { \n            gl_Position *= 0.0; \n        } \n    } \n    else \n    { \n        if (isStyleTranslucent) \n        { \n            gl_Position *= 0.0; \n        } \n    } \n"),r+="    tile_featureColor = featureProperties; \n    tile_featureSt = st; \n}"):r="varying vec2 tile_featureSt; \nvoid main() \n{ \n    tile_color(vec4(1.0)); \n    tile_featureSt = computeSt("+t+"); \n}",o+"\n"+x(n)+r}}},n.prototype.getFragmentShaderCallback=function(e,t){if(0!==this.featuresLength)return function(i){return i=A(i,t,!0),ne.a.maximumVertexTextureImageUnits>0?i+="uniform sampler2D tile_pickTexture; \nvarying vec2 tile_featureSt; \nvarying vec4 tile_featureColor; \nvoid main() \n{ \n    tile_color(tile_featureColor); \n}":(e&&(i+="uniform bool tile_translucentCommand; \n"),i+="uniform sampler2D tile_pickTexture; \nuniform sampler2D tile_batchTexture; \nvarying vec2 tile_featureSt; \nvoid main() \n{ \n    vec4 featureProperties = texture2D(tile_batchTexture, tile_featureSt); \n    if (featureProperties.a == 0.0) { \n        discard; \n    } \n",e&&(i+="    bool isStyleTranslucent = (featureProperties.a != 1.0); \n    if (czm_pass == czm_passTranslucent) \n    { \n        if (!isStyleTranslucent && !tile_translucentCommand) \n        { \n            discard; \n        } \n    } \n    else \n    { \n        if (isStyleTranslucent) \n        { \n            discard; \n        } \n    } \n"),i+="    tile_color(featureProperties); \n} \n"),i}},n.prototype.getClassificationFragmentShaderCallback=function(){if(0!==this.featuresLength)return function(e){return e=le.a.replaceMain(e,"tile_main"),ne.a.maximumVertexTextureImageUnits>0?e+="uniform sampler2D tile_pickTexture;\nvarying vec2 tile_featureSt; \nvarying vec4 tile_featureColor; \nvoid main() \n{ \n    tile_main(); \n    gl_FragColor = tile_featureColor; \n}":e+="uniform sampler2D tile_batchTexture; \nuniform sampler2D tile_pickTexture;\nvarying vec2 tile_featureSt; \nvoid main() \n{ \n    tile_main(); \n    vec4 featureProperties = texture2D(tile_batchTexture, tile_featureSt); \n    if (featureProperties.a == 0.0) { \n        discard; \n    } \n    gl_FragColor = featureProperties; \n} \n",e}},n.prototype.getUniformMapCallback=function(){if(0!==this.featuresLength){var e=this;return function(t){var i={tile_batchTexture:function(){return Object(Q.a)(e._batchTexture,e._defaultTexture)},tile_textureDimensions:function(){return e._textureDimensions},tile_textureStep:function(){return e._textureStep},tile_colorBlend:function(){return C(e)},tile_pickTexture:function(){return e._pickTexture}};return Object(Y.a)(t,i)}}},n.prototype.getPickId=function(){return"texture2D(tile_pickTexture, tile_featureSt)"};var Se={ALL_OPAQUE:0,ALL_TRANSLUCENT:1,OPAQUE_AND_TRANSLUCENT:2};n.prototype.addDerivedCommands=function(e,t){for(var i=e.commandList,n=i.length,a=this._content._tile,r=a._finalResolution,o=a.tileset,s=o._skipLevelOfDetail&&o._hasMixedContent&&e.context.stencilBuffer,c=S(this),l=t;l<n;++l){var u=i[l],h=u.derivedCommands.tileset;Object(J.a)(h)&&!u.dirty||(h={},u.derivedCommands.tileset=h,h.originalCommand=j(u),u.dirty=!1);var d=h.originalCommand;c!==Se.ALL_OPAQUE&&u.pass!==re.a.TRANSLUCENT&&(Object(J.a)(h.translucent)||(h.translucent=P(d))),c!==Se.ALL_TRANSLUCENT&&u.pass!==re.a.TRANSLUCENT&&(Object(J.a)(h.opaque)||(h.opaque=D(d)),s&&(r||(Object(J.a)(h.zback)||(h.zback=R(e.context,d)),o._backfaceCommands.push(h.zback)),Object(J.a)(h.stencil)&&a._selectionDepth===L(h.stencil)||(u.renderState.depthMask?h.stencil=M(d,a._selectionDepth):h.stencil=h.opaque)));var f=s?h.stencil:h.opaque,p=h.translucent;u.pass!==re.a.TRANSLUCENT?(c===Se.ALL_OPAQUE&&(i[l]=f),c===Se.ALL_TRANSLUCENT&&(i[l]=p),c===Se.OPAQUE_AND_TRANSLUCENT&&(i[l]=f,i.push(p))):i[l]=d}},n.prototype.update=function(e,t){var i=t.context;this._defaultTexture=i.defaultTexture;var n=t.passes;(n.pick||n.postProcess)&&B(this,i),this._batchValuesDirty&&(this._batchValuesDirty=!1,Object(J.a)(this._batchTexture)||(this._batchTexture=z(this,i,this._batchValues),e._statistics.batchTableByteLength+=this._batchTexture.sizeInBytes),k(this))},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){this._batchTexture=this._batchTexture&&this._batchTexture.destroy(),this._pickTexture=this._pickTexture&&this._pickTexture.destroy();for(var e=this._pickIds,t=e.length,i=0;i<t;++i)e[i].destroy();return Object(K.a)(this)},t.a=n},sRds:function(e,t,i){"use strict";function n(e){e=Object(I.a)(e,I.a.EMPTY_OBJECT),P.a.defined("options.url",e.url),this._url=void 0,this._basePath=void 0,this._root=void 0,this._asset=void 0,this._properties=void 0,this._geometricError=void 0,this._extensionsUsed=void 0,this._gltfUpAxis=void 0,this._cache=new ne.a,this._processingQueue=[],this._selectedTiles=[],this._emptyTiles=[],this._requestedTiles=[],this._selectedTilesToStyle=[],this._loadTimestamp=void 0,this._timeSinceLoad=0,this._updatedVisibilityFrame=0,this._updatedModelMatrixFrame=0,this._modelMatrixChanged=!1,this._previousModelMatrix=void 0,this._extras=void 0,this._credits=void 0,this._cullWithChildrenBounds=Object(I.a)(e.cullWithChildrenBounds,!0),this._allTilesAdditive=!0,this._hasMixedContent=!1,this._stencilClearCommand=void 0,this._backfaceCommands=new k.a,this._maximumScreenSpaceError=Object(I.a)(e.maximumScreenSpaceError,16),this._maximumMemoryUsage=Object(I.a)(e.maximumMemoryUsage,512),this._styleEngine=new oe.a,this._modelMatrix=Object(R.a)(e.modelMatrix)?V.a.clone(e.modelMatrix):V.a.clone(V.a.IDENTITY),this._statistics=new re.a,this._statisticsLast=new re.a,this._statisticsPerPass=new Array(te.a.NUMBER_OF_PASSES);for(var t=0;t<te.a.NUMBER_OF_PASSES;++t)this._statisticsPerPass[t]=new re.a;this._requestedTilesInFlight=[],this._maximumPriority={foveatedFactor:-Number.MAX_VALUE,depth:-Number.MAX_VALUE,distance:-Number.MAX_VALUE,reverseScreenSpaceError:-Number.MAX_VALUE},this._minimumPriority={foveatedFactor:Number.MAX_VALUE,depth:Number.MAX_VALUE,distance:Number.MAX_VALUE,reverseScreenSpaceError:Number.MAX_VALUE},this._heatmap=new ae.a(e.debugHeatmapTilePropertyName),this.cullRequestsWhileMoving=Object(I.a)(e.cullRequestsWhileMoving,!0),this._cullRequestsWhileMoving=!1,this.cullRequestsWhileMovingMultiplier=Object(I.a)(e.cullRequestsWhileMovingMultiplier,60),this.progressiveResolutionHeightFraction=U.a.clamp(Object(I.a)(e.progressiveResolutionHeightFraction,.3),0,.5),this.preferLeaves=Object(I.a)(e.preferLeaves,!1),this._tilesLoaded=!1,this._initialTilesLoaded=!1,this._tileDebugLabels=void 0,this._readyPromise=Q.a.defer(),this._classificationType=e.classificationType,this._ellipsoid=Object(I.a)(e.ellipsoid,F.a.WGS84),this._initialClippingPlanesOriginMatrix=V.a.IDENTITY,this._clippingPlanesOriginMatrix=void 0,this._clippingPlanesOriginMatrixDirty=!0,this.preloadWhenHidden=Object(I.a)(e.preloadWhenHidden,!1),this.preloadFlightDestinations=Object(I.a)(e.preloadFlightDestinations,!0),this._pass=void 0,this.dynamicScreenSpaceError=Object(I.a)(e.dynamicScreenSpaceError,!1),this.foveatedScreenSpaceError=Object(I.a)(e.foveatedScreenSpaceError,!0),this._foveatedConeSize=Object(I.a)(e.foveatedConeSize,.1),this._foveatedMinimumScreenSpaceErrorRelaxation=Object(I.a)(e.foveatedMinimumScreenSpaceErrorRelaxation,0),this.foveatedInterpolationCallback=Object(I.a)(e.foveatedInterpolationCallback,U.a.lerp),this.foveatedTimeDelay=Object(I.a)(e.foveatedTimeDelay,.2),this.dynamicScreenSpaceErrorDensity=.00278,this.dynamicScreenSpaceErrorFactor=4,this.dynamicScreenSpaceErrorHeightFalloff=.25,this._dynamicScreenSpaceErrorComputedDensity=0,this.shadows=Object(I.a)(e.shadows,de.a.ENABLED),this.show=Object(I.a)(e.show,!0),this.colorBlendMode=K.a.HIGHLIGHT,this.colorBlendAmount=.5,this.pointCloudShading=new ue.a(e.pointCloudShading),this._pointCloudEyeDomeLighting=new le.a,this.loadProgress=new z.a,this.allTilesLoaded=new z.a,this.initialTilesLoaded=new z.a,this.tileLoad=new z.a,this.tileUnload=new z.a,this.tileFailed=new z.a,this.tileVisible=new z.a,this.skipLevelOfDetail=Object(I.a)(e.skipLevelOfDetail,!1),this._skipLevelOfDetail=this.skipLevelOfDetail,this._disableSkipLevelOfDetail=!1,this.baseScreenSpaceError=Object(I.a)(e.baseScreenSpaceError,1024),this.skipScreenSpaceErrorFactor=Object(I.a)(e.skipScreenSpaceErrorFactor,16),this.skipLevels=Object(I.a)(e.skipLevels,1),this.immediatelyLoadDesiredLevelOfDetail=Object(I.a)(e.immediatelyLoadDesiredLevelOfDetail,!1),this.loadSiblings=Object(I.a)(e.loadSiblings,!1),this._clippingPlanes=void 0,this.clippingPlanes=e.clippingPlanes,this._imageBasedLightingFactor=new C.a(1,1),C.a.clone(e.imageBasedLightingFactor,this._imageBasedLightingFactor),this.lightColor=e.lightColor,this.luminanceAtZenith=Object(I.a)(e.luminanceAtZenith,.2),this.sphericalHarmonicCoefficients=e.sphericalHarmonicCoefficients,this.specularEnvironmentMaps=e.specularEnvironmentMaps,this.debugFreezeFrame=Object(I.a)(e.debugFreezeFrame,!1),this.debugColorizeTiles=Object(I.a)(e.debugColorizeTiles,!1),this.debugWireframe=Object(I.a)(e.debugWireframe,!1),this.debugShowBoundingVolume=Object(I.a)(e.debugShowBoundingVolume,!1),this.debugShowContentBoundingVolume=Object(I.a)(e.debugShowContentBoundingVolume,!1),this.debugShowViewerRequestVolume=Object(I.a)(e.debugShowViewerRequestVolume,!1),this._tileDebugLabels=void 0,this.debugPickedTileLabelOnly=!1,this.debugPickedTile=void 0,this.debugPickPosition=void 0,this.debugShowGeometricError=Object(I.a)(e.debugShowGeometricError,!1),this.debugShowRenderingStatistics=Object(I.a)(e.debugShowRenderingStatistics,!1),this.debugShowMemoryUsage=Object(I.a)(e.debugShowMemoryUsage,!1),this.debugShowUrl=Object(I.a)(e.debugShowUrl,!1);var i,a=this;Object(Q.a)(e.url).then(function(e){var t;return i=H.a.createIfNeeded(e),a._credits=i.credits,"json"===i.extension?t=i.getBaseUri(!0):i.isDataUri&&(t=""),a._url=i.url,a._basePath=t,n.loadJson(i)}).then(function(e){a._root=a.loadTileset(i,e);var t=Object(R.a)(e.asset.gltfUpAxis)?J.a.fromName(e.asset.gltfUpAxis):J.a.Y,n=e.asset;a._asset=n,a._properties=e.properties,a._geometricError=e.geometricError,a._extensionsUsed=e.extensionsUsed,a._gltfUpAxis=t,a._extras=e.extras;var r=n.extras;if(Object(R.a)(r)&&Object(R.a)(r.cesium)&&Object(R.a)(r.cesium.credits)){var o=r.cesium.credits,s=a._credits;Object(R.a)(s)||(s=[],a._credits=s);for(var c=0;c<o.length;++c){var l=o[c];s.push(new D.a(l.html,l.showOnScreen))}}var u=a._root.createBoundingVolume(e.root.boundingVolume,V.a.IDENTITY),h=u.boundingSphere.center,d=a._ellipsoid.cartesianToCartographic(h);Object(R.a)(d)&&d.height>A.a._defaultMinTerrainHeight&&(a._initialClippingPlanesOriginMatrix=W.a.eastNorthUpToFixedFrame(h)),a._clippingPlanesOriginMatrix=V.a.clone(a._initialClippingPlanesOriginMatrix),a._readyPromise.resolve(a)}).otherwise(function(e){a._readyPromise.reject(e)})}function a(e,t){var i,n,a,r,o,s=t.camera,c=e._root,l=c.contentBoundingVolume;if(l instanceof pe.a)i=S.a.normalize(s.positionWC,_e),n=s.directionWC,a=s.positionCartographic.height,r=l.minimumHeight,o=l.maximumHeight;else{var u=V.a.inverseTransformation(c.computedTransform,be),h=t.mapProjection.ellipsoid,d=l.boundingVolume,f=V.a.multiplyByPoint(u,d.center,ye);if(S.a.magnitude(f)>h.minimumRadius){var p=j.a.fromCartesian(f,h,ve);i=S.a.normalize(s.positionWC,_e),n=s.directionWC,a=s.positionCartographic.height,r=0,o=2*p.height}else{var m=V.a.multiplyByPoint(u,s.positionWC,Oe);if(i=S.a.UNIT_Z,n=V.a.multiplyByPointAsVector(u,s.directionWC,we),n=S.a.normalize(n,n),a=m.z,l instanceof ge.a){var g=c._header.boundingVolume.box[11];r=f.z-g,o=f.z+g}else if(l instanceof me.a){var _=d.radius;r=f.z-_,o=f.z+_}}}var v=e.dynamicScreenSpaceErrorHeightFalloff,b=r+(o-r)*v,y=o,O=U.a.clamp((a-b)/(y-b),0,1),w=Math.abs(S.a.dot(n,i)),x=1-w;x*=1-O;var E=e.dynamicScreenSpaceErrorDensity;E*=x,e._dynamicScreenSpaceErrorComputedDensity=E}function r(e,t){if(!t.hasEmptyContent){var i=e._statistics,n=t.contentExpired;if(!t.requestContent())return void++i.numberOfAttemptedRequests;n&&(t.hasTilesetContent?b(e,t):(i.decrementLoadCounts(t.content),--i.numberOfTilesWithContentReady)),++i.numberOfPendingRequests,e._requestedTilesInFlight.push(t),t.contentReadyToProcessPromise.then(l(e,t)),t.contentReadyPromise.then(h(e,t)).otherwise(u(e,t))}}function o(e,t){return e._priority-t._priority}function s(e,t){for(var i=e._requestedTilesInFlight,n=0,a=i.length,r=0;r<a;++r){var o=i[r],s=t.frameNumber-o._touchedFrame>=1;o._contentState===$.a.LOADING?s?(o._request.cancel(),++n):n>0&&(i[r-n]=o):++n}i.length-=n}function c(e,t){var i=e._requestedTiles,n=i.length;i.sort(o);for(var a=0;a<n;++a)r(e,i[a])}function l(e,t){return function(){e._processingQueue.push(t),--e._statistics.numberOfPendingRequests,++e._statistics.numberOfTilesProcessing}}function u(e,t){return function(i){var n=t._contentResource.url,a=Object(R.a)(i.message)?i.message:i.toString();e.tileFailed.numberOfListeners>0?e.tileFailed.raiseEvent({url:n,message:a}):(console.log("A 3D tile failed to load: "+n),console.log("Error: "+a))}}function h(e,t){return function(){--e._statistics.numberOfTilesProcessing,t.hasTilesetContent||(e._statistics.incrementLoadCounts(t.content),++e._statistics.numberOfTilesWithContentReady,++e._statistics.numberOfLoadedTilesTotal,e._cache.add(t)),e.tileLoad.raiseEvent(t)}}function d(e){for(var t=e._processingQueue,i=t.length,n=0,a=0;a<i;++a){var r=t[a];r._contentState===$.a.PROCESSING?n>0&&(t[a-n]=r):++n}t.length-=n}function f(e,t){d(e);for(var i=e._processingQueue,n=i.length,a=0;a<n;++a)i[a].process(e,t)}function p(e){var t=e/1048576;return t<1?t.toLocaleString(void 0,Ee):Math.round(t).toLocaleString()}function m(e){var t=e.boundingVolume.boundingVolume,i=t.halfAxes,n=t.radius,a=S.a.clone(t.center,xe);if(Object(R.a)(i))a.x+=.75*(i[0]+i[3]+i[6]),a.y+=.75*(i[1]+i[4]+i[7]),a.z+=.75*(i[2]+i[5]+i[8]);else if(Object(R.a)(n)){var r=S.a.normalize(t.center,xe);r=S.a.multiplyByScalar(r,.75*n,xe),a=S.a.add(r,t.center,xe)}return a}function g(e,t,i){var n="",a=0;if(t.debugShowGeometricError&&(n+="\nGeometric error: "+e.geometricError,a++),t.debugShowRenderingStatistics){n+="\nCommands: "+e.commandsLength,a++;e.content.pointsLength>0&&(n+="\nPoints: "+e.content.pointsLength,a++);e.content.trianglesLength>0&&(n+="\nTriangles: "+e.content.trianglesLength,a++),n+="\nFeatures: "+e.content.featuresLength,a++}t.debugShowMemoryUsage&&(n+="\nTexture Memory: "+p(e.content.texturesByteLength),n+="\nGeometry Memory: "+p(e.content.geometryByteLength),a+=2),t.debugShowUrl&&(n+="\nUrl: "+e._header.content.uri,a++);var r={text:n.substring(1),position:i,font:19-a+"px sans-serif",showBackground:!0,disableDepthTestDistance:Number.POSITIVE_INFINITY};return t._tileDebugLabels.add(r)}function _(e,t){var i,n,a=e._selectedTiles,r=a.length,o=e._emptyTiles,s=o.length;if(e._tileDebugLabels.removeAll(),e.debugPickedTileLabelOnly){if(Object(R.a)(e.debugPickedTile)){var c=Object(R.a)(e.debugPickPosition)?e.debugPickPosition:m(e.debugPickedTile),l=g(e.debugPickedTile,e,c);l.pixelOffset=new C.a(15,-15)}}else{for(i=0;i<r;++i)n=a[i],g(n,e,m(n));for(i=0;i<s;++i)n=o[i],n.hasTilesetContent&&g(n,e,m(n))}e._tileDebugLabels.update(t)}function v(e,t,i){e._styleEngine.applyStyle(e,i);var n,a,r=i.isRender,o=e._statistics,s=t.commandList,c=s.length,l=e._selectedTiles,u=l.length,h=e._emptyTiles,d=h.length,f=e.tileVisible,p=e._skipLevelOfDetail&&e._hasMixedContent&&t.context.stencilBuffer&&u>0;e._backfaceCommands.length=0,p&&(Object(R.a)(e._stencilClearCommand)||(e._stencilClearCommand=new G.a({stencil:0,pass:Y.a.CESIUM_3D_TILE,renderState:X.a.fromCache({stencilMask:fe.a.SKIP_LOD_MASK})})),s.push(e._stencilClearCommand));var m=s.length;for(n=0;n<u;++n)a=l[n],r&&f.raiseEvent(a),a.update(e,t,i),o.incrementSelectionCounts(a.content),++o.selected;for(n=0;n<d;++n)a=h[n],a.update(e,t,i);var g=s.length-m;if(e._backfaceCommands.trim(),p){var v=e._backfaceCommands.values,b=v.length;for(s.length+=b,n=g-1;n>=0;--n)s[m+b+n]=s[m+n];for(n=0;n<b;++n)s[m+n]=v[n]}g=s.length-c,o.numberOfCommands=g,r&&e.pointCloudShading.attenuation&&e.pointCloudShading.eyeDomeLighting&&g>0&&e._pointCloudEyeDomeLighting.update(t,c,e.pointCloudShading),r&&(e.debugShowGeometricError||e.debugShowRenderingStatistics||e.debugShowMemoryUsage||e.debugShowUrl?(Object(R.a)(e._tileDebugLabels)||(e._tileDebugLabels=new ce.a),_(e,t)):e._tileDebugLabels=e._tileDebugLabels&&e._tileDebugLabels.destroy())}function b(e,t){var i=t,n=Te;for(n.push(t);n.length>0;){t=n.pop();for(var a=t.children,r=a.length,o=0;o<r;++o)n.push(a[o]);t!==i&&(O(e,t),--e._statistics.numberOfTilesTotal)}i.children=[]}function y(e,t){e.tileUnload.raiseEvent(t),e._statistics.decrementLoadCounts(t.content),--e._statistics.numberOfTilesWithContentReady,t.unloadContent()}function O(e,t){e._cache.unloadTile(e,t,y),t.destroy()}function w(e,t){var i=e._statistics,n=e._statisticsLast,a=i.numberOfPendingRequests,r=i.numberOfTilesProcessing,o=n.numberOfPendingRequests,s=n.numberOfTilesProcessing;re.a.clone(i,n);var c=a!==o||r!==s;c&&t.afterRender.push(function(){e.loadProgress.raiseEvent(a,r)}),e._tilesLoaded=0===i.numberOfPendingRequests&&0===i.numberOfTilesProcessing&&0===i.numberOfAttemptedRequests,c&&e._tilesLoaded&&(t.afterRender.push(function(){e.allTilesLoaded.raiseEvent()}),e._initialTilesLoaded||(e._initialTilesLoaded=!0,t.afterRender.push(function(){e.initialTilesLoaded.raiseEvent()})))}function x(e){e._heatmap.resetMinimumMaximum(),e._minimumPriority.depth=Number.MAX_VALUE,e._maximumPriority.depth=-Number.MAX_VALUE,e._minimumPriority.foveatedFactor=Number.MAX_VALUE,e._maximumPriority.foveatedFactor=-Number.MAX_VALUE,e._minimumPriority.distance=Number.MAX_VALUE,e._maximumPriority.distance=-Number.MAX_VALUE,e._minimumPriority.reverseScreenSpaceError=Number.MAX_VALUE,e._maximumPriority.reverseScreenSpaceError=-Number.MAX_VALUE}function E(e,t){t.frameNumber===e._updatedModelMatrixFrame&&Object(R.a)(e._previousModelMatrix)||(e._updatedModelMatrixFrame=t.frameNumber,e._modelMatrixChanged=!V.a.equals(e.modelMatrix,e._previousModelMatrix),e._previousModelMatrix=V.a.clone(e.modelMatrix,e._previousModelMatrix))}function T(e,t,i,n){if(t.mode===he.a.MORPHING)return!1;if(!e.ready)return!1;var a=e._statistics;a.clear();var r=n.isRender;++e._updatedVisibilityFrame,x(e),E(e,t),e._cullRequestsWhileMoving=e.cullRequestsWhileMoving&&!e._modelMatrixChanged;var o=n.traversal.selectTiles(e,t);if(n.requestTiles&&c(e),v(e,t,n),re.a.clone(a,i),r){var s=e._credits;if(Object(R.a)(s)&&0!==a.selected)for(var l=s.length,u=0;u<l;++u)t.creditDisplay.addCredit(s[u])}return o}var A=i("DPkk"),C=i("Ss9j"),S=i("Jj+J"),j=i("I3GD"),P=i("5F4X"),D=i("ODTd"),I=i("5A4e"),R=i("xC6Q"),M=i("49Ew"),L=i("6sr8"),N=i("PzDm"),F=i("y6fO"),z=i("W6xh"),B=i("9Uqs"),k=i("sntn"),U=i("fq+p"),V=i("Xjii"),H=i("rMjQ"),q=i("V22k"),W=i("g/FO"),G=i("/DUn"),Y=i("M0+0"),X=i("DrvA"),Q=i("S7OP"),J=i("gsn9"),Z=i("KIL7"),K=i("TYbU"),$=i("R5dd"),ee=i("izBM"),te=i("2Fo0"),ie=i("Qv/e"),ne=i("B1z7"),ae=i("hTiu"),re=i("WgMS"),oe=i("3jm5"),se=i("Jl4s"),ce=i("UdIQ"),le=i("uE/L"),ue=i("0OY+"),he=i("sotJ"),de=i("ARzC"),fe=i("x0EE"),pe=i("JozK"),me=i("F8sz"),ge=i("dp99");Object.defineProperties(n.prototype,{isCesium3DTileset:{get:function(){return!0}},asset:{get:function(){if(!this.ready)throw new N.a("The tileset is not loaded.  Use Cesium3DTileset.readyPromise or wait for Cesium3DTileset.ready to be true.");return this._asset}},clippingPlanes:{get:function(){return this._clippingPlanes},set:function(e){se.a.setOwner(e,this,"_clippingPlanes")}},properties:{get:function(){if(!this.ready)throw new N.a("The tileset is not loaded.  Use Cesium3DTileset.readyPromise or wait for Cesium3DTileset.ready to be true.");return this._properties}},ready:{get:function(){return Object(R.a)(this._root)}},readyPromise:{get:function(){return this._readyPromise.promise}},tilesLoaded:{get:function(){return this._tilesLoaded}},url:{get:function(){return this._url}},basePath:{get:function(){return Object(M.a)("Cesium3DTileset.basePath","Cesium3DTileset.basePath has been deprecated. All tiles are relative to the url of the tileset JSON file that contains them. Use the url property instead."),this._basePath}},style:{get:function(){return this._styleEngine.style},set:function(e){this._styleEngine.style=e}},maximumScreenSpaceError:{get:function(){return this._maximumScreenSpaceError},set:function(e){P.a.typeOf.number.greaterThanOrEquals("maximumScreenSpaceError",e,0),this._maximumScreenSpaceError=e}},maximumMemoryUsage:{get:function(){return this._maximumMemoryUsage},set:function(e){P.a.typeOf.number.greaterThanOrEquals("value",e,0),this._maximumMemoryUsage=e}},root:{get:function(){if(!this.ready)throw new N.a("The tileset is not loaded.  Use Cesium3DTileset.readyPromise or wait for Cesium3DTileset.ready to be true.");return this._root}},boundingSphere:{get:function(){if(!this.ready)throw new N.a("The tileset is not loaded.  Use Cesium3DTileset.readyPromise or wait for Cesium3DTileset.ready to be true.");return this._root.updateTransform(this._modelMatrix),this._root.boundingSphere}},modelMatrix:{get:function(){return this._modelMatrix},set:function(e){this._modelMatrix=V.a.clone(e,this._modelMatrix)}},timeSinceLoad:{get:function(){return this._timeSinceLoad}},totalMemoryUsageInBytes:{get:function(){var e=this._statistics;return e.texturesByteLength+e.geometryByteLength+e.batchTableByteLength}},clippingPlanesOriginMatrix:{get:function(){return Object(R.a)(this._clippingPlanesOriginMatrix)?(this._clippingPlanesOriginMatrixDirty&&(V.a.multiply(this.root.computedTransform,this._initialClippingPlanesOriginMatrix,this._clippingPlanesOriginMatrix),this._clippingPlanesOriginMatrixDirty=!1),this._clippingPlanesOriginMatrix):V.a.IDENTITY}},styleEngine:{get:function(){return this._styleEngine}},statistics:{get:function(){return this._statistics}},classificationType:{get:function(){return this._classificationType}},ellipsoid:{get:function(){return this._ellipsoid}},foveatedConeSize:{get:function(){return this._foveatedConeSize},set:function(e){P.a.typeOf.number.greaterThanOrEquals("foveatedConeSize",e,0),P.a.typeOf.number.lessThanOrEquals("foveatedConeSize",e,1),this._foveatedConeSize=e}},foveatedMinimumScreenSpaceErrorRelaxation:{get:function(){return this._foveatedMinimumScreenSpaceErrorRelaxation},set:function(e){P.a.typeOf.number.greaterThanOrEquals("foveatedMinimumScreenSpaceErrorRelaxation",e,0),P.a.typeOf.number.lessThanOrEquals("foveatedMinimumScreenSpaceErrorRelaxation",e,this.maximumScreenSpaceError),this._foveatedMinimumScreenSpaceErrorRelaxation=e}},extras:{get:function(){if(!this.ready)throw new N.a("The tileset is not loaded.  Use Cesium3DTileset.readyPromise or wait for Cesium3DTileset.ready to be true.");return this._extras}},imageBasedLightingFactor:{get:function(){return this._imageBasedLightingFactor},set:function(e){P.a.typeOf.object("imageBasedLightingFactor",e),P.a.typeOf.number.greaterThanOrEquals("imageBasedLightingFactor.x",e.x,0),P.a.typeOf.number.lessThanOrEquals("imageBasedLightingFactor.x",e.x,1),P.a.typeOf.number.greaterThanOrEquals("imageBasedLightingFactor.y",e.y,0),P.a.typeOf.number.lessThanOrEquals("imageBasedLightingFactor.y",e.y,1),C.a.clone(e,this._imageBasedLightingFactor)}}}),n.loadJson=function(e){return H.a.createIfNeeded(e).fetchJson()},n.prototype.makeStyleDirty=function(){this._styleEngine.makeDirty()},n.prototype.loadTileset=function(e,t,i){var n=t.asset;if(!Object(R.a)(n))throw new q.a("Tileset must have an asset property.");if("0.0"!==n.version&&"1.0"!==n.version)throw new q.a("The tileset must be 3D Tiles version 0.0 or 1.0.");var a=this._statistics,r=n.tilesetVersion;Object(R.a)(r)&&(this._basePath+="?v="+r,e.setQueryParameters({v:r}));var o=new Z.a(this,e,t.root,i);Object(R.a)(i)&&(i.children.push(o),o._depth=i._depth+1);var s=[];for(s.push(o);s.length>0;){var c=s.pop();++a.numberOfTilesTotal,this._allTilesAdditive=this._allTilesAdditive&&c.refine===ie.a.ADD;var l=c._header.children;if(Object(R.a)(l))for(var u=l.length,h=0;h<u;++h){var d=l[h],f=new Z.a(this,e,d,c);c.children.push(f),f._depth=c._depth+1,s.push(f)}this._cullWithChildrenBounds&&ee.a.checkChildrenWithinParent(c)}return o};var _e=new S.a,ve=new j.a,be=new V.a,ye=new S.a,Oe=new S.a,we=new S.a;n.prototype.postPassesUpdate=function(e){this.ready&&(s(this,e),w(this,e),this._cache.unloadTiles(this,y))},n.prototype.prePassesUpdate=function(e){if(this.ready){f(this,e);var t=this._clippingPlanes;this._clippingPlanesOriginMatrixDirty=!0,Object(R.a)(t)&&t.enabled&&t.update(e),Object(R.a)(this._loadTimestamp)||(this._loadTimestamp=B.a.clone(e.time)),this._timeSinceLoad=Math.max(1e3*B.a.secondsDifference(e.time,this._loadTimestamp),0),this._skipLevelOfDetail=this.skipLevelOfDetail&&!Object(R.a)(this._classificationType)&&!this._disableSkipLevelOfDetail&&!this._allTilesAdditive,this.dynamicScreenSpaceError&&a(this,e),e.newFrame&&this._cache.reset()}};var xe=new S.a,Ee={maximumFractionDigits:3},Te=[];n.prototype.trimLoadedTiles=function(){this._cache.trim()},n.prototype.update=function(e){this.updateForPass(e,e.tilesetPassState)},n.prototype.updateForPass=function(e,t){P.a.typeOf.object("frameState",e),P.a.typeOf.object("tilesetPassState",t);var i=t.pass;if((i!==te.a.PRELOAD||this.preloadWhenHidden&&!this.show)&&(i!==te.a.PRELOAD_FLIGHT||this.preloadFlightDestinations&&(this.show||this.preloadWhenHidden))&&(i!==te.a.REQUEST_RENDER_MODE_DEFER_CHECK||!(!this._cullRequestsWhileMoving&&this.foveatedTimeDelay<=0||!this.show))){var n=e.commandList,a=e.camera,r=e.cullingVolume;t.ready=!1;var o=te.a.getPassOptions(i),s=o.ignoreCommands,c=Object(I.a)(t.commandList,n),l=c.length;e.commandList=c,e.camera=Object(I.a)(t.camera,a),e.cullingVolume=Object(I.a)(t.cullingVolume,r);var u=this._statisticsPerPass[i];(this.show||s)&&(this._pass=i,t.ready=T(this,e,u,o)),s&&(c.length=l),e.commandList=n,e.camera=a,e.cullingVolume=r}},n.prototype.hasExtension=function(e){return!!Object(R.a)(this._extensionsUsed)&&this._extensionsUsed.indexOf(e)>-1},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){if(this._tileDebugLabels=this._tileDebugLabels&&this._tileDebugLabels.destroy(),this._clippingPlanes=this._clippingPlanes&&this._clippingPlanes.destroy(),Object(R.a)(this._root)){var e=Te;for(e.push(this._root);e.length>0;){var t=e.pop();t.destroy();for(var i=t.children,n=i.length,a=0;a<n;++a)e.push(i[a])}}return this._root=void 0,Object(L.a)(this)},t.a=n},sVWN:function(e,t,i){"use strict";function n(e,t,i,n){function a(){i.raiseEvent(e)}var o=[];t.removeAll();for(var s=n.length,c=0;c<s;c++){var l=n.get(c);Object(r.a)(l.data)&&-1===o.indexOf(l.data)&&t.add(l.data.definitionChanged,a)}}function a(){this._eventHelper=new c.a,this._definitionChanged=new s.a,this._intervals=new l.a,this._intervals.changedEvent.addEventListener(a.prototype._intervalsChanged,this)}var r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("HMO3"),l=i("vDBe"),u=i("uhjI");Object.defineProperties(a.prototype,{isConstant:{get:function(){return this._intervals.isEmpty}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._intervals}}}),a.prototype.getValue=function(e,t){if(!Object(r.a)(e))throw new o.a("time is required");var i=this._intervals.findDataForIntervalContainingDate(e);if(Object(r.a)(i))return i.getValue(e,t)},a.prototype.equals=function(e){return this===e||e instanceof a&&this._intervals.equals(e._intervals,u.a.equals)},a.prototype._intervalsChanged=function(){n(this,this._eventHelper,this._definitionChanged,this._intervals),this._definitionChanged.raiseEvent(this)},t.a=a},sZr9:function(e,t,i){"use strict";function n(e,t,i,n,r){if(this.imageryLayer=e,this.x=t,this.y=i,this.level=n,this.request=void 0,0!==n){var s=t/2|0,c=i/2|0,l=n-1;this.parent=e.getImageryFromCache(s,c,l)}if(this.state=o.a.UNLOADED,this.imageUrl=void 0,this.image=void 0,this.texture=void 0,this.textureWebMercator=void 0,this.credits=void 0,this.referenceCount=0,!Object(a.a)(r)&&e.imageryProvider.ready){r=e.imageryProvider.tilingScheme.tileXYToRectangle(t,i,n)}this.rectangle=r}var a=i("xC6Q"),r=i("6sr8"),o=i("l1tn");n.createPlaceholder=function(e){var t=new n(e,0,0,0);return t.addReference(),t.state=o.a.PLACEHOLDER,t},n.prototype.addReference=function(){++this.referenceCount},n.prototype.releaseReference=function(){return--this.referenceCount,0===this.referenceCount?(this.imageryLayer.removeImageryFromCache(this),Object(a.a)(this.parent)&&this.parent.releaseReference(),Object(a.a)(this.image)&&Object(a.a)(this.image.destroy)&&this.image.destroy(),Object(a.a)(this.texture)&&this.texture.destroy(),Object(a.a)(this.textureWebMercator)&&this.texture!==this.textureWebMercator&&this.textureWebMercator.destroy(),Object(r.a)(this),0):this.referenceCount},n.prototype.processStateMachine=function(e,t,i){this.state!==o.a.UNLOADED||i||(this.state=o.a.TRANSITIONING,this.imageryLayer._requestImagery(this)),this.state===o.a.RECEIVED&&(this.state=o.a.TRANSITIONING,this.imageryLayer._createTexture(e.context,this));var n=this.state===o.a.READY&&t&&!this.texture;(this.state===o.a.TEXTURE_LOADED||n)&&(this.state=o.a.TRANSITIONING,this.imageryLayer._reprojectTexture(e,this,t))},t.a=n},seln:function(e,t,i){"use strict";function n(e){if(!Object(r.a)(e.name))throw new o.a("options.name is required.");if(!Object(r.a)(e.tooltip))throw new o.a("options.tooltip is required.");if(!Object(r.a)(e.iconUrl))throw new o.a("options.iconUrl is required.");if("function"!=typeof e.creationFunction)throw new o.a("options.creationFunction is required.");var t=e.creationFunction;Object(r.a)(t.canExecute)||(t=Object(c.a)(t)),this._creationCommand=t,this.name=e.name,this.tooltip=e.tooltip,this.iconUrl=e.iconUrl,this._category=Object(a.a)(e.category,""),s.a.track(this,["name","tooltip","iconUrl"])}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("PKIF"),c=i("E9RU");Object.defineProperties(n.prototype,{creationCommand:{get:function(){return this._creationCommand}},category:{get:function(){return this._category}}}),t.a=n},sjyQ:function(e,t,i){"use strict";function n(e){e=Object(c.a)(e,c.a.EMPTY_OBJECT);var t=Object(c.a)(e.vertexFormat,p.a.DEFAULT);this._vertexFormat=t,this._workerName="createPlaneGeometry"}var a=i("lBr9"),r=i("Jj+J"),o=i("5F4X"),s=i("YCZg"),c=i("5A4e"),l=i("xC6Q"),u=i("RGAo"),h=i("RYD3"),d=i("GaJK"),f=i("nHNe"),p=i("xvTE");n.packedLength=p.a.packedLength,n.pack=function(e,t,i){return o.a.typeOf.object("value",e),o.a.defined("array",t),i=Object(c.a)(i,0),p.a.pack(e._vertexFormat,t,i),t};var m=new p.a,g={vertexFormat:m};n.unpack=function(e,t,i){o.a.defined("array",e),t=Object(c.a)(t,0);var a=p.a.unpack(e,t,m);return Object(l.a)(i)?(i._vertexFormat=p.a.clone(a,i._vertexFormat),i):new n(g)};var _=new r.a(-.5,-.5,0),v=new r.a(.5,.5,0);n.createGeometry=function(e){var t,i,n=e._vertexFormat,o=new d.a;if(n.position){if(i=new Float64Array(12),i[0]=_.x,i[1]=_.y,i[2]=0,i[3]=v.x,i[4]=_.y,i[5]=0,i[6]=v.x,i[7]=v.y,i[8]=0,i[9]=_.x,i[10]=v.y,i[11]=0,o.position=new h.a({componentDatatype:s.a.DOUBLE,componentsPerAttribute:3,values:i}),n.normal){var c=new Float32Array(12);c[0]=0,c[1]=0,c[2]=1,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=1,c[9]=0,c[10]=0,c[11]=1,o.normal=new h.a({componentDatatype:s.a.FLOAT,componentsPerAttribute:3,values:c})}if(n.st){var l=new Float32Array(8);l[0]=0,l[1]=0,l[2]=1,l[3]=0,l[4]=1,l[5]=1,l[6]=0,l[7]=1,o.st=new h.a({componentDatatype:s.a.FLOAT,componentsPerAttribute:2,values:l})}if(n.tangent){var p=new Float32Array(12);p[0]=1,p[1]=0,p[2]=0,p[3]=1,p[4]=0,p[5]=0,p[6]=1,p[7]=0,p[8]=0,p[9]=1,p[10]=0,p[11]=0,o.tangent=new h.a({componentDatatype:s.a.FLOAT,componentsPerAttribute:3,values:p})}if(n.bitangent){var m=new Float32Array(12);m[0]=0,m[1]=1,m[2]=0,m[3]=0,m[4]=1,m[5]=0,m[6]=0,m[7]=1,m[8]=0,m[9]=0,m[10]=1,m[11]=0,o.bitangent=new h.a({componentDatatype:s.a.FLOAT,componentsPerAttribute:3,values:m})}t=new Uint16Array(6),t[0]=0,t[1]=1,t[2]=2,t[3]=0,t[4]=2,t[5]=3}return new u.a({attributes:o,indices:t,primitiveType:f.a.TRIANGLES,boundingSphere:new a.a(r.a.ZERO,Math.sqrt(2))})},t.a=n},snMV:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._value=void 0,this._removeSubscription=void 0,this.setValue(e)}var a=i("xC6Q"),r=i("PzDm"),o=i("y6fO"),s=i("W6xh"),c=i("IDfv"),l=i("uhjI");Object.defineProperties(n.prototype,{isConstant:{get:function(){return l.a.isConstant(this._value)}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return Object(a.a)(this._value)?this._value.referenceFrame:c.a.FIXED}}}),n.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,c.a.FIXED,t)},n.prototype.setValue=function(e){this._value!==e&&(this._value=e,Object(a.a)(this._removeSubscription)&&(this._removeSubscription(),this._removeSubscription=void 0),Object(a.a)(e)&&(this._removeSubscription=e.definitionChanged.addEventListener(this._raiseDefinitionChanged,this)),this._definitionChanged.raiseEvent(this))},n.prototype.getValueInReferenceFrame=function(e,t,i){if(!Object(a.a)(e))throw new r.a("time is required.");if(!Object(a.a)(t))throw new r.a("referenceFrame is required.");if(Object(a.a)(this._value))return i=this._value.getValueInReferenceFrame(e,t,i),Object(a.a)(i)?o.a.WGS84.scaleToGeodeticSurface(i,i):void 0},n.prototype.equals=function(e){return this===e||e instanceof n&&this._value===e._value},n.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)},t.a=n},sntn:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,0),this._array=new Array(e),this._length=e}var a=i("5F4X"),r=i("5A4e");Object.defineProperties(n.prototype,{length:{get:function(){return this._length},set:function(e){this._length=e,e>this._array.length&&(this._array.length=e)}},values:{get:function(){return this._array}}}),n.prototype.get=function(e){return a.a.typeOf.number.lessThan("index",e,this._array.length),this._array[e]},n.prototype.set=function(e,t){a.a.typeOf.number("index",e),e>=this.length&&(this.length=e+1),this._array[e]=t},n.prototype.peek=function(){return this._array[this._length-1]},n.prototype.push=function(e){var t=this.length++;this._array[t]=e},n.prototype.pop=function(){return this._array[--this.length]},n.prototype.reserve=function(e){a.a.typeOf.number.greaterThanOrEquals("length",e,0),e>this._array.length&&(this._array.length=e)},n.prototype.resize=function(e){a.a.typeOf.number.greaterThanOrEquals("length",e,0),this.length=e},n.prototype.trim=function(e){e=Object(r.a)(e,this.length),this._array.length=e},t.a=n},soQd:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT);var t=l.a.createIfNeeded(Object(r.a)(e.url,"https://a.tile.openstreetmap.org/"));t.appendForwardSlash(),t.url+="{z}/{x}/{y}."+Object(r.a)(e.fileExtension,"png");var i=new u.a({ellipsoid:e.ellipsoid}),n=Object(r.a)(e.minimumLevel,0),o=e.maximumLevel,f=Object(r.a)(e.rectangle,i.rectangle),p=i.positionToTileXY(c.a.southwest(f),n),m=i.positionToTileXY(c.a.northeast(f),n),g=(Math.abs(m.x-p.x)+1)*(Math.abs(m.y-p.y)+1);if(g>4)throw new s.a("The rectangle and minimumLevel indicate that there are "+g+" tiles at the minimum level. Imagery providers with more than four tiles at the minimum level are not supported.");var _=Object(r.a)(e.credit,d);"string"==typeof _&&(_=new a.a(_)),h.a.call(this,{url:t,credit:_,tilingScheme:i,tileWidth:256,tileHeight:256,minimumLevel:n,maximumLevel:o,rectangle:f})}var a=i("ODTd"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("Wq1U"),l=i("rMjQ"),u=i("Y4y7"),h=i("LS2q"),d=new a.a("MapQuest, Open Street Map and contributors, CC-BY-SA");Object(o.a)(Object.create)&&(n.prototype=Object.create(h.a.prototype),n.prototype.constructor=n),t.a=n},sotJ:function(e,t,i){"use strict";var n={MORPHING:0,COLUMBUS_VIEW:1,SCENE2D:2,SCENE3D:3};n.getMorphTime=function(e){if(e===n.SCENE3D)return 1;if(e!==n.MORPHING)return 0},t.a=Object.freeze(n)},swJc:function(e,t,i){"use strict";var n=String.prototype.replace,a=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports={default:r.RFC3986,formatters:{RFC1738:function(e){return n.call(e,a,"+")},RFC3986:function(e){return String(e)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986}},szK2:function(e,t,i){"use strict";var n={LEFT_DOWN:0,LEFT_UP:1,LEFT_CLICK:2,LEFT_DOUBLE_CLICK:3,RIGHT_DOWN:5,RIGHT_UP:6,RIGHT_CLICK:7,MIDDLE_DOWN:10,MIDDLE_UP:11,MIDDLE_CLICK:12,MOUSE_MOVE:15,WHEEL:16,PINCH_START:17,PINCH_END:18,PINCH_MOVE:19};t.a=Object.freeze(n)},"t+1C":function(e,t,i){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),i="[object Arguments]"===t;return i||(i="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),i}},t5zj:function(e,t,i){"use strict";function n(e,t,i,a,r,o,s){this.translucent=t,this.appearanceType=i,this.depthFailAppearanceType=a,this.depthFailMaterialProperty=r,this.depthFailMaterial=void 0,this.closed=o,this.shadows=s,this.primitives=e,this.createPrimitive=!1,this.waitingOnCreate=!1,this.primitive=void 0,this.oldPrimitive=void 0,this.geometry=new u.a,this.updaters=new u.a,this.updatersWithAttributes=new u.a,this.attributes=new u.a,this.subscriptions=new u.a,this.showsUpdated=new u.a,this.itemsToRemove=[],this.invalidated=!1;var c;Object(p.a)(r)&&(c=r.definitionChanged.addEventListener(n.prototype.onMaterialChanged,this)),this.removeMaterialSubscription=c}function a(e,t,i,n,a){this._solidItems=[],this._translucentItems=[],this._primitives=e,this._appearanceType=t,this._depthFailAppearanceType=i,this._closed=n,this._shadows=a}function r(e,t){for(var i=e.length,n=i-1;n>=0;n--){var a=e[n];if(a.remove(t))return 0===a.updaters.length&&(e.splice(n,1),a.destroy()),!0}return!1}function o(e,t,i){for(var n=!1,a=t.length,r=0;r<a;++r){var o=t[r],s=o.itemsToRemove,c=s.length;if(c>0)for(r=0;r<c;r++){var l=s[r];o.remove(l),e.add(i,l),n=!0}}return n}function s(e,t,i,n){var a,r=t.length;for(a=r-1;a>=0;a--){var o=t[a];if(o.invalidated){t.splice(a,1);for(var s=o.updaters.values,c=s.length,l=0;l<c;l++)e.add(i,s[l]);o.destroy()}}for(r=t.length,a=0;a<r;++a)n=t[a].update(i)&&n;return n}function c(e,t,i){for(var n=e.length,a=0;a<n;a++){var r=e[a];if(r.contains(t))return r.getBoundingSphere(t,i)}return y.a.FAILED}function l(e){for(var t=e.length,i=0;i<t;i++)e[i].destroy();e.length=0}var u=i("7uRt"),h=i("Jj+J"),d=i("6F0S"),f=i("devy"),p=i("xC6Q"),m=i("2d28"),g=i("2kyc"),_=i("wpHJ"),v=i("zSqc"),b=i("0df4"),y=i("P+tD"),O=i("I5FW"),w=i("7xsx"),x=i("uhjI"),E=new d.a,T=new m.a,A=new m.a,C=h.a.ZERO,S=new h.a;n.prototype.onMaterialChanged=function(){this.invalidated=!0},n.prototype.isMaterial=function(e){var t=this.depthFailMaterialProperty,i=e.depthFailMaterialProperty;return i===t||!!Object(p.a)(t)&&t.equals(i)},n.prototype.add=function(e,t){var i=e.id;if(this.createPrimitive=!0,this.geometry.set(i,t),this.updaters.set(i,e),e.hasConstantFill&&e.fillMaterialProperty.isConstant&&x.a.isConstant(e.distanceDisplayConditionProperty)&&x.a.isConstant(e.terrainOffsetProperty)){var n=this;this.subscriptions.set(i,e.entity.definitionChanged.addEventListener(function(t,i,a,r){"isShowing"===i&&n.showsUpdated.set(e.id,e)}))}else this.updatersWithAttributes.set(i,e)},n.prototype.remove=function(e){var t=e.id;if(this.createPrimitive=this.geometry.remove(t)||this.createPrimitive,this.updaters.remove(t)){this.updatersWithAttributes.remove(t);var i=this.subscriptions.get(t);return Object(p.a)(i)&&(i(),this.subscriptions.remove(t),this.showsUpdated.remove(t)),!0}return!1},n.prototype.update=function(e){var t,i=!0,n=0,a=this.primitive,r=this.primitives;if(this.createPrimitive){var o=this.geometry.values;if(o.length>0){Object(p.a)(a)&&(Object(p.a)(this.oldPrimitive)?r.remove(a):this.oldPrimitive=a);var s;Object(p.a)(this.depthFailAppearanceType)&&(Object(p.a)(this.depthFailMaterialProperty)&&(this.depthFailMaterial=w.a.getValue(e,this.depthFailMaterialProperty,this.depthFailMaterial)),s=new this.depthFailAppearanceType({material:this.depthFailMaterial,translucent:this.translucent,closed:this.closed})),a=new b.a({show:!1,asynchronous:!0,geometryInstances:o.slice(),appearance:new this.appearanceType({translucent:this.translucent,closed:this.closed}),depthFailAppearance:s,shadows:this.shadows}),r.add(a),i=!1}else{Object(p.a)(a)&&(r.remove(a),a=void 0);var c=this.oldPrimitive;Object(p.a)(c)&&(r.remove(c),this.oldPrimitive=void 0)}this.attributes.removeAll(),this.primitive=a,this.createPrimitive=!1,this.waitingOnCreate=!0}else if(Object(p.a)(a)&&a.ready){a.show=!0,Object(p.a)(this.oldPrimitive)&&(r.remove(this.oldPrimitive),this.oldPrimitive=void 0),!Object(p.a)(this.depthFailAppearanceType)||this.depthFailMaterialProperty instanceof O.a||(this.depthFailMaterial=w.a.getValue(e,this.depthFailMaterialProperty,this.depthFailMaterial),this.primitive.depthFailAppearance.material=this.depthFailMaterial);var l=this.updatersWithAttributes.values,u=l.length,y=this.waitingOnCreate;for(t=0;t<u;t++){var j=l[t],P=this.geometry.get(j.id),D=this.attributes.get(P.id.id);if(Object(p.a)(D)||(D=a.getGeometryInstanceAttributes(P.id),this.attributes.set(P.id.id,D)),!j.fillMaterialProperty.isConstant||y){var I=j.fillMaterialProperty.color,R=x.a.getValueOrDefault(I,e,d.a.WHITE,E);d.a.equals(D._lastColor,R)||(D._lastColor=d.a.clone(R,D._lastColor),D.color=f.a.toValue(R,D.color),(this.translucent&&255===D.color[3]||!this.translucent&&255!==D.color[3])&&(this.itemsToRemove[n++]=j))}if(Object(p.a)(this.depthFailAppearanceType)&&j.depthFailMaterialProperty instanceof O.a&&(!j.depthFailMaterialProperty.isConstant||y)){var M=j.depthFailMaterialProperty.color,L=x.a.getValueOrDefault(M,e,d.a.WHITE,E);d.a.equals(D._lastDepthFailColor,L)||(D._lastDepthFailColor=d.a.clone(L,D._lastDepthFailColor),D.depthFailColor=f.a.toValue(L,D.depthFailColor))}var N=j.entity.isShowing&&(j.hasConstantFill||j.isFilled(e)),F=1===D.show[0];N!==F&&(D.show=v.a.toValue(N,D.show));var z=j.distanceDisplayConditionProperty;if(!x.a.isConstant(z)){var B=x.a.getValueOrDefault(z,e,A,T);m.a.equals(B,D._lastDistanceDisplayCondition)||(D._lastDistanceDisplayCondition=m.a.clone(B,D._lastDistanceDisplayCondition),D.distanceDisplayCondition=g.a.toValue(B,D.distanceDisplayCondition))}var k=j.terrainOffsetProperty;if(!x.a.isConstant(k)){var U=x.a.getValueOrDefault(k,e,C,S);h.a.equals(U,D._lastOffset)||(D._lastOffset=h.a.clone(U,D._lastOffset),D.offset=_.a.toValue(U,D.offset))}}this.updateShows(a),this.waitingOnCreate=!1}else Object(p.a)(a)&&!a.ready&&(i=!1);return this.itemsToRemove.length=n,i},n.prototype.updateShows=function(e){for(var t=this.showsUpdated.values,i=t.length,n=0;n<i;n++){var a=t[n],r=this.geometry.get(a.id),o=this.attributes.get(r.id.id);Object(p.a)(o)||(o=e.getGeometryInstanceAttributes(r.id),this.attributes.set(r.id.id,o));var s=a.entity.isShowing;s!==(1===o.show[0])&&(o.show=v.a.toValue(s,o.show),r.attributes.show.value[0]=o.show[0])}this.showsUpdated.removeAll()},n.prototype.contains=function(e){return this.updaters.contains(e.id)},n.prototype.getBoundingSphere=function(e,t){var i=this.primitive;if(!i.ready)return y.a.PENDING;var n=i.getGeometryInstanceAttributes(e.entity);return!Object(p.a)(n)||!Object(p.a)(n.boundingSphere)||Object(p.a)(n.show)&&0===n.show[0]?y.a.FAILED:(n.boundingSphere.clone(t),y.a.DONE)},n.prototype.destroy=function(){var e=this.primitive,t=this.primitives;Object(p.a)(e)&&t.remove(e);var i=this.oldPrimitive;Object(p.a)(i)&&t.remove(i),Object(p.a)(this.removeMaterialSubscription)&&this.removeMaterialSubscription()},a.prototype.add=function(e,t){var i,a,r=t.createFillGeometryInstance(e);255===r.attributes.color.value[3]?(i=this._solidItems,a=!1):(i=this._translucentItems,a=!0);for(var o=i.length,s=0;s<o;s++){var c=i[s];if(c.isMaterial(t))return void c.add(t,r)}var l=new n(this._primitives,a,this._appearanceType,this._depthFailAppearanceType,t.depthFailMaterialProperty,this._closed,this._shadows);l.add(t,r),i.push(l)},a.prototype.remove=function(e){r(this._solidItems,e)||r(this._translucentItems,e)},a.prototype.update=function(e){var t=s(this,this._solidItems,e,!0);t=s(this,this._translucentItems,e,t)&&t;var i=o(this,this._solidItems,e),n=o(this,this._translucentItems,e);return(i||n)&&(t=s(this,this._solidItems,e,t)&&t,t=s(this,this._translucentItems,e,t)&&t),t},a.prototype.getBoundingSphere=function(e,t){var i=c(this._solidItems,e,t);return i===y.a.FAILED?c(this._translucentItems,e,t):i},a.prototype.removeAllPrimitives=function(){l(this._solidItems),l(this._translucentItems)},t.a=a},t7Qx:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._semiMajorAxis=void 0,this._semiMajorAxisSubscription=void 0,this._semiMinorAxis=void 0,this._semiMinorAxisSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._stRotation=void 0,this._stRotationSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._numberOfVerticalLines=void 0,this._numberOfVerticalLinesSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("6ktF"),l=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l.a)("show"),semiMajorAxis:Object(l.a)("semiMajorAxis"),semiMinorAxis:Object(l.a)("semiMinorAxis"),height:Object(l.a)("height"),heightReference:Object(l.a)("heightReference"),extrudedHeight:Object(l.a)("extrudedHeight"),extrudedHeightReference:Object(l.a)("extrudedHeightReference"),rotation:Object(l.a)("rotation"),stRotation:Object(l.a)("stRotation"),granularity:Object(l.a)("granularity"),fill:Object(l.a)("fill"),material:Object(c.a)("material"),outline:Object(l.a)("outline"),outlineColor:Object(l.a)("outlineColor"),outlineWidth:Object(l.a)("outlineWidth"),numberOfVerticalLines:Object(l.a)("numberOfVerticalLines"),shadows:Object(l.a)("shadows"),distanceDisplayCondition:Object(l.a)("distanceDisplayCondition"),classificationType:Object(l.a)("classificationType"),zIndex:Object(l.a)("zIndex")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.semiMajorAxis=this.semiMajorAxis,e.semiMinorAxis=this.semiMinorAxis,e.height=this.height,e.heightReference=this.heightReference,e.extrudedHeight=this.extrudedHeight,e.extrudedHeightReference=this.extrudedHeightReference,e.rotation=this.rotation,e.stRotation=this.stRotation,e.granularity=this.granularity,e.fill=this.fill,e.material=this.material,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.numberOfVerticalLines=this.numberOfVerticalLines,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e.classificationType=this.classificationType,e.zIndex=this.zIndex,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.semiMajorAxis=Object(a.a)(this.semiMajorAxis,e.semiMajorAxis),this.semiMinorAxis=Object(a.a)(this.semiMinorAxis,e.semiMinorAxis),this.height=Object(a.a)(this.height,e.height),this.heightReference=Object(a.a)(this.heightReference,e.heightReference),this.extrudedHeight=Object(a.a)(this.extrudedHeight,e.extrudedHeight),this.extrudedHeightReference=Object(a.a)(this.extrudedHeightReference,e.extrudedHeightReference),this.rotation=Object(a.a)(this.rotation,e.rotation),this.stRotation=Object(a.a)(this.stRotation,e.stRotation),this.granularity=Object(a.a)(this.granularity,e.granularity),this.fill=Object(a.a)(this.fill,e.fill),this.material=Object(a.a)(this.material,e.material),this.outline=Object(a.a)(this.outline,e.outline),this.outlineColor=Object(a.a)(this.outlineColor,e.outlineColor),this.outlineWidth=Object(a.a)(this.outlineWidth,e.outlineWidth),this.numberOfVerticalLines=Object(a.a)(this.numberOfVerticalLines,e.numberOfVerticalLines),this.shadows=Object(a.a)(this.shadows,e.shadows),this.distanceDisplayCondition=Object(a.a)(this.distanceDisplayCondition,e.distanceDisplayCondition),this.classificationType=Object(a.a)(this.classificationType,e.classificationType),this.zIndex=Object(a.a)(this.zIndex,e.zIndex)},t.a=n},t7gg:function(e,t,i){"use strict";t.a=" /**\n  * Decodes a unit-length vector in 'oct' encoding to a normalized 3-component Cartesian vector.\n  * The 'oct' encoding is described in \"A Survey of Efficient Representations of Independent Unit Vectors\",\n  * Cigolle et al 2014: http://jcgt.org/published/0003/02/01/\n  *\n  * @name czm_octDecode\n  * @param {vec2} encoded The oct-encoded, unit-length vector\n  * @param {float} range The maximum value of the SNORM range. The encoded vector is stored in log2(rangeMax+1) bits.\n  * @returns {vec3} The decoded and normalized vector\n  */\n  vec3 czm_octDecode(vec2 encoded, float range)\n  {\n      if (encoded.x == 0.0 && encoded.y == 0.0) {\n          return vec3(0.0, 0.0, 0.0);\n      }\n\n     encoded = encoded / range * 2.0 - 1.0;\n     vec3 v = vec3(encoded.x, encoded.y, 1.0 - abs(encoded.x) - abs(encoded.y));\n     if (v.z < 0.0)\n     {\n         v.xy = (1.0 - abs(v.yx)) * czm_signNotZero(v.xy);\n     }\n\n     return normalize(v);\n  }\n\n/**\n * Decodes a unit-length vector in 'oct' encoding to a normalized 3-component Cartesian vector.\n * The 'oct' encoding is described in \"A Survey of Efficient Representations of Independent Unit Vectors\",\n * Cigolle et al 2014: http://jcgt.org/published/0003/02/01/\n *\n * @name czm_octDecode\n * @param {vec2} encoded The oct-encoded, unit-length vector\n * @returns {vec3} The decoded and normalized vector\n */\n vec3 czm_octDecode(vec2 encoded)\n {\n    return czm_octDecode(encoded, 255.0);\n }\n\n /**\n * Decodes a unit-length vector in 'oct' encoding packed into a floating-point number to a normalized 3-component Cartesian vector.\n * The 'oct' encoding is described in \"A Survey of Efficient Representations of Independent Unit Vectors\",\n * Cigolle et al 2014: http://jcgt.org/published/0003/02/01/\n *\n * @name czm_octDecode\n * @param {float} encoded The oct-encoded, unit-length vector\n * @returns {vec3} The decoded and normalized vector\n */\n vec3 czm_octDecode(float encoded)\n {\n    float temp = encoded / 256.0;\n    float x = floor(temp);\n    float y = (temp - x) * 256.0;\n    return czm_octDecode(vec2(x, y));\n }\n\n/**\n * Decodes three unit-length vectors in 'oct' encoding packed into two floating-point numbers to normalized 3-component Cartesian vectors.\n * The 'oct' encoding is described in \"A Survey of Efficient Representations of Independent Unit Vectors\",\n * Cigolle et al 2014: http://jcgt.org/published/0003/02/01/\n *\n * @name czm_octDecode\n * @param {vec2} encoded The packed oct-encoded, unit-length vectors.\n * @param {vec3} vector1 One decoded and normalized vector.\n * @param {vec3} vector2 One decoded and normalized vector.\n * @param {vec3} vector3 One decoded and normalized vector.\n */\n  void czm_octDecode(vec2 encoded, out vec3 vector1, out vec3 vector2, out vec3 vector3)\n {\n    float temp = encoded.x / 65536.0;\n    float x = floor(temp);\n    float encodedFloat1 = (temp - x) * 65536.0;\n\n    temp = encoded.y / 65536.0;\n    float y = floor(temp);\n    float encodedFloat2 = (temp - y) * 65536.0;\n\n    vector1 = czm_octDecode(encodedFloat1);\n    vector2 = czm_octDecode(encodedFloat2);\n    vector3 = czm_octDecode(vec2(x, y));\n }\n\n"},tL9o:function(e,t,i){"use strict";t.a="#define SHIFT_RIGHT_8 0.00390625 //1.0 / 256.0\n#define SHIFT_RIGHT_16 0.00001525878 //1.0 / 65536.0\n#define SHIFT_RIGHT_24 5.960464477539063e-8//1.0 / 16777216.0\n\n#define BIAS 38.0\n\n/**\n * Unpacks a vec4 value containing values expressable as uint8 to an arbitrary float.\n *\n * @name czm_unpackFloat\n * @glslFunction\n *\n * @param {vec4} packedFloat The packed float.\n *\n * @returns {float} The floating-point depth in arbitrary range.\n */\n float czm_unpackFloat(vec4 packedFloat)\n{\n    packedFloat *= 255.0;\n    float temp = packedFloat.w / 2.0;\n    float exponent = floor(temp);\n    float sign = (temp - exponent) * 2.0;\n    exponent = exponent - float(BIAS);\n    sign = sign * 2.0 - 1.0;\n    sign = -sign;\n    float unpacked = sign * packedFloat.x * float(SHIFT_RIGHT_8);\n    unpacked += sign * packedFloat.y * float(SHIFT_RIGHT_16);\n    unpacked += sign * packedFloat.z * float(SHIFT_RIGHT_24);\n    return unpacked * pow(10.0, exponent);\n}\n"},tLS6:function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\n\nvarying vec2 v_textureCoordinates;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy ,vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main(void)\n{\n    float noiseValue = rand(v_textureCoordinates + sin(czm_frameNumber)) * 0.1;\n    vec3 rgb = texture2D(colorTexture, v_textureCoordinates).rgb;\n    vec3 green = vec3(0.0, 1.0, 0.0);\n    gl_FragColor = vec4((noiseValue + rgb) * green, 1.0);\n}\n"},tNct:function(e,t,i){"use strict";t.a="attribute vec4 position;\n\nvarying vec4 positionEC;\n\nvoid main()\n{\n    positionEC = czm_modelView * position;\n    gl_Position = czm_projection * positionEC;\n\n    czm_vertexLogDepth();\n}\n"},tQPh:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT),this.start=Object(o.a)(e.start)?c.a.clone(e.start):new c.a,this.stop=Object(o.a)(e.stop)?c.a.clone(e.stop):new c.a,this.data=e.data,this.isStartIncluded=Object(r.a)(e.isStartIncluded,!0),this.isStopIncluded=Object(r.a)(e.isStopIncluded,!0)}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("9Uqs");Object.defineProperties(n.prototype,{isEmpty:{get:function(){var e=c.a.compare(this.stop,this.start);return e<0||0===e&&(!this.isStartIncluded||!this.isStopIncluded)}}});var l={start:void 0,stop:void 0,isStartIncluded:void 0,isStopIncluded:void 0,data:void 0};n.fromIso8601=function(e,t){a.a.typeOf.object("options",e),a.a.typeOf.string("options.iso8601",e.iso8601);var i=e.iso8601.split("/");if(2!==i.length)throw new s.a("options.iso8601 is an invalid ISO 8601 interval.");var u=c.a.fromIso8601(i[0]),h=c.a.fromIso8601(i[1]),d=Object(r.a)(e.isStartIncluded,!0),f=Object(r.a)(e.isStopIncluded,!0),p=e.data;return Object(o.a)(t)?(t.start=u,t.stop=h,t.isStartIncluded=d,t.isStopIncluded=f,t.data=p,t):(l.start=u,l.stop=h,l.isStartIncluded=d,l.isStopIncluded=f,l.data=p,new n(l))},n.toIso8601=function(e,t){return a.a.typeOf.object("timeInterval",e),c.a.toIso8601(e.start,t)+"/"+c.a.toIso8601(e.stop,t)},n.clone=function(e,t){if(Object(o.a)(e))return Object(o.a)(t)?(t.start=e.start,t.stop=e.stop,t.isStartIncluded=e.isStartIncluded,t.isStopIncluded=e.isStopIncluded,t.data=e.data,t):new n(e)},n.equals=function(e,t,i){return e===t||Object(o.a)(e)&&Object(o.a)(t)&&(e.isEmpty&&t.isEmpty||e.isStartIncluded===t.isStartIncluded&&e.isStopIncluded===t.isStopIncluded&&c.a.equals(e.start,t.start)&&c.a.equals(e.stop,t.stop)&&(e.data===t.data||Object(o.a)(i)&&i(e.data,t.data)))},n.equalsEpsilon=function(e,t,i,n){return a.a.typeOf.number("epsilon",i),e===t||Object(o.a)(e)&&Object(o.a)(t)&&(e.isEmpty&&t.isEmpty||e.isStartIncluded===t.isStartIncluded&&e.isStopIncluded===t.isStopIncluded&&c.a.equalsEpsilon(e.start,t.start,i)&&c.a.equalsEpsilon(e.stop,t.stop,i)&&(e.data===t.data||Object(o.a)(n)&&n(e.data,t.data)))},n.intersect=function(e,t,i,r){if(a.a.typeOf.object("left",e),a.a.typeOf.object("result",i),!Object(o.a)(t))return n.clone(n.EMPTY,i);var s=e.start,l=e.stop,u=t.start,h=t.stop,d=c.a.greaterThanOrEquals(u,s)&&c.a.greaterThanOrEquals(l,u),f=!d&&c.a.lessThanOrEquals(u,s)&&c.a.lessThanOrEquals(s,h);if(!d&&!f)return n.clone(n.EMPTY,i);var p=e.isStartIncluded,m=e.isStopIncluded,g=t.isStartIncluded,_=t.isStopIncluded,v=c.a.lessThan(l,h);return i.start=d?u:s,i.isStartIncluded=p&&g||!c.a.equals(u,s)&&(d&&g||f&&p),i.stop=v?l:h,i.isStopIncluded=v?m:m&&_||!c.a.equals(h,l)&&_,i.data=Object(o.a)(r)?r(e.data,t.data):e.data,i},n.contains=function(e,t){if(a.a.typeOf.object("timeInterval",e),a.a.typeOf.object("julianDate",t),e.isEmpty)return!1;var i=c.a.compare(e.start,t);if(0===i)return e.isStartIncluded;var n=c.a.compare(t,e.stop);return 0===n?e.isStopIncluded:i<0&&n<0},n.prototype.clone=function(e){return n.clone(this,e)},n.prototype.equals=function(e,t){return n.equals(this,e,t)},n.prototype.equalsEpsilon=function(e,t,i){return n.equalsEpsilon(this,e,t,i)},n.prototype.toString=function(){return n.toIso8601(this)},n.EMPTY=Object.freeze(new n({start:new c.a,stop:new c.a,isStartIncluded:!1,isStopIncluded:!1})),t.a=n},tTVk:function(e,t){e.exports=function(e,t){for(var i=[],n={},a=0;a<t.length;a++){var r=t[a],o=r[0],s=r[1],c=r[2],l=r[3],u={id:e+":"+a,css:s,media:c,sourceMap:l};n[o]?n[o].parts.push(u):i.push(n[o]={id:o,parts:[u]})}return i}},tUE0:function(e,t,i){"use strict";t.a="/*!\n * Atmosphere code:\n *\n * Copyright (c) 2000-2005, Sean O'Neil (s_p_oneil@hotmail.com)\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * * Redistributions of source code must retain the above copyright notice,\n *   this list of conditions and the following disclaimer.\n * * Redistributions in binary form must reproduce the above copyright notice,\n *   this list of conditions and the following disclaimer in the documentation\n *   and/or other materials provided with the distribution.\n * * Neither the name of the project nor the names of its contributors may be\n *   used to endorse or promote products derived from this software without\n *   specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * Modifications made by Analytical Graphics, Inc.\n */\n\n // Atmosphere:\n //   Code:  http://sponeil.net/\n //   GPU Gems 2 Article:  https://developer.nvidia.com/gpugems/GPUGems2/gpugems2_chapter16.html\n\nconst float fInnerRadius = 6378137.0;\nconst float fOuterRadius = 6378137.0 * 1.025;\nconst float fOuterRadius2 = fOuterRadius * fOuterRadius;\n\nconst float Kr = 0.0025;\nconst float Km = 0.0015;\nconst float ESun = 15.0;\n\nconst float fKrESun = Kr * ESun;\nconst float fKmESun = Km * ESun;\nconst float fKr4PI = Kr * 4.0 * czm_pi;\nconst float fKm4PI = Km * 4.0 * czm_pi;\n\nconst float fScale = 1.0 / (fOuterRadius - fInnerRadius);\nconst float fScaleDepth = 0.25;\nconst float fScaleOverScaleDepth = fScale / fScaleDepth;\n\nstruct AtmosphereColor\n{\n    vec3 mie;\n    vec3 rayleigh;\n};\n\nconst int nSamples = 2;\nconst float fSamples = 2.0;\n\nfloat scale(float fCos)\n{\n    float x = 1.0 - fCos;\n    return fScaleDepth * exp(-0.00287 + x*(0.459 + x*(3.83 + x*(-6.80 + x*5.25))));\n}\n\nAtmosphereColor computeGroundAtmosphereFromSpace(vec3 v3Pos, bool dynamicLighting, vec3 lightDirectionWC)\n{\n\tvec3 v3InvWavelength = vec3(1.0 / pow(0.650, 4.0), 1.0 / pow(0.570, 4.0), 1.0 / pow(0.475, 4.0));\n\n    // Get the ray from the camera to the vertex and its length (which is the far point of the ray passing through the atmosphere)\n    vec3 v3Ray = v3Pos - czm_viewerPositionWC;\n    float fFar = length(v3Ray);\n    v3Ray /= fFar;\n\n    float fCameraHeight = length(czm_viewerPositionWC);\n    float fCameraHeight2 = fCameraHeight * fCameraHeight;\n\n    // This next line is an ANGLE workaround. It is equivalent to B = 2.0 * dot(czm_viewerPositionWC, v3Ray),\n    // which is what it should be, but there are problems at the poles.\n    float B = 2.0 * length(czm_viewerPositionWC) * dot(normalize(czm_viewerPositionWC), v3Ray);\n    float C = fCameraHeight2 - fOuterRadius2;\n    float fDet = max(0.0, B*B - 4.0 * C);\n    float fNear = 0.5 * (-B - sqrt(fDet));\n\n    // Calculate the ray's starting position, then calculate its scattering offset\n    vec3 v3Start = czm_viewerPositionWC + v3Ray * fNear;\n    fFar -= fNear;\n    float fDepth = exp((fInnerRadius - fOuterRadius) / fScaleDepth);\n\n    // The light angle based on the scene's light source would be:\n    //    dot(lightDirectionWC, v3Pos) / length(v3Pos);\n    // When we want the atmosphere to be uniform over the globe so it is set to 1.0.\n\n    float fLightAngle = czm_branchFreeTernary(dynamicLighting, dot(lightDirectionWC, v3Pos) / length(v3Pos), 1.0);\n    float fCameraAngle = dot(-v3Ray, v3Pos) / length(v3Pos);\n    float fCameraScale = scale(fCameraAngle);\n    float fLightScale = scale(fLightAngle);\n    float fCameraOffset = fDepth*fCameraScale;\n    float fTemp = (fLightScale + fCameraScale);\n\n    // Initialize the scattering loop variables\n    float fSampleLength = fFar / fSamples;\n    float fScaledLength = fSampleLength * fScale;\n    vec3 v3SampleRay = v3Ray * fSampleLength;\n    vec3 v3SamplePoint = v3Start + v3SampleRay * 0.5;\n\n    // Now loop through the sample rays\n    vec3 v3FrontColor = vec3(0.0);\n    vec3 v3Attenuate = vec3(0.0);\n    for(int i=0; i<nSamples; i++)\n    {\n        float fHeight = length(v3SamplePoint);\n        float fDepth = exp(fScaleOverScaleDepth * (fInnerRadius - fHeight));\n        float fScatter = fDepth*fTemp - fCameraOffset;\n        v3Attenuate = exp(-fScatter * (v3InvWavelength * fKr4PI + fKm4PI));\n        v3FrontColor += v3Attenuate * (fDepth * fScaledLength);\n        v3SamplePoint += v3SampleRay;\n    }\n\n    AtmosphereColor color;\n    color.mie = v3FrontColor * (v3InvWavelength * fKrESun + fKmESun);\n    color.rayleigh = v3Attenuate; // Calculate the attenuation factor for the ground\n\n    return color;\n}\n\n"},"tW+E":function(e,t,i){"use strict";function n(e){if(e=Object(r.a)(e,r.a.EMPTY_OBJECT),a.a.defined("options.context",e.context),!Object(o.a)(e.typedArray)&&!Object(o.a)(e.sizeInBytes))throw new c.a("Either options.sizeInBytes or options.typedArray is required.");if(Object(o.a)(e.typedArray)&&Object(o.a)(e.sizeInBytes))throw new c.a("Cannot pass in both options.sizeInBytes and options.typedArray.");if(Object(o.a)(e.typedArray)&&(a.a.typeOf.object("options.typedArray",e.typedArray),a.a.typeOf.number("options.typedArray.byteLength",e.typedArray.byteLength)),!h.a.validate(e.usage))throw new c.a("usage is invalid.");var t=e.context._gl,i=e.bufferTarget,n=e.typedArray,s=e.sizeInBytes,l=e.usage,u=Object(o.a)(n);u&&(s=n.byteLength),a.a.typeOf.number.greaterThan("sizeInBytes",s,0);var d=t.createBuffer();t.bindBuffer(i,d),t.bufferData(i,u?n:s,l),t.bindBuffer(i,null),this._gl=t,this._webgl2=e.context._webgl2,this._bufferTarget=i,this._sizeInBytes=s,this._usage=l,this._buffer=d,this.vertexArrayDestroyable=!0}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("6sr8"),c=i("PzDm"),l=i("oMsT"),u=i("1L1F"),h=i("rFKc");n.createVertexBuffer=function(e){return a.a.defined("options.context",e.context),new n({context:e.context,bufferTarget:u.a.ARRAY_BUFFER,typedArray:e.typedArray,sizeInBytes:e.sizeInBytes,usage:e.usage})},n.createIndexBuffer=function(e){if(a.a.defined("options.context",e.context),!l.a.validate(e.indexDatatype))throw new c.a("Invalid indexDatatype.");if(e.indexDatatype===l.a.UNSIGNED_INT&&!e.context.elementIndexUint)throw new c.a("IndexDatatype.UNSIGNED_INT requires OES_element_index_uint, which is not supported on this system.  Check context.elementIndexUint.");var t=e.context,i=e.indexDatatype,r=l.a.getSizeInBytes(i),o=new n({context:t,bufferTarget:u.a.ELEMENT_ARRAY_BUFFER,typedArray:e.typedArray,sizeInBytes:e.sizeInBytes,usage:e.usage}),s=o.sizeInBytes/r;return Object.defineProperties(o,{indexDatatype:{get:function(){return i}},bytesPerIndex:{get:function(){return r}},numberOfIndices:{get:function(){return s}}}),o},Object.defineProperties(n.prototype,{sizeInBytes:{get:function(){return this._sizeInBytes}},usage:{get:function(){return this._usage}}}),n.prototype._getBuffer=function(){return this._buffer},n.prototype.copyFromArrayView=function(e,t){t=Object(r.a)(t,0),a.a.defined("arrayView",e),a.a.typeOf.number.lessThanOrEquals("offsetInBytes + arrayView.byteLength",t+e.byteLength,this._sizeInBytes);var i=this._gl,n=this._bufferTarget;i.bindBuffer(n,this._buffer),i.bufferSubData(n,t,e),i.bindBuffer(n,null)},n.prototype.copyFromBuffer=function(e,t,i,n){if(!this._webgl2)throw new c.a("A WebGL 2 context is required.");if(!Object(o.a)(e))throw new c.a("readBuffer must be defined.");if(!Object(o.a)(n)||n<=0)throw new c.a("sizeInBytes must be defined and be greater than zero.");if(!Object(o.a)(t)||t<0||t+n>e._sizeInBytes)throw new c.a("readOffset must be greater than or equal to zero and readOffset + sizeInBytes must be less than of equal to readBuffer.sizeInBytes.");if(!Object(o.a)(i)||i<0||i+n>this._sizeInBytes)throw new c.a("writeOffset must be greater than or equal to zero and writeOffset + sizeInBytes must be less than of equal to this.sizeInBytes.");if(this._buffer===e._buffer&&(i>=t&&i<t+n||t>i&&t<i+n))throw new c.a("When readBuffer is equal to this, the ranges [readOffset + sizeInBytes) and [writeOffset, writeOffset + sizeInBytes) must not overlap.");if(this._bufferTarget===u.a.ELEMENT_ARRAY_BUFFER&&e._bufferTarget!==u.a.ELEMENT_ARRAY_BUFFER||this._bufferTarget!==u.a.ELEMENT_ARRAY_BUFFER&&e._bufferTarget===u.a.ELEMENT_ARRAY_BUFFER)throw new c.a("Can not copy an index buffer into another buffer type.");var a=u.a.COPY_READ_BUFFER,r=u.a.COPY_WRITE_BUFFER,s=this._gl;s.bindBuffer(r,this._buffer),s.bindBuffer(a,e._buffer),s.copyBufferSubData(a,r,t,i,n),s.bindBuffer(r,null),s.bindBuffer(a,null)},n.prototype.getBufferData=function(e,t,i,n){if(t=Object(r.a)(t,0),i=Object(r.a)(i,0),!this._webgl2)throw new c.a("A WebGL 2 context is required.");if(!Object(o.a)(e))throw new c.a("arrayView is required.");var a,s,l=e.byteLength;if(Object(o.a)(n)?(a=n,Object(o.a)(l)?s=1:(l=e.length,s=e.BYTES_PER_ELEMENT)):Object(o.a)(l)?(a=l-i,s=1):(l=e.length,a=l-i,s=e.BYTES_PER_ELEMENT),i<0||i>l)throw new c.a("destinationOffset must be greater than zero and less than the arrayView length.");if(i+a>l)throw new c.a("destinationOffset + length must be less than or equal to the arrayViewLength.");if(t<0||t>this._sizeInBytes)throw new c.a("sourceOffset must be greater than zero and less than the buffers size.");if(t+a*s>this._sizeInBytes)throw new c.a("sourceOffset + length must be less than the buffers size.");var h=this._gl,d=u.a.COPY_READ_BUFFER;h.bindBuffer(d,this._buffer),h.getBufferSubData(d,t,e,i,n),h.bindBuffer(d,null)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._gl.deleteBuffer(this._buffer),Object(s.a)(this)},t.a=n},taVF:function(e,t,i){"use strict";function n(e){if(!Object(d.a)(e)||!Object(d.a)(e.url))throw new f.a("options.url is required.");this._resource=void 0,this._credit=void 0,this._tilingScheme=void 0,this._levelZeroMaximumGeometricError=void 0,this._maxLevel=void 0,this._terrainDataStructure=void 0,this._ready=!1,this._width=void 0,this._height=void 0,this._encoding=void 0;var t=e.token;this._hasAvailability=!1,this._tilesAvailable=void 0,this._tilesAvailablityLoaded=void 0,this._availableCache={};var i=this,n=Object(h.a)(e.ellipsoid,p.a.WGS84);this._readyPromise=Object(c.a)(e.url).then(function(e){var n=x.a.createIfNeeded(e);return n.appendForwardSlash(),Object(d.a)(t)&&(n=n.getDerivedResource({queryParameters:{token:t}})),i._resource=n,n.getDerivedResource({queryParameters:{f:"pjson"}}).fetchJson()}).then(function(e){var t=e.copyrightText;Object(d.a)(t)&&(i._credit=new u.a(t));var a=e.spatialReference,r=Object(h.a)(a.latestWkid,a.wkid),o=e.extent,s={ellipsoid:n};if(4326===r)s.rectangle=b.a.fromDegrees(o.xmin,o.ymin,o.xmax,o.ymax),i._tilingScheme=new g.a(s);else{if(3857!==r)return c.a.reject(new E.a("Invalid spatial reference"));s.rectangleSouthwestInMeters=new l.a(o.xmin,o.ymin),s.rectangleNortheastInMeters=new l.a(o.xmax,o.ymax),i._tilingScheme=new S.a(s)}var f=e.tileInfo;return Object(d.a)(f)?(i._width=f.rows+1,i._height=f.cols+1,i._encoding="LERC"===f.format?_.a.LERC:_.a.NONE,i._lodCount=f.lods.length-1,(i._hasAvailability=-1!==e.capabilities.indexOf("Tilemap"))&&(i._tilesAvailable=new A.a(i._tilingScheme,i._lodCount),i._tilesAvailable.addAvailableTileRange(0,0,0,i._tilingScheme.getNumberOfXTilesAtLevel(0),i._tilingScheme.getNumberOfYTilesAtLevel(0)),i._tilesAvailablityLoaded=new A.a(i._tilingScheme,i._lodCount)),i._levelZeroMaximumGeometricError=T.a.getEstimatedLevelZeroGeometricErrorForAHeightmap(i._tilingScheme.ellipsoid,i._width,i._tilingScheme.getNumberOfXTilesAtLevel(0)),e.bandCount>1&&console.log("ArcGISTiledElevationTerrainProvider: Terrain data has more than 1 band. Using the first one."),i._terrainDataStructure={elementMultiplier:1,lowestEncodedHeight:e.minValues[0],highestEncodedHeight:e.maxValues[0]},i._ready=!0,!0):c.a.reject(new E.a("tileInfo is required"))}).otherwise(function(e){var t="An error occurred while accessing "+i._resource.url+".";return C.a.handleError(void 0,i,i._errorEvent,t),c.a.reject(e)}),this._errorEvent=new m.a}function a(e,t,i,n){if(e._hasAvailability){var a=e._tilesAvailablityLoaded,r=e._tilesAvailable;return!(t>e._lodCount)&&(!!r.isTileAvailable(t,i,n)||!a.isTileAvailable(t,i,n)&&void 0)}}function r(e,t,i,n){for(var a=t-1,r=i-1,o=n[e.y*t+e.x],s=[],c={startX:e.x,startY:e.y,endX:0,endY:0},u=new l.a(e.x+1,e.y+1),h=!1,d=!1;!h||!d;){var f=u.x,p=d?u.y+1:u.y;if(!h){for(var m=e.y;m<p;++m)if(n[m*t+u.x]!==o){h=!0;break}h?(s.push(new l.a(u.x,e.y)),--u.x,--f,c.endX=u.x):u.x===a?(c.endX=u.x,h=!0):++u.x}if(!d){for(var g=u.y*t,_=e.x;_<=f;++_)if(n[g+_]!==o){d=!0;break}d?(s.push(new l.a(e.x,u.y)),--u.y,c.endY=u.y):u.y===r?(c.endY=u.y,d=!0):++u.y}}return{endingIndices:s,range:c,value:o}}function o(e,t,i,n,a){var o=[];if(a.every(function(e){return e===a[0]}))return 1===a[0]&&o.push({startX:e,startY:t,endX:e+i-1,endY:t+n-1}),o;for(var s=[new l.a(0,0)];s.length>0;){var c=s.pop(),u=r(c,i,n,a);if(1===u.value){var h=u.range;h.startX+=e,h.endX+=e,h.startY+=t,h.endY+=t,o.push(h)}var d=u.endingIndices;d.length>0&&(s=s.concat(d))}return o}function s(e,t,i,n){if(!e._hasAvailability)return{};var r=128*Math.floor(i/128),s=128*Math.floor(n/128),c=Math.min(1<<t,128),l="tilemap/"+t+"/"+s+"/"+r+"/"+c+"/"+c,u=e._availableCache;if(Object(d.a)(u[l]))return u[l];var h=new y.a({throttle:!0,throttleByServer:!0,type:w.a.TERRAIN}),f=e._resource.getDerivedResource({url:l,request:h}),p=f.fetchJson();return Object(d.a)(p)?(p=p.then(function(l){var u=o(r,s,c,c,l.data);e._tilesAvailablityLoaded.addAvailableTileRange(r,s,r+c,s+c);for(var h=e._tilesAvailable,d=0;d<u.length;++d){var f=u[d];h.addAvailableTileRange(t,f.startX,f.startY,f.endX,f.endY)}return a(e,t,i,n)}),u[l]={promise:p,request:h},p=p.always(function(e){return delete u[l],e}),{promise:p,request:h}):{}}var c=i("S7OP"),l=i("Ss9j"),u=i("ODTd"),h=i("5A4e"),d=i("xC6Q"),f=i("PzDm"),p=i("y6fO"),m=i("W6xh"),g=i("4MnW"),_=i("giWl"),v=i("l3S0"),b=i("Wq1U"),y=i("dI/G"),O=i("YBjH"),w=i("0pio"),x=i("rMjQ"),E=i("V22k"),T=i("9xui"),A=i("gLPK"),C=i("M1To"),S=i("Y4y7");Object.defineProperties(n.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){if(!this.ready)throw new f.a("credit must not be called before ready returns true.");return this._credit}},tilingScheme:{get:function(){if(!this.ready)throw new f.a("tilingScheme must not be called before ready returns true.");return this._tilingScheme}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}}}),n.prototype.requestTileGeometry=function(e,t,i,n){if(!this._ready)throw new f.a("requestTileGeometry must not be called before the terrain provider is ready.");var r,o=this._resource.getDerivedResource({url:"tile/"+i+"/"+t+"/"+e,request:n}),l=this._hasAvailability,u=c.a.resolve(!0);if(l&&!Object(d.a)(a(this,i+1,2*e,2*t))){var h=s(this,i+1,2*e,2*t);u=h.promise,r=h.request}var p=o.fetchArrayBuffer();if(Object(d.a)(p)&&Object(d.a)(u)){var m=this,g=this._tilesAvailable;return c.a.join(p,u).then(function(n){return new v.a({buffer:n[0],width:m._width,height:m._height,childTileMask:l?g.computeChildMaskForTile(i,e,t):15,structure:m._terrainDataStructure,encoding:m._encoding})}).otherwise(function(e){return Object(d.a)(r)&&r.state===O.a.CANCELLED?(n.cancel(),n.deferred.promise.always(function(){return n.state=O.a.CANCELLED,c.a.reject(e)})):c.a.reject(e)})}},n.prototype.getLevelMaximumGeometricError=function(e){if(!this.ready)throw new f.a("getLevelMaximumGeometricError must not be called before ready returns true.");return this._levelZeroMaximumGeometricError/(1<<e)},n.prototype.getTileDataAvailable=function(e,t,i){if(this._hasAvailability){var n=a(this,i,e,t);if(Object(d.a)(n))return n;s(this,i,e,t)}},n.prototype.loadTileDataAvailability=function(e,t,i){}},teo2:function(e,t,i){"use strict";function n(e){e=Object(h.a)(e,m.a.WGS84);var t=new g.a({ellipsoid:e}),i=new P.a;this._ellipsoid=e,this._imageryLayerCollection=i,this._surfaceShaderSet=new S.a,this._material=void 0,this._surface=new D.a({tileProvider:new j.a({terrainProvider:t,imageryLayers:i,surfaceShaderSet:this._surfaceShaderSet})}),this._terrainProvider=t,this._terrainProviderChanged=new _.a,a(this),this.show=!0,this._oceanNormalMapResourceDirty=!0,this._oceanNormalMapResource=new O.a({url:Object(c.a)("Assets/Textures/waterNormalsSmall.jpg")}),this.maximumScreenSpaceError=2,this.tileCacheSize=100,this.loadingDescendantLimit=20,this.preloadAncestors=!0,this.preloadSiblings=!1,this.fillHighlightColor=void 0,this.enableLighting=!1,this.dynamicAtmosphereLighting=!0,this.dynamicAtmosphereLightingFromSun=!1,this.showGroundAtmosphere=!0,this.lightingFadeOutDistance=1e7,this.lightingFadeInDistance=2e7,this.nightFadeOutDistance=1e7,this.nightFadeInDistance=5e7,this.showWaterEffect=!0,this.depthTestAgainstTerrain=!1,this.shadows=R.a.RECEIVE_ONLY,this.atmosphereHueShift=0,this.atmosphereSaturationShift=0,this.atmosphereBrightnessShift=0,this.showSkirts=!0,this.backFaceCulling=!0,this._oceanNormalMap=void 0,this._zoomedOutOceanSpecularIntensity=void 0}function a(e){var t=[],i=Object(d.a)(e._material)&&(e._material.shaderSource.match(/slope/)||e._material.shaderSource.match("normalEC")),n=[A.a];!Object(d.a)(e._material)||i&&!e._terrainProvider.requestVertexNormals?e._surface._tileProvider.uniformMap=void 0:(n.push(e._material.shaderSource),t.push("APPLY_MATERIAL"),e._surface._tileProvider.uniformMap=e._material._uniforms),n.push(E.a),e._surfaceShaderSet.baseVertexShaderSource=new w.a({sources:[A.a,T.a],defines:t}),e._surfaceShaderSet.baseFragmentShaderSource=new w.a({sources:n,defines:t}),e._surfaceShaderSet.material=e._material}function r(e){return function(t,i){return s.a.distanceSquaredTo(t.pickBoundingSphere,e)-s.a.distanceSquaredTo(i.pickBoundingSphere,e)}}function o(e,t){return y.a.contains(e.rectangle,t)?e:void 0}var s=i("lBr9"),c=i("CcV0"),l=i("Jj+J"),u=i("I3GD"),h=i("5A4e"),d=i("xC6Q"),f=i("6sr8"),p=i("PzDm"),m=i("y6fO"),g=i("L7/G"),_=i("W6xh"),v=i("Myjj"),b=i("/++d"),y=i("Wq1U"),O=i("rMjQ"),w=i("x6Ms"),x=i("25X5"),E=i("iMFZ"),T=i("CL7l"),A=i("tUE0"),C=i("S7OP"),S=i("Fp/y"),j=i("dSt4"),P=i("8M+T"),D=i("h5D9"),I=i("sotJ"),R=i("ARzC"),M=i("qqab");Object.defineProperties(n.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},imageryLayers:{get:function(){return this._imageryLayerCollection}},imageryLayersUpdatedEvent:{get:function(){return this._surface.tileProvider.imageryLayersUpdatedEvent}},tilesLoaded:{get:function(){return!Object(d.a)(this._surface)||this._surface.tileProvider.ready&&0===this._surface._tileLoadQueueHigh.length&&0===this._surface._tileLoadQueueMedium.length&&0===this._surface._tileLoadQueueLow.length}},baseColor:{get:function(){return this._surface.tileProvider.baseColor},set:function(e){this._surface.tileProvider.baseColor=e}},clippingPlanes:{get:function(){return this._surface.tileProvider.clippingPlanes},set:function(e){this._surface.tileProvider.clippingPlanes=e}},cartographicLimitRectangle:{get:function(){return this._surface.tileProvider.cartographicLimitRectangle},set:function(e){Object(d.a)(e)||(e=y.a.clone(y.a.MAX_VALUE)),this._surface.tileProvider.cartographicLimitRectangle=e}},oceanNormalMapUrl:{get:function(){return this._oceanNormalMapResource.url},set:function(e){this._oceanNormalMapResource.url=e,this._oceanNormalMapResourceDirty=!0}},terrainProvider:{get:function(){return this._terrainProvider},set:function(e){e!==this._terrainProvider&&(this._terrainProvider=e,this._terrainProviderChanged.raiseEvent(e),Object(d.a)(this._material)&&a(this))}},terrainProviderChanged:{get:function(){return this._terrainProviderChanged}},tileLoadProgressEvent:{get:function(){return this._surface.tileLoadProgressEvent}},material:{get:function(){return this._material},set:function(e){this._material!==e&&(this._material=e,a(this))}}});var L=[],N={start:0,stop:0};n.prototype.pickWorldCoordinates=function(e,t,i){if(!Object(d.a)(e))throw new p.a("ray is required");if(!Object(d.a)(t))throw new p.a("scene is required");var n=t.mode,a=t.mapProjection,o=L;o.length=0;var c,u,h=this._surface._tilesToRender,f=h.length;for(u=0;u<f;++u){c=h[u];var m=c.data;if(Object(d.a)(m)){var g=m.pickBoundingSphere;if(n!==I.a.SCENE3D)m.pickBoundingSphere=g=s.a.fromRectangleWithHeights2D(c.rectangle,a,m.tileBoundingRegion.minimumHeight,m.tileBoundingRegion.maximumHeight,g),l.a.fromElements(g.center.z,g.center.x,g.center.y,g.center);else{if(!Object(d.a)(m.renderedMesh))continue;s.a.clone(m.renderedMesh.boundingSphere3D,g)}var _=v.a.raySphere(e,g,N);Object(d.a)(_)&&o.push(m)}}o.sort(r(e.origin));var b;for(f=o.length,u=0;u<f&&(b=o[u].pick(e,t.mode,t.mapProjection,!0,i),!Object(d.a)(b));++u);return b};var F=new u.a;n.prototype.pick=function(e,t,i){if(i=this.pickWorldCoordinates(e,t,i),Object(d.a)(i)&&t.mode!==I.a.SCENE3D){i=l.a.fromElements(i.y,i.z,i.x,i);var n=t.mapProjection.unproject(i,F);i=t.globe.ellipsoid.cartographicToCartesian(n,i)}return i};var z=new l.a,B=new l.a,k=new u.a,U=new b.a;n.prototype.getHeight=function(e){if(!Object(d.a)(e))throw new p.a("cartographic is required");var t=this._surface._levelZeroTiles;if(Object(d.a)(t)){var i,n,a=t.length;for(n=0;n<a&&(i=t[n],!y.a.contains(i.rectangle,e));++n);if(!(n>=a)){for(var r=i;i._lastSelectionResult===M.a.REFINED;)i=o(i.southwestChild,e)||o(i.southeastChild,e)||o(i.northwestChild,e)||i.northeastChild,Object(d.a)(i.data)&&Object(d.a)(i.data.renderedMesh)&&(r=i);if(i=r,Object(d.a)(i)){var s=this._surface._tileProvider.tilingScheme.ellipsoid,c=l.a.fromRadians(e.longitude,e.latitude,0,s,z),u=U,f=s.geodeticSurfaceNormal(c,u.direction),m=s.getSurfaceNormalIntersectionWithZAxis(c,11500,u.origin);if(!Object(d.a)(m)){var g;Object(d.a)(i.data.tileBoundingRegion)&&(g=i.data.tileBoundingRegion.minimumHeight);var _=Math.min(Object(h.a)(g,0),-11500),v=l.a.multiplyByScalar(f,Math.abs(_)+1,B);l.a.subtract(c,v,u.origin)}var b=i.data.pick(u,void 0,void 0,!1,B);if(Object(d.a)(b))return s.cartesianToCartographic(b,k).height}}}},n.prototype.update=function(e){this.show&&e.passes.render&&this._surface.update(e)},n.prototype.beginFrame=function(e){var t=this._surface,i=t.tileProvider,n=this.terrainProvider,a=this.showWaterEffect&&n.ready&&n.hasWaterMask;if(a&&this._oceanNormalMapResourceDirty){this._oceanNormalMapResourceDirty=!1;var r=this._oceanNormalMapResource,o=r.url;if(Object(d.a)(o)){var s=this;Object(C.a)(r.fetchImage(),function(t){o===s._oceanNormalMapResource.url&&(s._oceanNormalMap=s._oceanNormalMap&&s._oceanNormalMap.destroy(),s._oceanNormalMap=new x.a({context:e.context,source:t}))})}else this._oceanNormalMap=this._oceanNormalMap&&this._oceanNormalMap.destroy()}var c=e.passes,l=e.mode;c.render&&(this.showGroundAtmosphere?this._zoomedOutOceanSpecularIntensity=.4:this._zoomedOutOceanSpecularIntensity=.5,t.maximumScreenSpaceError=this.maximumScreenSpaceError,t.tileCacheSize=this.tileCacheSize,t.loadingDescendantLimit=this.loadingDescendantLimit,t.preloadAncestors=this.preloadAncestors,t.preloadSiblings=this.preloadSiblings,i.terrainProvider=this.terrainProvider,i.lightingFadeOutDistance=this.lightingFadeOutDistance,i.lightingFadeInDistance=this.lightingFadeInDistance,i.nightFadeOutDistance=this.nightFadeOutDistance,i.nightFadeInDistance=this.nightFadeInDistance,i.zoomedOutOceanSpecularIntensity=l===I.a.SCENE3D?this._zoomedOutOceanSpecularIntensity:0,i.hasWaterMask=a,i.oceanNormalMap=this._oceanNormalMap,i.enableLighting=this.enableLighting,i.dynamicAtmosphereLighting=this.dynamicAtmosphereLighting,i.dynamicAtmosphereLightingFromSun=this.dynamicAtmosphereLightingFromSun,i.showGroundAtmosphere=this.showGroundAtmosphere,i.shadows=this.shadows,i.hueShift=this.atmosphereHueShift,i.saturationShift=this.atmosphereSaturationShift,i.brightnessShift=this.atmosphereBrightnessShift,i.fillHighlightColor=this.fillHighlightColor,i.showSkirts=this.showSkirts,i.backFaceCulling=this.backFaceCulling,t.beginFrame(e))},n.prototype.render=function(e){this.show&&(Object(d.a)(this._material)&&this._material.update(e.context),this._surface.render(e))},n.prototype.endFrame=function(e){this.show&&e.passes.render&&this._surface.endFrame(e)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._surfaceShaderSet=this._surfaceShaderSet&&this._surfaceShaderSet.destroy(),this._surface=this._surface&&this._surface.destroy(),this._oceanNormalMap=this._oceanNormalMap&&this._oceanNormalMap.destroy(),Object(f.a)(this)},t.a=n},tgoP:function(e,t,i){"use strict";t.a="attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec2 st;\nattribute float batchId;\n\nvarying vec3 v_positionMC;\nvarying vec3 v_positionEC;\nvarying vec2 v_st;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionMC = position3DHigh + position3DLow;           // position in model coordinates\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;     // position in eye coordinates\n    v_st = st;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n"},tr29:function(e,t,i){"use strict";t.a="/**\n * The automatic GLSL constant for {@link Pass#TERRAIN_CLASSIFICATION}\n *\n * @name czm_passTerrainClassification\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passTerrainClassification = 3.0;\n"},tspv:function(e,t,i){"use strict";function n(e){}n.prototype.isReady=function(){return!0},n.prototype.shouldDiscardImage=function(e){return!1}},"u/3x":function(e,t,i){"use strict";function n(e,t){this._imageryProvider=e,t=Object(u.a)(t,u.a.EMPTY_OBJECT),this.alpha=Object(u.a)(t.alpha,Object(u.a)(e.defaultAlpha,1)),this.brightness=Object(u.a)(t.brightness,Object(u.a)(e.defaultBrightness,n.DEFAULT_BRIGHTNESS)),this.contrast=Object(u.a)(t.contrast,Object(u.a)(e.defaultContrast,n.DEFAULT_CONTRAST)),this.hue=Object(u.a)(t.hue,Object(u.a)(e.defaultHue,n.DEFAULT_HUE)),this.saturation=Object(u.a)(t.saturation,Object(u.a)(e.defaultSaturation,n.DEFAULT_SATURATION)),this.gamma=Object(u.a)(t.gamma,Object(u.a)(e.defaultGamma,n.DEFAULT_GAMMA)),this.splitDirection=Object(u.a)(t.splitDirection,Object(u.a)(e.defaultSplit,n.DEFAULT_SPLIT)),this.minificationFilter=Object(u.a)(t.minificationFilter,Object(u.a)(e.defaultMinificationFilter,n.DEFAULT_MINIFICATION_FILTER)),this.magnificationFilter=Object(u.a)(t.magnificationFilter,Object(u.a)(e.defaultMagnificationFilter,n.DEFAULT_MAGNIFICATION_FILTER)),this.show=Object(u.a)(t.show,!0),this._minimumTerrainLevel=t.minimumTerrainLevel,this._maximumTerrainLevel=t.maximumTerrainLevel,this._rectangle=Object(u.a)(t.rectangle,b.a.MAX_VALUE),this._maximumAnisotropy=t.maximumAnisotropy,this._imageryCache={},this._skeletonPlaceholder=new W.a(V.a.createPlaceholder(this)),this._show=!0,this._layerIndex=-1,this._isBaseLayer=!1,this._requestImageError=void 0,this._reprojectComputeCommands=[],this.cutoutRectangle=t.cutoutRectangle,this.colorToAlpha=t.colorToAlpha,this.colorToAlphaThreshold=Object(u.a)(t.colorToAlphaThreshold,n.DEFAULT_APPLY_COLOR_TO_ALPHA_THRESHOLD)}function a(e,t,i){return e+":"+t+":"+i}function r(e,t,i){return JSON.stringify([e,t,i])}function o(e,t,i,n){var a=t.cache.imageryLayer_reproject;if(!Object(h.a)(a)){a=t.cache.imageryLayer_reproject={vertexArray:void 0,shaderProgram:void 0,sampler:void 0,destroy:function(){Object(h.a)(this.framebuffer)&&this.framebuffer.destroy(),Object(h.a)(this.vertexArray)&&this.vertexArray.destroy(),Object(h.a)(this.shaderProgram)&&this.shaderProgram.destroy()}};for(var r=new Float32Array(256),o=0,s=0;s<64;++s){var c=s/63;r[o++]=0,r[o++]=c,r[o++]=1,r[o++]=c}var l={position:0,webMercatorT:1},u=x.a.getRegularGridIndices(2,64),d=A.a.createIndexBuffer({context:t,typedArray:u,usage:C.a.STATIC_DRAW,indexDatatype:g.a.UNSIGNED_SHORT});a.vertexArray=new z.a({context:t,attributes:[{index:l.position,vertexBuffer:A.a.createVertexBuffer({context:t,typedArray:r,usage:C.a.STATIC_DRAW}),componentsPerAttribute:2},{index:l.webMercatorT,vertexBuffer:A.a.createVertexBuffer({context:t,sizeInBytes:512,usage:C.a.STREAM_DRAW}),componentsPerAttribute:1}],indexBuffer:d});var f=new R.a({sources:[k.a]});a.shaderProgram=I.a.fromCache({context:t,vertexShaderSource:f,fragmentShaderSource:B.a,attributeLocations:l}),a.sampler=new D.a({wrapS:F.a.CLAMP_TO_EDGE,wrapT:F.a.CLAMP_TO_EDGE,minificationFilter:N.a.LINEAR,magnificationFilter:L.a.LINEAR})}i.sampler=a.sampler;var p=i.width,m=i.height;J.textureDimensions.x=p,J.textureDimensions.y=m,J.texture=i;var v=Math.sin(n.south),b=.5*Math.log((1+v)/(1-v));v=Math.sin(n.north);var y=.5*Math.log((1+v)/(1-v)),O=1/(y-b),w=new M.a({context:t,width:p,height:m,pixelFormat:i.pixelFormat,pixelDatatype:i.pixelDatatype,preMultiplyAlpha:i.preMultiplyAlpha});_.a.isPowerOfTwo(p)&&_.a.isPowerOfTwo(m)&&w.generateMipmap(P.a.NICEST);for(var E=n.south,T=n.north,S=Z,j=0,U=0;U<64;++U){var V=U/63,H=_.a.lerp(E,T,V);v=Math.sin(H);var q=.5*Math.log((1+v)/(1-v)),W=(q-b)*O;S[j++]=W,S[j++]=W}a.vertexArray.getAttribute(1).vertexBuffer.copyFromArrayView(S),e.shaderProgram=a.shaderProgram,e.outputTexture=w,e.uniformMap=J,e.vertexArray=a.vertexArray}function s(e,t,i){var n=e._imageryProvider,a=n.tilingScheme,r=a.ellipsoid,o=e._imageryProvider.tilingScheme.projection instanceof m.a?1:Math.cos(i),s=a.rectangle,c=r.maximumRadius*s.width*o/(n.tileWidth*a.getNumberOfXTilesAtLevel(0)),l=c/t,u=Math.log(l)/Math.log(2);return 0|Math.round(u)}var c=i("Ss9j"),l=i("PDkd"),u=i("5A4e"),h=i("xC6Q"),d=i("6sr8"),f=i("PzDm"),p=i("gjtw"),m=i("eUIW"),g=i("oMsT"),_=i("fq+p"),v=i("FhYh"),b=i("Wq1U"),y=i("dI/G"),O=i("YBjH"),w=i("0pio"),x=i("9xui"),E=i("M1To"),T=i("6AvQ"),A=i("tW+E"),C=i("rFKc"),S=i("/Bhn"),j=i("J1no"),P=i("T7Or"),D=i("l0BX"),I=i("WUlw"),R=i("x6Ms"),M=i("25X5"),L=i("YKq0"),N=i("z2iY"),F=i("L4GL"),z=i("+0EW"),B=i("zMSt"),k=i("nfk5"),U=i("S7OP"),V=i("sZr9"),H=i("aKd4"),q=i("l1tn"),W=i("7D+A");Object.defineProperties(n.prototype,{imageryProvider:{get:function(){return this._imageryProvider}},rectangle:{get:function(){return this._rectangle}}}),n.DEFAULT_BRIGHTNESS=1,n.DEFAULT_CONTRAST=1,n.DEFAULT_HUE=0,n.DEFAULT_SATURATION=1,n.DEFAULT_GAMMA=1,n.DEFAULT_SPLIT=H.a.NONE,n.DEFAULT_MINIFICATION_FILTER=N.a.LINEAR,n.DEFAULT_MAGNIFICATION_FILTER=L.a.LINEAR,n.DEFAULT_APPLY_COLOR_TO_ALPHA_THRESHOLD=.004,n.prototype.isBaseLayer=function(){return this._isBaseLayer},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return Object(d.a)(this)};var G=new b.a,Y=new b.a,X=new b.a,Q=new b.a;n.prototype.getViewableRectangle=function(){var e=this._imageryProvider,t=this._rectangle;return e.readyPromise.then(function(){return b.a.intersection(e.rectangle,t)})},n.prototype._createTileImagerySkeletons=function(e,t,i){var n=e.data;if(Object(h.a)(this._minimumTerrainLevel)&&e.level<this._minimumTerrainLevel)return!1;if(Object(h.a)(this._maximumTerrainLevel)&&e.level>this._maximumTerrainLevel)return!1;var a=this._imageryProvider;if(Object(h.a)(i)||(i=n.imagery.length),!a.ready)return this._skeletonPlaceholder.loadingImagery.addReference(),n.imagery.splice(i,0,this._skeletonPlaceholder),!0;var r=a.tilingScheme.projection instanceof T.a&&e.rectangle.north<T.a.MaximumLatitude&&e.rectangle.south>-T.a.MaximumLatitude,o=b.a.intersection(a.rectangle,this._rectangle,G),c=b.a.intersection(e.rectangle,o,Y);if(!Object(h.a)(c)){if(!this.isBaseLayer())return!1;var u=o,d=e.rectangle;c=Y,d.south>=u.north?c.north=c.south=u.north:d.north<=u.south?c.north=c.south=u.south:(c.south=Math.max(d.south,u.south),c.north=Math.min(d.north,u.north)),d.west>=u.east?c.west=c.east=u.east:d.east<=u.west?c.west=c.east=u.west:(c.west=Math.max(d.west,u.west),c.east=Math.min(d.east,u.east))}var f=0;c.south>0?f=c.south:c.north<0&&(f=c.north);var p=1*t.getLevelMaximumGeometricError(e.level),m=s(this,p,f);m=Math.max(0,m);var g=a.maximumLevel;if(m>g&&(m=g),Object(h.a)(a.minimumLevel)){var _=a.minimumLevel;m<_&&(m=_)}var v=a.tilingScheme,y=v.positionToTileXY(b.a.northwest(c),m),O=v.positionToTileXY(b.a.southeast(c),m),w=e.rectangle.width/512,x=e.rectangle.height/512,E=v.tileXYToRectangle(y.x,y.y,m);Math.abs(E.south-e.rectangle.north)<x&&y.y<O.y&&++y.y,Math.abs(E.east-e.rectangle.west)<w&&y.x<O.x&&++y.x;var A=v.tileXYToRectangle(O.x,O.y,m);Math.abs(A.north-e.rectangle.south)<x&&O.y>y.y&&--O.y,Math.abs(A.west-e.rectangle.east)<w&&O.x>y.x&&--O.x;var C,S=b.a.clone(e.rectangle,Q),j=v.tileXYToRectangle(y.x,y.y,m),P=b.a.intersection(j,o,X);r?(v.rectangleToNativeRectangle(S,S),v.rectangleToNativeRectangle(j,j),v.rectangleToNativeRectangle(P,P),v.rectangleToNativeRectangle(o,o),C=v.tileXYToNativeRectangle.bind(v),w=S.width/512,x=S.height/512):C=v.tileXYToRectangle.bind(v);var D,I,R=0,M=1;!this.isBaseLayer()&&Math.abs(P.west-S.west)>=w&&(R=Math.min(1,(P.west-S.west)/S.width)),!this.isBaseLayer()&&Math.abs(P.north-S.north)>=x&&(M=Math.max(0,(P.north-S.south)/S.height));for(var L=M,N=y.x;N<=O.x;N++)if(D=R,j=C(N,y.y,m),P=b.a.simpleIntersection(j,o,X),Object(h.a)(P)){R=Math.min(1,(P.east-S.west)/S.width),N===O.x&&(this.isBaseLayer()||Math.abs(P.east-S.east)<w)&&(R=1),M=L;for(var F=y.y;F<=O.y;F++)if(I=M,j=C(N,F,m),P=b.a.simpleIntersection(j,o,X),Object(h.a)(P)){M=Math.max(0,(P.south-S.south)/S.height),F===O.y&&(this.isBaseLayer()||Math.abs(P.south-S.south)<x)&&(M=0);var z=new l.a(D,M,R,I),B=this.getImageryFromCache(N,F,m);n.imagery.splice(i,0,new W.a(B,z,r)),++i}}return!0},n.prototype._calculateTextureTranslationAndScale=function(e,t){var i=t.readyImagery.rectangle,n=e.rectangle;if(t.useWebMercatorT){var a=t.readyImagery.imageryLayer.imageryProvider.tilingScheme;i=a.rectangleToNativeRectangle(i,G),n=a.rectangleToNativeRectangle(n,Q)}var r=n.width,o=n.height,s=r/i.width,c=o/i.height;return new l.a(s*(n.west-i.west)/r,c*(n.south-i.south)/o,s,c)},n.prototype._requestImagery=function(e){function t(t){if(!Object(h.a)(t))return i();e.image=t,e.state=q.a.RECEIVED,e.request=void 0,E.a.handleSuccess(r._requestImageError)}function i(t){if(e.request.state===O.a.CANCELLED)return e.state=q.a.UNLOADED,void(e.request=void 0);e.state=q.a.FAILED,e.request=void 0;var i="Failed to obtain image tile X: "+e.x+" Y: "+e.y+" Level: "+e.level+".";r._requestImageError=E.a.handleError(r._requestImageError,a,a.errorEvent,i,e.x,e.y,e.level,n,t)}function n(){var n=new y.a({throttle:!1,throttleByServer:!0,type:w.a.IMAGERY});e.request=n,e.state=q.a.TRANSITIONING;var r=a.requestImage(e.x,e.y,e.level,n);if(!Object(h.a)(r))return e.state=q.a.UNLOADED,void(e.request=void 0);Object(h.a)(a.getTileCredits)&&(e.credits=a.getTileCredits(e.x,e.y,e.level)),Object(U.a)(r,t,i)}var a=this._imageryProvider,r=this;n()},n.prototype._createTextureWebGL=function(e,t){var i=new D.a({minificationFilter:this.minificationFilter,magnificationFilter:this.magnificationFilter}),n=t.image;return Object(h.a)(n.internalFormat)?new M.a({context:e,pixelFormat:n.internalFormat,width:n.width,height:n.height,source:{arrayBufferView:n.bufferView},sampler:i}):new M.a({context:e,source:n,pixelFormat:this._imageryProvider.hasAlphaChannel?v.a.RGBA:v.a.RGB,sampler:i})},n.prototype._createTexture=function(e,t){var i=this._imageryProvider,n=t.image;if(Object(h.a)(i.tileDiscardPolicy)){var a=i.tileDiscardPolicy;if(Object(h.a)(a)){if(!a.isReady())return void(t.state=q.a.RECEIVED);if(a.shouldDiscardImage(n))return void(t.state=q.a.INVALID)}}if(this.minificationFilter!==N.a.NEAREST&&this.minificationFilter!==N.a.LINEAR)throw new f.a("ImageryLayer minification filter must be NEAREST or LINEAR");var r=this._createTextureWebGL(e,t);i.tilingScheme.projection instanceof T.a?t.textureWebMercator=r:t.texture=r,t.image=void 0,t.state=q.a.TEXTURE_LOADED},n.prototype._finalizeReprojectTexture=function(e,t){var i=this.minificationFilter,n=this.magnificationFilter;if(i===N.a.LINEAR&&n===L.a.LINEAR&&!v.a.isCompressedFormat(t.pixelFormat)&&_.a.isPowerOfTwo(t.width)&&_.a.isPowerOfTwo(t.height)){i=N.a.LINEAR_MIPMAP_LINEAR;var r=j.a.maximumTextureFilterAnisotropy,o=Math.min(r,Object(u.a)(this._maximumAnisotropy,r)),s=a(i,n,o),c=e.cache.imageryLayerMipmapSamplers;Object(h.a)(c)||(c={},e.cache.imageryLayerMipmapSamplers=c);var l=c[s];Object(h.a)(l)||(l=c[s]=new D.a({wrapS:F.a.CLAMP_TO_EDGE,wrapT:F.a.CLAMP_TO_EDGE,minificationFilter:i,magnificationFilter:n,maximumAnisotropy:o})),t.generateMipmap(P.a.NICEST),t.sampler=l}else{var d=a(i,n,0),f=e.cache.imageryLayerNonMipmapSamplers;Object(h.a)(f)||(f={},e.cache.imageryLayerNonMipmapSamplers=f);var p=f[d];Object(h.a)(p)||(p=f[d]=new D.a({wrapS:F.a.CLAMP_TO_EDGE,wrapT:F.a.CLAMP_TO_EDGE,minificationFilter:i,magnificationFilter:n})),t.sampler=p}},n.prototype._reprojectTexture=function(e,t,i){var n=t.textureWebMercator||t.texture,a=t.rectangle,r=e.context;if((i=Object(u.a)(i,!0))&&!(this._imageryProvider.tilingScheme.projection instanceof m.a)&&a.width/n.width>1e-5){var s=this;t.addReference();var c=new S.a({persists:!0,owner:this,preExecute:function(e){o(e,r,n,t.rectangle)},postExecute:function(e){t.texture=e,s._finalizeReprojectTexture(r,e),t.state=q.a.READY,t.releaseReference()}});this._reprojectComputeCommands.push(c)}else i&&(t.texture=n),this._finalizeReprojectTexture(r,n),t.state=q.a.READY},n.prototype.queueReprojectionCommands=function(e){for(var t=this._reprojectComputeCommands,i=t.length,n=0;n<i;++n)e.commandList.push(t[n]);t.length=0},n.prototype.cancelReprojections=function(){this._reprojectComputeCommands.length=0},n.prototype.getImageryFromCache=function(e,t,i,n){var a=r(e,t,i),o=this._imageryCache[a];return Object(h.a)(o)||(o=new V.a(this,e,t,i,n),this._imageryCache[a]=o),o.addReference(),o},n.prototype.removeImageryFromCache=function(e){var t=r(e.x,e.y,e.level);delete this._imageryCache[t]};var J={u_textureDimensions:function(){return this.textureDimensions},u_texture:function(){return this.texture},textureDimensions:new c.a,texture:void 0},Z=p.a.supportsTypedArrays()?new Float32Array(128):void 0;t.a=n},"u/r6":function(e,t,i){"use strict";function n(e){e=Object(h.a)(e,h.a.EMPTY_OBJECT),this.geometryInstances=e.geometryInstances,this._hasPerInstanceColors=!0;var t=e.appearance;Object(d.a)(t)||(t=new I.a),this.appearance=t,this.show=Object(h.a)(e.show,!0),this.classificationType=Object(h.a)(e.classificationType,j.a.BOTH),this.debugShowBoundingVolume=Object(h.a)(e.debugShowBoundingVolume,!1),this._debugShowShadowVolume=Object(h.a)(e.debugShowShadowVolume,!1),this._primitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:!1,interleave:Object(h.a)(e.interleave,!1),releaseGeometryInstances:Object(h.a)(e.releaseGeometryInstances,!0),allowPicking:Object(h.a)(e.allowPicking,!0),asynchronous:Object(h.a)(e.asynchronous,!0),compressVertices:!1,_createShaderProgramFunction:void 0,_createCommandsFunction:void 0,_updateAndQueueCommandsFunction:void 0},this._zIndex=void 0,this._ready=!1,this._readyPromise=C.a.defer(),this._primitive=void 0,this._sp=void 0,this._sp2D=void 0,this._spMorph=void 0,this._renderState=r(!1),this._renderState3DTiles=r(!0),this._renderStateMorph=y.a.fromCache({cull:{enabled:!0,face:P.a.FRONT},depthTest:{enabled:!0},blending:S.a.ALPHA_BLEND,depthMask:!1})}function a(e,t,i){var n=t.context,a=e._primitive,r=a._attributeLocations,o=a._batchTable.getVertexShaderCallback()(A.a);o=R.a._appendShowToShader(a,o),o=R.a._appendDistanceDisplayConditionToShader(a,o),o=R.a._modifyShaderPosition(e,o,t.scene3DOnly);var s=a._batchTable.getVertexShaderCallback()(T.a);s=R.a._appendShowToShader(a,s),s=R.a._appendDistanceDisplayConditionToShader(a,s),s=R.a._modifyShaderPosition(e,s,t.scene3DOnly);var c=a._batchTable.getVertexShaderCallback()(x.a),u=["GLOBE_MINIMUM_ALTITUDE "+t.mapProjection.ellipsoid.minimumRadius.toFixed(1)],h="",f="";Object(d.a)(i.material)?(f=Object(d.a)(i.material)?i.material.shaderSource:"",-1!==f.search(/varying\s+float\s+v_polylineAngle;/g)&&u.push("ANGLE_VARYING"),-1!==f.search(/varying\s+float\s+v_width;/g)&&u.push("WIDTH_VARYING")):h="PER_INSTANCE_COLOR",u.push(h);var p=e.debugShowShadowVolume?["DEBUG_SHOW_VOLUME",h]:[h],m=new w.a({defines:u,sources:[o]}),g=new w.a({defines:p,sources:[f,c]});e._sp=O.a.replaceCache({context:n,shaderProgram:a._sp,vertexShaderSource:m,fragmentShaderSource:g,attributeLocations:r});var _=n.shaderCache.getDerivedShaderProgram(e._sp,"2dColor");if(!Object(d.a)(_)){var v=new w.a({defines:u.concat(["COLUMBUS_VIEW_2D"]),sources:[o]});_=n.shaderCache.createDerivedShaderProgram(e._sp,"2dColor",{context:n,shaderProgram:e._sp2D,vertexShaderSource:v,fragmentShaderSource:g,attributeLocations:r})}e._sp2D=_;var b=n.shaderCache.getDerivedShaderProgram(e._sp,"MorphColor");if(!Object(d.a)(b)){var y=new w.a({defines:u.concat(["MAX_TERRAIN_HEIGHT "+l.a._defaultMaxTerrainHeight.toFixed(1)]),sources:[s]});c=a._batchTable.getVertexShaderCallback()(E.a);var C=new w.a({defines:p,sources:[f,c]});b=n.shaderCache.createDerivedShaderProgram(e._sp,"MorphColor",{context:n,shaderProgram:e._spMorph,vertexShaderSource:y,fragmentShaderSource:C,attributeLocations:r})}e._spMorph=b}function r(e){return y.a.fromCache({cull:{enabled:!0},blending:S.a.ALPHA_BLEND,depthMask:!1,stencilTest:{enabled:e,frontFunction:N.a.EQUAL,frontOperation:{fail:F.a.KEEP,zFail:F.a.KEEP,zPass:F.a.KEEP},backFunction:N.a.EQUAL,backOperation:{fail:F.a.KEEP,zFail:F.a.KEEP,zPass:F.a.KEEP},reference:L.a.CESIUM_3D_TILE_MASK,mask:L.a.CESIUM_3D_TILE_MASK}})}function o(e,t,i,n,a,r){var o=e._primitive,s=o._va.length;a.length=s,r.length=s;for(var c=t instanceof D.a,l=c?{}:i._uniforms,u=o._batchTable.getUniformMapCallback()(l),h=0;h<s;h++){var f=o._va[h],p=a[h];Object(d.a)(p)||(p=a[h]=new v.a({owner:e,primitiveType:o._primitiveType})),p.vertexArray=f,p.renderState=e._renderState,p.shaderProgram=e._sp,p.uniformMap=u,p.pass=b.a.TERRAIN_CLASSIFICATION,p.pickId="czm_batchTable_pickColor(v_endPlaneNormalEcAndBatchId.w)";var m=v.a.shallowClone(p,p.derivedCommands.tileset);m.renderState=e._renderState3DTiles,m.pass=b.a.CESIUM_3D_TILE_CLASSIFICATION,p.derivedCommands.tileset=m;var g=v.a.shallowClone(p,p.derivedCommands.color2D);g.shaderProgram=e._sp2D,p.derivedCommands.color2D=g;var _=v.a.shallowClone(m,m.derivedCommands.color2D);_.shaderProgram=e._sp2D,m.derivedCommands.color2D=_;var y=v.a.shallowClone(p,p.derivedCommands.colorMorph);y.renderState=e._renderStateMorph,y.shaderProgram=e._spMorph,y.pickId="czm_batchTable_pickColor(v_batchId)",p.derivedCommands.colorMorph=y}}function s(e,t,i,n,a,r,o){i.mode===M.a.MORPHING?t=t.derivedCommands.colorMorph:i.mode!==M.a.SCENE3D&&(t=t.derivedCommands.color2D),t.modelMatrix=n,t.boundingVolume=r,t.cull=a,t.debugShowBoundingVolume=o,i.commandList.push(t)}function c(e,t,i,n,a,r,o){var c=e._primitive;R.a._updateBoundingVolumes(c,t,a);var l;t.mode===M.a.SCENE3D?l=c._boundingSphereWC:t.mode===M.a.COLUMBUS_VIEW?l=c._boundingSphereCV:t.mode===M.a.SCENE2D&&Object(d.a)(c._boundingSphere2D)?l=c._boundingSphere2D:Object(d.a)(c._boundingSphereMorph)&&(l=c._boundingSphereMorph);var u,h=t.mode===M.a.MORPHING,f=e.classificationType,p=f!==j.a.CESIUM_3D_TILE,m=f!==j.a.TERRAIN&&!h,g=t.passes;if(g.render||g.pick&&c.allowPicking)for(var _=i.length,v=0;v<_;++v){var b=l[v];p&&(u=i[v],s(e,u,t,a,r,b,o)),m&&(u=i[v].derivedCommands.tileset,s(e,u,t,a,r,b,o))}}var l=i("DPkk"),u=i("YCZg"),h=i("5A4e"),d=i("xC6Q"),f=i("6sr8"),p=i("PzDm"),m=i("izcu"),g=i("WW3v"),_=i("BvZ0"),v=i("1mJh"),b=i("M0+0"),y=i("DrvA"),O=i("WUlw"),w=i("x6Ms"),x=i("qZq1"),E=i("vuRe"),T=i("TtQE"),A=i("T6CX"),C=i("S7OP"),S=i("OtDm"),j=i("M1dj"),P=i("3fQz"),D=i("DWwl"),I=i("87Vu"),R=i("0df4"),M=i("sotJ"),L=i("x0EE"),N=i("i0h9"),F=i("9URA");Object.defineProperties(n.prototype,{interleave:{get:function(){return this._primitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._primitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._primitiveOptions.allowPicking}},asynchronous:{get:function(){return this._primitiveOptions.asynchronous}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},debugShowShadowVolume:{get:function(){return this._debugShowShadowVolume}}}),n.initializeTerrainHeights=function(){return l.a.initialize()},n.prototype.update=function(e){if(Object(d.a)(this._primitive)||Object(d.a)(this.geometryInstances)){if(!l.a.initialized){if(!this.asynchronous)throw new p.a("For synchronous GroundPolylinePrimitives, you must call GroundPolylinePrimitives.initializeTerrainHeights() and wait for the returned promise to resolve.");return void n.initializeTerrainHeights()}var t,i=this,r=this._primitiveOptions;if(!Object(d.a)(this._primitive)){var s,h=Array.isArray(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],f=h.length,v=new Array(f);for(t=0;t<f;++t)if(s=h[t].attributes,!Object(d.a)(s)||!Object(d.a)(s.color)){this._hasPerInstanceColors=!1;break}for(t=0;t<f;++t){var b=h[t];s={};var y=b.attributes;for(var O in y)y.hasOwnProperty(O)&&(s[O]=y[O]);Object(d.a)(s.width)||(s.width=new g.a({componentDatatype:u.a.UNSIGNED_BYTE,componentsPerAttribute:1,value:[b.geometry.width]})),b.geometry._scene3DOnly=e.scene3DOnly,_.a.setProjectionAndEllipsoid(b.geometry,e.mapProjection),v[t]=new m.a({geometry:b.geometry,attributes:s,id:b.id,pickPrimitive:i})}r.geometryInstances=v,r.appearance=this.appearance,r._createShaderProgramFunction=function(e,t,n){a(i,t,n)},r._createCommandsFunction=function(e,t,n,a,r,s,c){o(i,t,n,a,s,c)},r._updateAndQueueCommandsFunction=function(e,t,n,a,r,o,s,l){c(i,t,n,a,r,o,s)},this._primitive=new R.a(r),this._primitive.readyPromise.then(function(e){i._ready=!0,i.releaseGeometryInstances&&(i.geometryInstances=void 0);var t=e._error;Object(d.a)(t)?i._readyPromise.reject(t):i._readyPromise.resolve(i)})}if(this.appearance instanceof D.a&&!this._hasPerInstanceColors)throw new p.a("All GeometryInstances must have color attributes to use PolylineColorAppearance with GroundPolylinePrimitive.");this._primitive.appearance=this.appearance,this._primitive.show=this.show,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(e)}},n.prototype.getGeometryInstanceAttributes=function(e){if(!Object(d.a)(this._primitive))throw new p.a("must call update before calling getGeometryInstanceAttributes");return this._primitive.getGeometryInstanceAttributes(e)},n.isSupported=function(e){return e.frameState.context.depthTexture},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),this._sp=this._sp&&this._sp.destroy(),this._sp2D=void 0,this._spMorph=void 0,Object(f.a)(this)},t.a=n},u1iC:function(e,t,i){"use strict";var n={START:0,LOADING:1,DONE:2,FAILED:3};t.a=Object.freeze(n)},u44x:function(e,t,i){"use strict";function n(e,t){var i;return"undefined"!=typeof document&&(i=document),n._implementation(e,t,i)}var a=i("8Vjj"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm");n._implementation=function(e,t,i){if(!Object(o.a)(e))throw new s.a("relative uri is required.");if(!Object(o.a)(t)){if(void 0===i)return e;t=Object(r.a)(i.baseURI,i.location.href)}var n=new a.a(t);return new a.a(e).resolve(n).toString()},t.a=n},u909:function(e,t,i){"use strict";var n={OUTSIDE:-1,INTERSECTING:0,INSIDE:1};t.a=Object.freeze(n)},uBAn:function(e,t,i){"use strict";t.a="/**\n * Determines if a time interval is empty.\n *\n * @name czm_isEmpty\n * @glslFunction \n * \n * @param {czm_raySegment} interval The interval to test.\n * \n * @returns {bool} <code>true</code> if the time interval is empty; otherwise, <code>false</code>.\n *\n * @example\n * bool b0 = czm_isEmpty(czm_emptyRaySegment);      // true\n * bool b1 = czm_isEmpty(czm_raySegment(0.0, 1.0)); // false\n * bool b2 = czm_isEmpty(czm_raySegment(1.0, 1.0)); // false, contains 1.0.\n */\nbool czm_isEmpty(czm_raySegment interval)\n{\n    return (interval.stop < 0.0);\n}\n"},"uE/L":function(e,t,i){"use strict";function n(){this._framebuffer=void 0,this._colorGBuffer=void 0,this._depthGBuffer=void 0,this._depthTexture=void 0,this._drawCommand=void 0,this._clearCommand=void 0,this._strength=1,this._radius=1}function a(){return new x.a({wrapS:S.a.CLAMP_TO_EDGE,wrapT:S.a.CLAMP_TO_EDGE,minificationFilter:C.a.NEAREST,magnificationFilter:A.a.NEAREST})}function r(e){var t=e._framebuffer;Object(f.a)(t)&&(e._colorGBuffer.destroy(),e._depthGBuffer.destroy(),e._depthTexture.destroy(),t.destroy(),e._framebuffer=void 0,e._colorGBuffer=void 0,e._depthGBuffer=void 0,e._depthTexture=void 0,e._drawCommand=void 0,e._clearCommand=void 0)}function o(e,t){var i=t.drawingBufferWidth,n=t.drawingBufferHeight,r=new T.a({context:t,width:i,height:n,pixelFormat:m.a.RGBA,pixelDatatype:O.a.UNSIGNED_BYTE,sampler:a()}),o=new T.a({context:t,width:i,height:n,pixelFormat:m.a.RGBA,pixelDatatype:O.a.UNSIGNED_BYTE,sampler:a()}),s=new T.a({context:t,width:i,height:n,pixelFormat:m.a.DEPTH_COMPONENT,pixelDatatype:O.a.UNSIGNED_INT,sampler:a()});e._framebuffer=new b.a({context:t,colorTextures:[r,o],depthTexture:s,destroyAttachments:!1}),e._colorGBuffer=r,e._depthGBuffer=o,e._depthTexture=s}function s(e,t){var i=D.a,n={u_pointCloud_colorGBuffer:function(){return e._colorGBuffer},u_pointCloud_depthGBuffer:function(){return e._depthGBuffer},u_distanceAndEdlStrength:function(){return I.x=e._radius,I.y=e._strength,I}},a=w.a.fromCache({blending:j.a.ALPHA_BLEND,depthMask:!0,depthTest:{enabled:!0},stencilTest:P.a.setCesium3DTileBit(),stencilMask:P.a.CESIUM_3D_TILE_MASK});e._drawCommand=t.createViewportQuadCommand(i,{uniformMap:n,renderState:a,pass:y.a.CESIUM_3D_TILE,owner:e}),e._clearCommand=new _.a({framebuffer:e._framebuffer,color:new d.a(0,0,0,0),depth:1,renderState:w.a.fromCache(),pass:y.a.CESIUM_3D_TILE,owner:e})}function c(e,t){var i=t.drawingBufferWidth,n=t.drawingBufferHeight,a=e._colorGBuffer,c=!1,l=Object(f.a)(a)&&(a.width!==i||a.height!==n);return Object(f.a)(a)&&!l||(r(e),o(e,t),s(e,t),c=!0),c}function l(e){return e.drawBuffers&&e.fragmentDepth}function u(e,t){var i=e.shaderCache.getDerivedShaderProgram(t,"EC");if(!Object(f.a)(i)){var n=t._attributeLocations,a=t.fragmentShaderSource.clone();a.sources=a.sources.map(function(e){return e=E.a.replaceMain(e,"czm_point_cloud_post_process_main"),e=e.replace(/gl_FragColor/g,"gl_FragData[0]")}),a.sources.unshift("#extension GL_EXT_draw_buffers : enable \n"),a.sources.push("void main() \n{ \n    czm_point_cloud_post_process_main(); \n#ifdef LOG_DEPTH\n    czm_writeLogDepth();\n    gl_FragData[1] = czm_packDepth(gl_FragDepthEXT); \n#else\n    gl_FragData[1] = czm_packDepth(gl_FragCoord.z);\n#endif\n}"),i=e.shaderCache.createDerivedShaderProgram(t,"EC",{vertexShaderSource:t.vertexShaderSource,fragmentShaderSource:a,attributeLocations:n})}return i}var h=i("Ss9j"),d=i("6F0S"),f=i("xC6Q"),p=i("6sr8"),m=i("FhYh"),g=i("nHNe"),_=i("/DUn"),v=i("1mJh"),b=i("YyWD"),y=i("M0+0"),O=i("HvCH"),w=i("DrvA"),x=i("l0BX"),E=i("x6Ms"),T=i("25X5"),A=i("YKq0"),C=i("z2iY"),S=i("L4GL"),j=i("OtDm"),P=i("x0EE"),D=i("dt28"),I=new h.a;n.isSupported=l,n.prototype.update=function(e,t,i){if(l(e.context)){this._strength=i.eyeDomeLightingStrength,this._radius=i.eyeDomeLightingRadius*e.pixelRatio;var n,a=c(this,e.context),r=e.commandList,o=r.length;for(n=t;n<o;++n){var s=r[n];if(s.primitiveType===g.a.POINTS&&s.pass!==y.a.TRANSLUCENT){var h=s.derivedCommands.pointCloudProcessor;(!Object(f.a)(h)||s.dirty||a||h.framebuffer!==this._framebuffer)&&(h=v.a.shallowClone(s),s.derivedCommands.pointCloudProcessor=h,h.framebuffer=this._framebuffer,h.shaderProgram=u(e.context,s.shaderProgram),h.castShadows=!1,h.receiveShadows=!1),r[n]=h}}var d=this._clearCommand,p=this._drawCommand;r.push(p),r.push(d)}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return r(this),Object(p.a)(this)},t.a=n},uEkt:function(e,t,i){"use strict";t.a="/**\n * 0.1\n *\n * @name czm_epsilon1\n * @glslConstant\n */\nconst float czm_epsilon1 = 0.1;\n"},uHh8:function(e,t,i){"use strict";t.a="/**\n * Creates a matrix that transforms vectors from tangent space to eye space.\n *\n * @name czm_tangentToEyeSpaceMatrix\n * @glslFunction\n *\n * @param {vec3} normalEC The normal vector in eye coordinates.\n * @param {vec3} tangentEC The tangent vector in eye coordinates.\n * @param {vec3} bitangentEC The bitangent vector in eye coordinates.\n *\n * @returns {mat3} The matrix that transforms from tangent space to eye space.\n *\n * @example\n * mat3 tangentToEye = czm_tangentToEyeSpaceMatrix(normalEC, tangentEC, bitangentEC);\n * vec3 normal = tangentToEye * texture2D(normalMap, st).xyz;\n */\nmat3 czm_tangentToEyeSpaceMatrix(vec3 normalEC, vec3 tangentEC, vec3 bitangentEC)\n{\n    vec3 normal = normalize(normalEC);\n    vec3 tangent = normalize(tangentEC);\n    vec3 bitangent = normalize(bitangentEC);\n    return mat3(tangent.x  , tangent.y  , tangent.z,\n                bitangent.x, bitangent.y, bitangent.z,\n                normal.x   , normal.y   , normal.z);\n}\n"},"uZf/":function(e,t,i){"use strict";function n(e,t,i){if(0===e)return t*i;var n=e*e,a=n*n,r=a*n,o=r*n,s=o*n,c=s*n,l=i;return t*((1-n/4-3*a/64-5*r/256-175*o/16384-441*s/65536-4851*c/1048576)*l-(3*n/8+3*a/32+45*r/1024+105*o/4096+2205*s/131072+6237*c/524288)*Math.sin(2*l)+(15*a/256+45*r/1024+525*o/16384+1575*s/65536+155925*c/8388608)*Math.sin(4*l)-(35*r/3072+175*o/12288+3675*s/262144+13475*c/1048576)*Math.sin(6*l)+(315*o/131072+2205*s/524288+43659*c/8388608)*Math.sin(8*l)-(693*s/1310720+6237*c/5242880)*Math.sin(10*l)+1001*c/8388608*Math.sin(12*l))}function a(e,t,i){var n=e/i;if(0===t)return n;var a=n*n,r=a*n,o=r*n,s=t,c=s*s,l=c*c,u=l*c,h=u*c,d=h*c,f=d*c,p=Math.sin(2*n),m=Math.cos(2*n),g=Math.sin(4*n),_=Math.cos(4*n),v=Math.sin(6*n),b=Math.cos(6*n),y=Math.sin(8*n),O=Math.cos(8*n),w=Math.sin(10*n);return n+n*c/4+7*n*l/64+15*n*u/256+579*n*h/16384+1515*n*d/65536+16837*n*f/1048576+(3*n*l/16+45*n*u/256-n*(32*a-561)*h/4096-n*(232*a-1677)*d/16384+n*(399985-90560*a+512*o)*f/5242880)*m+(21*n*u/256+483*n*h/4096-n*(224*a-1969)*d/16384-n*(33152*a-112599)*f/1048576)*_+(151*n*h/4096+4681*n*d/65536+1479*n*f/16384-453*r*f/32768)*b+(1097*n*d/65536+42783*n*f/1048576)*O+8011*n*f/1048576*Math.cos(10*n)+(3*c/8+3*l/16+213*u/2048-3*a*u/64+255*h/4096-33*a*h/512+20861*d/524288-33*a*d/512+o*d/1024+28273*f/1048576-471*a*f/8192+9*o*f/4096)*p+(21*l/256+21*u/256+533*h/8192-21*a*h/512+197*d/4096-315*a*d/4096+584039*f/16777216-12517*a*f/131072+7*o*f/2048)*g+(151*u/6144+151*h/4096+5019*d/131072-453*a*d/16384+26965*f/786432-8607*a*f/131072)*v+(1097*h/131072+1097*d/65536+225797*f/10485760-1097*a*f/65536)*y+(8011*d/2621440+8011*f/1048576)*w+293393*f/251658240*Math.sin(12*n)}function r(e,t){if(0===e)return Math.log(Math.tan(.5*(v.a.PI_OVER_TWO+t)));var i=e*Math.sin(t);return Math.log(Math.tan(.5*(v.a.PI_OVER_TWO+t)))-e/2*Math.log((1+i)/(1-i))}function o(e,t,i,n,a){var o=r(e._ellipticity,i),s=r(e._ellipticity,a);return Math.atan2(v.a.negativePiToPi(n-t),s-o)}function s(e,t,i,a,r,o,s){var c=e._heading,l=o-a,u=0;if(v.a.equalsEpsilon(Math.abs(c),v.a.PI_OVER_TWO,v.a.EPSILON8))if(t===i)u=t*Math.cos(r)*v.a.negativePiToPi(l);else{var h=Math.sin(r);u=t*Math.cos(r)*v.a.negativePiToPi(l)/Math.sqrt(1-e._ellipticitySquared*h*h)}else{var d=n(e._ellipticity,t,r);u=(n(e._ellipticity,t,s)-d)/Math.cos(c)}return Math.abs(u)}function c(e,t,i,n){var a=h.a.normalize(n.cartographicToCartesian(t,y),b),r=h.a.normalize(n.cartographicToCartesian(i,y),y);f.a.typeOf.number.greaterThanOrEquals("value",Math.abs(Math.abs(h.a.angleBetween(a,r))-Math.PI),.0125);var c=n.maximumRadius,l=n.minimumRadius,u=c*c,p=l*l;e._ellipticitySquared=(u-p)/u,e._ellipticity=Math.sqrt(e._ellipticitySquared),e._start=d.a.clone(t,e._start),e._start.height=0,e._end=d.a.clone(i,e._end),e._end.height=0,e._heading=o(e,t.longitude,t.latitude,i.longitude,i.latitude),e._distance=s(e,n.maximumRadius,n.minimumRadius,t.longitude,t.latitude,i.longitude,i.latitude)}function l(e,t,i,o,s,c){var l,u,h,f=s*s;if(Math.abs(v.a.PI_OVER_TWO-Math.abs(t))>v.a.EPSILON8){u=a(n(s,o,e.latitude)+i*Math.cos(t),s,o);var p=r(s,e.latitude),g=r(s,u);h=Math.tan(t)*(g-p),l=v.a.negativePiToPi(e.longitude+h)}else{u=e.latitude;var _;if(0===s)_=o*Math.cos(e.latitude);else{var b=Math.sin(e.latitude);_=o*Math.cos(e.latitude)/Math.sqrt(1-f*b*b)}h=i/_,l=t>0?v.a.negativePiToPi(e.longitude+h):v.a.negativePiToPi(e.longitude-h)}return Object(m.a)(c)?(c.longitude=l,c.latitude=u,c.height=0,c):new d.a(l,u,0)}function u(e,t,i){var n=Object(p.a)(i,_.a.WGS84);this._ellipsoid=n,this._start=new d.a,this._end=new d.a,this._heading=void 0,this._distance=void 0,this._ellipticity=void 0,this._ellipticitySquared=void 0,Object(m.a)(e)&&Object(m.a)(t)&&c(this,e,t,n)}var h=i("Jj+J"),d=i("I3GD"),f=i("5F4X"),p=i("5A4e"),m=i("xC6Q"),g=i("PzDm"),_=i("y6fO"),v=i("fq+p"),b=new h.a,y=new h.a;Object.defineProperties(u.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},surfaceDistance:{get:function(){return f.a.defined("distance",this._distance),this._distance}},start:{get:function(){return this._start}},end:{get:function(){return this._end}},heading:{get:function(){return f.a.defined("distance",this._distance),this._heading}}}),u.fromStartHeadingDistance=function(e,t,i,n,a){f.a.defined("start",e),f.a.defined("heading",t),f.a.defined("distance",i),f.a.typeOf.number.greaterThan("distance",i,0);var r=Object(p.a)(n,_.a.WGS84),o=r.maximumRadius,s=r.minimumRadius,c=o*o,h=s*s,d=Math.sqrt((c-h)/c);t=v.a.negativePiToPi(t);var g=l(e,t,i,r.maximumRadius,d);return!Object(m.a)(a)||Object(m.a)(n)&&!n.equals(a.ellipsoid)?new u(e,g,r):(a.setEndPoints(e,g),a)},u.prototype.setEndPoints=function(e,t){f.a.defined("start",e),f.a.defined("end",t),c(this,e,t,this._ellipsoid)},u.prototype.interpolateUsingFraction=function(e,t){return this.interpolateUsingSurfaceDistance(e*this._distance,t)},u.prototype.interpolateUsingSurfaceDistance=function(e,t){if(f.a.typeOf.number("distance",e),!Object(m.a)(this._distance)||0===this._distance)throw new g.a("EllipsoidRhumbLine must have distinct start and end set.");return l(this._start,this._heading,e,this._ellipsoid.maximumRadius,this._ellipticity,t)},u.prototype.findIntersectionWithLongitude=function(e,t){if(f.a.typeOf.number("intersectionLongitude",e),!Object(m.a)(this._distance)||0===this._distance)throw new g.a("EllipsoidRhumbLine must have distinct start and end set.");var i=this._ellipticity,n=this._heading,a=Math.abs(n),r=this._start;if(e=v.a.negativePiToPi(e),v.a.equalsEpsilon(Math.abs(e),Math.PI,v.a.EPSILON14)&&(e=v.a.sign(r.longitude)*Math.PI),Object(m.a)(t)||(t=new d.a),Math.abs(v.a.PI_OVER_TWO-a)<=v.a.EPSILON8)return t.longitude=e,t.latitude=r.latitude,t.height=0,t;if(v.a.equalsEpsilon(Math.abs(v.a.PI_OVER_TWO-a),v.a.PI_OVER_TWO,v.a.EPSILON8)){if(v.a.equalsEpsilon(e,r.longitude,v.a.EPSILON12))return;return t.longitude=e,t.latitude=v.a.PI_OVER_TWO*v.a.sign(v.a.PI_OVER_TWO-n),t.height=0,t}var o,s=r.latitude,c=i*Math.sin(s),l=Math.tan(.5*(v.a.PI_OVER_TWO+s))*Math.exp((e-r.longitude)/Math.tan(n)),u=(1+c)/(1-c),h=r.latitude;do{o=h;var p=i*Math.sin(o),_=(1+p)/(1-p);h=2*Math.atan(l*Math.pow(_/u,i/2))-v.a.PI_OVER_TWO}while(!v.a.equalsEpsilon(h,o,v.a.EPSILON12));return t.longitude=e,t.latitude=h,t.height=0,t},u.prototype.findIntersectionWithLatitude=function(e,t){if(f.a.typeOf.number("intersectionLatitude",e),!Object(m.a)(this._distance)||0===this._distance)throw new g.a("EllipsoidRhumbLine must have distinct start and end set.");var i=this._ellipticity,n=this._heading,a=this._start;if(!v.a.equalsEpsilon(Math.abs(n),v.a.PI_OVER_TWO,v.a.EPSILON8)){var o=r(i,a.latitude),s=r(i,e),c=Math.tan(n)*(s-o),l=v.a.negativePiToPi(a.longitude+c);return Object(m.a)(t)?(t.longitude=l,t.latitude=e,t.height=0,t):new d.a(l,e,0)}},t.a=u},uhjI:function(e,t,i){"use strict";function n(){o.a.throwInstantiationError()}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm");Object.defineProperties(n.prototype,{isConstant:{get:o.a.throwInstantiationError},definitionChanged:{get:o.a.throwInstantiationError}}),n.prototype.getValue=o.a.throwInstantiationError,n.prototype.equals=o.a.throwInstantiationError,n.equals=function(e,t){return e===t||Object(r.a)(e)&&e.equals(t)},n.arrayEquals=function(e,t){if(e===t)return!0;if(!Object(r.a)(e)||!Object(r.a)(t)||e.length!==t.length)return!1;for(var i=e.length,a=0;a<i;a++)if(!n.equals(e[a],t[a]))return!1;return!0},n.isConstant=function(e){return!Object(r.a)(e)||e.isConstant},n.getValueOrUndefined=function(e,t,i){return Object(r.a)(e)?e.getValue(t,i):void 0},n.getValueOrDefault=function(e,t,i,n){return Object(r.a)(e)?Object(a.a)(e.getValue(t,n),i):i},n.getValueOrClonedDefault=function(e,t,i,n){var a;return Object(r.a)(e)&&(a=e.getValue(t,n)),Object(r.a)(a)||(a=i.clone(a)),a},t.a=n},ujcs:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,i,n,a){var r,o,s=8*a-n-1,c=(1<<s)-1,l=c>>1,u=-7,h=i?a-1:0,d=i?-1:1,f=e[t+h];for(h+=d,r=f&(1<<-u)-1,f>>=-u,u+=s;u>0;r=256*r+e[t+h],h+=d,u-=8);for(o=r&(1<<-u)-1,r>>=-u,u+=n;u>0;o=256*o+e[t+h],h+=d,u-=8);if(0===r)r=1-l;else{if(r===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),r-=l}return(f?-1:1)*o*Math.pow(2,r-n)},t.write=function(e,t,i,n,a,r){var o,s,c,l=8*r-a-1,u=(1<<l)-1,h=u>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:r-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),t+=o+h>=1?d/c:d*Math.pow(2,1-h),t*c>=2&&(o++,c/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(t*c-1)*Math.pow(2,a),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,a),o=0));a>=8;e[i+f]=255&s,f+=p,s/=256,a-=8);for(o=o<<a|s,l+=a;l>0;e[i+f]=255&o,f+=p,o/=256,l-=8);e[i+f-p]|=128*m}},unrA:function(e,t,i){"use strict";t.a="uniform vec4 color;\nuniform float glowPower;\nuniform float taperPower;\n\nvarying float v_width;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 st = materialInput.st;\n    float glow = glowPower / abs(st.t - 0.5) - (glowPower / 0.5);\n\n    if (taperPower <= 0.99999) {\n        glow *= min(1.0, taperPower / (0.5 - st.s * 0.5) - (taperPower / 0.5));\n    }\n\n    vec4 fragColor;\n    fragColor.rgb = max(vec3(glow - 1.0 + color.rgb), color.rgb);\n    fragColor.a = clamp(0.0, 1.0, glow) * color.a;\n    fragColor = czm_gammaCorrect(fragColor);\n\n    material.emission = fragColor.rgb;\n    material.alpha = fragColor.a;\n\n    return material;\n}\n"},uqjm:function(e,t,i){"use strict";t.a="varying vec2 v_textureCoordinates;\nconst float M_PI = 3.141592653589793;\n\nfloat vdcRadicalInverse(int i)\n{\n    float r;\n    float base = 2.0;\n    float value = 0.0;\n    float invBase = 1.0 / base;\n    float invBi = invBase;\n    for (int x = 0; x < 100; x++)\n    {\n        if (i <= 0)\n        {\n            break;\n        }\n        r = mod(float(i), base);\n        value += r * invBi;\n        invBi *= invBase;\n        i = int(float(i) * invBase);\n    }\n    return value;\n}\n\nvec2 hammersley2D(int i, int N)\n{\n    return vec2(float(i) / float(N), vdcRadicalInverse(i));\n}\n\nvec3 importanceSampleGGX(vec2 xi, float roughness, vec3 N)\n{\n    float a = roughness * roughness;\n    float phi = 2.0 * M_PI * xi.x;\n    float cosTheta = sqrt((1.0 - xi.y) / (1.0 + (a * a - 1.0) * xi.y));\n    float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\n    vec3 H = vec3(sinTheta * cos(phi), sinTheta * sin(phi), cosTheta);\n    vec3 upVector = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\n    vec3 tangentX = normalize(cross(upVector, N));\n    vec3 tangentY = cross(N, tangentX);\n    return tangentX * H.x + tangentY * H.y + N * H.z;\n}\n\nfloat G1_Smith(float NdotV, float k)\n{\n    return NdotV / (NdotV * (1.0 - k) + k);\n}\n\nfloat G_Smith(float roughness, float NdotV, float NdotL)\n{\n    float k = roughness * roughness / 2.0;\n    return G1_Smith(NdotV, k) * G1_Smith(NdotL, k);\n}\n\nvec2 integrateBrdf(float roughness, float NdotV)\n{\n    vec3 V = vec3(sqrt(1.0 - NdotV * NdotV), 0.0, NdotV);\n    float A = 0.0;\n    float B = 0.0;\n    const int NumSamples = 1024;\n    for (int i = 0; i < NumSamples; i++)\n    {\n        vec2 xi = hammersley2D(i, NumSamples);\n        vec3 H = importanceSampleGGX(xi, roughness, vec3(0.0, 0.0, 1.0));\n        vec3 L = 2.0 * dot(V, H) * H - V;\n        float NdotL = clamp(L.z, 0.0, 1.0);\n        float NdotH = clamp(H.z, 0.0, 1.0);\n        float VdotH = clamp(dot(V, H), 0.0, 1.0);\n        if (NdotL > 0.0)\n        {\n            float G = G_Smith(roughness, NdotV, NdotL);\n            float G_Vis = G * VdotH / (NdotH * NdotV);\n            float Fc = pow(1.0 - VdotH, 5.0);\n            A += (1.0 - Fc) * G_Vis;\n            B += Fc * G_Vis;\n        }\n    }\n    return vec2(A, B) / float(NumSamples);\n}\n\nvoid main()\n{\n    gl_FragColor = vec4(integrateBrdf(v_textureCoordinates.y, v_textureCoordinates.x), 0.0, 1.0);\n}\n"},uqkJ:function(e,t,i){"use strict";var n=i("xC6Q"),a={};a.defaultKey=void 0,a.getKey=function(e){return Object(n.a)(e)?e:a.defaultKey},t.a=a},urdP:function(e,t,i){"use strict";function n(e){this.id=e,this.vertexFormat=void 0,this.positions=void 0,this.minimumHeights=void 0,this.maximumHeights=void 0,this.granularity=void 0}function a(e,t){O.a.call(this,{entity:e,scene:t,geometryOptions:new n(e),geometryPropertyName:"wall",observedPropertyNames:["availability","wall"]}),this._onEntityPropertyChanged(e,"wall",e.wall,void 0)}function r(e,t,i){y.a.call(this,e,t,i)}var o=i("5F4X"),s=i("6F0S"),c=i("devy"),l=i("xC6Q"),u=i("PzDm"),h=i("2kyc"),d=i("izcu"),f=i("DsDe"),p=i("zSqc"),m=i("Y23K"),g=i("Ja8v"),_=i("xEUC"),v=i("BOJj"),b=i("I5FW"),y=i("5s/y"),O=i("rVBE"),w=i("uhjI"),x=new s.a;Object(l.a)(Object.create)&&(a.prototype=Object.create(O.a.prototype),a.prototype.constructor=a),a.prototype.createFillGeometryInstance=function(e){if(o.a.defined("time",e),!this._fillEnabled)throw new u.a("This instance does not represent a filled geometry.");var t,i,n=this._entity,a=n.isAvailable(e),r=new p.a(a&&n.isShowing&&this._showProperty.getValue(e)&&this._fillProperty.getValue(e)),f=this._distanceDisplayConditionProperty.getValue(e),g=h.a.fromDistanceDisplayCondition(f);if(this._materialProperty instanceof b.a){var _;Object(l.a)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||a)&&(_=this._materialProperty.color.getValue(e,x)),Object(l.a)(_)||(_=s.a.WHITE),i=c.a.fromColor(_),t={show:r,distanceDisplayCondition:g,color:i}}else t={show:r,distanceDisplayCondition:g};return new d.a({id:n,geometry:new m.a(this._options),attributes:t})},a.prototype.createOutlineGeometryInstance=function(e){if(o.a.defined("time",e),!this._outlineEnabled)throw new u.a("This instance does not represent an outlined geometry.");var t=this._entity,i=t.isAvailable(e),n=w.a.getValueOrDefault(this._outlineColorProperty,e,s.a.BLACK,x),a=this._distanceDisplayConditionProperty.getValue(e);return new d.a({id:t,geometry:new g.a(this._options),attributes:{show:new p.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._showOutlineProperty.getValue(e)),color:c.a.fromColor(n),distanceDisplayCondition:h.a.fromDistanceDisplayCondition(a)}})},a.prototype._isHidden=function(e,t){return!Object(l.a)(t.positions)||O.a.prototype._isHidden.call(this,e,t)},a.prototype._getIsClosed=function(e){return!1},a.prototype._isDynamic=function(e,t){return!(t.positions.isConstant&&w.a.isConstant(t.minimumHeights)&&w.a.isConstant(t.maximumHeights)&&w.a.isConstant(t.outlineWidth)&&w.a.isConstant(t.granularity))},a.prototype._setStaticOptions=function(e,t){var i=t.minimumHeights,n=t.maximumHeights,a=t.granularity,r=this._materialProperty instanceof b.a,o=this._options;o.vertexFormat=r?v.a.VERTEX_FORMAT:_.a.MaterialSupport.TEXTURED.vertexFormat,o.positions=t.positions.getValue(f.a.MINIMUM_VALUE,o.positions),o.minimumHeights=Object(l.a)(i)?i.getValue(f.a.MINIMUM_VALUE,o.minimumHeights):void 0,o.maximumHeights=Object(l.a)(n)?n.getValue(f.a.MINIMUM_VALUE,o.maximumHeights):void 0,o.granularity=Object(l.a)(a)?a.getValue(f.a.MINIMUM_VALUE):void 0},a.DynamicGeometryUpdater=r,Object(l.a)(Object.create)&&(r.prototype=Object.create(y.a.prototype),r.prototype.constructor=r),r.prototype._isHidden=function(e,t,i){return!Object(l.a)(this._options.positions)||y.a.prototype._isHidden.call(this,e,t,i)},r.prototype._setOptions=function(e,t,i){var n=this._options;n.positions=w.a.getValueOrUndefined(t.positions,i,n.positions),n.minimumHeights=w.a.getValueOrUndefined(t.minimumHeights,i,n.minimumHeights),n.maximumHeights=w.a.getValueOrUndefined(t.maximumHeights,i,n.maximumHeights),n.granularity=w.a.getValueOrUndefined(t.granularity,i)},t.a=a},v2AQ:function(e,t,i){"use strict";t.a="/**\n * Computes the point along a ray at the given time.  <code>time</code> can be positive, negative, or zero.\n *\n * @name czm_pointAlongRay\n * @glslFunction\n *\n * @param {czm_ray} ray The ray to compute the point along.\n * @param {float} time The time along the ray.\n * \n * @returns {vec3} The point along the ray at the given time.\n * \n * @example\n * czm_ray ray = czm_ray(vec3(0.0), vec3(1.0, 0.0, 0.0)); // origin, direction\n * vec3 v = czm_pointAlongRay(ray, 2.0); // (2.0, 0.0, 0.0)\n */\nvec3 czm_pointAlongRay(czm_ray ray, float time)\n{\n    return ray.origin + (time * ray.direction);\n}\n"},v62d:function(e,t,i){"use strict";function n(){this._globeColorTexture=void 0,this._primitiveColorTexture=void 0,this._depthStencilTexture=void 0,this._globeDepthTexture=void 0,this._tempGlobeDepthTexture=void 0,this._tempCopyDepthTexture=void 0,this._globeColorFramebuffer=void 0,this._primitiveColorFramebuffer=void 0,this._copyDepthFramebuffer=void 0,this._tempCopyDepthFramebuffer=void 0,this._updateDepthFramebuffer=void 0,this._clearGlobeColorCommand=void 0,this._clearPrimitiveColorCommand=void 0,this._copyColorCommand=void 0,this._copyDepthCommand=void 0,this._tempCopyDepthCommand=void 0,this._updateDepthCommand=void 0,this._mergeColorCommand=void 0,this._viewport=new m.a,this._rs=void 0,this._rsBlend=void 0,this._rsUpdate=void 0,this._useScissorTest=!1,this._scissorRectangle=void 0,this._useLogDepth=void 0,this._useHdr=void 0,this._clearGlobeDepth=void 0,this._debugGlobeDepthViewportCommand=void 0}function a(e,t,i,n){if(!Object(_.a)(e._debugGlobeDepthViewportCommand)||n!==e._useLogDepth){var a=new T.a({defines:[n?"LOG_DEPTH":""],sources:["uniform sampler2D u_depthTexture;\nvarying vec2 v_textureCoordinates;\nvoid main()\n{\n    float z_window = czm_unpackDepth(texture2D(u_depthTexture, v_textureCoordinates));\n    z_window = czm_reverseLogDepth(z_window); \n    float n_range = czm_depthRange.near;\n    float f_range = czm_depthRange.far;\n    float z_ndc = (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n    float scale = pow(z_ndc * 0.5 + 0.5, 8.0);\n    gl_FragColor = vec4(mix(vec3(0.0), vec3(1.0), scale), 1.0);\n}\n"]});e._debugGlobeDepthViewportCommand=t.createViewportQuadCommand(a,{uniformMap:{u_depthTexture:function(){return e._globeDepthTexture}},owner:e}),e._useLogDepth=n}e._debugGlobeDepthViewportCommand.execute(t,i)}function r(e){e._globeColorTexture=e._globeColorTexture&&!e._globeColorTexture.isDestroyed()&&e._globeColorTexture.destroy(),e._depthStencilTexture=e._depthStencilTexture&&!e._depthStencilTexture.isDestroyed()&&e._depthStencilTexture.destroy(),e._globeDepthTexture=e._globeDepthTexture&&!e._globeDepthTexture.isDestroyed()&&e._globeDepthTexture.destroy()}function o(e){e._globeColorFramebuffer=e._globeColorFramebuffer&&!e._globeColorFramebuffer.isDestroyed()&&e._globeColorFramebuffer.destroy(),e._copyDepthFramebuffer=e._copyDepthFramebuffer&&!e._copyDepthFramebuffer.isDestroyed()&&e._copyDepthFramebuffer.destroy()}function s(e){e._tempCopyDepthFramebuffer=e._tempCopyDepthFramebuffer&&!e._tempCopyDepthFramebuffer.isDestroyed()&&e._tempCopyDepthFramebuffer.destroy(),e._updateDepthFramebuffer=e._updateDepthFramebuffer&&!e._updateDepthFramebuffer.isDestroyed()&&e._updateDepthFramebuffer.destroy(),e._tempGlobeDepthTexture=e._tempGlobeDepthTexture&&!e._tempGlobeDepthTexture.isDestroyed()&&e._tempGlobeDepthTexture.destroy()}function c(e,t,i,n,a){e._tempGlobeDepthTexture=new A.a({context:t,width:i,height:n,pixelFormat:b.a.RGBA,pixelDatatype:w.a.UNSIGNED_BYTE,sampler:new E.a({wrapS:j.a.CLAMP_TO_EDGE,wrapT:j.a.CLAMP_TO_EDGE,minificationFilter:S.a.NEAREST,magnificationFilter:C.a.NEAREST})}),e._tempCopyDepthFramebuffer=new O.a({context:t,colorTextures:[e._tempGlobeDepthTexture],destroyAttachments:!1}),e._updateDepthFramebuffer=new O.a({context:t,colorTextures:[e._globeDepthTexture],depthStencilTexture:a.framebuffer.depthStencilTexture,destroyAttachments:!1})}function l(e,t,i,n,a){var r=a?t.halfFloatingPointTexture?w.a.HALF_FLOAT:w.a.FLOAT:w.a.UNSIGNED_BYTE;e._globeColorTexture=new A.a({context:t,width:i,height:n,pixelFormat:b.a.RGBA,pixelDatatype:r,sampler:new E.a({wrapS:j.a.CLAMP_TO_EDGE,wrapT:j.a.CLAMP_TO_EDGE,minificationFilter:S.a.NEAREST,magnificationFilter:C.a.NEAREST})}),e._depthStencilTexture=new A.a({context:t,width:i,height:n,pixelFormat:b.a.DEPTH_STENCIL,pixelDatatype:w.a.UNSIGNED_INT_24_8}),e._globeDepthTexture=new A.a({context:t,width:i,height:n,pixelFormat:b.a.RGBA,pixelDatatype:w.a.UNSIGNED_BYTE,sampler:new E.a({wrapS:j.a.CLAMP_TO_EDGE,wrapT:j.a.CLAMP_TO_EDGE,minificationFilter:S.a.NEAREST,magnificationFilter:C.a.NEAREST})})}function u(e,t){e._globeColorFramebuffer=new O.a({context:t,colorTextures:[e._globeColorTexture],depthStencilTexture:e._depthStencilTexture,destroyAttachments:!1}),e._copyDepthFramebuffer=new O.a({context:t,colorTextures:[e._globeDepthTexture],destroyAttachments:!1})}function h(e,t,i,n,a){var r=a?t.halfFloatingPointTexture?w.a.HALF_FLOAT:w.a.FLOAT:w.a.UNSIGNED_BYTE;e._primitiveColorTexture=new A.a({context:t,width:i,height:n,pixelFormat:b.a.RGBA,pixelDatatype:r,sampler:new E.a({wrapS:j.a.CLAMP_TO_EDGE,wrapT:j.a.CLAMP_TO_EDGE,minificationFilter:S.a.NEAREST,magnificationFilter:C.a.NEAREST})}),e._primitiveColorFramebuffer=new O.a({context:t,colorTextures:[e._primitiveColorTexture],depthStencilTexture:e._depthStencilTexture,destroyAttachments:!1})}function d(e){e._primitiveColorTexture=e._primitiveColorTexture&&!e._primitiveColorTexture.isDestroyed()&&e._primitiveColorTexture.destroy(),e._primitiveColorFramebuffer=e._primitiveColorFramebuffer&&!e._primitiveColorFramebuffer.isDestroyed()&&e._primitiveColorFramebuffer.destroy()}function f(e,t,i,n,a,s){var c=e._globeColorTexture,f=!Object(_.a)(c)||c.width!==i||c.height!==n||a!==e._useHdr;f&&(r(e),o(e),l(e,t,i,n,a,s),u(e,t,s)),(f||s!==e._clearGlobeDepth)&&(d(e),s&&h(e,t,i,n,a))}function p(e,t,i,n,a){e._viewport.width=i,e._viewport.height=n;var r=!m.a.equals(e._viewport,a.viewport),o=r!==e._useScissorTest;e._useScissorTest=r,m.a.equals(e._scissorRectangle,a.viewport)||(e._scissorRectangle=m.a.clone(a.viewport,e._scissorRectangle),o=!0),Object(_.a)(e._rs)&&m.a.equals(e._viewport,e._rs.viewport)&&!o||(e._rs=x.a.fromCache({viewport:e._viewport,scissorTest:{enabled:e._useScissorTest,rectangle:e._scissorRectangle}}),e._rsBlend=x.a.fromCache({viewport:e._viewport,scissorTest:{enabled:e._useScissorTest,rectangle:e._scissorRectangle},blending:I.a.ALPHA_BLEND}),e._rsUpdate=x.a.fromCache({viewport:e._viewport,scissorTest:{enabled:e._useScissorTest,rectangle:e._scissorRectangle},stencilTest:{enabled:!0,frontFunction:M.a.EQUAL,frontOperation:{fail:L.a.KEEP,zFail:L.a.KEEP,zPass:L.a.KEEP},backFunction:M.a.NEVER,reference:R.a.CESIUM_3D_TILE_MASK,mask:R.a.CESIUM_3D_TILE_MASK}})),Object(_.a)(e._copyDepthCommand)||(e._copyDepthCommand=t.createViewportQuadCommand(D.a,{uniformMap:{u_depthTexture:function(){return e._depthStencilTexture}},owner:e})),e._copyDepthCommand.framebuffer=e._copyDepthFramebuffer,e._copyDepthCommand.renderState=e._rs,Object(_.a)(e._copyColorCommand)||(e._copyColorCommand=t.createViewportQuadCommand(P.a,{uniformMap:{colorTexture:function(){return e._globeColorTexture}},owner:e})),e._copyColorCommand.renderState=e._rs,Object(_.a)(e._tempCopyDepthCommand)||(e._tempCopyDepthCommand=t.createViewportQuadCommand(D.a,{uniformMap:{u_depthTexture:function(){return e._tempCopyDepthTexture}},owner:e})),e._tempCopyDepthCommand.framebuffer=e._tempCopyDepthFramebuffer,e._tempCopyDepthCommand.renderState=e._rs,Object(_.a)(e._updateDepthCommand)||(e._updateDepthCommand=t.createViewportQuadCommand(P.a,{uniformMap:{colorTexture:function(){return e._tempGlobeDepthTexture}},owner:e})),e._updateDepthCommand.framebuffer=e._updateDepthFramebuffer,e._updateDepthCommand.renderState=e._rsUpdate,Object(_.a)(e._clearGlobeColorCommand)||(e._clearGlobeColorCommand=new y.a({color:new g.a(0,0,0,0),stencil:0,owner:e})),e._clearGlobeColorCommand.framebuffer=e._globeColorFramebuffer,Object(_.a)(e._clearPrimitiveColorCommand)||(e._clearPrimitiveColorCommand=new y.a({color:new g.a(0,0,0,0),stencil:0,owner:e})),e._clearPrimitiveColorCommand.framebuffer=e._primitiveColorFramebuffer,Object(_.a)(e._mergeColorCommand)||(e._mergeColorCommand=t.createViewportQuadCommand(P.a,{uniformMap:{colorTexture:function(){return e._primitiveColorTexture}},owner:e})),e._mergeColorCommand.framebuffer=e._globeColorFramebuffer,e._mergeColorCommand.renderState=e._rsBlend}var m=i("or8k"),g=i("6F0S"),_=i("xC6Q"),v=i("6sr8"),b=i("FhYh"),y=i("/DUn"),O=i("YyWD"),w=i("HvCH"),x=i("DrvA"),E=i("l0BX"),T=i("x6Ms"),A=i("25X5"),C=i("YKq0"),S=i("z2iY"),j=i("L4GL"),P=i("E0+e"),D=i("MJbR"),I=i("OtDm"),R=i("x0EE"),M=i("i0h9"),L=i("9URA");Object.defineProperties(n.prototype,{framebuffer:{get:function(){return this._globeColorFramebuffer}},primitiveFramebuffer:{get:function(){return this._primitiveColorFramebuffer}}}),n.prototype.executeDebugGlobeDepth=function(e,t,i){a(this,e,t,i)},n.prototype.update=function(e,t,i,n,a){var r=i.width,o=i.height;f(this,e,r,o,n,a),p(this,e,r,o,t),e.uniformState.globeDepthTexture=void 0,this._useHdr=n,this._clearGlobeDepth=a},n.prototype.executeCopyDepth=function(e,t){Object(_.a)(this._copyDepthCommand)&&(this._copyDepthCommand.execute(e,t),e.uniformState.globeDepthTexture=this._globeDepthTexture)},n.prototype.executeUpdateDepth=function(e,t,i){var n=t.framebuffer.depthStencilTexture;if(i||n!==this._depthStencilTexture){if(Object(_.a)(this._updateDepthCommand)){if(!Object(_.a)(this._updateDepthFramebuffer)||this._updateDepthFramebuffer.depthStencilTexture!==n||this._updateDepthFramebuffer.getColorTexture(0)!==this._globeDepthTexture){var a=this._globeDepthTexture.width,r=this._globeDepthTexture.height;s(this),c(this,e,a,r,t),p(this,e,a,r,t)}this._tempCopyDepthTexture=n,this._tempCopyDepthCommand.execute(e,t),this._updateDepthCommand.execute(e,t)}}else Object(_.a)(this._copyDepthCommand)&&this._copyDepthCommand.execute(e,t)},n.prototype.executeCopyColor=function(e,t){Object(_.a)(this._copyColorCommand)&&this._copyColorCommand.execute(e,t)},n.prototype.executeMergeColor=function(e,t){Object(_.a)(this._mergeColorCommand)&&this._mergeColorCommand.execute(e,t)},n.prototype.clear=function(e,t,i){var n=this._clearGlobeColorCommand;Object(_.a)(n)&&(g.a.clone(i,n.color),n.execute(e,t)),n=this._clearPrimitiveColorCommand,Object(_.a)(n)&&Object(_.a)(this._primitiveColorFramebuffer)&&n.execute(e,t)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return r(this),o(this),d(this),s(this),Object(_.a)(this._copyColorCommand)&&(this._copyColorCommand.shaderProgram=this._copyColorCommand.shaderProgram.destroy()),Object(_.a)(this._copyDepthCommand)&&(this._copyDepthCommand.shaderProgram=this._copyDepthCommand.shaderProgram.destroy()),Object(_.a)(this._tempCopyDepthCommand)&&(this._tempCopyDepthCommand.shaderProgram=this._tempCopyDepthCommand.shaderProgram.destroy()),Object(_.a)(this._updateDepthCommand)&&(this._updateDepthCommand.shaderProgram=this._updateDepthCommand.shaderProgram.destroy()),Object(_.a)(this._mergeColorCommand)&&(this._mergeColorCommand.shaderProgram=this._mergeColorCommand.shaderProgram.destroy()),Object(_.a)(this._debugGlobeDepthViewportCommand)&&(this._debugGlobeDepthViewportCommand.shaderProgram=this._debugGlobeDepthViewportCommand.shaderProgram.destroy()),Object(v.a)(this)},t.a=n},vDBe:function(e,t,i){"use strict";function n(e,t){return m.a.compare(e.start,t.start)}function a(e){if(this._intervals=[],this._changedEvent=new h.a,Object(l.a)(e))for(var t=e.length,i=0;i<t;i++)this.addInterval(e[i])}function r(e,t,i){Object(l.a)(i)||(i=new m.a),m.a.toGregorianDate(e,v);var n=v.millisecond+t.millisecond,a=v.second+t.second,r=v.minute+t.minute,o=v.hour+t.hour,s=v.day+t.day,c=v.month+t.month,u=v.year+t.year;for(n>=1e3&&(a+=Math.floor(n/1e3),n%=1e3),a>=60&&(r+=Math.floor(a/60),a%=60),r>=60&&(o+=Math.floor(r/60),r%=60),o>=24&&(s+=Math.floor(o/24),o%=24),b[2]=Object(f.a)(u)?29:28;s>b[c]||c>=13;)s>b[c]&&(s-=b[c],++c),c>=13&&(--c,u+=Math.floor(c/12),c%=12,++c),b[2]=Object(f.a)(u)?29:28;return v.millisecond=n,v.second=a,v.minute=r,v.hour=o,v.day=s,v.month=c,v.year=u,m.a.fromGregorianDate(v,i)}function o(e,t){if(!Object(l.a)(e)||0===e.length)return!1;if(t.year=0,t.month=0,t.day=0,t.hour=0,t.minute=0,t.second=0,t.millisecond=0,"P"===e[0]){var i=e.match(O);if(!Object(l.a)(i))return!1;if(Object(l.a)(i[1])&&(t.year=Number(i[1].replace(",","."))),Object(l.a)(i[2])&&(t.month=Number(i[2].replace(",","."))),Object(l.a)(i[3])&&(t.day=7*Number(i[3].replace(",","."))),Object(l.a)(i[4])&&(t.day+=Number(i[4].replace(",","."))),Object(l.a)(i[5])&&(t.hour=Number(i[5].replace(",","."))),Object(l.a)(i[6])&&(t.minute=Number(i[6].replace(",","."))),Object(l.a)(i[7])){var n=Number(i[7].replace(",","."));t.second=Math.floor(n),t.millisecond=n%1*1e3}}else"Z"!==e[e.length-1]&&(e+="Z"),m.a.toGregorianDate(m.a.fromIso8601(e,y),t);return t.year||t.month||t.day||t.hour||t.minute||t.second||t.millisecond}var s=i("KPbu"),c=i("5A4e"),l=i("xC6Q"),u=i("PzDm"),h=i("W6xh"),d=i("/ZBS"),f=i("r37A"),p=i("DsDe"),m=i("9Uqs"),g=i("tQPh");Object.defineProperties(a.prototype,{changedEvent:{get:function(){return this._changedEvent}},start:{get:function(){var e=this._intervals;return 0===e.length?void 0:e[0].start}},isStartIncluded:{get:function(){var e=this._intervals;return 0!==e.length&&e[0].isStartIncluded}},stop:{get:function(){var e=this._intervals,t=e.length;return 0===t?void 0:e[t-1].stop}},isStopIncluded:{get:function(){var e=this._intervals,t=e.length;return 0!==t&&e[t-1].isStopIncluded}},length:{get:function(){return this._intervals.length}},isEmpty:{get:function(){return 0===this._intervals.length}}}),a.prototype.equals=function(e,t){if(this===e)return!0;if(!(e instanceof a))return!1;var i=this._intervals,n=e._intervals,r=i.length;if(r!==n.length)return!1;for(var o=0;o<r;o++)if(!g.a.equals(i[o],n[o],t))return!1;return!0},a.prototype.get=function(e){if(!Object(l.a)(e))throw new u.a("index is required.");return this._intervals[e]},a.prototype.removeAll=function(){this._intervals.length>0&&(this._intervals.length=0,this._changedEvent.raiseEvent(this))},a.prototype.findIntervalContainingDate=function(e){var t=this.indexOf(e);return t>=0?this._intervals[t]:void 0},a.prototype.findDataForIntervalContainingDate=function(e){var t=this.indexOf(e);return t>=0?this._intervals[t].data:void 0},a.prototype.contains=function(e){return this.indexOf(e)>=0};var _=new g.a;a.prototype.indexOf=function(e){if(!Object(l.a)(e))throw new u.a("date is required");var t=this._intervals;_.start=e,_.stop=e;var i=Object(s.a)(t,_,n);return i>=0?t[i].isStartIncluded?i:i>0&&t[i-1].stop.equals(e)&&t[i-1].isStopIncluded?i-1:~i:(i=~i,i>0&&i-1<t.length&&g.a.contains(t[i-1],e)?i-1:~i)},a.prototype.findInterval=function(e){e=Object(c.a)(e,c.a.EMPTY_OBJECT);for(var t=e.start,i=e.stop,n=e.isStartIncluded,a=e.isStopIncluded,r=this._intervals,o=0,s=r.length;o<s;o++){var u=r[o];if((!Object(l.a)(t)||u.start.equals(t))&&(!Object(l.a)(i)||u.stop.equals(i))&&(!Object(l.a)(n)||u.isStartIncluded===n)&&(!Object(l.a)(a)||u.isStopIncluded===a))return r[o]}},a.prototype.addInterval=function(e,t){if(!Object(l.a)(e))throw new u.a("interval is required");if(!e.isEmpty){var i=this._intervals;if(0===i.length||m.a.greaterThan(e.start,i[i.length-1].stop))return i.push(e),void this._changedEvent.raiseEvent(this);var a=Object(s.a)(i,e,n);a<0?a=~a:a>0&&e.isStartIncluded&&i[a-1].isStartIncluded&&i[a-1].start.equals(e.start)?--a:a<i.length&&!e.isStartIncluded&&i[a].isStartIncluded&&i[a].start.equals(e.start)&&++a;var r;for(a>0&&((r=m.a.compare(i[a-1].stop,e.start))>0||0===r&&(i[a-1].isStopIncluded||e.isStartIncluded))&&((Object(l.a)(t)?t(i[a-1].data,e.data):i[a-1].data===e.data)?(e=m.a.greaterThan(e.stop,i[a-1].stop)?new g.a({start:i[a-1].start,stop:e.stop,isStartIncluded:i[a-1].isStartIncluded,isStopIncluded:e.isStopIncluded,data:e.data}):new g.a({start:i[a-1].start,stop:i[a-1].stop,isStartIncluded:i[a-1].isStartIncluded,isStopIncluded:i[a-1].isStopIncluded||e.stop.equals(i[a-1].stop)&&e.isStopIncluded,data:e.data}),i.splice(a-1,1),--a):(r=m.a.compare(i[a-1].stop,e.stop),(r>0||0===r&&i[a-1].isStopIncluded&&!e.isStopIncluded)&&i.splice(a,0,new g.a({start:e.stop,stop:i[a-1].stop,isStartIncluded:!e.isStopIncluded,isStopIncluded:i[a-1].isStopIncluded,data:i[a-1].data})),i[a-1]=new g.a({start:i[a-1].start,stop:e.start,isStartIncluded:i[a-1].isStartIncluded,isStopIncluded:!e.isStartIncluded,data:i[a-1].data})));a<i.length&&((r=m.a.compare(e.stop,i[a].start))>0||0===r&&(e.isStopIncluded||i[a].isStartIncluded));)if(Object(l.a)(t)?t(i[a].data,e.data):i[a].data===e.data)e=new g.a({start:e.start,stop:m.a.greaterThan(i[a].stop,e.stop)?i[a].stop:e.stop,isStartIncluded:e.isStartIncluded,isStopIncluded:m.a.greaterThan(i[a].stop,e.stop)?i[a].isStopIncluded:e.isStopIncluded,data:e.data}),i.splice(a,1);else{if(i[a]=new g.a({start:e.stop,stop:i[a].stop,isStartIncluded:!e.isStopIncluded,isStopIncluded:i[a].isStopIncluded,data:i[a].data}),!i[a].isEmpty)break;i.splice(a,1)}i.splice(a,0,e),this._changedEvent.raiseEvent(this)}},a.prototype.removeInterval=function(e){if(!Object(l.a)(e))throw new u.a("interval is required");if(e.isEmpty)return!1;var t=this._intervals,i=Object(s.a)(t,e,n);i<0&&(i=~i);var a=!1;for(i>0&&(m.a.greaterThan(t[i-1].stop,e.start)||t[i-1].stop.equals(e.start)&&t[i-1].isStopIncluded&&e.isStartIncluded)&&(a=!0,(m.a.greaterThan(t[i-1].stop,e.stop)||t[i-1].isStopIncluded&&!e.isStopIncluded&&t[i-1].stop.equals(e.stop))&&t.splice(i,0,new g.a({start:e.stop,stop:t[i-1].stop,isStartIncluded:!e.isStopIncluded,isStopIncluded:t[i-1].isStopIncluded,data:t[i-1].data})),t[i-1]=new g.a({start:t[i-1].start,stop:e.start,isStartIncluded:t[i-1].isStartIncluded,isStopIncluded:!e.isStartIncluded,data:t[i-1].data})),i<t.length&&!e.isStartIncluded&&t[i].isStartIncluded&&e.start.equals(t[i].start)&&(a=!0,t.splice(i,0,new g.a({start:t[i].start,stop:t[i].start,isStartIncluded:!0,isStopIncluded:!0,data:t[i].data})),++i);i<t.length&&m.a.greaterThan(e.stop,t[i].stop);)a=!0,t.splice(i,1);return i<t.length&&e.stop.equals(t[i].stop)&&(a=!0,!e.isStopIncluded&&t[i].isStopIncluded?i+1<t.length&&t[i+1].start.equals(e.stop)&&t[i].data===t[i+1].data?(t.splice(i,1),t[i]=new g.a({start:t[i].start,stop:t[i].stop,isStartIncluded:!0,isStopIncluded:t[i].isStopIncluded,data:t[i].data})):t[i]=new g.a({start:e.stop,stop:e.stop,isStartIncluded:!0,isStopIncluded:!0,data:t[i].data}):t.splice(i,1)),i<t.length&&(m.a.greaterThan(e.stop,t[i].start)||e.stop.equals(t[i].start)&&e.isStopIncluded&&t[i].isStartIncluded)&&(a=!0,t[i]=new g.a({start:e.stop,stop:t[i].stop,isStartIncluded:!e.isStopIncluded,isStopIncluded:t[i].isStopIncluded,data:t[i].data})),a&&this._changedEvent.raiseEvent(this),a},a.prototype.intersect=function(e,t,i){if(!Object(l.a)(e))throw new u.a("other is required.");for(var n=new a,r=0,o=0,s=this._intervals,c=e._intervals;r<s.length&&o<c.length;){var h=s[r],d=c[o];if(m.a.lessThan(h.stop,d.start))++r;else if(m.a.lessThan(d.stop,h.start))++o;else{if(Object(l.a)(i)||Object(l.a)(t)&&t(h.data,d.data)||!Object(l.a)(t)&&d.data===h.data){var f=g.a.intersect(h,d,new g.a,i);f.isEmpty||n.addInterval(f,t)}m.a.lessThan(h.stop,d.stop)||h.stop.equals(d.stop)&&!h.isStopIncluded&&d.isStopIncluded?++r:++o}}return n},a.fromJulianDateArray=function(e,t){if(!Object(l.a)(e))throw new u.a("options is required.");if(!Object(l.a)(e.julianDates))throw new u.a("options.iso8601Array is required.");Object(l.a)(t)||(t=new a);var i,n=e.julianDates,r=n.length,o=e.dataCallback,s=Object(c.a)(e.isStartIncluded,!0),h=Object(c.a)(e.isStopIncluded,!0),d=Object(c.a)(e.leadingInterval,!1),f=Object(c.a)(e.trailingInterval,!1),m=0;d&&(++m,i=new g.a({start:p.a.MINIMUM_VALUE,stop:n[0],isStartIncluded:!0,isStopIncluded:!s}),i.data=Object(l.a)(o)?o(i,t.length):t.length,t.addInterval(i));for(var _=0;_<r-1;++_){var v=n[_],b=n[_+1];i=new g.a({start:v,stop:b,isStartIncluded:t.length!==m||s,isStopIncluded:_===r-2&&h}),i.data=Object(l.a)(o)?o(i,t.length):t.length,t.addInterval(i),v=b}return f&&(i=new g.a({start:n[r-1],stop:p.a.MAXIMUM_VALUE,isStartIncluded:!h,isStopIncluded:!0}),i.data=Object(l.a)(o)?o(i,t.length):t.length,t.addInterval(i)),t};var v=new d.a,b=[0,31,28,31,30,31,30,31,31,30,31,30,31],y=new m.a,O=/P(?:([\d.,]+)Y)?(?:([\d.,]+)M)?(?:([\d.,]+)W)?(?:([\d.,]+)D)?(?:T(?:([\d.,]+)H)?(?:([\d.,]+)M)?(?:([\d.,]+)S)?)?/,w=new d.a;a.fromIso8601=function(e,t){if(!Object(l.a)(e))throw new u.a("options is required.");if(!Object(l.a)(e.iso8601))throw new u.a("options.iso8601 is required.");var i=e.iso8601.split("/"),n=m.a.fromIso8601(i[0]),s=m.a.fromIso8601(i[1]),c=[];if(o(i[2],w)){var h=m.a.clone(n);for(c.push(h);m.a.compare(h,s)<0;){h=r(h,w);m.a.compare(s,h)<=0&&m.a.clone(s,h),c.push(h)}}else c.push(n,s);return a.fromJulianDateArray({julianDates:c,isStartIncluded:e.isStartIncluded,isStopIncluded:e.isStopIncluded,leadingInterval:e.leadingInterval,trailingInterval:e.trailingInterval,dataCallback:e.dataCallback},t)},a.fromIso8601DateArray=function(e,t){if(!Object(l.a)(e))throw new u.a("options is required.");if(!Object(l.a)(e.iso8601Dates))throw new u.a("options.iso8601Dates is required.");return a.fromJulianDateArray({julianDates:e.iso8601Dates.map(function(e){return m.a.fromIso8601(e)}),isStartIncluded:e.isStartIncluded,isStopIncluded:e.isStopIncluded,leadingInterval:e.leadingInterval,trailingInterval:e.trailingInterval,dataCallback:e.dataCallback},t)},a.fromIso8601DurationArray=function(e,t){if(!Object(l.a)(e))throw new u.a("options is required.");if(!Object(l.a)(e.epoch))throw new u.a("options.epoch is required.");if(!Object(l.a)(e.iso8601Durations))throw new u.a("options.iso8601Durations is required.");for(var i,n,s=e.epoch,h=e.iso8601Durations,d=Object(c.a)(e.relativeToPrevious,!1),f=[],p=h.length,m=0;m<p;++m)(o(h[m],w)||0===m)&&(i=d&&Object(l.a)(n)?r(n,w):r(s,w),f.push(i),n=i);return a.fromJulianDateArray({julianDates:f,isStartIncluded:e.isStartIncluded,isStopIncluded:e.isStopIncluded,leadingInterval:e.leadingInterval,trailingInterval:e.trailingInterval,dataCallback:e.dataCallback},t)},t.a=a},"vFc/":function(e,t,i){var n=i("TcQ7"),a=i("QRG4"),r=i("fkB2");e.exports=function(e){return function(t,i,o){var s,c=n(t),l=a(c.length),u=r(o,l);if(e&&i!=i){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===i)return e||u||0;return!e&&-1}}},vLm7:function(e,t,i){"use strict";function n(e,t){var i={byteLength:t.length,extras:{_pipeline:{source:t}}},n=Object(a.a)(e.buffers,i),r={buffer:n,byteOffset:0,byteLength:t.length};return Object(a.a)(e.bufferViews,r)}var a=i("gjak");t.a=n},vTeM:function(e,t,i){"use strict";function n(e,t){var i=e.extensionsRequired;Object(o.a)(i)||(i=[],e.extensionsRequired=i),Object(r.a)(i,t,!0),Object(a.a)(e,t)}var a=i("o/vQ"),r=i("gjak"),o=i("xC6Q");t.a=n},vUK3:function(e,t,i){"use strict";var n=(i("DPkk"),i("taVF"),i("X8rS"),i("7uRt"),i("j90k"),i("nzu/"),i("uqkJ"),i("gD1G"),i("or8k"),i("lBr9"),i("7snz"),i("W3jk"),i("Ss9j"),i("Jj+J"));i.d(t,"a",function(){return n.a});var a=(i("PDkd"),i("I3GD"),i("vhwl"),i("Wdl7"),i("1+jh"),i("5F4X"),i("9lQu"),i("6KSh"),i("gDU9"),i("P5H1"),i("miaP"),i("6F0S"),i("devy"),i("YCZg"),i("MNi1"),i("Tenz"),i("2MMM"),i("8aKa"),i("sEJp"),i("2IZB"),i("M4f6"),i("HH9G"),i("ODTd"),i("7PaD"),i("XHlg"),i("LZ9m"),i("HYkQ"),i("2eOl"),i("MMCB"),i("PzDm"),i("2d28"),i("2kyc"),i("lo7V"),i("JdjY"),i("VQnm"),i("jxrD"),i("pH/u"),i("fCa+"),i("I+Ny"),i("y6fO"),i("MWnf"),i("KjOc"),i("ckFl"),i("uZf/"),i("GmON"),i("L7/G"),i("PRoZ"),i("Is4l"),i("W6xh"),i("HMO3"),i("F6/P"),i("gjtw"),i("TkFC"),i("42aX"),i("fH8I"),i("lVfo"),i("lagm"),i("eUIW"),i("4MnW"),i("RGAo"),i("RYD3"),i("GaJK"),i("izcu"),i("WW3v"),i("2g+t"),i("odWO"),i("pLXb"),i("GiV9"),i("SLTh"),i("5Y7P"),i("gx6D"),i("/ZBS"),i("BvZ0"),i("ZHSH"),i("72xV"),i("km4D"),i("giWl"),i("l3S0"),i("BEV1"),i("qieD"),i("EShY"),i("S8pZ"),i("zPNK"),i("7mcq"),i("WzJ8"),i("bo7c"),i("oMsT"),i("gR7S"),i("u909"),i("Myjj"),i("8rzt"),i("ogen"),i("dNIU"));i.d(t,"b",function(){return a.a});var r=(i("WUNo"),i("PTtG"),i("DsDe"),i("9Uqs"),i("j94w"),i("68ZK"),i("IZPL"),i("8EHP"),i("fajW"),i("sntn"),i("AuQs"),i("rk7A"),i("fq+p"));i.d(t,"c",function(){return r.a});var o=(i("BvC/"),i("i3sv"),i("Xjii"),i("UkIP"),i("MTwh"),i("wpHJ"),i("IyxF"),i("qBw0"),i("ku5u"),i("rpO5"),i("VOlO"),i("bWd/"),i("EquO"),i("MYGk"),i("IPrE"),i("Fd8u"),i("FhYh"),i("kRxM"),i("sjyQ"),i("Xnmy"),i("yAuC"),i("qG/l"),i("rEiK"),i("Isxj"),i("EDAM"),i("jo6B"),i("QhJM"),i("Am+W"),i("VpTN"),i("o58b"),i("nHNe"),i("VBo5"),i("OLRm"),i("LeJA"),i("q/xW"),i("rZrK"),i("z43S"),i("/++d"),i("Wq1U"),i("1+Ai"),i("kJ95"),i("0dqR"),i("Zw1C"),i("IDfv"),i("dI/G"),i("JyL3"),i("Y45Y"),i("YBjH"),i("0pio"),i("rMjQ"),i("V22k"),i("UkUD"),i("szK2"),i("zSqc"),i("nyDB"),i("0Yxt"),i("yuee"),i("+VVU"),i("KLeW"),i("Jn+X"),i("JlUm"),i("XfO2"),i("c/Hq"),i("o9ZK"),i("9xui"),i("CWGf"),i("gLPK"),i("GpnP"),i("M1To"),i("gCfi"),i("9ZH6"),i("tQPh"),i("vDBe"),i("Bosk"),i("M1aY"),i("g/FO"),i("jrQD"),i("fu8w"),i("6up9"),i("8g3U"),i("xvTE"),i("Rr9o"),i("h+i9"),i("Y23K"),i("+yKu"),i("Ja8v"),i("1L1F"),i("6AvQ"),i("Y4y7"),i("zf0W"),i("+snP"),i("4llK"),i("Sfsp"),i("6Ilv"),i("Xku3"),i("fwwW"),i("KPbu"),i("CcV0"),i("zoG5"),i("wv0P"),i("ZboF"),i("ed27"),i("mft1"));i.d(t,"f",function(){return o.a});var s=(i("IwI9"),i("5A4e"),i("xC6Q"),i("49Ew"),i("6sr8"),i("fr+a"),i("u44x"),i("rM7e"),i("5DBO"),i("WROA"),i("NxCm"),i("l7qC"),i("Q+B7"),i("n08a"),i("7dXQ"),i("1eJt"),i("3t6G"),i("TDdX"),i("L75e"),i("r37A"),i("eMEA"),i("O41A"),i("DPpe"),i("RWMz"),i("9djt"),i("BzNj"),i("VF2d"),i("JjdN"),i("buKJ"),i("4A4c"),i("JrQp"),i("cesB"),i("QOpN"),i("6rR9"),i("KLdj"),i("2LHl"),i("PPvX"),i("EFEs"),i("1L+j"),i("Ao2p"),i("P+tD"),i("4eJ4"),i("w6iD"),i("h3qT"),i("kVOD"),i("0afR"),i("49+N"),i("I5FW"),i("Z1rx"),i("VLkd"),i("VhtT"),i("sVWN"),i("jQbM"),i("53NE"),i("6cxr"),i("L47L"),i("FBxm"),i("So8u"),i("yKBu"),i("gqYB"),i("jjt3"),i("oIh2"),i("OMvD"),i("Rlfl"),i("C3wi"),i("5s/y"),i("++9R"),i("t7Qx"),i("TGuQ"),i("bnBh"),i("dMpj"),i("eZY8"),i("K+QI"),i("A5oW"),i("c8Ld"),i("rVBE"),i("dYlf"),i("/tIl"),i("ekBq"),i("+4Es"),i("XUgp"),i("LuH3"),i("186r"),i("PLR4"),i("cB1V"),i("pZIl"),i("nO52"),i("1FwE"),i("7xsx"),i("ZIO3"),i("fsSI"),i("6kgQ"),i("lwv5"),i("eBEn"),i("nUpE"),i("zFgJ"),i("PCU7"),i("KwwP"),i("7fNQ"),i("o8TK"),i("RmbG"),i("R51h"),i("N2ZB"),i("/P0d"),i("xtiq"),i("GySV"),i("Z2Pl"),i("0RrP"),i("ybqt"),i("mUvA"),i("rfxP"),i("uhjI"),i("i01K"),i("RbQZ"),i("zlN4"),i("rFgN"),i("G29O"),i("I5mA"),i("TuWn"),i("mEEk"),i("snMV"),i("t5zj"),i("Z1NC"),i("7j96"),i("Dg5Q"),i("NzWT"),i("3a1T"),i("4gQa"),i("ysmW"),i("NUUv"),i("c4pm"),i("0F/2"),i("LxRp"),i("QpGe"),i("UY43"),i("urdP"),i("ZT9/"),i("6ktF"),i("7687"),i("huC5"),i("S7PT"),i("mFnG"),i("Zcrm"),i("tW+E"),i("rFKc"),i("/DUn"),i("/Bhn"),i("5kJD"),i("d+Fs"),i("J1no"),i("VvLh"),i("jzj/"),i("1mJh"),i("YyWD"),i("T7Or"),i("M0+0"),i("o12a"),i("HvCH"),i("DrvA"),i("oosW"),i("TkhT"),i("l0BX"),i("zarC"),i("WUlw"),i("x6Ms"),i("25X5"),i("1u5j"),i("YKq0"),i("z2iY"),i("L4GL"),i("qT6X"),i("+0EW"),i("OVtG"),i("5Vrx"),i("4JNl"),i("2bm4"),i("00Ds"),i("1v7x"),i("EaVv"),i("fSWn"),i("2JXb"),i("AP+J"),i("6tn6"),i("gsn9"),i("VdXv"),i("cTEo"),i("UQXk"),i("Hwbb"),i("vcY8"),i("zONr"),i("FuYn"),i("mRvb"),i("ib1+"),i("OtDm"),i("UrKe"),i("bOmZ"),i("St4O"),i("YnUm"),i("aApw"),i("YfNe"),i("KIL7"),i("sNK4"),i("TYbU"),i("whea"),i("d0ze"),i("R5dd"),i("/Wph"),i("6aMI"),i("ZU0d"),i("izBM"),i("2Fo0"),i("GrLQ"),i("W55+"),i("Qv/e"),i("C5Kx"),i("3jm5"),i("sRds"),i("B1z7"),i("hTiu"),i("yKZV"),i("WgMS"),i("Wy+Q"),i("/Mfz"),i("Atl/"),i("fBqs"),i("M1dj"),i("+ie1"),i("Jl4s"),i("Lx6B"),i("Zg8T"),i("/1n7"),i("6S5m"),i("QcB4"),i("3fQz"),i("m28O"),i("oiLF"),i("FB01"),i("jFv/"),i("9QkX"),i("Rpsb"),i("0BQ9"),i("wGGO"),i("+EMA"),i("CAx4"),i("zrBd"),i("B8W5"),i("NJ3Y"),i("ainS"),i("ok/U"),i("376T"),i("PDf1"),i("qGas"),i("Exau"),i("MLtC"),i("sFKM"),i("apxI"),i("teo2"),i("v62d"),i("Fp/y"),i("jR3i"),i("dSt4"),i("VFU2"),i("7Hyf"),i("/fYS"),i("u/r6"),i("zGMv"),i("JIo7"),i("EwVK"),i("sZr9"),i("u/3x"),i("8M+T"),i("ePuJ"),i("1eBa"),i("aKd4"),i("l1tn"),i("ds2s"),i("Al2o"),i("cHuy"),i("WJVr"),i("S0lh"),i("GPPq"),i("WmND"),i("UdIQ"),i("RyAG"),i("8i9/"),i("6Euq"),i("xBRe"),i("4F8Z"),i("5SZ+"),i("xEUC"),i("kRYv"),i("Z8Uk"),i("AYAi"),i("xtvr"),i("jn3B"),i("vvtH"),i("dbGU"),i("VxC8"),i("xVcD"),i("lGcN"),i("/RMi"),i("EH9U"),i("67ZH"),i("BOHs"),i("tspv"),i("5qFU"),i("pfpV"),i("soQd"),i("loHl"),i("BMJK"),i("hQDq"),i("7eRv"),i("CPxO"),i("BOJj"),i("/Yk1"),i("BTyi"),i("Fib7"),i("Nft1"),i("yjNj"),i("MryW"),i("Khf6"),i("uE/L"),i("0OY+"),i("eHtW"),i("XNBP"),i("fEkY"),i("ZmAt"),i("DWwl"),i("87Vu"),i("CXxX"),i("Ov8w"),i("08bt"),i("efDu"),i("zMyv"),i("LIga"),i("0df4"),i("ebOZ"),i("dBXn"),i("iaSs"),i("lmKU"),i("h5D9"),i("I6c9"),i("u1iC"),i("0cNR"),i("NFk4"),i("E+a9"),i("Uaim"),i("sotJ"),i("D2nr"),i("Zj43"),i("lovY"),i("7IeB"),i("FeGa"),i("ARzC"),i("W66u"),i("Z/cH"),i("7wJ7"),i("nzLv"),i("ryzl"),i("x0EE"),i("i0h9"),i("9URA"),i("aN6r"),i("y04v"),i("WZiu"),i("Otme"),i("V2UA"),i("+Bp5"),i("ERAX"),i("JozK"),i("F8sz"),i("eaJ4"),i("Bhjd"),i("YmY/"),i("7D+A"),i("nBeE"),i("dp99"),i("r6sZ"),i("qqab"),i("BF5f"),i("yFAi"),i("otw6"),i("+MAN"),i("TfeD"),i("oQwc"),i("LS2q"),i("ixF4"),i("Q35R"),i("9ZZ+"),i("b49P"),i("BOF4"),i("7ynu"),i("jSWP"),i("H5bb"),i("4xuv"),i("Lub+"),i("npu7"),i("K3VA"),i("Be4x"),i("vY3F"),i("Mef0"),i("4Dr5"),i("qEhp"),i("7Xkg"),i("YC0M"),i("qy4r"),i("52/g"),i("ewGw"),i("4ats"),i("dDui"),i("uqjm"),i("a2Pd"),i("1YcF"),i("zgiT"),i("tNct"),i("6BcB"),i("E3Re"),i("iMFZ"),i("CL7l"),i("tUE0"),i("0Jwc"),i("y67q"),i("KzcB"),i("gfcf"),i("QgvK"),i("6fa5"),i("/Ufj"),i("qZq1"),i("vuRe"),i("TtQE"),i("T6CX"),i("xW/D"),i("zMSt"),i("nfk5"),i("XnWo"),i("DIpd"),i("F0u8"),i("JdCg"),i("SOVN"),i("V739"),i("A4vh"),i("X72x"),i("eiC9"),i("0uM5"),i("VUWD"),i("WQL2"),i("JSx5"),i("yOzb"),i("UETe"),i("bCEy"),i("/yZF"),i("g5zr"),i("8Vjj"),i("Zc6L"),i("Dw7b"),i("Zdr5"),i("CsKk"),i("Wpmx"),i("kruX"),i("Mdde"),i("PKIF"),i("j43V"),i("Cm66"),i("gHot"),i("Yykp"),i("8Pv0"),i("88yN"),i("rhka"),i("3FSN"),i("S7OP"),i("k7uJ"),i("HxGC"),i("TrlY"),i("bhTA"),i("qJFV"),i("37bU"),i("E9RU"),i("k6tp"),i("qy+6"),i("Nxf2"),i("NbO3"),i("cH2j"),i("A9Z2"),i("MVQ4"),i("tgoP"),i("aLyO"),i("TWe9"),i("PZX5"),i("b/a4"),i("PzuF"),i("lV5x"),i("P/Sx"),i("Bcuy"),i("7ibv"),i("qOxY"),i("7rSz"),i("mDWl"),i("jfJn"),i("YGJX"),i("OZOx"),i("WVIq"),i("0KUP"),i("OmGJ"),i("617r"),i("DB3y"),i("unrA"),i("CA5F"),i("bL1c"),i("jktP"),i("JsLo"),i("UlX4"),i("wZuP"),i("cRnE"),i("dhoM"),i("lgRh"),i("8X7g"),i("9nCK"),i("S21Q"),i("JFrF"),i("gkaR"),i("08D5"),i("U8zd"),i("+VQ/"),i("p4mb"),i("K8Sv"),i("rhXD"),i("lnSD"),i("mnnV"),i("2Cyj"),i("tLS6"),i("E0+e"),i("MJbR"),i("dt28"),i("ymZb"),i("8VAC"),i("FJg6"),i("vLm7"),i("K8l+"),i("vTeM"),i("o/vQ"),i("ZGiz"),i("gjak"),i("OdOp"),i("dWoC"),i("QQK7"),i("dnpE"),i("opDe"),i("ZmQD"),i("8uSS"),i("xc3H"),i("qavO"),i("wv+D"),i("Uc30"),i("nuRc"),i("Q8Zd"),i("beGl"),i("d+a7"),i("3LRE"),i("HDPB"),i("lkIJ"),i("lNFN"),i("9JyB"),i("seln"),i("wiNt"),i("3QSf"),i("VWvt"),i("ZwHA"),i("/8qB"),i("RSI9"),i("WwX8"),i("imMH"),i("KnOE"),i("we7d"),i("zhoD"),i("JgEv"),i("T5xC"),i("2mmy"),i("QMGb"),i("I3ep"),i("YQHG"),i("WyUw"),i("+DnM"),i("BFuI"),i("4WGI"),i("3W40"),i("lubo"),i("JXpW"),i("D98s"),i("TnJT"),i("ZspB"),i("MY1y"),i("Mnlr"),i("4X+t"),i("48Vk"));i.d(t,"d",function(){return s.a});i("3ew/"),i("7lip"),i("LF+s"),i("kulZ"),i("gSHj"),i("OTuC"),i("Nz15"),i("aMfN"),i("uEkt"),i("EnGv"),i("zpvC"),i("TLNj"),i("0eI/"),i("I8pF"),i("pd23"),i("Xtn+"),i("FQmP"),i("W/pv"),i("Plo4"),i("4PZS"),i("XJYV"),i("0mW+"),i("/FnE"),i("k8Lw"),i("AyU4"),i("ArLp"),i("k6SC"),i("tr29"),i("QSrk"),i("HcRA"),i("yhQV"),i("2O47"),i("vq8n"),i("kh8h"),i("Oyq1"),i("EBXK"),i("T1En"),i("3ICp"),i("pEVw"),i("M7iW"),i("W28a"),i("XL6Z"),i("L8Sq"),i("QRkk"),i("WvYO"),i("KbD2"),i("PvyP"),i("3Uwf"),i("bDe7"),i("kOga"),i("P7RB"),i("y8wP"),i("MFJQ"),i("1lP0"),i("0ewm"),i("s45H"),i("OOhG"),i("BhNW"),i("09MF"),i("JUp/"),i("WxlN"),i("lIfV"),i("bA2o"),i("IwxH"),i("qHse"),i("3Vop"),i("PO0j"),i("rUNo"),i("KmX2"),i("whUw"),i("+qfG"),i("isL5"),i("YMVM"),i("bte5"),i("yE8y"),i("WAeM"),i("abEu"),i("Nc9q"),i("w5J1"),i("uBAn"),i("WHkf"),i("c7Hj"),i("SoU4"),i("yFqe"),i("Mol/"),i("r80a"),i("UQ3W"),i("lWL3"),i("t7gg"),i("H7f0"),i("W00h"),i("qIfy"),i("v2AQ"),i("3o8J"),i("0hMU"),i("H8oQ"),i("n1gM"),i("6Dh7"),i("76lF"),i("Zraw"),i("bqkI"),i("a1IE"),i("uHh8"),i("7tv9"),i("HWYr"),i("C4wJ"),i("5yDm"),i("hmjO"),i("tL9o"),i("VjSM"),i("cvEb"),i("0u+h"),i("jNpS"),i("XvIW"),i("cLHE"),i("A+Fs"),i("OhCH"),i("FRQM"),i("S81E"),i("+chV")},vY3F:function(e,t,i){"use strict";function n(e,t,i,n,a){return function(){var r=document.createElement("canvas"),o=a+2*n;r.height=r.width=o;var s=r.getContext("2d");return s.clearRect(0,0,o,o),0!==n&&(s.beginPath(),s.arc(o/2,o/2,o/2,0,2*Math.PI,!0),s.closePath(),s.fillStyle=i,s.fill(),e<1&&(s.save(),s.globalCompositeOperation="destination-out",s.beginPath(),s.arc(o/2,o/2,a/2,0,2*Math.PI,!0),s.closePath(),s.fillStyle="black",s.fill(),s.restore())),s.beginPath(),s.arc(o/2,o/2,a/2,0,2*Math.PI,!0),s.closePath(),s.fillStyle=t,s.fill(),r}}t.a=n},vcY8:function(e,t,i){"use strict";function n(e){function t(e){if(1!==e.resourceSets.length)return void i();var t=e.resourceSets[0].resources[0];x._tileWidth=t.imageWidth,x._tileHeight=t.imageHeight,x._maximumLevel=t.zoomMax-1,x._imageUrlSubdomains=t.imageUrlSubdomains,x._imageUrlTemplate=t.imageUrl;var n=x._attributionList=t.imageryProviders;n||(n=x._attributionList=[]);for(var a=0,r=n.length;a<r;++a){var o=n[a];if(o.credit instanceof l.a)break;o.credit=new l.a(o.attribution);for(var c=o.coverageAreas,u=0,h=o.coverageAreas.length;u<h;++u){var d=c[u],f=d.bbox;d.bbox=new m.a(p.a.toRadians(f[1]),p.a.toRadians(f[0]),p.a.toRadians(f[3]),p.a.toRadians(f[2]))}}x._ready=!0,x._readyPromise.resolve(!0),v.a.handleSuccess(s)}function i(e){var t="An error occurred while accessing "+c.url+".";s=v.a.handleError(s,x,x._errorEvent,t,void 0,void 0,void 0,a),x._readyPromise.reject(new _.a(t))}function a(){var e=c.fetchJsonp("jsonp");n._metadataCache[E]=e,e.then(t).otherwise(i)}if(e=Object(u.a)(e,u.a.EMPTY_OBJECT),!Object(h.a)(e.url))throw new d.a("options.url is required.");this._key=o.a.getKey(e.key),this._resource=g.a.createIfNeeded(e.url),this._resource.appendForwardSlash(),this._tileProtocol=e.tileProtocol,this._mapStyle=Object(u.a)(e.mapStyle,O.a.AERIAL),this._culture=Object(u.a)(e.culture,""),this._tileDiscardPolicy=e.tileDiscardPolicy,Object(h.a)(this._tileDiscardPolicy)||(this._tileDiscardPolicy=new w.a),this._proxy=e.proxy,this._credit=new l.a('<a href="http://www.bing.com"><img src="'+n.logoUrl+'" title="Bing Imagery"/></a>'),this.defaultGamma=1,this._tilingScheme=new b.a({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,ellipsoid:e.ellipsoid}),this._tileWidth=void 0,this._tileHeight=void 0,this._maximumLevel=void 0,this._imageUrlTemplate=void 0,this._imageUrlSubdomains=void 0,this._errorEvent=new f.a,this._ready=!1,this._readyPromise=y.a.defer();var r=this._tileProtocol;if(Object(h.a)(r))r.length>0&&":"===r[r.length-1]&&(r=r.substr(0,r.length-1));else{r="http:"===document.location.protocol?"http":"https"}var s,c=this._resource.getDerivedResource({url:"REST/v1/Imagery/Metadata/"+this._mapStyle,queryParameters:{incl:"ImageryProviders",key:this._key,uriScheme:r}}),x=this,E=c.url,T=n._metadataCache[E];Object(h.a)(T)?T.then(t).otherwise(i):a()}function a(e,t,i,a,r){var o=e._imageUrlTemplate,s=e._imageUrlSubdomains,c=(t+i+a)%s.length;return e._resource.getDerivedResource({url:o,request:r,templateValues:{quadkey:n.tileXYToQuadKey(t,i,a),subdomain:s[c],culture:e._culture},queryParameters:{n:"z"}})}function r(e,t,i){++t;for(var n=[],a=0,r=e.length;a<r;++a){for(var o=e[a],s=o.coverageAreas,c=!1,l=0,u=o.coverageAreas.length;!c&&l<u;++l){var d=s[l];if(t>=d.zoomMin&&t<=d.zoomMax){var f=m.a.intersection(i,d.bbox,T);Object(h.a)(f)&&(c=!0)}}c&&n.push(o.credit)}return n}var o=i("uqkJ"),s=i("CcV0"),c=i("5F4X"),l=i("ODTd"),u=i("5A4e"),h=i("xC6Q"),d=i("PzDm"),f=i("W6xh"),p=i("fq+p"),m=i("Wq1U"),g=i("rMjQ"),_=i("V22k"),v=i("M1To"),b=i("Y4y7"),y=i("S7OP"),O=i("zONr"),w=i("+EMA"),x=i("1eBa");Object.defineProperties(n.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},key:{get:function(){return this._key}},mapStyle:{get:function(){return this._mapStyle}},culture:{get:function(){return this._culture}},tileWidth:{get:function(){if(!this._ready)throw new d.a("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this._ready)throw new d.a("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this._ready)throw new d.a("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},minimumLevel:{get:function(){if(!this._ready)throw new d.a("minimumLevel must not be called before the imagery provider is ready.");return 0}},tilingScheme:{get:function(){if(!this._ready)throw new d.a("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},rectangle:{get:function(){if(!this._ready)throw new d.a("rectangle must not be called before the imagery provider is ready.");return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){if(!this._ready)throw new d.a("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!1}}});var E=new m.a;n.prototype.getTileCredits=function(e,t,i){if(!this._ready)throw new d.a("getTileCredits must not be called before the imagery provider is ready.");var n=this._tilingScheme.tileXYToRectangle(e,t,i,E);return r(this._attributionList,i,n)},n.prototype.requestImage=function(e,t,i,n){if(!this._ready)throw new d.a("requestImage must not be called before the imagery provider is ready.");var r=x.a.loadImage(this,a(this,e,t,i,n));if(Object(h.a)(r))return r.otherwise(function(e){return Object(h.a)(e.blob)&&0===e.blob.size?w.a.EMPTY_IMAGE:y.a.reject(e)})},n.prototype.pickFeatures=function(e,t,i,n,a){},n.tileXYToQuadKey=function(e,t,i){for(var n="",a=i;a>=0;--a){var r=1<<a,o=0;0!=(e&r)&&(o|=1),0!=(t&r)&&(o|=2),n+=o}return n},n.quadKeyToTileXY=function(e){for(var t=0,i=0,n=e.length-1,a=n;a>=0;--a){var r=1<<a,o=+e[n-a];0!=(1&o)&&(t|=r),0!=(2&o)&&(i|=r)}return{x:t,y:i,level:n}},n._logoUrl=void 0,Object.defineProperties(n,{logoUrl:{get:function(){return Object(h.a)(n._logoUrl)||(n._logoUrl=Object(s.a)("Assets/Images/bing_maps_credit.png")),n._logoUrl},set:function(e){c.a.defined("value",e),n._logoUrl=e}}});var T=new m.a;n._metadataCache={},t.a=n},vhwl:function(e,t,i){"use strict";function n(){}var a=i("S7OP"),r=i("Jj+J"),o=i("5F4X");n.prototype.geocode=function(e){o.a.typeOf.string("query",e);var t=e.match(/[^\s,\n]+/g);if(2===t.length||3===t.length){var i=+t[0],n=+t[1],s=3===t.length?+t[2]:300;if(isNaN(i)&&isNaN(n))for(var c=/^(\d+.?\d*)([nsew])/i,l=0;l<t.length;++l){var u=t[l].match(c);c.test(t[l])&&3===u.length&&(/^[ns]/i.test(u[2])?n=/^[n]/i.test(u[2])?+u[1]:-u[1]:/^[ew]/i.test(u[2])&&(i=/^[e]/i.test(u[2])?+u[1]:-u[1]))}if(!isNaN(i)&&!isNaN(n)&&!isNaN(s)){var h={displayName:e,destination:r.a.fromDegrees(i,n,s)};return a.a.resolve([h])}}return a.a.resolve([])},t.a=n},vq8n:function(e,t,i){"use strict";t.a="/**\n * A built-in GLSL floating-point constant for <code>pi/3</code>.\n *\n * @alias czm_piOverThree\n * @glslConstant\n *\n * @see CesiumMath.PI_OVER_THREE\n *\n * @example\n * // GLSL declaration\n * const float czm_piOverThree = ...;\n *\n * // Example\n * float pi = 3.0 * czm_piOverThree;\n */\nconst float czm_piOverThree = 1.0471975511965976;\n"},vuRe:function(e,t,i){"use strict";t.a="varying vec3 v_forwardDirectionEC;\nvarying vec3 v_texcoordNormalizationAndHalfWidth;\nvarying float v_batchId;\n\n#ifdef PER_INSTANCE_COLOR\nvarying vec4 v_color;\n#else\nvarying vec2 v_alignedPlaneDistances;\nvarying float v_texcoordT;\n#endif\n\nfloat rayPlaneDistanceUnsafe(vec3 origin, vec3 direction, vec3 planeNormal, float planeDistance) {\n    // We don't expect the ray to ever be parallel to the plane\n    return (-planeDistance - dot(planeNormal, origin)) / dot(planeNormal, direction);\n}\n\nvoid main(void)\n{\n    vec4 eyeCoordinate = gl_FragCoord;\n    eyeCoordinate /= eyeCoordinate.w;\n\n#ifdef PER_INSTANCE_COLOR\n    gl_FragColor = czm_gammaCorrect(v_color);\n#else // PER_INSTANCE_COLOR\n    // Use distances for planes aligned with segment to prevent skew in dashing\n    float distanceFromStart = rayPlaneDistanceUnsafe(eyeCoordinate.xyz, -v_forwardDirectionEC, v_forwardDirectionEC.xyz, v_alignedPlaneDistances.x);\n    float distanceFromEnd = rayPlaneDistanceUnsafe(eyeCoordinate.xyz, v_forwardDirectionEC, -v_forwardDirectionEC.xyz, v_alignedPlaneDistances.y);\n\n    // Clamp - distance to aligned planes may be negative due to mitering\n    distanceFromStart = max(0.0, distanceFromStart);\n    distanceFromEnd = max(0.0, distanceFromEnd);\n\n    float s = distanceFromStart / (distanceFromStart + distanceFromEnd);\n    s = (s * v_texcoordNormalizationAndHalfWidth.x) + v_texcoordNormalizationAndHalfWidth.y;\n\n    czm_materialInput materialInput;\n\n    materialInput.s = s;\n    materialInput.st = vec2(s, v_texcoordT);\n    materialInput.str = vec3(s, v_texcoordT, 0.0);\n\n    czm_material material = czm_getMaterial(materialInput);\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#endif // PER_INSTANCE_COLOR\n}\n"},vvtH:function(e,t,i){"use strict";t.a=Object.freeze({STOPPED:0,ANIMATING:1})},vzCy:function(e,t,i){"use strict";function n(e){console&&console.warn&&console.warn(e)}function a(){a.init.call(this)}function r(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function o(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function s(e,t,i,a){var s,c,l;if(r(i),c=e._events,void 0===c?(c=e._events=Object.create(null),e._eventsCount=0):(void 0!==c.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),c=e._events),l=c[t]),void 0===l)l=c[t]=i,++e._eventsCount;else if("function"==typeof l?l=c[t]=a?[i,l]:[l,i]:a?l.unshift(i):l.push(i),(s=o(e))>0&&l.length>s&&!l.warned){l.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=l.length,n(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},a=c.bind(n);return a.listener=i,n.wrapFn=a,a}function u(e,t,i){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"==typeof a?i?[a.listener||a]:[a]:i?p(a):d(a,a.length)}function h(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function d(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}function f(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function p(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function m(e,t){return new Promise(function(i,n){function a(i){e.removeListener(t,r),n(i)}function r(){"function"==typeof e.removeListener&&e.removeListener("error",a),i([].slice.call(arguments))}_(e,t,r,{once:!0}),"error"!==t&&g(e,a,{once:!0})})}function g(e,t,i){"function"==typeof e.on&&_(e,"error",t,i)}function _(e,t,i,n){if("function"==typeof e.on)n.once?e.once(t,i):e.on(t,i);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function a(r){n.once&&e.removeEventListener(t,a),i(r)})}}var v,b="object"==typeof Reflect?Reflect:null,y=b&&"function"==typeof b.apply?b.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};v=b&&"function"==typeof b.ownKeys?b.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var O=Number.isNaN||function(e){return e!==e};e.exports=a,e.exports.once=m,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var w=10;Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(e){if("number"!=typeof e||e<0||O(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");w=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||O(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return o(this)},a.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n="error"===e,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){var r;if(t.length>0&&(r=t[0]),r instanceof Error)throw r;var o=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw o.context=r,o}var s=a[e];if(void 0===s)return!1;if("function"==typeof s)y(s,this,t);else for(var c=s.length,l=d(s,c),i=0;i<c;++i)y(l[i],this,t);return!0},a.prototype.addListener=function(e,t){return s(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return s(this,e,t,!0)},a.prototype.once=function(e,t){return r(t),this.on(e,l(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return r(t),this.prependListener(e,l(this,e,t)),this},a.prototype.removeListener=function(e,t){var i,n,a,o,s;if(r(t),void 0===(n=this._events))return this;if(void 0===(i=n[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(a=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){s=i[o].listener,a=o;break}if(a<0)return this;0===a?i.shift():f(i,a),1===i.length&&(n[e]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var a,r=Object.keys(i);for(n=0;n<r.length;++n)"removeListener"!==(a=r[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return u(this,e,!0)},a.prototype.rawListeners=function(e){return u(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?v(this._events):[]}},w5J1:function(e,t,i){"use strict";t.a="/**\n * Converts a color in linear space to RGB space.\n *\n * @name czm_inverseGamma\n * @glslFunction\n *\n * @param {vec3} color The color in linear space.\n * @returns {vec3} The color in RGB space.\n */\nvec3 czm_inverseGamma(vec3 color) {\n    return pow(color, vec3(1.0 / czm_gamma));\n}\n"},w6iD:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._dimensions=void 0,this._dimensionsSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("6ktF"),l=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l.a)("show"),dimensions:Object(l.a)("dimensions"),heightReference:Object(l.a)("heightReference"),fill:Object(l.a)("fill"),material:Object(c.a)("material"),outline:Object(l.a)("outline"),outlineColor:Object(l.a)("outlineColor"),outlineWidth:Object(l.a)("outlineWidth"),shadows:Object(l.a)("shadows"),distanceDisplayCondition:Object(l.a)("distanceDisplayCondition")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.dimensions=this.dimensions,e.heightReference=this.heightReference,e.fill=this.fill,e.material=this.material,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.dimensions=Object(a.a)(this.dimensions,e.dimensions),this.heightReference=Object(a.a)(this.heightReference,e.heightReference),this.fill=Object(a.a)(this.fill,e.fill),this.material=Object(a.a)(this.material,e.material),this.outline=Object(a.a)(this.outline,e.outline),this.outlineColor=Object(a.a)(this.outlineColor,e.outlineColor),this.outlineWidth=Object(a.a)(this.outlineWidth,e.outlineWidth),this.shadows=Object(a.a)(this.shadows,e.shadows),this.distanceDisplayCondition=Object(a.a)(this.distanceDisplayCondition,e.distanceDisplayCondition)},t.a=n},wGGO:function(e,t,i){"use strict";i("Jj+J"),i("5F4X"),i("6F0S"),i("5A4e"),i("PzDm")},wZuP:function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\n\nvarying vec2 v_textureCoordinates;\n\n#ifdef AUTO_EXPOSURE\nuniform sampler2D autoExposure;\n#endif\n\nvoid main()\n{\n    vec4 fragmentColor = texture2D(colorTexture, v_textureCoordinates);\n    vec3 color = fragmentColor.rgb;\n\n#ifdef AUTO_EXPOSURE\n    color /= texture2D(autoExposure, vec2(0.5)).r;\n#endif\n    color = czm_acesTonemapping(color);\n    color = czm_inverseGamma(color);\n\n    gl_FragColor = vec4(color, fragmentColor.a);\n}\n"},we7d:function(e,t,i){"use strict";function n(e){if(!Object(a.a)(e)||!Object(a.a)(e.container))throw new o.a("options.container is required.");if(!Object(a.a)(e.scene))throw new o.a("options.scene is required.");var t=Object(l.a)(e.container),i=new u.a(e);i._startSearchPath=h,i._stopSearchPath=d;var n=document.createElement("form");n.setAttribute("data-bind","submit: search");var r=document.createElement("input");r.type="search",r.className="cesium-geocoder-input",r.setAttribute("placeholder","Enter an address or landmark..."),r.setAttribute("data-bind",'textInput: searchText,disable: isSearchInProgress,event: { keyup: handleKeyUp, keydown: handleKeyDown, mouseover: deselectSuggestion },css: { "cesium-geocoder-input-wide" : keepExpanded || searchText.length > 0 },hasFocus: _focusTextbox'),this._onTextBoxFocus=function(){setTimeout(function(){r.select()},0)},r.addEventListener("focus",this._onTextBoxFocus,!1),n.appendChild(r),this._textBox=r;var f=document.createElement("span");f.className="cesium-geocoder-searchButton",f.setAttribute("data-bind","click: search,cesiumSvgPath: { path: isSearchInProgress ? _stopSearchPath : _startSearchPath, width: 32, height: 32 }"),n.appendChild(f),t.appendChild(n);var p=document.createElement("div");p.className="search-results",p.setAttribute("data-bind","visible: _suggestionsVisible");var m=document.createElement("ul");m.setAttribute("data-bind","foreach: _suggestions");var g=document.createElement("li");m.appendChild(g),g.setAttribute("data-bind","text: $data.displayName, click: $parent.activateSuggestion, event: { mouseover: $parent.handleMouseover}, css: { active: $data === $parent._selectedSuggestion }"),p.appendChild(m),t.appendChild(p),c.a.applyBindings(i,n),c.a.applyBindings(i,p),this._container=t,this._searchSuggestionsContainer=p,this._viewModel=i,this._form=n,this._onInputBegin=function(e){var n=e.target;"function"==typeof e.composedPath&&(n=e.composedPath()[0]),t.contains(n)||(i._focusTextbox=!1,i.hideSuggestions())},this._onInputEnd=function(e){i._focusTextbox=!0,i.showSuggestions()},s.a.supportsPointerEvents()?(document.addEventListener("pointerdown",this._onInputBegin,!0),t.addEventListener("pointerup",this._onInputEnd,!0),t.addEventListener("pointercancel",this._onInputEnd,!0)):(document.addEventListener("mousedown",this._onInputBegin,!0),t.addEventListener("mouseup",this._onInputEnd,!0),document.addEventListener("touchstart",this._onInputBegin,!0),t.addEventListener("touchend",this._onInputEnd,!0),t.addEventListener("touchcancel",this._onInputEnd,!0))}var a=i("xC6Q"),r=i("6sr8"),o=i("PzDm"),s=i("gjtw"),c=i("PKIF"),l=i("k6tp"),u=i("zhoD"),h="M29.772,26.433l-7.126-7.126c0.96-1.583,1.523-3.435,1.524-5.421C24.169,8.093,19.478,3.401,13.688,3.399C7.897,3.401,3.204,8.093,3.204,13.885c0,5.789,4.693,10.481,10.484,10.481c1.987,0,3.839-0.563,5.422-1.523l7.128,7.127L29.772,26.433zM7.203,13.885c0.006-3.582,2.903-6.478,6.484-6.486c3.579,0.008,6.478,2.904,6.484,6.486c-0.007,3.58-2.905,6.476-6.484,6.484C10.106,20.361,7.209,17.465,7.203,13.885z",d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z";Object.defineProperties(n.prototype,{container:{get:function(){return this._container}},searchSuggestionsContainer:{get:function(){return this._searchSuggestionsContainer}},viewModel:{get:function(){return this._viewModel}}}),n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){var e=this._container;return s.a.supportsPointerEvents()?(document.removeEventListener("pointerdown",this._onInputBegin,!0),e.removeEventListener("pointerup",this._onInputEnd,!0)):(document.removeEventListener("mousedown",this._onInputBegin,!0),e.removeEventListener("mouseup",this._onInputEnd,!0),document.removeEventListener("touchstart",this._onInputBegin,!0),e.removeEventListener("touchend",this._onInputEnd,!0)),this._viewModel.destroy(),c.a.cleanNode(this._form),c.a.cleanNode(this._searchSuggestionsContainer),e.removeChild(this._form),e.removeChild(this._searchSuggestionsContainer),this._textBox.removeEventListener("focus",this._onTextBoxFocus,!1),Object(r.a)(this)},t.a=n},whUw:function(e,t,i){"use strict";t.a="/**\n * Approxiamtes atan over the range [0, 1]. Safe to flip output for negative input.\n *\n * Based on Michal Drobot's approximation from ShaderFastLibs, which in turn is based on\n * \"Efficient approximations for the arctangent function,\" Rajan, S. Sichun Wang Inkol, R. Joyal, A., May 2006.\n * Adapted from ShaderFastLibs under MIT License.\n *\n * Chosen for the following characteristics over range [0, 1]:\n * - basically no error at 0 and 1, important for getting around range limit (naive atan2 via atan requires infinite range atan)\n * - no visible artifacts from first-derivative discontinuities, unlike latitude via range-reduced sqrt asin approximations (at equator)\n *\n * The original code is x * (-0.1784 * abs(x) - 0.0663 * x * x + 1.0301);\n * Removed the abs() in here because it isn't needed, the input range is guaranteed as [0, 1] by how we're approximating atan2.\n *\n * @name czm_fastApproximateAtan\n * @glslFunction\n *\n * @param {float} x Value between 0 and 1 inclusive.\n *\n * @returns {float} Approximation of atan(x)\n */\nfloat czm_fastApproximateAtan(float x) {\n    return x * (-0.1784 * x - 0.0663 * x * x + 1.0301);\n}\n\n/**\n * Approximation of atan2.\n *\n * Range reduction math based on nvidia's cg reference implementation for atan2: http://developer.download.nvidia.com/cg/atan2.html\n * However, we replaced their atan curve with Michael Drobot's (see above).\n *\n * @name czm_fastApproximateAtan\n * @glslFunction\n *\n * @param {float} x Value between -1 and 1 inclusive.\n * @param {float} y Value between -1 and 1 inclusive.\n *\n * @returns {float} Approximation of atan2(x, y)\n */\nfloat czm_fastApproximateAtan(float x, float y) {\n    // atan approximations are usually only reliable over [-1, 1], or, in our case, [0, 1] due to modifications.\n    // So range-reduce using abs and by flipping whether x or y is on top.\n    float t = abs(x); // t used as swap and atan result.\n    float opposite = abs(y);\n    float adjacent = max(t, opposite);\n    opposite = min(t, opposite);\n\n    t = czm_fastApproximateAtan(opposite / adjacent);\n\n    // Undo range reduction\n    t = czm_branchFreeTernary(abs(y) > abs(x), czm_piOverTwo - t, t);\n    t = czm_branchFreeTernary(x < 0.0, czm_pi - t, t);\n    t = czm_branchFreeTernary(y < 0.0, -t, t);\n    return t;\n}\n"},whea:function(e,t,i){"use strict";function n(e,t,i,n,a){this.featurePropertiesDirty=!1}var a=i("PzDm");Object.defineProperties(n.prototype,{featuresLength:{get:function(){a.a.throwInstantiationError()}},pointsLength:{get:function(){a.a.throwInstantiationError()}},trianglesLength:{get:function(){a.a.throwInstantiationError()}},geometryByteLength:{get:function(){a.a.throwInstantiationError()}},texturesByteLength:{get:function(){a.a.throwInstantiationError()}},batchTableByteLength:{get:function(){a.a.throwInstantiationError()}},innerContents:{get:function(){a.a.throwInstantiationError()}},readyPromise:{get:function(){a.a.throwInstantiationError()}},tileset:{get:function(){a.a.throwInstantiationError()}},tile:{get:function(){a.a.throwInstantiationError()}},url:{get:function(){a.a.throwInstantiationError()}},batchTable:{get:function(){a.a.throwInstantiationError()}}}),n.prototype.hasProperty=function(e,t){a.a.throwInstantiationError()},n.prototype.getFeature=function(e){a.a.throwInstantiationError()},n.prototype.applyDebugSettings=function(e,t){a.a.throwInstantiationError()},n.prototype.applyStyle=function(e){a.a.throwInstantiationError()},n.prototype.update=function(e,t){a.a.throwInstantiationError()},n.prototype.isDestroyed=function(){a.a.throwInstantiationError()},n.prototype.destroy=function(){a.a.throwInstantiationError()}},wiNt:function(e,t,i){"use strict";function n(){var e=[];return e.push(new d.a({name:"Bing Maps Aerial",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/bingAerial.png"),tooltip:"Bing Maps aerial imagery, provided by Cesium ion",category:"Cesium ion",creationFunction:function(){return Object(o.a)({style:c.a.AERIAL})}})),e.push(new d.a({name:"Bing Maps Aerial with Labels",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/bingAerialLabels.png"),tooltip:"Bing Maps aerial imagery with labels, provided by Cesium ion",category:"Cesium ion",creationFunction:function(){return Object(o.a)({style:c.a.AERIAL_WITH_LABELS})}})),e.push(new d.a({name:"Bing Maps Roads",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/bingRoads.png"),tooltip:"Bing Maps standard road maps, provided by Cesium ion",category:"Cesium ion",creationFunction:function(){return Object(o.a)({style:c.a.ROAD})}})),e.push(new d.a({name:"Mapbox Satellite",tooltip:"Mapbox satellite imagery https://www.mapbox.com/maps/",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/mapboxSatellite.png"),category:"Other",creationFunction:function(){return new l.a({styleId:"satellite-v9"})}})),e.push(new d.a({name:"Mapbox Streets",tooltip:"Mapbox streets imagery https://www.mapbox.com/maps/",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/mapboxTerrain.png"),category:"Other",creationFunction:function(){return new l.a({styleId:"satellite-streets-v11"})}})),e.push(new d.a({name:"Mapbox Streets Classic",tooltip:"Mapbox streets basic imagery https://www.mapbox.com/maps/",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/mapboxStreets.png"),category:"Other",creationFunction:function(){return new l.a({styleId:"streets-v11"})}})),e.push(new d.a({name:"ESRI World Imagery",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/esriWorldImagery.png"),tooltip:"World Imagery provides one meter or better satellite and aerial imagery in many parts of the world and lower resolution satellite imagery worldwide.  The map includes NASA Blue Marble: Next Generation 500m resolution imagery at small scales (above 1:1,000,000), i-cubed 15m eSAT imagery at medium-to-large scales (down to 1:70,000) for the world, and USGS 15m Landsat imagery for Antarctica. The map features 0.3m resolution imagery in the continental United States and 0.6m resolution imagery in parts of Western Europe from DigitalGlobe. In other parts of the world, 1 meter resolution imagery is available from GeoEye IKONOS, i-cubed Nationwide Prime, Getmapping, AeroGRID, IGN Spain, and IGP Portugal.  Additionally, imagery at different resolutions has been contributed by the GIS User Community.\nhttp://www.esri.com",category:"Other",creationFunction:function(){return new r.a({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",enablePickFeatures:!1})}})),e.push(new d.a({name:"ESRI World Street Map",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/esriWorldStreetMap.png"),tooltip:"This worldwide street map presents highway-level data for the world. Street-level data includes the United States; much of Canada; Japan; most countries in Europe; Australia and New Zealand; India; parts of South America including Argentina, Brazil, Chile, Colombia, and Venezuela; Ghana; and parts of southern Africa including Botswana, Lesotho, Namibia, South Africa, and Swaziland.\nhttp://www.esri.com",category:"Other",creationFunction:function(){return new r.a({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",enablePickFeatures:!1})}})),e.push(new d.a({name:"ESRI National Geographic",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/esriNationalGeographic.png"),tooltip:"This web map contains the National Geographic World Map service. This map service is designed to be used as a general reference map for informational and educational purposes as well as a basemap by GIS professionals and other users for creating web maps and web mapping applications.\nhttp://www.esri.com",category:"Other",creationFunction:function(){return new r.a({url:"https://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/",enablePickFeatures:!1})}})),e.push(new d.a({name:"Open­Street­Map",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/openStreetMap.png"),tooltip:"OpenStreetMap (OSM) is a collaborative project to create a free editable map of the world.\nhttp://www.openstreetmap.org",category:"Other",creationFunction:function(){return new u.a({url:"https://a.tile.openstreetmap.org/"})}})),e.push(new d.a({name:"Stamen Watercolor",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/stamenWatercolor.png"),tooltip:"Reminiscent of hand drawn maps, Stamen watercolor maps apply raster effect area washes and organic edges over a paper texture to add warm pop to any map.\nhttp://maps.stamen.com",category:"Other",creationFunction:function(){return new u.a({url:"https://stamen-tiles.a.ssl.fastly.net/watercolor/",credit:"Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under CC BY SA."})}})),e.push(new d.a({name:"Stamen Toner",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/stamenToner.png"),tooltip:"A high contrast black and white map.\nhttp://maps.stamen.com",category:"Other",creationFunction:function(){return new u.a({url:"https://stamen-tiles.a.ssl.fastly.net/toner/",credit:"Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under CC BY SA."})}})),e.push(new d.a({name:"Sentinel-2",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/sentinel-2.png"),tooltip:"Sentinel-2 cloudless by EOX IT Services GmbH (Contains modified Copernicus Sentinel data 2016 and 2017).",category:"Cesium ion",creationFunction:function(){return new s.a({assetId:3954})}})),e.push(new d.a({name:"Blue Marble",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/blueMarble.png"),tooltip:"Blue Marble Next Generation July, 2004 imagery from NASA.",category:"Cesium ion",creationFunction:function(){return new s.a({assetId:3845})}})),e.push(new d.a({name:"Earth at night",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/earthAtNight.png"),tooltip:"The Earth at night, also known as The Black Marble, is a 500 meter resolution global composite imagery layer released by NASA.",category:"Cesium ion",creationFunction:function(){return new s.a({assetId:3812})}})),e.push(new d.a({name:"Natural Earth II",iconUrl:Object(a.a)("Widgets/Images/ImageryProviders/naturalEarthII.png"),tooltip:"Natural Earth II, darkened for contrast.\nhttp://www.naturalearthdata.com/",category:"Cesium ion",creationFunction:function(){return new h.a({url:Object(a.a)("Assets/Textures/NaturalEarthII")})}})),e}var a=i("CcV0"),r=i("2JXb"),o=i("4Dr5"),s=i("cHuy"),c=i("WJVr"),l=i("4F8Z"),u=i("soQd"),h=i("nBeE"),d=i("seln");t.a=n},woOf:function(e,t,i){e.exports={default:i("V3tA"),__esModule:!0}},wpHJ:function(e,t,i){"use strict";function n(e,t,i){e=Object(o.a)(e,0),t=Object(o.a)(t,0),i=Object(o.a)(i,0),this.value=new Float32Array([e,t,i])}var a=i("5F4X"),r=i("YCZg"),o=i("5A4e"),s=i("xC6Q");Object.defineProperties(n.prototype,{componentDatatype:{get:function(){return r.a.FLOAT}},componentsPerAttribute:{get:function(){return 3}},normalize:{get:function(){return!1}}}),n.fromCartesian3=function(e){return a.a.defined("offset",e),new n(e.x,e.y,e.z)},n.toValue=function(e,t){return a.a.defined("offset",e),Object(s.a)(t)||(t=new Float32Array([e.x,e.y,e.z])),t[0]=e.x,t[1]=e.y,t[2]=e.z,t},t.a=n},"wv+D":function(e,t,i){"use strict";function n(e,t){var i=e.extensionsRequired;if(Object(a.a)(i)){var n=i.indexOf(t);n>=0&&i.splice(n,1),0===i.length&&delete e.extensionsRequired}}var a=i("xC6Q");t.a=n},wv0P:function(e,t,i){"use strict";function n(e,t){if(null===e||"object"!=typeof e)return e;t=Object(a.a)(t,!1);var i=new e.constructor;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];t&&(o=n(o,t)),i[r]=o}return i}var a=i("5A4e");t.a=n},x0EE:function(e,t,i){"use strict";var n=i("i0h9"),a=i("9URA"),r={CESIUM_3D_TILE_MASK:128,SKIP_LOD_MASK:112,SKIP_LOD_BIT_SHIFT:4,CLASSIFICATION_MASK:15};r.setCesium3DTileBit=function(){return{enabled:!0,frontFunction:n.a.ALWAYS,frontOperation:{fail:a.a.KEEP,zFail:a.a.KEEP,zPass:a.a.REPLACE},backFunction:n.a.ALWAYS,backOperation:{fail:a.a.KEEP,zFail:a.a.KEEP,zPass:a.a.REPLACE},reference:r.CESIUM_3D_TILE_MASK,mask:r.CESIUM_3D_TILE_MASK}},t.a=Object.freeze(r)},x0Ha:function(e,t,i){"use strict";function n(e,t){var i=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(r,this,e)):o.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?i._writableState?i._writableState.errorEmitted||(i._writableState.errorEmitted=!0,o.nextTick(r,i,e)):o.nextTick(r,i,e):t&&t(e)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function r(e,t){e.emit("error",t)}var o=i("ypnx");e.exports={destroy:n,undestroy:a}},x5U2:function(e,t,i){"use strict";var n=i("bidq"),a=i("9MlZ")(),r=i("gcUb"),o=Object,s=r("Array.prototype.push"),c=r("Object.prototype.propertyIsEnumerable"),l=a?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var i=o(e);if(1===arguments.length)return i;for(var r=1;r<arguments.length;++r){var u=o(arguments[r]),h=n(u),d=a&&(Object.getOwnPropertySymbols||l);if(d)for(var f=d(u),p=0;p<f.length;++p){var m=f[p];c(u,m)&&s(h,m)}for(var g=0;g<h.length;++g){var _=h[g];if(c(u,_)){var v=u[_];i[_]=v}}}return i}},x6Ms:function(e,t,i){"use strict";function n(e){return e=e.replace(/\/\/.*/g,""),e.replace(/\/\*\*[\s\S]*?\*\//gm,function(e){for(var t=e.match(/\n/gm).length,i="",n=0;n<t;++n)i+="\n";return i})}function a(e,t,i){for(var a,r=0;r<i.length;++r)i[r].name===e&&(a=i[r]);return Object(h.a)(a)||(t=n(t),a={name:e,glslSource:t,dependsOn:[],requiredBy:[],evaluated:!1},i.push(a)),a}function r(e,t){if(!e.evaluated){e.evaluated=!0;var i=e.glslSource.match(/\bczm_[a-zA-Z0-9_]*/g);Object(h.a)(i)&&null!==i&&(i=i.filter(function(e,t){return i.indexOf(e)===t}),i.forEach(function(i){if(i!==e.name&&l._czmBuiltinsAndUniforms.hasOwnProperty(i)){var n=a(i,l._czmBuiltinsAndUniforms[i],t);e.dependsOn.push(n),n.requiredBy.push(e),r(n,t)}}))}}function o(e){for(var t=[],i=[];e.length>0;){var n=e.pop();i.push(n),0===n.requiredBy.length&&t.push(n)}for(;t.length>0;){var a=t.shift();e.push(a);for(var r=0;r<a.dependsOn.length;++r){var o=a.dependsOn[r],s=o.requiredBy.indexOf(a);o.requiredBy.splice(s,1),0===o.requiredBy.length&&t.push(o)}}for(var c=[],l=0;l<i.length;++l)0!==i[l].requiredBy.length&&c.push(i[l]);if(0!==c.length){for(var u="A circular dependency was found in the following built-in functions/structs/constants: \n",h=0;h<c.length;++h)u=u+c[h].name+"\n";throw new d.a(u)}}function s(e){var t=[],i=a("main",e,t);r(i,t),o(t);for(var n="",s=t.length-1;s>=0;--s)n=n+t[s].glslSource+"\n";return n.replace(i.glslSource,"")}function c(e,t,i){var a,r,o="",c=e.sources;if(Object(h.a)(c))for(a=0,r=c.length;a<r;++a)o+="\n#line 0\n"+c[a];o=n(o);var u;o=o.replace(/#version\s+(.*?)\n/gm,function(e,t){if(Object(h.a)(u)&&u!==t)throw new d.a("inconsistent versions found: "+u+" and "+t);return u=t,"\n"});var p=[];o=o.replace(/#extension.*\n/gm,function(e){return p.push(e),"\n"}),o=o.replace(/precision\s(lowp|mediump|highp)\s(float|int);/,"");var m=e.pickColorQualifier;Object(h.a)(m)&&(o=l.createPickFragmentShaderSource(o,m));var g="";Object(h.a)(u)&&(g="#version "+u+"\n");var _=p.length;for(a=0;a<_;a++)g+=p[a];t&&(g+="#ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n#else\n    precision mediump float;\n#endif\n\n");var v=e.defines;if(Object(h.a)(v))for(a=0,r=v.length;a<r;++a){var b=v[a];0!==b.length&&(g+="#define "+b+"\n")}return i.webgl2&&(g+="#define OUTPUT_DECLARATION\n\n"),i.textureFloatLinear&&(g+="#define OES_texture_float_linear\n\n"),e.includeBuiltIns&&(g+=s(o)),g+="\n#line 0\n",g+=o,i.webgl2&&(g=Object(f.a)(g,t,!0)),g}function l(e){e=Object(u.a)(e,u.a.EMPTY_OBJECT);var t=e.pickColorQualifier;if(Object(h.a)(t)&&"uniform"!==t&&"varying"!==t)throw new d.a("options.pickColorQualifier must be 'uniform' or 'varying'.");this.defines=Object(h.a)(e.defines)?e.defines.slice(0):[],this.sources=Object(h.a)(e.sources)?e.sources.slice(0):[],this.pickColorQualifier=t,this.includeBuiltIns=Object(u.a)(e.includeBuiltIns,!0)}var u=i("5A4e"),h=i("xC6Q"),d=i("PzDm"),f=i("EaVv"),p=i("7ibv"),m=i("Zcrm");l.prototype.clone=function(){return new l({sources:this.sources,defines:this.defines,pickColorQualifier:this.pickColorQualifier,includeBuiltIns:this.includeBuiltIns})},l.replaceMain=function(e,t){return t="void "+t+"()",e.replace(/void\s+main\s*\(\s*(?:void)?\s*\)/g,t)},l.prototype.createCombinedVertexShader=function(e){return c(this,!1,e)},l.prototype.createCombinedFragmentShader=function(e){return c(this,!0,e)},l._czmBuiltinsAndUniforms={};for(var g in p.a)p.a.hasOwnProperty(g)&&(l._czmBuiltinsAndUniforms[g]=p.a[g]);for(var _ in m.a)if(m.a.hasOwnProperty(_)){var v=m.a[_];"function"==typeof v.getDeclaration&&(l._czmBuiltinsAndUniforms[_]=v.getDeclaration(_))}l.createPickVertexShaderSource=function(e){return l.replaceMain(e,"czm_old_main")+"\nattribute vec4 pickColor; \nvarying vec4 czm_pickColor; \nvoid main() \n{ \n    czm_old_main(); \n    czm_pickColor = pickColor; \n}"},l.createPickFragmentShaderSource=function(e,t){return l.replaceMain(e,"czm_old_main")+"\n"+t+" vec4 czm_pickColor; \nvoid main() \n{ \n    czm_old_main(); \n    if (gl_FragColor.a == 0.0) { \n       discard; \n    } \n    gl_FragColor = czm_pickColor; \n}"},l.findVarying=function(e,t){for(var i=e.sources,n=t.length,a=0;a<n;++a)for(var r=t[a],o=i.length,s=0;s<o;++s)if(-1!==i[s].indexOf(r))return r};var b=["v_normalEC","v_normal"];l.findNormalVarying=function(e){return l.findVarying(e,b)};var y=["v_positionEC"];l.findPositionVarying=function(e){return l.findVarying(e,y)},t.a=l},xBRe:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT);var t=e.mapId;if(!Object(o.a)(t))throw new s.a("options.mapId is required.");var i=l.a.createIfNeeded(Object(r.a)(e.url,"https://{s}.tiles.mapbox.com/v4/")),n=c.a.getAccessToken(e.accessToken);this._mapId=t,this._accessToken=n,this._accessTokenErrorCredit=a.a.clone(c.a.getErrorCredit(e.accessToken));var f=Object(r.a)(e.format,"png");/\./.test(f)||(f="."+f),this._format=f;var p=i.getUrlComponent();h.test(p)||(p+="/"),p+=t+"/{z}/{x}/{y}"+this._format,i.url=p,i.setQueryParameters({access_token:n});var m;Object(o.a)(e.credit)?"string"==typeof(m=e.credit)&&(m=new a.a(m)):m=d,this._resource=i,this._imageryProvider=new u.a({url:i,credit:m,ellipsoid:e.ellipsoid,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,rectangle:e.rectangle})}var a=i("ODTd"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("rk7A"),l=i("rMjQ"),u=i("LS2q"),h=/\/$/,d=new a.a('&copy; <a href="https://www.mapbox.com/about/maps/">Mapbox</a> &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/">Improve this map</a></strong>');Object.defineProperties(n.prototype,{url:{get:function(){return this._imageryProvider.url}},ready:{get:function(){return this._imageryProvider.ready}},readyPromise:{get:function(){return this._imageryProvider.readyPromise}},rectangle:{get:function(){return this._imageryProvider.rectangle}},tileWidth:{get:function(){return this._imageryProvider.tileWidth}},tileHeight:{get:function(){return this._imageryProvider.tileHeight}},maximumLevel:{get:function(){return this._imageryProvider.maximumLevel}},minimumLevel:{get:function(){return this._imageryProvider.minimumLevel}},tilingScheme:{get:function(){return this._imageryProvider.tilingScheme}},tileDiscardPolicy:{get:function(){return this._imageryProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._imageryProvider.errorEvent}},credit:{get:function(){return this._imageryProvider.credit}},proxy:{get:function(){return this._imageryProvider.proxy}},hasAlphaChannel:{get:function(){return this._imageryProvider.hasAlphaChannel}}}),n.prototype.getTileCredits=function(e,t,i){if(Object(o.a)(this._accessTokenErrorCredit))return[this._accessTokenErrorCredit]},n.prototype.requestImage=function(e,t,i,n){return this._imageryProvider.requestImage(e,t,i,n)},n.prototype.pickFeatures=function(e,t,i,n,a){return this._imageryProvider.pickFeatures(e,t,i,n,a)},n._defaultCredit=d,t.a=n},xC6Q:function(e,t,i){"use strict";function n(e){return void 0!==e&&null!==e}t.a=n},xEUC:function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT);var t=Object(a.a)(e.translucent,!0),i=Object(a.a)(e.closed,!1),o=Object(a.a)(e.materialSupport,n.MaterialSupport.TEXTURED);this.material=Object(r.a)(e.material)?e.material:p.a.fromType(p.a.ColorType),this.translucent=t,this._vertexShaderSource=Object(a.a)(e.vertexShaderSource,o.vertexShaderSource),this._fragmentShaderSource=Object(a.a)(e.fragmentShaderSource,o.fragmentShaderSource),this._renderState=f.a.getDefaultRenderState(t,i,e.renderState),this._closed=i,this._materialSupport=o,this._vertexFormat=o.vertexFormat,this._flat=Object(a.a)(e.flat,!1),this._faceForward=Object(a.a)(e.faceForward,!i)}var a=i("5A4e"),r=i("xC6Q"),o=i("xvTE"),s=i("Nxf2"),c=i("NbO3"),l=i("cH2j"),u=i("A9Z2"),h=i("P/Sx"),d=i("Bcuy"),f=i("fSWn"),p=i("5SZ+");Object.defineProperties(n.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},materialSupport:{get:function(){return this._materialSupport}},vertexFormat:{get:function(){return this._vertexFormat}},flat:{get:function(){return this._flat}},faceForward:{get:function(){return this._faceForward}}}),n.prototype.getFragmentShaderSource=f.a.prototype.getFragmentShaderSource,n.prototype.isTranslucent=f.a.prototype.isTranslucent,n.prototype.getRenderState=f.a.prototype.getRenderState,n.MaterialSupport={BASIC:Object.freeze({vertexFormat:o.a.POSITION_AND_NORMAL,vertexShaderSource:u.a,fragmentShaderSource:l.a}),TEXTURED:Object.freeze({vertexFormat:o.a.POSITION_NORMAL_AND_ST,vertexShaderSource:d.a,fragmentShaderSource:h.a}),ALL:Object.freeze({vertexFormat:o.a.ALL,vertexShaderSource:c.a,fragmentShaderSource:s.a})},t.a=n},xTtY:function(e,t,i){"use strict";e.exports=TypeError},xVcD:function(e,t,i){"use strict";function n(){this.initialized=!1,this.resourcesParsed=!1,this.vertexBuffersToCreate=new r.a,this.indexBuffersToCreate=new r.a,this.buffers={},this.pendingBufferLoads=0,this.programsToCreate=new r.a,this.shaders={},this.pendingShaderLoads=0,this.texturesToCreate=new r.a,this.pendingTextureLoads=0,this.texturesToCreateFromBufferView=new r.a,this.pendingBufferViewToImage=0,this.createSamplers=!0,this.createSkins=!0,this.createRuntimeAnimations=!0,this.createVertexArrays=!0,this.createRenderStates=!0,this.createUniformMaps=!0,this.createRuntimeNodes=!0,this.createdBufferViews={},this.primitivesToDecode=new r.a,this.activeDecodingTasks=0,this.pendingDecodingCache=!1,this.skinnedNodesIds=[]}function a(e,t,i){return e.subarray(t,t+i)}var r=i("z43S");n.prototype.getBuffer=function(e){return a(this.buffers[e.buffer],e.byteOffset,e.byteLength)},n.prototype.finishedPendingBufferLoads=function(){return 0===this.pendingBufferLoads},n.prototype.finishedBuffersCreation=function(){return 0===this.pendingBufferLoads&&0===this.vertexBuffersToCreate.length&&0===this.indexBuffersToCreate.length},n.prototype.finishedProgramCreation=function(){return 0===this.pendingShaderLoads&&0===this.programsToCreate.length},n.prototype.finishedTextureCreation=function(){var e=0===this.pendingTextureLoads,t=0===this.texturesToCreate.length&&0===this.texturesToCreateFromBufferView.length;return e&&t},n.prototype.finishedEverythingButTextureCreation=function(){var e=0===this.pendingBufferLoads&&0===this.pendingShaderLoads,t=0===this.vertexBuffersToCreate.length&&0===this.indexBuffersToCreate.length&&0===this.programsToCreate.length&&0===this.pendingBufferViewToImage;return this.finishedDecoding()&&e&&t},n.prototype.finishedDecoding=function(){return 0===this.primitivesToDecode.length&&0===this.activeDecodingTasks&&!this.pendingDecodingCache},n.prototype.finished=function(){return this.finishedDecoding()&&this.finishedTextureCreation()&&this.finishedEverythingButTextureCreation()},t.a=n},"xW/D":function(e,t,i){"use strict";t.a="attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 position2DHigh;\nattribute vec3 position2DLow;\nattribute vec3 prevPosition3DHigh;\nattribute vec3 prevPosition3DLow;\nattribute vec3 prevPosition2DHigh;\nattribute vec3 prevPosition2DLow;\nattribute vec3 nextPosition3DHigh;\nattribute vec3 nextPosition3DLow;\nattribute vec3 nextPosition2DHigh;\nattribute vec3 nextPosition2DLow;\nattribute vec4 texCoordExpandAndBatchIndex;\n\nvarying vec2  v_st;\nvarying float v_width;\nvarying vec4 v_pickColor;\nvarying float v_polylineAngle;\n\nvoid main()\n{\n    float texCoord = texCoordExpandAndBatchIndex.x;\n    float expandDir = texCoordExpandAndBatchIndex.y;\n    bool usePrev = texCoordExpandAndBatchIndex.z < 0.0;\n    float batchTableIndex = texCoordExpandAndBatchIndex.w;\n\n    vec2 widthAndShow = batchTable_getWidthAndShow(batchTableIndex);\n    float width = widthAndShow.x + 0.5;\n    float show = widthAndShow.y;\n\n    if (width < 1.0)\n    {\n        show = 0.0;\n    }\n\n    vec4 pickColor = batchTable_getPickColor(batchTableIndex);\n\n    vec4 p, prev, next;\n    if (czm_morphTime == 1.0)\n    {\n        p = czm_translateRelativeToEye(position3DHigh.xyz, position3DLow.xyz);\n        prev = czm_translateRelativeToEye(prevPosition3DHigh.xyz, prevPosition3DLow.xyz);\n        next = czm_translateRelativeToEye(nextPosition3DHigh.xyz, nextPosition3DLow.xyz);\n    }\n    else if (czm_morphTime == 0.0)\n    {\n        p = czm_translateRelativeToEye(position2DHigh.zxy, position2DLow.zxy);\n        prev = czm_translateRelativeToEye(prevPosition2DHigh.zxy, prevPosition2DLow.zxy);\n        next = czm_translateRelativeToEye(nextPosition2DHigh.zxy, nextPosition2DLow.zxy);\n    }\n    else\n    {\n        p = czm_columbusViewMorph(\n                czm_translateRelativeToEye(position2DHigh.zxy, position2DLow.zxy),\n                czm_translateRelativeToEye(position3DHigh.xyz, position3DLow.xyz),\n                czm_morphTime);\n        prev = czm_columbusViewMorph(\n                czm_translateRelativeToEye(prevPosition2DHigh.zxy, prevPosition2DLow.zxy),\n                czm_translateRelativeToEye(prevPosition3DHigh.xyz, prevPosition3DLow.xyz),\n                czm_morphTime);\n        next = czm_columbusViewMorph(\n                czm_translateRelativeToEye(nextPosition2DHigh.zxy, nextPosition2DLow.zxy),\n                czm_translateRelativeToEye(nextPosition3DHigh.xyz, nextPosition3DLow.xyz),\n                czm_morphTime);\n    }\n\n    #ifdef DISTANCE_DISPLAY_CONDITION\n        vec3 centerHigh = batchTable_getCenterHigh(batchTableIndex);\n        vec4 centerLowAndRadius = batchTable_getCenterLowAndRadius(batchTableIndex);\n        vec3 centerLow = centerLowAndRadius.xyz;\n        float radius = centerLowAndRadius.w;\n        vec2 distanceDisplayCondition = batchTable_getDistanceDisplayCondition(batchTableIndex);\n\n        float lengthSq;\n        if (czm_sceneMode == czm_sceneMode2D)\n        {\n            lengthSq = czm_eyeHeight2D.y;\n        }\n        else\n        {\n            vec4 center = czm_translateRelativeToEye(centerHigh.xyz, centerLow.xyz);\n            lengthSq = max(0.0, dot(center.xyz, center.xyz) - radius * radius);\n        }\n\n        float nearSq = distanceDisplayCondition.x * distanceDisplayCondition.x;\n        float farSq = distanceDisplayCondition.y * distanceDisplayCondition.y;\n        if (lengthSq < nearSq || lengthSq > farSq)\n        {\n            show = 0.0;\n        }\n    #endif\n\n    vec4 positionWC = getPolylineWindowCoordinates(p, prev, next, expandDir, width, usePrev, v_polylineAngle);\n    gl_Position = czm_viewportOrthographic * positionWC * show;\n\n    v_st = vec2(texCoord, clamp(expandDir, 0.0, 1.0));\n    v_width = width;\n    v_pickColor = pickColor;\n\n#ifdef LOG_DEPTH\n    czm_vertexLogDepth(czm_modelViewProjectionRelativeToEye * p);\n#endif\n}\n"},xc3H:function(e,t,i){"use strict";function n(e){if("glTF"!==Object(h.a)(e))throw new f.a("File is not valid binary glTF");var t=a(e,0,5),i=t[1];if(1!==i&&2!==i)throw new f.a("Binary glTF version is not 1 or 2");return 1===i?r(e,t):o(e,t)}function a(e,t,i){for(var n=new DataView(e.buffer),a=new Array(i),r=0;r<i;++r)a[r]=n.getUint32(e.byteOffset+t+r*p,!0);return a}function r(e,t){var i=t[2],n=t[3];if(0!==t[4])throw new f.a("Binary glTF scene format is not JSON");var a=20+n,r=Object(d.a)(e,20,n),o=JSON.parse(r);Object(s.a)(o);var h=e.subarray(a,i),p=o.buffers;if(Object(u.a)(p)&&Object.keys(p).length>0){var m=Object(l.a)(p.binary_glTF,p.KHR_binary_glTF);Object(u.a)(m)&&(m.extras._pipeline.source=h)}return Object(c.a)(o,"KHR_binary_glTF"),o}function o(e,t){for(var i,n,r=t[2],o=12;o<r;){var c=a(e,o,2),l=c[0],h=c[1];o+=8;var f=e.subarray(o,o+l);if(o+=l,1313821514===h){var p=Object(d.a)(f);i=JSON.parse(p),Object(s.a)(i)}else 5130562===h&&(n=f)}if(Object(u.a)(i)&&Object(u.a)(n)){var m=i.buffers;if(Object(u.a)(m)&&m.length>0){m[0].extras._pipeline.source=n}}return i}var s=i("ZGiz"),c=i("Uc30"),l=i("5A4e"),u=i("xC6Q"),h=i("l7qC"),d=i("Q+B7"),f=i("V22k"),p=4;t.a=n},xnc9:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},xtiq:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._positions=void 0,this._positionsSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._depthFailMaterial=void 0,this._depthFailMaterialSubscription=void 0,this._arcType=void 0,this._arcTypeSubscription=void 0,this._clampToGround=void 0,this._clampToGroundSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("6ktF"),l=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l.a)("show"),positions:Object(l.a)("positions"),width:Object(l.a)("width"),granularity:Object(l.a)("granularity"),material:Object(c.a)("material"),depthFailMaterial:Object(c.a)("depthFailMaterial"),arcType:Object(l.a)("arcType"),clampToGround:Object(l.a)("clampToGround"),shadows:Object(l.a)("shadows"),distanceDisplayCondition:Object(l.a)("distanceDisplayCondition"),classificationType:Object(l.a)("classificationType"),zIndex:Object(l.a)("zIndex")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.positions=this.positions,e.width=this.width,e.granularity=this.granularity,e.material=this.material,e.depthFailMaterial=this.depthFailMaterial,e.arcType=this.arcType,e.clampToGround=this.clampToGround,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e.classificationType=this.classificationType,e.zIndex=this.zIndex,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.positions=Object(a.a)(this.positions,e.positions),this.width=Object(a.a)(this.width,e.width),this.granularity=Object(a.a)(this.granularity,e.granularity),this.material=Object(a.a)(this.material,e.material),this.depthFailMaterial=Object(a.a)(this.depthFailMaterial,e.depthFailMaterial),this.arcType=Object(a.a)(this.arcType,e.arcType),this.clampToGround=Object(a.a)(this.clampToGround,e.clampToGround),this.shadows=Object(a.a)(this.shadows,e.shadows),this.distanceDisplayCondition=Object(a.a)(this.distanceDisplayCondition,e.distanceDisplayCondition),this.classificationType=Object(a.a)(this.classificationType,e.classificationType),this.zIndex=Object(a.a)(this.zIndex,e.zIndex)},t.a=n},xtvr:function(e,t,i){"use strict";function n(e){this.animationAdded=new u.a,this.animationRemoved=new u.a,this._model=e,this._scheduledAnimations=[],this._previousTime=void 0}function a(e,t,i){var n=e._model,a=n._runtime.animations,r=a[t],o=new f.a(i,n,r);return e._scheduledAnimations.push(o),e.animationAdded.raiseEvent(n,o),o}function r(e,t){for(var i=e.channelEvaluators,n=i.length,a=0;a<n;++a)i[a](t)}function o(e,t,i){return function(){e.animationRemoved.raiseEvent(t,i)}}var s=i("5A4e"),c=i("xC6Q"),l=i("PzDm"),u=i("W6xh"),h=i("9Uqs"),d=i("fq+p"),f=i("Z8Uk"),p=i("jn3B"),m=i("vvtH");Object.defineProperties(n.prototype,{length:{get:function(){return this._scheduledAnimations.length}}}),n.prototype.add=function(e){e=Object(s.a)(e,s.a.EMPTY_OBJECT);var t=this._model,i=t._runtime.animations;if(!Object(c.a)(i))throw new l.a("Animations are not loaded.  Wait for Model.readyPromise to resolve.");if(!Object(c.a)(e.name)&&!Object(c.a)(e.index))throw new l.a("Either options.name or options.index must be defined.");if(Object(c.a)(e.multiplier)&&e.multiplier<=0)throw new l.a("options.multiplier must be greater than zero.");if(Object(c.a)(e.index)&&(e.index>=i.length||e.index<0))throw new l.a("options.index must be a valid animation index.");if(Object(c.a)(e.index))return a(this,e.index,e);for(var n,r=i.length,o=0;o<r;++o)if(i[o].name===e.name){n=o;break}if(!Object(c.a)(n))throw new l.a("options.name must be a valid animation name.");return a(this,n,e)},n.prototype.addAll=function(e){if(e=Object(s.a)(e,s.a.EMPTY_OBJECT),!Object(c.a)(this._model._runtime.animations))throw new l.a("Animations are not loaded.  Wait for Model.readyPromise to resolve.");if(Object(c.a)(e.multiplier)&&e.multiplier<=0)throw new l.a("options.multiplier must be greater than zero.");for(var t=[],i=this._model,n=i._runtime.animations,r=n.length,o=0;o<r;++o)t.push(a(this,o,e));return t},n.prototype.remove=function(e){if(Object(c.a)(e)){var t=this._scheduledAnimations,i=t.indexOf(e);if(-1!==i)return t.splice(i,1),this.animationRemoved.raiseEvent(this._model,e),!0}return!1},n.prototype.removeAll=function(){var e=this._model,t=this._scheduledAnimations,i=t.length;this._scheduledAnimations=[];for(var n=0;n<i;++n)this.animationRemoved.raiseEvent(e,t[n])},n.prototype.contains=function(e){return!!Object(c.a)(e)&&-1!==this._scheduledAnimations.indexOf(e)},n.prototype.get=function(e){if(!Object(c.a)(e))throw new l.a("index is required.");return this._scheduledAnimations[e]};var g=[];n.prototype.update=function(e){var t=this._scheduledAnimations,i=t.length;if(0===i)return this._previousTime=void 0,!1;if(h.a.equals(e.time,this._previousTime))return!1;this._previousTime=h.a.clone(e.time,this._previousTime);for(var n=!1,a=e.time,l=this._model,u=0;u<i;++u){var f=t[u],_=f._runtimeAnimation;Object(c.a)(f._computedStartTime)||(f._computedStartTime=h.a.addSeconds(Object(s.a)(f.startTime,a),f.delay,new h.a)),Object(c.a)(f._duration)||(f._duration=_.stopTime*(1/f.multiplier));var v=f._computedStartTime,b=f._duration,y=f.stopTime,O=0!==b?h.a.secondsDifference(a,v)/b:0,w=O>=0,x=f.loop===p.a.REPEAT||f.loop===p.a.MIRRORED_REPEAT;if((w||x&&!Object(c.a)(f.startTime))&&(O<=1||x)&&(!Object(c.a)(y)||h.a.lessThanOrEquals(a,y))){if(f._state===m.a.STOPPED&&(f._state=m.a.ANIMATING,f.start.numberOfListeners>0&&e.afterRender.push(f._raiseStartEvent)),f.loop===p.a.REPEAT)O-=Math.floor(O);else if(f.loop===p.a.MIRRORED_REPEAT){var E=Math.floor(O),T=O-E;O=E%2==1?1-T:T}f.reverse&&(O=1-O);var A=O*b*f.multiplier;A=d.a.clamp(A,_.startTime,_.stopTime),r(_,A),f.update.numberOfListeners>0&&(f._updateEventTime=A,e.afterRender.push(f._raiseUpdateEvent)),n=!0}else w&&f._state===m.a.ANIMATING&&(f._state=m.a.STOPPED,f.stop.numberOfListeners>0&&e.afterRender.push(f._raiseStopEvent),f.removeOnStop&&g.push(f))}i=g.length;for(var C=0;C<i;++C){var S=g[C];t.splice(t.indexOf(S),1),e.afterRender.push(o(this,l,S))}return g.length=0,n},t.a=n},xvTE:function(e,t,i){"use strict";function n(e){e=Object(a.a)(e,a.a.EMPTY_OBJECT),this.position=Object(a.a)(e.position,!1),this.normal=Object(a.a)(e.normal,!1),this.st=Object(a.a)(e.st,!1),this.bitangent=Object(a.a)(e.bitangent,!1),this.tangent=Object(a.a)(e.tangent,!1),this.color=Object(a.a)(e.color,!1)}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm");n.POSITION_ONLY=Object.freeze(new n({position:!0})),n.POSITION_AND_NORMAL=Object.freeze(new n({position:!0,normal:!0})),n.POSITION_NORMAL_AND_ST=Object.freeze(new n({position:!0,normal:!0,st:!0})),n.POSITION_AND_ST=Object.freeze(new n({position:!0,st:!0})),n.POSITION_AND_COLOR=Object.freeze(new n({position:!0,color:!0})),n.ALL=Object.freeze(new n({position:!0,normal:!0,st:!0,tangent:!0,bitangent:!0})),n.DEFAULT=n.POSITION_NORMAL_AND_ST,n.packedLength=6,n.pack=function(e,t,i){if(!Object(r.a)(e))throw new o.a("value is required");if(!Object(r.a)(t))throw new o.a("array is required");return i=Object(a.a)(i,0),t[i++]=e.position?1:0,t[i++]=e.normal?1:0,t[i++]=e.st?1:0,t[i++]=e.tangent?1:0,t[i++]=e.bitangent?1:0,t[i]=e.color?1:0,t},n.unpack=function(e,t,i){if(!Object(r.a)(e))throw new o.a("array is required");return t=Object(a.a)(t,0),Object(r.a)(i)||(i=new n),i.position=1===e[t++],i.normal=1===e[t++],i.st=1===e[t++],i.tangent=1===e[t++],i.bitangent=1===e[t++],i.color=1===e[t],i},n.clone=function(e,t){if(Object(r.a)(e))return Object(r.a)(t)||(t=new n),t.position=e.position,t.normal=e.normal,t.st=e.st,t.tangent=e.tangent,t.bitangent=e.bitangent,t.color=e.color,t},t.a=n},y04v:function(e,t,i){"use strict";function n(){this.show=!0,this._drawCommand=new b.a({primitiveType:m.a.TRIANGLES,boundingVolume:new a.a,owner:this}),this._commands={drawCommand:this._drawCommand,computeCommand:void 0},this._boundingVolume=new a.a,this._boundingVolume2D=new a.a,this._texture=void 0,this._drawingBufferWidth=void 0,this._drawingBufferHeight=void 0,this._radiusTS=void 0,this._size=void 0,this.glowFactor=1,this._glowFactorDirty=!1,this._useHdr=void 0;var e=this;this._uniformMap={u_texture:function(){return e._texture},u_size:function(){return e._size}}}var a=i("lBr9"),r=i("Ss9j"),o=i("Jj+J"),s=i("PDkd"),c=i("YCZg"),l=i("xC6Q"),u=i("6sr8"),h=i("oMsT"),d=i("fq+p"),f=i("Xjii"),p=i("FhYh"),m=i("nHNe"),g=i("tW+E"),_=i("rFKc"),v=i("/Bhn"),b=i("1mJh"),y=i("HvCH"),O=i("DrvA"),w=i("WUlw"),x=i("25X5"),E=i("+0EW"),T=i("X72x"),A=i("eiC9"),C=i("0uM5"),S=i("OtDm"),j=i("sotJ"),P=i("D2nr");Object.defineProperties(n.prototype,{glowFactor:{get:function(){return this._glowFactor},set:function(e){e=Math.max(e,0),this._glowFactor=e,this._glowFactorDirty=!0}}});var D=new r.a,I=new r.a,R=new s.a,M=new s.a;n.prototype.update=function(e,t,i){if(this.show){var n=e.mode;if(n!==j.a.SCENE2D&&n!==j.a.MORPHING&&e.passes.render){var s=e.context,u=t.viewport.width,m=t.viewport.height;if(!Object(l.a)(this._texture)||u!==this._drawingBufferWidth||m!==this._drawingBufferHeight||this._glowFactorDirty||i!==this._useHdr){this._texture=this._texture&&this._texture.destroy(),this._drawingBufferWidth=u,this._drawingBufferHeight=m,this._glowFactorDirty=!1,this._useHdr=i;var b=Math.max(u,m);b=Math.pow(2,Math.ceil(Math.log(b)/Math.log(2))-2),b=Math.max(1,b);var L=i?s.halfFloatingPointTexture?y.a.HALF_FLOAT:y.a.FLOAT:y.a.UNSIGNED_BYTE;this._texture=new x.a({context:s,width:b,height:b,pixelFormat:p.a.RGBA,pixelDatatype:L}),this._glowLengthTS=5*this._glowFactor,this._radiusTS=1/(1+2*this._glowLengthTS)*.5;var N=this,F={u_radiusTS:function(){return N._radiusTS}};this._commands.computeCommand=new v.a({fragmentShaderSource:A.a,outputTexture:this._texture,uniformMap:F,persists:!1,owner:this,postExecute:function(){N._commands.computeCommand=void 0}})}var z=this._drawCommand;if(!Object(l.a)(z.vertexArray)){var B={direction:0},k=new Uint8Array(8);k[0]=0,k[1]=0,k[2]=255,k[3]=0,k[4]=255,k[5]=255,k[6]=0,k[7]=255;var U=g.a.createVertexBuffer({context:s,typedArray:k,usage:_.a.STATIC_DRAW}),V=[{index:B.direction,vertexBuffer:U,componentsPerAttribute:2,normalize:!0,componentDatatype:c.a.UNSIGNED_BYTE}],H=g.a.createIndexBuffer({context:s,typedArray:new Uint16Array([0,1,2,0,2,3]),usage:_.a.STATIC_DRAW,indexDatatype:h.a.UNSIGNED_SHORT});z.vertexArray=new E.a({context:s,attributes:V,indexBuffer:H}),z.shaderProgram=w.a.fromCache({context:s,vertexShaderSource:C.a,fragmentShaderSource:T.a,attributeLocations:B}),z.renderState=O.a.fromCache({blending:S.a.ALPHA_BLEND}),z.uniformMap=this._uniformMap}var q=s.uniformState.sunPositionWC,W=s.uniformState.sunPositionColumbusView,G=this._boundingVolume,Y=this._boundingVolume2D;o.a.clone(q,G.center),Y.center.x=W.z,Y.center.y=W.x,Y.center.z=W.y,G.radius=d.a.SOLAR_RADIUS+d.a.SOLAR_RADIUS*this._glowLengthTS,Y.radius=G.radius,n===j.a.SCENE3D?a.a.clone(G,z.boundingVolume):n===j.a.COLUMBUS_VIEW&&a.a.clone(Y,z.boundingVolume);var X=P.a.computeActualWgs84Position(e,q,M),Q=o.a.magnitude(o.a.subtract(X,e.camera.position,M)),J=s.uniformState.projection,Z=R;Z.x=0,Z.y=0,Z.z=-Q,Z.w=1;var K=f.a.multiplyByVector(J,Z,M),$=P.a.clipToGLWindowCoordinates(t.viewport,K,D);Z.x=d.a.SOLAR_RADIUS;var ee=f.a.multiplyByVector(J,Z,M),te=P.a.clipToGLWindowCoordinates(t.viewport,ee,I);return this._size=r.a.magnitude(r.a.subtract(te,$,M)),this._size=2*this._size*(1+2*this._glowLengthTS),this._size=Math.ceil(this._size),this._commands}}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){var e=this._drawCommand;return e.vertexArray=e.vertexArray&&e.vertexArray.destroy(),e.shaderProgram=e.shaderProgram&&e.shaderProgram.destroy(),this._texture=this._texture&&this._texture.destroy(),Object(u.a)(this)},t.a=n},y67q:function(e,t,i){"use strict";t.a="varying vec3 v_cubeMapCoordinates;\nuniform samplerCube cubeMap;\n\nvoid main()\n{\n    vec4 rgbm = textureCube(cubeMap, v_cubeMapCoordinates);\n    float m = rgbm.a * 16.0;\n    vec3 r = rgbm.rgb * m;\n    gl_FragColor = vec4(r * r, 1.0);\n}\n"},y6fO:function(e,t,i){"use strict";function n(e,t,i,n){t=Object(c.a)(t,0),i=Object(c.a)(i,0),n=Object(c.a)(n,0),s.a.typeOf.number.greaterThanOrEquals("x",t,0),s.a.typeOf.number.greaterThanOrEquals("y",i,0),s.a.typeOf.number.greaterThanOrEquals("z",n,0),e._radii=new r.a(t,i,n),e._radiiSquared=new r.a(t*t,i*i,n*n),e._radiiToTheFourth=new r.a(t*t*t*t,i*i*i*i,n*n*n*n),e._oneOverRadii=new r.a(0===t?0:1/t,0===i?0:1/i,0===n?0:1/n),e._oneOverRadiiSquared=new r.a(0===t?0:1/(t*t),0===i?0:1/(i*i),0===n?0:1/(n*n)),e._minimumRadius=Math.min(t,i,n),e._maximumRadius=Math.max(t,i,n),e._centerToleranceSquared=h.a.EPSILON1,0!==e._radiiSquared.z&&(e._squaredXOverSquaredZ=e._radiiSquared.x/e._radiiSquared.z)}function a(e,t,i){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,n(this,e,t,i)}var r=i("Jj+J"),o=i("I3GD"),s=i("5F4X"),c=i("5A4e"),l=i("xC6Q"),u=i("PzDm"),h=i("fq+p"),d=i("6rR9");Object.defineProperties(a.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),a.clone=function(e,t){if(Object(l.a)(e)){var i=e._radii;return Object(l.a)(t)?(r.a.clone(i,t._radii),r.a.clone(e._radiiSquared,t._radiiSquared),r.a.clone(e._radiiToTheFourth,t._radiiToTheFourth),r.a.clone(e._oneOverRadii,t._oneOverRadii),r.a.clone(e._oneOverRadiiSquared,t._oneOverRadiiSquared),t._minimumRadius=e._minimumRadius,t._maximumRadius=e._maximumRadius,t._centerToleranceSquared=e._centerToleranceSquared,t):new a(i.x,i.y,i.z)}},a.fromCartesian3=function(e,t){return Object(l.a)(t)||(t=new a),Object(l.a)(e)?(n(t,e.x,e.y,e.z),t):t},a.WGS84=Object.freeze(new a(6378137,6378137,6356752.314245179)),a.UNIT_SPHERE=Object.freeze(new a(1,1,1)),a.MOON=Object.freeze(new a(h.a.LUNAR_RADIUS,h.a.LUNAR_RADIUS,h.a.LUNAR_RADIUS)),a.prototype.clone=function(e){return a.clone(this,e)},a.packedLength=r.a.packedLength,a.pack=function(e,t,i){return s.a.typeOf.object("value",e),s.a.defined("array",t),i=Object(c.a)(i,0),r.a.pack(e._radii,t,i),t},a.unpack=function(e,t,i){s.a.defined("array",e),t=Object(c.a)(t,0);var n=r.a.unpack(e,t);return a.fromCartesian3(n,i)},a.prototype.geocentricSurfaceNormal=r.a.normalize,a.prototype.geodeticSurfaceNormalCartographic=function(e,t){s.a.typeOf.object("cartographic",e);var i=e.longitude,n=e.latitude,a=Math.cos(n),o=a*Math.cos(i),c=a*Math.sin(i),u=Math.sin(n);return Object(l.a)(t)||(t=new r.a),t.x=o,t.y=c,t.z=u,r.a.normalize(t,t)},a.prototype.geodeticSurfaceNormal=function(e,t){return Object(l.a)(t)||(t=new r.a),t=r.a.multiplyComponents(e,this._oneOverRadiiSquared,t),r.a.normalize(t,t)};var f=new r.a,p=new r.a;a.prototype.cartographicToCartesian=function(e,t){var i=f,n=p;this.geodeticSurfaceNormalCartographic(e,i),r.a.multiplyComponents(this._radiiSquared,i,n);var a=Math.sqrt(r.a.dot(i,n));return r.a.divideByScalar(n,a,n),r.a.multiplyByScalar(i,e.height,i),Object(l.a)(t)||(t=new r.a),r.a.add(n,i,t)},a.prototype.cartographicArrayToCartesianArray=function(e,t){s.a.defined("cartographics",e);var i=e.length;Object(l.a)(t)?t.length=i:t=new Array(i);for(var n=0;n<i;n++)t[n]=this.cartographicToCartesian(e[n],t[n]);return t};var m=new r.a,g=new r.a,_=new r.a;a.prototype.cartesianToCartographic=function(e,t){var i=this.scaleToGeodeticSurface(e,g);if(Object(l.a)(i)){var n=this.geodeticSurfaceNormal(i,m),a=r.a.subtract(e,i,_),s=Math.atan2(n.y,n.x),c=Math.asin(n.z),u=h.a.sign(r.a.dot(a,e))*r.a.magnitude(a);return Object(l.a)(t)?(t.longitude=s,t.latitude=c,t.height=u,t):new o.a(s,c,u)}},a.prototype.cartesianArrayToCartographicArray=function(e,t){s.a.defined("cartesians",e);var i=e.length;Object(l.a)(t)?t.length=i:t=new Array(i);for(var n=0;n<i;++n)t[n]=this.cartesianToCartographic(e[n],t[n]);return t},a.prototype.scaleToGeodeticSurface=function(e,t){return Object(d.a)(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},a.prototype.scaleToGeocentricSurface=function(e,t){s.a.typeOf.object("cartesian",e),Object(l.a)(t)||(t=new r.a);var i=e.x,n=e.y,a=e.z,o=this._oneOverRadiiSquared,c=1/Math.sqrt(i*i*o.x+n*n*o.y+a*a*o.z);return r.a.multiplyByScalar(e,c,t)},a.prototype.transformPositionToScaledSpace=function(e,t){return Object(l.a)(t)||(t=new r.a),r.a.multiplyComponents(e,this._oneOverRadii,t)},a.prototype.transformPositionFromScaledSpace=function(e,t){return Object(l.a)(t)||(t=new r.a),r.a.multiplyComponents(e,this._radii,t)},a.prototype.equals=function(e){return this===e||Object(l.a)(e)&&r.a.equals(this._radii,e._radii)},a.prototype.toString=function(){return this._radii.toString()},a.prototype.getSurfaceNormalIntersectionWithZAxis=function(e,t,i){if(s.a.typeOf.object("position",e),!h.a.equalsEpsilon(this._radii.x,this._radii.y,h.a.EPSILON15))throw new u.a("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");s.a.typeOf.number.greaterThan("Ellipsoid.radii.z",this._radii.z,0),t=Object(c.a)(t,0);var n=this._squaredXOverSquaredZ;if(Object(l.a)(i)||(i=new r.a),i.x=0,i.y=0,i.z=e.z*(1-n),!(Math.abs(i.z)>=this._radii.z-t))return i},t.a=a},y8wP:function(e,t,i){"use strict";t.a="/**\n * Procedural anti-aliasing by blurring two colors that meet at a sharp edge.\n *\n * @name czm_antialias\n * @glslFunction\n *\n * @param {vec4} color1 The color on one side of the edge.\n * @param {vec4} color2 The color on the other side of the edge.\n * @param {vec4} currentcolor The current color, either <code>color1</code> or <code>color2</code>.\n * @param {float} dist The distance to the edge in texture coordinates.\n * @param {float} [fuzzFactor=0.1] Controls the blurriness between the two colors.\n * @returns {vec4} The anti-aliased color.\n *\n * @example\n * // GLSL declarations\n * vec4 czm_antialias(vec4 color1, vec4 color2, vec4 currentColor, float dist, float fuzzFactor);\n * vec4 czm_antialias(vec4 color1, vec4 color2, vec4 currentColor, float dist);\n *\n * // get the color for a material that has a sharp edge at the line y = 0.5 in texture space\n * float dist = abs(textureCoordinates.t - 0.5);\n * vec4 currentColor = mix(bottomColor, topColor, step(0.5, textureCoordinates.t));\n * vec4 color = czm_antialias(bottomColor, topColor, currentColor, dist, 0.1);\n */\nvec4 czm_antialias(vec4 color1, vec4 color2, vec4 currentColor, float dist, float fuzzFactor)\n{\n    float val1 = clamp(dist / fuzzFactor, 0.0, 1.0);\n    float val2 = clamp((dist - 0.5) / fuzzFactor, 0.0, 1.0);\n    val1 = val1 * (1.0 - val2);\n    val1 = val1 * val1 * (3.0 - (2.0 * val1));\n    val1 = pow(val1, 0.5); //makes the transition nicer\n    \n    vec4 midColor = (color1 + color2) * 0.5;\n    return mix(midColor, currentColor, val1);\n}\n\nvec4 czm_antialias(vec4 color1, vec4 color2, vec4 currentColor, float dist)\n{\n    return czm_antialias(color1, color2, currentColor, dist, 0.1);\n}\n"},yAuC:function(e,t,i){"use strict";function n(e,t,i,n){var a=n.cartesianToCartographic(e,B),r=a.height,o=n.cartesianToCartographic(t,k);o.height=r,n.cartographicToCartesian(o,t);var s=n.cartesianToCartographic(i,k);s.height=r-100,n.cartographicToCartesian(s,i)}function a(e){var t=e.vertexFormat,i=e.geometry,a=e.shadowVolume,r=i.attributes.position.values,o=r.length,s=e.wall,c=e.top||s,l=e.bottom||s;if(t.st||t.normal||t.tangent||t.bitangent||a){var u=e.boundingRectangle,d=e.tangentPlane,f=e.ellipsoid,g=e.stRotation,_=e.perPositionHeight,b=Z;b.x=u.x,b.y=u.y;var O,w=t.st?new Float32Array(o/3*2):void 0;t.normal&&(O=_&&c&&!s?i.attributes.normal.values:new Float32Array(o));var x=t.tangent?new Float32Array(o):void 0,E=t.bitangent?new Float32Array(o):void 0,T=a?new Float32Array(o):void 0,C=0,j=0,P=H,R=q,M=W,N=!0,F=te,z=ie;if(0!==g){var B=L.a.fromAxisAngle(d._plane.normal,g,ee);F=I.a.fromQuaternion(B,F),B=L.a.fromAxisAngle(d._plane.normal,-g,ee),z=I.a.fromQuaternion(B,z)}else F=I.a.clone(I.a.IDENTITY,F),z=I.a.clone(I.a.IDENTITY,z);var k=0,U=0;c&&l&&(k=o/2,U=o/3,o/=2);for(var ne=0;ne<o;ne+=3){var ae=m.a.fromArray(r,ne,$);if(t.st){var re=I.a.multiplyByVector(F,ae,V);re=f.scaleToGeodeticSurface(re,re);var oe=d.projectPointOntoPlane(re,K);p.a.subtract(oe,b,oe);var se=D.a.clamp(oe.x/u.width,0,1),ce=D.a.clamp(oe.y/u.height,0,1);l&&(w[C+U]=se,w[C+1+U]=ce),c&&(w[C]=se,w[C+1]=ce),C+=2}if(t.normal||t.tangent||t.bitangent||a){var le=j+1,ue=j+2;if(s){if(ne+3<o){var he=m.a.fromArray(r,ne+3,G);if(N){var de=m.a.fromArray(r,ne+o,Y);_&&n(ae,he,de,f),m.a.subtract(he,ae,he),m.a.subtract(de,ae,de),P=m.a.normalize(m.a.cross(de,he,P),P),N=!1}m.a.equalsEpsilon(he,ae,D.a.EPSILON10)&&(N=!0)}(t.tangent||t.bitangent)&&(M=f.geodeticSurfaceNormal(ae,M),t.tangent&&(R=m.a.normalize(m.a.cross(M,P,R),R)))}else P=f.geodeticSurfaceNormal(ae,P),(t.tangent||t.bitangent)&&(_&&(X=m.a.fromArray(O,j,X),Q=m.a.cross(m.a.UNIT_Z,X,Q),Q=m.a.normalize(I.a.multiplyByVector(z,Q,Q),Q),t.bitangent&&(J=m.a.normalize(m.a.cross(X,Q,J),J))),R=m.a.cross(m.a.UNIT_Z,P,R),R=m.a.normalize(I.a.multiplyByVector(z,R,R),R),t.bitangent&&(M=m.a.normalize(m.a.cross(P,R,M),M)));t.normal&&(e.wall?(O[j+k]=P.x,O[le+k]=P.y,O[ue+k]=P.z):l&&(O[j+k]=-P.x,O[le+k]=-P.y,O[ue+k]=-P.z),(c&&!_||s)&&(O[j]=P.x,O[le]=P.y,O[ue]=P.z)),a&&(s&&(P=f.geodeticSurfaceNormal(ae,P)),T[j+k]=-P.x,T[le+k]=-P.y,T[ue+k]=-P.z),t.tangent&&(e.wall?(x[j+k]=R.x,x[le+k]=R.y,x[ue+k]=R.z):l&&(x[j+k]=-R.x,x[le+k]=-R.y,x[ue+k]=-R.z),c&&(_?(x[j]=Q.x,x[le]=Q.y,x[ue]=Q.z):(x[j]=R.x,x[le]=R.y,x[ue]=R.z))),t.bitangent&&(l&&(E[j+k]=M.x,E[le+k]=M.y,E[ue+k]=M.z),c&&(_?(E[j]=J.x,E[le]=J.y,E[ue]=J.z):(E[j]=M.x,E[le]=M.y,E[ue]=M.z))),j+=3}}t.st&&(i.attributes.st=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:2,values:w})),t.normal&&(i.attributes.normal=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:O})),t.tangent&&(i.attributes.tangent=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:x})),t.bitangent&&(i.attributes.bitangent=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:E})),a&&(i.attributes.extrudeDirection=new A.a({componentDatatype:v.a.FLOAT,componentsPerAttribute:3,values:T}))}if(e.extrude&&Object(y.a)(e.offsetAttribute)){var fe=r.length/3,pe=new Uint8Array(fe);if(e.offsetAttribute===S.a.TOP)c&&l||s?pe=Object(h.a)(pe,1,0,fe/2):c&&(pe=Object(h.a)(pe,1));else{var me=e.offsetAttribute===S.a.NONE?0:1;pe=Object(h.a)(pe,me)}i.attributes.applyOffset=new A.a({componentDatatype:v.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:pe})}return i}function r(e,t,i,n,a){if(a=Object(b.a)(a,new N.a),!Object(y.a)(e)||e.length<3)return a.west=0,a.north=0,a.south=0,a.east=0,a;if(i===u.a.RHUMB)return N.a.fromCartesianArray(e,t,a);oe.ellipsoid.equals(t)||(oe=new x.a(void 0,void 0,t)),a.west=Number.POSITIVE_INFINITY,a.east=Number.NEGATIVE_INFINITY,a.south=Number.POSITIVE_INFINITY,a.north=Number.NEGATIVE_INFINITY,re.westOverIDL=Number.POSITIVE_INFINITY,re.eastOverIDL=Number.NEGATIVE_INFINITY;for(var r,s=1/D.a.chordLength(n,t.maximumRadius),c=e.length,l=t.cartesianToCartographic(e[0],ae),h=ne,d=1;d<c;d++)r=h,h=l,l=t.cartesianToCartographic(e[d],r),oe.setEndPoints(h,l),o(oe,s,a,re);return r=h,h=l,l=t.cartesianToCartographic(e[0],r),oe.setEndPoints(h,l),o(oe,s,a,re),a.east-a.west>re.eastOverIDL-re.westOverIDL&&(a.west=re.westOverIDL,a.east=re.eastOverIDL,a.east>D.a.PI&&(a.east=a.east-D.a.TWO_PI),a.west>D.a.PI&&(a.west=a.west-D.a.TWO_PI)),a}function o(e,t,i,n){for(var a=e.surfaceDistance,r=Math.ceil(a*t),o=r>0?a/(r-1):Number.POSITIVE_INFINITY,s=0,c=0;c<r;c++){var l=e.interpolateUsingSurfaceDistance(s,se);s+=o;var u=l.longitude,h=l.latitude;i.west=Math.min(i.west,u),i.east=Math.max(i.east,u),i.south=Math.min(i.south,h),i.north=Math.max(i.north,h);var d=u>=0?u:u+D.a.TWO_PI;n.westOverIDL=Math.min(n.westOverIDL,d),n.eastOverIDL=Math.max(n.eastOverIDL,d)}}function s(e,t,i,n,a,r,o,s,c){var l,u={walls:[]};if(r||o){var h,d,f=R.a.createGeometryFromPositions(e,t,i,a,s,c),p=f.attributes.position.values,m=f.indices;if(r&&o){var g=p.concat(p);h=g.length/3,d=P.a.createTypedArray(h,2*m.length),d.set(m);var _=m.length,v=h/2;for(l=0;l<_;l+=3){var b=d[l]+v,y=d[l+1]+v,O=d[l+2]+v;d[l+_]=O,d[l+1+_]=y,d[l+2+_]=b}if(f.attributes.position.values=g,a&&s.normal){var w=f.attributes.normal.values;f.attributes.normal.values=new Float32Array(g.length),f.attributes.normal.values.set(w)}f.indices=d}else if(o){for(h=p.length/3,d=P.a.createTypedArray(h,m.length),l=0;l<m.length;l+=3)d[l]=m[l+2],d[l+1]=m[l+1],d[l+2]=m[l];f.indices=d}u.topAndBottom=new C.a({geometry:f})}var x=n.outerRing,T=E.a.fromPoints(x,e),A=T.projectPointsOntoPlane(x,ce),S=M.a.computeWindingOrder2D(A);S===z.a.CLOCKWISE&&(x=x.slice().reverse());var j=R.a.computeWallGeometry(x,e,i,a,c);u.walls.push(new C.a({geometry:j}));var D=n.holes;for(l=0;l<D.length;l++){var I=D[l];T=E.a.fromPoints(I,e),A=T.projectPointsOntoPlane(I,ce),S=M.a.computeWindingOrder2D(A),S===z.a.COUNTER_CLOCKWISE&&(I=I.slice().reverse()),j=R.a.computeWallGeometry(I,e,i,a,c),u.walls.push(new C.a({geometry:j}))}return u}function c(e){if(_.a.typeOf.object("options",e),_.a.typeOf.object("options.polygonHierarchy",e.polygonHierarchy),Object(y.a)(e.perPositionHeight)&&e.perPositionHeight&&Object(y.a)(e.height))throw new O.a("Cannot use both options.perPositionHeight and options.height");if(Object(y.a)(e.arcType)&&e.arcType!==u.a.GEODESIC&&e.arcType!==u.a.RHUMB)throw new O.a("Invalid arcType. Valid options are ArcType.GEODESIC and ArcType.RHUMB.");var t=e.polygonHierarchy,i=Object(b.a)(e.vertexFormat,F.a.DEFAULT),n=Object(b.a)(e.ellipsoid,w.a.WGS84),a=Object(b.a)(e.granularity,D.a.RADIANS_PER_DEGREE),r=Object(b.a)(e.stRotation,0),o=Object(b.a)(e.perPositionHeight,!1),s=o&&Object(y.a)(e.extrudedHeight),c=Object(b.a)(e.height,0),l=Object(b.a)(e.extrudedHeight,c);if(!s){var h=Math.max(c,l);l=Math.min(c,l),c=h}this._vertexFormat=F.a.clone(i),this._ellipsoid=w.a.clone(n),this._granularity=a,this._stRotation=r,this._height=c,this._extrudedHeight=l,this._closeTop=Object(b.a)(e.closeTop,!0),this._closeBottom=Object(b.a)(e.closeBottom,!0),this._polygonHierarchy=t,this._perPositionHeight=o,this._perPositionHeightExtrude=s,this._shadowVolume=Object(b.a)(e.shadowVolume,!1),this._workerName="createPolygonGeometry",this._offsetAttribute=e.offsetAttribute,this._arcType=Object(b.a)(e.arcType,u.a.GEODESIC),this._rectangle=void 0,this._textureCoordinateRotationPoints=void 0,this.packedLength=R.a.computeHierarchyPackedLength(t)+w.a.packedLength+F.a.packedLength+12}function l(e){var t=-e._stRotation;if(0===t)return[0,0,0,1,1,0];var i=e._ellipsoid,n=e._polygonHierarchy.positions,a=e.rectangle;return T.a._textureCoordinateRotationPoints(n,t,i,a)}var u=i("X8rS"),h=i("Sfsp"),d=i("or8k"),f=i("lBr9"),p=i("Ss9j"),m=i("Jj+J"),g=i("I3GD"),_=i("5F4X"),v=i("YCZg"),b=i("5A4e"),y=i("xC6Q"),O=i("PzDm"),w=i("y6fO"),x=i("MWnf"),E=i("GmON"),T=i("RGAo"),A=i("RYD3"),C=i("izcu"),S=i("2g+t"),j=i("odWO"),P=i("oMsT"),D=i("fq+p"),I=i("i3sv"),R=i("qG/l"),M=i("EDAM"),L=i("q/xW"),N=i("Wq1U"),F=i("xvTE"),z=i("+snP"),B=new g.a,k=new g.a,U=new d.a,V=new m.a,H=new m.a,q=new m.a,W=new m.a,G=new m.a,Y=new m.a,X=new m.a,Q=new m.a,J=new m.a,Z=new p.a,K=new p.a,$=new m.a,ee=new L.a,te=new I.a,ie=new I.a,ne=new g.a,ae=new g.a,re={westOverIDL:0,eastOverIDL:0},oe=new x.a,se=new g.a,ce=[];c.fromPositions=function(e){return e=Object(b.a)(e,b.a.EMPTY_OBJECT),_.a.defined("options.positions",e.positions),new c({polygonHierarchy:{positions:e.positions},height:e.height,extrudedHeight:e.extrudedHeight,vertexFormat:e.vertexFormat,stRotation:e.stRotation,ellipsoid:e.ellipsoid,granularity:e.granularity,perPositionHeight:e.perPositionHeight,closeTop:e.closeTop,closeBottom:e.closeBottom,offsetAttribute:e.offsetAttribute,arcType:e.arcType})},c.pack=function(e,t,i){return _.a.typeOf.object("value",e),_.a.defined("array",t),i=Object(b.a)(i,0),i=R.a.packPolygonHierarchy(e._polygonHierarchy,t,i),w.a.pack(e._ellipsoid,t,i),i+=w.a.packedLength,F.a.pack(e._vertexFormat,t,i),i+=F.a.packedLength,t[i++]=e._height,t[i++]=e._extrudedHeight,t[i++]=e._granularity,t[i++]=e._stRotation,t[i++]=e._perPositionHeightExtrude?1:0,t[i++]=e._perPositionHeight?1:0,t[i++]=e._closeTop?1:0,t[i++]=e._closeBottom?1:0,t[i++]=e._shadowVolume?1:0,t[i++]=Object(b.a)(e._offsetAttribute,-1),t[i++]=e._arcType,t[i]=e.packedLength,t};var le=w.a.clone(w.a.UNIT_SPHERE),ue=new F.a,he={polygonHierarchy:{}};c.unpack=function(e,t,i){_.a.defined("array",e),t=Object(b.a)(t,0);var n=R.a.unpackPolygonHierarchy(e,t);t=n.startingIndex,delete n.startingIndex;var a=w.a.unpack(e,t,le);t+=w.a.packedLength;var r=F.a.unpack(e,t,ue);t+=F.a.packedLength;var o=e[t++],s=e[t++],l=e[t++],u=e[t++],h=1===e[t++],d=1===e[t++],f=1===e[t++],p=1===e[t++],m=1===e[t++],g=e[t++],v=e[t++],O=e[t];return Object(y.a)(i)||(i=new c(he)),i._polygonHierarchy=n,i._ellipsoid=w.a.clone(a,i._ellipsoid),i._vertexFormat=F.a.clone(r,i._vertexFormat),i._height=o,i._extrudedHeight=s,i._granularity=l,i._stRotation=u,i._perPositionHeightExtrude=h,i._perPositionHeight=d,i._closeTop=f,i._closeBottom=p,i._shadowVolume=m,i._offsetAttribute=-1===g?void 0:g,i._arcType=v,i.packedLength=O,i},c.computeRectangle=function(e,t){_.a.typeOf.object("options",e),_.a.typeOf.object("options.polygonHierarchy",e.polygonHierarchy);var i=Object(b.a)(e.granularity,D.a.RADIANS_PER_DEGREE),n=Object(b.a)(e.arcType,u.a.GEODESIC);if(n!==u.a.GEODESIC&&n!==u.a.RHUMB)throw new O.a("Invalid arcType. Valid options are ArcType.GEODESIC and ArcType.RHUMB.");var a=e.polygonHierarchy,o=Object(b.a)(e.ellipsoid,w.a.WGS84);return r(a.positions,o,n,i,t)},c.createGeometry=function(e){var t=e._vertexFormat,i=e._ellipsoid,n=e._granularity,r=e._stRotation,o=e._polygonHierarchy,c=e._perPositionHeight,l=e._closeTop,u=e._closeBottom,d=e._arcType,p=o.positions;if(!(p.length<3)){var m=E.a.fromPoints(p,i),g=R.a.polygonsFromHierarchy(o,m.projectPointsOntoPlane.bind(m),!c,i),_=g.hierarchy,b=g.polygons;if(0!==_.length){p=_[0].outerRing;var O,w=R.a.computeBoundingRectangle(m.plane.normal,m.projectPointOntoPlane.bind(m),p,r,U),x=[],I=e._height,L=e._extrudedHeight,N=e._perPositionHeightExtrude||!D.a.equalsEpsilon(I,L,0,D.a.EPSILON2),F={perPositionHeight:c,vertexFormat:t,geometry:void 0,tangentPlane:m,boundingRectangle:w,ellipsoid:i,stRotation:r,bottom:!1,top:!0,wall:!1,extrude:!1,arcType:d};if(N)for(F.extrude=!0,F.top=l,F.bottom=u,F.shadowVolume=e._shadowVolume,F.offsetAttribute=e._offsetAttribute,O=0;O<b.length;O++){var z,B=s(i,b[O],n,_[O],c,l,u,t,d);l&&u?(z=B.topAndBottom,F.geometry=R.a.scaleToGeodeticHeightExtruded(z.geometry,I,L,i,c)):l?(z=B.topAndBottom,z.geometry.attributes.position.values=M.a.scaleToGeodeticHeight(z.geometry.attributes.position.values,I,i,!c),F.geometry=z.geometry):u&&(z=B.topAndBottom,z.geometry.attributes.position.values=M.a.scaleToGeodeticHeight(z.geometry.attributes.position.values,L,i,!0),F.geometry=z.geometry),(l||u)&&(F.wall=!1,z.geometry=a(F),x.push(z));var k=B.walls;F.wall=!0;for(var V=0;V<k.length;V++){var H=k[V];F.geometry=R.a.scaleToGeodeticHeightExtruded(H.geometry,I,L,i,c),H.geometry=a(F),x.push(H)}}else for(O=0;O<b.length;O++){var q=new C.a({geometry:R.a.createGeometryFromPositions(i,b[O],n,c,t,d)});if(q.geometry.attributes.position.values=M.a.scaleToGeodeticHeight(q.geometry.attributes.position.values,I,i,!c),F.geometry=q.geometry,q.geometry=a(F),Object(y.a)(e._offsetAttribute)){var W=q.geometry.attributes.position.values.length,G=new Uint8Array(W/3),Y=e._offsetAttribute===S.a.NONE?0:1;Object(h.a)(G,Y),q.geometry.attributes.applyOffset=new A.a({componentDatatype:v.a.UNSIGNED_BYTE,componentsPerAttribute:1,values:G})}x.push(q)}var X=j.a.combineInstances(x)[0];X.attributes.position.values=new Float64Array(X.attributes.position.values),X.indices=P.a.createTypedArray(X.attributes.position.values.length/3,X.indices);var Q=X.attributes,J=f.a.fromVertices(Q.position.values);return t.position||delete Q.position,new T.a({attributes:Q,indices:X.indices,primitiveType:X.primitiveType,boundingSphere:J,offsetAttribute:e._offsetAttribute})}}},c.createShadowVolume=function(e,t,i){var n=e._granularity,a=e._ellipsoid,r=t(n,a),o=i(n,a);return new c({polygonHierarchy:e._polygonHierarchy,ellipsoid:a,stRotation:e._stRotation,granularity:n,perPositionHeight:!1,extrudedHeight:r,height:o,vertexFormat:F.a.POSITION_ONLY,shadowVolume:!0,arcType:e._arcType})},Object.defineProperties(c.prototype,{rectangle:{get:function(){if(!Object(y.a)(this._rectangle)){var e=this._polygonHierarchy.positions;this._rectangle=r(e,this._ellipsoid,this._arcType,this._granularity)}return this._rectangle}},textureCoordinateRotationPoints:{get:function(){return Object(y.a)(this._textureCoordinateRotationPoints)||(this._textureCoordinateRotationPoints=l(this)),this._textureCoordinateRotationPoints}}}),t.a=c},yE8y:function(e,t,i){"use strict";t.a="/**\n * Calculates the intensity of diffusely reflected light.\n *\n * @name czm_getLambertDiffuse\n * @glslFunction\n *\n * @param {vec3} lightDirectionEC Unit vector pointing to the light source in eye coordinates.\n * @param {vec3} normalEC The surface normal in eye coordinates.\n *\n * @returns {float} The intensity of the diffuse reflection.\n *\n * @see czm_phong\n *\n * @example\n * float diffuseIntensity = czm_getLambertDiffuse(lightDirectionEC, normalEC);\n * float specularIntensity = czm_getSpecular(lightDirectionEC, toEyeEC, normalEC, 200);\n * vec3 color = (diffuseColor * diffuseIntensity) + (specularColor * specularIntensity);\n */\nfloat czm_getLambertDiffuse(vec3 lightDirectionEC, vec3 normalEC)\n{\n    return max(dot(lightDirectionEC, normalEC), 0.0);\n}\n"},yFAi:function(e,t,i){"use strict";function n(e,t,i,n,r){this._tileset=e,this._tile=t,this._resource=i,this._readyPromise=l.a.defer(),this.featurePropertiesDirty=!1,a(this,n,r)}function a(e,t,i){i=Object(r.a)(i,0);var n,a=new Uint8Array(t),o=Object(s.a)(a,i);try{n=JSON.parse(o)}catch(t){return void e._readyPromise.reject(new c.a("Invalid tile content."))}e._tileset.loadTileset(e._resource,n,e._tile),e._readyPromise.resolve(e)}var r=i("5A4e"),o=i("6sr8"),s=i("Q+B7"),c=i("V22k"),l=i("S7OP");Object.defineProperties(n.prototype,{featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){}}}),n.prototype.hasProperty=function(e,t){return!1},n.prototype.getFeature=function(e){},n.prototype.applyDebugSettings=function(e,t){},n.prototype.applyStyle=function(e){},n.prototype.update=function(e,t){},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return Object(o.a)(this)},t.a=n},yFqe:function(e,t,i){"use strict";t.a="/**\n * Computes the luminance of a color. \n *\n * @name czm_luminance\n * @glslFunction\n *\n * @param {vec3} rgb The color.\n * \n * @returns {float} The luminance.\n *\n * @example\n * float light = czm_luminance(vec3(0.0)); // 0.0\n * float dark = czm_luminance(vec3(1.0));  // ~1.0 \n */\nfloat czm_luminance(vec3 rgb)\n{\n    // Algorithm from Chapter 10 of Graphics Shaders.\n    const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n    return dot(rgb, W);\n}\n"},yKBu:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._length=void 0,this._lengthSubscription=void 0,this._topRadius=void 0,this._topRadiusSubscription=void 0,this._bottomRadius=void 0,this._bottomRadiusSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._numberOfVerticalLines=void 0,this._numberOfVerticalLinesSubscription=void 0,this._slices=void 0,this._slicesSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("6ktF"),l=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l.a)("show"),length:Object(l.a)("length"),topRadius:Object(l.a)("topRadius"),bottomRadius:Object(l.a)("bottomRadius"),heightReference:Object(l.a)("heightReference"),fill:Object(l.a)("fill"),material:Object(c.a)("material"),outline:Object(l.a)("outline"),outlineColor:Object(l.a)("outlineColor"),outlineWidth:Object(l.a)("outlineWidth"),numberOfVerticalLines:Object(l.a)("numberOfVerticalLines"),slices:Object(l.a)("slices"),shadows:Object(l.a)("shadows"),distanceDisplayCondition:Object(l.a)("distanceDisplayCondition")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.length=this.length,e.topRadius=this.topRadius,e.bottomRadius=this.bottomRadius,e.heightReference=this.heightReference,e.fill=this.fill,e.material=this.material,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.numberOfVerticalLines=this.numberOfVerticalLines,e.slices=this.slices,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.length=Object(a.a)(this.length,e.length),this.topRadius=Object(a.a)(this.topRadius,e.topRadius),this.bottomRadius=Object(a.a)(this.bottomRadius,e.bottomRadius),this.heightReference=Object(a.a)(this.heightReference,e.heightReference),this.fill=Object(a.a)(this.fill,e.fill),this.material=Object(a.a)(this.material,e.material),this.outline=Object(a.a)(this.outline,e.outline),this.outlineColor=Object(a.a)(this.outlineColor,e.outlineColor),this.outlineWidth=Object(a.a)(this.outlineWidth,e.outlineWidth),this.numberOfVerticalLines=Object(a.a)(this.numberOfVerticalLines,e.numberOfVerticalLines),this.slices=Object(a.a)(this.slices,e.slices),this.shadows=Object(a.a)(this.shadows,e.shadows),this.distanceDisplayCondition=Object(a.a)(this.distanceDisplayCondition,e.distanceDisplayCondition)},t.a=n},yKZV:function(e,t,i){"use strict";function n(){}function a(e){return e._visible&&e._inRequestVolume}function r(e){return e.hasEmptyContent||e.hasTilesetContent}function o(e){return!r(e)&&e.contentUnloaded}function s(e,t){return 0!==t.children.length&&(t.hasTilesetContent?!t.contentExpired:(t.hasEmptyContent,!0))}function c(e,t,i,n){for(var r=t.children,o=r.length,s=0;s<o;++s){var c=r[s];c.updateVisibility(n),a(c)&&i.push(c)}}function l(e,t){(o(t)||t.contentExpired)&&(t._priority=0,e._requestedTiles.push(t))}function u(e,t,i){t._touchedFrame!==i.frameNumber&&(e._cache.touch(t),t._touchedFrame=i.frameNumber)}function h(e){++e.statistics.visited}function d(e,t,i){t.contentAvailable&&t.contentVisibility(i)!==f.a.OUTSIDE&&e._selectedTiles.push(t)}var f=i("u909"),p=i("sntn"),m=i("Qv/e"),g={stack:new p.a,stackMaximumLength:0};n.selectTiles=function(e,t){e._selectedTiles.length=0,e._requestedTiles.length=0,e._hasMixedContent=!1;var i=!0,n=e.root;if(n.updateVisibility(t),!a(n))return i;var o=g.stack;for(o.push(e.root);o.length>0;){g.stackMaximumLength=Math.max(g.stackMaximumLength,o.length);var f=o.pop(),p=f.refine===m.a.ADD,_=f.refine===m.a.REPLACE,v=s(e,f);v&&c(e,f,o,t),(p||_&&!v)&&(l(e,f),u(e,f,t),d(e,f,t),r(f)||f.contentAvailable||(i=!1)),h(e)}return g.stack.trim(g.stackMaximumLength),i},t.a=n},"yN+k":function(e,t,i){"use strict";var n=i("Zoe1"),a=i("EFIo"),r=i("swJc"),o=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,l=Array.prototype.push,u=function(e,t){l.apply(e,c(t)?t:[t])},h=Date.prototype.toISOString,d=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:a.encode,encodeValuesOnly:!1,format:d,formatter:r.formatters[d],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},p=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e},m={},g=function e(t,i,r,o,s,l,h,d,g,_,v,b,y,O,w,x,E,T){for(var A=t,C=T,S=0,j=!1;void 0!==(C=C.get(m))&&!j;){var P=C.get(t);if(S+=1,void 0!==P){if(P===S)throw new RangeError("Cyclic object value");j=!0}void 0===C.get(m)&&(S=0)}if("function"==typeof _?A=_(i,A):A instanceof Date?A=y(A):"comma"===r&&c(A)&&(A=a.maybeMap(A,function(e){return e instanceof Date?y(e):e})),null===A){if(l)return g&&!x?g(i,f.encoder,E,"key",O):i;A=""}if(p(A)||a.isBuffer(A)){if(g){return[w(x?i:g(i,f.encoder,E,"key",O))+"="+w(g(A,f.encoder,E,"value",O))]}return[w(i)+"="+w(String(A))]}var D=[];if(void 0===A)return D;var I;if("comma"===r&&c(A))x&&g&&(A=a.maybeMap(A,g)),I=[{value:A.length>0?A.join(",")||null:void 0}];else if(c(_))I=_;else{var R=Object.keys(A);I=v?R.sort(v):R}var M=d?i.replace(/\./g,"%2E"):i,L=o&&c(A)&&1===A.length?M+"[]":M;if(s&&c(A)&&0===A.length)return L+"[]";for(var N=0;N<I.length;++N){var F=I[N],z="object"==typeof F&&void 0!==F.value?F.value:A[F];if(!h||null!==z){var B=b&&d?F.replace(/\./g,"%2E"):F,k=c(A)?"function"==typeof r?r(L,B):L:L+(b?"."+B:"["+B+"]");T.set(t,S);var U=n();U.set(m,T),u(D,e(z,k,r,o,s,l,h,d,"comma"===r&&x&&c(A)?null:g,_,v,b,y,O,w,x,E,U))}}return D},_=function(e){if(!e)return f;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=r.default;if(void 0!==e.format){if(!o.call(r.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=r.formatters[i],a=f.filter;("function"==typeof e.filter||c(e.filter))&&(a=e.filter);var l;if(l=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=void 0===e.allowDots?!0===e.encodeDotInKeys||f.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:l,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:a,format:i,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}};e.exports=function(e,t){var i,a,r=e,o=_(t);"function"==typeof o.filter?(a=o.filter,r=a("",r)):c(o.filter)&&(a=o.filter,i=a);var l=[];if("object"!=typeof r||null===r)return"";var h=s[o.arrayFormat],d="comma"===h&&o.commaRoundTrip;i||(i=Object.keys(r)),o.sort&&i.sort(o.sort);for(var f=n(),p=0;p<i.length;++p){var m=i[p];o.skipNulls&&null===r[m]||u(l,g(r[m],m,h,d,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,f))}var v=l.join(o.delimiter),b=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),v.length>0?b+v:""}},yOzb:function(e,t,i){"use strict";t.a="attribute vec4 position;\nattribute vec2 textureCoordinates;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main() \n{\n    gl_Position = position;\n    v_textureCoordinates = textureCoordinates;\n}\n"},ybqt:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._positions=void 0,this._positionsSubscription=void 0,this._shape=void 0,this._shapeSubscription=void 0,this._cornerType=void 0,this._cornerTypeSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubsription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("6ktF"),l=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l.a)("show"),positions:Object(l.a)("positions"),shape:Object(l.a)("shape"),cornerType:Object(l.a)("cornerType"),granularity:Object(l.a)("granularity"),fill:Object(l.a)("fill"),material:Object(c.a)("material"),outline:Object(l.a)("outline"),outlineColor:Object(l.a)("outlineColor"),outlineWidth:Object(l.a)("outlineWidth"),shadows:Object(l.a)("shadows"),distanceDisplayCondition:Object(l.a)("distanceDisplayCondition")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.positions=this.positions,e.shape=this.shape,e.cornerType=this.cornerType,e.granularity=this.granularity,e.fill=this.fill,e.material=this.material,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.positions=Object(a.a)(this.positions,e.positions),this.shape=Object(a.a)(this.shape,e.shape),this.cornerType=Object(a.a)(this.cornerType,e.cornerType),this.granularity=Object(a.a)(this.granularity,e.granularity),this.fill=Object(a.a)(this.fill,e.fill),this.material=Object(a.a)(this.material,e.material),this.outline=Object(a.a)(this.outline,e.outline),this.outlineColor=Object(a.a)(this.outlineColor,e.outlineColor),this.outlineWidth=Object(a.a)(this.outlineWidth,e.outlineWidth),this.shadows=Object(a.a)(this.shadows,e.shadows),this.distanceDisplayCondition=Object(a.a)(this.distanceDisplayCondition,e.distanceDisplayCondition)},t.a=n},yhQV:function(e,t,i){"use strict";t.a="/**\n * A built-in GLSL floating-point constant for <code>pi/4</code>.\n *\n * @alias czm_piOverFour\n * @glslConstant\n *\n * @see CesiumMath.PI_OVER_FOUR\n *\n * @example\n * // GLSL declaration\n * const float czm_piOverFour = ...;\n *\n * // Example\n * float pi = 4.0 * czm_piOverFour;\n */\nconst float czm_piOverFour = 0.7853981633974483;\n"},yjNj:function(e,t,i){"use strict";function n(e){this._mostDetailedRayPicks=[],this.pickRenderStateCache={},this._pickPositionCache={},this._pickPositionCacheDirty=!1;var t=new A.a(0,0,1,1),i=new H.a(e);i.frustum=new N.a({width:K,aspectRatio:1,near:.1}),this._pickOffscreenView=new Z.a(e,i,t)}function a(e,t,i,n,a){var r=e.camera,o=r.frustum;Object(R.a)(o._offCenterFrustum)&&(o=o._offCenterFrustum);var s=2*(t.x-a.x)/a.width-1;s*=.5*(o.right-o.left);var c=2*(a.height-t.y-a.y)/a.height-1;c*=.5*(o.top-o.bottom);var l=L.a.clone(r.transform,oe);r._setTransform(L.a.IDENTITY);var u=S.a.clone(r.position,ne);S.a.multiplyByScalar(r.right,s,ae),S.a.add(ae,u,u),S.a.multiplyByScalar(r.up,c,ae),S.a.add(ae,u,u),r._setTransform(l),e.mode===Q.a.SCENE2D&&S.a.fromElements(u.z,u.x,u.y,u);var h=o.getPixelDimensions(a.width,a.height,1,1,re),d=ie;return d.right=.5*h.x,d.left=-d.right,d.top=.5*h.y,d.bottom=-d.top,d.near=o.near,d.far=o.far,d.computeCullingVolume(u,r.directionWC,r.upWC)}function r(e,t,i,n,a){var r=e.camera,o=r.frustum,s=o.near,c=Math.tan(.5*o.fovy),l=o.aspectRatio*c,u=2*(t.x-a.x)/a.width-1,h=2*(a.height-t.y-a.y)/a.height-1,d=u*s*l,f=h*s*c,p=o.getPixelDimensions(a.width,a.height,1,1,ce),m=p.x*i*.5,g=p.y*n*.5,_=se;return _.top=f+g,_.bottom=f-g,_.right=d+m,_.left=d-m,_.near=s,_.far=o.far,_.computeCullingVolume(r.positionWC,r.directionWC,r.upWC)}function o(e,t,i,n,o){var s=e.camera.frustum;return s instanceof N.a||s instanceof F.a?a(e,t,i,n,o):r(e,t,i,n,o)}function s(e,t){var i=e.context,n=e.frameState,a=e.environmentState,r=e.defaultView;e.view=r;var s=r.viewport;s.x=0,s.y=0,s.width=i.drawingBufferWidth,s.height=i.drawingBufferHeight;var c=r.passState;c.viewport=A.a.clone(s,c.viewport),e.clearPasses(n.passes),n.passes.pick=!0,n.passes.depth=!0,n.cullingVolume=o(e,t,1,1,s),n.tilesetPassState=te,e.updateEnvironment(),a.renderTranslucentDepthForPick=!0,c=r.pickDepthFramebuffer.update(i,t,s),e.updateAndExecuteCommands(c,fe),e.resolveFramebuffers(c),i.endFrame()}function c(e,t){var i,n,a=[],r=[],o=[],s=[];Object(R.a)(e)||(e=Number.MAX_VALUE);for(var c=t();Object(R.a)(c);){var l=c.object,u=c.position,h=c.exclude;if(Object(R.a)(u)&&!Object(R.a)(l)){a.push(c);break}if(!Object(R.a)(l)||!Object(R.a)(l.primitive))break;if(!h&&(a.push(c),0>=--e))break;var d=l.primitive,f=!1;"function"==typeof d.getGeometryInstanceAttributes&&Object(R.a)(l.id)&&(n=d.getGeometryInstanceAttributes(l.id),Object(R.a)(n)&&Object(R.a)(n.show)&&(f=!0,n.show=U.a.toValue(!1,n.show),o.push(n))),l instanceof q.a&&(f=!0,l.show=!1,s.push(l)),f||(d.show=!1,r.push(d)),c=t()}for(i=0;i<r.length;++i)r[i].show=!0;for(i=0;i<o.length;++i)n=o[i],n.show=U.a.toValue(!0,n.show);for(i=0;i<s.length;++i)s[i].show=!0;return a}function l(e,t,i){this.ray=e,this.width=t,this.tilesets=i,this.ready=!1,this.deferred=V.a.defer(),this.promise=this.deferred.promise}function u(e,t,i,n){var a=t.direction,r=S.a.mostOrthogonalAxis(a,be),o=S.a.cross(a,r,be),s=S.a.cross(a,o,ye);return n.position=t.origin,n.direction=a,n.up=s,n.right=o,n.frustum.width=Object(I.a)(i,K),n.frustum.computeCullingVolume(n.positionWC,n.directionWC,n.upWC)}function h(e,t,i){var n=t.frameState,a=i.ray,r=i.width,o=i.tilesets,s=e._pickOffscreenView.camera,c=u(e,a,r,s),l=$;l.camera=s,l.cullingVolume=c;for(var h=!0,d=o.length,f=0;f<d;++f){var p=o[f];p.show&&t.primitives.contains(p)&&(p.updateForPass(n,l),h=h&&l.ready)}return h&&i.deferred.resolve(),h}function d(e,t,i){for(var n=e.length,a=0;a<n;++a){var r=e.get(a);r.show&&(Object(R.a)(r.isCesium3DTileset)?Object(R.a)(t)&&-1!==t.indexOf(r)||i.push(r):r instanceof X.a&&d(r,t,i))}}function f(e,t,i,n,a,r){var o=[];if(d(t.primitives,n,o),0===o.length)return V.a.resolve(r());var s=new l(i,a,o);return e._mostDetailedRayPicks.push(s),s.promise.then(function(){return r()})}function p(e,t){return!(!Object(R.a)(e)||!Object(R.a)(t)||0===t.length)&&(t.indexOf(e)>-1||t.indexOf(e.primitive)>-1||t.indexOf(e.id)>-1)}function m(e,t,i,n,a,r,o){var s=t.context,c=s.uniformState,l=t.frameState,h=e._pickOffscreenView;t.view=h,u(e,i,a,h.camera),he=A.a.clone(h.viewport,he);var d=h.pickFramebuffer.begin(he,h.viewport);t.jobScheduler.disableThisFrame(),t.updateFrameState(),l.invertClassification=!1,l.passes.pick=!0,l.passes.offscreen=!0,l.tilesetPassState=o?ee:te,c.update(l),t.updateEnvironment(),t.updateAndExecuteCommands(d,fe),t.resolveFramebuffers(d);var f,m=h.pickFramebuffer.end(s);if(t.context.depthTexture)for(var g=h.frustumCommandsList.length,_=0;_<g;++_){var v=e.getPickDepth(t,_),b=v.getDepth(s,0,0);if(b>0&&b<1){var y=h.frustumCommandsList[_],O=y.near*(0!==_?t.opaqueFrustumNearOffset:1),w=y.far,x=O+b*(w-O);f=k.a.getPoint(i,x);break}}if(t.view=t.defaultView,s.endFrame(),Object(R.a)(m)||Object(R.a)(f))return{object:m,position:f,exclude:!Object(R.a)(f)&&r||p(m,n)}}function g(e,t,i,n,a,r,o,s){return c(n,function(){return m(e,t,i,a,r,o,s)})}function _(e,t,i,n,a,r,o){var s=g(e,t,i,1,n,a,r,o);if(s.length>0)return s[0]}function v(e,t,i,n,a,r,o,s){return g(e,t,i,n,a,r,o,s)}function b(e,t){var i=V.a.defer();return t.then(function(t){var n=e.postRender.addEventListener(function(){i.resolve(t),n()});e.requestRender()}).otherwise(function(e){i.reject(e)}),i.promise}function y(e,t){var i=e.globe,n=Object(R.a)(i)?i.ellipsoid:e.mapProjection.ellipsoid,a=T.a._defaultMaxTerrainHeight,r=n.geodeticSurfaceNormalCartographic(t,we),o=j.a.toCartesian(t,n,Oe),s=xe;s.origin=o,s.direction=r;var c=new k.a;return k.a.getPoint(s,a,c.origin),S.a.negate(r,c.direction),c}function O(e,t){var i=e.globe,n=Object(R.a)(i)?i.ellipsoid:e.mapProjection.ellipsoid;return y(e,j.a.fromCartesian(t,n,Ee))}function w(e,t){var i=e.globe,n=Object(R.a)(i)?i.ellipsoid:e.mapProjection.ellipsoid;return j.a.fromCartesian(t,n,Ee).height}function x(e,t,i,n,a){var r=y(t,i);return f(e,t,r,n,a,function(){var i=_(e,t,r,n,a,!0,!0);if(Object(R.a)(i))return w(t,i.position)})}function E(e,t,i,n,a,r){var o=O(t,i);return f(e,t,o,n,a,function(){var i=_(e,t,o,n,a,!0,!0);if(Object(R.a)(i))return S.a.clone(i.position,r)})}var T=i("DPkk"),A=i("or8k"),C=i("Ss9j"),S=i("Jj+J"),j=i("I3GD"),P=i("5F4X"),D=i("6F0S"),I=i("5A4e"),R=i("xC6Q"),M=i("PzDm"),L=i("Xjii"),N=i("ku5u"),F=i("rpO5"),z=i("MYGk"),B=i("IPrE"),k=i("/++d"),U=i("zSqc"),V=i("S7OP"),H=i("St4O"),q=i("/Wph"),W=i("2Fo0"),G=i("GrLQ"),Y=i("BTyi"),X=i("ebOZ"),Q=i("sotJ"),J=i("D2nr"),Z=i("4xuv"),K=.1,$=new G.a({pass:W.a.MOST_DETAILED_PRELOAD}),ee=new G.a({pass:W.a.MOST_DETAILED_PICK}),te=new G.a({pass:W.a.PICK});n.prototype.update=function(){this._pickPositionCacheDirty=!0},n.prototype.getPickDepth=function(e,t){var i=e.view.pickDepths,n=i[t];return Object(R.a)(n)||(n=new Y.a,i[t]=n),n};var ie=new F.a,ne=new S.a,ae=new S.a,re=new C.a,oe=new L.a,se=new B.a,ce=new C.a,le=3,ue=3,he=new A.a(0,0,le,ue),de=new C.a,fe=new D.a(0,0,0,0);n.prototype.pick=function(e,t,i,n){if(!Object(R.a)(t))throw new M.a("windowPosition is undefined.");le=Object(I.a)(i,3),ue=Object(I.a)(n,le);var a=e.context,r=a.uniformState,s=e.frameState,c=e.defaultView;e.view=c;var l=c.viewport;l.x=0,l.y=0,l.width=a.drawingBufferWidth,l.height=a.drawingBufferHeight;var u=c.passState;u.viewport=A.a.clone(l,u.viewport);var h=J.a.transformWindowToDrawingBuffer(e,t,de);e.jobScheduler.disableThisFrame(),e.updateFrameState(),s.cullingVolume=o(e,h,le,ue,l),s.invertClassification=!1,s.passes.pick=!0,s.tilesetPassState=te,r.update(s),e.updateEnvironment(),he.x=h.x-.5*(le-1),he.y=e.drawingBufferHeight-h.y-.5*(ue-1),he.width=le,he.height=ue,u=c.pickFramebuffer.begin(he,c.viewport),e.updateAndExecuteCommands(u,fe),e.resolveFramebuffers(u);var d=c.pickFramebuffer.end(he);return a.endFrame(),d};var pe=new z.a,me=new B.a,ge=new N.a,_e=new F.a;n.prototype.pickPositionWorldCoordinates=function(e,t,i){if(e.useDepthPicking){if(!Object(R.a)(t))throw new M.a("windowPosition is undefined.");if(!e.context.depthTexture)throw new M.a("Picking from the depth buffer is not supported. Check pickPositionSupported.");var n=t.toString();if(this._pickPositionCacheDirty)this._pickPositionCache={},this._pickPositionCacheDirty=!1;else if(this._pickPositionCache.hasOwnProperty(n))return S.a.clone(this._pickPositionCache[n],i);var a=e.frameState,r=e.context,o=r.uniformState,c=e.defaultView;e.view=c;var l=J.a.transformWindowToDrawingBuffer(e,t,de);e.pickTranslucentDepth?s(e,l):(e.updateFrameState(),o.update(a),e.updateEnvironment()),l.y=e.drawingBufferHeight-l.y;var u,h=e.camera;u=Object(R.a)(h.frustum.fov)?h.frustum.clone(pe):Object(R.a)(h.frustum.infiniteProjectionMatrix)?h.frustum.clone(me):Object(R.a)(h.frustum.width)?h.frustum.clone(ge):h.frustum.clone(_e);for(var d=c.frustumCommandsList,f=d.length,p=0;p<f;++p){var m=this.getPickDepth(e,p),g=m.getDepth(r,l.x,l.y);if(g>0&&g<1){var _,v=d[p];return e.mode===Q.a.SCENE2D?(_=h.position.z,h.position.z=_-v.near+1,u.far=Math.max(1,v.far-v.near),u.near=1,o.update(a),o.updateFrustum(u)):(u.near=v.near*(0!==p?e.opaqueFrustumNearOffset:1),u.far=v.far,o.updateFrustum(u)),i=J.a.drawingBufferToWgs84Coordinates(e,l,g,i),e.mode===Q.a.SCENE2D&&(h.position.z=_,o.update(a)),this._pickPositionCache[n]=S.a.clone(i),i}}this._pickPositionCache[n]=void 0}};var ve=new j.a;n.prototype.pickPosition=function(e,t,i){if(i=this.pickPositionWorldCoordinates(e,t,i),Object(R.a)(i)&&e.mode!==Q.a.SCENE3D){S.a.fromElements(i.y,i.z,i.x,i);var n=e.mapProjection,a=n.ellipsoid,r=n.unproject(i,ve);a.cartographicToCartesian(r,i)}return i},n.prototype.drillPick=function(e,t,i,n,a){var r=this;return c(i,function(){var i=r.pick(e,t,n,a);if(Object(R.a)(i))return{object:i,position:void 0,exclude:!1}}).map(function(e){return e.object})};var be=new S.a,ye=new S.a;n.prototype.updateMostDetailedRayPicks=function(e){for(var t=this._mostDetailedRayPicks,i=0;i<t.length;++i)h(this,e,t[i])&&t.splice(i--,1)},n.prototype.pickFromRay=function(e,t,i,n){if(P.a.defined("ray",t),e.mode!==Q.a.SCENE3D)throw new M.a("Ray intersections are only supported in 3D mode.");return _(this,e,t,i,n,!1,!1)},n.prototype.drillPickFromRay=function(e,t,i,n,a){if(P.a.defined("ray",t),e.mode!==Q.a.SCENE3D)throw new M.a("Ray intersections are only supported in 3D mode.");return v(this,e,t,i,n,a,!1,!1)},n.prototype.pickFromRayMostDetailed=function(e,t,i,n){if(P.a.defined("ray",t),e.mode!==Q.a.SCENE3D)throw new M.a("Ray intersections are only supported in 3D mode.");var a=this;return t=k.a.clone(t),i=Object(R.a)(i)?i.slice():i,b(e,f(a,e,t,i,n,function(){return _(a,e,t,i,n,!1,!0)}))},n.prototype.drillPickFromRayMostDetailed=function(e,t,i,n,a){if(P.a.defined("ray",t),e.mode!==Q.a.SCENE3D)throw new M.a("Ray intersections are only supported in 3D mode.");var r=this;return t=k.a.clone(t),n=Object(R.a)(n)?n.slice():n,b(e,f(r,e,t,n,a,function(){return v(r,e,t,i,n,a,!1,!0)}))};var Oe=new S.a,we=new S.a,xe=new k.a,Ee=new j.a;n.prototype.sampleHeight=function(e,t,i,n){if(P.a.defined("position",t),e.mode!==Q.a.SCENE3D)throw new M.a("sampleHeight is only supported in 3D mode.");if(!e.sampleHeightSupported)throw new M.a("sampleHeight requires depth texture support. Check sampleHeightSupported.");var a=y(e,t),r=_(this,e,a,i,n,!0,!1);if(Object(R.a)(r))return w(e,r.position)},n.prototype.clampToHeight=function(e,t,i,n,a){if(P.a.defined("cartesian",t),e.mode!==Q.a.SCENE3D)throw new M.a("clampToHeight is only supported in 3D mode.");if(!e.clampToHeightSupported)throw new M.a("clampToHeight requires depth texture support. Check clampToHeightSupported.");var r=O(e,t),o=_(this,e,r,i,n,!0,!1);if(Object(R.a)(o))return S.a.clone(o.position,a)},n.prototype.sampleHeightMostDetailed=function(e,t,i,n){if(P.a.defined("positions",t),e.mode!==Q.a.SCENE3D)throw new M.a("sampleHeightMostDetailed is only supported in 3D mode.");if(!e.sampleHeightSupported)throw new M.a("sampleHeightMostDetailed requires depth texture support. Check sampleHeightSupported.");i=Object(R.a)(i)?i.slice():i;for(var a=t.length,r=new Array(a),o=0;o<a;++o)r[o]=x(this,e,t[o],i,n);return b(e,V.a.all(r).then(function(e){for(var i=e.length,n=0;n<i;++n)t[n].height=e[n];return t}))},n.prototype.clampToHeightMostDetailed=function(e,t,i,n){if(P.a.defined("cartesians",t),e.mode!==Q.a.SCENE3D)throw new M.a("clampToHeightMostDetailed is only supported in 3D mode.");if(!e.clampToHeightSupported)throw new M.a("clampToHeightMostDetailed requires depth texture support. Check clampToHeightSupported.");i=Object(R.a)(i)?i.slice():i;for(var a=t.length,r=new Array(a),o=0;o<a;++o)r[o]=E(this,e,t[o],i,n,t[o]);return b(e,V.a.all(r).then(function(e){for(var i=e.length,n=0;n<i;++n)t[n]=e[n];return t}))},n.prototype.destroy=function(){this._pickOffscreenView=this._pickOffscreenView&&this._pickOffscreenView.destroy()},t.a=n},ymZb:function(e,t,i){"use strict";t.a="uniform sampler2D colorTexture;\n\nvarying vec2 v_textureCoordinates;\n\n#ifdef AUTO_EXPOSURE\nuniform sampler2D autoExposure;\n#endif\n\n// See equation 3:\n//    http://www.cs.utah.edu/~reinhard/cdrom/tonemap.pdf\n\nvoid main()\n{\n    vec4 fragmentColor = texture2D(colorTexture, v_textureCoordinates);\n    vec3 color = fragmentColor.rgb;\n#ifdef AUTO_EXPOSURE\n    float exposure = texture2D(autoExposure, vec2(0.5)).r;\n    color /= exposure;\n#endif\n    color = color / (1.0 + color);\n    color = czm_inverseGamma(color);\n    gl_FragColor = vec4(color, fragmentColor.a);\n}\n"},ypnx:function(e,t,i){"use strict";(function(t){function i(e,i,n,a){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var r,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,i)});case 3:return t.nextTick(function(){e.call(null,i,n)});case 4:return t.nextTick(function(){e.call(null,i,n,a)});default:for(r=new Array(s-1),o=0;o<r.length;)r[o++]=arguments[o];return t.nextTick(function(){e.apply(null,r)})}}void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:i}:e.exports=t}).call(t,i("W2nU"))},ysmW:function(e,t,i){"use strict";var n={HORIZONTAL:0,VERTICAL:1};t.a=Object.freeze(n)},yuee:function(e,t,i){"use strict";function n(e){var t=Object(o.a)(e.radius,1),i=new a.a(t,t,t),n={radii:i,stackPartitions:e.stackPartitions,slicePartitions:e.slicePartitions,vertexFormat:e.vertexFormat};this._ellipsoidGeometry=new c.a(n),this._workerName="createSphereGeometry"}var a=i("Jj+J"),r=i("5F4X"),o=i("5A4e"),s=i("xC6Q"),c=i("KjOc"),l=i("xvTE");n.packedLength=c.a.packedLength,n.pack=function(e,t,i){return r.a.typeOf.object("value",e),c.a.pack(e._ellipsoidGeometry,t,i)};var u=new c.a,h={radius:void 0,radii:new a.a,vertexFormat:new l.a,stackPartitions:void 0,slicePartitions:void 0};n.unpack=function(e,t,i){var r=c.a.unpack(e,t,u);return h.vertexFormat=l.a.clone(r._vertexFormat,h.vertexFormat),h.stackPartitions=r._stackPartitions,h.slicePartitions=r._slicePartitions,Object(s.a)(i)?(a.a.clone(r._radii,h.radii),i._ellipsoidGeometry=new c.a(h),i):(h.radius=r._radii.x,new n(h))},n.createGeometry=function(e){return c.a.createGeometry(e._ellipsoidGeometry)}},z2iY:function(e,t,i){"use strict";var n=i("1L1F"),a={NEAREST:n.a.NEAREST,LINEAR:n.a.LINEAR,NEAREST_MIPMAP_NEAREST:n.a.NEAREST_MIPMAP_NEAREST,LINEAR_MIPMAP_NEAREST:n.a.LINEAR_MIPMAP_NEAREST,NEAREST_MIPMAP_LINEAR:n.a.NEAREST_MIPMAP_LINEAR,LINEAR_MIPMAP_LINEAR:n.a.LINEAR_MIPMAP_LINEAR,validate:function(e){return e===a.NEAREST||e===a.LINEAR||e===a.NEAREST_MIPMAP_NEAREST||e===a.LINEAR_MIPMAP_NEAREST||e===a.NEAREST_MIPMAP_LINEAR||e===a.LINEAR_MIPMAP_LINEAR}};t.a=Object.freeze(a)},z43S:function(e,t,i){"use strict";function n(){this._array=[],this._offset=0,this._length=0}Object.defineProperties(n.prototype,{length:{get:function(){return this._length}}}),n.prototype.enqueue=function(e){this._array.push(e),this._length++},n.prototype.dequeue=function(){if(0!==this._length){var e=this._array,t=this._offset,i=e[t];return e[t]=void 0,t++,t>10&&2*t>e.length&&(this._array=e.slice(t),t=0),this._offset=t,this._length--,i}},n.prototype.peek=function(){if(0!==this._length)return this._array[this._offset]},n.prototype.contains=function(e){return-1!==this._array.indexOf(e)},n.prototype.clear=function(){this._array.length=this._offset=this._length=0},n.prototype.sort=function(e){this._offset>0&&(this._array=this._array.slice(this._offset),this._offset=0),this._array.sort(e)},t.a=n},zFgJ:function(e,t,i){"use strict";function n(e){this._definitionChanged=new s.a,this._show=void 0,this._showSubscription=void 0,this._plane=void 0,this._planeSubscription=void 0,this._dimensions=void 0,this._dimensionsSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this.merge(Object(a.a)(e,a.a.EMPTY_OBJECT))}var a=i("5A4e"),r=i("xC6Q"),o=i("PzDm"),s=i("W6xh"),c=i("6ktF"),l=i("7687");Object.defineProperties(n.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:Object(l.a)("show"),plane:Object(l.a)("plane"),dimensions:Object(l.a)("dimensions"),fill:Object(l.a)("fill"),material:Object(c.a)("material"),outline:Object(l.a)("outline"),outlineColor:Object(l.a)("outlineColor"),outlineWidth:Object(l.a)("outlineWidth"),shadows:Object(l.a)("shadows"),distanceDisplayCondition:Object(l.a)("distanceDisplayCondition")}),n.prototype.clone=function(e){return Object(r.a)(e)?(e.show=this.show,e.plane=this.plane,e.dimensions=this.dimensions,e.fill=this.fill,e.material=this.material,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new n(this)},n.prototype.merge=function(e){if(!Object(r.a)(e))throw new o.a("source is required.");this.show=Object(a.a)(this.show,e.show),this.plane=Object(a.a)(this.plane,e.plane),this.dimensions=Object(a.a)(this.dimensions,e.dimensions),this.fill=Object(a.a)(this.fill,e.fill),this.material=Object(a.a)(this.material,e.material),this.outline=Object(a.a)(this.outline,e.outline),this.outlineColor=Object(a.a)(this.outlineColor,e.outlineColor),this.outlineWidth=Object(a.a)(this.outlineWidth,e.outlineWidth),this.shadows=Object(a.a)(this.shadows,e.shadows),this.distanceDisplayCondition=Object(a.a)(this.distanceDisplayCondition,e.distanceDisplayCondition)},t.a=n},zGMv:function(e,t,i){"use strict";function n(e){e=Object(v.a)(e,v.a.EMPTY_OBJECT);var t=e.appearance,i=e.geometryInstances;if(!Object(b.a)(t)&&Object(b.a)(i))for(var n=Array.isArray(i)?i:[i],a=n.length,r=0;r<a;r++){var o=n[r].attributes;if(Object(b.a)(o)&&Object(b.a)(o.color)){t=new S.a({flat:!0});break}}this.appearance=t,this.geometryInstances=e.geometryInstances,this.show=Object(v.a)(e.show,!0),this.classificationType=Object(v.a)(e.classificationType,C.a.BOTH),this.debugShowBoundingVolume=Object(v.a)(e.debugShowBoundingVolume,!1),this.debugShowShadowVolume=Object(v.a)(e.debugShowShadowVolume,!1),this._boundingVolumes=[],this._boundingVolumes2D=[],this._ready=!1,this._readyPromise=T.a.defer(),this._primitive=void 0,this._maxHeight=void 0,this._minHeight=void 0,this._maxTerrainHeight=f.a._defaultMaxTerrainHeight,this._minTerrainHeight=f.a._defaultMinTerrainHeight,this._boundingSpheresKeys=[],this._boundingSpheres=[],this._useFragmentCulling=!1,this._zIndex=void 0;var s=this;this._classificationPrimitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:Object(v.a)(e.vertexCacheOptimize,!1),interleave:Object(v.a)(e.interleave,!1),releaseGeometryInstances:Object(v.a)(e.releaseGeometryInstances,!0),allowPicking:Object(v.a)(e.allowPicking,!0),asynchronous:Object(v.a)(e.asynchronous,!0),compressVertices:Object(v.a)(e.compressVertices,!0),_createBoundingVolumeFunction:void 0,_updateAndQueueCommandsFunction:void 0,_pickPrimitive:s,_extruded:!0,_uniformMap:D}}function a(e){return function(t,i){var n=i.maximumRadius,a=n/Math.cos(.5*t)-n;return e._maxHeight+a}}function r(e){return function(t,i){return e._minHeight}}function o(e,t){var i=e.mapProjection.ellipsoid;{if(Object(b.a)(t.attributes)&&Object(b.a)(t.attributes.position3DHigh)){for(var n=t.attributes.position3DHigh.values,a=t.attributes.position3DLow.values,r=n.length,o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY,u=0;u<r;u+=3){var h=m.a.unpack(n,u,I),d=m.a.unpack(a,u,R),f=m.a.add(h,d,M),p=i.cartesianToCartographic(f,L),g=p.latitude,_=p.longitude;o=Math.min(o,g),s=Math.min(s,_),c=Math.max(c,g),l=Math.max(l,_)}var v=N;return v.north=c,v.south=o,v.east=l,v.west=s,v}if(Object(b.a)(t.rectangle))return t.rectangle}}function s(e,t,i){var n=f.a.getMinimumMaximumHeights(t,i);e._minTerrainHeight=n.minimumTerrainHeight,e._maxTerrainHeight=n.maximumTerrainHeight}function c(e,t,i){var n=t.mapProjection.ellipsoid,a=o(t,i),r=x.a.fromRectangle(a,e._minHeight,e._maxHeight,n);if(e._boundingVolumes.push(r),!t.scene3DOnly){var s=t.mapProjection,c=p.a.fromRectangleWithHeights2D(a,s,e._maxHeight,e._minHeight);m.a.fromElements(c.center.z,c.center.x,c.center.y,c.center),e._boundingVolumes2D.push(c)}}function l(e,t){return Math.floor(e%t/3)}function u(e,t,i,n,a,r,o){var s=e._primitive;i.mode!==j.a.SCENE3D&&t.shaderProgram===s._spColor&&s._needs2DShader&&(t=t.derivedCommands.appearance2D),t.owner=e,t.modelMatrix=n,t.boundingVolume=r,t.cull=a,t.debugShowBoundingVolume=o,i.commandList.push(t)}function h(e,t,i,n,a,r){var o=e._primitive;i.mode!==j.a.SCENE3D&&t.shaderProgram===o._spPick&&o._needs2DShader&&(t=t.derivedCommands.pick2D),t.owner=e,t.modelMatrix=n,t.boundingVolume=r,t.cull=a,i.commandList.push(t)}function d(e,t,i,n,a,r,o,s){var c;c=t.mode===j.a.SCENE3D?e._boundingVolumes:e._boundingVolumes2D;var d,f,p,m=e.classificationType,g=m!==C.a.CESIUM_3D_TILE,_=m!==C.a.TERRAIN,v=t.passes,b=e._primitive;if(v.render){var y=i.length;for(d=0;d<y;++d)f=c[l(d,y)],g&&(p=i[d],u(e,p,t,a,r,f,o)),_&&(p=i[d].derivedCommands.tileset,u(e,p,t,a,r,f,o));if(t.invertClassification){var O=b._commandsIgnoreShow,w=O.length;for(d=0;d<w;++d)f=c[Math.floor(d/2)],p=O[d],u(e,p,t,a,r,f,o)}}if(v.pick){var x,E=n.length;for(e._useFragmentCulling||(x=b._primitive._pickOffsets),d=0;d<E;++d){if(f=c[l(d,E)],!e._useFragmentCulling){f=c[x[l(d,E)].index]}g&&(p=n[d],h(e,p,t,a,r,f)),_&&(p=n[d].derivedCommands.tileset,h(e,p,t,a,r,f))}}}var f=i("DPkk"),p=i("lBr9"),m=i("Jj+J"),g=i("I3GD"),_=i("5F4X"),v=i("5A4e"),b=i("xC6Q"),y=i("6sr8"),O=i("PzDm"),w=i("izcu"),x=i("qBw0"),E=i("Wq1U"),T=i("S7OP"),A=i("fBqs"),C=i("M1dj"),S=i("BOJj"),j=i("sotJ"),P=i("W66u"),D={u_globeMinimumAltitude:function(){return 55e3}};Object.defineProperties(n.prototype,{vertexCacheOptimize:{get:function(){return this._classificationPrimitiveOptions.vertexCacheOptimize}},interleave:{get:function(){return this._classificationPrimitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._classificationPrimitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._classificationPrimitiveOptions.allowPicking}},asynchronous:{get:function(){return this._classificationPrimitiveOptions.asynchronous}},compressVertices:{get:function(){return this._classificationPrimitiveOptions.compressVertices}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}}}),n.isSupported=A.a.isSupported;var I=new m.a,R=new m.a,M=new m.a,L=new g.a,N=new E.a;n.initializeTerrainHeights=function(){return f.a.initialize()},n.prototype.update=function(e){if(Object(b.a)(this._primitive)||Object(b.a)(this.geometryInstances)){if(!f.a.initialized){if(!this.asynchronous)throw new O.a("For synchronous GroundPrimitives, you must call GroundPrimitive.initializeTerrainHeights() and wait for the returned promise to resolve.");return void n.initializeTerrainHeights()}var t=this,i=this._classificationPrimitiveOptions;if(!Object(b.a)(this._primitive)){var l,u,h,p,m,g=e.mapProjection.ellipsoid,_=Array.isArray(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],v=_.length,y=new Array(v);for(p=0;p<v;++p){l=_[p],u=l.geometry;var x=o(e,u);Object(b.a)(m)?Object(b.a)(x)&&E.a.union(m,x,m):m=E.a.clone(x);var T=l.id;if(Object(b.a)(T)&&Object(b.a)(x)){var C=f.a.getBoundingSphere(x,g);this._boundingSpheresKeys.push(T),this._boundingSpheres.push(C)}if(h=u.constructor,!Object(b.a)(h)||!Object(b.a)(h.createShadowVolume))throw new O.a("Not all of the geometry instances have GroundPrimitive support.")}s(this,m,g);var S=e.terrainExaggeration;this._minHeight=this._minTerrainHeight*S,this._maxHeight=this._maxTerrainHeight*S;var j=n._supportsMaterials(e.context);if(this._useFragmentCulling=j,j){var D,I=!0;for(p=0;p<v;++p)if(l=_[p],u=l.geometry,m=o(e,u),P.a.shouldUseSphericalCoordinates(m)){I=!1;break}for(p=0;p<v;++p){l=_[p],u=l.geometry,h=u.constructor;var R=o(e,u),M=u.textureCoordinateRotationPoints,L=e.context.floatTextureSixPlaces;D=I?P.a.getPlanarTextureCoordinateAttributes(R,M,g,e.mapProjection,L,this._maxHeight):P.a.getSphericalExtentGeometryInstanceAttributes(R,M,g,e.mapProjection,L);var N=l.attributes;for(var F in N)N.hasOwnProperty(F)&&(D[F]=N[F]);y[p]=new w.a({geometry:h.createShadowVolume(u,r(this),a(this)),attributes:D,id:l.id})}}else for(p=0;p<v;++p)l=_[p],u=l.geometry,h=u.constructor,y[p]=new w.a({geometry:h.createShadowVolume(u,r(this),a(this)),attributes:l.attributes,id:l.id});i.geometryInstances=y,i.appearance=this.appearance,i._createBoundingVolumeFunction=function(e,i){c(t,e,i)},i._updateAndQueueCommandsFunction=function(e,i,n,a,r,o,s,c){d(t,i,n,a,r,o,s,c)},this._primitive=new A.a(i),this._primitive.readyPromise.then(function(e){t._ready=!0,t.releaseGeometryInstances&&(t.geometryInstances=void 0);var i=e._error;Object(b.a)(i)?t._readyPromise.reject(i):t._readyPromise.resolve(t)})}this._primitive.appearance=this.appearance,this._primitive.show=this.show,this._primitive.debugShowShadowVolume=this.debugShowShadowVolume,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(e)}},n.prototype.getBoundingSphere=function(e){var t=this._boundingSpheresKeys.indexOf(e);if(-1!==t)return this._boundingSpheres[t]},n.prototype.getGeometryInstanceAttributes=function(e){if(!Object(b.a)(this._primitive))throw new O.a("must call update before calling getGeometryInstanceAttributes");return this._primitive.getGeometryInstanceAttributes(e)},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),Object(y.a)(this)},n._supportsMaterials=function(e){return e.depthTexture},n.supportsMaterials=function(e){return _.a.typeOf.object("scene",e),n._supportsMaterials(e.frameState.context)},t.a=n},zMSt:function(e,t,i){"use strict";t.a="uniform sampler2D u_texture;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main()\n{\n    gl_FragColor = texture2D(u_texture, v_textureCoordinates);\n}\n"},zMyv:function(e,t,i){"use strict";var n={NEAREST:0,LINEAR:1};t.a=n},zONr:function(e,t,i){"use strict";var n={AERIAL:"Aerial",AERIAL_WITH_LABELS:"AerialWithLabels",AERIAL_WITH_LABELS_ON_DEMAND:"AerialWithLabelsOnDemand",ROAD:"Road",ROAD_ON_DEMAND:"RoadOnDemand",CANVAS_DARK:"CanvasDark",CANVAS_LIGHT:"CanvasLight",CANVAS_GRAY:"CanvasGray",ORDNANCE_SURVEY:"OrdnanceSurvey",COLLINS_BART:"CollinsBart"};t.a=Object.freeze(n)},zPNK:function(e,t,i){"use strict";function n(e){e=Object(c.a)(e,c.a.EMPTY_OBJECT),this._xysFileUrlTemplate=d.a.createIfNeeded(e.xysFileUrlTemplate),this._interpolationOrder=Object(c.a)(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=Object(c.a)(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new h.a(this._sampleZeroJulianEphemerisDate,0,f.a.TAI),this._stepSizeDays=Object(c.a)(e.stepSizeDays,1),this._samplesPerXysFile=Object(c.a)(e.samplesPerXysFile,1e3),this._totalSamples=Object(c.a)(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];for(var t=this._interpolationOrder,i=this._denominators=new Array(t+1),n=this._xTable=new Array(t+1),a=Math.pow(this._stepSizeDays,t),r=0;r<=t;++r){i[r]=a,n[r]=r*this._stepSizeDays;for(var o=0;o<=t;++o)o!==r&&(i[r]*=r-o);i[r]=1/i[r]}this._work=new Array(t+1),this._coef=new Array(t+1)}function a(e,t,i){var n=p;return n.dayNumber=t,n.secondsOfDay=i,h.a.daysDifference(n,e._sampleZeroDateTT)}function r(e,t){if(e._chunkDownloadsInProgress[t])return e._chunkDownloadsInProgress[t];var i=o.a.defer();e._chunkDownloadsInProgress[t]=i;var n,a=e._xysFileUrlTemplate;return n=Object(l.a)(a)?a.getDerivedResource({templateValues:{0:t}}):new d.a({url:Object(s.a)("Assets/IAU2006_XYS/IAU2006_XYS_"+t+".json")}),Object(o.a)(n.fetchJson(),function(n){e._chunkDownloadsInProgress[t]=!1;for(var a=e._samples,r=n.samples,o=t*e._samplesPerXysFile*3,s=0,c=r.length;s<c;++s)a[o+s]=r[s];i.resolve()}),i.promise}var o=i("S7OP"),s=i("CcV0"),c=i("5A4e"),l=i("xC6Q"),u=i("7mcq"),h=i("9Uqs"),d=i("rMjQ"),f=i("Bosk"),p=new h.a(0,0,f.a.TAI);n.prototype.preload=function(e,t,i,n){var s=a(this,e,t),c=a(this,i,n),l=s/this._stepSizeDays-this._interpolationOrder/2|0;l<0&&(l=0);var u=c/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;u>=this._totalSamples&&(u=this._totalSamples-1);for(var h=l/this._samplesPerXysFile|0,d=u/this._samplesPerXysFile|0,f=[],p=h;p<=d;++p)f.push(r(this,p));return o.a.all(f)},n.prototype.computeXysRadians=function(e,t,i){var n=a(this,e,t);if(!(n<0)){var o=n/this._stepSizeDays|0;if(!(o>=this._totalSamples)){var s=this._interpolationOrder,c=o-(s/2|0);c<0&&(c=0);var h=c+s;h>=this._totalSamples&&(h=this._totalSamples-1,(c=h-s)<0&&(c=0));var d=!1,f=this._samples;if(Object(l.a)(f[3*c])||(r(this,c/this._samplesPerXysFile|0),d=!0),Object(l.a)(f[3*h])||(r(this,h/this._samplesPerXysFile|0),d=!0),!d){Object(l.a)(i)?(i.x=0,i.y=0,i.s=0):i=new u.a(0,0,0);var p,m,g=n-c*this._stepSizeDays,_=this._work,v=this._denominators,b=this._coef,y=this._xTable;for(p=0;p<=s;++p)_[p]=g-y[p];for(p=0;p<=s;++p){for(b[p]=1,m=0;m<=s;++m)m!==p&&(b[p]*=_[m]);b[p]*=v[p];var O=3*(c+p);i.x+=b[p]*f[O++],i.y+=b[p]*f[O++],i.s+=b[p]*f[O]}return i}}}},t.a=n},zSqc:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,!0),this.value=n.toValue(e)}var a=i("YCZg"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm");Object.defineProperties(n.prototype,{componentDatatype:{get:function(){return a.a.UNSIGNED_BYTE}},componentsPerAttribute:{get:function(){return 1}},normalize:{get:function(){return!1}}}),n.toValue=function(e,t){if(!Object(o.a)(e))throw new s.a("show is required.");return Object(o.a)(t)?(t[0]=e,t):new Uint8Array([e])},t.a=n},zarC:function(e,t,i){"use strict";function n(e){this._context=e,this._shaders={},this._numberOfShaders=0,this._shadersToRelease={}}function a(e,t){for(var i=t.derivedKeywords,n=i.length,r=0;r<n;++r){var o=i[r]+t.keyword;a(e,e._shaders[o])}delete e._shaders[t.keyword],t.shaderProgram.finalDestroy()}var r=i("xC6Q"),o=i("6sr8"),s=i("WUlw"),c=i("x6Ms");Object.defineProperties(n.prototype,{numberOfShaders:{get:function(){return this._numberOfShaders}}}),n.prototype.replaceShaderProgram=function(e){return Object(r.a)(e.shaderProgram)&&e.shaderProgram.destroy(),this.getShaderProgram(e)},n.prototype.getShaderProgram=function(e){var t=e.vertexShaderSource,i=e.fragmentShaderSource,n=e.attributeLocations;"string"==typeof t&&(t=new c.a({sources:[t]})),"string"==typeof i&&(i=new c.a({sources:[i]}));var a,o=t.createCombinedVertexShader(this._context),l=i.createCombinedFragmentShader(this._context),u=o+l+JSON.stringify(n);if(Object(r.a)(this._shaders[u]))a=this._shaders[u],delete this._shadersToRelease[u];else{var h=this._context,d=new s.a({gl:h._gl,logShaderCompilation:h.logShaderCompilation,debugShaders:h.debugShaders,vertexShaderSource:t,vertexShaderText:o,fragmentShaderSource:i,fragmentShaderText:l,attributeLocations:n});a={cache:this,shaderProgram:d,keyword:u,derivedKeywords:[],count:0},d._cachedShader=a,this._shaders[u]=a,++this._numberOfShaders}return++a.count,a.shaderProgram},n.prototype.replaceDerivedShaderProgram=function(e,t,i){var n=e._cachedShader,o=t+n.keyword,s=this._shaders[o];if(Object(r.a)(s)){a(this,s);var c=n.derivedKeywords.indexOf(t);c>-1&&n.derivedKeywords.splice(c,1)}return this.createDerivedShaderProgram(e,t,i)},n.prototype.getDerivedShaderProgram=function(e,t){var i=e._cachedShader,n=t+i.keyword,a=this._shaders[n];if(Object(r.a)(a))return a.shaderProgram},n.prototype.createDerivedShaderProgram=function(e,t,i){var n=e._cachedShader,a=t+n.keyword,r=i.vertexShaderSource,o=i.fragmentShaderSource,l=i.attributeLocations;"string"==typeof r&&(r=new c.a({sources:[r]})),"string"==typeof o&&(o=new c.a({sources:[o]}));var u=this._context,h=r.createCombinedVertexShader(u),d=o.createCombinedFragmentShader(u),f=new s.a({gl:u._gl,logShaderCompilation:u.logShaderCompilation,debugShaders:u.debugShaders,vertexShaderSource:r,vertexShaderText:h,fragmentShaderSource:o,fragmentShaderText:d,attributeLocations:l}),p={cache:this,shaderProgram:f,keyword:a,derivedKeywords:[],count:0};return n.derivedKeywords.push(t),f._cachedShader=p,this._shaders[a]=p,f},n.prototype.destroyReleasedShaderPrograms=function(){var e=this._shadersToRelease;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];a(this,i),--this._numberOfShaders}this._shadersToRelease={}},n.prototype.releaseShaderProgram=function(e){if(Object(r.a)(e)){var t=e._cachedShader;t&&0==--t.count&&(this._shadersToRelease[t.keyword]=t)}},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){var e=this._shaders;for(var t in e)e.hasOwnProperty(t)&&e[t].shaderProgram.finalDestroy();return Object(o.a)(this)},t.a=n},zf0W:function(e,t,i){"use strict";function n(e){e=Object(r.a)(e,r.a.EMPTY_OBJECT);var t=e.weights,i=e.times;if(a.a.defined("weights",t),a.a.defined("times",i),a.a.typeOf.number.greaterThanOrEquals("weights.length",t.length,3),t.length%i.length!=0)throw new s.a("times.length must be a factor of weights.length.");this._times=i,this._weights=t,this._count=t.length/i.length,this._lastTimeIndex=0}var a=i("5F4X"),r=i("5A4e"),o=i("xC6Q"),s=i("PzDm"),c=i("Jn+X");Object.defineProperties(n.prototype,{times:{get:function(){return this._times}},weights:{get:function(){return this._weights}}}),n.prototype.findTimeInterval=c.a.prototype.findTimeInterval,n.prototype.wrapTime=c.a.prototype.wrapTime,n.prototype.clampTime=c.a.prototype.clampTime,n.prototype.evaluate=function(e,t){var i=this.weights,n=this.times,a=this._lastTimeIndex=this.findTimeInterval(e,this._lastTimeIndex),r=(e-n[a])/(n[a+1]-n[a]);Object(o.a)(t)||(t=new Array(this._count));for(var s=0;s<this._count;s++){var c=a*this._count+s;t[s]=i[c]*(1-r)+i[c+this._count]*r}return t},t.a=n},zgiT:function(e,t,i){"use strict";t.a="varying vec4 positionEC;\n\nvoid main()\n{\n    vec3 direction = normalize(positionEC.xyz);\n    czm_ray ray = czm_ray(vec3(0.0), direction);\n\n    vec3 ellipsoid_center = czm_view[3].xyz;\n\n    czm_raySegment intersection = czm_rayEllipsoidIntersectionInterval(ray, ellipsoid_center, czm_ellipsoidInverseRadii);\n    if (!czm_isEmpty(intersection))\n    {\n        gl_FragColor = vec4(1.0, 1.0, 0.0, 1.0);\n    }\n    else\n    {\n        discard;\n    }\n\n    czm_writeLogDepth();\n}\n"},zhoD:function(e,t,i){"use strict";function n(e){if(!Object(_.a)(e)||!Object(_.a)(e.scene))throw new v.a("options.scene is required.");Object(_.a)(e.geocoderServices)?this._geocoderServices=e.geocoderServices:this._geocoderServices=[new m.a,new O.a({scene:e.scene})],this._viewContainer=e.container,this._scene=e.scene,this._flightDuration=e.flightDuration,this._searchText="",this._isSearchInProgress=!1,this._geocodePromise=void 0,this._complete=new b.a,this._suggestions=[],this._selectedSuggestion=void 0,this._showSuggestions=!0,this._handleArrowDown=r,this._handleArrowUp=a;var t=this;this._suggestionsVisible=C.a.pureComputed(function(){var e=C.a.getObservable(t,"_suggestions"),i=e().length>0,n=C.a.getObservable(t,"_showSuggestions")();return i&&n}),this._searchCommand=Object(j.a)(function(e){if(e=Object(g.a)(e,y.a.SEARCH),t._focusTextbox=!1,Object(_.a)(t._selectedSuggestion))return t.activateSuggestion(t._selectedSuggestion),!1;t.hideSuggestions(),t.isSearchInProgress?h(t):l(t,t._geocoderServices,e)}),this.deselectSuggestion=function(){t._selectedSuggestion=void 0},this.handleKeyDown=function(e,t){var i="ArrowDown"===t.key||"Down"===t.key||40===t.keyCode,n="ArrowUp"===t.key||"Up"===t.key||38===t.keyCode;return(i||n)&&t.preventDefault(),!0},this.handleKeyUp=function(e,i){var n="ArrowDown"===i.key||"Down"===i.key||40===i.keyCode,o="ArrowUp"===i.key||"Up"===i.key||38===i.keyCode,s="Enter"===i.key||13===i.keyCode;return o?a(t):n?r(t):s&&t._searchCommand(),!0},this.activateSuggestion=function(e){t.hideSuggestions(),t._searchText=e.displayName;var i=e.destination;f(t),t.destinationFound(t,i)},this.hideSuggestions=function(){t._showSuggestions=!1,t._selectedSuggestion=void 0},this.showSuggestions=function(){t._showSuggestions=!0},this.handleMouseover=function(e,i){e!==t._selectedSuggestion&&(t._selectedSuggestion=e)},this.keepExpanded=!1,this.autoComplete=Object(g.a)(e.autocomplete,!0),this.destinationFound=Object(g.a)(e.destinationFound,n.flyToDestination),this._focusTextbox=!1,C.a.track(this,["_searchText","_isSearchInProgress","keepExpanded","_suggestions","_selectedSuggestion","_showSuggestions","_focusTextbox"]);var i=C.a.getObservable(this,"_searchText");i.extend({rateLimit:{timeout:500}}),this._suggestionSubscription=i.subscribe(function(){n._updateSearchSuggestions(t)}),this.isSearchInProgress=void 0,C.a.defineProperty(this,"isSearchInProgress",{get:function(){return this._isSearchInProgress}}),this.searchText=void 0,C.a.defineProperty(this,"searchText",{get:function(){return this.isSearchInProgress?"Searching...":this._searchText},set:function(e){if("string"!=typeof e)throw new v.a("value must be a valid string.");this._searchText=e}}),this.flightDuration=void 0,C.a.defineProperty(this,"flightDuration",{get:function(){return this._flightDuration},set:function(e){if(Object(_.a)(e)&&e<0)throw new v.a("value must be positive.");this._flightDuration=e}})}function a(e){if(0!==e._suggestions.length){var t,i=e._suggestions.indexOf(e._selectedSuggestion);if(-1===i||0===i)return void(e._selectedSuggestion=void 0);t=i-1,e._selectedSuggestion=e._suggestions[t],n._adjustSuggestionsScroll(e,t)}}function r(e){if(0!==e._suggestions.length){var t=e._suggestions.length,i=e._suggestions.indexOf(e._selectedSuggestion),a=(i+1)%t;e._selectedSuggestion=e._suggestions[a],n._adjustSuggestionsScroll(e,a)}}function o(e,t){var i=Object(_.a)(t)?t.availability:void 0;return Object(_.a)(i)?Object(T.a)(t,[e]).then(function(t){return e=t[0],e.height+=D,e}):(e.height+=D,S.a.resolve(e))}function s(e,t){var i,n=e._scene,a=n.mapProjection,r=a.ellipsoid,s=n.camera,c=n.terrainProvider,l=t;t instanceof E.a?w.a.equalsEpsilon(t.south,t.north,w.a.EPSILON7)&&w.a.equalsEpsilon(t.east,t.west,w.a.EPSILON7)?t=E.a.center(t):i=Object(A.a)(t,n):t=r.cartesianToCartographic(t),Object(_.a)(i)||(i=o(t,c)),i.then(function(e){l=r.cartographicToCartesian(e)}).always(function(){s.flyTo({destination:l,complete:function(){e._complete.raiseEvent()},duration:e._flightDuration,endTransform:x.a.IDENTITY})})}function c(e,t,i,n){return e.then(function(e){return Object(_.a)(e)&&"fulfilled"===e.state&&e.value.length>0?e:t.geocode(i,n).then(function(e){return{state:"fulfilled",value:e}}).otherwise(function(e){return{state:"rejected",reason:e}})})}function l(e,t,i){var n=e._searchText;if(d(n))return void e.showSuggestions();e._isSearchInProgress=!0;for(var a=S.a.resolve(),r=0;r<t.length;r++)a=c(a,t[r],n,i);e._geocodePromise=a,a.then(function(t){if(!a.cancel){e._isSearchInProgress=!1;var i=t.value;if("fulfilled"===t.state&&Object(_.a)(i)&&i.length>0)return e._searchText=i[0].displayName,void e.destinationFound(e,i[0].destination);e._searchText=n+" (not found)"}})}function u(e,t){var i=Object(P.a)(e._viewContainer),n=i.getElementsByClassName("search-results")[0],a=i.getElementsByTagName("li"),r=a[t];if(0===t)return void(n.scrollTop=0);var o=r.offsetTop;o+r.clientHeight>n.clientHeight?n.scrollTop=o+r.clientHeight:o<n.scrollTop&&(n.scrollTop=o)}function h(e){e._isSearchInProgress=!1,Object(_.a)(e._geocodePromise)&&(e._geocodePromise.cancel=!0,e._geocodePromise=void 0)}function d(e){return/^\s*$/.test(e)}function f(e){C.a.getObservable(e,"_suggestions").removeAll()}function p(e){if(e.autoComplete){var t=e._searchText;if(f(e),!d(t)){var i=S.a.resolve([]);e._geocoderServices.forEach(function(e){i=i.then(function(i){return i.length>=5?i:e.geocode(t,y.a.AUTOCOMPLETE).then(function(e){return i=i.concat(e)})})}),i.then(function(t){for(var i=e._suggestions,n=0;n<t.length;n++)i.push(t[n])})}}}var m=i("vhwl"),g=i("5A4e"),_=i("xC6Q"),v=i("PzDm"),b=i("W6xh"),y=i("lVfo"),O=i("WUNo"),w=i("fq+p"),x=i("Xjii"),E=i("Wq1U"),T=i("QOpN"),A=i("Be4x"),C=i("PKIF"),S=i("S7OP"),j=i("E9RU"),P=i("k6tp"),D=1e3;Object.defineProperties(n.prototype,{complete:{get:function(){return this._complete}},scene:{get:function(){return this._scene}},search:{get:function(){return this._searchCommand}},selectedSuggestion:{get:function(){return this._selectedSuggestion}},suggestions:{get:function(){return this._suggestions}}}),n.prototype.destroy=function(){this._suggestionSubscription.dispose()},n.flyToDestination=s,n._updateSearchSuggestions=p,n._adjustSuggestionsScroll=u,t.a=n},zlN4:function(e,t,i){"use strict";function n(e){this.id=e,this.vertexFormat=void 0,this.rectangle=void 0,this.height=void 0,this.extrudedHeight=void 0,this.granularity=void 0,this.stRotation=void 0,this.rotation=void 0,this.offsetAttribute=void 0}function a(e,t){j.a.call(this,{entity:e,scene:t,geometryOptions:new n(e),geometryPropertyName:"rectangle",observedPropertyNames:["availability","rectangle"]}),this._onEntityPropertyChanged(e,"rectangle",e.rectangle,void 0)}function r(e,t,i){C.a.call(this,e,t,i)}var o=i("DPkk"),s=i("Jj+J"),c=i("I3GD"),l=i("5F4X"),u=i("6F0S"),h=i("devy"),d=i("xC6Q"),f=i("PzDm"),p=i("2kyc"),m=i("y6fO"),g=i("izcu"),_=i("DsDe"),v=i("wpHJ"),b=i("Wq1U"),y=i("kJ95"),O=i("Zw1C"),w=i("zSqc"),x=i("JIo7"),E=i("xEUC"),T=i("BOJj"),A=i("I5FW"),C=i("5s/y"),S=i("rVBE"),j=i("ekBq"),P=i("uhjI"),D=new u.a,I=s.a.ZERO,R=new s.a,M=new b.a,L=new b.a,N=new c.a;Object(d.a)(Object.create)&&(a.prototype=Object.create(j.a.prototype),a.prototype.constructor=a),a.prototype.createFillGeometryInstance=function(e){if(l.a.defined("time",e),!this._fillEnabled)throw new f.a("This instance does not represent a filled geometry.");var t=this._entity,i=t.isAvailable(e),n={show:new w.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._fillProperty.getValue(e)),distanceDisplayCondition:p.a.fromDistanceDisplayCondition(this._distanceDisplayConditionProperty.getValue(e)),offset:void 0,color:void 0};if(this._materialProperty instanceof A.a){var a;Object(d.a)(this._materialProperty.color)&&(this._materialProperty.color.isConstant||i)&&(a=this._materialProperty.color.getValue(e,D)),Object(d.a)(a)||(a=u.a.WHITE),n.color=h.a.fromColor(a)}return Object(d.a)(this._options.offsetAttribute)&&(n.offset=v.a.fromCartesian3(P.a.getValueOrDefault(this._terrainOffsetProperty,e,I,R))),new g.a({id:t,geometry:new y.a(this._options),attributes:n})},a.prototype.createOutlineGeometryInstance=function(e){if(l.a.defined("time",e),!this._outlineEnabled)throw new f.a("This instance does not represent an outlined geometry.");var t=this._entity,i=t.isAvailable(e),n=P.a.getValueOrDefault(this._outlineColorProperty,e,u.a.BLACK,D),a=this._distanceDisplayConditionProperty.getValue(e),r={show:new w.a(i&&t.isShowing&&this._showProperty.getValue(e)&&this._showOutlineProperty.getValue(e)),color:h.a.fromColor(n),distanceDisplayCondition:p.a.fromDistanceDisplayCondition(a),offset:void 0};return Object(d.a)(this._options.offsetAttribute)&&(r.offset=v.a.fromCartesian3(P.a.getValueOrDefault(this._terrainOffsetProperty,e,I,R))),new g.a({id:t,geometry:new O.a(this._options),attributes:r})},a.prototype._computeCenter=function(e,t){var i=P.a.getValueOrUndefined(this._entity.rectangle.coordinates,e,L);if(Object(d.a)(i)){var n=b.a.center(i,N);return c.a.toCartesian(n,m.a.WGS84,t)}},a.prototype._isHidden=function(e,t){return!Object(d.a)(t.coordinates)||S.a.prototype._isHidden.call(this,e,t)},a.prototype._isDynamic=function(e,t){return!t.coordinates.isConstant||!P.a.isConstant(t.height)||!P.a.isConstant(t.extrudedHeight)||!P.a.isConstant(t.granularity)||!P.a.isConstant(t.stRotation)||!P.a.isConstant(t.rotation)||!P.a.isConstant(t.outlineWidth)||!P.a.isConstant(t.zIndex)||this._onTerrain&&!P.a.isConstant(this._materialProperty)&&!(this._materialProperty instanceof A.a)},a.prototype._setStaticOptions=function(e,t){var i=this._materialProperty instanceof A.a,n=P.a.getValueOrUndefined(t.height,_.a.MINIMUM_VALUE),a=P.a.getValueOrDefault(t.heightReference,_.a.MINIMUM_VALUE,x.a.NONE),r=P.a.getValueOrUndefined(t.extrudedHeight,_.a.MINIMUM_VALUE),s=P.a.getValueOrDefault(t.extrudedHeightReference,_.a.MINIMUM_VALUE,x.a.NONE);Object(d.a)(r)&&!Object(d.a)(n)&&(n=0);var c=this._options;c.vertexFormat=i?T.a.VERTEX_FORMAT:E.a.MaterialSupport.TEXTURED.vertexFormat,c.rectangle=t.coordinates.getValue(_.a.MINIMUM_VALUE,c.rectangle),c.granularity=P.a.getValueOrUndefined(t.granularity,_.a.MINIMUM_VALUE),c.stRotation=P.a.getValueOrUndefined(t.stRotation,_.a.MINIMUM_VALUE),c.rotation=P.a.getValueOrUndefined(t.rotation,_.a.MINIMUM_VALUE),c.offsetAttribute=j.a.computeGeometryOffsetAttribute(n,a,r,s),c.height=j.a.getGeometryHeight(n,a),r=j.a.getGeometryExtrudedHeight(r,s),r===j.a.CLAMP_TO_GROUND&&(r=o.a.getMinimumMaximumHeights(y.a.computeRectangle(c,M)).minimumTerrainHeight),c.extrudedHeight=r},a.DynamicGeometryUpdater=r,Object(d.a)(Object.create)&&(r.prototype=Object.create(C.a.prototype),r.prototype.constructor=r),r.prototype._isHidden=function(e,t,i){return!Object(d.a)(this._options.rectangle)||C.a.prototype._isHidden.call(this,e,t,i)},r.prototype._setOptions=function(e,t,i){var n=this._options,a=P.a.getValueOrUndefined(t.height,i),r=P.a.getValueOrDefault(t.heightReference,i,x.a.NONE),s=P.a.getValueOrUndefined(t.extrudedHeight,i),c=P.a.getValueOrDefault(t.extrudedHeightReference,i,x.a.NONE);Object(d.a)(s)&&!Object(d.a)(a)&&(a=0),n.rectangle=P.a.getValueOrUndefined(t.coordinates,i,n.rectangle),n.granularity=P.a.getValueOrUndefined(t.granularity,i),n.stRotation=P.a.getValueOrUndefined(t.stRotation,i),n.rotation=P.a.getValueOrUndefined(t.rotation,i),n.offsetAttribute=j.a.computeGeometryOffsetAttribute(a,r,s,c),n.height=j.a.getGeometryHeight(a,r),s=j.a.getGeometryExtrudedHeight(s,c),s===j.a.CLAMP_TO_GROUND&&(s=o.a.getMinimumMaximumHeights(y.a.computeRectangle(n,M)).minimumTerrainHeight),n.extrudedHeight=s},t.a=a},zoG5:function(e,t,i){"use strict";var n,a=i("xC6Q");"undefined"!=typeof cancelAnimationFrame&&(n=cancelAnimationFrame),function(){if(!Object(a.a)(n)&&"undefined"!=typeof window)for(var e=["webkit","moz","ms","o"],t=0,i=e.length;t<i&&!Object(a.a)(n);)n=window[e[t]+"CancelAnimationFrame"],Object(a.a)(n)||(n=window[e[t]+"CancelRequestAnimationFrame"]),++t;Object(a.a)(n)||(n=clearTimeout)}()},zpvC:function(e,t,i){"use strict";t.a="/**\n * 0.001\n *\n * @name czm_epsilon3\n * @glslConstant\n */\nconst float czm_epsilon3 = 0.001;\n"},zrBd:function(e,t,i){"use strict";function n(){}function a(e,t){var i="runtime."+Object.keys(e.createdBufferViews).length,n=e.buffers,a=Object.keys(n).length;return n[a]=t,e.createdBufferViews[i]={buffer:a,byteOffset:0,byteLength:t.byteLength},i}function r(e,t,i){var n=t._loadResources,r=a(n,e);return n.vertexBuffersToCreate.enqueue(r),r}function o(e,t,i){var n=e.typedArray,r=t._loadResources,o=a(r,n);return r.indexBuffersToCreate.enqueue({id:o,componentType:l.a.fromTypedArray(n)}),{bufferViewId:o,numberOfIndices:e.numberOfIndices}}function s(e,t,i,a){if(n._taskProcessorReady){var s=i.primitivesToDecode.peek();if(Object(u.a)(s)){var c=e.scheduleTask(s,[s.array.buffer]);if(Object(u.a)(c))return i.activeDecodingTasks++,i.primitivesToDecode.dequeue(),c.then(function(e){i.activeDecodingTasks--;var n=o(e.indexArray,t,a),c={},l=e.attributeData;for(var u in l)if(l.hasOwnProperty(u)){var h=l[u],d=h.array,f=r(d,t,a),p=h.data;p.bufferView=f,c[u]=p}t._decodedData[s.mesh+".primitive."+s.primitive]={bufferView:n.bufferViewId,numberOfIndices:n.numberOfIndices,attributes:c}})}}}var c=i("Xku3"),l=i("YCZg"),u=i("xC6Q"),h=i("gjtw"),d=i("JlUm"),f=i("FJg6"),p=i("S7OP");n._maxDecodingConcurrency=Math.max(h.a.hardwareConcurrency-1,1),n._decoderTaskProcessor=void 0,n._taskProcessorReady=!1,n._getDecoderTaskProcessor=function(){if(!Object(u.a)(n._decoderTaskProcessor)){var e=new d.a("decodeDraco",n._maxDecodingConcurrency);e.initWebAssemblyModule({modulePath:"ThirdParty/Workers/draco_wasm_wrapper.js",wasmBinaryFile:"ThirdParty/draco_decoder.wasm",fallbackModulePath:"ThirdParty/Workers/draco_decoder.js"}).then(function(){n._taskProcessorReady=!0}),n._decoderTaskProcessor=e}return n._decoderTaskProcessor},n.hasExtension=function(e){return Object(u.a)(e.extensionsRequired.KHR_draco_mesh_compression)||Object(u.a)(e.extensionsUsed.KHR_draco_mesh_compression)},n._decodedModelResourceCache=void 0,n.parse=function(e,t){if(n.hasExtension(e)){var i=e._loadResources,a=e.cacheKey;if(Object(u.a)(a)){Object(u.a)(n._decodedModelResourceCache)||(Object(u.a)(t.cache.modelDecodingCache)||(t.cache.modelDecodingCache={}),n._decodedModelResourceCache=t.cache.modelDecodingCache);var r=n._decodedModelResourceCache[a];if(Object(u.a)(r))return r.count++,void(i.pendingDecodingCache=!0)}var o=e._dequantizeInShader,s=e.gltf;f.a.mesh(s,function(e,t){f.a.meshPrimitive(e,function(e,n){if(Object(u.a)(e.extensions)){var a=e.extensions.KHR_draco_mesh_compression;if(Object(u.a)(a)){var r=s.bufferViews[a.bufferView],l=Object(c.a)(s.buffers[r.buffer].extras._pipeline.source,r.byteOffset,r.byteOffset+r.byteLength);i.primitivesToDecode.enqueue({mesh:t,primitive:n,array:l,bufferView:r,compressedAttributes:a.attributes,dequantizeInShader:o})}}})})}},n.decodeModel=function(e,t){if(!n.hasExtension(e))return p.a.resolve();var i=e._loadResources,a=e.cacheKey;if(Object(u.a)(a)&&Object(u.a)(n._decodedModelResourceCache)){var r=n._decodedModelResourceCache[a];if(Object(u.a)(r)&&i.pendingDecodingCache)return Object(p.a)(r.ready,function(){e._decodedData=r.data,i.pendingDecodingCache=!1});n._decodedModelResourceCache[a]={ready:!1,count:1,data:void 0}}if(0===i.primitivesToDecode.length)return p.a.resolve();for(var o=n._getDecoderTaskProcessor(),c=[],l=s(o,e,i,t);Object(u.a)(l);)c.push(l),l=s(o,e,i,t);return p.a.all(c)},n.decodePointCloud=function(e){var t=n._getDecoderTaskProcessor();if(n._taskProcessorReady)return t.scheduleTask(e,[e.buffer.buffer])},n.cacheDataForModel=function(e){var t=e.cacheKey;if(Object(u.a)(t)&&Object(u.a)(n._decodedModelResourceCache)){var i=n._decodedModelResourceCache[t];Object(u.a)(i)&&(i.ready=!0,i.data=e._decodedData)}},n.destroyCachedDataForModel=function(e){var t=e.cacheKey;if(Object(u.a)(t)&&Object(u.a)(n._decodedModelResourceCache)){var i=n._decodedModelResourceCache[t];Object(u.a)(i)&&0==--i.count&&delete n._decodedModelResourceCache[t]}},t.a=n}});
//# sourceMappingURL=vendor.1aca57c2c2709ff69328.js.map